(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const h of o)if(h.type==="childList")for(const d of h.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const h={};return o.integrity&&(h.integrity=o.integrity),o.referrerPolicy&&(h.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?h.credentials="include":o.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function r(o){if(o.ep)return;o.ep=!0;const h=i(o);fetch(o.href,h)}})();function Q0(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var If={exports:{}},Ql={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ty;function mE(){if(Ty)return Ql;Ty=1;var a=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(r,o,h){var d=null;if(h!==void 0&&(d=""+h),o.key!==void 0&&(d=""+o.key),"key"in o){h={};for(var p in o)p!=="key"&&(h[p]=o[p])}else h=o;return o=h.ref,{$$typeof:a,type:r,key:d,ref:o!==void 0?o:null,props:h}}return Ql.Fragment=e,Ql.jsx=i,Ql.jsxs=i,Ql}var xy;function gE(){return xy||(xy=1,If.exports=mE()),If.exports}var b=gE(),Nf={exports:{}},Nt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sy;function pE(){if(Sy)return Nt;Sy=1;var a=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),C=Symbol.iterator;function L(M){return M===null||typeof M!="object"?null:(M=C&&M[C]||M["@@iterator"],typeof M=="function"?M:null)}var Q={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},$=Object.assign,k={};function z(M,tt,dt){this.props=M,this.context=tt,this.refs=k,this.updater=dt||Q}z.prototype.isReactComponent={},z.prototype.setState=function(M,tt){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,tt,"setState")},z.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function W(){}W.prototype=z.prototype;function ot(M,tt,dt){this.props=M,this.context=tt,this.refs=k,this.updater=dt||Q}var pt=ot.prototype=new W;pt.constructor=ot,$(pt,z.prototype),pt.isPureReactComponent=!0;var yt=Array.isArray;function xt(){}var R={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function D(M,tt,dt){var mt=dt.ref;return{$$typeof:a,type:M,key:tt,ref:mt!==void 0?mt:null,props:dt}}function I(M,tt){return D(M.type,tt,M.props)}function V(M){return typeof M=="object"&&M!==null&&M.$$typeof===a}function U(M){var tt={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(dt){return tt[dt]})}var w=/\/+/g;function Gt(M,tt){return typeof M=="object"&&M!==null&&M.key!=null?U(""+M.key):tt.toString(36)}function Zt(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(xt,xt):(M.status="pending",M.then(function(tt){M.status==="pending"&&(M.status="fulfilled",M.value=tt)},function(tt){M.status==="pending"&&(M.status="rejected",M.reason=tt)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function Z(M,tt,dt,mt,O){var X=typeof M;(X==="undefined"||X==="boolean")&&(M=null);var rt=!1;if(M===null)rt=!0;else switch(X){case"bigint":case"string":case"number":rt=!0;break;case"object":switch(M.$$typeof){case a:case e:rt=!0;break;case T:return rt=M._init,Z(rt(M._payload),tt,dt,mt,O)}}if(rt)return O=O(M),rt=mt===""?"."+Gt(M,0):mt,yt(O)?(dt="",rt!=null&&(dt=rt.replace(w,"$&/")+"/"),Z(O,tt,dt,"",function(Ne){return Ne})):O!=null&&(V(O)&&(O=I(O,dt+(O.key==null||M&&M.key===O.key?"":(""+O.key).replace(w,"$&/")+"/")+rt)),tt.push(O)),1;rt=0;var bt=mt===""?".":mt+":";if(yt(M))for(var ut=0;ut<M.length;ut++)mt=M[ut],X=bt+Gt(mt,ut),rt+=Z(mt,tt,dt,X,O);else if(ut=L(M),typeof ut=="function")for(M=ut.call(M),ut=0;!(mt=M.next()).done;)mt=mt.value,X=bt+Gt(mt,ut++),rt+=Z(mt,tt,dt,X,O);else if(X==="object"){if(typeof M.then=="function")return Z(Zt(M),tt,dt,mt,O);throw tt=String(M),Error("Objects are not valid as a React child (found: "+(tt==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":tt)+"). If you meant to render a collection of children, use an array instead.")}return rt}function ct(M,tt,dt){if(M==null)return M;var mt=[],O=0;return Z(M,mt,"","",function(X){return tt.call(dt,X,O++)}),mt}function Tt(M){if(M._status===-1){var tt=M._result;tt=tt(),tt.then(function(dt){(M._status===0||M._status===-1)&&(M._status=1,M._result=dt)},function(dt){(M._status===0||M._status===-1)&&(M._status=2,M._result=dt)}),M._status===-1&&(M._status=0,M._result=tt)}if(M._status===1)return M._result.default;throw M._result}var Ot=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var tt=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(tt))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},Ht={map:ct,forEach:function(M,tt,dt){ct(M,function(){tt.apply(this,arguments)},dt)},count:function(M){var tt=0;return ct(M,function(){tt++}),tt},toArray:function(M){return ct(M,function(tt){return tt})||[]},only:function(M){if(!V(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return Nt.Activity=S,Nt.Children=Ht,Nt.Component=z,Nt.Fragment=i,Nt.Profiler=o,Nt.PureComponent=ot,Nt.StrictMode=r,Nt.Suspense=g,Nt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,Nt.__COMPILER_RUNTIME={__proto__:null,c:function(M){return R.H.useMemoCache(M)}},Nt.cache=function(M){return function(){return M.apply(null,arguments)}},Nt.cacheSignal=function(){return null},Nt.cloneElement=function(M,tt,dt){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var mt=$({},M.props),O=M.key;if(tt!=null)for(X in tt.key!==void 0&&(O=""+tt.key),tt)!A.call(tt,X)||X==="key"||X==="__self"||X==="__source"||X==="ref"&&tt.ref===void 0||(mt[X]=tt[X]);var X=arguments.length-2;if(X===1)mt.children=dt;else if(1<X){for(var rt=Array(X),bt=0;bt<X;bt++)rt[bt]=arguments[bt+2];mt.children=rt}return D(M.type,O,mt)},Nt.createContext=function(M){return M={$$typeof:d,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:h,_context:M},M},Nt.createElement=function(M,tt,dt){var mt,O={},X=null;if(tt!=null)for(mt in tt.key!==void 0&&(X=""+tt.key),tt)A.call(tt,mt)&&mt!=="key"&&mt!=="__self"&&mt!=="__source"&&(O[mt]=tt[mt]);var rt=arguments.length-2;if(rt===1)O.children=dt;else if(1<rt){for(var bt=Array(rt),ut=0;ut<rt;ut++)bt[ut]=arguments[ut+2];O.children=bt}if(M&&M.defaultProps)for(mt in rt=M.defaultProps,rt)O[mt]===void 0&&(O[mt]=rt[mt]);return D(M,X,O)},Nt.createRef=function(){return{current:null}},Nt.forwardRef=function(M){return{$$typeof:p,render:M}},Nt.isValidElement=V,Nt.lazy=function(M){return{$$typeof:T,_payload:{_status:-1,_result:M},_init:Tt}},Nt.memo=function(M,tt){return{$$typeof:v,type:M,compare:tt===void 0?null:tt}},Nt.startTransition=function(M){var tt=R.T,dt={};R.T=dt;try{var mt=M(),O=R.S;O!==null&&O(dt,mt),typeof mt=="object"&&mt!==null&&typeof mt.then=="function"&&mt.then(xt,Ot)}catch(X){Ot(X)}finally{tt!==null&&dt.types!==null&&(tt.types=dt.types),R.T=tt}},Nt.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},Nt.use=function(M){return R.H.use(M)},Nt.useActionState=function(M,tt,dt){return R.H.useActionState(M,tt,dt)},Nt.useCallback=function(M,tt){return R.H.useCallback(M,tt)},Nt.useContext=function(M){return R.H.useContext(M)},Nt.useDebugValue=function(){},Nt.useDeferredValue=function(M,tt){return R.H.useDeferredValue(M,tt)},Nt.useEffect=function(M,tt){return R.H.useEffect(M,tt)},Nt.useEffectEvent=function(M){return R.H.useEffectEvent(M)},Nt.useId=function(){return R.H.useId()},Nt.useImperativeHandle=function(M,tt,dt){return R.H.useImperativeHandle(M,tt,dt)},Nt.useInsertionEffect=function(M,tt){return R.H.useInsertionEffect(M,tt)},Nt.useLayoutEffect=function(M,tt){return R.H.useLayoutEffect(M,tt)},Nt.useMemo=function(M,tt){return R.H.useMemo(M,tt)},Nt.useOptimistic=function(M,tt){return R.H.useOptimistic(M,tt)},Nt.useReducer=function(M,tt,dt){return R.H.useReducer(M,tt,dt)},Nt.useRef=function(M){return R.H.useRef(M)},Nt.useState=function(M){return R.H.useState(M)},Nt.useSyncExternalStore=function(M,tt,dt){return R.H.useSyncExternalStore(M,tt,dt)},Nt.useTransition=function(){return R.H.useTransition()},Nt.version="19.2.3",Nt}var Ay;function pd(){return Ay||(Ay=1,Nf.exports=pE()),Nf.exports}var lt=pd();const Y0=Q0(lt);var Vf={exports:{}},Yl={},Of={exports:{}},Mf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wy;function yE(){return wy||(wy=1,(function(a){function e(Z,ct){var Tt=Z.length;Z.push(ct);t:for(;0<Tt;){var Ot=Tt-1>>>1,Ht=Z[Ot];if(0<o(Ht,ct))Z[Ot]=ct,Z[Tt]=Ht,Tt=Ot;else break t}}function i(Z){return Z.length===0?null:Z[0]}function r(Z){if(Z.length===0)return null;var ct=Z[0],Tt=Z.pop();if(Tt!==ct){Z[0]=Tt;t:for(var Ot=0,Ht=Z.length,M=Ht>>>1;Ot<M;){var tt=2*(Ot+1)-1,dt=Z[tt],mt=tt+1,O=Z[mt];if(0>o(dt,Tt))mt<Ht&&0>o(O,dt)?(Z[Ot]=O,Z[mt]=Tt,Ot=mt):(Z[Ot]=dt,Z[tt]=Tt,Ot=tt);else if(mt<Ht&&0>o(O,Tt))Z[Ot]=O,Z[mt]=Tt,Ot=mt;else break t}}return ct}function o(Z,ct){var Tt=Z.sortIndex-ct.sortIndex;return Tt!==0?Tt:Z.id-ct.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;a.unstable_now=function(){return h.now()}}else{var d=Date,p=d.now();a.unstable_now=function(){return d.now()-p}}var g=[],v=[],T=1,S=null,C=3,L=!1,Q=!1,$=!1,k=!1,z=typeof setTimeout=="function"?setTimeout:null,W=typeof clearTimeout=="function"?clearTimeout:null,ot=typeof setImmediate<"u"?setImmediate:null;function pt(Z){for(var ct=i(v);ct!==null;){if(ct.callback===null)r(v);else if(ct.startTime<=Z)r(v),ct.sortIndex=ct.expirationTime,e(g,ct);else break;ct=i(v)}}function yt(Z){if($=!1,pt(Z),!Q)if(i(g)!==null)Q=!0,xt||(xt=!0,U());else{var ct=i(v);ct!==null&&Zt(yt,ct.startTime-Z)}}var xt=!1,R=-1,A=5,D=-1;function I(){return k?!0:!(a.unstable_now()-D<A)}function V(){if(k=!1,xt){var Z=a.unstable_now();D=Z;var ct=!0;try{t:{Q=!1,$&&($=!1,W(R),R=-1),L=!0;var Tt=C;try{e:{for(pt(Z),S=i(g);S!==null&&!(S.expirationTime>Z&&I());){var Ot=S.callback;if(typeof Ot=="function"){S.callback=null,C=S.priorityLevel;var Ht=Ot(S.expirationTime<=Z);if(Z=a.unstable_now(),typeof Ht=="function"){S.callback=Ht,pt(Z),ct=!0;break e}S===i(g)&&r(g),pt(Z)}else r(g);S=i(g)}if(S!==null)ct=!0;else{var M=i(v);M!==null&&Zt(yt,M.startTime-Z),ct=!1}}break t}finally{S=null,C=Tt,L=!1}ct=void 0}}finally{ct?U():xt=!1}}}var U;if(typeof ot=="function")U=function(){ot(V)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,Gt=w.port2;w.port1.onmessage=V,U=function(){Gt.postMessage(null)}}else U=function(){z(V,0)};function Zt(Z,ct){R=z(function(){Z(a.unstable_now())},ct)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(Z){Z.callback=null},a.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<Z?Math.floor(1e3/Z):5},a.unstable_getCurrentPriorityLevel=function(){return C},a.unstable_next=function(Z){switch(C){case 1:case 2:case 3:var ct=3;break;default:ct=C}var Tt=C;C=ct;try{return Z()}finally{C=Tt}},a.unstable_requestPaint=function(){k=!0},a.unstable_runWithPriority=function(Z,ct){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var Tt=C;C=Z;try{return ct()}finally{C=Tt}},a.unstable_scheduleCallback=function(Z,ct,Tt){var Ot=a.unstable_now();switch(typeof Tt=="object"&&Tt!==null?(Tt=Tt.delay,Tt=typeof Tt=="number"&&0<Tt?Ot+Tt:Ot):Tt=Ot,Z){case 1:var Ht=-1;break;case 2:Ht=250;break;case 5:Ht=1073741823;break;case 4:Ht=1e4;break;default:Ht=5e3}return Ht=Tt+Ht,Z={id:T++,callback:ct,priorityLevel:Z,startTime:Tt,expirationTime:Ht,sortIndex:-1},Tt>Ot?(Z.sortIndex=Tt,e(v,Z),i(g)===null&&Z===i(v)&&($?(W(R),R=-1):$=!0,Zt(yt,Tt-Ot))):(Z.sortIndex=Ht,e(g,Z),Q||L||(Q=!0,xt||(xt=!0,U()))),Z},a.unstable_shouldYield=I,a.unstable_wrapCallback=function(Z){var ct=C;return function(){var Tt=C;C=ct;try{return Z.apply(this,arguments)}finally{C=Tt}}}})(Mf)),Mf}var Cy;function vE(){return Cy||(Cy=1,Of.exports=yE()),Of.exports}var jf={exports:{}},cn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ry;function _E(){if(Ry)return cn;Ry=1;var a=pd();function e(g){var v="https://react.dev/errors/"+g;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)v+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+g+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function h(g,v,T){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:S==null?null:""+S,children:g,containerInfo:v,implementation:T}}var d=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(g,v){if(g==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return cn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,cn.createPortal=function(g,v){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(e(299));return h(g,v,null,T)},cn.flushSync=function(g){var v=d.T,T=r.p;try{if(d.T=null,r.p=2,g)return g()}finally{d.T=v,r.p=T,r.d.f()}},cn.preconnect=function(g,v){typeof g=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,r.d.C(g,v))},cn.prefetchDNS=function(g){typeof g=="string"&&r.d.D(g)},cn.preinit=function(g,v){if(typeof g=="string"&&v&&typeof v.as=="string"){var T=v.as,S=p(T,v.crossOrigin),C=typeof v.integrity=="string"?v.integrity:void 0,L=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;T==="style"?r.d.S(g,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:S,integrity:C,fetchPriority:L}):T==="script"&&r.d.X(g,{crossOrigin:S,integrity:C,fetchPriority:L,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},cn.preinitModule=function(g,v){if(typeof g=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var T=p(v.as,v.crossOrigin);r.d.M(g,{crossOrigin:T,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&r.d.M(g)},cn.preload=function(g,v){if(typeof g=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var T=v.as,S=p(T,v.crossOrigin);r.d.L(g,T,{crossOrigin:S,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},cn.preloadModule=function(g,v){if(typeof g=="string")if(v){var T=p(v.as,v.crossOrigin);r.d.m(g,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:T,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else r.d.m(g)},cn.requestFormReset=function(g){r.d.r(g)},cn.unstable_batchedUpdates=function(g,v){return g(v)},cn.useFormState=function(g,v,T){return d.H.useFormState(g,v,T)},cn.useFormStatus=function(){return d.H.useHostTransitionStatus()},cn.version="19.2.3",cn}var Dy;function bE(){if(Dy)return jf.exports;Dy=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(e){console.error(e)}}return a(),jf.exports=_E(),jf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Iy;function EE(){if(Iy)return Yl;Iy=1;var a=vE(),e=pd(),i=bE();function r(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function h(t){var n=t,s=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(s=n.return),t=n.return;while(t)}return n.tag===3?s:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function p(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function g(t){if(h(t)!==t)throw Error(r(188))}function v(t){var n=t.alternate;if(!n){if(n=h(t),n===null)throw Error(r(188));return n!==t?null:t}for(var s=t,l=n;;){var c=s.return;if(c===null)break;var f=c.alternate;if(f===null){if(l=c.return,l!==null){s=l;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===s)return g(c),t;if(f===l)return g(c),n;f=f.sibling}throw Error(r(188))}if(s.return!==l.return)s=c,l=f;else{for(var y=!1,E=c.child;E;){if(E===s){y=!0,s=c,l=f;break}if(E===l){y=!0,l=c,s=f;break}E=E.sibling}if(!y){for(E=f.child;E;){if(E===s){y=!0,s=f,l=c;break}if(E===l){y=!0,l=f,s=c;break}E=E.sibling}if(!y)throw Error(r(189))}}if(s.alternate!==l)throw Error(r(190))}if(s.tag!==3)throw Error(r(188));return s.stateNode.current===s?t:n}function T(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=T(t),n!==null)return n;t=t.sibling}return null}var S=Object.assign,C=Symbol.for("react.element"),L=Symbol.for("react.transitional.element"),Q=Symbol.for("react.portal"),$=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),z=Symbol.for("react.profiler"),W=Symbol.for("react.consumer"),ot=Symbol.for("react.context"),pt=Symbol.for("react.forward_ref"),yt=Symbol.for("react.suspense"),xt=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),D=Symbol.for("react.activity"),I=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function U(t){return t===null||typeof t!="object"?null:(t=V&&t[V]||t["@@iterator"],typeof t=="function"?t:null)}var w=Symbol.for("react.client.reference");function Gt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===w?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case $:return"Fragment";case z:return"Profiler";case k:return"StrictMode";case yt:return"Suspense";case xt:return"SuspenseList";case D:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case Q:return"Portal";case ot:return t.displayName||"Context";case W:return(t._context.displayName||"Context")+".Consumer";case pt:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case R:return n=t.displayName||null,n!==null?n:Gt(t.type)||"Memo";case A:n=t._payload,t=t._init;try{return Gt(t(n))}catch{}}return null}var Zt=Array.isArray,Z=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ct=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Tt={pending:!1,data:null,method:null,action:null},Ot=[],Ht=-1;function M(t){return{current:t}}function tt(t){0>Ht||(t.current=Ot[Ht],Ot[Ht]=null,Ht--)}function dt(t,n){Ht++,Ot[Ht]=t.current,t.current=n}var mt=M(null),O=M(null),X=M(null),rt=M(null);function bt(t,n){switch(dt(X,n),dt(O,t),dt(mt,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?Gp(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=Gp(n),t=Qp(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}tt(mt),dt(mt,t)}function ut(){tt(mt),tt(O),tt(X)}function Ne(t){t.memoizedState!==null&&dt(rt,t);var n=mt.current,s=Qp(n,t.type);n!==s&&(dt(O,t),dt(mt,s))}function Ve(t){O.current===t&&(tt(mt),tt(O)),rt.current===t&&(tt(rt),ql._currentValue=Tt)}var ls,os;function kn(t){if(ls===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);ls=n&&n[1]||"",os=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ls+t+os}var Ws=!1;function ki(t,n){if(!t||Ws)return"";Ws=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var it=function(){throw Error()};if(Object.defineProperty(it.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(it,[])}catch(K){var G=K}Reflect.construct(t,[],it)}else{try{it.call()}catch(K){G=K}t.call(it.prototype)}}else{try{throw Error()}catch(K){G=K}(it=t())&&typeof it.catch=="function"&&it.catch(function(){})}}catch(K){if(K&&G&&typeof K.stack=="string")return[K.stack,G.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),y=f[0],E=f[1];if(y&&E){var N=y.split(`
`),F=E.split(`
`);for(c=l=0;l<N.length&&!N[l].includes("DetermineComponentFrameRoot");)l++;for(;c<F.length&&!F[c].includes("DetermineComponentFrameRoot");)c++;if(l===N.length||c===F.length)for(l=N.length-1,c=F.length-1;1<=l&&0<=c&&N[l]!==F[c];)c--;for(;1<=l&&0<=c;l--,c--)if(N[l]!==F[c]){if(l!==1||c!==1)do if(l--,c--,0>c||N[l]!==F[c]){var J=`
`+N[l].replace(" at new "," at ");return t.displayName&&J.includes("<anonymous>")&&(J=J.replace("<anonymous>",t.displayName)),J}while(1<=l&&0<=c);break}}}finally{Ws=!1,Error.prepareStackTrace=s}return(s=t?t.displayName||t.name:"")?kn(s):""}function ta(t,n){switch(t.tag){case 26:case 27:case 5:return kn(t.type);case 16:return kn("Lazy");case 13:return t.child!==n&&n!==null?kn("Suspense Fallback"):kn("Suspense");case 19:return kn("SuspenseList");case 0:case 15:return ki(t.type,!1);case 11:return ki(t.type.render,!1);case 1:return ki(t.type,!0);case 31:return kn("Activity");default:return""}}function ea(t){try{var n="",s=null;do n+=ta(t,s),s=t,t=t.return;while(t);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var he=Object.prototype.hasOwnProperty,xe=a.unstable_scheduleCallback,ci=a.unstable_cancelCallback,Kr=a.unstable_shouldYield,za=a.unstable_requestPaint,we=a.unstable_now,hi=a.unstable_getCurrentPriorityLevel,us=a.unstable_ImmediatePriority,q=a.unstable_UserBlockingPriority,et=a.unstable_NormalPriority,ht=a.unstable_LowPriority,Rt=a.unstable_IdlePriority,Wt=a.log,de=a.unstable_setDisableYieldValue,me=null,te=null;function Je(t){if(typeof Wt=="function"&&de(t),te&&typeof te.setStrictMode=="function")try{te.setStrictMode(me,t)}catch{}}var ee=Math.clz32?Math.clz32:ia,na=Math.log,zi=Math.LN2;function ia(t){return t>>>=0,t===0?32:31-(na(t)/zi|0)|0}var _t=256,fi=262144,be=4194304;function An(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function wn(t,n,s){var l=t.pendingLanes;if(l===0)return 0;var c=0,f=t.suspendedLanes,y=t.pingedLanes;t=t.warmLanes;var E=l&134217727;return E!==0?(l=E&~f,l!==0?c=An(l):(y&=E,y!==0?c=An(y):s||(s=E&~t,s!==0&&(c=An(s))))):(E=l&~f,E!==0?c=An(E):y!==0?c=An(y):s||(s=l&~t,s!==0&&(c=An(s)))),c===0?0:n!==0&&n!==c&&(n&f)===0&&(f=c&-c,s=n&-n,f>=s||f===32&&(s&4194048)!==0)?n:c}function pn(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Ua(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function sa(){var t=be;return be<<=1,(be&62914560)===0&&(be=4194304),t}function Cn(t){for(var n=[],s=0;31>s;s++)n.push(t);return n}function di(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Ba(t,n,s,l,c,f){var y=t.pendingLanes;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=s,t.entangledLanes&=s,t.errorRecoveryDisabledLanes&=s,t.shellSuspendCounter=0;var E=t.entanglements,N=t.expirationTimes,F=t.hiddenUpdates;for(s=y&~s;0<s;){var J=31-ee(s),it=1<<J;E[J]=0,N[J]=-1;var G=F[J];if(G!==null)for(F[J]=null,J=0;J<G.length;J++){var K=G[J];K!==null&&(K.lane&=-536870913)}s&=~it}l!==0&&Qe(t,l,0),f!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=f&~(y&~n))}function Qe(t,n,s){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-ee(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|s&261930}function on(t,n){var s=t.entangledLanes|=n;for(t=t.entanglements;s;){var l=31-ee(s),c=1<<l;c&n|t[l]&n&&(t[l]|=n),s&=~c}}function re(t,n){var s=n&-n;return s=(s&42)!==0?1:Ye(s),(s&(t.suspendedLanes|n))!==0?0:s}function Ye(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function un(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Pa(){var t=ct.p;return t!==0?t:(t=window.event,t===void 0?32:gy(t.type))}function Jn(t,n){var s=ct.p;try{return ct.p=t,n()}finally{ct.p=s}}var Wn=Math.random().toString(36).slice(2),Oe="__reactFiber$"+Wn,Ke="__reactProps$"+Wn,mi="__reactContainer$"+Wn,qa="__reactEvents$"+Wn,jc="__reactListeners$"+Wn,So="__reactHandles$"+Wn,Ao="__reactResources$"+Wn,gi="__reactMarker$"+Wn;function Ha(t){delete t[Oe],delete t[Ke],delete t[qa],delete t[jc],delete t[So]}function pi(t){var n=t[Oe];if(n)return n;for(var s=t.parentNode;s;){if(n=s[mi]||s[Oe]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(t=Wp(t);t!==null;){if(s=t[Oe])return s;t=Wp(t)}return n}t=s,s=t.parentNode}return null}function zn(t){if(t=t[Oe]||t[mi]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function Rn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(r(33))}function yi(t){var n=t[Ao];return n||(n=t[Ao]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Me(t){t[gi]=!0}var Xr=new Set,Zr={};function vi(t,n){_i(t,n),_i(t+"Capture",n)}function _i(t,n){for(Zr[t]=n,t=0;t<n.length;t++)Xr.add(n[t])}var $r=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Jr={},Wr={};function wo(t){return he.call(Wr,t)?!0:he.call(Jr,t)?!1:$r.test(t)?Wr[t]=!0:(Jr[t]=!0,!1)}function Fa(t,n,s){if(wo(n))if(s===null)t.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+s)}}function Dn(t,n,s){if(s===null)t.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+s)}}function je(t,n,s,l){if(l===null)t.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttributeNS(n,s,""+l)}}function Xe(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function cs(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function tl(t,n,s){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var c=l.get,f=l.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return c.call(this)},set:function(y){s=""+y,f.call(this,y)}}),Object.defineProperty(t,n,{enumerable:l.enumerable}),{getValue:function(){return s},setValue:function(y){s=""+y},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function ie(t){if(!t._valueTracker){var n=cs(t)?"checked":"value";t._valueTracker=tl(t,n,""+t[n])}}function aa(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var s=n.getValue(),l="";return t&&(l=cs(t)?t.checked?"true":"false":t.value),t=l,t!==s?(n.setValue(t),!0):!1}function bi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var ra=/[\n"\\]/g;function yn(t){return t.replace(ra,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Ga(t,n,s,l,c,f,y,E){t.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?t.type=y:t.removeAttribute("type"),n!=null?y==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Xe(n)):t.value!==""+Xe(n)&&(t.value=""+Xe(n)):y!=="submit"&&y!=="reset"||t.removeAttribute("value"),n!=null?el(t,y,Xe(n)):s!=null?el(t,y,Xe(s)):l!=null&&t.removeAttribute("value"),c==null&&f!=null&&(t.defaultChecked=!!f),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+Xe(E):t.removeAttribute("name")}function Co(t,n,s,l,c,f,y,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){ie(t);return}s=s!=null?""+Xe(s):"",n=n!=null?""+Xe(n):s,E||n===t.value||(t.value=n),t.defaultValue=n}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=E?t.checked:!!l,t.defaultChecked=!!l,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(t.name=y),ie(t)}function el(t,n,s){n==="number"&&bi(t.ownerDocument)===t||t.defaultValue===""+s||(t.defaultValue=""+s)}function hs(t,n,s,l){if(t=t.options,n){n={};for(var c=0;c<s.length;c++)n["$"+s[c]]=!0;for(s=0;s<t.length;s++)c=n.hasOwnProperty("$"+t[s].value),t[s].selected!==c&&(t[s].selected=c),c&&l&&(t[s].defaultSelected=!0)}else{for(s=""+Xe(s),n=null,c=0;c<t.length;c++){if(t[c].value===s){t[c].selected=!0,l&&(t[c].defaultSelected=!0);return}n!==null||t[c].disabled||(n=t[c])}n!==null&&(n.selected=!0)}}function Ro(t,n,s){if(n!=null&&(n=""+Xe(n),n!==t.value&&(t.value=n),s==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=s!=null?""+Xe(s):""}function fs(t,n,s,l){if(n==null){if(l!=null){if(s!=null)throw Error(r(92));if(Zt(l)){if(1<l.length)throw Error(r(93));l=l[0]}s=l}s==null&&(s=""),n=s}s=Xe(n),t.defaultValue=s,l=t.textContent,l===s&&l!==""&&l!==null&&(t.value=l),ie(t)}function vn(t,n){if(n){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=n;return}}t.textContent=n}var Do=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function nl(t,n,s){var l=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,s):typeof s!="number"||s===0||Do.has(n)?n==="float"?t.cssFloat=s:t[n]=(""+s).trim():t[n]=s+"px"}function il(t,n,s){if(n!=null&&typeof n!="object")throw Error(r(62));if(t=t.style,s!=null){for(var l in s)!s.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var c in n)l=n[c],n.hasOwnProperty(c)&&s[c]!==l&&nl(t,c,l)}else for(var f in n)n.hasOwnProperty(f)&&nl(t,f,n[f])}function Qa(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Io=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ds=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ya(t){return ds.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function ti(){}var sl=null;function Un(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ms=null,Ei=null;function la(t){var n=zn(t);if(n&&(t=n.stateNode)){var s=t[Ke]||null;t:switch(t=n.stateNode,n.type){case"input":if(Ga(t,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+yn(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var l=s[n];if(l!==t&&l.form===t.form){var c=l[Ke]||null;if(!c)throw Error(r(90));Ga(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<s.length;n++)l=s[n],l.form===t.form&&aa(l)}break t;case"textarea":Ro(t,s.value,s.defaultValue);break t;case"select":n=s.value,n!=null&&hs(t,!!s.multiple,n,!1)}}}var Ka=!1;function gs(t,n,s){if(Ka)return t(n,s);Ka=!0;try{var l=t(n);return l}finally{if(Ka=!1,(ms!==null||Ei!==null)&&(xu(),ms&&(n=ms,t=Ei,Ei=ms=null,la(n),t)))for(n=0;n<t.length;n++)la(t[n])}}function ei(t,n){var s=t.stateNode;if(s===null)return null;var l=s[Ke]||null;if(l===null)return null;s=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(r(231,n,typeof s));return s}var Bn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),oa=!1;if(Bn)try{var le={};Object.defineProperty(le,"passive",{get:function(){oa=!0}}),window.addEventListener("test",le,le),window.removeEventListener("test",le,le)}catch{oa=!1}var Ti=null,al=null,ua=null;function rl(){if(ua)return ua;var t,n=al,s=n.length,l,c="value"in Ti?Ti.value:Ti.textContent,f=c.length;for(t=0;t<s&&n[t]===c[t];t++);var y=s-t;for(l=1;l<=y&&n[s-l]===c[f-l];l++);return ua=c.slice(t,1<l?1-l:void 0)}function ca(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Ui(){return!0}function ni(){return!1}function We(t){function n(s,l,c,f,y){this._reactName=s,this._targetInst=c,this.type=l,this.nativeEvent=f,this.target=y,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(s=t[E],this[E]=s?s(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Ui:ni,this.isPropagationStopped=ni,this}return S(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Ui)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Ui)},persist:function(){},isPersistent:Ui}),n}var Bi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xi=We(Bi),ps=S({},Bi,{view:0,detail:0}),ll=We(ps),ys,Xa,Si,Za=S({},ps,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vs,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Si&&(Si&&t.type==="mousemove"?(ys=t.screenX-Si.screenX,Xa=t.screenY-Si.screenY):Xa=ys=0,Si=t),ys)},movementY:function(t){return"movementY"in t?t.movementY:Xa}}),ol=We(Za),ha=S({},Za,{dataTransfer:0}),No=We(ha),Vo=S({},ps,{relatedTarget:0}),fa=We(Vo),ul=S({},Bi,{animationName:0,elapsedTime:0,pseudoElement:0}),Oo=We(ul),$a=S({},Bi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Mo=We($a),jo=S({},Bi,{data:0}),Ai=We(jo),Lo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ko={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},zo={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Uo(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=zo[t])?!!n[t]:!1}function vs(){return Uo}var mn=S({},ps,{key:function(t){if(t.key){var n=Lo[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=ca(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?ko[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vs,charCode:function(t){return t.type==="keypress"?ca(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ca(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Bo=We(mn),Po=S({},Za,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Pi=We(Po),u=S({},ps,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vs}),m=We(u),_=S({},Bi,{propertyName:0,elapsedTime:0,pseudoElement:0}),x=We(_),P=S({},Za,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Y=We(P),ft=S({},Bi,{newState:0,oldState:0}),Mt=We(ft),Ce=[9,13,27,32],$t=Bn&&"CompositionEvent"in window,ve=null;Bn&&"documentMode"in document&&(ve=document.documentMode);var Pn=Bn&&"TextEvent"in window&&!ve,wi=Bn&&(!$t||ve&&8<ve&&11>=ve),ii=" ",si=!1;function da(t,n){switch(t){case"keyup":return Ce.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ja(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Wa=!1;function z_(t,n){switch(t){case"compositionend":return Ja(n);case"keypress":return n.which!==32?null:(si=!0,ii);case"textInput":return t=n.data,t===ii&&si?null:t;default:return null}}function U_(t,n){if(Wa)return t==="compositionend"||!$t&&da(t,n)?(t=rl(),ua=al=Ti=null,Wa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return wi&&n.locale!=="ko"?null:n.data;default:return null}}var B_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function nm(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!B_[t.type]:n==="textarea"}function im(t,n,s,l){ms?Ei?Ei.push(l):Ei=[l]:ms=l,n=Iu(n,"onChange"),0<n.length&&(s=new xi("onChange","change",null,s,l),t.push({event:s,listeners:n}))}var cl=null,hl=null;function P_(t){Up(t,0)}function qo(t){var n=Rn(t);if(aa(n))return t}function sm(t,n){if(t==="change")return n}var am=!1;if(Bn){var Lc;if(Bn){var kc="oninput"in document;if(!kc){var rm=document.createElement("div");rm.setAttribute("oninput","return;"),kc=typeof rm.oninput=="function"}Lc=kc}else Lc=!1;am=Lc&&(!document.documentMode||9<document.documentMode)}function lm(){cl&&(cl.detachEvent("onpropertychange",om),hl=cl=null)}function om(t){if(t.propertyName==="value"&&qo(hl)){var n=[];im(n,hl,t,Un(t)),gs(P_,n)}}function q_(t,n,s){t==="focusin"?(lm(),cl=n,hl=s,cl.attachEvent("onpropertychange",om)):t==="focusout"&&lm()}function H_(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return qo(hl)}function F_(t,n){if(t==="click")return qo(n)}function G_(t,n){if(t==="input"||t==="change")return qo(n)}function Q_(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var In=typeof Object.is=="function"?Object.is:Q_;function fl(t,n){if(In(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var s=Object.keys(t),l=Object.keys(n);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var c=s[l];if(!he.call(n,c)||!In(t[c],n[c]))return!1}return!0}function um(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function cm(t,n){var s=um(t);t=0;for(var l;s;){if(s.nodeType===3){if(l=t+s.textContent.length,t<=n&&l>=n)return{node:s,offset:n-t};t=l}t:{for(;s;){if(s.nextSibling){s=s.nextSibling;break t}s=s.parentNode}s=void 0}s=um(s)}}function hm(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?hm(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function fm(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=bi(t.document);n instanceof t.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)t=n.contentWindow;else break;n=bi(t.document)}return n}function zc(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var Y_=Bn&&"documentMode"in document&&11>=document.documentMode,tr=null,Uc=null,dl=null,Bc=!1;function dm(t,n,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Bc||tr==null||tr!==bi(l)||(l=tr,"selectionStart"in l&&zc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),dl&&fl(dl,l)||(dl=l,l=Iu(Uc,"onSelect"),0<l.length&&(n=new xi("onSelect","select",null,n,s),t.push({event:n,listeners:l}),n.target=tr)))}function ma(t,n){var s={};return s[t.toLowerCase()]=n.toLowerCase(),s["Webkit"+t]="webkit"+n,s["Moz"+t]="moz"+n,s}var er={animationend:ma("Animation","AnimationEnd"),animationiteration:ma("Animation","AnimationIteration"),animationstart:ma("Animation","AnimationStart"),transitionrun:ma("Transition","TransitionRun"),transitionstart:ma("Transition","TransitionStart"),transitioncancel:ma("Transition","TransitionCancel"),transitionend:ma("Transition","TransitionEnd")},Pc={},mm={};Bn&&(mm=document.createElement("div").style,"AnimationEvent"in window||(delete er.animationend.animation,delete er.animationiteration.animation,delete er.animationstart.animation),"TransitionEvent"in window||delete er.transitionend.transition);function ga(t){if(Pc[t])return Pc[t];if(!er[t])return t;var n=er[t],s;for(s in n)if(n.hasOwnProperty(s)&&s in mm)return Pc[t]=n[s];return t}var gm=ga("animationend"),pm=ga("animationiteration"),ym=ga("animationstart"),K_=ga("transitionrun"),X_=ga("transitionstart"),Z_=ga("transitioncancel"),vm=ga("transitionend"),_m=new Map,qc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");qc.push("scrollEnd");function ai(t,n){_m.set(t,n),vi(n,[t])}var Ho=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},qn=[],nr=0,Hc=0;function Fo(){for(var t=nr,n=Hc=nr=0;n<t;){var s=qn[n];qn[n++]=null;var l=qn[n];qn[n++]=null;var c=qn[n];qn[n++]=null;var f=qn[n];if(qn[n++]=null,l!==null&&c!==null){var y=l.pending;y===null?c.next=c:(c.next=y.next,y.next=c),l.pending=c}f!==0&&bm(s,c,f)}}function Go(t,n,s,l){qn[nr++]=t,qn[nr++]=n,qn[nr++]=s,qn[nr++]=l,Hc|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Fc(t,n,s,l){return Go(t,n,s,l),Qo(t)}function pa(t,n){return Go(t,null,null,n),Qo(t)}function bm(t,n,s){t.lanes|=s;var l=t.alternate;l!==null&&(l.lanes|=s);for(var c=!1,f=t.return;f!==null;)f.childLanes|=s,l=f.alternate,l!==null&&(l.childLanes|=s),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(c=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,c&&n!==null&&(c=31-ee(s),t=f.hiddenUpdates,l=t[c],l===null?t[c]=[n]:l.push(n),n.lane=s|536870912),f):null}function Qo(t){if(50<jl)throw jl=0,Wh=null,Error(r(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var ir={};function $_(t,n,s,l){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nn(t,n,s,l){return new $_(t,n,s,l)}function Gc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function qi(t,n){var s=t.alternate;return s===null?(s=Nn(t.tag,n,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=n,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&65011712,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,n=t.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s.refCleanup=t.refCleanup,s}function Em(t,n){t.flags&=65011714;var s=t.alternate;return s===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=s.childLanes,t.lanes=s.lanes,t.child=s.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=s.memoizedProps,t.memoizedState=s.memoizedState,t.updateQueue=s.updateQueue,t.type=s.type,n=s.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Yo(t,n,s,l,c,f){var y=0;if(l=t,typeof t=="function")Gc(t)&&(y=1);else if(typeof t=="string")y=nE(t,s,mt.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case D:return t=Nn(31,s,n,c),t.elementType=D,t.lanes=f,t;case $:return ya(s.children,c,f,n);case k:y=8,c|=24;break;case z:return t=Nn(12,s,n,c|2),t.elementType=z,t.lanes=f,t;case yt:return t=Nn(13,s,n,c),t.elementType=yt,t.lanes=f,t;case xt:return t=Nn(19,s,n,c),t.elementType=xt,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ot:y=10;break t;case W:y=9;break t;case pt:y=11;break t;case R:y=14;break t;case A:y=16,l=null;break t}y=29,s=Error(r(130,t===null?"null":typeof t,"")),l=null}return n=Nn(y,s,n,c),n.elementType=t,n.type=l,n.lanes=f,n}function ya(t,n,s,l){return t=Nn(7,t,l,n),t.lanes=s,t}function Qc(t,n,s){return t=Nn(6,t,null,n),t.lanes=s,t}function Tm(t){var n=Nn(18,null,null,0);return n.stateNode=t,n}function Yc(t,n,s){return n=Nn(4,t.children!==null?t.children:[],t.key,n),n.lanes=s,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var xm=new WeakMap;function Hn(t,n){if(typeof t=="object"&&t!==null){var s=xm.get(t);return s!==void 0?s:(n={value:t,source:n,stack:ea(n)},xm.set(t,n),n)}return{value:t,source:n,stack:ea(n)}}var sr=[],ar=0,Ko=null,ml=0,Fn=[],Gn=0,_s=null,Ci=1,Ri="";function Hi(t,n){sr[ar++]=ml,sr[ar++]=Ko,Ko=t,ml=n}function Sm(t,n,s){Fn[Gn++]=Ci,Fn[Gn++]=Ri,Fn[Gn++]=_s,_s=t;var l=Ci;t=Ri;var c=32-ee(l)-1;l&=~(1<<c),s+=1;var f=32-ee(n)+c;if(30<f){var y=c-c%5;f=(l&(1<<y)-1).toString(32),l>>=y,c-=y,Ci=1<<32-ee(n)+c|s<<c|l,Ri=f+t}else Ci=1<<f|s<<c|l,Ri=t}function Kc(t){t.return!==null&&(Hi(t,1),Sm(t,1,0))}function Xc(t){for(;t===Ko;)Ko=sr[--ar],sr[ar]=null,ml=sr[--ar],sr[ar]=null;for(;t===_s;)_s=Fn[--Gn],Fn[Gn]=null,Ri=Fn[--Gn],Fn[Gn]=null,Ci=Fn[--Gn],Fn[Gn]=null}function Am(t,n){Fn[Gn++]=Ci,Fn[Gn++]=Ri,Fn[Gn++]=_s,Ci=n.id,Ri=n.overflow,_s=t}var tn=null,ge=null,Ft=!1,bs=null,Qn=!1,Zc=Error(r(519));function Es(t){var n=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw gl(Hn(n,t)),Zc}function wm(t){var n=t.stateNode,s=t.type,l=t.memoizedProps;switch(n[Oe]=t,n[Ke]=l,s){case"dialog":zt("cancel",n),zt("close",n);break;case"iframe":case"object":case"embed":zt("load",n);break;case"video":case"audio":for(s=0;s<kl.length;s++)zt(kl[s],n);break;case"source":zt("error",n);break;case"img":case"image":case"link":zt("error",n),zt("load",n);break;case"details":zt("toggle",n);break;case"input":zt("invalid",n),Co(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":zt("invalid",n);break;case"textarea":zt("invalid",n),fs(n,l.value,l.defaultValue,l.children)}s=l.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||l.suppressHydrationWarning===!0||Hp(n.textContent,s)?(l.popover!=null&&(zt("beforetoggle",n),zt("toggle",n)),l.onScroll!=null&&zt("scroll",n),l.onScrollEnd!=null&&zt("scrollend",n),l.onClick!=null&&(n.onclick=ti),n=!0):n=!1,n||Es(t,!0)}function Cm(t){for(tn=t.return;tn;)switch(tn.tag){case 5:case 31:case 13:Qn=!1;return;case 27:case 3:Qn=!0;return;default:tn=tn.return}}function rr(t){if(t!==tn)return!1;if(!Ft)return Cm(t),Ft=!0,!1;var n=t.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=t.type,s=!(s!=="form"&&s!=="button")||gf(t.type,t.memoizedProps)),s=!s),s&&ge&&Es(t),Cm(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));ge=Jp(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));ge=Jp(t)}else n===27?(n=ge,js(t.type)?(t=bf,bf=null,ge=t):ge=n):ge=tn?Kn(t.stateNode.nextSibling):null;return!0}function va(){ge=tn=null,Ft=!1}function $c(){var t=bs;return t!==null&&(Tn===null?Tn=t:Tn.push.apply(Tn,t),bs=null),t}function gl(t){bs===null?bs=[t]:bs.push(t)}var Jc=M(null),_a=null,Fi=null;function Ts(t,n,s){dt(Jc,n._currentValue),n._currentValue=s}function Gi(t){t._currentValue=Jc.current,tt(Jc)}function Wc(t,n,s){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===s)break;t=t.return}}function th(t,n,s,l){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var f=c.dependencies;if(f!==null){var y=c.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=c;for(var N=0;N<n.length;N++)if(E.context===n[N]){f.lanes|=s,E=f.alternate,E!==null&&(E.lanes|=s),Wc(f.return,s,t),l||(y=null);break t}f=E.next}}else if(c.tag===18){if(y=c.return,y===null)throw Error(r(341));y.lanes|=s,f=y.alternate,f!==null&&(f.lanes|=s),Wc(y,s,t),y=null}else y=c.child;if(y!==null)y.return=c;else for(y=c;y!==null;){if(y===t){y=null;break}if(c=y.sibling,c!==null){c.return=y.return,y=c;break}y=y.return}c=y}}function lr(t,n,s,l){t=null;for(var c=n,f=!1;c!==null;){if(!f){if((c.flags&524288)!==0)f=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var y=c.alternate;if(y===null)throw Error(r(387));if(y=y.memoizedProps,y!==null){var E=c.type;In(c.pendingProps.value,y.value)||(t!==null?t.push(E):t=[E])}}else if(c===rt.current){if(y=c.alternate,y===null)throw Error(r(387));y.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(ql):t=[ql])}c=c.return}t!==null&&th(n,t,s,l),n.flags|=262144}function Xo(t){for(t=t.firstContext;t!==null;){if(!In(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ba(t){_a=t,Fi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function en(t){return Rm(_a,t)}function Zo(t,n){return _a===null&&ba(t),Rm(t,n)}function Rm(t,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},Fi===null){if(t===null)throw Error(r(308));Fi=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Fi=Fi.next=n;return s}var J_=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(s,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(s){return s()})}},W_=a.unstable_scheduleCallback,tb=a.unstable_NormalPriority,Le={$$typeof:ot,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function eh(){return{controller:new J_,data:new Map,refCount:0}}function pl(t){t.refCount--,t.refCount===0&&W_(tb,function(){t.controller.abort()})}var yl=null,nh=0,or=0,ur=null;function eb(t,n){if(yl===null){var s=yl=[];nh=0,or=rf(),ur={status:"pending",value:void 0,then:function(l){s.push(l)}}}return nh++,n.then(Dm,Dm),n}function Dm(){if(--nh===0&&yl!==null){ur!==null&&(ur.status="fulfilled");var t=yl;yl=null,or=0,ur=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function nb(t,n){var s=[],l={status:"pending",value:null,reason:null,then:function(c){s.push(c)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var c=0;c<s.length;c++)(0,s[c])(n)},function(c){for(l.status="rejected",l.reason=c,c=0;c<s.length;c++)(0,s[c])(void 0)}),l}var Im=Z.S;Z.S=function(t,n){dp=we(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&eb(t,n),Im!==null&&Im(t,n)};var Ea=M(null);function ih(){var t=Ea.current;return t!==null?t:fe.pooledCache}function $o(t,n){n===null?dt(Ea,Ea.current):dt(Ea,n.pool)}function Nm(){var t=ih();return t===null?null:{parent:Le._currentValue,pool:t}}var cr=Error(r(460)),sh=Error(r(474)),Jo=Error(r(542)),Wo={then:function(){}};function Vm(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Om(t,n,s){switch(s=t[s],s===void 0?t.push(n):s!==n&&(n.then(ti,ti),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,jm(t),t;default:if(typeof n.status=="string")n.then(ti,ti);else{if(t=fe,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=l}},function(l){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,jm(t),t}throw xa=n,cr}}function Ta(t){try{var n=t._init;return n(t._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(xa=s,cr):s}}var xa=null;function Mm(){if(xa===null)throw Error(r(459));var t=xa;return xa=null,t}function jm(t){if(t===cr||t===Jo)throw Error(r(483))}var hr=null,vl=0;function tu(t){var n=vl;return vl+=1,hr===null&&(hr=[]),Om(hr,t,n)}function _l(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function eu(t,n){throw n.$$typeof===C?Error(r(525)):(t=Object.prototype.toString.call(n),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function Lm(t){function n(B,j){if(t){var H=B.deletions;H===null?(B.deletions=[j],B.flags|=16):H.push(j)}}function s(B,j){if(!t)return null;for(;j!==null;)n(B,j),j=j.sibling;return null}function l(B){for(var j=new Map;B!==null;)B.key!==null?j.set(B.key,B):j.set(B.index,B),B=B.sibling;return j}function c(B,j){return B=qi(B,j),B.index=0,B.sibling=null,B}function f(B,j,H){return B.index=H,t?(H=B.alternate,H!==null?(H=H.index,H<j?(B.flags|=67108866,j):H):(B.flags|=67108866,j)):(B.flags|=1048576,j)}function y(B){return t&&B.alternate===null&&(B.flags|=67108866),B}function E(B,j,H,nt){return j===null||j.tag!==6?(j=Qc(H,B.mode,nt),j.return=B,j):(j=c(j,H),j.return=B,j)}function N(B,j,H,nt){var At=H.type;return At===$?J(B,j,H.props.children,nt,H.key):j!==null&&(j.elementType===At||typeof At=="object"&&At!==null&&At.$$typeof===A&&Ta(At)===j.type)?(j=c(j,H.props),_l(j,H),j.return=B,j):(j=Yo(H.type,H.key,H.props,null,B.mode,nt),_l(j,H),j.return=B,j)}function F(B,j,H,nt){return j===null||j.tag!==4||j.stateNode.containerInfo!==H.containerInfo||j.stateNode.implementation!==H.implementation?(j=Yc(H,B.mode,nt),j.return=B,j):(j=c(j,H.children||[]),j.return=B,j)}function J(B,j,H,nt,At){return j===null||j.tag!==7?(j=ya(H,B.mode,nt,At),j.return=B,j):(j=c(j,H),j.return=B,j)}function it(B,j,H){if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return j=Qc(""+j,B.mode,H),j.return=B,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case L:return H=Yo(j.type,j.key,j.props,null,B.mode,H),_l(H,j),H.return=B,H;case Q:return j=Yc(j,B.mode,H),j.return=B,j;case A:return j=Ta(j),it(B,j,H)}if(Zt(j)||U(j))return j=ya(j,B.mode,H,null),j.return=B,j;if(typeof j.then=="function")return it(B,tu(j),H);if(j.$$typeof===ot)return it(B,Zo(B,j),H);eu(B,j)}return null}function G(B,j,H,nt){var At=j!==null?j.key:null;if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return At!==null?null:E(B,j,""+H,nt);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case L:return H.key===At?N(B,j,H,nt):null;case Q:return H.key===At?F(B,j,H,nt):null;case A:return H=Ta(H),G(B,j,H,nt)}if(Zt(H)||U(H))return At!==null?null:J(B,j,H,nt,null);if(typeof H.then=="function")return G(B,j,tu(H),nt);if(H.$$typeof===ot)return G(B,j,Zo(B,H),nt);eu(B,H)}return null}function K(B,j,H,nt,At){if(typeof nt=="string"&&nt!==""||typeof nt=="number"||typeof nt=="bigint")return B=B.get(H)||null,E(j,B,""+nt,At);if(typeof nt=="object"&&nt!==null){switch(nt.$$typeof){case L:return B=B.get(nt.key===null?H:nt.key)||null,N(j,B,nt,At);case Q:return B=B.get(nt.key===null?H:nt.key)||null,F(j,B,nt,At);case A:return nt=Ta(nt),K(B,j,H,nt,At)}if(Zt(nt)||U(nt))return B=B.get(H)||null,J(j,B,nt,At,null);if(typeof nt.then=="function")return K(B,j,H,tu(nt),At);if(nt.$$typeof===ot)return K(B,j,H,Zo(j,nt),At);eu(j,nt)}return null}function vt(B,j,H,nt){for(var At=null,Kt=null,Et=j,Lt=j=0,Bt=null;Et!==null&&Lt<H.length;Lt++){Et.index>Lt?(Bt=Et,Et=null):Bt=Et.sibling;var Xt=G(B,Et,H[Lt],nt);if(Xt===null){Et===null&&(Et=Bt);break}t&&Et&&Xt.alternate===null&&n(B,Et),j=f(Xt,j,Lt),Kt===null?At=Xt:Kt.sibling=Xt,Kt=Xt,Et=Bt}if(Lt===H.length)return s(B,Et),Ft&&Hi(B,Lt),At;if(Et===null){for(;Lt<H.length;Lt++)Et=it(B,H[Lt],nt),Et!==null&&(j=f(Et,j,Lt),Kt===null?At=Et:Kt.sibling=Et,Kt=Et);return Ft&&Hi(B,Lt),At}for(Et=l(Et);Lt<H.length;Lt++)Bt=K(Et,B,Lt,H[Lt],nt),Bt!==null&&(t&&Bt.alternate!==null&&Et.delete(Bt.key===null?Lt:Bt.key),j=f(Bt,j,Lt),Kt===null?At=Bt:Kt.sibling=Bt,Kt=Bt);return t&&Et.forEach(function(Bs){return n(B,Bs)}),Ft&&Hi(B,Lt),At}function Ct(B,j,H,nt){if(H==null)throw Error(r(151));for(var At=null,Kt=null,Et=j,Lt=j=0,Bt=null,Xt=H.next();Et!==null&&!Xt.done;Lt++,Xt=H.next()){Et.index>Lt?(Bt=Et,Et=null):Bt=Et.sibling;var Bs=G(B,Et,Xt.value,nt);if(Bs===null){Et===null&&(Et=Bt);break}t&&Et&&Bs.alternate===null&&n(B,Et),j=f(Bs,j,Lt),Kt===null?At=Bs:Kt.sibling=Bs,Kt=Bs,Et=Bt}if(Xt.done)return s(B,Et),Ft&&Hi(B,Lt),At;if(Et===null){for(;!Xt.done;Lt++,Xt=H.next())Xt=it(B,Xt.value,nt),Xt!==null&&(j=f(Xt,j,Lt),Kt===null?At=Xt:Kt.sibling=Xt,Kt=Xt);return Ft&&Hi(B,Lt),At}for(Et=l(Et);!Xt.done;Lt++,Xt=H.next())Xt=K(Et,B,Lt,Xt.value,nt),Xt!==null&&(t&&Xt.alternate!==null&&Et.delete(Xt.key===null?Lt:Xt.key),j=f(Xt,j,Lt),Kt===null?At=Xt:Kt.sibling=Xt,Kt=Xt);return t&&Et.forEach(function(dE){return n(B,dE)}),Ft&&Hi(B,Lt),At}function ce(B,j,H,nt){if(typeof H=="object"&&H!==null&&H.type===$&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case L:t:{for(var At=H.key;j!==null;){if(j.key===At){if(At=H.type,At===$){if(j.tag===7){s(B,j.sibling),nt=c(j,H.props.children),nt.return=B,B=nt;break t}}else if(j.elementType===At||typeof At=="object"&&At!==null&&At.$$typeof===A&&Ta(At)===j.type){s(B,j.sibling),nt=c(j,H.props),_l(nt,H),nt.return=B,B=nt;break t}s(B,j);break}else n(B,j);j=j.sibling}H.type===$?(nt=ya(H.props.children,B.mode,nt,H.key),nt.return=B,B=nt):(nt=Yo(H.type,H.key,H.props,null,B.mode,nt),_l(nt,H),nt.return=B,B=nt)}return y(B);case Q:t:{for(At=H.key;j!==null;){if(j.key===At)if(j.tag===4&&j.stateNode.containerInfo===H.containerInfo&&j.stateNode.implementation===H.implementation){s(B,j.sibling),nt=c(j,H.children||[]),nt.return=B,B=nt;break t}else{s(B,j);break}else n(B,j);j=j.sibling}nt=Yc(H,B.mode,nt),nt.return=B,B=nt}return y(B);case A:return H=Ta(H),ce(B,j,H,nt)}if(Zt(H))return vt(B,j,H,nt);if(U(H)){if(At=U(H),typeof At!="function")throw Error(r(150));return H=At.call(H),Ct(B,j,H,nt)}if(typeof H.then=="function")return ce(B,j,tu(H),nt);if(H.$$typeof===ot)return ce(B,j,Zo(B,H),nt);eu(B,H)}return typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint"?(H=""+H,j!==null&&j.tag===6?(s(B,j.sibling),nt=c(j,H),nt.return=B,B=nt):(s(B,j),nt=Qc(H,B.mode,nt),nt.return=B,B=nt),y(B)):s(B,j)}return function(B,j,H,nt){try{vl=0;var At=ce(B,j,H,nt);return hr=null,At}catch(Et){if(Et===cr||Et===Jo)throw Et;var Kt=Nn(29,Et,null,B.mode);return Kt.lanes=nt,Kt.return=B,Kt}finally{}}}var Sa=Lm(!0),km=Lm(!1),xs=!1;function ah(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function rh(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Ss(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function As(t,n,s){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Jt&2)!==0){var c=l.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),l.pending=n,n=Qo(t),bm(t,null,s),n}return Go(t,l,n,s),Qo(t)}function bl(t,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,s|=l,n.lanes=s,on(t,s)}}function lh(t,n){var s=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var c=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var y={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?c=f=y:f=f.next=y,s=s.next}while(s!==null);f===null?c=f=n:f=f.next=n}else c=f=n;s={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=n:t.next=n,s.lastBaseUpdate=n}var oh=!1;function El(){if(oh){var t=ur;if(t!==null)throw t}}function Tl(t,n,s,l){oh=!1;var c=t.updateQueue;xs=!1;var f=c.firstBaseUpdate,y=c.lastBaseUpdate,E=c.shared.pending;if(E!==null){c.shared.pending=null;var N=E,F=N.next;N.next=null,y===null?f=F:y.next=F,y=N;var J=t.alternate;J!==null&&(J=J.updateQueue,E=J.lastBaseUpdate,E!==y&&(E===null?J.firstBaseUpdate=F:E.next=F,J.lastBaseUpdate=N))}if(f!==null){var it=c.baseState;y=0,J=F=N=null,E=f;do{var G=E.lane&-536870913,K=G!==E.lane;if(K?(Ut&G)===G:(l&G)===G){G!==0&&G===or&&(oh=!0),J!==null&&(J=J.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var vt=t,Ct=E;G=n;var ce=s;switch(Ct.tag){case 1:if(vt=Ct.payload,typeof vt=="function"){it=vt.call(ce,it,G);break t}it=vt;break t;case 3:vt.flags=vt.flags&-65537|128;case 0:if(vt=Ct.payload,G=typeof vt=="function"?vt.call(ce,it,G):vt,G==null)break t;it=S({},it,G);break t;case 2:xs=!0}}G=E.callback,G!==null&&(t.flags|=64,K&&(t.flags|=8192),K=c.callbacks,K===null?c.callbacks=[G]:K.push(G))}else K={lane:G,tag:E.tag,payload:E.payload,callback:E.callback,next:null},J===null?(F=J=K,N=it):J=J.next=K,y|=G;if(E=E.next,E===null){if(E=c.shared.pending,E===null)break;K=E,E=K.next,K.next=null,c.lastBaseUpdate=K,c.shared.pending=null}}while(!0);J===null&&(N=it),c.baseState=N,c.firstBaseUpdate=F,c.lastBaseUpdate=J,f===null&&(c.shared.lanes=0),Is|=y,t.lanes=y,t.memoizedState=it}}function zm(t,n){if(typeof t!="function")throw Error(r(191,t));t.call(n)}function Um(t,n){var s=t.callbacks;if(s!==null)for(t.callbacks=null,t=0;t<s.length;t++)zm(s[t],n)}var fr=M(null),nu=M(0);function Bm(t,n){t=ts,dt(nu,t),dt(fr,n),ts=t|n.baseLanes}function uh(){dt(nu,ts),dt(fr,fr.current)}function ch(){ts=nu.current,tt(fr),tt(nu)}var Vn=M(null),Yn=null;function ws(t){var n=t.alternate;dt(Re,Re.current&1),dt(Vn,t),Yn===null&&(n===null||fr.current!==null||n.memoizedState!==null)&&(Yn=t)}function hh(t){dt(Re,Re.current),dt(Vn,t),Yn===null&&(Yn=t)}function Pm(t){t.tag===22?(dt(Re,Re.current),dt(Vn,t),Yn===null&&(Yn=t)):Cs()}function Cs(){dt(Re,Re.current),dt(Vn,Vn.current)}function On(t){tt(Vn),Yn===t&&(Yn=null),tt(Re)}var Re=M(0);function iu(t){for(var n=t;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||vf(s)||_f(s)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Qi=0,jt=null,oe=null,ke=null,su=!1,dr=!1,Aa=!1,au=0,xl=0,mr=null,ib=0;function Se(){throw Error(r(321))}function fh(t,n){if(n===null)return!1;for(var s=0;s<n.length&&s<t.length;s++)if(!In(t[s],n[s]))return!1;return!0}function dh(t,n,s,l,c,f){return Qi=f,jt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,Z.H=t===null||t.memoizedState===null?Sg:Rh,Aa=!1,f=s(l,c),Aa=!1,dr&&(f=Hm(n,s,l,c)),qm(t),f}function qm(t){Z.H=wl;var n=oe!==null&&oe.next!==null;if(Qi=0,ke=oe=jt=null,su=!1,xl=0,mr=null,n)throw Error(r(300));t===null||ze||(t=t.dependencies,t!==null&&Xo(t)&&(ze=!0))}function Hm(t,n,s,l){jt=t;var c=0;do{if(dr&&(mr=null),xl=0,dr=!1,25<=c)throw Error(r(301));if(c+=1,ke=oe=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}Z.H=Ag,f=n(s,l)}while(dr);return f}function sb(){var t=Z.H,n=t.useState()[0];return n=typeof n.then=="function"?Sl(n):n,t=t.useState()[0],(oe!==null?oe.memoizedState:null)!==t&&(jt.flags|=1024),n}function mh(){var t=au!==0;return au=0,t}function gh(t,n,s){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~s}function ph(t){if(su){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}su=!1}Qi=0,ke=oe=jt=null,dr=!1,xl=au=0,mr=null}function gn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ke===null?jt.memoizedState=ke=t:ke=ke.next=t,ke}function De(){if(oe===null){var t=jt.alternate;t=t!==null?t.memoizedState:null}else t=oe.next;var n=ke===null?jt.memoizedState:ke.next;if(n!==null)ke=n,oe=t;else{if(t===null)throw jt.alternate===null?Error(r(467)):Error(r(310));oe=t,t={memoizedState:oe.memoizedState,baseState:oe.baseState,baseQueue:oe.baseQueue,queue:oe.queue,next:null},ke===null?jt.memoizedState=ke=t:ke=ke.next=t}return ke}function ru(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Sl(t){var n=xl;return xl+=1,mr===null&&(mr=[]),t=Om(mr,t,n),n=jt,(ke===null?n.memoizedState:ke.next)===null&&(n=n.alternate,Z.H=n===null||n.memoizedState===null?Sg:Rh),t}function lu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Sl(t);if(t.$$typeof===ot)return en(t)}throw Error(r(438,String(t)))}function yh(t){var n=null,s=jt.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var l=jt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=ru(),jt.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(t),l=0;l<t;l++)s[l]=I;return n.index++,s}function Yi(t,n){return typeof n=="function"?n(t):n}function ou(t){var n=De();return vh(n,oe,t)}function vh(t,n,s){var l=t.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=s;var c=t.baseQueue,f=l.pending;if(f!==null){if(c!==null){var y=c.next;c.next=f.next,f.next=y}n.baseQueue=c=f,l.pending=null}if(f=t.baseState,c===null)t.memoizedState=f;else{n=c.next;var E=y=null,N=null,F=n,J=!1;do{var it=F.lane&-536870913;if(it!==F.lane?(Ut&it)===it:(Qi&it)===it){var G=F.revertLane;if(G===0)N!==null&&(N=N.next={lane:0,revertLane:0,gesture:null,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null}),it===or&&(J=!0);else if((Qi&G)===G){F=F.next,G===or&&(J=!0);continue}else it={lane:0,revertLane:F.revertLane,gesture:null,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},N===null?(E=N=it,y=f):N=N.next=it,jt.lanes|=G,Is|=G;it=F.action,Aa&&s(f,it),f=F.hasEagerState?F.eagerState:s(f,it)}else G={lane:it,revertLane:F.revertLane,gesture:F.gesture,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},N===null?(E=N=G,y=f):N=N.next=G,jt.lanes|=it,Is|=it;F=F.next}while(F!==null&&F!==n);if(N===null?y=f:N.next=E,!In(f,t.memoizedState)&&(ze=!0,J&&(s=ur,s!==null)))throw s;t.memoizedState=f,t.baseState=y,t.baseQueue=N,l.lastRenderedState=f}return c===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function _h(t){var n=De(),s=n.queue;if(s===null)throw Error(r(311));s.lastRenderedReducer=t;var l=s.dispatch,c=s.pending,f=n.memoizedState;if(c!==null){s.pending=null;var y=c=c.next;do f=t(f,y.action),y=y.next;while(y!==c);In(f,n.memoizedState)||(ze=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),s.lastRenderedState=f}return[f,l]}function Fm(t,n,s){var l=jt,c=De(),f=Ft;if(f){if(s===void 0)throw Error(r(407));s=s()}else s=n();var y=!In((oe||c).memoizedState,s);if(y&&(c.memoizedState=s,ze=!0),c=c.queue,Th(Ym.bind(null,l,c,t),[t]),c.getSnapshot!==n||y||ke!==null&&ke.memoizedState.tag&1){if(l.flags|=2048,gr(9,{destroy:void 0},Qm.bind(null,l,c,s,n),null),fe===null)throw Error(r(349));f||(Qi&127)!==0||Gm(l,n,s)}return s}function Gm(t,n,s){t.flags|=16384,t={getSnapshot:n,value:s},n=jt.updateQueue,n===null?(n=ru(),jt.updateQueue=n,n.stores=[t]):(s=n.stores,s===null?n.stores=[t]:s.push(t))}function Qm(t,n,s,l){n.value=s,n.getSnapshot=l,Km(n)&&Xm(t)}function Ym(t,n,s){return s(function(){Km(n)&&Xm(t)})}function Km(t){var n=t.getSnapshot;t=t.value;try{var s=n();return!In(t,s)}catch{return!0}}function Xm(t){var n=pa(t,2);n!==null&&xn(n,t,2)}function bh(t){var n=gn();if(typeof t=="function"){var s=t;if(t=s(),Aa){Je(!0);try{s()}finally{Je(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yi,lastRenderedState:t},n}function Zm(t,n,s,l){return t.baseState=s,vh(t,oe,typeof l=="function"?l:Yi)}function ab(t,n,s,l,c){if(hu(t))throw Error(r(485));if(t=n.action,t!==null){var f={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){f.listeners.push(y)}};Z.T!==null?s(!0):f.isTransition=!1,l(f),s=n.pending,s===null?(f.next=n.pending=f,$m(n,f)):(f.next=s.next,n.pending=s.next=f)}}function $m(t,n){var s=n.action,l=n.payload,c=t.state;if(n.isTransition){var f=Z.T,y={};Z.T=y;try{var E=s(c,l),N=Z.S;N!==null&&N(y,E),Jm(t,n,E)}catch(F){Eh(t,n,F)}finally{f!==null&&y.types!==null&&(f.types=y.types),Z.T=f}}else try{f=s(c,l),Jm(t,n,f)}catch(F){Eh(t,n,F)}}function Jm(t,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(l){Wm(t,n,l)},function(l){return Eh(t,n,l)}):Wm(t,n,s)}function Wm(t,n,s){n.status="fulfilled",n.value=s,tg(n),t.state=s,n=t.pending,n!==null&&(s=n.next,s===n?t.pending=null:(s=s.next,n.next=s,$m(t,s)))}function Eh(t,n,s){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=s,tg(n),n=n.next;while(n!==l)}t.action=null}function tg(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function eg(t,n){return n}function ng(t,n){if(Ft){var s=fe.formState;if(s!==null){t:{var l=jt;if(Ft){if(ge){e:{for(var c=ge,f=Qn;c.nodeType!==8;){if(!f){c=null;break e}if(c=Kn(c.nextSibling),c===null){c=null;break e}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){ge=Kn(c.nextSibling),l=c.data==="F!";break t}}Es(l)}l=!1}l&&(n=s[0])}}return s=gn(),s.memoizedState=s.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:eg,lastRenderedState:n},s.queue=l,s=Eg.bind(null,jt,l),l.dispatch=s,l=bh(!1),f=Ch.bind(null,jt,!1,l.queue),l=gn(),c={state:n,dispatch:null,action:t,pending:null},l.queue=c,s=ab.bind(null,jt,c,f,s),c.dispatch=s,l.memoizedState=t,[n,s,!1]}function ig(t){var n=De();return sg(n,oe,t)}function sg(t,n,s){if(n=vh(t,n,eg)[0],t=ou(Yi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=Sl(n)}catch(y){throw y===cr?Jo:y}else l=n;n=De();var c=n.queue,f=c.dispatch;return s!==n.memoizedState&&(jt.flags|=2048,gr(9,{destroy:void 0},rb.bind(null,c,s),null)),[l,f,t]}function rb(t,n){t.action=n}function ag(t){var n=De(),s=oe;if(s!==null)return sg(n,s,t);De(),n=n.memoizedState,s=De();var l=s.queue.dispatch;return s.memoizedState=t,[n,l,!1]}function gr(t,n,s,l){return t={tag:t,create:s,deps:l,inst:n,next:null},n=jt.updateQueue,n===null&&(n=ru(),jt.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=t.next=t:(l=s.next,s.next=t,t.next=l,n.lastEffect=t),t}function rg(){return De().memoizedState}function uu(t,n,s,l){var c=gn();jt.flags|=t,c.memoizedState=gr(1|n,{destroy:void 0},s,l===void 0?null:l)}function cu(t,n,s,l){var c=De();l=l===void 0?null:l;var f=c.memoizedState.inst;oe!==null&&l!==null&&fh(l,oe.memoizedState.deps)?c.memoizedState=gr(n,f,s,l):(jt.flags|=t,c.memoizedState=gr(1|n,f,s,l))}function lg(t,n){uu(8390656,8,t,n)}function Th(t,n){cu(2048,8,t,n)}function lb(t){jt.flags|=4;var n=jt.updateQueue;if(n===null)n=ru(),jt.updateQueue=n,n.events=[t];else{var s=n.events;s===null?n.events=[t]:s.push(t)}}function og(t){var n=De().memoizedState;return lb({ref:n,nextImpl:t}),function(){if((Jt&2)!==0)throw Error(r(440));return n.impl.apply(void 0,arguments)}}function ug(t,n){return cu(4,2,t,n)}function cg(t,n){return cu(4,4,t,n)}function hg(t,n){if(typeof n=="function"){t=t();var s=n(t);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function fg(t,n,s){s=s!=null?s.concat([t]):null,cu(4,4,hg.bind(null,n,t),s)}function xh(){}function dg(t,n){var s=De();n=n===void 0?null:n;var l=s.memoizedState;return n!==null&&fh(n,l[1])?l[0]:(s.memoizedState=[t,n],t)}function mg(t,n){var s=De();n=n===void 0?null:n;var l=s.memoizedState;if(n!==null&&fh(n,l[1]))return l[0];if(l=t(),Aa){Je(!0);try{t()}finally{Je(!1)}}return s.memoizedState=[l,n],l}function Sh(t,n,s){return s===void 0||(Qi&1073741824)!==0&&(Ut&261930)===0?t.memoizedState=n:(t.memoizedState=s,t=gp(),jt.lanes|=t,Is|=t,s)}function gg(t,n,s,l){return In(s,n)?s:fr.current!==null?(t=Sh(t,s,l),In(t,n)||(ze=!0),t):(Qi&42)===0||(Qi&1073741824)!==0&&(Ut&261930)===0?(ze=!0,t.memoizedState=s):(t=gp(),jt.lanes|=t,Is|=t,n)}function pg(t,n,s,l,c){var f=ct.p;ct.p=f!==0&&8>f?f:8;var y=Z.T,E={};Z.T=E,Ch(t,!1,n,s);try{var N=c(),F=Z.S;if(F!==null&&F(E,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var J=nb(N,l);Al(t,n,J,Ln(t))}else Al(t,n,l,Ln(t))}catch(it){Al(t,n,{then:function(){},status:"rejected",reason:it},Ln())}finally{ct.p=f,y!==null&&E.types!==null&&(y.types=E.types),Z.T=y}}function ob(){}function Ah(t,n,s,l){if(t.tag!==5)throw Error(r(476));var c=yg(t).queue;pg(t,c,n,Tt,s===null?ob:function(){return vg(t),s(l)})}function yg(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:Tt,baseState:Tt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yi,lastRenderedState:Tt},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yi,lastRenderedState:s},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function vg(t){var n=yg(t);n.next===null&&(n=t.alternate.memoizedState),Al(t,n.next.queue,{},Ln())}function wh(){return en(ql)}function _g(){return De().memoizedState}function bg(){return De().memoizedState}function ub(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var s=Ln();t=Ss(s);var l=As(n,t,s);l!==null&&(xn(l,n,s),bl(l,n,s)),n={cache:eh()},t.payload=n;return}n=n.return}}function cb(t,n,s){var l=Ln();s={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},hu(t)?Tg(n,s):(s=Fc(t,n,s,l),s!==null&&(xn(s,t,l),xg(s,n,l)))}function Eg(t,n,s){var l=Ln();Al(t,n,s,l)}function Al(t,n,s,l){var c={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(hu(t))Tg(n,c);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var y=n.lastRenderedState,E=f(y,s);if(c.hasEagerState=!0,c.eagerState=E,In(E,y))return Go(t,n,c,0),fe===null&&Fo(),!1}catch{}finally{}if(s=Fc(t,n,c,l),s!==null)return xn(s,t,l),xg(s,n,l),!0}return!1}function Ch(t,n,s,l){if(l={lane:2,revertLane:rf(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},hu(t)){if(n)throw Error(r(479))}else n=Fc(t,s,l,2),n!==null&&xn(n,t,2)}function hu(t){var n=t.alternate;return t===jt||n!==null&&n===jt}function Tg(t,n){dr=su=!0;var s=t.pending;s===null?n.next=n:(n.next=s.next,s.next=n),t.pending=n}function xg(t,n,s){if((s&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,s|=l,n.lanes=s,on(t,s)}}var wl={readContext:en,use:lu,useCallback:Se,useContext:Se,useEffect:Se,useImperativeHandle:Se,useLayoutEffect:Se,useInsertionEffect:Se,useMemo:Se,useReducer:Se,useRef:Se,useState:Se,useDebugValue:Se,useDeferredValue:Se,useTransition:Se,useSyncExternalStore:Se,useId:Se,useHostTransitionStatus:Se,useFormState:Se,useActionState:Se,useOptimistic:Se,useMemoCache:Se,useCacheRefresh:Se};wl.useEffectEvent=Se;var Sg={readContext:en,use:lu,useCallback:function(t,n){return gn().memoizedState=[t,n===void 0?null:n],t},useContext:en,useEffect:lg,useImperativeHandle:function(t,n,s){s=s!=null?s.concat([t]):null,uu(4194308,4,hg.bind(null,n,t),s)},useLayoutEffect:function(t,n){return uu(4194308,4,t,n)},useInsertionEffect:function(t,n){uu(4,2,t,n)},useMemo:function(t,n){var s=gn();n=n===void 0?null:n;var l=t();if(Aa){Je(!0);try{t()}finally{Je(!1)}}return s.memoizedState=[l,n],l},useReducer:function(t,n,s){var l=gn();if(s!==void 0){var c=s(n);if(Aa){Je(!0);try{s(n)}finally{Je(!1)}}}else c=n;return l.memoizedState=l.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},l.queue=t,t=t.dispatch=cb.bind(null,jt,t),[l.memoizedState,t]},useRef:function(t){var n=gn();return t={current:t},n.memoizedState=t},useState:function(t){t=bh(t);var n=t.queue,s=Eg.bind(null,jt,n);return n.dispatch=s,[t.memoizedState,s]},useDebugValue:xh,useDeferredValue:function(t,n){var s=gn();return Sh(s,t,n)},useTransition:function(){var t=bh(!1);return t=pg.bind(null,jt,t.queue,!0,!1),gn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,s){var l=jt,c=gn();if(Ft){if(s===void 0)throw Error(r(407));s=s()}else{if(s=n(),fe===null)throw Error(r(349));(Ut&127)!==0||Gm(l,n,s)}c.memoizedState=s;var f={value:s,getSnapshot:n};return c.queue=f,lg(Ym.bind(null,l,f,t),[t]),l.flags|=2048,gr(9,{destroy:void 0},Qm.bind(null,l,f,s,n),null),s},useId:function(){var t=gn(),n=fe.identifierPrefix;if(Ft){var s=Ri,l=Ci;s=(l&~(1<<32-ee(l)-1)).toString(32)+s,n="_"+n+"R_"+s,s=au++,0<s&&(n+="H"+s.toString(32)),n+="_"}else s=ib++,n="_"+n+"r_"+s.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:wh,useFormState:ng,useActionState:ng,useOptimistic:function(t){var n=gn();n.memoizedState=n.baseState=t;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=Ch.bind(null,jt,!0,s),s.dispatch=n,[t,n]},useMemoCache:yh,useCacheRefresh:function(){return gn().memoizedState=ub.bind(null,jt)},useEffectEvent:function(t){var n=gn(),s={impl:t};return n.memoizedState=s,function(){if((Jt&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}},Rh={readContext:en,use:lu,useCallback:dg,useContext:en,useEffect:Th,useImperativeHandle:fg,useInsertionEffect:ug,useLayoutEffect:cg,useMemo:mg,useReducer:ou,useRef:rg,useState:function(){return ou(Yi)},useDebugValue:xh,useDeferredValue:function(t,n){var s=De();return gg(s,oe.memoizedState,t,n)},useTransition:function(){var t=ou(Yi)[0],n=De().memoizedState;return[typeof t=="boolean"?t:Sl(t),n]},useSyncExternalStore:Fm,useId:_g,useHostTransitionStatus:wh,useFormState:ig,useActionState:ig,useOptimistic:function(t,n){var s=De();return Zm(s,oe,t,n)},useMemoCache:yh,useCacheRefresh:bg};Rh.useEffectEvent=og;var Ag={readContext:en,use:lu,useCallback:dg,useContext:en,useEffect:Th,useImperativeHandle:fg,useInsertionEffect:ug,useLayoutEffect:cg,useMemo:mg,useReducer:_h,useRef:rg,useState:function(){return _h(Yi)},useDebugValue:xh,useDeferredValue:function(t,n){var s=De();return oe===null?Sh(s,t,n):gg(s,oe.memoizedState,t,n)},useTransition:function(){var t=_h(Yi)[0],n=De().memoizedState;return[typeof t=="boolean"?t:Sl(t),n]},useSyncExternalStore:Fm,useId:_g,useHostTransitionStatus:wh,useFormState:ag,useActionState:ag,useOptimistic:function(t,n){var s=De();return oe!==null?Zm(s,oe,t,n):(s.baseState=t,[t,s.queue.dispatch])},useMemoCache:yh,useCacheRefresh:bg};Ag.useEffectEvent=og;function Dh(t,n,s,l){n=t.memoizedState,s=s(l,n),s=s==null?n:S({},n,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var Ih={enqueueSetState:function(t,n,s){t=t._reactInternals;var l=Ln(),c=Ss(l);c.payload=n,s!=null&&(c.callback=s),n=As(t,c,l),n!==null&&(xn(n,t,l),bl(n,t,l))},enqueueReplaceState:function(t,n,s){t=t._reactInternals;var l=Ln(),c=Ss(l);c.tag=1,c.payload=n,s!=null&&(c.callback=s),n=As(t,c,l),n!==null&&(xn(n,t,l),bl(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var s=Ln(),l=Ss(s);l.tag=2,n!=null&&(l.callback=n),n=As(t,l,s),n!==null&&(xn(n,t,s),bl(n,t,s))}};function wg(t,n,s,l,c,f,y){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,y):n.prototype&&n.prototype.isPureReactComponent?!fl(s,l)||!fl(c,f):!0}function Cg(t,n,s,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,l),n.state!==t&&Ih.enqueueReplaceState(n,n.state,null)}function wa(t,n){var s=n;if("ref"in n){s={};for(var l in n)l!=="ref"&&(s[l]=n[l])}if(t=t.defaultProps){s===n&&(s=S({},s));for(var c in t)s[c]===void 0&&(s[c]=t[c])}return s}function Rg(t){Ho(t)}function Dg(t){console.error(t)}function Ig(t){Ho(t)}function fu(t,n){try{var s=t.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Ng(t,n,s){try{var l=t.onCaughtError;l(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function Nh(t,n,s){return s=Ss(s),s.tag=3,s.payload={element:null},s.callback=function(){fu(t,n)},s}function Vg(t){return t=Ss(t),t.tag=3,t}function Og(t,n,s,l){var c=s.type.getDerivedStateFromError;if(typeof c=="function"){var f=l.value;t.payload=function(){return c(f)},t.callback=function(){Ng(n,s,l)}}var y=s.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(t.callback=function(){Ng(n,s,l),typeof c!="function"&&(Ns===null?Ns=new Set([this]):Ns.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function hb(t,n,s,l,c){if(s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=s.alternate,n!==null&&lr(n,s,c,!0),s=Vn.current,s!==null){switch(s.tag){case 31:case 13:return Yn===null?Su():s.alternate===null&&Ae===0&&(Ae=3),s.flags&=-257,s.flags|=65536,s.lanes=c,l===Wo?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([l]):n.add(l),nf(t,l,c)),!1;case 22:return s.flags|=65536,l===Wo?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([l]):s.add(l)),nf(t,l,c)),!1}throw Error(r(435,s.tag))}return nf(t,l,c),Su(),!1}if(Ft)return n=Vn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,l!==Zc&&(t=Error(r(422),{cause:l}),gl(Hn(t,s)))):(l!==Zc&&(n=Error(r(423),{cause:l}),gl(Hn(n,s))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,l=Hn(l,s),c=Nh(t.stateNode,l,c),lh(t,c),Ae!==4&&(Ae=2)),!1;var f=Error(r(520),{cause:l});if(f=Hn(f,s),Ml===null?Ml=[f]:Ml.push(f),Ae!==4&&(Ae=2),n===null)return!0;l=Hn(l,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,t=c&-c,s.lanes|=t,t=Nh(s.stateNode,l,t),lh(s,t),!1;case 1:if(n=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Ns===null||!Ns.has(f))))return s.flags|=65536,c&=-c,s.lanes|=c,c=Vg(c),Og(c,t,s,l),lh(s,c),!1}s=s.return}while(s!==null);return!1}var Vh=Error(r(461)),ze=!1;function nn(t,n,s,l){n.child=t===null?km(n,null,s,l):Sa(n,t.child,s,l)}function Mg(t,n,s,l,c){s=s.render;var f=n.ref;if("ref"in l){var y={};for(var E in l)E!=="ref"&&(y[E]=l[E])}else y=l;return ba(n),l=dh(t,n,s,y,f,c),E=mh(),t!==null&&!ze?(gh(t,n,c),Ki(t,n,c)):(Ft&&E&&Kc(n),n.flags|=1,nn(t,n,l,c),n.child)}function jg(t,n,s,l,c){if(t===null){var f=s.type;return typeof f=="function"&&!Gc(f)&&f.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=f,Lg(t,n,f,l,c)):(t=Yo(s.type,null,l,n,n.mode,c),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!Bh(t,c)){var y=f.memoizedProps;if(s=s.compare,s=s!==null?s:fl,s(y,l)&&t.ref===n.ref)return Ki(t,n,c)}return n.flags|=1,t=qi(f,l),t.ref=n.ref,t.return=n,n.child=t}function Lg(t,n,s,l,c){if(t!==null){var f=t.memoizedProps;if(fl(f,l)&&t.ref===n.ref)if(ze=!1,n.pendingProps=l=f,Bh(t,c))(t.flags&131072)!==0&&(ze=!0);else return n.lanes=t.lanes,Ki(t,n,c)}return Oh(t,n,s,l,c)}function kg(t,n,s,l){var c=l.children,f=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|s:s,t!==null){for(l=n.child=t.child,c=0;l!==null;)c=c|l.lanes|l.childLanes,l=l.sibling;l=c&~f}else l=0,n.child=null;return zg(t,n,f,s,l)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&$o(n,f!==null?f.cachePool:null),f!==null?Bm(n,f):uh(),Pm(n);else return l=n.lanes=536870912,zg(t,n,f!==null?f.baseLanes|s:s,s,l)}else f!==null?($o(n,f.cachePool),Bm(n,f),Cs(),n.memoizedState=null):(t!==null&&$o(n,null),uh(),Cs());return nn(t,n,c,s),n.child}function Cl(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function zg(t,n,s,l,c){var f=ih();return f=f===null?null:{parent:Le._currentValue,pool:f},n.memoizedState={baseLanes:s,cachePool:f},t!==null&&$o(n,null),uh(),Pm(n),t!==null&&lr(t,n,l,!0),n.childLanes=c,null}function du(t,n){return n=gu({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function Ug(t,n,s){return Sa(n,t.child,null,s),t=du(n,n.pendingProps),t.flags|=2,On(n),n.memoizedState=null,t}function fb(t,n,s){var l=n.pendingProps,c=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(Ft){if(l.mode==="hidden")return t=du(n,l),n.lanes=536870912,Cl(null,t);if(hh(n),(t=ge)?(t=$p(t,Qn),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:_s!==null?{id:Ci,overflow:Ri}:null,retryLane:536870912,hydrationErrors:null},s=Tm(t),s.return=n,n.child=s,tn=n,ge=null)):t=null,t===null)throw Es(n);return n.lanes=536870912,null}return du(n,l)}var f=t.memoizedState;if(f!==null){var y=f.dehydrated;if(hh(n),c)if(n.flags&256)n.flags&=-257,n=Ug(t,n,s);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(r(558));else if(ze||lr(t,n,s,!1),c=(s&t.childLanes)!==0,ze||c){if(l=fe,l!==null&&(y=re(l,s),y!==0&&y!==f.retryLane))throw f.retryLane=y,pa(t,y),xn(l,t,y),Vh;Su(),n=Ug(t,n,s)}else t=f.treeContext,ge=Kn(y.nextSibling),tn=n,Ft=!0,bs=null,Qn=!1,t!==null&&Am(n,t),n=du(n,l),n.flags|=4096;return n}return t=qi(t.child,{mode:l.mode,children:l.children}),t.ref=n.ref,n.child=t,t.return=n,t}function mu(t,n){var s=n.ref;if(s===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(r(284));(t===null||t.ref!==s)&&(n.flags|=4194816)}}function Oh(t,n,s,l,c){return ba(n),s=dh(t,n,s,l,void 0,c),l=mh(),t!==null&&!ze?(gh(t,n,c),Ki(t,n,c)):(Ft&&l&&Kc(n),n.flags|=1,nn(t,n,s,c),n.child)}function Bg(t,n,s,l,c,f){return ba(n),n.updateQueue=null,s=Hm(n,l,s,c),qm(t),l=mh(),t!==null&&!ze?(gh(t,n,f),Ki(t,n,f)):(Ft&&l&&Kc(n),n.flags|=1,nn(t,n,s,f),n.child)}function Pg(t,n,s,l,c){if(ba(n),n.stateNode===null){var f=ir,y=s.contextType;typeof y=="object"&&y!==null&&(f=en(y)),f=new s(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Ih,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},ah(n),y=s.contextType,f.context=typeof y=="object"&&y!==null?en(y):ir,f.state=n.memoizedState,y=s.getDerivedStateFromProps,typeof y=="function"&&(Dh(n,s,y,l),f.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(y=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),y!==f.state&&Ih.enqueueReplaceState(f,f.state,null),Tl(n,l,f,c),El(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var E=n.memoizedProps,N=wa(s,E);f.props=N;var F=f.context,J=s.contextType;y=ir,typeof J=="object"&&J!==null&&(y=en(J));var it=s.getDerivedStateFromProps;J=typeof it=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,J||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||F!==y)&&Cg(n,f,l,y),xs=!1;var G=n.memoizedState;f.state=G,Tl(n,l,f,c),El(),F=n.memoizedState,E||G!==F||xs?(typeof it=="function"&&(Dh(n,s,it,l),F=n.memoizedState),(N=xs||wg(n,s,N,l,G,F,y))?(J||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=F),f.props=l,f.state=F,f.context=y,l=N):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,rh(t,n),y=n.memoizedProps,J=wa(s,y),f.props=J,it=n.pendingProps,G=f.context,F=s.contextType,N=ir,typeof F=="object"&&F!==null&&(N=en(F)),E=s.getDerivedStateFromProps,(F=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(y!==it||G!==N)&&Cg(n,f,l,N),xs=!1,G=n.memoizedState,f.state=G,Tl(n,l,f,c),El();var K=n.memoizedState;y!==it||G!==K||xs||t!==null&&t.dependencies!==null&&Xo(t.dependencies)?(typeof E=="function"&&(Dh(n,s,E,l),K=n.memoizedState),(J=xs||wg(n,s,J,l,G,K,N)||t!==null&&t.dependencies!==null&&Xo(t.dependencies))?(F||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,K,N),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,K,N)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&G===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&G===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=K),f.props=l,f.state=K,f.context=N,l=J):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&G===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&G===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,mu(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,s=l&&typeof s.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=Sa(n,t.child,null,c),n.child=Sa(n,null,s,c)):nn(t,n,s,c),n.memoizedState=f.state,t=n.child):t=Ki(t,n,c),t}function qg(t,n,s,l){return va(),n.flags|=256,nn(t,n,s,l),n.child}var Mh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function jh(t){return{baseLanes:t,cachePool:Nm()}}function Lh(t,n,s){return t=t!==null?t.childLanes&~s:0,n&&(t|=jn),t}function Hg(t,n,s){var l=n.pendingProps,c=!1,f=(n.flags&128)!==0,y;if((y=f)||(y=t!==null&&t.memoizedState===null?!1:(Re.current&2)!==0),y&&(c=!0,n.flags&=-129),y=(n.flags&32)!==0,n.flags&=-33,t===null){if(Ft){if(c?ws(n):Cs(),(t=ge)?(t=$p(t,Qn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:_s!==null?{id:Ci,overflow:Ri}:null,retryLane:536870912,hydrationErrors:null},s=Tm(t),s.return=n,n.child=s,tn=n,ge=null)):t=null,t===null)throw Es(n);return _f(t)?n.lanes=32:n.lanes=536870912,null}var E=l.children;return l=l.fallback,c?(Cs(),c=n.mode,E=gu({mode:"hidden",children:E},c),l=ya(l,c,s,null),E.return=n,l.return=n,E.sibling=l,n.child=E,l=n.child,l.memoizedState=jh(s),l.childLanes=Lh(t,y,s),n.memoizedState=Mh,Cl(null,l)):(ws(n),kh(n,E))}var N=t.memoizedState;if(N!==null&&(E=N.dehydrated,E!==null)){if(f)n.flags&256?(ws(n),n.flags&=-257,n=zh(t,n,s)):n.memoizedState!==null?(Cs(),n.child=t.child,n.flags|=128,n=null):(Cs(),E=l.fallback,c=n.mode,l=gu({mode:"visible",children:l.children},c),E=ya(E,c,s,null),E.flags|=2,l.return=n,E.return=n,l.sibling=E,n.child=l,Sa(n,t.child,null,s),l=n.child,l.memoizedState=jh(s),l.childLanes=Lh(t,y,s),n.memoizedState=Mh,n=Cl(null,l));else if(ws(n),_f(E)){if(y=E.nextSibling&&E.nextSibling.dataset,y)var F=y.dgst;y=F,l=Error(r(419)),l.stack="",l.digest=y,gl({value:l,source:null,stack:null}),n=zh(t,n,s)}else if(ze||lr(t,n,s,!1),y=(s&t.childLanes)!==0,ze||y){if(y=fe,y!==null&&(l=re(y,s),l!==0&&l!==N.retryLane))throw N.retryLane=l,pa(t,l),xn(y,t,l),Vh;vf(E)||Su(),n=zh(t,n,s)}else vf(E)?(n.flags|=192,n.child=t.child,n=null):(t=N.treeContext,ge=Kn(E.nextSibling),tn=n,Ft=!0,bs=null,Qn=!1,t!==null&&Am(n,t),n=kh(n,l.children),n.flags|=4096);return n}return c?(Cs(),E=l.fallback,c=n.mode,N=t.child,F=N.sibling,l=qi(N,{mode:"hidden",children:l.children}),l.subtreeFlags=N.subtreeFlags&65011712,F!==null?E=qi(F,E):(E=ya(E,c,s,null),E.flags|=2),E.return=n,l.return=n,l.sibling=E,n.child=l,Cl(null,l),l=n.child,E=t.child.memoizedState,E===null?E=jh(s):(c=E.cachePool,c!==null?(N=Le._currentValue,c=c.parent!==N?{parent:N,pool:N}:c):c=Nm(),E={baseLanes:E.baseLanes|s,cachePool:c}),l.memoizedState=E,l.childLanes=Lh(t,y,s),n.memoizedState=Mh,Cl(t.child,l)):(ws(n),s=t.child,t=s.sibling,s=qi(s,{mode:"visible",children:l.children}),s.return=n,s.sibling=null,t!==null&&(y=n.deletions,y===null?(n.deletions=[t],n.flags|=16):y.push(t)),n.child=s,n.memoizedState=null,s)}function kh(t,n){return n=gu({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function gu(t,n){return t=Nn(22,t,null,n),t.lanes=0,t}function zh(t,n,s){return Sa(n,t.child,null,s),t=kh(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function Fg(t,n,s){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),Wc(t.return,n,s)}function Uh(t,n,s,l,c,f){var y=t.memoizedState;y===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:c,treeForkCount:f}:(y.isBackwards=n,y.rendering=null,y.renderingStartTime=0,y.last=l,y.tail=s,y.tailMode=c,y.treeForkCount=f)}function Gg(t,n,s){var l=n.pendingProps,c=l.revealOrder,f=l.tail;l=l.children;var y=Re.current,E=(y&2)!==0;if(E?(y=y&1|2,n.flags|=128):y&=1,dt(Re,y),nn(t,n,l,s),l=Ft?ml:0,!E&&t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Fg(t,s,n);else if(t.tag===19)Fg(t,s,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(c){case"forwards":for(s=n.child,c=null;s!==null;)t=s.alternate,t!==null&&iu(t)===null&&(c=s),s=s.sibling;s=c,s===null?(c=n.child,n.child=null):(c=s.sibling,s.sibling=null),Uh(n,!1,c,s,f,l);break;case"backwards":case"unstable_legacy-backwards":for(s=null,c=n.child,n.child=null;c!==null;){if(t=c.alternate,t!==null&&iu(t)===null){n.child=c;break}t=c.sibling,c.sibling=s,s=c,c=t}Uh(n,!0,s,null,f,l);break;case"together":Uh(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function Ki(t,n,s){if(t!==null&&(n.dependencies=t.dependencies),Is|=n.lanes,(s&n.childLanes)===0)if(t!==null){if(lr(t,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(r(153));if(n.child!==null){for(t=n.child,s=qi(t,t.pendingProps),n.child=s,s.return=n;t.sibling!==null;)t=t.sibling,s=s.sibling=qi(t,t.pendingProps),s.return=n;s.sibling=null}return n.child}function Bh(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Xo(t)))}function db(t,n,s){switch(n.tag){case 3:bt(n,n.stateNode.containerInfo),Ts(n,Le,t.memoizedState.cache),va();break;case 27:case 5:Ne(n);break;case 4:bt(n,n.stateNode.containerInfo);break;case 10:Ts(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,hh(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(ws(n),n.flags|=128,null):(s&n.child.childLanes)!==0?Hg(t,n,s):(ws(n),t=Ki(t,n,s),t!==null?t.sibling:null);ws(n);break;case 19:var c=(t.flags&128)!==0;if(l=(s&n.childLanes)!==0,l||(lr(t,n,s,!1),l=(s&n.childLanes)!==0),c){if(l)return Gg(t,n,s);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),dt(Re,Re.current),l)break;return null;case 22:return n.lanes=0,kg(t,n,s,n.pendingProps);case 24:Ts(n,Le,t.memoizedState.cache)}return Ki(t,n,s)}function Qg(t,n,s){if(t!==null)if(t.memoizedProps!==n.pendingProps)ze=!0;else{if(!Bh(t,s)&&(n.flags&128)===0)return ze=!1,db(t,n,s);ze=(t.flags&131072)!==0}else ze=!1,Ft&&(n.flags&1048576)!==0&&Sm(n,ml,n.index);switch(n.lanes=0,n.tag){case 16:t:{var l=n.pendingProps;if(t=Ta(n.elementType),n.type=t,typeof t=="function")Gc(t)?(l=wa(t,l),n.tag=1,n=Pg(null,n,t,l,s)):(n.tag=0,n=Oh(null,n,t,l,s));else{if(t!=null){var c=t.$$typeof;if(c===pt){n.tag=11,n=Mg(null,n,t,l,s);break t}else if(c===R){n.tag=14,n=jg(null,n,t,l,s);break t}}throw n=Gt(t)||t,Error(r(306,n,""))}}return n;case 0:return Oh(t,n,n.type,n.pendingProps,s);case 1:return l=n.type,c=wa(l,n.pendingProps),Pg(t,n,l,c,s);case 3:t:{if(bt(n,n.stateNode.containerInfo),t===null)throw Error(r(387));l=n.pendingProps;var f=n.memoizedState;c=f.element,rh(t,n),Tl(n,l,null,s);var y=n.memoizedState;if(l=y.cache,Ts(n,Le,l),l!==f.cache&&th(n,[Le],s,!0),El(),l=y.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:y.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=qg(t,n,l,s);break t}else if(l!==c){c=Hn(Error(r(424)),n),gl(c),n=qg(t,n,l,s);break t}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(ge=Kn(t.firstChild),tn=n,Ft=!0,bs=null,Qn=!0,s=km(n,null,l,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(va(),l===c){n=Ki(t,n,s);break t}nn(t,n,l,s)}n=n.child}return n;case 26:return mu(t,n),t===null?(s=iy(n.type,null,n.pendingProps,null))?n.memoizedState=s:Ft||(s=n.type,t=n.pendingProps,l=Nu(X.current).createElement(s),l[Oe]=n,l[Ke]=t,sn(l,s,t),Me(l),n.stateNode=l):n.memoizedState=iy(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Ne(n),t===null&&Ft&&(l=n.stateNode=ty(n.type,n.pendingProps,X.current),tn=n,Qn=!0,c=ge,js(n.type)?(bf=c,ge=Kn(l.firstChild)):ge=c),nn(t,n,n.pendingProps.children,s),mu(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Ft&&((c=l=ge)&&(l=Hb(l,n.type,n.pendingProps,Qn),l!==null?(n.stateNode=l,tn=n,ge=Kn(l.firstChild),Qn=!1,c=!0):c=!1),c||Es(n)),Ne(n),c=n.type,f=n.pendingProps,y=t!==null?t.memoizedProps:null,l=f.children,gf(c,f)?l=null:y!==null&&gf(c,y)&&(n.flags|=32),n.memoizedState!==null&&(c=dh(t,n,sb,null,null,s),ql._currentValue=c),mu(t,n),nn(t,n,l,s),n.child;case 6:return t===null&&Ft&&((t=s=ge)&&(s=Fb(s,n.pendingProps,Qn),s!==null?(n.stateNode=s,tn=n,ge=null,t=!0):t=!1),t||Es(n)),null;case 13:return Hg(t,n,s);case 4:return bt(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=Sa(n,null,l,s):nn(t,n,l,s),n.child;case 11:return Mg(t,n,n.type,n.pendingProps,s);case 7:return nn(t,n,n.pendingProps,s),n.child;case 8:return nn(t,n,n.pendingProps.children,s),n.child;case 12:return nn(t,n,n.pendingProps.children,s),n.child;case 10:return l=n.pendingProps,Ts(n,n.type,l.value),nn(t,n,l.children,s),n.child;case 9:return c=n.type._context,l=n.pendingProps.children,ba(n),c=en(c),l=l(c),n.flags|=1,nn(t,n,l,s),n.child;case 14:return jg(t,n,n.type,n.pendingProps,s);case 15:return Lg(t,n,n.type,n.pendingProps,s);case 19:return Gg(t,n,s);case 31:return fb(t,n,s);case 22:return kg(t,n,s,n.pendingProps);case 24:return ba(n),l=en(Le),t===null?(c=ih(),c===null&&(c=fe,f=eh(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=s),c=f),n.memoizedState={parent:l,cache:c},ah(n),Ts(n,Le,c)):((t.lanes&s)!==0&&(rh(t,n),Tl(n,null,null,s),El()),c=t.memoizedState,f=n.memoizedState,c.parent!==l?(c={parent:l,cache:l},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),Ts(n,Le,l)):(l=f.cache,Ts(n,Le,l),l!==c.cache&&th(n,[Le],s,!0))),nn(t,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(r(156,n.tag))}function Xi(t){t.flags|=4}function Ph(t,n,s,l,c){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(c&335544128)===c)if(t.stateNode.complete)t.flags|=8192;else if(_p())t.flags|=8192;else throw xa=Wo,sh}else t.flags&=-16777217}function Yg(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!oy(n))if(_p())t.flags|=8192;else throw xa=Wo,sh}function pu(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?sa():536870912,t.lanes|=n,_r|=n)}function Rl(t,n){if(!Ft)switch(t.tailMode){case"hidden":n=t.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function pe(t){var n=t.alternate!==null&&t.alternate.child===t.child,s=0,l=0;if(n)for(var c=t.child;c!==null;)s|=c.lanes|c.childLanes,l|=c.subtreeFlags&65011712,l|=c.flags&65011712,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)s|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=l,t.childLanes=s,n}function mb(t,n,s){var l=n.pendingProps;switch(Xc(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pe(n),null;case 1:return pe(n),null;case 3:return s=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Gi(Le),ut(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(rr(n)?Xi(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,$c())),pe(n),null;case 26:var c=n.type,f=n.memoizedState;return t===null?(Xi(n),f!==null?(pe(n),Yg(n,f)):(pe(n),Ph(n,c,null,l,s))):f?f!==t.memoizedState?(Xi(n),pe(n),Yg(n,f)):(pe(n),n.flags&=-16777217):(t=t.memoizedProps,t!==l&&Xi(n),pe(n),Ph(n,c,t,l,s)),null;case 27:if(Ve(n),s=X.current,c=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Xi(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return pe(n),null}t=mt.current,rr(n)?wm(n):(t=ty(c,l,s),n.stateNode=t,Xi(n))}return pe(n),null;case 5:if(Ve(n),c=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Xi(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return pe(n),null}if(f=mt.current,rr(n))wm(n);else{var y=Nu(X.current);switch(f){case 1:f=y.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:f=y.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":f=y.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":f=y.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":f=y.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?y.createElement("select",{is:l.is}):y.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?y.createElement(c,{is:l.is}):y.createElement(c)}}f[Oe]=n,f[Ke]=l;t:for(y=n.child;y!==null;){if(y.tag===5||y.tag===6)f.appendChild(y.stateNode);else if(y.tag!==4&&y.tag!==27&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===n)break t;for(;y.sibling===null;){if(y.return===null||y.return===n)break t;y=y.return}y.sibling.return=y.return,y=y.sibling}n.stateNode=f;t:switch(sn(f,c,l),c){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&Xi(n)}}return pe(n),Ph(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,s),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&Xi(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(r(166));if(t=X.current,rr(n)){if(t=n.stateNode,s=n.memoizedProps,l=null,c=tn,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}t[Oe]=n,t=!!(t.nodeValue===s||l!==null&&l.suppressHydrationWarning===!0||Hp(t.nodeValue,s)),t||Es(n,!0)}else t=Nu(t).createTextNode(l),t[Oe]=n,n.stateNode=t}return pe(n),null;case 31:if(s=n.memoizedState,t===null||t.memoizedState!==null){if(l=rr(n),s!==null){if(t===null){if(!l)throw Error(r(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(557));t[Oe]=n}else va(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;pe(n),t=!1}else s=$c(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=s),t=!0;if(!t)return n.flags&256?(On(n),n):(On(n),null);if((n.flags&128)!==0)throw Error(r(558))}return pe(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=rr(n),l!==null&&l.dehydrated!==null){if(t===null){if(!c)throw Error(r(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(r(317));c[Oe]=n}else va(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;pe(n),c=!1}else c=$c(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(On(n),n):(On(n),null)}return On(n),(n.flags&128)!==0?(n.lanes=s,n):(s=l!==null,t=t!==null&&t.memoizedState!==null,s&&(l=n.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==c&&(l.flags|=2048)),s!==t&&s&&(n.child.flags|=8192),pu(n,n.updateQueue),pe(n),null);case 4:return ut(),t===null&&cf(n.stateNode.containerInfo),pe(n),null;case 10:return Gi(n.type),pe(n),null;case 19:if(tt(Re),l=n.memoizedState,l===null)return pe(n),null;if(c=(n.flags&128)!==0,f=l.rendering,f===null)if(c)Rl(l,!1);else{if(Ae!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=iu(t),f!==null){for(n.flags|=128,Rl(l,!1),t=f.updateQueue,n.updateQueue=t,pu(n,t),n.subtreeFlags=0,t=s,s=n.child;s!==null;)Em(s,t),s=s.sibling;return dt(Re,Re.current&1|2),Ft&&Hi(n,l.treeForkCount),n.child}t=t.sibling}l.tail!==null&&we()>Eu&&(n.flags|=128,c=!0,Rl(l,!1),n.lanes=4194304)}else{if(!c)if(t=iu(f),t!==null){if(n.flags|=128,c=!0,t=t.updateQueue,n.updateQueue=t,pu(n,t),Rl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!Ft)return pe(n),null}else 2*we()-l.renderingStartTime>Eu&&s!==536870912&&(n.flags|=128,c=!0,Rl(l,!1),n.lanes=4194304);l.isBackwards?(f.sibling=n.child,n.child=f):(t=l.last,t!==null?t.sibling=f:n.child=f,l.last=f)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=we(),t.sibling=null,s=Re.current,dt(Re,c?s&1|2:s&1),Ft&&Hi(n,l.treeForkCount),t):(pe(n),null);case 22:case 23:return On(n),ch(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(s&536870912)!==0&&(n.flags&128)===0&&(pe(n),n.subtreeFlags&6&&(n.flags|=8192)):pe(n),s=n.updateQueue,s!==null&&pu(n,s.retryQueue),s=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==s&&(n.flags|=2048),t!==null&&tt(Ea),null;case 24:return s=null,t!==null&&(s=t.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),Gi(Le),pe(n),null;case 25:return null;case 30:return null}throw Error(r(156,n.tag))}function gb(t,n){switch(Xc(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Gi(Le),ut(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return Ve(n),null;case 31:if(n.memoizedState!==null){if(On(n),n.alternate===null)throw Error(r(340));va()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(On(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(r(340));va()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return tt(Re),null;case 4:return ut(),null;case 10:return Gi(n.type),null;case 22:case 23:return On(n),ch(),t!==null&&tt(Ea),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Gi(Le),null;case 25:return null;default:return null}}function Kg(t,n){switch(Xc(n),n.tag){case 3:Gi(Le),ut();break;case 26:case 27:case 5:Ve(n);break;case 4:ut();break;case 31:n.memoizedState!==null&&On(n);break;case 13:On(n);break;case 19:tt(Re);break;case 10:Gi(n.type);break;case 22:case 23:On(n),ch(),t!==null&&tt(Ea);break;case 24:Gi(Le)}}function Dl(t,n){try{var s=n.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var c=l.next;s=c;do{if((s.tag&t)===t){l=void 0;var f=s.create,y=s.inst;l=f(),y.destroy=l}s=s.next}while(s!==c)}}catch(E){ae(n,n.return,E)}}function Rs(t,n,s){try{var l=n.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var f=c.next;l=f;do{if((l.tag&t)===t){var y=l.inst,E=y.destroy;if(E!==void 0){y.destroy=void 0,c=n;var N=s,F=E;try{F()}catch(J){ae(c,N,J)}}}l=l.next}while(l!==f)}}catch(J){ae(n,n.return,J)}}function Xg(t){var n=t.updateQueue;if(n!==null){var s=t.stateNode;try{Um(n,s)}catch(l){ae(t,t.return,l)}}}function Zg(t,n,s){s.props=wa(t.type,t.memoizedProps),s.state=t.memoizedState;try{s.componentWillUnmount()}catch(l){ae(t,n,l)}}function Il(t,n){try{var s=t.ref;if(s!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof s=="function"?t.refCleanup=s(l):s.current=l}}catch(c){ae(t,n,c)}}function Di(t,n){var s=t.ref,l=t.refCleanup;if(s!==null)if(typeof l=="function")try{l()}catch(c){ae(t,n,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(c){ae(t,n,c)}else s.current=null}function $g(t){var n=t.type,s=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&l.focus();break t;case"img":s.src?l.src=s.src:s.srcSet&&(l.srcset=s.srcSet)}}catch(c){ae(t,t.return,c)}}function qh(t,n,s){try{var l=t.stateNode;kb(l,t.type,s,n),l[Ke]=n}catch(c){ae(t,t.return,c)}}function Jg(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&js(t.type)||t.tag===4}function Hh(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||Jg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&js(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Fh(t,n,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(t,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(t),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=ti));else if(l!==4&&(l===27&&js(t.type)&&(s=t.stateNode,n=null),t=t.child,t!==null))for(Fh(t,n,s),t=t.sibling;t!==null;)Fh(t,n,s),t=t.sibling}function yu(t,n,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?s.insertBefore(t,n):s.appendChild(t);else if(l!==4&&(l===27&&js(t.type)&&(s=t.stateNode),t=t.child,t!==null))for(yu(t,n,s),t=t.sibling;t!==null;)yu(t,n,s),t=t.sibling}function Wg(t){var n=t.stateNode,s=t.memoizedProps;try{for(var l=t.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);sn(n,l,s),n[Oe]=t,n[Ke]=s}catch(f){ae(t,t.return,f)}}var Zi=!1,Ue=!1,Gh=!1,tp=typeof WeakSet=="function"?WeakSet:Set,Ze=null;function pb(t,n){if(t=t.containerInfo,df=zu,t=fm(t),zc(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else t:{s=(s=t.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var c=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break t}var y=0,E=-1,N=-1,F=0,J=0,it=t,G=null;e:for(;;){for(var K;it!==s||c!==0&&it.nodeType!==3||(E=y+c),it!==f||l!==0&&it.nodeType!==3||(N=y+l),it.nodeType===3&&(y+=it.nodeValue.length),(K=it.firstChild)!==null;)G=it,it=K;for(;;){if(it===t)break e;if(G===s&&++F===c&&(E=y),G===f&&++J===l&&(N=y),(K=it.nextSibling)!==null)break;it=G,G=it.parentNode}it=K}s=E===-1||N===-1?null:{start:E,end:N}}else s=null}s=s||{start:0,end:0}}else s=null;for(mf={focusedElem:t,selectionRange:s},zu=!1,Ze=n;Ze!==null;)if(n=Ze,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,Ze=t;else for(;Ze!==null;){switch(n=Ze,f=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(s=0;s<t.length;s++)c=t[s],c.ref.impl=c.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,s=n,c=f.memoizedProps,f=f.memoizedState,l=s.stateNode;try{var vt=wa(s.type,c);t=l.getSnapshotBeforeUpdate(vt,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(Ct){ae(s,s.return,Ct)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,s=t.nodeType,s===9)yf(t);else if(s===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":yf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=n.sibling,t!==null){t.return=n.return,Ze=t;break}Ze=n.return}}function ep(t,n,s){var l=s.flags;switch(s.tag){case 0:case 11:case 15:Ji(t,s),l&4&&Dl(5,s);break;case 1:if(Ji(t,s),l&4)if(t=s.stateNode,n===null)try{t.componentDidMount()}catch(y){ae(s,s.return,y)}else{var c=wa(s.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(c,n,t.__reactInternalSnapshotBeforeUpdate)}catch(y){ae(s,s.return,y)}}l&64&&Xg(s),l&512&&Il(s,s.return);break;case 3:if(Ji(t,s),l&64&&(t=s.updateQueue,t!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{Um(t,n)}catch(y){ae(s,s.return,y)}}break;case 27:n===null&&l&4&&Wg(s);case 26:case 5:Ji(t,s),n===null&&l&4&&$g(s),l&512&&Il(s,s.return);break;case 12:Ji(t,s);break;case 31:Ji(t,s),l&4&&sp(t,s);break;case 13:Ji(t,s),l&4&&ap(t,s),l&64&&(t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(s=Ab.bind(null,s),Gb(t,s))));break;case 22:if(l=s.memoizedState!==null||Zi,!l){n=n!==null&&n.memoizedState!==null||Ue,c=Zi;var f=Ue;Zi=l,(Ue=n)&&!f?Wi(t,s,(s.subtreeFlags&8772)!==0):Ji(t,s),Zi=c,Ue=f}break;case 30:break;default:Ji(t,s)}}function np(t){var n=t.alternate;n!==null&&(t.alternate=null,np(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Ha(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var _e=null,_n=!1;function $i(t,n,s){for(s=s.child;s!==null;)ip(t,n,s),s=s.sibling}function ip(t,n,s){if(te&&typeof te.onCommitFiberUnmount=="function")try{te.onCommitFiberUnmount(me,s)}catch{}switch(s.tag){case 26:Ue||Di(s,n),$i(t,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Ue||Di(s,n);var l=_e,c=_n;js(s.type)&&(_e=s.stateNode,_n=!1),$i(t,n,s),Ul(s.stateNode),_e=l,_n=c;break;case 5:Ue||Di(s,n);case 6:if(l=_e,c=_n,_e=null,$i(t,n,s),_e=l,_n=c,_e!==null)if(_n)try{(_e.nodeType===9?_e.body:_e.nodeName==="HTML"?_e.ownerDocument.body:_e).removeChild(s.stateNode)}catch(f){ae(s,n,f)}else try{_e.removeChild(s.stateNode)}catch(f){ae(s,n,f)}break;case 18:_e!==null&&(_n?(t=_e,Xp(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,s.stateNode),Cr(t)):Xp(_e,s.stateNode));break;case 4:l=_e,c=_n,_e=s.stateNode.containerInfo,_n=!0,$i(t,n,s),_e=l,_n=c;break;case 0:case 11:case 14:case 15:Rs(2,s,n),Ue||Rs(4,s,n),$i(t,n,s);break;case 1:Ue||(Di(s,n),l=s.stateNode,typeof l.componentWillUnmount=="function"&&Zg(s,n,l)),$i(t,n,s);break;case 21:$i(t,n,s);break;case 22:Ue=(l=Ue)||s.memoizedState!==null,$i(t,n,s),Ue=l;break;default:$i(t,n,s)}}function sp(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Cr(t)}catch(s){ae(n,n.return,s)}}}function ap(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Cr(t)}catch(s){ae(n,n.return,s)}}function yb(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new tp),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new tp),n;default:throw Error(r(435,t.tag))}}function vu(t,n){var s=yb(t);n.forEach(function(l){if(!s.has(l)){s.add(l);var c=wb.bind(null,t,l);l.then(c,c)}})}function bn(t,n){var s=n.deletions;if(s!==null)for(var l=0;l<s.length;l++){var c=s[l],f=t,y=n,E=y;t:for(;E!==null;){switch(E.tag){case 27:if(js(E.type)){_e=E.stateNode,_n=!1;break t}break;case 5:_e=E.stateNode,_n=!1;break t;case 3:case 4:_e=E.stateNode.containerInfo,_n=!0;break t}E=E.return}if(_e===null)throw Error(r(160));ip(f,y,c),_e=null,_n=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)rp(n,t),n=n.sibling}var ri=null;function rp(t,n){var s=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:bn(n,t),En(t),l&4&&(Rs(3,t,t.return),Dl(3,t),Rs(5,t,t.return));break;case 1:bn(n,t),En(t),l&512&&(Ue||s===null||Di(s,s.return)),l&64&&Zi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(s=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=s===null?l:s.concat(l))));break;case 26:var c=ri;if(bn(n,t),En(t),l&512&&(Ue||s===null||Di(s,s.return)),l&4){var f=s!==null?s.memoizedState:null;if(l=t.memoizedState,s===null)if(l===null)if(t.stateNode===null){t:{l=t.type,s=t.memoizedProps,c=c.ownerDocument||c;e:switch(l){case"title":f=c.getElementsByTagName("title")[0],(!f||f[gi]||f[Oe]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(l),c.head.insertBefore(f,c.querySelector("head > title"))),sn(f,l,s),f[Oe]=t,Me(f),l=f;break t;case"link":var y=ry("link","href",c).get(l+(s.href||""));if(y){for(var E=0;E<y.length;E++)if(f=y[E],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){y.splice(E,1);break e}}f=c.createElement(l),sn(f,l,s),c.head.appendChild(f);break;case"meta":if(y=ry("meta","content",c).get(l+(s.content||""))){for(E=0;E<y.length;E++)if(f=y[E],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){y.splice(E,1);break e}}f=c.createElement(l),sn(f,l,s),c.head.appendChild(f);break;default:throw Error(r(468,l))}f[Oe]=t,Me(f),l=f}t.stateNode=l}else ly(c,t.type,t.stateNode);else t.stateNode=ay(c,l,t.memoizedProps);else f!==l?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,l===null?ly(c,t.type,t.stateNode):ay(c,l,t.memoizedProps)):l===null&&t.stateNode!==null&&qh(t,t.memoizedProps,s.memoizedProps)}break;case 27:bn(n,t),En(t),l&512&&(Ue||s===null||Di(s,s.return)),s!==null&&l&4&&qh(t,t.memoizedProps,s.memoizedProps);break;case 5:if(bn(n,t),En(t),l&512&&(Ue||s===null||Di(s,s.return)),t.flags&32){c=t.stateNode;try{vn(c,"")}catch(vt){ae(t,t.return,vt)}}l&4&&t.stateNode!=null&&(c=t.memoizedProps,qh(t,c,s!==null?s.memoizedProps:c)),l&1024&&(Gh=!0);break;case 6:if(bn(n,t),En(t),l&4){if(t.stateNode===null)throw Error(r(162));l=t.memoizedProps,s=t.stateNode;try{s.nodeValue=l}catch(vt){ae(t,t.return,vt)}}break;case 3:if(Mu=null,c=ri,ri=Vu(n.containerInfo),bn(n,t),ri=c,En(t),l&4&&s!==null&&s.memoizedState.isDehydrated)try{Cr(n.containerInfo)}catch(vt){ae(t,t.return,vt)}Gh&&(Gh=!1,lp(t));break;case 4:l=ri,ri=Vu(t.stateNode.containerInfo),bn(n,t),En(t),ri=l;break;case 12:bn(n,t),En(t);break;case 31:bn(n,t),En(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,vu(t,l)));break;case 13:bn(n,t),En(t),t.child.flags&8192&&t.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(bu=we()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,vu(t,l)));break;case 22:c=t.memoizedState!==null;var N=s!==null&&s.memoizedState!==null,F=Zi,J=Ue;if(Zi=F||c,Ue=J||N,bn(n,t),Ue=J,Zi=F,En(t),l&8192)t:for(n=t.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(s===null||N||Zi||Ue||Ca(t)),s=null,n=t;;){if(n.tag===5||n.tag===26){if(s===null){N=s=n;try{if(f=N.stateNode,c)y=f.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{E=N.stateNode;var it=N.memoizedProps.style,G=it!=null&&it.hasOwnProperty("display")?it.display:null;E.style.display=G==null||typeof G=="boolean"?"":(""+G).trim()}}catch(vt){ae(N,N.return,vt)}}}else if(n.tag===6){if(s===null){N=n;try{N.stateNode.nodeValue=c?"":N.memoizedProps}catch(vt){ae(N,N.return,vt)}}}else if(n.tag===18){if(s===null){N=n;try{var K=N.stateNode;c?Zp(K,!0):Zp(N.stateNode,!1)}catch(vt){ae(N,N.return,vt)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(s=l.retryQueue,s!==null&&(l.retryQueue=null,vu(t,s))));break;case 19:bn(n,t),En(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,vu(t,l)));break;case 30:break;case 21:break;default:bn(n,t),En(t)}}function En(t){var n=t.flags;if(n&2){try{for(var s,l=t.return;l!==null;){if(Jg(l)){s=l;break}l=l.return}if(s==null)throw Error(r(160));switch(s.tag){case 27:var c=s.stateNode,f=Hh(t);yu(t,f,c);break;case 5:var y=s.stateNode;s.flags&32&&(vn(y,""),s.flags&=-33);var E=Hh(t);yu(t,E,y);break;case 3:case 4:var N=s.stateNode.containerInfo,F=Hh(t);Fh(t,F,N);break;default:throw Error(r(161))}}catch(J){ae(t,t.return,J)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function lp(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;lp(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function Ji(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)ep(t,n.alternate,n),n=n.sibling}function Ca(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Rs(4,n,n.return),Ca(n);break;case 1:Di(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&Zg(n,n.return,s),Ca(n);break;case 27:Ul(n.stateNode);case 26:case 5:Di(n,n.return),Ca(n);break;case 22:n.memoizedState===null&&Ca(n);break;case 30:Ca(n);break;default:Ca(n)}t=t.sibling}}function Wi(t,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,c=t,f=n,y=f.flags;switch(f.tag){case 0:case 11:case 15:Wi(c,f,s),Dl(4,f);break;case 1:if(Wi(c,f,s),l=f,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(F){ae(l,l.return,F)}if(l=f,c=l.updateQueue,c!==null){var E=l.stateNode;try{var N=c.shared.hiddenCallbacks;if(N!==null)for(c.shared.hiddenCallbacks=null,c=0;c<N.length;c++)zm(N[c],E)}catch(F){ae(l,l.return,F)}}s&&y&64&&Xg(f),Il(f,f.return);break;case 27:Wg(f);case 26:case 5:Wi(c,f,s),s&&l===null&&y&4&&$g(f),Il(f,f.return);break;case 12:Wi(c,f,s);break;case 31:Wi(c,f,s),s&&y&4&&sp(c,f);break;case 13:Wi(c,f,s),s&&y&4&&ap(c,f);break;case 22:f.memoizedState===null&&Wi(c,f,s),Il(f,f.return);break;case 30:break;default:Wi(c,f,s)}n=n.sibling}}function Qh(t,n){var s=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==s&&(t!=null&&t.refCount++,s!=null&&pl(s))}function Yh(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&pl(t))}function li(t,n,s,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)op(t,n,s,l),n=n.sibling}function op(t,n,s,l){var c=n.flags;switch(n.tag){case 0:case 11:case 15:li(t,n,s,l),c&2048&&Dl(9,n);break;case 1:li(t,n,s,l);break;case 3:li(t,n,s,l),c&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&pl(t)));break;case 12:if(c&2048){li(t,n,s,l),t=n.stateNode;try{var f=n.memoizedProps,y=f.id,E=f.onPostCommit;typeof E=="function"&&E(y,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(N){ae(n,n.return,N)}}else li(t,n,s,l);break;case 31:li(t,n,s,l);break;case 13:li(t,n,s,l);break;case 23:break;case 22:f=n.stateNode,y=n.alternate,n.memoizedState!==null?f._visibility&2?li(t,n,s,l):Nl(t,n):f._visibility&2?li(t,n,s,l):(f._visibility|=2,pr(t,n,s,l,(n.subtreeFlags&10256)!==0||!1)),c&2048&&Qh(y,n);break;case 24:li(t,n,s,l),c&2048&&Yh(n.alternate,n);break;default:li(t,n,s,l)}}function pr(t,n,s,l,c){for(c=c&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=t,y=n,E=s,N=l,F=y.flags;switch(y.tag){case 0:case 11:case 15:pr(f,y,E,N,c),Dl(8,y);break;case 23:break;case 22:var J=y.stateNode;y.memoizedState!==null?J._visibility&2?pr(f,y,E,N,c):Nl(f,y):(J._visibility|=2,pr(f,y,E,N,c)),c&&F&2048&&Qh(y.alternate,y);break;case 24:pr(f,y,E,N,c),c&&F&2048&&Yh(y.alternate,y);break;default:pr(f,y,E,N,c)}n=n.sibling}}function Nl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=t,l=n,c=l.flags;switch(l.tag){case 22:Nl(s,l),c&2048&&Qh(l.alternate,l);break;case 24:Nl(s,l),c&2048&&Yh(l.alternate,l);break;default:Nl(s,l)}n=n.sibling}}var Vl=8192;function yr(t,n,s){if(t.subtreeFlags&Vl)for(t=t.child;t!==null;)up(t,n,s),t=t.sibling}function up(t,n,s){switch(t.tag){case 26:yr(t,n,s),t.flags&Vl&&t.memoizedState!==null&&iE(s,ri,t.memoizedState,t.memoizedProps);break;case 5:yr(t,n,s);break;case 3:case 4:var l=ri;ri=Vu(t.stateNode.containerInfo),yr(t,n,s),ri=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=Vl,Vl=16777216,yr(t,n,s),Vl=l):yr(t,n,s));break;default:yr(t,n,s)}}function cp(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function Ol(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];Ze=l,fp(l,t)}cp(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)hp(t),t=t.sibling}function hp(t){switch(t.tag){case 0:case 11:case 15:Ol(t),t.flags&2048&&Rs(9,t,t.return);break;case 3:Ol(t);break;case 12:Ol(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,_u(t)):Ol(t);break;default:Ol(t)}}function _u(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];Ze=l,fp(l,t)}cp(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Rs(8,n,n.return),_u(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,_u(n));break;default:_u(n)}t=t.sibling}}function fp(t,n){for(;Ze!==null;){var s=Ze;switch(s.tag){case 0:case 11:case 15:Rs(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var l=s.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:pl(s.memoizedState.cache)}if(l=s.child,l!==null)l.return=s,Ze=l;else t:for(s=t;Ze!==null;){l=Ze;var c=l.sibling,f=l.return;if(np(l),l===s){Ze=null;break t}if(c!==null){c.return=f,Ze=c;break t}Ze=f}}}var vb={getCacheForType:function(t){var n=en(Le),s=n.data.get(t);return s===void 0&&(s=t(),n.data.set(t,s)),s},cacheSignal:function(){return en(Le).controller.signal}},_b=typeof WeakMap=="function"?WeakMap:Map,Jt=0,fe=null,kt=null,Ut=0,se=0,Mn=null,Ds=!1,vr=!1,Kh=!1,ts=0,Ae=0,Is=0,Ra=0,Xh=0,jn=0,_r=0,Ml=null,Tn=null,Zh=!1,bu=0,dp=0,Eu=1/0,Tu=null,Ns=null,qe=0,Vs=null,br=null,es=0,$h=0,Jh=null,mp=null,jl=0,Wh=null;function Ln(){return(Jt&2)!==0&&Ut!==0?Ut&-Ut:Z.T!==null?rf():Pa()}function gp(){if(jn===0)if((Ut&536870912)===0||Ft){var t=fi;fi<<=1,(fi&3932160)===0&&(fi=262144),jn=t}else jn=536870912;return t=Vn.current,t!==null&&(t.flags|=32),jn}function xn(t,n,s){(t===fe&&(se===2||se===9)||t.cancelPendingCommit!==null)&&(Er(t,0),Os(t,Ut,jn,!1)),di(t,s),((Jt&2)===0||t!==fe)&&(t===fe&&((Jt&2)===0&&(Ra|=s),Ae===4&&Os(t,Ut,jn,!1)),Ii(t))}function pp(t,n,s){if((Jt&6)!==0)throw Error(r(327));var l=!s&&(n&127)===0&&(n&t.expiredLanes)===0||pn(t,n),c=l?Tb(t,n):ef(t,n,!0),f=l;do{if(c===0){vr&&!l&&Os(t,n,0,!1);break}else{if(s=t.current.alternate,f&&!bb(s)){c=ef(t,n,!1),f=!1;continue}if(c===2){if(f=n,t.errorRecoveryDisabledLanes&f)var y=0;else y=t.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){n=y;t:{var E=t;c=Ml;var N=E.current.memoizedState.isDehydrated;if(N&&(Er(E,y).flags|=256),y=ef(E,y,!1),y!==2){if(Kh&&!N){E.errorRecoveryDisabledLanes|=f,Ra|=f,c=4;break t}f=Tn,Tn=c,f!==null&&(Tn===null?Tn=f:Tn.push.apply(Tn,f))}c=y}if(f=!1,c!==2)continue}}if(c===1){Er(t,0),Os(t,n,0,!0);break}t:{switch(l=t,f=c,f){case 0:case 1:throw Error(r(345));case 4:if((n&4194048)!==n)break;case 6:Os(l,n,jn,!Ds);break t;case 2:Tn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((n&62914560)===n&&(c=bu+300-we(),10<c)){if(Os(l,n,jn,!Ds),wn(l,0,!0)!==0)break t;es=n,l.timeoutHandle=Yp(yp.bind(null,l,s,Tn,Tu,Zh,n,jn,Ra,_r,Ds,f,"Throttled",-0,0),c);break t}yp(l,s,Tn,Tu,Zh,n,jn,Ra,_r,Ds,f,null,-0,0)}}break}while(!0);Ii(t)}function yp(t,n,s,l,c,f,y,E,N,F,J,it,G,K){if(t.timeoutHandle=-1,it=n.subtreeFlags,it&8192||(it&16785408)===16785408){it={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ti},up(n,f,it);var vt=(f&62914560)===f?bu-we():(f&4194048)===f?dp-we():0;if(vt=sE(it,vt),vt!==null){es=f,t.cancelPendingCommit=vt(Ap.bind(null,t,n,f,s,l,c,y,E,N,J,it,null,G,K)),Os(t,f,y,!F);return}}Ap(t,n,f,s,l,c,y,E,N)}function bb(t){for(var n=t;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var l=0;l<s.length;l++){var c=s[l],f=c.getSnapshot;c=c.value;try{if(!In(f(),c))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Os(t,n,s,l){n&=~Xh,n&=~Ra,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var c=n;0<c;){var f=31-ee(c),y=1<<f;l[f]=-1,c&=~y}s!==0&&Qe(t,s,n)}function xu(){return(Jt&6)===0?(Ll(0),!1):!0}function tf(){if(kt!==null){if(se===0)var t=kt.return;else t=kt,Fi=_a=null,ph(t),hr=null,vl=0,t=kt;for(;t!==null;)Kg(t.alternate,t),t=t.return;kt=null}}function Er(t,n){var s=t.timeoutHandle;s!==-1&&(t.timeoutHandle=-1,Bb(s)),s=t.cancelPendingCommit,s!==null&&(t.cancelPendingCommit=null,s()),es=0,tf(),fe=t,kt=s=qi(t.current,null),Ut=n,se=0,Mn=null,Ds=!1,vr=pn(t,n),Kh=!1,_r=jn=Xh=Ra=Is=Ae=0,Tn=Ml=null,Zh=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var c=31-ee(l),f=1<<c;n|=t[c],l&=~f}return ts=n,Fo(),s}function vp(t,n){jt=null,Z.H=wl,n===cr||n===Jo?(n=Mm(),se=3):n===sh?(n=Mm(),se=4):se=n===Vh?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Mn=n,kt===null&&(Ae=1,fu(t,Hn(n,t.current)))}function _p(){var t=Vn.current;return t===null?!0:(Ut&4194048)===Ut?Yn===null:(Ut&62914560)===Ut||(Ut&536870912)!==0?t===Yn:!1}function bp(){var t=Z.H;return Z.H=wl,t===null?wl:t}function Ep(){var t=Z.A;return Z.A=vb,t}function Su(){Ae=4,Ds||(Ut&4194048)!==Ut&&Vn.current!==null||(vr=!0),(Is&134217727)===0&&(Ra&134217727)===0||fe===null||Os(fe,Ut,jn,!1)}function ef(t,n,s){var l=Jt;Jt|=2;var c=bp(),f=Ep();(fe!==t||Ut!==n)&&(Tu=null,Er(t,n)),n=!1;var y=Ae;t:do try{if(se!==0&&kt!==null){var E=kt,N=Mn;switch(se){case 8:tf(),y=6;break t;case 3:case 2:case 9:case 6:Vn.current===null&&(n=!0);var F=se;if(se=0,Mn=null,Tr(t,E,N,F),s&&vr){y=0;break t}break;default:F=se,se=0,Mn=null,Tr(t,E,N,F)}}Eb(),y=Ae;break}catch(J){vp(t,J)}while(!0);return n&&t.shellSuspendCounter++,Fi=_a=null,Jt=l,Z.H=c,Z.A=f,kt===null&&(fe=null,Ut=0,Fo()),y}function Eb(){for(;kt!==null;)Tp(kt)}function Tb(t,n){var s=Jt;Jt|=2;var l=bp(),c=Ep();fe!==t||Ut!==n?(Tu=null,Eu=we()+500,Er(t,n)):vr=pn(t,n);t:do try{if(se!==0&&kt!==null){n=kt;var f=Mn;e:switch(se){case 1:se=0,Mn=null,Tr(t,n,f,1);break;case 2:case 9:if(Vm(f)){se=0,Mn=null,xp(n);break}n=function(){se!==2&&se!==9||fe!==t||(se=7),Ii(t)},f.then(n,n);break t;case 3:se=7;break t;case 4:se=5;break t;case 7:Vm(f)?(se=0,Mn=null,xp(n)):(se=0,Mn=null,Tr(t,n,f,7));break;case 5:var y=null;switch(kt.tag){case 26:y=kt.memoizedState;case 5:case 27:var E=kt;if(y?oy(y):E.stateNode.complete){se=0,Mn=null;var N=E.sibling;if(N!==null)kt=N;else{var F=E.return;F!==null?(kt=F,Au(F)):kt=null}break e}}se=0,Mn=null,Tr(t,n,f,5);break;case 6:se=0,Mn=null,Tr(t,n,f,6);break;case 8:tf(),Ae=6;break t;default:throw Error(r(462))}}xb();break}catch(J){vp(t,J)}while(!0);return Fi=_a=null,Z.H=l,Z.A=c,Jt=s,kt!==null?0:(fe=null,Ut=0,Fo(),Ae)}function xb(){for(;kt!==null&&!Kr();)Tp(kt)}function Tp(t){var n=Qg(t.alternate,t,ts);t.memoizedProps=t.pendingProps,n===null?Au(t):kt=n}function xp(t){var n=t,s=n.alternate;switch(n.tag){case 15:case 0:n=Bg(s,n,n.pendingProps,n.type,void 0,Ut);break;case 11:n=Bg(s,n,n.pendingProps,n.type.render,n.ref,Ut);break;case 5:ph(n);default:Kg(s,n),n=kt=Em(n,ts),n=Qg(s,n,ts)}t.memoizedProps=t.pendingProps,n===null?Au(t):kt=n}function Tr(t,n,s,l){Fi=_a=null,ph(n),hr=null,vl=0;var c=n.return;try{if(hb(t,c,n,s,Ut)){Ae=1,fu(t,Hn(s,t.current)),kt=null;return}}catch(f){if(c!==null)throw kt=c,f;Ae=1,fu(t,Hn(s,t.current)),kt=null;return}n.flags&32768?(Ft||l===1?t=!0:vr||(Ut&536870912)!==0?t=!1:(Ds=t=!0,(l===2||l===9||l===3||l===6)&&(l=Vn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Sp(n,t)):Au(n)}function Au(t){var n=t;do{if((n.flags&32768)!==0){Sp(n,Ds);return}t=n.return;var s=mb(n.alternate,n,ts);if(s!==null){kt=s;return}if(n=n.sibling,n!==null){kt=n;return}kt=n=t}while(n!==null);Ae===0&&(Ae=5)}function Sp(t,n){do{var s=gb(t.alternate,t);if(s!==null){s.flags&=32767,kt=s;return}if(s=t.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(t=t.sibling,t!==null)){kt=t;return}kt=t=s}while(t!==null);Ae=6,kt=null}function Ap(t,n,s,l,c,f,y,E,N){t.cancelPendingCommit=null;do wu();while(qe!==0);if((Jt&6)!==0)throw Error(r(327));if(n!==null){if(n===t.current)throw Error(r(177));if(f=n.lanes|n.childLanes,f|=Hc,Ba(t,s,f,y,E,N),t===fe&&(kt=fe=null,Ut=0),br=n,Vs=t,es=s,$h=f,Jh=c,mp=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,Cb(et,function(){return Ip(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=Z.T,Z.T=null,c=ct.p,ct.p=2,y=Jt,Jt|=4;try{pb(t,n,s)}finally{Jt=y,ct.p=c,Z.T=l}}qe=1,wp(),Cp(),Rp()}}function wp(){if(qe===1){qe=0;var t=Vs,n=br,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=Z.T,Z.T=null;var l=ct.p;ct.p=2;var c=Jt;Jt|=4;try{rp(n,t);var f=mf,y=fm(t.containerInfo),E=f.focusedElem,N=f.selectionRange;if(y!==E&&E&&E.ownerDocument&&hm(E.ownerDocument.documentElement,E)){if(N!==null&&zc(E)){var F=N.start,J=N.end;if(J===void 0&&(J=F),"selectionStart"in E)E.selectionStart=F,E.selectionEnd=Math.min(J,E.value.length);else{var it=E.ownerDocument||document,G=it&&it.defaultView||window;if(G.getSelection){var K=G.getSelection(),vt=E.textContent.length,Ct=Math.min(N.start,vt),ce=N.end===void 0?Ct:Math.min(N.end,vt);!K.extend&&Ct>ce&&(y=ce,ce=Ct,Ct=y);var B=cm(E,Ct),j=cm(E,ce);if(B&&j&&(K.rangeCount!==1||K.anchorNode!==B.node||K.anchorOffset!==B.offset||K.focusNode!==j.node||K.focusOffset!==j.offset)){var H=it.createRange();H.setStart(B.node,B.offset),K.removeAllRanges(),Ct>ce?(K.addRange(H),K.extend(j.node,j.offset)):(H.setEnd(j.node,j.offset),K.addRange(H))}}}}for(it=[],K=E;K=K.parentNode;)K.nodeType===1&&it.push({element:K,left:K.scrollLeft,top:K.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<it.length;E++){var nt=it[E];nt.element.scrollLeft=nt.left,nt.element.scrollTop=nt.top}}zu=!!df,mf=df=null}finally{Jt=c,ct.p=l,Z.T=s}}t.current=n,qe=2}}function Cp(){if(qe===2){qe=0;var t=Vs,n=br,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=Z.T,Z.T=null;var l=ct.p;ct.p=2;var c=Jt;Jt|=4;try{ep(t,n.alternate,n)}finally{Jt=c,ct.p=l,Z.T=s}}qe=3}}function Rp(){if(qe===4||qe===3){qe=0,za();var t=Vs,n=br,s=es,l=mp;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?qe=5:(qe=0,br=Vs=null,Dp(t,t.pendingLanes));var c=t.pendingLanes;if(c===0&&(Ns=null),un(s),n=n.stateNode,te&&typeof te.onCommitFiberRoot=="function")try{te.onCommitFiberRoot(me,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=Z.T,c=ct.p,ct.p=2,Z.T=null;try{for(var f=t.onRecoverableError,y=0;y<l.length;y++){var E=l[y];f(E.value,{componentStack:E.stack})}}finally{Z.T=n,ct.p=c}}(es&3)!==0&&wu(),Ii(t),c=t.pendingLanes,(s&261930)!==0&&(c&42)!==0?t===Wh?jl++:(jl=0,Wh=t):jl=0,Ll(0)}}function Dp(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,pl(n)))}function wu(){return wp(),Cp(),Rp(),Ip()}function Ip(){if(qe!==5)return!1;var t=Vs,n=$h;$h=0;var s=un(es),l=Z.T,c=ct.p;try{ct.p=32>s?32:s,Z.T=null,s=Jh,Jh=null;var f=Vs,y=es;if(qe=0,br=Vs=null,es=0,(Jt&6)!==0)throw Error(r(331));var E=Jt;if(Jt|=4,hp(f.current),op(f,f.current,y,s),Jt=E,Ll(0,!1),te&&typeof te.onPostCommitFiberRoot=="function")try{te.onPostCommitFiberRoot(me,f)}catch{}return!0}finally{ct.p=c,Z.T=l,Dp(t,n)}}function Np(t,n,s){n=Hn(s,n),n=Nh(t.stateNode,n,2),t=As(t,n,2),t!==null&&(di(t,2),Ii(t))}function ae(t,n,s){if(t.tag===3)Np(t,t,s);else for(;n!==null;){if(n.tag===3){Np(n,t,s);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Ns===null||!Ns.has(l))){t=Hn(s,t),s=Vg(2),l=As(n,s,2),l!==null&&(Og(s,l,n,t),di(l,2),Ii(l));break}}n=n.return}}function nf(t,n,s){var l=t.pingCache;if(l===null){l=t.pingCache=new _b;var c=new Set;l.set(n,c)}else c=l.get(n),c===void 0&&(c=new Set,l.set(n,c));c.has(s)||(Kh=!0,c.add(s),t=Sb.bind(null,t,n,s),n.then(t,t))}function Sb(t,n,s){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&s,t.warmLanes&=~s,fe===t&&(Ut&s)===s&&(Ae===4||Ae===3&&(Ut&62914560)===Ut&&300>we()-bu?(Jt&2)===0&&Er(t,0):Xh|=s,_r===Ut&&(_r=0)),Ii(t)}function Vp(t,n){n===0&&(n=sa()),t=pa(t,n),t!==null&&(di(t,n),Ii(t))}function Ab(t){var n=t.memoizedState,s=0;n!==null&&(s=n.retryLane),Vp(t,s)}function wb(t,n){var s=0;switch(t.tag){case 31:case 13:var l=t.stateNode,c=t.memoizedState;c!==null&&(s=c.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(n),Vp(t,s)}function Cb(t,n){return xe(t,n)}var Cu=null,xr=null,sf=!1,Ru=!1,af=!1,Ms=0;function Ii(t){t!==xr&&t.next===null&&(xr===null?Cu=xr=t:xr=xr.next=t),Ru=!0,sf||(sf=!0,Db())}function Ll(t,n){if(!af&&Ru){af=!0;do for(var s=!1,l=Cu;l!==null;){if(t!==0){var c=l.pendingLanes;if(c===0)var f=0;else{var y=l.suspendedLanes,E=l.pingedLanes;f=(1<<31-ee(42|t)+1)-1,f&=c&~(y&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,Lp(l,f))}else f=Ut,f=wn(l,l===fe?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||pn(l,f)||(s=!0,Lp(l,f));l=l.next}while(s);af=!1}}function Rb(){Op()}function Op(){Ru=sf=!1;var t=0;Ms!==0&&Ub()&&(t=Ms);for(var n=we(),s=null,l=Cu;l!==null;){var c=l.next,f=Mp(l,n);f===0?(l.next=null,s===null?Cu=c:s.next=c,c===null&&(xr=s)):(s=l,(t!==0||(f&3)!==0)&&(Ru=!0)),l=c}qe!==0&&qe!==5||Ll(t),Ms!==0&&(Ms=0)}function Mp(t,n){for(var s=t.suspendedLanes,l=t.pingedLanes,c=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var y=31-ee(f),E=1<<y,N=c[y];N===-1?((E&s)===0||(E&l)!==0)&&(c[y]=Ua(E,n)):N<=n&&(t.expiredLanes|=E),f&=~E}if(n=fe,s=Ut,s=wn(t,t===n?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,s===0||t===n&&(se===2||se===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&ci(l),t.callbackNode=null,t.callbackPriority=0;if((s&3)===0||pn(t,s)){if(n=s&-s,n===t.callbackPriority)return n;switch(l!==null&&ci(l),un(s)){case 2:case 8:s=q;break;case 32:s=et;break;case 268435456:s=Rt;break;default:s=et}return l=jp.bind(null,t),s=xe(s,l),t.callbackPriority=n,t.callbackNode=s,n}return l!==null&&l!==null&&ci(l),t.callbackPriority=2,t.callbackNode=null,2}function jp(t,n){if(qe!==0&&qe!==5)return t.callbackNode=null,t.callbackPriority=0,null;var s=t.callbackNode;if(wu()&&t.callbackNode!==s)return null;var l=Ut;return l=wn(t,t===fe?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(pp(t,l,n),Mp(t,we()),t.callbackNode!=null&&t.callbackNode===s?jp.bind(null,t):null)}function Lp(t,n){if(wu())return null;pp(t,n,!0)}function Db(){Pb(function(){(Jt&6)!==0?xe(us,Rb):Op()})}function rf(){if(Ms===0){var t=or;t===0&&(t=_t,_t<<=1,(_t&261888)===0&&(_t=256)),Ms=t}return Ms}function kp(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Ya(""+t)}function zp(t,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,t.id&&s.setAttribute("form",t.id),n.parentNode.insertBefore(s,n),t=new FormData(t),s.parentNode.removeChild(s),t}function Ib(t,n,s,l,c){if(n==="submit"&&s&&s.stateNode===c){var f=kp((c[Ke]||null).action),y=l.submitter;y&&(n=(n=y[Ke]||null)?kp(n.formAction):y.getAttribute("formAction"),n!==null&&(f=n,y=null));var E=new xi("action","action",null,l,c);t.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Ms!==0){var N=y?zp(c,y):new FormData(c);Ah(s,{pending:!0,data:N,method:c.method,action:f},null,N)}}else typeof f=="function"&&(E.preventDefault(),N=y?zp(c,y):new FormData(c),Ah(s,{pending:!0,data:N,method:c.method,action:f},f,N))},currentTarget:c}]})}}for(var lf=0;lf<qc.length;lf++){var of=qc[lf],Nb=of.toLowerCase(),Vb=of[0].toUpperCase()+of.slice(1);ai(Nb,"on"+Vb)}ai(gm,"onAnimationEnd"),ai(pm,"onAnimationIteration"),ai(ym,"onAnimationStart"),ai("dblclick","onDoubleClick"),ai("focusin","onFocus"),ai("focusout","onBlur"),ai(K_,"onTransitionRun"),ai(X_,"onTransitionStart"),ai(Z_,"onTransitionCancel"),ai(vm,"onTransitionEnd"),_i("onMouseEnter",["mouseout","mouseover"]),_i("onMouseLeave",["mouseout","mouseover"]),_i("onPointerEnter",["pointerout","pointerover"]),_i("onPointerLeave",["pointerout","pointerover"]),vi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),vi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),vi("onBeforeInput",["compositionend","keypress","textInput","paste"]),vi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),vi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),vi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var kl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ob=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(kl));function Up(t,n){n=(n&4)!==0;for(var s=0;s<t.length;s++){var l=t[s],c=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var y=l.length-1;0<=y;y--){var E=l[y],N=E.instance,F=E.currentTarget;if(E=E.listener,N!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=F;try{f(c)}catch(J){Ho(J)}c.currentTarget=null,f=N}else for(y=0;y<l.length;y++){if(E=l[y],N=E.instance,F=E.currentTarget,E=E.listener,N!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=F;try{f(c)}catch(J){Ho(J)}c.currentTarget=null,f=N}}}}function zt(t,n){var s=n[qa];s===void 0&&(s=n[qa]=new Set);var l=t+"__bubble";s.has(l)||(Bp(n,t,2,!1),s.add(l))}function uf(t,n,s){var l=0;n&&(l|=4),Bp(s,t,l,n)}var Du="_reactListening"+Math.random().toString(36).slice(2);function cf(t){if(!t[Du]){t[Du]=!0,Xr.forEach(function(s){s!=="selectionchange"&&(Ob.has(s)||uf(s,!1,t),uf(s,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[Du]||(n[Du]=!0,uf("selectionchange",!1,n))}}function Bp(t,n,s,l){switch(gy(n)){case 2:var c=lE;break;case 8:c=oE;break;default:c=Af}s=c.bind(null,n,s,t),c=void 0,!oa||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),l?c!==void 0?t.addEventListener(n,s,{capture:!0,passive:c}):t.addEventListener(n,s,!0):c!==void 0?t.addEventListener(n,s,{passive:c}):t.addEventListener(n,s,!1)}function hf(t,n,s,l,c){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var y=l.tag;if(y===3||y===4){var E=l.stateNode.containerInfo;if(E===c)break;if(y===4)for(y=l.return;y!==null;){var N=y.tag;if((N===3||N===4)&&y.stateNode.containerInfo===c)return;y=y.return}for(;E!==null;){if(y=pi(E),y===null)return;if(N=y.tag,N===5||N===6||N===26||N===27){l=f=y;continue t}E=E.parentNode}}l=l.return}gs(function(){var F=f,J=Un(s),it=[];t:{var G=_m.get(t);if(G!==void 0){var K=xi,vt=t;switch(t){case"keypress":if(ca(s)===0)break t;case"keydown":case"keyup":K=Bo;break;case"focusin":vt="focus",K=fa;break;case"focusout":vt="blur",K=fa;break;case"beforeblur":case"afterblur":K=fa;break;case"click":if(s.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":K=ol;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":K=No;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":K=m;break;case gm:case pm:case ym:K=Oo;break;case vm:K=x;break;case"scroll":case"scrollend":K=ll;break;case"wheel":K=Y;break;case"copy":case"cut":case"paste":K=Mo;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":K=Pi;break;case"toggle":case"beforetoggle":K=Mt}var Ct=(n&4)!==0,ce=!Ct&&(t==="scroll"||t==="scrollend"),B=Ct?G!==null?G+"Capture":null:G;Ct=[];for(var j=F,H;j!==null;){var nt=j;if(H=nt.stateNode,nt=nt.tag,nt!==5&&nt!==26&&nt!==27||H===null||B===null||(nt=ei(j,B),nt!=null&&Ct.push(zl(j,nt,H))),ce)break;j=j.return}0<Ct.length&&(G=new K(G,vt,null,s,J),it.push({event:G,listeners:Ct}))}}if((n&7)===0){t:{if(G=t==="mouseover"||t==="pointerover",K=t==="mouseout"||t==="pointerout",G&&s!==sl&&(vt=s.relatedTarget||s.fromElement)&&(pi(vt)||vt[mi]))break t;if((K||G)&&(G=J.window===J?J:(G=J.ownerDocument)?G.defaultView||G.parentWindow:window,K?(vt=s.relatedTarget||s.toElement,K=F,vt=vt?pi(vt):null,vt!==null&&(ce=h(vt),Ct=vt.tag,vt!==ce||Ct!==5&&Ct!==27&&Ct!==6)&&(vt=null)):(K=null,vt=F),K!==vt)){if(Ct=ol,nt="onMouseLeave",B="onMouseEnter",j="mouse",(t==="pointerout"||t==="pointerover")&&(Ct=Pi,nt="onPointerLeave",B="onPointerEnter",j="pointer"),ce=K==null?G:Rn(K),H=vt==null?G:Rn(vt),G=new Ct(nt,j+"leave",K,s,J),G.target=ce,G.relatedTarget=H,nt=null,pi(J)===F&&(Ct=new Ct(B,j+"enter",vt,s,J),Ct.target=H,Ct.relatedTarget=ce,nt=Ct),ce=nt,K&&vt)e:{for(Ct=Mb,B=K,j=vt,H=0,nt=B;nt;nt=Ct(nt))H++;nt=0;for(var At=j;At;At=Ct(At))nt++;for(;0<H-nt;)B=Ct(B),H--;for(;0<nt-H;)j=Ct(j),nt--;for(;H--;){if(B===j||j!==null&&B===j.alternate){Ct=B;break e}B=Ct(B),j=Ct(j)}Ct=null}else Ct=null;K!==null&&Pp(it,G,K,Ct,!1),vt!==null&&ce!==null&&Pp(it,ce,vt,Ct,!0)}}t:{if(G=F?Rn(F):window,K=G.nodeName&&G.nodeName.toLowerCase(),K==="select"||K==="input"&&G.type==="file")var Kt=sm;else if(nm(G))if(am)Kt=G_;else{Kt=H_;var Et=q_}else K=G.nodeName,!K||K.toLowerCase()!=="input"||G.type!=="checkbox"&&G.type!=="radio"?F&&Qa(F.elementType)&&(Kt=sm):Kt=F_;if(Kt&&(Kt=Kt(t,F))){im(it,Kt,s,J);break t}Et&&Et(t,G,F),t==="focusout"&&F&&G.type==="number"&&F.memoizedProps.value!=null&&el(G,"number",G.value)}switch(Et=F?Rn(F):window,t){case"focusin":(nm(Et)||Et.contentEditable==="true")&&(tr=Et,Uc=F,dl=null);break;case"focusout":dl=Uc=tr=null;break;case"mousedown":Bc=!0;break;case"contextmenu":case"mouseup":case"dragend":Bc=!1,dm(it,s,J);break;case"selectionchange":if(Y_)break;case"keydown":case"keyup":dm(it,s,J)}var Lt;if($t)t:{switch(t){case"compositionstart":var Bt="onCompositionStart";break t;case"compositionend":Bt="onCompositionEnd";break t;case"compositionupdate":Bt="onCompositionUpdate";break t}Bt=void 0}else Wa?da(t,s)&&(Bt="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(Bt="onCompositionStart");Bt&&(wi&&s.locale!=="ko"&&(Wa||Bt!=="onCompositionStart"?Bt==="onCompositionEnd"&&Wa&&(Lt=rl()):(Ti=J,al="value"in Ti?Ti.value:Ti.textContent,Wa=!0)),Et=Iu(F,Bt),0<Et.length&&(Bt=new Ai(Bt,t,null,s,J),it.push({event:Bt,listeners:Et}),Lt?Bt.data=Lt:(Lt=Ja(s),Lt!==null&&(Bt.data=Lt)))),(Lt=Pn?z_(t,s):U_(t,s))&&(Bt=Iu(F,"onBeforeInput"),0<Bt.length&&(Et=new Ai("onBeforeInput","beforeinput",null,s,J),it.push({event:Et,listeners:Bt}),Et.data=Lt)),Ib(it,t,F,s,J)}Up(it,n)})}function zl(t,n,s){return{instance:t,listener:n,currentTarget:s}}function Iu(t,n){for(var s=n+"Capture",l=[];t!==null;){var c=t,f=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=ei(t,s),c!=null&&l.unshift(zl(t,c,f)),c=ei(t,n),c!=null&&l.push(zl(t,c,f))),t.tag===3)return l;t=t.return}return[]}function Mb(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Pp(t,n,s,l,c){for(var f=n._reactName,y=[];s!==null&&s!==l;){var E=s,N=E.alternate,F=E.stateNode;if(E=E.tag,N!==null&&N===l)break;E!==5&&E!==26&&E!==27||F===null||(N=F,c?(F=ei(s,f),F!=null&&y.unshift(zl(s,F,N))):c||(F=ei(s,f),F!=null&&y.push(zl(s,F,N)))),s=s.return}y.length!==0&&t.push({event:n,listeners:y})}var jb=/\r\n?/g,Lb=/\u0000|\uFFFD/g;function qp(t){return(typeof t=="string"?t:""+t).replace(jb,`
`).replace(Lb,"")}function Hp(t,n){return n=qp(n),qp(t)===n}function ue(t,n,s,l,c,f){switch(s){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||vn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&vn(t,""+l);break;case"className":Dn(t,"class",l);break;case"tabIndex":Dn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Dn(t,s,l);break;case"style":il(t,l,f);break;case"data":if(n!=="object"){Dn(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||s!=="href")){t.removeAttribute(s);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=Ya(""+l),t.setAttribute(s,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(n!=="input"&&ue(t,n,"name",c.name,c,null),ue(t,n,"formEncType",c.formEncType,c,null),ue(t,n,"formMethod",c.formMethod,c,null),ue(t,n,"formTarget",c.formTarget,c,null)):(ue(t,n,"encType",c.encType,c,null),ue(t,n,"method",c.method,c,null),ue(t,n,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=Ya(""+l),t.setAttribute(s,l);break;case"onClick":l!=null&&(t.onclick=ti);break;case"onScroll":l!=null&&zt("scroll",t);break;case"onScrollEnd":l!=null&&zt("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(s=l.__html,s!=null){if(c.children!=null)throw Error(r(60));t.innerHTML=s}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}s=Ya(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""+l):t.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""):t.removeAttribute(s);break;case"capture":case"download":l===!0?t.setAttribute(s,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,l):t.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(s,l):t.removeAttribute(s);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(s):t.setAttribute(s,l);break;case"popover":zt("beforetoggle",t),zt("toggle",t),Fa(t,"popover",l);break;case"xlinkActuate":je(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":je(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":je(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":je(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":je(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":je(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":je(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":je(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":je(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Fa(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=Io.get(s)||s,Fa(t,s,l))}}function ff(t,n,s,l,c,f){switch(s){case"style":il(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(s=l.__html,s!=null){if(c.children!=null)throw Error(r(60));t.innerHTML=s}}break;case"children":typeof l=="string"?vn(t,l):(typeof l=="number"||typeof l=="bigint")&&vn(t,""+l);break;case"onScroll":l!=null&&zt("scroll",t);break;case"onScrollEnd":l!=null&&zt("scrollend",t);break;case"onClick":l!=null&&(t.onclick=ti);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Zr.hasOwnProperty(s))t:{if(s[0]==="o"&&s[1]==="n"&&(c=s.endsWith("Capture"),n=s.slice(2,c?s.length-7:void 0),f=t[Ke]||null,f=f!=null?f[s]:null,typeof f=="function"&&t.removeEventListener(n,f,c),typeof l=="function")){typeof f!="function"&&f!==null&&(s in t?t[s]=null:t.hasAttribute(s)&&t.removeAttribute(s)),t.addEventListener(n,l,c);break t}s in t?t[s]=l:l===!0?t.setAttribute(s,""):Fa(t,s,l)}}}function sn(t,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":zt("error",t),zt("load",t);var l=!1,c=!1,f;for(f in s)if(s.hasOwnProperty(f)){var y=s[f];if(y!=null)switch(f){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:ue(t,n,f,y,s,null)}}c&&ue(t,n,"srcSet",s.srcSet,s,null),l&&ue(t,n,"src",s.src,s,null);return;case"input":zt("invalid",t);var E=f=y=c=null,N=null,F=null;for(l in s)if(s.hasOwnProperty(l)){var J=s[l];if(J!=null)switch(l){case"name":c=J;break;case"type":y=J;break;case"checked":N=J;break;case"defaultChecked":F=J;break;case"value":f=J;break;case"defaultValue":E=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(r(137,n));break;default:ue(t,n,l,J,s,null)}}Co(t,f,E,N,F,y,c,!1);return;case"select":zt("invalid",t),l=y=f=null;for(c in s)if(s.hasOwnProperty(c)&&(E=s[c],E!=null))switch(c){case"value":f=E;break;case"defaultValue":y=E;break;case"multiple":l=E;default:ue(t,n,c,E,s,null)}n=f,s=y,t.multiple=!!l,n!=null?hs(t,!!l,n,!1):s!=null&&hs(t,!!l,s,!0);return;case"textarea":zt("invalid",t),f=c=l=null;for(y in s)if(s.hasOwnProperty(y)&&(E=s[y],E!=null))switch(y){case"value":l=E;break;case"defaultValue":c=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(r(91));break;default:ue(t,n,y,E,s,null)}fs(t,l,c,f);return;case"option":for(N in s)if(s.hasOwnProperty(N)&&(l=s[N],l!=null))switch(N){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:ue(t,n,N,l,s,null)}return;case"dialog":zt("beforetoggle",t),zt("toggle",t),zt("cancel",t),zt("close",t);break;case"iframe":case"object":zt("load",t);break;case"video":case"audio":for(l=0;l<kl.length;l++)zt(kl[l],t);break;case"image":zt("error",t),zt("load",t);break;case"details":zt("toggle",t);break;case"embed":case"source":case"link":zt("error",t),zt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(F in s)if(s.hasOwnProperty(F)&&(l=s[F],l!=null))switch(F){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:ue(t,n,F,l,s,null)}return;default:if(Qa(n)){for(J in s)s.hasOwnProperty(J)&&(l=s[J],l!==void 0&&ff(t,n,J,l,s,void 0));return}}for(E in s)s.hasOwnProperty(E)&&(l=s[E],l!=null&&ue(t,n,E,l,s,null))}function kb(t,n,s,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,y=null,E=null,N=null,F=null,J=null;for(K in s){var it=s[K];if(s.hasOwnProperty(K)&&it!=null)switch(K){case"checked":break;case"value":break;case"defaultValue":N=it;default:l.hasOwnProperty(K)||ue(t,n,K,null,l,it)}}for(var G in l){var K=l[G];if(it=s[G],l.hasOwnProperty(G)&&(K!=null||it!=null))switch(G){case"type":f=K;break;case"name":c=K;break;case"checked":F=K;break;case"defaultChecked":J=K;break;case"value":y=K;break;case"defaultValue":E=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(r(137,n));break;default:K!==it&&ue(t,n,G,K,l,it)}}Ga(t,y,E,N,F,J,f,c);return;case"select":K=y=E=G=null;for(f in s)if(N=s[f],s.hasOwnProperty(f)&&N!=null)switch(f){case"value":break;case"multiple":K=N;default:l.hasOwnProperty(f)||ue(t,n,f,null,l,N)}for(c in l)if(f=l[c],N=s[c],l.hasOwnProperty(c)&&(f!=null||N!=null))switch(c){case"value":G=f;break;case"defaultValue":E=f;break;case"multiple":y=f;default:f!==N&&ue(t,n,c,f,l,N)}n=E,s=y,l=K,G!=null?hs(t,!!s,G,!1):!!l!=!!s&&(n!=null?hs(t,!!s,n,!0):hs(t,!!s,s?[]:"",!1));return;case"textarea":K=G=null;for(E in s)if(c=s[E],s.hasOwnProperty(E)&&c!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:ue(t,n,E,null,l,c)}for(y in l)if(c=l[y],f=s[y],l.hasOwnProperty(y)&&(c!=null||f!=null))switch(y){case"value":G=c;break;case"defaultValue":K=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(r(91));break;default:c!==f&&ue(t,n,y,c,l,f)}Ro(t,G,K);return;case"option":for(var vt in s)if(G=s[vt],s.hasOwnProperty(vt)&&G!=null&&!l.hasOwnProperty(vt))switch(vt){case"selected":t.selected=!1;break;default:ue(t,n,vt,null,l,G)}for(N in l)if(G=l[N],K=s[N],l.hasOwnProperty(N)&&G!==K&&(G!=null||K!=null))switch(N){case"selected":t.selected=G&&typeof G!="function"&&typeof G!="symbol";break;default:ue(t,n,N,G,l,K)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ct in s)G=s[Ct],s.hasOwnProperty(Ct)&&G!=null&&!l.hasOwnProperty(Ct)&&ue(t,n,Ct,null,l,G);for(F in l)if(G=l[F],K=s[F],l.hasOwnProperty(F)&&G!==K&&(G!=null||K!=null))switch(F){case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(r(137,n));break;default:ue(t,n,F,G,l,K)}return;default:if(Qa(n)){for(var ce in s)G=s[ce],s.hasOwnProperty(ce)&&G!==void 0&&!l.hasOwnProperty(ce)&&ff(t,n,ce,void 0,l,G);for(J in l)G=l[J],K=s[J],!l.hasOwnProperty(J)||G===K||G===void 0&&K===void 0||ff(t,n,J,G,l,K);return}}for(var B in s)G=s[B],s.hasOwnProperty(B)&&G!=null&&!l.hasOwnProperty(B)&&ue(t,n,B,null,l,G);for(it in l)G=l[it],K=s[it],!l.hasOwnProperty(it)||G===K||G==null&&K==null||ue(t,n,it,G,l,K)}function Fp(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function zb(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,s=performance.getEntriesByType("resource"),l=0;l<s.length;l++){var c=s[l],f=c.transferSize,y=c.initiatorType,E=c.duration;if(f&&E&&Fp(y)){for(y=0,E=c.responseEnd,l+=1;l<s.length;l++){var N=s[l],F=N.startTime;if(F>E)break;var J=N.transferSize,it=N.initiatorType;J&&Fp(it)&&(N=N.responseEnd,y+=J*(N<E?1:(E-F)/(N-F)))}if(--l,n+=8*(f+y)/(c.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var df=null,mf=null;function Nu(t){return t.nodeType===9?t:t.ownerDocument}function Gp(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Qp(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function gf(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var pf=null;function Ub(){var t=window.event;return t&&t.type==="popstate"?t===pf?!1:(pf=t,!0):(pf=null,!1)}var Yp=typeof setTimeout=="function"?setTimeout:void 0,Bb=typeof clearTimeout=="function"?clearTimeout:void 0,Kp=typeof Promise=="function"?Promise:void 0,Pb=typeof queueMicrotask=="function"?queueMicrotask:typeof Kp<"u"?function(t){return Kp.resolve(null).then(t).catch(qb)}:Yp;function qb(t){setTimeout(function(){throw t})}function js(t){return t==="head"}function Xp(t,n){var s=n,l=0;do{var c=s.nextSibling;if(t.removeChild(s),c&&c.nodeType===8)if(s=c.data,s==="/$"||s==="/&"){if(l===0){t.removeChild(c),Cr(n);return}l--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")l++;else if(s==="html")Ul(t.ownerDocument.documentElement);else if(s==="head"){s=t.ownerDocument.head,Ul(s);for(var f=s.firstChild;f;){var y=f.nextSibling,E=f.nodeName;f[gi]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||s.removeChild(f),f=y}}else s==="body"&&Ul(t.ownerDocument.body);s=c}while(s);Cr(n)}function Zp(t,n){var s=t;t=0;do{var l=s.nextSibling;if(s.nodeType===1?n?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(n?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),l&&l.nodeType===8)if(s=l.data,s==="/$"){if(t===0)break;t--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||t++;s=l}while(s)}function yf(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":yf(s),Ha(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}t.removeChild(s)}}function Hb(t,n,s,l){for(;t.nodeType===1;){var c=s;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[gi])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==c.rel||t.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Kn(t.nextSibling),t===null)break}return null}function Fb(t,n,s){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=Kn(t.nextSibling),t===null))return null;return t}function $p(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=Kn(t.nextSibling),t===null))return null;return t}function vf(t){return t.data==="$?"||t.data==="$~"}function _f(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function Gb(t,n){var s=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||s.readyState!=="loading")n();else{var l=function(){n(),s.removeEventListener("DOMContentLoaded",l)};s.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Kn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var bf=null;function Jp(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var s=t.data;if(s==="/$"||s==="/&"){if(n===0)return Kn(t.nextSibling);n--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||n++}t=t.nextSibling}return null}function Wp(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(n===0)return t;n--}else s!=="/$"&&s!=="/&"||n++}t=t.previousSibling}return null}function ty(t,n,s){switch(n=Nu(s),t){case"html":if(t=n.documentElement,!t)throw Error(r(452));return t;case"head":if(t=n.head,!t)throw Error(r(453));return t;case"body":if(t=n.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function Ul(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Ha(t)}var Xn=new Map,ey=new Set;function Vu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var ns=ct.d;ct.d={f:Qb,r:Yb,D:Kb,C:Xb,L:Zb,m:$b,X:Wb,S:Jb,M:tE};function Qb(){var t=ns.f(),n=xu();return t||n}function Yb(t){var n=zn(t);n!==null&&n.tag===5&&n.type==="form"?vg(n):ns.r(t)}var Sr=typeof document>"u"?null:document;function ny(t,n,s){var l=Sr;if(l&&typeof n=="string"&&n){var c=yn(n);c='link[rel="'+t+'"][href="'+c+'"]',typeof s=="string"&&(c+='[crossorigin="'+s+'"]'),ey.has(c)||(ey.add(c),t={rel:t,crossOrigin:s,href:n},l.querySelector(c)===null&&(n=l.createElement("link"),sn(n,"link",t),Me(n),l.head.appendChild(n)))}}function Kb(t){ns.D(t),ny("dns-prefetch",t,null)}function Xb(t,n){ns.C(t,n),ny("preconnect",t,n)}function Zb(t,n,s){ns.L(t,n,s);var l=Sr;if(l&&t&&n){var c='link[rel="preload"][as="'+yn(n)+'"]';n==="image"&&s&&s.imageSrcSet?(c+='[imagesrcset="'+yn(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(c+='[imagesizes="'+yn(s.imageSizes)+'"]')):c+='[href="'+yn(t)+'"]';var f=c;switch(n){case"style":f=Ar(t);break;case"script":f=wr(t)}Xn.has(f)||(t=S({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:t,as:n},s),Xn.set(f,t),l.querySelector(c)!==null||n==="style"&&l.querySelector(Bl(f))||n==="script"&&l.querySelector(Pl(f))||(n=l.createElement("link"),sn(n,"link",t),Me(n),l.head.appendChild(n)))}}function $b(t,n){ns.m(t,n);var s=Sr;if(s&&t){var l=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+yn(l)+'"][href="'+yn(t)+'"]',f=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=wr(t)}if(!Xn.has(f)&&(t=S({rel:"modulepreload",href:t},n),Xn.set(f,t),s.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(Pl(f)))return}l=s.createElement("link"),sn(l,"link",t),Me(l),s.head.appendChild(l)}}}function Jb(t,n,s){ns.S(t,n,s);var l=Sr;if(l&&t){var c=yi(l).hoistableStyles,f=Ar(t);n=n||"default";var y=c.get(f);if(!y){var E={loading:0,preload:null};if(y=l.querySelector(Bl(f)))E.loading=5;else{t=S({rel:"stylesheet",href:t,"data-precedence":n},s),(s=Xn.get(f))&&Ef(t,s);var N=y=l.createElement("link");Me(N),sn(N,"link",t),N._p=new Promise(function(F,J){N.onload=F,N.onerror=J}),N.addEventListener("load",function(){E.loading|=1}),N.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Ou(y,n,l)}y={type:"stylesheet",instance:y,count:1,state:E},c.set(f,y)}}}function Wb(t,n){ns.X(t,n);var s=Sr;if(s&&t){var l=yi(s).hoistableScripts,c=wr(t),f=l.get(c);f||(f=s.querySelector(Pl(c)),f||(t=S({src:t,async:!0},n),(n=Xn.get(c))&&Tf(t,n),f=s.createElement("script"),Me(f),sn(f,"link",t),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function tE(t,n){ns.M(t,n);var s=Sr;if(s&&t){var l=yi(s).hoistableScripts,c=wr(t),f=l.get(c);f||(f=s.querySelector(Pl(c)),f||(t=S({src:t,async:!0,type:"module"},n),(n=Xn.get(c))&&Tf(t,n),f=s.createElement("script"),Me(f),sn(f,"link",t),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function iy(t,n,s,l){var c=(c=X.current)?Vu(c):null;if(!c)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=Ar(s.href),s=yi(c).hoistableStyles,l=s.get(n),l||(l={type:"style",instance:null,count:0,state:null},s.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){t=Ar(s.href);var f=yi(c).hoistableStyles,y=f.get(t);if(y||(c=c.ownerDocument||c,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,y),(f=c.querySelector(Bl(t)))&&!f._p&&(y.instance=f,y.state.loading=5),Xn.has(t)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Xn.set(t,s),f||eE(c,t,s,y.state))),n&&l===null)throw Error(r(528,""));return y}if(n&&l!==null)throw Error(r(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=wr(s),s=yi(c).hoistableScripts,l=s.get(n),l||(l={type:"script",instance:null,count:0,state:null},s.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function Ar(t){return'href="'+yn(t)+'"'}function Bl(t){return'link[rel="stylesheet"]['+t+"]"}function sy(t){return S({},t,{"data-precedence":t.precedence,precedence:null})}function eE(t,n,s,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),sn(n,"link",s),Me(n),t.head.appendChild(n))}function wr(t){return'[src="'+yn(t)+'"]'}function Pl(t){return"script[async]"+t}function ay(t,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+yn(s.href)+'"]');if(l)return n.instance=l,Me(l),l;var c=S({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Me(l),sn(l,"style",c),Ou(l,s.precedence,t),n.instance=l;case"stylesheet":c=Ar(s.href);var f=t.querySelector(Bl(c));if(f)return n.state.loading|=4,n.instance=f,Me(f),f;l=sy(s),(c=Xn.get(c))&&Ef(l,c),f=(t.ownerDocument||t).createElement("link"),Me(f);var y=f;return y._p=new Promise(function(E,N){y.onload=E,y.onerror=N}),sn(f,"link",l),n.state.loading|=4,Ou(f,s.precedence,t),n.instance=f;case"script":return f=wr(s.src),(c=t.querySelector(Pl(f)))?(n.instance=c,Me(c),c):(l=s,(c=Xn.get(f))&&(l=S({},s),Tf(l,c)),t=t.ownerDocument||t,c=t.createElement("script"),Me(c),sn(c,"link",l),t.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(r(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,Ou(l,s.precedence,t));return n.instance}function Ou(t,n,s){for(var l=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,f=c,y=0;y<l.length;y++){var E=l[y];if(E.dataset.precedence===n)f=E;else if(f!==c)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(t,n.firstChild))}function Ef(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Tf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Mu=null;function ry(t,n,s){if(Mu===null){var l=new Map,c=Mu=new Map;c.set(s,l)}else c=Mu,l=c.get(s),l||(l=new Map,c.set(s,l));if(l.has(t))return l;for(l.set(t,null),s=s.getElementsByTagName(t),c=0;c<s.length;c++){var f=s[c];if(!(f[gi]||f[Oe]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var y=f.getAttribute(n)||"";y=t+y;var E=l.get(y);E?E.push(f):l.set(y,[f])}}return l}function ly(t,n,s){t=t.ownerDocument||t,t.head.insertBefore(s,n==="title"?t.querySelector("head > title"):null)}function nE(t,n,s){if(s===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function oy(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function iE(t,n,s,l){if(s.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var c=Ar(l.href),f=n.querySelector(Bl(c));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=ju.bind(t),n.then(t,t)),s.state.loading|=4,s.instance=f,Me(f);return}f=n.ownerDocument||n,l=sy(l),(c=Xn.get(c))&&Ef(l,c),f=f.createElement("link"),Me(f);var y=f;y._p=new Promise(function(E,N){y.onload=E,y.onerror=N}),sn(f,"link",l),s.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(t.count++,s=ju.bind(t),n.addEventListener("load",s),n.addEventListener("error",s))}}var xf=0;function sE(t,n){return t.stylesheets&&t.count===0&&ku(t,t.stylesheets),0<t.count||0<t.imgCount?function(s){var l=setTimeout(function(){if(t.stylesheets&&ku(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+n);0<t.imgBytes&&xf===0&&(xf=62500*zb());var c=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&ku(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>xf?50:800)+n);return t.unsuspend=s,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(c)}}:null}function ju(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ku(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Lu=null;function ku(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Lu=new Map,n.forEach(aE,t),Lu=null,ju.call(t))}function aE(t,n){if(!(n.state.loading&4)){var s=Lu.get(t);if(s)var l=s.get(null);else{s=new Map,Lu.set(t,s);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var y=c[f];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(s.set(y.dataset.precedence,y),l=y)}l&&s.set(null,l)}c=n.instance,y=c.getAttribute("data-precedence"),f=s.get(y)||l,f===l&&s.set(null,c),s.set(y,c),this.count++,l=ju.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),f?f.parentNode.insertBefore(c,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),n.state.loading|=4}}var ql={$$typeof:ot,Provider:null,Consumer:null,_currentValue:Tt,_currentValue2:Tt,_threadCount:0};function rE(t,n,s,l,c,f,y,E,N){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Cn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Cn(0),this.hiddenUpdates=Cn(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=N,this.incompleteTransitions=new Map}function uy(t,n,s,l,c,f,y,E,N,F,J,it){return t=new rE(t,n,s,y,N,F,J,it,E),n=1,f===!0&&(n|=24),f=Nn(3,null,null,n),t.current=f,f.stateNode=t,n=eh(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:s,cache:n},ah(f),t}function cy(t){return t?(t=ir,t):ir}function hy(t,n,s,l,c,f){c=cy(c),l.context===null?l.context=c:l.pendingContext=c,l=Ss(n),l.payload={element:s},f=f===void 0?null:f,f!==null&&(l.callback=f),s=As(t,l,n),s!==null&&(xn(s,t,n),bl(s,t,n))}function fy(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<n?s:n}}function Sf(t,n){fy(t,n),(t=t.alternate)&&fy(t,n)}function dy(t){if(t.tag===13||t.tag===31){var n=pa(t,67108864);n!==null&&xn(n,t,67108864),Sf(t,67108864)}}function my(t){if(t.tag===13||t.tag===31){var n=Ln();n=Ye(n);var s=pa(t,n);s!==null&&xn(s,t,n),Sf(t,n)}}var zu=!0;function lE(t,n,s,l){var c=Z.T;Z.T=null;var f=ct.p;try{ct.p=2,Af(t,n,s,l)}finally{ct.p=f,Z.T=c}}function oE(t,n,s,l){var c=Z.T;Z.T=null;var f=ct.p;try{ct.p=8,Af(t,n,s,l)}finally{ct.p=f,Z.T=c}}function Af(t,n,s,l){if(zu){var c=wf(l);if(c===null)hf(t,n,l,Uu,s),py(t,l);else if(cE(c,t,n,s,l))l.stopPropagation();else if(py(t,l),n&4&&-1<uE.indexOf(t)){for(;c!==null;){var f=zn(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var y=An(f.pendingLanes);if(y!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;y;){var N=1<<31-ee(y);E.entanglements[1]|=N,y&=~N}Ii(f),(Jt&6)===0&&(Eu=we()+500,Ll(0))}}break;case 31:case 13:E=pa(f,2),E!==null&&xn(E,f,2),xu(),Sf(f,2)}if(f=wf(l),f===null&&hf(t,n,l,Uu,s),f===c)break;c=f}c!==null&&l.stopPropagation()}else hf(t,n,l,null,s)}}function wf(t){return t=Un(t),Cf(t)}var Uu=null;function Cf(t){if(Uu=null,t=pi(t),t!==null){var n=h(t);if(n===null)t=null;else{var s=n.tag;if(s===13){if(t=d(n),t!==null)return t;t=null}else if(s===31){if(t=p(n),t!==null)return t;t=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Uu=t,null}function gy(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(hi()){case us:return 2;case q:return 8;case et:case ht:return 32;case Rt:return 268435456;default:return 32}default:return 32}}var Rf=!1,Ls=null,ks=null,zs=null,Hl=new Map,Fl=new Map,Us=[],uE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function py(t,n){switch(t){case"focusin":case"focusout":Ls=null;break;case"dragenter":case"dragleave":ks=null;break;case"mouseover":case"mouseout":zs=null;break;case"pointerover":case"pointerout":Hl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fl.delete(n.pointerId)}}function Gl(t,n,s,l,c,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:s,eventSystemFlags:l,nativeEvent:f,targetContainers:[c]},n!==null&&(n=zn(n),n!==null&&dy(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),t)}function cE(t,n,s,l,c){switch(n){case"focusin":return Ls=Gl(Ls,t,n,s,l,c),!0;case"dragenter":return ks=Gl(ks,t,n,s,l,c),!0;case"mouseover":return zs=Gl(zs,t,n,s,l,c),!0;case"pointerover":var f=c.pointerId;return Hl.set(f,Gl(Hl.get(f)||null,t,n,s,l,c)),!0;case"gotpointercapture":return f=c.pointerId,Fl.set(f,Gl(Fl.get(f)||null,t,n,s,l,c)),!0}return!1}function yy(t){var n=pi(t.target);if(n!==null){var s=h(n);if(s!==null){if(n=s.tag,n===13){if(n=d(s),n!==null){t.blockedOn=n,Jn(t.priority,function(){my(s)});return}}else if(n===31){if(n=p(s),n!==null){t.blockedOn=n,Jn(t.priority,function(){my(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Bu(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var s=wf(t.nativeEvent);if(s===null){s=t.nativeEvent;var l=new s.constructor(s.type,s);sl=l,s.target.dispatchEvent(l),sl=null}else return n=zn(s),n!==null&&dy(n),t.blockedOn=s,!1;n.shift()}return!0}function vy(t,n,s){Bu(t)&&s.delete(n)}function hE(){Rf=!1,Ls!==null&&Bu(Ls)&&(Ls=null),ks!==null&&Bu(ks)&&(ks=null),zs!==null&&Bu(zs)&&(zs=null),Hl.forEach(vy),Fl.forEach(vy)}function Pu(t,n){t.blockedOn===n&&(t.blockedOn=null,Rf||(Rf=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,hE)))}var qu=null;function _y(t){qu!==t&&(qu=t,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){qu===t&&(qu=null);for(var n=0;n<t.length;n+=3){var s=t[n],l=t[n+1],c=t[n+2];if(typeof l!="function"){if(Cf(l||s)===null)continue;break}var f=zn(s);f!==null&&(t.splice(n,3),n-=3,Ah(f,{pending:!0,data:c,method:s.method,action:l},l,c))}}))}function Cr(t){function n(N){return Pu(N,t)}Ls!==null&&Pu(Ls,t),ks!==null&&Pu(ks,t),zs!==null&&Pu(zs,t),Hl.forEach(n),Fl.forEach(n);for(var s=0;s<Us.length;s++){var l=Us[s];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Us.length&&(s=Us[0],s.blockedOn===null);)yy(s),s.blockedOn===null&&Us.shift();if(s=(t.ownerDocument||t).$$reactFormReplay,s!=null)for(l=0;l<s.length;l+=3){var c=s[l],f=s[l+1],y=c[Ke]||null;if(typeof f=="function")y||_y(s);else if(y){var E=null;if(f&&f.hasAttribute("formAction")){if(c=f,y=f[Ke]||null)E=y.formAction;else if(Cf(c)!==null)continue}else E=y.action;typeof E=="function"?s[l+1]=E:(s.splice(l,3),l-=3),_y(s)}}}function by(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(y){return c=y})},focusReset:"manual",scroll:"manual"})}function n(){c!==null&&(c(),c=null),l||setTimeout(s,20)}function s(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,c=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(s,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),c!==null&&(c(),c=null)}}}function Df(t){this._internalRoot=t}Hu.prototype.render=Df.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(r(409));var s=n.current,l=Ln();hy(s,l,t,n,null,null)},Hu.prototype.unmount=Df.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;hy(t.current,2,null,t,null,null),xu(),n[mi]=null}};function Hu(t){this._internalRoot=t}Hu.prototype.unstable_scheduleHydration=function(t){if(t){var n=Pa();t={blockedOn:null,target:t,priority:n};for(var s=0;s<Us.length&&n!==0&&n<Us[s].priority;s++);Us.splice(s,0,t),s===0&&yy(t)}};var Ey=e.version;if(Ey!=="19.2.3")throw Error(r(527,Ey,"19.2.3"));ct.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=v(n),t=t!==null?T(t):null,t=t===null?null:t.stateNode,t};var fE={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:Z,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Fu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Fu.isDisabled&&Fu.supportsFiber)try{me=Fu.inject(fE),te=Fu}catch{}}return Yl.createRoot=function(t,n){if(!o(t))throw Error(r(299));var s=!1,l="",c=Rg,f=Dg,y=Ig;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(y=n.onRecoverableError)),n=uy(t,1,!1,null,null,s,l,null,c,f,y,by),t[mi]=n.current,cf(t),new Df(n)},Yl.hydrateRoot=function(t,n,s){if(!o(t))throw Error(r(299));var l=!1,c="",f=Rg,y=Dg,E=Ig,N=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(y=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError),s.formState!==void 0&&(N=s.formState)),n=uy(t,1,!0,n,s??null,l,c,N,f,y,E,by),n.context=cy(null),s=n.current,l=Ln(),l=Ye(l),c=Ss(l),c.callback=null,As(s,c,l),s=l,n.current.lanes=s,di(n,s),Ii(n),t[mi]=n.current,cf(t),new Hu(n)},Yl.version="19.2.3",Yl}var Ny;function TE(){if(Ny)return Vf.exports;Ny=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(e){console.error(e)}}return a(),Vf.exports=EE(),Vf.exports}var xE=TE();const SE=Q0(xE);function AE(a={}){const{nonce:e,onScriptLoadSuccess:i,onScriptLoadError:r}=a,[o,h]=lt.useState(!1),d=lt.useRef(i);d.current=i;const p=lt.useRef(r);return p.current=r,lt.useEffect(()=>{const g=document.createElement("script");return g.src="https://accounts.google.com/gsi/client",g.async=!0,g.defer=!0,g.nonce=e,g.onload=()=>{var v;h(!0),(v=d.current)===null||v===void 0||v.call(d)},g.onerror=()=>{var v;h(!1),(v=p.current)===null||v===void 0||v.call(p)},document.body.appendChild(g),()=>{document.body.removeChild(g)}},[e]),o}const K0=lt.createContext(null);function wE({clientId:a,nonce:e,onScriptLoadSuccess:i,onScriptLoadError:r,children:o}){const h=AE({nonce:e,onScriptLoadSuccess:i,onScriptLoadError:r}),d=lt.useMemo(()=>({clientId:a,scriptLoadedSuccessfully:h}),[a,h]);return Y0.createElement(K0.Provider,{value:d},o)}function CE(){const a=lt.useContext(K0);if(!a)throw new Error("Google OAuth components must be used within GoogleOAuthProvider");return a}function RE({flow:a="implicit",scope:e="",onSuccess:i,onError:r,onNonOAuthError:o,overrideScope:h,state:d,...p}){const{clientId:g,scriptLoadedSuccessfully:v}=CE(),T=lt.useRef(),S=lt.useRef(i);S.current=i;const C=lt.useRef(r);C.current=r;const L=lt.useRef(o);L.current=o,lt.useEffect(()=>{var k,z;if(!v)return;const W=a==="implicit"?"initTokenClient":"initCodeClient",ot=(z=(k=window==null?void 0:window.google)===null||k===void 0?void 0:k.accounts)===null||z===void 0?void 0:z.oauth2[W]({client_id:g,scope:h?e:`openid profile email ${e}`,callback:pt=>{var yt,xt;if(pt.error)return(yt=C.current)===null||yt===void 0?void 0:yt.call(C,pt);(xt=S.current)===null||xt===void 0||xt.call(S,pt)},error_callback:pt=>{var yt;(yt=L.current)===null||yt===void 0||yt.call(L,pt)},state:d,...p});T.current=ot},[g,v,a,e,d]);const Q=lt.useCallback(k=>{var z;return(z=T.current)===null||z===void 0?void 0:z.requestAccessToken(k)},[]),$=lt.useCallback(()=>{var k;return(k=T.current)===null||k===void 0?void 0:k.requestCode()},[]);return a==="implicit"?Q:$}const DE=()=>b.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2.5",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),IE=()=>b.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2.5",d:"M12 4v16m8-8H4"})}),sc=()=>b.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:b.jsx("path",{d:"M12 8c1.1 0 2-0.9 2-2s-0.9-2-2-2-2 0.9-2 2 0.9 2 2 2zm0 2c-1.1 0-2 0.9-2 2s0.9 2 2 2 2-0.9 2-2-0.9-2-2-2zm0 6c-1.1 0-2 0.9-2 2s0.9 2 2 2 2-0.9 2-2-0.9-2-2-2z"})}),$u=()=>b.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2.5",d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})}),NE=()=>b.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2.5",d:"M8 11V7a4 4 0 118 0m-4 8v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2z"})}),X0=()=>b.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2.5",d:"M9 20l-5.447-2.724A1 1 0 013 16.382V5.618a1 1 0 011.447-.894L9 7m0 13l6-3m-6 3V7m6 10l4.553 2.276A1 1 0 0021 18.382V7.618a1 1 0 00-.553-.894L15 4m0 13V4m0 0L9 7"})}),Vy=({value:a,onChange:e,placeholder:i,className:r="",textClassName:o="",rows:h=2,maxLength:d=100})=>{const[p,g]=lt.useState(!1),[v,T]=lt.useState(a),S=lt.useRef(null);lt.useEffect(()=>{var k,z;p&&((k=S.current)==null||k.focus(),(z=S.current)==null||z.select())},[p]),lt.useEffect(()=>{T(a)},[a]);const C=k=>{k.stopPropagation(),g(!0),T(a)},L=()=>{e(v),g(!1)},Q=()=>{T(a),g(!1)},$=k=>{k.key==="Enter"&&(k.ctrlKey||k.metaKey)&&(k.preventDefault(),L()),k.key==="Escape"&&(k.preventDefault(),Q())};return p?b.jsx("textarea",{ref:S,value:v,onChange:k=>T(k.target.value.slice(0,d)),onBlur:L,onKeyDown:$,rows:h,maxLength:d,className:`w-full p-3 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400 bg-white resize-none ${r}`}):b.jsx("div",{onDoubleClick:C,className:`cursor-pointer hover:bg-slate-50 transition-colors p-3 min-h-[4rem] rounded-lg ${o} ${r}`,children:a||b.jsx("span",{className:"text-slate-400 italic",children:i})})},VE=({goal1:a,goal2:e,onGoal1Change:i,onGoal2Change:r})=>b.jsxs("div",{className:"flex flex-row gap-3 w-full",children:[b.jsx("div",{className:"flex-1",children:b.jsx(Vy,{value:a,onChange:i,placeholder:" 1",className:"bg-white border-2 border-slate-400 shadow-sm",textClassName:"text-red-600 font-bold text-lg",rows:2,maxLength:100})}),b.jsx("div",{className:"flex-1",children:b.jsx(Vy,{value:e,onChange:r,placeholder:" 2",className:"bg-white border-2 border-slate-400 shadow-sm",textClassName:"text-blue-600 font-bold text-lg",rows:2,maxLength:100})})]}),OE=({onClearAll:a,onAddSection:e,hasAnyCompletedItems:i,onOpenNavigationMap:r,headerGoals:o,onHeaderGoalsChange:h})=>{const[d,p]=lt.useState("");return lt.useEffect(()=>{const g=()=>{const T=new Date,S={year:"numeric",month:"long",day:"numeric",weekday:"long"},C=T.toLocaleDateString("ko-KR",S),L=String(T.getHours()).padStart(2,"0"),Q=String(T.getMinutes()).padStart(2,"0"),$=String(T.getSeconds()).padStart(2,"0");p(`${C} ${L}:${Q}:${$}`)};g();const v=setInterval(g,1e3);return()=>clearInterval(v)},[]),b.jsxs("header",{className:"w-full px-6 flex flex-col md:flex-row md:items-end justify-between gap-4 py-6",children:[b.jsxs("div",{children:[b.jsx("h1",{className:"text-2xl font-bold text-slate-800 tracking-tight",children:" "}),b.jsxs("div",{className:"flex items-center gap-3 mt-1",children:[b.jsx("p",{className:"text-red-600 font-medium whitespace-nowrap text-sm",children:d}),b.jsxs("div",{className:"flex items-center gap-2 ml-2",children:[b.jsx("button",{onClick:r,className:"text-slate-900 hover:text-black p-1.5 rounded-lg transition-colors bg-white border border-slate-200 shadow-sm",title:"  ",children:b.jsx(X0,{})}),b.jsx("button",{onClick:a,disabled:!i,className:"text-slate-900 hover:text-black p-1.5 rounded-lg transition-colors disabled:opacity-30 disabled:cursor-not-allowed bg-white border border-slate-200 shadow-sm",title:"   ",children:b.jsx(DE,{})}),b.jsxs("button",{onClick:e,className:"flex items-center gap-1.5 px-3 py-1.5 bg-yellow-400 border border-yellow-500 text-yellow-950 text-xs font-bold rounded-lg hover:bg-yellow-500 transition-all shadow-sm",title:" ",children:[b.jsx(IE,{}),b.jsx("span",{className:"hidden sm:inline",children:"+"})]})]})]})]}),o&&h&&b.jsx("div",{className:"flex-1 hidden lg:flex items-end justify-end",children:b.jsx("div",{className:"w-[90%]",children:b.jsx(VE,{goal1:o.goal1,goal2:o.goal2,onGoal1Change:g=>h({...o,goal1:g}),onGoal2Change:g=>h({...o,goal2:g})})})})]})},ao=({value:a,onChange:e,placeholder:i,className:r="",compact:o=!1,onEditingChange:h})=>{const[d,p]=lt.useState(!1),[g,v]=lt.useState(a),T=lt.useRef(null);lt.useEffect(()=>{var $;d&&(($=T.current)==null||$.focus())},[d]);const S=$=>{$.stopPropagation(),p(!0),v(a),h==null||h(!0)},C=()=>{e(g),p(!1),h==null||h(!1)},L=()=>{v(a),p(!1),h==null||h(!1)},Q=$=>{$.key==="Enter"&&C(),$.key==="Escape"&&L()};return d?b.jsx("input",{ref:T,value:g,onChange:$=>v($.target.value),onBlur:C,onKeyDown:Q,onDragStart:$=>$.stopPropagation(),className:`w-full ${o?"p-0 text-lg leading-normal":"p-1"} border border-slate-300 rounded focus:outline-none focus:ring-1 focus:ring-slate-400 bg-white ${r}`}):b.jsx("div",{onDoubleClick:S,className:`cursor-pointer hover:bg-slate-50 transition-colors ${o?"p-0 min-h-0 text-lg leading-tight":"p-1 min-h-[1.5rem]"} rounded break-words ${r}`,children:a||b.jsx("span",{className:"text-slate-400 italic text-[0.8em]",children:i})})};function bc(a,e){lt.useEffect(()=>{function i(r){a.current&&!a.current.contains(r.target)&&e()}return document.addEventListener("mousedown",i),()=>document.removeEventListener("mousedown",i)},[a,e])}const ME=({item:a,sectionId:e,memo:i,onToggle:r,onUpdateText:o,onDelete:h,onAddMemo:d,onMoveItem:p,onCopy:g,onAddToCalendar:v,onEditingChange:T,dragState:S,onDragStart:C,onDragOver:L,onDrop:Q,onDragEnd:$})=>{const[k,z]=lt.useState(!1),[W,ot]=lt.useState(!1),[pt,yt]=lt.useState(!1),[xt,R]=lt.useState({left:0}),A=lt.useRef(null),D=lt.useRef(null);bc(D,()=>z(!1));const I=w=>{w.stopPropagation();const Gt=window.innerWidth<768;if(A.current&&!Gt){const Zt=A.current.getBoundingClientRect();window.innerHeight-Zt.bottom>=280?R({top:Zt.bottom+8,left:Zt.right+8}):R({bottom:window.innerHeight-Zt.top+8,left:Zt.right+8})}z(!k)},V=S.draggedItemId===a.id,U=S.dragOverItemId===a.id;return b.jsxs("div",{draggable:!pt,onDragStart:w=>{if(pt){w.preventDefault();return}C(w)},onDragOver:L,onDrop:Q,onDragEnd:$,className:`group flex items-center gap-1 py-1.5 px-0 rounded transition-all cursor-move relative min-h-0 ${V?"opacity-50 bg-slate-100":U?"bg-blue-50 border-l-2 border-blue-400":"hover:bg-slate-50"}`,children:[b.jsx("input",{type:"checkbox",checked:a.completed,onChange:r,className:"w-5 h-5 rounded border-slate-300 text-slate-700 focus:ring-slate-500 cursor-pointer flex-shrink-0"}),b.jsxs("div",{className:"flex-1 min-w-0",children:[b.jsx("div",{className:`text-sm leading-snug font-medium ${a.completed?"line-through text-slate-400":"text-slate-700"}`,children:b.jsx(ao,{value:a.text,onChange:o,onEditingChange:w=>{yt(w),T==null||T(w)},placeholder:" ...",className:"text-sm",compact:!0})}),b.jsx("div",{className:"absolute inset-0 z-0",onContextMenu:w=>{w.preventDefault(),w.stopPropagation(),R({top:w.clientY,left:w.clientX}),z(!0)},style:{pointerEvents:pt?"none":"auto"}}),i&&b.jsx("div",{onClick:w=>{w.stopPropagation(),d()},className:"text-xs text-green-600 truncate cursor-pointer hover:text-green-700 transition-colors mt-0.5 pl-1 font-medium",title:i,children:i})]}),b.jsxs("div",{className:"relative flex-shrink-0 -mr-3",children:[a.completed?b.jsx("button",{onClick:()=>ot(!0),className:"bg-red-500 hover:bg-red-600 text-white px-3 py-1.5 rounded-md transition-colors text-sm font-medium border-2 border-black",title:"",children:""}):b.jsx("button",{ref:A,onClick:I,className:"text-slate-500 hover:text-slate-700 transition-colors p-0 rounded",title:"",children:b.jsx(sc,{})}),k&&!a.completed&&(()=>{const w=window.innerWidth<768;return b.jsxs("div",{ref:D,className:`${w?"absolute":"fixed"} bg-white rounded-lg shadow-xl border border-slate-200 z-50 py-1.5 w-48 animate-in fade-in ${w?"slide-in-from-right-2":"slide-in-from-left-2"} duration-150`,style:{...w?{right:0,top:"100%",marginTop:"4px"}:{...xt.top!==void 0&&{top:`${xt.top}px`},...xt.bottom!==void 0&&{bottom:`${xt.bottom}px`},left:`${xt.left}px`}},onClick:Gt=>Gt.stopPropagation(),children:[b.jsx("button",{onClick:()=>{d(),z(!1)},className:"w-full text-left px-4 py-2.5 text-sm text-slate-700 hover:bg-slate-100 transition-colors",children:"  /"}),b.jsx("button",{onClick:()=>{p(),z(!1)},className:"w-full text-left px-4 py-2.5 text-sm text-slate-700 hover:bg-slate-100 transition-colors",children:" "}),b.jsx("button",{onClick:()=>{g(),z(!1)},className:"w-full text-left px-4 py-2.5 text-sm text-slate-700 hover:bg-slate-100 transition-colors",children:" "}),v&&b.jsx("button",{onClick:()=>{v(),z(!1)},className:"w-full text-left px-4 py-2.5 text-sm text-slate-700 hover:bg-slate-100 transition-colors",children:"  "}),b.jsx("button",{onClick:()=>{ot(!0),z(!1)},className:"w-full text-left px-4 py-2.5 text-sm text-red-600 hover:bg-red-50 transition-colors",children:" "}),b.jsx("button",{onClick:()=>z(!1),className:"w-full text-left px-4 py-2.5 text-sm text-slate-500 hover:bg-slate-100 transition-colors border-t border-slate-200",children:""})]})})(),W&&b.jsx("div",{className:"fixed inset-0 bg-black/40 flex items-center justify-center z-50 animate-in fade-in duration-150",children:b.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-6 max-w-sm mx-4 animate-in zoom-in duration-200",children:[b.jsx("h2",{className:"text-lg font-bold text-slate-800 mb-2",children:" ?"}),b.jsxs("p",{className:"text-sm text-slate-600 mb-6",children:['"',b.jsx("span",{className:"font-medium line-through",children:a.text}),'"() .']}),b.jsxs("div",{className:"flex gap-3 justify-end",children:[b.jsx("button",{onClick:()=>ot(!1),className:"px-4 py-2 rounded-lg border-2 border-slate-300 text-slate-700 font-medium hover:bg-slate-50 transition-colors",children:""}),b.jsx("button",{onClick:()=>{h(),ot(!1)},className:"px-4 py-2 rounded-lg bg-red-500 hover:bg-red-600 text-white font-medium border-2 border-black transition-colors",children:""})]})]})})]})]})},Gu=({section:a,itemMemos:e,onUpdateSection:i,onDeleteSection:r,onShowItemMemo:o,onMoveItem:h,onAddToCalendar:d,dragState:p,setDragState:g,onSectionDragStart:v,onSectionDragOver:T,onSectionDrop:S,onSectionDragEnd:C,isHighlighted:L=!1,isInboxSection:Q=!1,isFullHeight:$=!1,tabColorText:k="text-slate-800",tabColorBg:z="",initialQuickAddValue:W,onQuickAddValuePopulated:ot})=>{const[pt,yt]=lt.useState(""),[xt,R]=lt.useState(!1),[A,D]=lt.useState(new Set),I=lt.useRef(null),V=(O,X)=>{D(rt=>{const bt=new Set(rt);return X?bt.add(O):bt.delete(O),bt})};lt.useEffect(()=>{W&&W.trim()!==""&&(yt(W),ot==null||ot(),setTimeout(()=>{var O,X;(O=I.current)==null||O.focus(),(X=I.current)==null||X.select()},400))},[W,ot]);const U=O=>{i({...a,title:O})},w=O=>{if(O.key==="Enter"){const X=pt.trim();if(X==="")return;const rt={id:Math.random().toString(36).substr(2,9),text:X,completed:!1};i({...a,items:[rt,...a.items]}),yt("")}},Gt=()=>{i({...a,isLocked:!a.isLocked})},Zt=O=>{const X=a.items.map(rt=>rt.id===O?{...rt,completed:!rt.completed}:rt);i({...a,items:X})},Z=(O,X)=>{const rt=a.items.map(bt=>bt.id===O?{...bt,text:X}:bt);i({...a,items:rt})},ct=O=>{const X=a.items.filter(rt=>rt.id!==O);i({...a,items:X})},Tt=O=>{const X=a.items.find(rt=>rt.id===O);X&&navigator.clipboard.writeText(X.text).then(()=>{console.log(" :",X.text)}).catch(rt=>{console.error("  :",rt)})};a.items.some(O=>O.completed);const Ot=(O,X)=>{O.stopPropagation(),g({...p,draggedItemId:X,sourceSectionId:a.id})},Ht=(O,X)=>{O.preventDefault(),p.dragOverItemId!==X&&g({...p,dragOverItemId:X})},M=(O,X)=>{if(O.preventDefault(),O.stopPropagation(),!p.draggedItemId||p.sourceSectionId!==a.id)return;const rt=a.items.findIndex(Ve=>Ve.id===p.draggedItemId),bt=a.items.findIndex(Ve=>Ve.id===X);if(rt===-1||bt===-1)return;const ut=[...a.items],[Ne]=ut.splice(rt,1);ut.splice(bt,0,Ne),i({...a,items:ut})},tt=()=>{g({...p,draggedItemId:null,dragOverItemId:null,sourceSectionId:null})},dt=p.draggedSectionId===a.id,mt=p.dragOverSectionId===a.id;return b.jsxs("section",{"data-section-id":a.id,draggable:!xt&&A.size===0,onDragStart:O=>{const X=O.target;if(X.tagName==="INPUT"||X.tagName==="TEXTAREA"){O.preventDefault(),O.stopPropagation();return}if(A.size>0){O.preventDefault();return}v()},onDragOver:T,onDrop:S,onDragEnd:C,className:`bg-white px-4 py-4 transition-all flex flex-col ${Q||$?"h-full":"h-[350px]"} cursor-default ${L?"border-2 border-yellow-400 shadow-lg ring-2 ring-yellow-300/50":dt?"opacity-40 border-2 border-slate-600 shadow-sm":mt?"border-blue-500 border-2 scale-[1.01] shadow-sm":"border-2 border-black shadow-sm"}`,children:[b.jsxs("div",{className:`flex items-center justify-between mb-3 gap-2 cursor-move flex-shrink-0 px-4 py-3 -mx-4 -mt-4 mb-3 border-b-2 border-black ${z}`,title:"  ",children:[b.jsx("div",{className:"flex-1 min-w-0",children:b.jsx(ao,{value:a.title,onChange:U,onEditingChange:R,className:"text-xl font-bold text-black",placeholder:" "})}),b.jsxs("div",{className:"flex items-center gap-1.5",children:[!Q&&b.jsx("button",{onClick:Gt,className:"text-red-500 hover:text-red-700 p-0.5 rounded-full transition-colors",title:a.isLocked?"  ":" ",children:a.isLocked?b.jsx($u,{}):b.jsx(NE,{})}),!Q&&b.jsx("button",{disabled:a.isLocked,onClick:()=>r(a.id),className:"bg-red-500 hover:bg-red-600 text-white px-2 py-1 rounded-md transition-colors text-sm font-medium border-2 border-black disabled:opacity-30 disabled:cursor-not-allowed",title:a.isLocked?"    ":" ",children:""})]})]}),b.jsxs("div",{className:"mb-3 flex-shrink-0 flex gap-0",children:[b.jsx("input",{ref:I,type:"text",value:pt,onChange:O=>yt(O.target.value),onKeyDown:w,placeholder:"    Enter...",className:"flex-1 px-3 py-2 text-sm border-2 border-black border-r-0 rounded-l-lg bg-white focus:outline-none focus:ring-2 focus:ring-yellow-400 focus:border-yellow-400 transition-all"}),b.jsx("button",{onClick:()=>{const O=pt.trim();if(O==="")return;const X={id:Math.random().toString(36).substr(2,9),text:O,completed:!1};i({...a,items:[X,...a.items]}),yt("")},className:"px-3 py-2 text-lg font-bold bg-yellow-400 hover:bg-yellow-500 text-black border-2 border-black border-l-0 rounded-r-lg transition-colors whitespace-nowrap",title:"",children:"+"})]}),b.jsxs("div",{className:"space-y-0.5 overflow-y-auto overflow-x-hidden flex-1 pr-1",children:[[...a.items].sort((O,X)=>O.completed===X.completed?0:O.completed?1:-1).map(O=>b.jsx(ME,{item:O,sectionId:a.id,memo:e[O.id],onToggle:()=>Zt(O.id),onUpdateText:X=>Z(O.id,X),onDelete:()=>ct(O.id),onAddMemo:()=>o(O.id),onMoveItem:()=>h(O.id),onCopy:()=>Tt(O.id),onAddToCalendar:d?()=>d(O.text):void 0,onEditingChange:X=>V(O.id,X),dragState:p,onDragStart:X=>Ot(X,O.id),onDragOver:X=>Ht(X,O.id),onDrop:X=>M(X,O.id),onDragEnd:tt},O.id)),a.items.length===0&&b.jsx("div",{className:"flex flex-col items-center justify-center h-full text-slate-400 opacity-60",children:b.jsx("p",{className:"text-[11px] italic",children:"  ."})})]})]})},jE=({isOpen:a,title:e,message:i,onConfirm:r,onCancel:o})=>a?b.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-slate-900/20 backdrop-blur-[2px]",children:b.jsxs("div",{className:"bg-white w-full max-w-sm rounded-2xl shadow-2xl border border-slate-200 overflow-hidden transform transition-all",children:[b.jsx("div",{className:"px-6 py-4 border-b border-slate-100",children:b.jsx("h2",{className:"text-lg font-bold text-slate-800",children:e})}),b.jsx("div",{className:"px-6 py-6",children:b.jsx("p",{className:"text-slate-600 text-sm leading-relaxed",children:i})}),b.jsxs("div",{className:"px-6 py-4 border-t border-slate-100 bg-slate-50 flex justify-end gap-3",children:[b.jsx("button",{onClick:o,className:"px-4 py-2 bg-slate-200 text-slate-800 text-sm font-semibold rounded-lg hover:bg-slate-300 transition-colors",children:""}),b.jsx("button",{onClick:r,className:"px-4 py-2 bg-red-500 text-white text-sm font-semibold rounded-lg hover:bg-red-600 transition-colors",children:""})]})]})}):null,LE=({info:a,onChange:e,onShowChecklistMemo:i,onShowShoppingMemo:r,onAddToCalendar:o})=>{const h=a.checklistItems||[],d=a.shoppingListItems||[],[p,g]=lt.useState({draggedItemId:null,dragOverItemId:null}),[v,T]=lt.useState({draggedItemId:null,dragOverItemId:null}),[S,C]=lt.useState(null),[L,Q]=lt.useState({left:0}),[$,k]=lt.useState({isOpen:!1,itemId:null,itemText:"",type:"checklist"}),[z,W]=lt.useState(new Set),ot=(O,X)=>{W(rt=>{const bt=new Set(rt);return X?bt.add(O):bt.delete(O),bt})},pt=lt.useRef(null),yt=lt.useRef({});bc(pt,()=>C(null));const xt=(O,X)=>{O.stopPropagation();const rt=window.innerWidth<768;if(yt.current[X]&&!rt){const bt=yt.current[X].getBoundingClientRect();window.innerHeight-bt.bottom>=240?Q({top:bt.bottom+8,left:bt.right+8}):Q({bottom:window.innerHeight-bt.top+8,left:bt.right+8})}C(S===X?null:X)},R=()=>{const O={id:Math.random().toString(36).substr(2,9),text:"",completed:!1};e({...a,checklistItems:[...h,O]})},A=O=>{const X=h.map(rt=>rt.id===O?{...rt,completed:!rt.completed}:rt);e({...a,checklistItems:X})},D=(O,X)=>{const rt=h.map(bt=>bt.id===O?{...bt,text:X}:bt);e({...a,checklistItems:rt})},I=O=>{const X=h.filter(rt=>rt.id!==O);e({...a,checklistItems:X})},V=O=>{const X=h.find(rt=>rt.id===O);X&&navigator.clipboard.writeText(X.text).then(()=>{console.log(" :",X.text)}).catch(rt=>{console.error("  :",rt)})},U=(O,X)=>{if(z.has(X)){O.preventDefault();return}O.stopPropagation(),g({draggedItemId:X,dragOverItemId:null})},w=(O,X)=>{O.preventDefault(),p.dragOverItemId!==X&&g(rt=>({...rt,dragOverItemId:X}))},Gt=(O,X)=>{if(O.preventDefault(),O.stopPropagation(),!p.draggedItemId||p.draggedItemId===X)return;const rt=h.findIndex(Ve=>Ve.id===p.draggedItemId),bt=h.findIndex(Ve=>Ve.id===X);if(rt===-1||bt===-1)return;const ut=[...h],[Ne]=ut.splice(rt,1);ut.splice(bt,0,Ne),e({...a,checklistItems:ut}),g({draggedItemId:null,dragOverItemId:null})},Zt=()=>{g({draggedItemId:null,dragOverItemId:null})},Z=()=>{const O={id:Math.random().toString(36).substr(2,9),text:"",completed:!1};e({...a,shoppingListItems:[...d,O]})},ct=O=>{const X=d.map(rt=>rt.id===O?{...rt,completed:!rt.completed}:rt);e({...a,shoppingListItems:X})},Tt=(O,X)=>{const rt=d.map(bt=>bt.id===O?{...bt,text:X}:bt);e({...a,shoppingListItems:rt})},Ot=O=>{const X=d.filter(rt=>rt.id!==O);e({...a,shoppingListItems:X})},Ht=O=>{const X=d.find(rt=>rt.id===O);X&&navigator.clipboard.writeText(X.text).then(()=>{console.log(" :",X.text)}).catch(rt=>{console.error("  :",rt)})},M=(O,X)=>{if(z.has(X)){O.preventDefault();return}O.stopPropagation(),T({draggedItemId:X,dragOverItemId:null})},tt=(O,X)=>{O.preventDefault(),v.dragOverItemId!==X&&T(rt=>({...rt,dragOverItemId:X}))},dt=(O,X)=>{if(O.preventDefault(),O.stopPropagation(),!v.draggedItemId||v.draggedItemId===X)return;const rt=d.findIndex(Ve=>Ve.id===v.draggedItemId),bt=d.findIndex(Ve=>Ve.id===X);if(rt===-1||bt===-1)return;const ut=[...d],[Ne]=ut.splice(rt,1);ut.splice(bt,0,Ne),e({...a,shoppingListItems:ut}),T({draggedItemId:null,dragOverItemId:null})},mt=()=>{T({draggedItemId:null,dragOverItemId:null})};return b.jsxs("div",{className:"flex flex-col h-full bg-white border-2 border-black p-4 shadow-sm",children:[b.jsx("div",{className:"flex items-center justify-between mb-3 flex-shrink-0",children:b.jsx("h2",{className:"text-sm font-bold text-slate-800",children:""})}),b.jsxs("div",{className:"mb-4",children:[b.jsx("label",{className:"block text-[9px] font-bold text-slate-500 mb-0.5 uppercase tracking-wider",children:"Location Info"}),b.jsx("input",{type:"text",value:a.text,onChange:O=>e({text:O.target.value,checklistItems:h}),placeholder:": B2 14C",className:"w-full px-2 py-1.5 bg-slate-50 border border-slate-300 rounded-lg focus:outline-none focus:ring-1 focus:ring-slate-500 text-xs text-slate-700 font-medium placeholder:text-slate-300"})]}),b.jsx("div",{className:"border-t-2 border-blue-400 mb-4"}),b.jsxs("div",{className:"flex-1 flex flex-col min-h-0",children:[b.jsxs("div",{className:"flex items-center justify-between mb-2",children:[b.jsx("label",{className:"block text-sm font-bold text-slate-800",children:""}),b.jsx("button",{onClick:R,className:"text-xs text-blue-600 hover:text-blue-700 font-medium",children:"+ "})]}),b.jsx("div",{className:"border-t border-slate-200 mb-3"}),b.jsxs("div",{className:"space-y-0 overflow-y-auto overflow-x-hidden flex-1",children:[[...h].sort((O,X)=>O.completed===X.completed?0:O.completed?1:-1).map(O=>{var bt;const X=p.draggedItemId===O.id,rt=p.dragOverItemId===O.id;return b.jsxs("div",{draggable:!z.has(O.id),onDragStart:ut=>U(ut,O.id),onDragOver:ut=>w(ut,O.id),onDrop:ut=>Gt(ut,O.id),onDragEnd:Zt,className:`flex items-center gap-1 py-1.5 px-0 rounded transition-all cursor-move relative min-h-0 ${X?"opacity-50 bg-slate-100":rt?"bg-blue-50 border-l-2 border-blue-400":"hover:bg-slate-50"}`,children:[b.jsx("input",{type:"checkbox",checked:O.completed,onChange:()=>A(O.id),className:"w-5 h-5 rounded border-slate-300 text-slate-700 focus:ring-slate-500 cursor-pointer flex-shrink-0"}),b.jsxs("div",{className:"flex-1 min-w-0",children:[b.jsx("div",{className:`text-sm leading-snug font-medium ${O.completed?"line-through text-slate-400":"text-slate-700"} relative`,onContextMenu:ut=>{ut.preventDefault(),ut.stopPropagation(),Q({top:ut.clientY,left:ut.clientX}),C(O.id)},children:b.jsx(ao,{value:O.text,onChange:ut=>D(O.id,ut),onEditingChange:ut=>ot(O.id,ut),placeholder:" ...",className:"text-sm",compact:!0})}),((bt=a.checklistMemos)==null?void 0:bt[O.id])&&b.jsx("div",{onClick:ut=>{ut.stopPropagation(),i(O.id)},className:"text-xs text-green-600 truncate cursor-pointer hover:text-green-700 transition-colors mt-0.5 pl-1 font-medium",title:a.checklistMemos[O.id],children:a.checklistMemos[O.id]})]}),b.jsxs("div",{className:"relative flex-shrink-0 -mr-3",children:[b.jsx("button",{ref:ut=>{ut&&(yt.current[O.id]=ut)},onClick:ut=>xt(ut,O.id),className:"text-slate-600 hover:text-slate-800 transition-colors p-1.5 rounded",title:"",style:{transform:"scale(1.2)"},children:b.jsx(sc,{})}),S===O.id&&(()=>{const ut=window.innerWidth<768;return b.jsxs("div",{ref:pt,className:`${ut?"absolute":"fixed"} bg-white rounded-lg shadow-xl border border-slate-200 z-50 py-1.5 w-48 animate-in fade-in ${ut?"slide-in-from-right-2":"slide-in-from-left-2"} duration-150`,style:{...ut?{right:0,top:"100%",marginTop:"4px"}:{...L.top!==void 0&&{top:`${L.top}px`},...L.bottom!==void 0&&{bottom:`${L.bottom}px`},left:`${L.left}px`}},onClick:Ne=>Ne.stopPropagation(),children:[b.jsx("button",{onClick:()=>{i(O.id),C(null)},className:"w-full text-left px-4 py-2.5 text-sm text-slate-700 hover:bg-slate-100 transition-colors",children:"  /"}),b.jsx("button",{onClick:()=>{V(O.id),C(null)},className:"w-full text-left px-4 py-2.5 text-sm text-slate-700 hover:bg-slate-100 transition-colors",children:" "}),b.jsx("button",{onClick:()=>{o(O.text),C(null)},className:"w-full text-left px-4 py-2.5 text-sm text-slate-700 hover:bg-slate-100 transition-colors",children:"  "}),b.jsx("button",{onClick:()=>{k({isOpen:!0,itemId:O.id,itemText:O.text,type:"checklist"}),C(null)},className:"w-full text-left px-4 py-2.5 text-sm text-red-600 hover:bg-red-50 transition-colors border-t border-slate-200",children:" "})]})})()]})]},O.id)}),h.length===0&&b.jsx("div",{className:"text-center py-4 text-slate-400 text-xs italic",children:" "})]})]}),b.jsx("div",{className:"border-t-2 border-blue-400 my-4"}),b.jsxs("div",{className:"flex-1 flex flex-col min-h-0",children:[b.jsxs("div",{className:"flex items-center justify-between mb-2",children:[b.jsx("label",{className:"block text-sm font-bold text-slate-800",children:""}),b.jsx("button",{onClick:Z,className:"text-xs text-blue-600 hover:text-blue-700 font-medium",children:"+ "})]}),b.jsx("div",{className:"border-t border-slate-200 mb-3"}),b.jsxs("div",{className:"space-y-0 overflow-y-auto overflow-x-hidden flex-1",children:[[...d].sort((O,X)=>O.completed===X.completed?0:O.completed?1:-1).map(O=>{var bt;const X=v.draggedItemId===O.id,rt=v.dragOverItemId===O.id;return b.jsxs("div",{draggable:!z.has(O.id),onDragStart:ut=>M(ut,O.id),onDragOver:ut=>tt(ut,O.id),onDrop:ut=>dt(ut,O.id),onDragEnd:mt,className:`flex items-center gap-1 py-1.5 px-0 rounded transition-all cursor-move relative min-h-0 ${X?"opacity-50 bg-slate-100":rt?"bg-blue-50 border-l-2 border-blue-400":"hover:bg-slate-50"}`,children:[b.jsx("input",{type:"checkbox",checked:O.completed,onChange:()=>ct(O.id),className:"w-5 h-5 rounded border-slate-300 text-slate-700 focus:ring-slate-500 cursor-pointer flex-shrink-0"}),b.jsxs("div",{className:"flex-1 min-w-0",children:[b.jsx("div",{className:`text-sm leading-snug font-medium ${O.completed?"line-through text-slate-400":"text-slate-700"} relative`,onContextMenu:ut=>{ut.preventDefault(),ut.stopPropagation(),Q({top:ut.clientY,left:ut.clientX}),C(O.id)},children:b.jsx(ao,{value:O.text,onChange:ut=>Tt(O.id,ut),onEditingChange:ut=>ot(O.id,ut),placeholder:" ...",className:"text-sm",compact:!0})}),((bt=a.shoppingListMemos)==null?void 0:bt[O.id])&&b.jsx("div",{onClick:ut=>{ut.stopPropagation(),r(O.id)},className:"text-xs text-green-600 truncate cursor-pointer hover:text-green-700 transition-colors mt-0.5 pl-1 font-medium",title:a.shoppingListMemos[O.id],children:a.shoppingListMemos[O.id]})]}),b.jsxs("div",{className:"relative flex-shrink-0 -mr-3",children:[b.jsx("button",{ref:ut=>{ut&&(yt.current[O.id]=ut)},onClick:ut=>xt(ut,O.id),className:"text-slate-600 hover:text-slate-800 transition-colors p-1.5 rounded",title:"",style:{transform:"scale(1.2)"},children:b.jsx(sc,{})}),S===O.id&&(()=>{const ut=window.innerWidth<768;return b.jsxs("div",{ref:pt,className:`${ut?"absolute":"fixed"} bg-white rounded-lg shadow-xl border border-slate-200 z-50 py-1.5 w-48 animate-in fade-in ${ut?"slide-in-from-right-2":"slide-in-from-left-2"} duration-150`,style:{...ut?{right:0,top:"100%",marginTop:"4px"}:{...L.top!==void 0&&{top:`${L.top}px`},...L.bottom!==void 0&&{bottom:`${L.bottom}px`},left:`${L.left}px`}},onClick:Ne=>Ne.stopPropagation(),children:[b.jsx("button",{onClick:()=>{r(O.id),C(null)},className:"w-full text-left px-4 py-2.5 text-sm text-slate-700 hover:bg-slate-100 transition-colors",children:"  /"}),b.jsx("button",{onClick:()=>{Ht(O.id),C(null)},className:"w-full text-left px-4 py-2.5 text-sm text-slate-700 hover:bg-slate-100 transition-colors",children:" "}),b.jsx("button",{onClick:()=>{o(O.text),C(null)},className:"w-full text-left px-4 py-2.5 text-sm text-slate-700 hover:bg-slate-100 transition-colors",children:"  "}),b.jsx("button",{onClick:()=>{k({isOpen:!0,itemId:O.id,itemText:O.text,type:"shopping"}),C(null)},className:"w-full text-left px-4 py-2.5 text-sm text-red-600 hover:bg-red-50 transition-colors border-t border-slate-200",children:" "})]})})()]})]},O.id)}),d.length===0&&b.jsx("div",{className:"text-center py-4 text-slate-400 text-xs italic",children:" "})]})]}),$.isOpen&&b.jsx("div",{className:"fixed inset-0 bg-black/40 flex items-center justify-center z-50 animate-in fade-in duration-150",children:b.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-6 max-w-sm mx-4 animate-in zoom-in duration-200",children:[b.jsx("h2",{className:"text-lg font-bold text-slate-800 mb-2",children:" ?"}),b.jsxs("p",{className:"text-sm text-slate-600 mb-6",children:['"',$.itemText&&$.itemText.length>30?$.itemText.substring(0,30)+"...":$.itemText,'"',$.itemText.length>30&&"","() ."]}),b.jsxs("div",{className:"flex gap-3 justify-end",children:[b.jsx("button",{onClick:()=>k({...$,isOpen:!1}),className:"px-4 py-2 rounded-lg border-2 border-slate-300 text-slate-700 font-medium hover:bg-slate-50 transition-colors",children:""}),b.jsx("button",{onClick:()=>{$.type==="checklist"?I($.itemId):Ot($.itemId),k({isOpen:!1,itemId:null,itemText:"",type:"checklist"})},className:"px-4 py-2 rounded-lg bg-red-500 hover:bg-red-600 text-white font-medium border-2 border-black transition-colors",children:""})]})]})})]})},Oy=[{bg:"bg-[#F59E0B]",bgLight:"bg-[#FEF3C7]",text:"text-[#92400E]",textLight:"text-[#D97706]",border:"border-[#F59E0B]"},{bg:"bg-[#3B82F6]",bgLight:"bg-[#DBEAFE]",text:"text-[#1E3A8A]",textLight:"text-[#3B82F6]",border:"border-[#3B82F6]"},{bg:"bg-[#9333EA]",bgLight:"bg-[#F3E8FF]",text:"text-[#581C87]",textLight:"text-[#9333EA]",border:"border-[#9333EA]"},{bg:"bg-[#10B981]",bgLight:"bg-[#D1FAE5]",text:"text-[#065F46]",textLight:"text-[#10B981]",border:"border-[#10B981]"},{bg:"bg-[#F43F5E]",bgLight:"bg-[#FFE4E6]",text:"text-[#881337]",textLight:"text-[#F43F5E]",border:"border-[#F43F5E]"},{bg:"bg-[#06B6D4]",bgLight:"bg-[#CFFAFE]",text:"text-[#164E63]",textLight:"text-[#06B6D4]",border:"border-[#06B6D4]"},{bg:"bg-[#8B5CF6]",bgLight:"bg-[#EDE9FE]",text:"text-[#4C1D95]",textLight:"text-[#8B5CF6]",border:"border-[#8B5CF6]"},{bg:"bg-[#F97316]",bgLight:"bg-[#FFEDD5]",text:"text-[#7C2D12]",textLight:"text-[#F97316]",border:"border-[#F97316]"}],Rr=a=>Oy[a%Oy.length],kE=({tab:a,onDelete:e,onToggleLock:i,canDelete:r,isActive:o,tabColor:h})=>{const[d,p]=lt.useState(!1),[g,v]=lt.useState({bottom:0,left:0}),T=lt.useRef(null),S=lt.useRef(null);bc(S,()=>p(!1));const C=Q=>{if(Q.stopPropagation(),T.current){const $=T.current.getBoundingClientRect();v({bottom:window.innerHeight-$.top+8,left:$.left})}p(!d)},L=r&&!a.isLocked;return b.jsxs("div",{className:"relative ml-1",children:[b.jsx("button",{ref:T,onClick:C,className:`p-1 rounded-full transition-all flex items-center justify-center ${o?`opacity-100 ${h.text} hover:bg-black/5`:`opacity-40 group-hover:opacity-100 ${h.textLight} hover:bg-black/5`}`,title:" ",children:b.jsx(sc,{})}),d&&b.jsxs("div",{ref:S,className:"fixed bg-white rounded-xl shadow-[0_10px_30px_rgba(0,0,0,0.2)] border border-slate-200 z-[999] py-1 overflow-hidden animate-in fade-in slide-in-from-bottom-2 duration-150 w-32",style:{bottom:`${g.bottom}px`,left:`${g.left}px`},onClick:Q=>Q.stopPropagation(),children:[b.jsxs("button",{onClick:()=>{i(a.id),p(!1)},className:"w-full text-left px-3 py-2 text-xs text-slate-700 hover:bg-slate-100 transition-colors flex items-center gap-2",children:[b.jsx("span",{className:"text-sm leading-none",children:a.isLocked?"":""}),b.jsx("span",{className:"font-bold",children:a.isLocked?" ":""})]}),b.jsxs("button",{disabled:!L,onClick:()=>{e(a.id),p(!1)},className:`w-full text-left px-3 py-2 text-xs transition-colors flex items-center gap-2 border-t border-slate-50 ${L?"text-red-600 hover:bg-red-50":"text-slate-300 cursor-not-allowed bg-slate-50"}`,children:[b.jsx("span",{className:"text-sm leading-none",children:""}),b.jsx("span",{className:"font-bold",children:""})]}),b.jsx("button",{onClick:()=>p(!1),className:"w-full text-left px-3 py-2 text-xs text-slate-500 hover:bg-slate-100 transition-colors border-t border-slate-100 font-medium",children:""})]})]})},zE=({tabs:a,activeTabId:e,onSelectTab:i,onAddTab:r,onRenameTab:o,onDeleteTab:h,onToggleLockTab:d,onReorderTabs:p,onNavigateToInbox:g,hasInbox:v})=>{const[T,S]=lt.useState(null),[C,L]=lt.useState(null),Q=(W,ot)=>{if(a[ot].isLocked){W.preventDefault();return}S(ot),W.dataTransfer.effectAllowed="move"},$=(W,ot)=>{W.preventDefault(),W.dataTransfer.dropEffect="move",L(ot)},k=(W,ot)=>{W.preventDefault(),T!==null&&T!==ot&&p(T,ot),S(null),L(null)},z=()=>{S(null),L(null)};return b.jsx("div",{className:"bg-white border-t border-slate-200 z-[100] h-12 shadow-[0_-2px_15px_rgba(0,0,0,0.08)] relative",children:b.jsxs("div",{className:"w-full h-full flex items-center overflow-x-auto no-scrollbar whitespace-nowrap px-6 gap-1",children:[v&&b.jsx("button",{onClick:g,className:"flex items-center justify-center w-8 h-8 text-lg leading-none hover:bg-blue-50 rounded-lg transition-all active:scale-95 flex-shrink-0",title:"  IN-BOX  ",children:""}),a.map((W,ot)=>{const pt=Rr(ot),yt=e===W.id,xt=T===ot,R=C===ot;return b.jsxs("div",{draggable:!W.isLocked,onDragStart:A=>Q(A,ot),onDragOver:A=>$(A,ot),onDrop:A=>k(A,ot),onDragEnd:z,onClick:()=>i(W.id),className:`group flex items-center gap-1.5 px-2.5 py-1.5 rounded-lg cursor-pointer transition-all border flex-shrink-0 ${xt?"opacity-50":""} ${R?"ring-2 ring-offset-1 ring-blue-400":""} ${W.isLocked?"":"hover:shadow-md"} ${yt?`${pt.bg} ${pt.text} ${pt.border} shadow-sm`:`${pt.bgLight} ${pt.textLight} border-transparent hover:${pt.border}`} ${W.isLocked?"cursor-default":""}`,children:[b.jsx("div",{draggable:!1,onDragStart:A=>A.stopPropagation(),children:b.jsx(ao,{value:W.name,onChange:A=>o(W.id,A),className:`text-xs min-w-[40px] text-center ${yt?"font-bold":"font-medium"}`,placeholder:" "})}),b.jsx(kE,{tab:W,onDelete:h,onToggleLock:d,canDelete:a.length>1,isActive:yt,tabColor:pt})]},W.id)}),b.jsx("div",{className:"flex items-center ml-2 border-l border-slate-200 pl-4 flex-shrink-0 h-8",children:b.jsxs("button",{onClick:r,className:"flex items-center gap-1.5 px-3 py-1.5 text-xs font-bold text-emerald-600 hover:bg-emerald-50 rounded-lg transition-all active:scale-95",children:[b.jsx("span",{className:"text-lg leading-none",children:"+"}),b.jsx("span",{children:" "})]})})]})})},UE=["#F1F1EF","#F4EEEE","#FBECDD","#FBF3DB","#EDF3EC","#E7F3F8","#F3F0F5","#F9F0F4","#FDEBEC","#FFFFFF","#E1E1E1","#D3D3D3","#E9E5E3","#F7F6F3","#FAF9F6","#F1F5F9","#F0FDF4","#EFF6FF","#F5F3FF","#FDF2F8","#FFFBEB","#FFF1F2","#FEFCE8","#F0FDFA"],BE=({isOpen:a,bookmark:e,onClose:i,onSave:r})=>{const[o,h]=lt.useState({...e});if(lt.useEffect(()=>{a&&h({...e})},[a,e]),!a)return null;const d=()=>{r(o)},p=g=>g.startsWith("#");return b.jsx("div",{className:"fixed inset-0 z-[200] flex items-center justify-center p-4 bg-black/30 backdrop-blur-[2px]",onClick:i,children:b.jsxs("div",{className:"bg-[#F7F6F3] w-full max-w-2xl rounded-xl shadow-2xl overflow-hidden animate-in fade-in zoom-in duration-200",onClick:g=>g.stopPropagation(),children:[b.jsxs("div",{className:"bg-white px-6 py-4 flex items-center justify-between border-b border-slate-200",children:[b.jsx("h2",{className:"text-lg font-bold text-slate-800",children:" "}),b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("button",{onClick:d,className:"px-4 py-1.5 bg-[#3B82F6] text-white text-sm font-bold rounded shadow-sm hover:brightness-95 active:scale-95 transition-all",children:""}),b.jsx("button",{onClick:i,className:"px-4 py-1.5 bg-[#F1B116] text-white text-sm font-bold rounded shadow-sm hover:brightness-95 active:scale-95 transition-all",children:""})]})]}),b.jsxs("div",{className:"p-8 flex flex-col md:flex-row gap-12",children:[b.jsxs("div",{className:"flex-1 space-y-6",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-bold text-slate-400 mb-2 uppercase tracking-tight",children:""}),b.jsx("input",{type:"text",value:o.label,onChange:g=>h({...o,label:g.target.value}),className:"w-full px-4 py-2.5 bg-white border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/20 text-slate-700 font-medium"})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-bold text-slate-400 mb-2 uppercase tracking-tight",children:"URL"}),b.jsx("input",{type:"text",value:o.url,onChange:g=>h({...o,url:g.target.value}),className:"w-full px-4 py-2.5 bg-white border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/20 text-slate-700 font-medium"})]})]}),b.jsxs("div",{className:"flex-1",children:[b.jsx("label",{className:"block text-sm font-bold text-slate-400 mb-4 text-center md:text-left uppercase tracking-tight",children:"  "}),b.jsx("div",{className:"grid grid-cols-6 gap-2 mb-8",children:UE.map(g=>b.jsx("button",{onClick:()=>h({...o,color:`bg-[${g}]`}),className:`w-10 h-10 rounded-lg border transition-all hover:scale-110 ${o.color===`bg-[${g}]`?"border-blue-500 shadow-md scale-110 ring-2 ring-blue-100":"border-slate-200"}`,style:{backgroundColor:g}},g))}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-bold text-slate-400 mb-2 uppercase tracking-tight",children:" "}),b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("div",{className:"w-12 h-10 rounded border border-slate-300 relative overflow-hidden",style:{backgroundColor:p(o.color.replace("bg-[","").replace("]",""))?o.color.replace("bg-[","").replace("]",""):"#FFFFFF"},children:b.jsx("input",{type:"color",className:"absolute inset-0 opacity-0 cursor-pointer w-full h-full",value:p(o.color.replace("bg-[","").replace("]",""))?o.color.replace("bg-[","").replace("]",""):"#FFFFFF",onChange:g=>h({...o,color:`bg-[${g.target.value.toUpperCase()}]`})})}),b.jsx("input",{type:"text",value:o.color.replace("bg-[","").replace("]",""),onChange:g=>h({...o,color:`bg-[${g.target.value.toUpperCase()}]`}),className:"flex-1 px-4 py-2 bg-white border border-slate-300 rounded-lg focus:outline-none text-slate-700 font-mono",placeholder:"#000000"})]})]})]})]})]})})},PE=({bookmarks:a,onUpdateBookmarks:e})=>{const[i,r]=lt.useState(null),[o,h]=lt.useState(null),[d,p]=lt.useState(null),g=z=>{z&&(z.startsWith("http")?window.open(z,"_blank"):window.open(`https://${z}`,"_blank"))},v=(z,W)=>{z.preventDefault(),r(W)},T=(z,W)=>{h(W),z.dataTransfer.effectAllowed="move"},S=(z,W)=>{z.preventDefault(),z.dataTransfer.dropEffect="move",o&&o!==W&&p(W)},C=()=>{p(null)},L=(z,W)=>{if(z.preventDefault(),!o||o===W){h(null),p(null);return}const ot=a.findIndex(yt=>yt.id===o),pt=a.findIndex(yt=>yt.id===W);if(ot!==-1&&pt!==-1){const yt=[...a],[xt]=yt.splice(ot,1);yt.splice(pt,0,xt),e(yt)}h(null),p(null)},Q=()=>{h(null),p(null)},$=z=>{if(!i)return;const W=a.map(ot=>ot.id===z.id?z:ot);e(W),r(null)},k=z=>z.startsWith("bg-[")?z.replace("bg-[","").replace("]",""):z;return b.jsxs("div",{className:"w-full bg-white border-b border-slate-200 py-2.5 px-4 overflow-hidden",children:[b.jsx("div",{className:"grid grid-cols-5 md:grid-cols-[repeat(15,minmax(0,1fr))] gap-1.5",children:a.slice(0,15).map(z=>b.jsx("div",{className:`relative group/btn transition-all ${o===z.id?"opacity-50":""} ${d===z.id?"transform scale-105":""}`,draggable:!0,onDragStart:W=>T(W,z.id),onDragOver:W=>S(W,z.id),onDragLeave:C,onDrop:W=>L(W,z.id),onDragEnd:Q,children:b.jsx("button",{onClick:()=>g(z.url),onContextMenu:W=>v(W,z),className:"w-full h-11 px-2 py-1 rounded-lg border border-slate-200/60 text-[11px] font-bold transition-all active:scale-95 flex items-center justify-center hover:brightness-95 hover:shadow-sm text-slate-700 overflow-hidden leading-tight cursor-move",style:{backgroundColor:k(z.color)},children:b.jsx("span",{className:"line-clamp-2 text-center break-all",children:z.label||"Empty"})})},z.id))}),i&&b.jsx(BE,{isOpen:!!i,bookmark:i,onClose:()=>r(null),onSave:$})]})},qE=({notes:a,onChange:e})=>{const[i,r]=lt.useState(null),[o,h]=lt.useState(""),[d,p]=lt.useState(""),g=Array.from({length:16},(L,Q)=>a[Q]||{title:"",content:""}),v=Array.from({length:16},(L,Q)=>({note:g[Q],originalIndex:Q})).sort((L,Q)=>{const $=L.note.title||L.note.content,k=Q.note.title||Q.note.content;return $===k?0:$?-1:1}),T=L=>{r(L),h(g[L].title),p(g[L].content)},S=()=>{if(i!==null){const L=[...g];L[i]={title:o,content:d},e(L),r(null)}},C=()=>{if(i!==null){const L=[...g];L[i]={title:"",content:""},e(L),r(null)}};return b.jsxs("div",{className:"w-full h-full flex flex-col py-2 px-2 gap-1 overflow-hidden",children:[v.map(({note:L,originalIndex:Q})=>{const $=L.title||L.content;return b.jsx("div",{className:"flex-1 min-h-0 w-full",children:b.jsx("button",{onClick:()=>T(Q),className:`w-full h-full px-2 py-1 rounded-lg border border-slate-200/60 text-[12px] font-bold transition-all active:scale-95 flex flex-col items-center justify-center hover:brightness-95 hover:shadow-sm overflow-hidden leading-tight ${$?"bg-purple-400 text-white":"bg-[#FBF3DB] text-slate-700"}`,children:b.jsx("span",{className:"line-clamp-2 text-center break-all font-bold",children:L.title||(L.content?L.content.substring(0,10):" ")})})},Q)}),i!==null&&b.jsx("div",{className:"fixed inset-0 z-[300] flex items-center justify-center p-4 bg-black/40 backdrop-blur-sm",onClick:()=>r(null),children:b.jsxs("div",{className:"bg-white w-full max-w-3xl h-[70vh] shadow-2xl border border-slate-200 overflow-hidden animate-in zoom-in duration-200 flex flex-col",onClick:L=>L.stopPropagation(),children:[b.jsx("div",{className:"flex-1 overflow-hidden",children:b.jsx("textarea",{value:d,onChange:L=>p(L.target.value),className:"w-full h-full p-8 bg-transparent text-slate-700 text-base resize-none focus:outline-none custom-scrollbar font-medium leading-relaxed placeholder:text-slate-200",placeholder:"  ..."})}),b.jsxs("div",{className:"px-6 py-2 bg-slate-50 border-t border-black flex justify-between gap-3 shrink-0",children:[b.jsx("button",{onClick:C,className:"px-6 py-2.5 text-sm font-bold text-white bg-red-500 hover:bg-red-600 rounded-xl transition-all active:scale-95",children:""}),b.jsxs("div",{className:"flex gap-3",children:[b.jsx("button",{onClick:()=>r(null),className:"px-6 py-2.5 text-sm font-bold text-slate-500 hover:bg-slate-200 rounded-xl transition-all",children:""}),b.jsx("button",{onClick:S,className:"px-10 py-2.5 text-sm font-bold text-white bg-blue-500 hover:bg-blue-600 rounded-xl shadow-lg shadow-blue-500/20 transition-all active:scale-95",children:""})]})]})]})})]})},Lf=({isExpanded:a})=>b.jsx("span",{className:"text-slate-500 font-bold transition-transform duration-200 inline-block text-xs flex-shrink-0",style:{transform:a?"rotate(90deg)":"rotate(0deg)"},children:""}),HE=({isOpen:a,tabs:e,activeTabId:i,onClose:r,onNavigate:o})=>{const[h,d]=lt.useState(new Set([i])),[p,g]=lt.useState(new Set);if(lt.useEffect(()=>{a&&(d(new Set([i])),g(new Set))},[a,i]),!a)return null;const v=k=>k.sections.length+(k.inboxSection?1:0),T=k=>{var z;return k.sections.reduce((W,ot)=>W+ot.items.length,0)+(((z=k.inboxSection)==null?void 0:z.items.length)||0)},S=()=>e.reduce((k,z)=>k+v(z),0),C=()=>e.reduce((k,z)=>k+T(z),0),L=k=>{d(z=>{const W=new Set(z);if(W.has(k)){W.delete(k);const ot=e.find(pt=>pt.id===k);ot&&g(pt=>{const yt=new Set(pt);return ot.inboxSection&&yt.delete(ot.inboxSection.id),ot.sections.forEach(xt=>yt.delete(xt.id)),yt})}else W.add(k);return W})},Q=k=>{g(z=>{const W=new Set(z);return W.has(k)?W.delete(k):W.add(k),W})},$=(k,z)=>{o(k,z)};return b.jsx("div",{className:"fixed inset-0 z-[250] flex items-center justify-center p-4 bg-black/30 backdrop-blur-[2px]",onClick:r,children:b.jsxs("div",{className:"bg-white w-full max-w-4xl max-h-[80vh] rounded-xl shadow-2xl overflow-hidden flex flex-col",onClick:k=>k.stopPropagation(),children:[b.jsxs("div",{className:"px-6 py-4 border-b border-slate-200 flex items-center justify-between bg-slate-50",children:[b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx(X0,{}),b.jsx("h2",{className:"text-lg font-bold text-slate-800",children:"  "})]}),b.jsx("button",{onClick:r,className:"text-slate-400 hover:text-slate-600 p-2 rounded-lg transition-colors",title:"",children:b.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),b.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar p-6",children:e.length===0?b.jsx("div",{className:"text-center py-12 text-slate-400",children:b.jsx("p",{className:"italic",children:" ."})}):e.map(k=>b.jsxs("div",{className:"mb-4",children:[b.jsx("button",{onClick:()=>L(k.id),className:`w-full text-left px-4 py-3 rounded-lg mb-2 transition-all ${k.id===i?"bg-blue-50 border-2 border-blue-400":"hover:bg-slate-100 border border-slate-200"}`,children:b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx(Lf,{isExpanded:h.has(k.id)}),b.jsx("span",{className:"text-lg",children:""}),b.jsx("span",{className:"font-semibold text-slate-800",children:k.name}),k.isLocked&&b.jsx($u,{}),b.jsxs("span",{className:"text-xs text-slate-400 ml-auto",children:[v(k)," , ",T(k)," "]})]})}),h.has(k.id)&&b.jsxs("div",{className:"pl-6 space-y-2",children:[k.inboxSection&&b.jsxs("div",{children:[b.jsxs("button",{onClick:()=>Q(k.inboxSection.id),className:"w-full text-left px-4 py-2 rounded-lg hover:bg-slate-100 transition-all flex items-center gap-2",children:[b.jsx(Lf,{isExpanded:p.has(k.inboxSection.id)}),b.jsx("span",{className:"text-base",children:""}),b.jsx("span",{className:"text-sm font-medium text-slate-700",children:k.inboxSection.title}),k.inboxSection.isLocked&&b.jsx("div",{className:"scale-75",children:b.jsx($u,{})}),b.jsxs("span",{className:"text-xs text-slate-400 ml-auto",children:[k.inboxSection.items.length," "]})]}),p.has(k.inboxSection.id)&&b.jsx("div",{className:"pl-8 space-y-1 mt-1",children:k.inboxSection.items.map(z=>b.jsxs("button",{onClick:()=>$(k.id,k.inboxSection.id),className:"w-full text-left px-3 py-1.5 rounded hover:bg-blue-50 transition-all text-xs text-slate-600 hover:text-slate-800 flex items-center gap-2",children:[b.jsx("span",{className:"flex-shrink-0",children:z.completed?"":""}),b.jsx("span",{className:`truncate ${z.completed?"line-through text-slate-400":""}`,children:z.text||"( )"})]},z.id))})]}),k.sections.length===0&&!k.inboxSection?b.jsx("div",{className:"pl-10 py-2 text-xs text-slate-400 italic",children:"  "}):k.sections.map(z=>b.jsxs("div",{children:[b.jsxs("button",{onClick:()=>Q(z.id),className:"w-full text-left px-4 py-2 rounded-lg hover:bg-slate-100 transition-all flex items-center gap-2",children:[b.jsx(Lf,{isExpanded:p.has(z.id)}),b.jsx("span",{className:"text-base",children:""}),b.jsx("span",{className:"text-sm font-medium text-slate-700",children:z.title}),z.isLocked&&b.jsx("div",{className:"scale-75",children:b.jsx($u,{})}),b.jsxs("span",{className:"text-xs text-slate-400 ml-auto",children:[z.items.length," "]})]}),p.has(z.id)&&b.jsxs("div",{className:"pl-8 space-y-1 mt-1",children:[z.items.map(W=>b.jsxs("button",{onClick:()=>$(k.id,z.id),className:"w-full text-left px-3 py-1.5 rounded hover:bg-blue-50 transition-all text-xs text-slate-600 hover:text-slate-800 flex items-center gap-2",children:[b.jsx("span",{className:"flex-shrink-0",children:W.completed?"":""}),b.jsx("span",{className:`truncate ${W.completed?"line-through text-slate-400":""}`,children:W.text||"( )"})]},W.id)),z.items.length===0&&b.jsx("div",{className:"pl-3 py-1.5 text-xs text-slate-400 italic",children:" "})]})]},z.id))]})]},k.id))}),b.jsxs("div",{className:"px-6 py-3 border-t border-slate-200 bg-slate-50 text-xs text-slate-500 text-center",children:[" ",e.length," , ",S()," , ",C()," "]})]})})},FE=({isOpen:a,itemText:e,currentTabId:i,currentSectionId:r,tabs:o,onMove:h,onCancel:d})=>{const[p,g]=lt.useState(i),[v,T]=lt.useState(""),S=lt.useRef(null);if(bc(S,d),lt.useEffect(()=>{if(a){const k=o.find(z=>z.id===p);if(k){const W=o.findIndex(ot=>ot.id===p)===0&&k.inboxSection?k.inboxSection:k.sections[0];T((W==null?void 0:W.id)||"")}}},[a,p,o]),!a)return null;const C=o.find(k=>k.id===i),L=C==null?void 0:C.sections.find(k=>k.id===r),Q=o.find(k=>k.id===p),$=v&&!(p===i&&v===r);return b.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-slate-900/20 backdrop-blur-[2px]",children:b.jsxs("div",{ref:S,className:"bg-white w-full max-w-md rounded-2xl shadow-2xl border border-slate-200 overflow-hidden",children:[b.jsxs("div",{className:"px-6 py-4 border-b border-slate-100 flex items-center justify-between",children:[b.jsx("h2",{className:"text-lg font-bold text-slate-800",children:"  "}),b.jsx("button",{onClick:d,className:"text-slate-400 hover:text-slate-600 p-1 transition-colors",children:b.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),b.jsxs("div",{className:"px-6 py-6 space-y-4",children:[b.jsxs("div",{className:"bg-slate-50 rounded-lg p-3 border border-slate-200",children:[b.jsx("p",{className:"text-xs text-slate-500 mb-1",children:" "}),b.jsxs("p",{className:"text-sm font-semibold text-slate-700",children:[C==null?void 0:C.name," > ",L==null?void 0:L.title]})]}),b.jsxs("div",{className:"bg-blue-50 rounded-lg p-3 border border-blue-200",children:[b.jsx("p",{className:"text-xs text-blue-600 mb-1",children:" "}),b.jsx("p",{className:"text-sm font-medium text-slate-800 truncate",children:e||"( )"})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:" "}),b.jsx("select",{value:p,onChange:k=>g(k.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm bg-white text-slate-800",children:o.map(k=>b.jsx("option",{value:k.id,children:k.name},k.id))})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:" "}),b.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto custom-scrollbar border border-slate-200 rounded-lg p-3",children:!(Q!=null&&Q.inboxSection)&&(Q==null?void 0:Q.sections.length)===0?b.jsx("p",{className:"text-sm text-slate-400 italic text-center py-4",children:"   "}):b.jsxs(b.Fragment,{children:[o.findIndex(z=>z.id===p)===0&&(Q==null?void 0:Q.inboxSection)&&b.jsxs("label",{className:`flex items-center gap-3 p-2.5 rounded-lg cursor-pointer transition-colors hover:bg-slate-50 ${v===Q.inboxSection.id?"bg-blue-50 border border-blue-300":"border border-transparent"}`,children:[b.jsx("input",{type:"radio",name:"targetSection",value:Q.inboxSection.id,checked:v===Q.inboxSection.id,onChange:z=>T(z.target.value),className:"w-4 h-4 text-blue-600 focus:ring-blue-500 flex-shrink-0"}),b.jsxs("span",{className:"text-sm font-medium flex-1 text-slate-700",children:[" ",Q.inboxSection.title]})]}),Q==null?void 0:Q.sections.map(k=>b.jsxs("label",{className:`flex items-center gap-3 p-2.5 rounded-lg cursor-pointer transition-colors hover:bg-slate-50 ${v===k.id?"bg-blue-50 border border-blue-300":"border border-transparent"}`,children:[b.jsx("input",{type:"radio",name:"targetSection",value:k.id,checked:v===k.id,onChange:z=>T(z.target.value),className:"w-4 h-4 text-blue-600 focus:ring-blue-500 flex-shrink-0"}),b.jsx("span",{className:"text-sm font-medium flex-1 text-slate-700",children:k.title})]},k.id))]})})]})]}),b.jsxs("div",{className:"px-6 py-4 border-t border-slate-100 bg-slate-50 flex justify-end gap-3",children:[b.jsx("button",{onClick:d,className:"px-4 py-2 bg-slate-200 text-slate-800 text-sm font-semibold rounded-lg hover:bg-slate-300 transition-colors",children:""}),b.jsx("button",{onClick:()=>h(p,v),disabled:!$,className:"px-5 py-2 bg-blue-500 text-white text-sm font-semibold rounded-lg hover:bg-blue-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:bg-blue-500",children:""})]})]})})},GE=({isOpen:a,itemText:e,onClose:i,onConfirm:r})=>{const o=new Date().toISOString().split("T")[0],[h,d]=lt.useState(o),[p,g]=lt.useState(!0),[v,T]=lt.useState("09:00"),[S,C]=lt.useState("10:00");if(!a)return null;const L=()=>{if(p)r(h,h,!0);else{const Q=`${h}T${v}:00`,$=`${h}T${S}:00`;r(Q,$,!1)}i()};return b.jsx("div",{className:"fixed inset-0 z-[120] flex items-center justify-center p-4 bg-slate-900/40 backdrop-blur-sm",children:b.jsxs("div",{className:"bg-white w-full max-w-md rounded-2xl shadow-2xl p-6",children:[b.jsx("h3",{className:"text-lg font-bold text-slate-800 mb-4",children:"  "}),b.jsxs("div",{className:"mb-4",children:[b.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:" "}),b.jsx("input",{type:"text",value:e,disabled:!0,className:"w-full px-3 py-2 border border-slate-300 rounded-lg bg-slate-50"})]}),b.jsxs("div",{className:"mb-4",children:[b.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:""}),b.jsx("input",{type:"date",value:h,onChange:Q=>d(Q.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-lg"})]}),b.jsx("div",{className:"mb-4",children:b.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[b.jsx("input",{type:"checkbox",checked:p,onChange:Q=>g(Q.target.checked),className:"w-4 h-4 rounded border-slate-300 text-blue-500"}),b.jsx("span",{className:"text-sm font-medium text-slate-700",children:""})]})}),!p&&b.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-6",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:" "}),b.jsx("input",{type:"time",value:v,onChange:Q=>T(Q.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-lg"})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:" "}),b.jsx("input",{type:"time",value:S,onChange:Q=>C(Q.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-lg"})]})]}),b.jsxs("div",{className:"flex justify-end gap-3",children:[b.jsx("button",{onClick:i,className:"px-5 py-2.5 text-sm font-medium text-slate-500 hover:bg-slate-50 rounded-lg",children:""}),b.jsx("button",{onClick:L,disabled:!h,className:"px-8 py-2.5 text-sm font-bold text-white bg-blue-500 hover:bg-blue-600 rounded-lg disabled:opacity-50",children:""})]})]})})},QE=()=>{};var My={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z0=function(a){const e=[];let i=0;for(let r=0;r<a.length;r++){let o=a.charCodeAt(r);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&r+1<a.length&&(a.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(a.charCodeAt(++r)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},YE=function(a){const e=[];let i=0,r=0;for(;i<a.length;){const o=a[i++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const h=a[i++];e[r++]=String.fromCharCode((o&31)<<6|h&63)}else if(o>239&&o<365){const h=a[i++],d=a[i++],p=a[i++],g=((o&7)<<18|(h&63)<<12|(d&63)<<6|p&63)-65536;e[r++]=String.fromCharCode(55296+(g>>10)),e[r++]=String.fromCharCode(56320+(g&1023))}else{const h=a[i++],d=a[i++];e[r++]=String.fromCharCode((o&15)<<12|(h&63)<<6|d&63)}}return e.join("")},$0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(a,e){if(!Array.isArray(a))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<a.length;o+=3){const h=a[o],d=o+1<a.length,p=d?a[o+1]:0,g=o+2<a.length,v=g?a[o+2]:0,T=h>>2,S=(h&3)<<4|p>>4;let C=(p&15)<<2|v>>6,L=v&63;g||(L=64,d||(C=64)),r.push(i[T],i[S],i[C],i[L])}return r.join("")},encodeString(a,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(a):this.encodeByteArray(Z0(a),e)},decodeString(a,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(a):YE(this.decodeStringToByteArray(a,e))},decodeStringToByteArray(a,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<a.length;){const h=i[a.charAt(o++)],p=o<a.length?i[a.charAt(o)]:0;++o;const v=o<a.length?i[a.charAt(o)]:64;++o;const S=o<a.length?i[a.charAt(o)]:64;if(++o,h==null||p==null||v==null||S==null)throw new KE;const C=h<<2|p>>4;if(r.push(C),v!==64){const L=p<<4&240|v>>2;if(r.push(L),S!==64){const Q=v<<6&192|S;r.push(Q)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let a=0;a<this.ENCODED_VALS.length;a++)this.byteToCharMap_[a]=this.ENCODED_VALS.charAt(a),this.charToByteMap_[this.byteToCharMap_[a]]=a,this.byteToCharMapWebSafe_[a]=this.ENCODED_VALS_WEBSAFE.charAt(a),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[a]]=a,a>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(a)]=a,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(a)]=a)}}};class KE extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const XE=function(a){const e=Z0(a);return $0.encodeByteArray(e,!0)},ac=function(a){return XE(a).replace(/\./g,"")},ZE=function(a){try{return $0.decodeString(a,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $E(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JE=()=>$E().__FIREBASE_DEFAULTS__,WE=()=>{if(typeof process>"u"||typeof My>"u")return;const a=My.__FIREBASE_DEFAULTS__;if(a)return JSON.parse(a)},t1=()=>{if(typeof document>"u")return;let a;try{a=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=a&&ZE(a[1]);return e&&JSON.parse(e)},yd=()=>{try{return QE()||JE()||WE()||t1()}catch(a){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${a}`);return}},e1=a=>{var e,i;return(i=(e=yd())==null?void 0:e.emulatorHosts)==null?void 0:i[a]},n1=a=>{const e=e1(a);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),r]:[e.substring(0,i),r]},J0=()=>{var a;return(a=yd())==null?void 0:a.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,r)=>{i?this.reject(i):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vd(a){try{return(a.startsWith("http://")||a.startsWith("https://")?new URL(a).hostname:a).endsWith(".cloudworkstations.dev")}catch{return!1}}async function s1(a){return(await fetch(a,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a1(a,e){if(a.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},r=e||"demo-project",o=a.iat||0,h=a.sub||a.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}},...a};return[ac(JSON.stringify(i)),ac(JSON.stringify(d)),""].join(".")}const to={};function r1(){const a={prod:[],emulator:[]};for(const e of Object.keys(to))to[e]?a.emulator.push(e):a.prod.push(e);return a}function l1(a){let e=document.getElementById(a),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",a),i=!0),{created:i,element:e}}let jy=!1;function o1(a,e){if(typeof window>"u"||typeof document>"u"||!vd(window.location.host)||to[a]===e||to[a]||jy)return;to[a]=e;function i(C){return`__firebase__banner__${C}`}const r="__firebase__banner",h=r1().prod.length>0;function d(){const C=document.getElementById(r);C&&C.remove()}function p(C){C.style.display="flex",C.style.background="#7faaf0",C.style.position="fixed",C.style.bottom="5px",C.style.left="5px",C.style.padding=".5em",C.style.borderRadius="5px",C.style.alignItems="center"}function g(C,L){C.setAttribute("width","24"),C.setAttribute("id",L),C.setAttribute("height","24"),C.setAttribute("viewBox","0 0 24 24"),C.setAttribute("fill","none"),C.style.marginLeft="-6px"}function v(){const C=document.createElement("span");return C.style.cursor="pointer",C.style.marginLeft="16px",C.style.fontSize="24px",C.innerHTML=" &times;",C.onclick=()=>{jy=!0,d()},C}function T(C,L){C.setAttribute("id",L),C.innerText="Learn more",C.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",C.setAttribute("target","__blank"),C.style.paddingLeft="5px",C.style.textDecoration="underline"}function S(){const C=l1(r),L=i("text"),Q=document.getElementById(L)||document.createElement("span"),$=i("learnmore"),k=document.getElementById($)||document.createElement("a"),z=i("preprendIcon"),W=document.getElementById(z)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(C.created){const ot=C.element;p(ot),T(k,$);const pt=v();g(W,z),ot.append(W,Q,k,pt),document.body.appendChild(ot)}h?(Q.innerText="Preview backend disconnected.",W.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(W.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,Q.innerText="Preview backend running in this workspace."),Q.setAttribute("id",L)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u1(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function c1(){var e;const a=(e=yd())==null?void 0:e.forceEnvironment;if(a==="node")return!0;if(a==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function h1(){return!c1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function f1(){try{return typeof indexedDB=="object"}catch{return!1}}function d1(){return new Promise((a,e)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(r),a(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{var h;e(((h=o.error)==null?void 0:h.message)||"")}}catch(i){e(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m1="FirebaseError";class Hr extends Error{constructor(e,i,r){super(i),this.code=e,this.customData=r,this.name=m1,Object.setPrototypeOf(this,Hr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,W0.prototype.create)}}class W0{constructor(e,i,r){this.service=e,this.serviceName=i,this.errors=r}create(e,...i){const r=i[0]||{},o=`${this.service}/${e}`,h=this.errors[e],d=h?g1(h,r):"Error",p=`${this.serviceName}: ${d} (${o}).`;return new Hr(o,p,r)}}function g1(a,e){return a.replace(p1,(i,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const p1=/\{\$([^}]+)}/g;function rc(a,e){if(a===e)return!0;const i=Object.keys(a),r=Object.keys(e);for(const o of i){if(!r.includes(o))return!1;const h=a[o],d=e[o];if(Ly(h)&&Ly(d)){if(!rc(h,d))return!1}else if(h!==d)return!1}for(const o of r)if(!i.includes(o))return!1;return!0}function Ly(a){return a!==null&&typeof a=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ro(a){return a&&a._delegate?a._delegate:a}class lo{constructor(e,i,r){this.name=e,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Da="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y1{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const r=new i1;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(_1(e))try{this.getOrInitializeService({instanceIdentifier:Da})}catch{}for(const[i,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const h=this.getOrInitializeService({instanceIdentifier:o});r.resolve(h)}catch{}}}}clearInstance(e=Da){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Da){return this.instances.has(e)}getOptions(e=Da){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[h,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(h);r===p&&d.resolve(o)}return o}onInit(e,i){const r=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(r)??new Set;o.add(e),this.onInitCallbacks.set(r,o);const h=this.instances.get(r);return h&&e(h,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,i){const r=this.onInitCallbacks.get(i);if(r)for(const o of r)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:v1(e),options:i}),this.instances.set(e,r),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Da){return this.component?this.component.multipleInstances?e:Da:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function v1(a){return a===Da?void 0:a}function _1(a){return a.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b1{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new y1(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Yt;(function(a){a[a.DEBUG=0]="DEBUG",a[a.VERBOSE=1]="VERBOSE",a[a.INFO=2]="INFO",a[a.WARN=3]="WARN",a[a.ERROR=4]="ERROR",a[a.SILENT=5]="SILENT"})(Yt||(Yt={}));const E1={debug:Yt.DEBUG,verbose:Yt.VERBOSE,info:Yt.INFO,warn:Yt.WARN,error:Yt.ERROR,silent:Yt.SILENT},T1=Yt.INFO,x1={[Yt.DEBUG]:"log",[Yt.VERBOSE]:"log",[Yt.INFO]:"info",[Yt.WARN]:"warn",[Yt.ERROR]:"error"},S1=(a,e,...i)=>{if(e<a.logLevel)return;const r=new Date().toISOString(),o=x1[e];if(o)console[o](`[${r}]  ${a.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class tv{constructor(e){this.name=e,this._logLevel=T1,this._logHandler=S1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Yt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?E1[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Yt.DEBUG,...e),this._logHandler(this,Yt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Yt.VERBOSE,...e),this._logHandler(this,Yt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Yt.INFO,...e),this._logHandler(this,Yt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Yt.WARN,...e),this._logHandler(this,Yt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Yt.ERROR,...e),this._logHandler(this,Yt.ERROR,...e)}}const A1=(a,e)=>e.some(i=>a instanceof i);let ky,zy;function w1(){return ky||(ky=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function C1(){return zy||(zy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ev=new WeakMap,Qf=new WeakMap,nv=new WeakMap,kf=new WeakMap,_d=new WeakMap;function R1(a){const e=new Promise((i,r)=>{const o=()=>{a.removeEventListener("success",h),a.removeEventListener("error",d)},h=()=>{i(qs(a.result)),o()},d=()=>{r(a.error),o()};a.addEventListener("success",h),a.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&ev.set(i,a)}).catch(()=>{}),_d.set(e,a),e}function D1(a){if(Qf.has(a))return;const e=new Promise((i,r)=>{const o=()=>{a.removeEventListener("complete",h),a.removeEventListener("error",d),a.removeEventListener("abort",d)},h=()=>{i(),o()},d=()=>{r(a.error||new DOMException("AbortError","AbortError")),o()};a.addEventListener("complete",h),a.addEventListener("error",d),a.addEventListener("abort",d)});Qf.set(a,e)}let Yf={get(a,e,i){if(a instanceof IDBTransaction){if(e==="done")return Qf.get(a);if(e==="objectStoreNames")return a.objectStoreNames||nv.get(a);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return qs(a[e])},set(a,e,i){return a[e]=i,!0},has(a,e){return a instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in a}};function I1(a){Yf=a(Yf)}function N1(a){return a===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const r=a.call(zf(this),e,...i);return nv.set(r,e.sort?e.sort():[e]),qs(r)}:C1().includes(a)?function(...e){return a.apply(zf(this),e),qs(ev.get(this))}:function(...e){return qs(a.apply(zf(this),e))}}function V1(a){return typeof a=="function"?N1(a):(a instanceof IDBTransaction&&D1(a),A1(a,w1())?new Proxy(a,Yf):a)}function qs(a){if(a instanceof IDBRequest)return R1(a);if(kf.has(a))return kf.get(a);const e=V1(a);return e!==a&&(kf.set(a,e),_d.set(e,a)),e}const zf=a=>_d.get(a);function O1(a,e,{blocked:i,upgrade:r,blocking:o,terminated:h}={}){const d=indexedDB.open(a,e),p=qs(d);return r&&d.addEventListener("upgradeneeded",g=>{r(qs(d.result),g.oldVersion,g.newVersion,qs(d.transaction),g)}),i&&d.addEventListener("blocked",g=>i(g.oldVersion,g.newVersion,g)),p.then(g=>{h&&g.addEventListener("close",()=>h()),o&&g.addEventListener("versionchange",v=>o(v.oldVersion,v.newVersion,v))}).catch(()=>{}),p}const M1=["get","getKey","getAll","getAllKeys","count"],j1=["put","add","delete","clear"],Uf=new Map;function Uy(a,e){if(!(a instanceof IDBDatabase&&!(e in a)&&typeof e=="string"))return;if(Uf.get(e))return Uf.get(e);const i=e.replace(/FromIndex$/,""),r=e!==i,o=j1.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!(o||M1.includes(i)))return;const h=async function(d,...p){const g=this.transaction(d,o?"readwrite":"readonly");let v=g.store;return r&&(v=v.index(p.shift())),(await Promise.all([v[i](...p),o&&g.done]))[0]};return Uf.set(e,h),h}I1(a=>({...a,get:(e,i,r)=>Uy(e,i)||a.get(e,i,r),has:(e,i)=>!!Uy(e,i)||a.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L1{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(k1(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(i=>i).join(" ")}}function k1(a){const e=a.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Kf="@firebase/app",By="0.14.7";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ss=new tv("@firebase/app"),z1="@firebase/app-compat",U1="@firebase/analytics-compat",B1="@firebase/analytics",P1="@firebase/app-check-compat",q1="@firebase/app-check",H1="@firebase/auth",F1="@firebase/auth-compat",G1="@firebase/database",Q1="@firebase/data-connect",Y1="@firebase/database-compat",K1="@firebase/functions",X1="@firebase/functions-compat",Z1="@firebase/installations",$1="@firebase/installations-compat",J1="@firebase/messaging",W1="@firebase/messaging-compat",tT="@firebase/performance",eT="@firebase/performance-compat",nT="@firebase/remote-config",iT="@firebase/remote-config-compat",sT="@firebase/storage",aT="@firebase/storage-compat",rT="@firebase/firestore",lT="@firebase/ai",oT="@firebase/firestore-compat",uT="firebase",cT="12.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xf="[DEFAULT]",hT={[Kf]:"fire-core",[z1]:"fire-core-compat",[B1]:"fire-analytics",[U1]:"fire-analytics-compat",[q1]:"fire-app-check",[P1]:"fire-app-check-compat",[H1]:"fire-auth",[F1]:"fire-auth-compat",[G1]:"fire-rtdb",[Q1]:"fire-data-connect",[Y1]:"fire-rtdb-compat",[K1]:"fire-fn",[X1]:"fire-fn-compat",[Z1]:"fire-iid",[$1]:"fire-iid-compat",[J1]:"fire-fcm",[W1]:"fire-fcm-compat",[tT]:"fire-perf",[eT]:"fire-perf-compat",[nT]:"fire-rc",[iT]:"fire-rc-compat",[sT]:"fire-gcs",[aT]:"fire-gcs-compat",[rT]:"fire-fst",[oT]:"fire-fst-compat",[lT]:"fire-vertex","fire-js":"fire-js",[uT]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lc=new Map,fT=new Map,Zf=new Map;function Py(a,e){try{a.container.addComponent(e)}catch(i){ss.debug(`Component ${e.name} failed to register with FirebaseApp ${a.name}`,i)}}function oc(a){const e=a.name;if(Zf.has(e))return ss.debug(`There were multiple attempts to register component ${e}.`),!1;Zf.set(e,a);for(const i of lc.values())Py(i,a);for(const i of fT.values())Py(i,a);return!0}function dT(a,e){const i=a.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),a.container.getProvider(e)}function mT(a){return a==null?!1:a.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gT={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Hs=new W0("app","Firebase",gT);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pT{constructor(e,i,r){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new lo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Hs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yT=cT;function iv(a,e={}){let i=a;typeof e!="object"&&(e={name:e});const r={name:Xf,automaticDataCollectionEnabled:!0,...e},o=r.name;if(typeof o!="string"||!o)throw Hs.create("bad-app-name",{appName:String(o)});if(i||(i=J0()),!i)throw Hs.create("no-options");const h=lc.get(o);if(h){if(rc(i,h.options)&&rc(r,h.config))return h;throw Hs.create("duplicate-app",{appName:o})}const d=new b1(o);for(const g of Zf.values())d.addComponent(g);const p=new pT(i,r,d);return lc.set(o,p),p}function vT(a=Xf){const e=lc.get(a);if(!e&&a===Xf&&J0())return iv();if(!e)throw Hs.create("no-app",{appName:a});return e}function Or(a,e,i){let r=hT[a]??a;i&&(r+=`-${i}`);const o=r.match(/\s|\//),h=e.match(/\s|\//);if(o||h){const d=[`Unable to register library "${r}" with version "${e}":`];o&&d.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&h&&d.push("and"),h&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ss.warn(d.join(" "));return}oc(new lo(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _T="firebase-heartbeat-database",bT=1,oo="firebase-heartbeat-store";let Bf=null;function sv(){return Bf||(Bf=O1(_T,bT,{upgrade:(a,e)=>{switch(e){case 0:try{a.createObjectStore(oo)}catch(i){console.warn(i)}}}}).catch(a=>{throw Hs.create("idb-open",{originalErrorMessage:a.message})})),Bf}async function ET(a){try{const i=(await sv()).transaction(oo),r=await i.objectStore(oo).get(av(a));return await i.done,r}catch(e){if(e instanceof Hr)ss.warn(e.message);else{const i=Hs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ss.warn(i.message)}}}async function qy(a,e){try{const r=(await sv()).transaction(oo,"readwrite");await r.objectStore(oo).put(e,av(a)),await r.done}catch(i){if(i instanceof Hr)ss.warn(i.message);else{const r=Hs.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});ss.warn(r.message)}}}function av(a){return`${a.name}!${a.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TT=1024,xT=30;class ST{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new wT(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,i;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),h=Hy();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)==null?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===h||this._heartbeatsCache.heartbeats.some(d=>d.date===h))return;if(this._heartbeatsCache.heartbeats.push({date:h,agent:o}),this._heartbeatsCache.heartbeats.length>xT){const d=CT(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){ss.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=Hy(),{heartbeatsToSend:r,unsentEntries:o}=AT(this._heartbeatsCache.heartbeats),h=ac(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=i,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),h}catch(i){return ss.warn(i),""}}}function Hy(){return new Date().toISOString().substring(0,10)}function AT(a,e=TT){const i=[];let r=a.slice();for(const o of a){const h=i.find(d=>d.agent===o.agent);if(h){if(h.dates.push(o.date),Fy(i)>e){h.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),Fy(i)>e){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}class wT{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return f1()?d1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await ET(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return qy(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return qy(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Fy(a){return ac(JSON.stringify({version:2,heartbeats:a})).length}function CT(a){if(a.length===0)return-1;let e=0,i=a[0].date;for(let r=1;r<a.length;r++)a[r].date<i&&(i=a[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RT(a){oc(new lo("platform-logger",e=>new L1(e),"PRIVATE")),oc(new lo("heartbeat",e=>new ST(e),"PRIVATE")),Or(Kf,By,a),Or(Kf,By,"esm2020"),Or("fire-js","")}RT("");var Gy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Fs,rv;(function(){var a;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(R,A){function D(){}D.prototype=A.prototype,R.F=A.prototype,R.prototype=new D,R.prototype.constructor=R,R.D=function(I,V,U){for(var w=Array(arguments.length-2),Gt=2;Gt<arguments.length;Gt++)w[Gt-2]=arguments[Gt];return A.prototype[V].apply(I,w)}}function i(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,i),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(R,A,D){D||(D=0);const I=Array(16);if(typeof A=="string")for(var V=0;V<16;++V)I[V]=A.charCodeAt(D++)|A.charCodeAt(D++)<<8|A.charCodeAt(D++)<<16|A.charCodeAt(D++)<<24;else for(V=0;V<16;++V)I[V]=A[D++]|A[D++]<<8|A[D++]<<16|A[D++]<<24;A=R.g[0],D=R.g[1],V=R.g[2];let U=R.g[3],w;w=A+(U^D&(V^U))+I[0]+3614090360&4294967295,A=D+(w<<7&4294967295|w>>>25),w=U+(V^A&(D^V))+I[1]+3905402710&4294967295,U=A+(w<<12&4294967295|w>>>20),w=V+(D^U&(A^D))+I[2]+606105819&4294967295,V=U+(w<<17&4294967295|w>>>15),w=D+(A^V&(U^A))+I[3]+3250441966&4294967295,D=V+(w<<22&4294967295|w>>>10),w=A+(U^D&(V^U))+I[4]+4118548399&4294967295,A=D+(w<<7&4294967295|w>>>25),w=U+(V^A&(D^V))+I[5]+1200080426&4294967295,U=A+(w<<12&4294967295|w>>>20),w=V+(D^U&(A^D))+I[6]+2821735955&4294967295,V=U+(w<<17&4294967295|w>>>15),w=D+(A^V&(U^A))+I[7]+4249261313&4294967295,D=V+(w<<22&4294967295|w>>>10),w=A+(U^D&(V^U))+I[8]+1770035416&4294967295,A=D+(w<<7&4294967295|w>>>25),w=U+(V^A&(D^V))+I[9]+2336552879&4294967295,U=A+(w<<12&4294967295|w>>>20),w=V+(D^U&(A^D))+I[10]+4294925233&4294967295,V=U+(w<<17&4294967295|w>>>15),w=D+(A^V&(U^A))+I[11]+2304563134&4294967295,D=V+(w<<22&4294967295|w>>>10),w=A+(U^D&(V^U))+I[12]+1804603682&4294967295,A=D+(w<<7&4294967295|w>>>25),w=U+(V^A&(D^V))+I[13]+4254626195&4294967295,U=A+(w<<12&4294967295|w>>>20),w=V+(D^U&(A^D))+I[14]+2792965006&4294967295,V=U+(w<<17&4294967295|w>>>15),w=D+(A^V&(U^A))+I[15]+1236535329&4294967295,D=V+(w<<22&4294967295|w>>>10),w=A+(V^U&(D^V))+I[1]+4129170786&4294967295,A=D+(w<<5&4294967295|w>>>27),w=U+(D^V&(A^D))+I[6]+3225465664&4294967295,U=A+(w<<9&4294967295|w>>>23),w=V+(A^D&(U^A))+I[11]+643717713&4294967295,V=U+(w<<14&4294967295|w>>>18),w=D+(U^A&(V^U))+I[0]+3921069994&4294967295,D=V+(w<<20&4294967295|w>>>12),w=A+(V^U&(D^V))+I[5]+3593408605&4294967295,A=D+(w<<5&4294967295|w>>>27),w=U+(D^V&(A^D))+I[10]+38016083&4294967295,U=A+(w<<9&4294967295|w>>>23),w=V+(A^D&(U^A))+I[15]+3634488961&4294967295,V=U+(w<<14&4294967295|w>>>18),w=D+(U^A&(V^U))+I[4]+3889429448&4294967295,D=V+(w<<20&4294967295|w>>>12),w=A+(V^U&(D^V))+I[9]+568446438&4294967295,A=D+(w<<5&4294967295|w>>>27),w=U+(D^V&(A^D))+I[14]+3275163606&4294967295,U=A+(w<<9&4294967295|w>>>23),w=V+(A^D&(U^A))+I[3]+4107603335&4294967295,V=U+(w<<14&4294967295|w>>>18),w=D+(U^A&(V^U))+I[8]+1163531501&4294967295,D=V+(w<<20&4294967295|w>>>12),w=A+(V^U&(D^V))+I[13]+2850285829&4294967295,A=D+(w<<5&4294967295|w>>>27),w=U+(D^V&(A^D))+I[2]+4243563512&4294967295,U=A+(w<<9&4294967295|w>>>23),w=V+(A^D&(U^A))+I[7]+1735328473&4294967295,V=U+(w<<14&4294967295|w>>>18),w=D+(U^A&(V^U))+I[12]+2368359562&4294967295,D=V+(w<<20&4294967295|w>>>12),w=A+(D^V^U)+I[5]+4294588738&4294967295,A=D+(w<<4&4294967295|w>>>28),w=U+(A^D^V)+I[8]+2272392833&4294967295,U=A+(w<<11&4294967295|w>>>21),w=V+(U^A^D)+I[11]+1839030562&4294967295,V=U+(w<<16&4294967295|w>>>16),w=D+(V^U^A)+I[14]+4259657740&4294967295,D=V+(w<<23&4294967295|w>>>9),w=A+(D^V^U)+I[1]+2763975236&4294967295,A=D+(w<<4&4294967295|w>>>28),w=U+(A^D^V)+I[4]+1272893353&4294967295,U=A+(w<<11&4294967295|w>>>21),w=V+(U^A^D)+I[7]+4139469664&4294967295,V=U+(w<<16&4294967295|w>>>16),w=D+(V^U^A)+I[10]+3200236656&4294967295,D=V+(w<<23&4294967295|w>>>9),w=A+(D^V^U)+I[13]+681279174&4294967295,A=D+(w<<4&4294967295|w>>>28),w=U+(A^D^V)+I[0]+3936430074&4294967295,U=A+(w<<11&4294967295|w>>>21),w=V+(U^A^D)+I[3]+3572445317&4294967295,V=U+(w<<16&4294967295|w>>>16),w=D+(V^U^A)+I[6]+76029189&4294967295,D=V+(w<<23&4294967295|w>>>9),w=A+(D^V^U)+I[9]+3654602809&4294967295,A=D+(w<<4&4294967295|w>>>28),w=U+(A^D^V)+I[12]+3873151461&4294967295,U=A+(w<<11&4294967295|w>>>21),w=V+(U^A^D)+I[15]+530742520&4294967295,V=U+(w<<16&4294967295|w>>>16),w=D+(V^U^A)+I[2]+3299628645&4294967295,D=V+(w<<23&4294967295|w>>>9),w=A+(V^(D|~U))+I[0]+4096336452&4294967295,A=D+(w<<6&4294967295|w>>>26),w=U+(D^(A|~V))+I[7]+1126891415&4294967295,U=A+(w<<10&4294967295|w>>>22),w=V+(A^(U|~D))+I[14]+2878612391&4294967295,V=U+(w<<15&4294967295|w>>>17),w=D+(U^(V|~A))+I[5]+4237533241&4294967295,D=V+(w<<21&4294967295|w>>>11),w=A+(V^(D|~U))+I[12]+1700485571&4294967295,A=D+(w<<6&4294967295|w>>>26),w=U+(D^(A|~V))+I[3]+2399980690&4294967295,U=A+(w<<10&4294967295|w>>>22),w=V+(A^(U|~D))+I[10]+4293915773&4294967295,V=U+(w<<15&4294967295|w>>>17),w=D+(U^(V|~A))+I[1]+2240044497&4294967295,D=V+(w<<21&4294967295|w>>>11),w=A+(V^(D|~U))+I[8]+1873313359&4294967295,A=D+(w<<6&4294967295|w>>>26),w=U+(D^(A|~V))+I[15]+4264355552&4294967295,U=A+(w<<10&4294967295|w>>>22),w=V+(A^(U|~D))+I[6]+2734768916&4294967295,V=U+(w<<15&4294967295|w>>>17),w=D+(U^(V|~A))+I[13]+1309151649&4294967295,D=V+(w<<21&4294967295|w>>>11),w=A+(V^(D|~U))+I[4]+4149444226&4294967295,A=D+(w<<6&4294967295|w>>>26),w=U+(D^(A|~V))+I[11]+3174756917&4294967295,U=A+(w<<10&4294967295|w>>>22),w=V+(A^(U|~D))+I[2]+718787259&4294967295,V=U+(w<<15&4294967295|w>>>17),w=D+(U^(V|~A))+I[9]+3951481745&4294967295,R.g[0]=R.g[0]+A&4294967295,R.g[1]=R.g[1]+(V+(w<<21&4294967295|w>>>11))&4294967295,R.g[2]=R.g[2]+V&4294967295,R.g[3]=R.g[3]+U&4294967295}r.prototype.v=function(R,A){A===void 0&&(A=R.length);const D=A-this.blockSize,I=this.C;let V=this.h,U=0;for(;U<A;){if(V==0)for(;U<=D;)o(this,R,U),U+=this.blockSize;if(typeof R=="string"){for(;U<A;)if(I[V++]=R.charCodeAt(U++),V==this.blockSize){o(this,I),V=0;break}}else for(;U<A;)if(I[V++]=R[U++],V==this.blockSize){o(this,I),V=0;break}}this.h=V,this.o+=A},r.prototype.A=function(){var R=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);R[0]=128;for(var A=1;A<R.length-8;++A)R[A]=0;A=this.o*8;for(var D=R.length-8;D<R.length;++D)R[D]=A&255,A/=256;for(this.v(R),R=Array(16),A=0,D=0;D<4;++D)for(let I=0;I<32;I+=8)R[A++]=this.g[D]>>>I&255;return R};function h(R,A){var D=p;return Object.prototype.hasOwnProperty.call(D,R)?D[R]:D[R]=A(R)}function d(R,A){this.h=A;const D=[];let I=!0;for(let V=R.length-1;V>=0;V--){const U=R[V]|0;I&&U==A||(D[V]=U,I=!1)}this.g=D}var p={};function g(R){return-128<=R&&R<128?h(R,function(A){return new d([A|0],A<0?-1:0)}):new d([R|0],R<0?-1:0)}function v(R){if(isNaN(R)||!isFinite(R))return S;if(R<0)return k(v(-R));const A=[];let D=1;for(let I=0;R>=D;I++)A[I]=R/D|0,D*=4294967296;return new d(A,0)}function T(R,A){if(R.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(R.charAt(0)=="-")return k(T(R.substring(1),A));if(R.indexOf("-")>=0)throw Error('number format error: interior "-" character');const D=v(Math.pow(A,8));let I=S;for(let U=0;U<R.length;U+=8){var V=Math.min(8,R.length-U);const w=parseInt(R.substring(U,U+V),A);V<8?(V=v(Math.pow(A,V)),I=I.j(V).add(v(w))):(I=I.j(D),I=I.add(v(w)))}return I}var S=g(0),C=g(1),L=g(16777216);a=d.prototype,a.m=function(){if($(this))return-k(this).m();let R=0,A=1;for(let D=0;D<this.g.length;D++){const I=this.i(D);R+=(I>=0?I:4294967296+I)*A,A*=4294967296}return R},a.toString=function(R){if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(Q(this))return"0";if($(this))return"-"+k(this).toString(R);const A=v(Math.pow(R,6));var D=this;let I="";for(;;){const V=pt(D,A).g;D=z(D,V.j(A));let U=((D.g.length>0?D.g[0]:D.h)>>>0).toString(R);if(D=V,Q(D))return U+I;for(;U.length<6;)U="0"+U;I=U+I}},a.i=function(R){return R<0?0:R<this.g.length?this.g[R]:this.h};function Q(R){if(R.h!=0)return!1;for(let A=0;A<R.g.length;A++)if(R.g[A]!=0)return!1;return!0}function $(R){return R.h==-1}a.l=function(R){return R=z(this,R),$(R)?-1:Q(R)?0:1};function k(R){const A=R.g.length,D=[];for(let I=0;I<A;I++)D[I]=~R.g[I];return new d(D,~R.h).add(C)}a.abs=function(){return $(this)?k(this):this},a.add=function(R){const A=Math.max(this.g.length,R.g.length),D=[];let I=0;for(let V=0;V<=A;V++){let U=I+(this.i(V)&65535)+(R.i(V)&65535),w=(U>>>16)+(this.i(V)>>>16)+(R.i(V)>>>16);I=w>>>16,U&=65535,w&=65535,D[V]=w<<16|U}return new d(D,D[D.length-1]&-2147483648?-1:0)};function z(R,A){return R.add(k(A))}a.j=function(R){if(Q(this)||Q(R))return S;if($(this))return $(R)?k(this).j(k(R)):k(k(this).j(R));if($(R))return k(this.j(k(R)));if(this.l(L)<0&&R.l(L)<0)return v(this.m()*R.m());const A=this.g.length+R.g.length,D=[];for(var I=0;I<2*A;I++)D[I]=0;for(I=0;I<this.g.length;I++)for(let V=0;V<R.g.length;V++){const U=this.i(I)>>>16,w=this.i(I)&65535,Gt=R.i(V)>>>16,Zt=R.i(V)&65535;D[2*I+2*V]+=w*Zt,W(D,2*I+2*V),D[2*I+2*V+1]+=U*Zt,W(D,2*I+2*V+1),D[2*I+2*V+1]+=w*Gt,W(D,2*I+2*V+1),D[2*I+2*V+2]+=U*Gt,W(D,2*I+2*V+2)}for(R=0;R<A;R++)D[R]=D[2*R+1]<<16|D[2*R];for(R=A;R<2*A;R++)D[R]=0;return new d(D,0)};function W(R,A){for(;(R[A]&65535)!=R[A];)R[A+1]+=R[A]>>>16,R[A]&=65535,A++}function ot(R,A){this.g=R,this.h=A}function pt(R,A){if(Q(A))throw Error("division by zero");if(Q(R))return new ot(S,S);if($(R))return A=pt(k(R),A),new ot(k(A.g),k(A.h));if($(A))return A=pt(R,k(A)),new ot(k(A.g),A.h);if(R.g.length>30){if($(R)||$(A))throw Error("slowDivide_ only works with positive integers.");for(var D=C,I=A;I.l(R)<=0;)D=yt(D),I=yt(I);var V=xt(D,1),U=xt(I,1);for(I=xt(I,2),D=xt(D,2);!Q(I);){var w=U.add(I);w.l(R)<=0&&(V=V.add(D),U=w),I=xt(I,1),D=xt(D,1)}return A=z(R,V.j(A)),new ot(V,A)}for(V=S;R.l(A)>=0;){for(D=Math.max(1,Math.floor(R.m()/A.m())),I=Math.ceil(Math.log(D)/Math.LN2),I=I<=48?1:Math.pow(2,I-48),U=v(D),w=U.j(A);$(w)||w.l(R)>0;)D-=I,U=v(D),w=U.j(A);Q(U)&&(U=C),V=V.add(U),R=z(R,w)}return new ot(V,R)}a.B=function(R){return pt(this,R).h},a.and=function(R){const A=Math.max(this.g.length,R.g.length),D=[];for(let I=0;I<A;I++)D[I]=this.i(I)&R.i(I);return new d(D,this.h&R.h)},a.or=function(R){const A=Math.max(this.g.length,R.g.length),D=[];for(let I=0;I<A;I++)D[I]=this.i(I)|R.i(I);return new d(D,this.h|R.h)},a.xor=function(R){const A=Math.max(this.g.length,R.g.length),D=[];for(let I=0;I<A;I++)D[I]=this.i(I)^R.i(I);return new d(D,this.h^R.h)};function yt(R){const A=R.g.length+1,D=[];for(let I=0;I<A;I++)D[I]=R.i(I)<<1|R.i(I-1)>>>31;return new d(D,R.h)}function xt(R,A){const D=A>>5;A%=32;const I=R.g.length-D,V=[];for(let U=0;U<I;U++)V[U]=A>0?R.i(U+D)>>>A|R.i(U+D+1)<<32-A:R.i(U+D);return new d(V,R.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,rv=r,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=v,d.fromString=T,Fs=d}).apply(typeof Gy<"u"?Gy:typeof self<"u"?self:typeof window<"u"?window:{});var Qu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var lv,Zl,ov,Ju,$f,uv,cv,hv;(function(){var a,e=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Qu=="object"&&Qu];for(var m=0;m<u.length;++m){var _=u[m];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var r=i(this);function o(u,m){if(m)t:{var _=r;u=u.split(".");for(var x=0;x<u.length-1;x++){var P=u[x];if(!(P in _))break t;_=_[P]}u=u[u.length-1],x=_[u],m=m(x),m!=x&&m!=null&&e(_,u,{configurable:!0,writable:!0,value:m})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(m){var _=[],x;for(x in m)Object.prototype.hasOwnProperty.call(m,x)&&_.push([x,m[x]]);return _}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},d=this||self;function p(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function g(u,m,_){return u.call.apply(u.bind,arguments)}function v(u,m,_){return v=g,v.apply(null,arguments)}function T(u,m){var _=Array.prototype.slice.call(arguments,1);return function(){var x=_.slice();return x.push.apply(x,arguments),u.apply(this,x)}}function S(u,m){function _(){}_.prototype=m.prototype,u.Z=m.prototype,u.prototype=new _,u.prototype.constructor=u,u.Ob=function(x,P,Y){for(var ft=Array(arguments.length-2),Mt=2;Mt<arguments.length;Mt++)ft[Mt-2]=arguments[Mt];return m.prototype[P].apply(x,ft)}}var C=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function L(u){const m=u.length;if(m>0){const _=Array(m);for(let x=0;x<m;x++)_[x]=u[x];return _}return[]}function Q(u,m){for(let x=1;x<arguments.length;x++){const P=arguments[x];var _=typeof P;if(_=_!="object"?_:P?Array.isArray(P)?"array":_:"null",_=="array"||_=="object"&&typeof P.length=="number"){_=u.length||0;const Y=P.length||0;u.length=_+Y;for(let ft=0;ft<Y;ft++)u[_+ft]=P[ft]}else u.push(P)}}class ${constructor(m,_){this.i=m,this.j=_,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function k(u){d.setTimeout(()=>{throw u},0)}function z(){var u=R;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class W{constructor(){this.h=this.g=null}add(m,_){const x=ot.get();x.set(m,_),this.h?this.h.next=x:this.g=x,this.h=x}}var ot=new $(()=>new pt,u=>u.reset());class pt{constructor(){this.next=this.g=this.h=null}set(m,_){this.h=m,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let yt,xt=!1,R=new W,A=()=>{const u=Promise.resolve(void 0);yt=()=>{u.then(D)}};function D(){for(var u;u=z();){try{u.h.call(u.g)}catch(_){k(_)}var m=ot;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}xt=!1}function I(){this.u=this.u,this.C=this.C}I.prototype.u=!1,I.prototype.dispose=function(){this.u||(this.u=!0,this.N())},I.prototype[Symbol.dispose]=function(){this.dispose()},I.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function V(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}V.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const _=()=>{};d.addEventListener("test",_,m),d.removeEventListener("test",_,m)}catch{}return u})();function w(u){return/^[\s\xa0]*$/.test(u)}function Gt(u,m){V.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}S(Gt,V),Gt.prototype.init=function(u,m){const _=this.type=u.type,x=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(_=="mouseover"?m=u.fromElement:_=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,x?(this.clientX=x.clientX!==void 0?x.clientX:x.pageX,this.clientY=x.clientY!==void 0?x.clientY:x.pageY,this.screenX=x.screenX||0,this.screenY=x.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&Gt.Z.h.call(this)},Gt.prototype.h=function(){Gt.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Zt="closure_listenable_"+(Math.random()*1e6|0),Z=0;function ct(u,m,_,x,P){this.listener=u,this.proxy=null,this.src=m,this.type=_,this.capture=!!x,this.ha=P,this.key=++Z,this.da=this.fa=!1}function Tt(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Ot(u,m,_){for(const x in u)m.call(_,u[x],x,u)}function Ht(u,m){for(const _ in u)m.call(void 0,u[_],_,u)}function M(u){const m={};for(const _ in u)m[_]=u[_];return m}const tt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function dt(u,m){let _,x;for(let P=1;P<arguments.length;P++){x=arguments[P];for(_ in x)u[_]=x[_];for(let Y=0;Y<tt.length;Y++)_=tt[Y],Object.prototype.hasOwnProperty.call(x,_)&&(u[_]=x[_])}}function mt(u){this.src=u,this.g={},this.h=0}mt.prototype.add=function(u,m,_,x,P){const Y=u.toString();u=this.g[Y],u||(u=this.g[Y]=[],this.h++);const ft=X(u,m,x,P);return ft>-1?(m=u[ft],_||(m.fa=!1)):(m=new ct(m,this.src,Y,!!x,P),m.fa=_,u.push(m)),m};function O(u,m){const _=m.type;if(_ in u.g){var x=u.g[_],P=Array.prototype.indexOf.call(x,m,void 0),Y;(Y=P>=0)&&Array.prototype.splice.call(x,P,1),Y&&(Tt(m),u.g[_].length==0&&(delete u.g[_],u.h--))}}function X(u,m,_,x){for(let P=0;P<u.length;++P){const Y=u[P];if(!Y.da&&Y.listener==m&&Y.capture==!!_&&Y.ha==x)return P}return-1}var rt="closure_lm_"+(Math.random()*1e6|0),bt={};function ut(u,m,_,x,P){if(Array.isArray(m)){for(let Y=0;Y<m.length;Y++)ut(u,m[Y],_,x,P);return null}return _=ea(_),u&&u[Zt]?u.J(m,_,p(x)?!!x.capture:!1,P):Ne(u,m,_,!1,x,P)}function Ne(u,m,_,x,P,Y){if(!m)throw Error("Invalid event type");const ft=p(P)?!!P.capture:!!P;let Mt=ki(u);if(Mt||(u[rt]=Mt=new mt(u)),_=Mt.add(m,_,x,ft,Y),_.proxy)return _;if(x=Ve(),_.proxy=x,x.src=u,x.listener=_,u.addEventListener)U||(P=ft),P===void 0&&(P=!1),u.addEventListener(m.toString(),x,P);else if(u.attachEvent)u.attachEvent(kn(m.toString()),x);else if(u.addListener&&u.removeListener)u.addListener(x);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Ve(){function u(_){return m.call(u.src,u.listener,_)}const m=Ws;return u}function ls(u,m,_,x,P){if(Array.isArray(m))for(var Y=0;Y<m.length;Y++)ls(u,m[Y],_,x,P);else x=p(x)?!!x.capture:!!x,_=ea(_),u&&u[Zt]?(u=u.i,Y=String(m).toString(),Y in u.g&&(m=u.g[Y],_=X(m,_,x,P),_>-1&&(Tt(m[_]),Array.prototype.splice.call(m,_,1),m.length==0&&(delete u.g[Y],u.h--)))):u&&(u=ki(u))&&(m=u.g[m.toString()],u=-1,m&&(u=X(m,_,x,P)),(_=u>-1?m[u]:null)&&os(_))}function os(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Zt])O(m.i,u);else{var _=u.type,x=u.proxy;m.removeEventListener?m.removeEventListener(_,x,u.capture):m.detachEvent?m.detachEvent(kn(_),x):m.addListener&&m.removeListener&&m.removeListener(x),(_=ki(m))?(O(_,u),_.h==0&&(_.src=null,m[rt]=null)):Tt(u)}}}function kn(u){return u in bt?bt[u]:bt[u]="on"+u}function Ws(u,m){if(u.da)u=!0;else{m=new Gt(m,this);const _=u.listener,x=u.ha||u.src;u.fa&&os(u),u=_.call(x,m)}return u}function ki(u){return u=u[rt],u instanceof mt?u:null}var ta="__closure_events_fn_"+(Math.random()*1e9>>>0);function ea(u){return typeof u=="function"?u:(u[ta]||(u[ta]=function(m){return u.handleEvent(m)}),u[ta])}function he(){I.call(this),this.i=new mt(this),this.M=this,this.G=null}S(he,I),he.prototype[Zt]=!0,he.prototype.removeEventListener=function(u,m,_,x){ls(this,u,m,_,x)};function xe(u,m){var _,x=u.G;if(x)for(_=[];x;x=x.G)_.push(x);if(u=u.M,x=m.type||m,typeof m=="string")m=new V(m,u);else if(m instanceof V)m.target=m.target||u;else{var P=m;m=new V(x,u),dt(m,P)}P=!0;let Y,ft;if(_)for(ft=_.length-1;ft>=0;ft--)Y=m.g=_[ft],P=ci(Y,x,!0,m)&&P;if(Y=m.g=u,P=ci(Y,x,!0,m)&&P,P=ci(Y,x,!1,m)&&P,_)for(ft=0;ft<_.length;ft++)Y=m.g=_[ft],P=ci(Y,x,!1,m)&&P}he.prototype.N=function(){if(he.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const _=u.g[m];for(let x=0;x<_.length;x++)Tt(_[x]);delete u.g[m],u.h--}}this.G=null},he.prototype.J=function(u,m,_,x){return this.i.add(String(u),m,!1,_,x)},he.prototype.K=function(u,m,_,x){return this.i.add(String(u),m,!0,_,x)};function ci(u,m,_,x){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let P=!0;for(let Y=0;Y<m.length;++Y){const ft=m[Y];if(ft&&!ft.da&&ft.capture==_){const Mt=ft.listener,Ce=ft.ha||ft.src;ft.fa&&O(u.i,ft),P=Mt.call(Ce,x)!==!1&&P}}return P&&!x.defaultPrevented}function Kr(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=v(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function za(u){u.g=Kr(()=>{u.g=null,u.i&&(u.i=!1,za(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class we extends I{constructor(m,_){super(),this.m=m,this.l=_,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:za(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function hi(u){I.call(this),this.h=u,this.g={}}S(hi,I);var us=[];function q(u){Ot(u.g,function(m,_){this.g.hasOwnProperty(_)&&os(m)},u),u.g={}}hi.prototype.N=function(){hi.Z.N.call(this),q(this)},hi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var et=d.JSON.stringify,ht=d.JSON.parse,Rt=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function Wt(){}function de(){}var me={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function te(){V.call(this,"d")}S(te,V);function Je(){V.call(this,"c")}S(Je,V);var ee={},na=null;function zi(){return na=na||new he}ee.Ia="serverreachability";function ia(u){V.call(this,ee.Ia,u)}S(ia,V);function _t(u){const m=zi();xe(m,new ia(m))}ee.STAT_EVENT="statevent";function fi(u,m){V.call(this,ee.STAT_EVENT,u),this.stat=m}S(fi,V);function be(u){const m=zi();xe(m,new fi(m,u))}ee.Ja="timingevent";function An(u,m){V.call(this,ee.Ja,u),this.size=m}S(An,V);function wn(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function pn(){this.g=!0}pn.prototype.ua=function(){this.g=!1};function Ua(u,m,_,x,P,Y){u.info(function(){if(u.g)if(Y){var ft="",Mt=Y.split("&");for(let $t=0;$t<Mt.length;$t++){var Ce=Mt[$t].split("=");if(Ce.length>1){const ve=Ce[0];Ce=Ce[1];const Pn=ve.split("_");ft=Pn.length>=2&&Pn[1]=="type"?ft+(ve+"="+Ce+"&"):ft+(ve+"=redacted&")}}}else ft=null;else ft=Y;return"XMLHTTP REQ ("+x+") [attempt "+P+"]: "+m+`
`+_+`
`+ft})}function sa(u,m,_,x,P,Y,ft){u.info(function(){return"XMLHTTP RESP ("+x+") [ attempt "+P+"]: "+m+`
`+_+`
`+Y+" "+ft})}function Cn(u,m,_,x){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Ba(u,_)+(x?" "+x:"")})}function di(u,m){u.info(function(){return"TIMEOUT: "+m})}pn.prototype.info=function(){};function Ba(u,m){if(!u.g)return m;if(!m)return null;try{const Y=JSON.parse(m);if(Y){for(u=0;u<Y.length;u++)if(Array.isArray(Y[u])){var _=Y[u];if(!(_.length<2)){var x=_[1];if(Array.isArray(x)&&!(x.length<1)){var P=x[0];if(P!="noop"&&P!="stop"&&P!="close")for(let ft=1;ft<x.length;ft++)x[ft]=""}}}}return et(Y)}catch{return m}}var Qe={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},on={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},re;function Ye(){}S(Ye,Wt),Ye.prototype.g=function(){return new XMLHttpRequest},re=new Ye;function un(u){return encodeURIComponent(String(u))}function Pa(u){var m=1;u=u.split(":");const _=[];for(;m>0&&u.length;)_.push(u.shift()),m--;return u.length&&_.push(u.join(":")),_}function Jn(u,m,_,x){this.j=u,this.i=m,this.l=_,this.S=x||1,this.V=new hi(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Wn}function Wn(){this.i=null,this.g="",this.h=!1}var Oe={},Ke={};function mi(u,m,_){u.M=1,u.A=aa(je(m)),u.u=_,u.R=!0,qa(u,null)}function qa(u,m){u.F=Date.now(),gi(u),u.B=je(u.A);var _=u.B,x=u.S;Array.isArray(x)||(x=[String(x)]),Qa(_.i,"t",x),u.C=0,_=u.j.L,u.h=new Wn,u.g=zo(u.j,_?m:null,!u.u),u.P>0&&(u.O=new we(v(u.Y,u,u.g),u.P)),m=u.V,_=u.g,x=u.ba;var P="readystatechange";Array.isArray(P)||(P&&(us[0]=P.toString()),P=us);for(let Y=0;Y<P.length;Y++){const ft=ut(_,P[Y],x||m.handleEvent,!1,m.h||m);if(!ft)break;m.g[ft.key]=ft}m=u.J?M(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),_t(),Ua(u.i,u.v,u.B,u.l,u.S,u.u)}Jn.prototype.ba=function(u){u=u.target;const m=this.O;m&&ni(u)==3?m.j():this.Y(u)},Jn.prototype.Y=function(u){try{if(u==this.g)t:{const Mt=ni(this.g),Ce=this.g.ya(),$t=this.g.ca();if(!(Mt<3)&&(Mt!=3||this.g&&(this.h.h||this.g.la()||We(this.g)))){this.K||Mt!=4||Ce==7||(Ce==8||$t<=0?_t(3):_t(2)),pi(this);var m=this.g.ca();this.X=m;var _=jc(this);if(this.o=m==200,sa(this.i,this.v,this.B,this.l,this.S,Mt,m),this.o){if(this.U&&!this.L){e:{if(this.g){var x,P=this.g;if((x=P.g?P.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(x)){var Y=x;break e}}Y=null}if(u=Y)Cn(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,yi(this,u);else{this.o=!1,this.m=3,be(12),Rn(this),zn(this);break t}}if(this.R){u=!0;let ve;for(;!this.K&&this.C<_.length;)if(ve=Ao(this,_),ve==Ke){Mt==4&&(this.m=4,be(14),u=!1),Cn(this.i,this.l,null,"[Incomplete Response]");break}else if(ve==Oe){this.m=4,be(15),Cn(this.i,this.l,_,"[Invalid Chunk]"),u=!1;break}else Cn(this.i,this.l,ve,null),yi(this,ve);if(So(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Mt!=4||_.length!=0||this.h.h||(this.m=1,be(16),u=!1),this.o=this.o&&u,!u)Cn(this.i,this.l,_,"[Invalid Chunked Response]"),Rn(this),zn(this);else if(_.length>0&&!this.W){this.W=!0;var ft=this.j;ft.g==this&&ft.aa&&!ft.P&&(ft.j.info("Great, no buffering proxy detected. Bytes received: "+_.length),ul(ft),ft.P=!0,be(11))}}else Cn(this.i,this.l,_,null),yi(this,_);Mt==4&&Rn(this),this.o&&!this.K&&(Mt==4?Mo(this.j,this):(this.o=!1,gi(this)))}else Bi(this.g),m==400&&_.indexOf("Unknown SID")>0?(this.m=3,be(12)):(this.m=0,be(13)),Rn(this),zn(this)}}}catch{}finally{}};function jc(u){if(!So(u))return u.g.la();const m=We(u.g);if(m==="")return"";let _="";const x=m.length,P=ni(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return Rn(u),zn(u),"";u.h.i=new d.TextDecoder}for(let Y=0;Y<x;Y++)u.h.h=!0,_+=u.h.i.decode(m[Y],{stream:!(P&&Y==x-1)});return m.length=0,u.h.g+=_,u.C=0,u.h.g}function So(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function Ao(u,m){var _=u.C,x=m.indexOf(`
`,_);return x==-1?Ke:(_=Number(m.substring(_,x)),isNaN(_)?Oe:(x+=1,x+_>m.length?Ke:(m=m.slice(x,x+_),u.C=x+_,m)))}Jn.prototype.cancel=function(){this.K=!0,Rn(this)};function gi(u){u.T=Date.now()+u.H,Ha(u,u.H)}function Ha(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=wn(v(u.aa,u),m)}function pi(u){u.D&&(d.clearTimeout(u.D),u.D=null)}Jn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(di(this.i,this.B),this.M!=2&&(_t(),be(17)),Rn(this),this.m=2,zn(this)):Ha(this,this.T-u)};function zn(u){u.j.I==0||u.K||Mo(u.j,u)}function Rn(u){pi(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,q(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function yi(u,m){try{var _=u.j;if(_.I!=0&&(_.g==u||_i(_.h,u))){if(!u.L&&_i(_.h,u)&&_.I==3){try{var x=_.Ba.g.parse(m)}catch{x=null}if(Array.isArray(x)&&x.length==3){var P=x;if(P[0]==0){t:if(!_.v){if(_.g)if(_.g.F+3e3<u.F)$a(_),ys(_);else break t;fa(_),be(18)}}else _.xa=P[1],0<_.xa-_.K&&P[2]<37500&&_.F&&_.A==0&&!_.C&&(_.C=wn(v(_.Va,_),6e3));vi(_.h)<=1&&_.ta&&(_.ta=void 0)}else Ai(_,11)}else if((u.L||_.g==u)&&$a(_),!w(m))for(P=_.Ba.g.parse(m),m=0;m<P.length;m++){let $t=P[m];const ve=$t[0];if(!(ve<=_.K))if(_.K=ve,$t=$t[1],_.I==2)if($t[0]=="c"){_.M=$t[1],_.ba=$t[2];const Pn=$t[3];Pn!=null&&(_.ka=Pn,_.j.info("VER="+_.ka));const wi=$t[4];wi!=null&&(_.za=wi,_.j.info("SVER="+_.za));const ii=$t[5];ii!=null&&typeof ii=="number"&&ii>0&&(x=1.5*ii,_.O=x,_.j.info("backChannelRequestTimeoutMs_="+x)),x=_;const si=u.g;if(si){const da=si.g?si.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(da){var Y=x.h;Y.g||da.indexOf("spdy")==-1&&da.indexOf("quic")==-1&&da.indexOf("h2")==-1||(Y.j=Y.l,Y.g=new Set,Y.h&&($r(Y,Y.h),Y.h=null))}if(x.G){const Ja=si.g?si.g.getResponseHeader("X-HTTP-Session-Id"):null;Ja&&(x.wa=Ja,ie(x.J,x.G,Ja))}}_.I=3,_.l&&_.l.ra(),_.aa&&(_.T=Date.now()-u.F,_.j.info("Handshake RTT: "+_.T+"ms")),x=_;var ft=u;if(x.na=ko(x,x.L?x.ba:null,x.W),ft.L){Jr(x.h,ft);var Mt=ft,Ce=x.O;Ce&&(Mt.H=Ce),Mt.D&&(pi(Mt),gi(Mt)),x.g=ft}else Vo(x);_.i.length>0&&Si(_)}else $t[0]!="stop"&&$t[0]!="close"||Ai(_,7);else _.I==3&&($t[0]=="stop"||$t[0]=="close"?$t[0]=="stop"?Ai(_,7):ll(_):$t[0]!="noop"&&_.l&&_.l.qa($t),_.A=0)}}_t(4)}catch{}}var Me=class{constructor(u,m){this.g=u,this.map=m}};function Xr(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Zr(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function vi(u){return u.h?1:u.g?u.g.size:0}function _i(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function $r(u,m){u.g?u.g.add(m):u.h=m}function Jr(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Xr.prototype.cancel=function(){if(this.i=Wr(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Wr(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const _ of u.g.values())m=m.concat(_.G);return m}return L(u.i)}var wo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Fa(u,m){if(u){u=u.split("&");for(let _=0;_<u.length;_++){const x=u[_].indexOf("=");let P,Y=null;x>=0?(P=u[_].substring(0,x),Y=u[_].substring(x+1)):P=u[_],m(P,Y?decodeURIComponent(Y.replace(/\+/g," ")):"")}}}function Dn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof Dn?(this.l=u.l,Xe(this,u.j),this.o=u.o,this.g=u.g,cs(this,u.u),this.h=u.h,tl(this,Io(u.i)),this.m=u.m):u&&(m=String(u).match(wo))?(this.l=!1,Xe(this,m[1]||"",!0),this.o=bi(m[2]||""),this.g=bi(m[3]||"",!0),cs(this,m[4]),this.h=bi(m[5]||"",!0),tl(this,m[6]||"",!0),this.m=bi(m[7]||"")):(this.l=!1,this.i=new fs(null,this.l))}Dn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(ra(m,Ga,!0),":");var _=this.g;return(_||m=="file")&&(u.push("//"),(m=this.o)&&u.push(ra(m,Ga,!0),"@"),u.push(un(_).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.u,_!=null&&u.push(":",String(_))),(_=this.h)&&(this.g&&_.charAt(0)!="/"&&u.push("/"),u.push(ra(_,_.charAt(0)=="/"?el:Co,!0))),(_=this.i.toString())&&u.push("?",_),(_=this.m)&&u.push("#",ra(_,Ro)),u.join("")},Dn.prototype.resolve=function(u){const m=je(this);let _=!!u.j;_?Xe(m,u.j):_=!!u.o,_?m.o=u.o:_=!!u.g,_?m.g=u.g:_=u.u!=null;var x=u.h;if(_)cs(m,u.u);else if(_=!!u.h){if(x.charAt(0)!="/")if(this.g&&!this.h)x="/"+x;else{var P=m.h.lastIndexOf("/");P!=-1&&(x=m.h.slice(0,P+1)+x)}if(P=x,P==".."||P==".")x="";else if(P.indexOf("./")!=-1||P.indexOf("/.")!=-1){x=P.lastIndexOf("/",0)==0,P=P.split("/");const Y=[];for(let ft=0;ft<P.length;){const Mt=P[ft++];Mt=="."?x&&ft==P.length&&Y.push(""):Mt==".."?((Y.length>1||Y.length==1&&Y[0]!="")&&Y.pop(),x&&ft==P.length&&Y.push("")):(Y.push(Mt),x=!0)}x=Y.join("/")}else x=P}return _?m.h=x:_=u.i.toString()!=="",_?tl(m,Io(u.i)):_=!!u.m,_&&(m.m=u.m),m};function je(u){return new Dn(u)}function Xe(u,m,_){u.j=_?bi(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function cs(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function tl(u,m,_){m instanceof fs?(u.i=m,Ya(u.i,u.l)):(_||(m=ra(m,hs)),u.i=new fs(m,u.l))}function ie(u,m,_){u.i.set(m,_)}function aa(u){return ie(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function bi(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function ra(u,m,_){return typeof u=="string"?(u=encodeURI(u).replace(m,yn),_&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function yn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Ga=/[#\/\?@]/g,Co=/[#\?:]/g,el=/[#\?]/g,hs=/[#\?@]/g,Ro=/#/g;function fs(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function vn(u){u.g||(u.g=new Map,u.h=0,u.i&&Fa(u.i,function(m,_){u.add(decodeURIComponent(m.replace(/\+/g," ")),_)}))}a=fs.prototype,a.add=function(u,m){vn(this),this.i=null,u=ds(this,u);let _=this.g.get(u);return _||this.g.set(u,_=[]),_.push(m),this.h+=1,this};function Do(u,m){vn(u),m=ds(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function nl(u,m){return vn(u),m=ds(u,m),u.g.has(m)}a.forEach=function(u,m){vn(this),this.g.forEach(function(_,x){_.forEach(function(P){u.call(m,P,x,this)},this)},this)};function il(u,m){vn(u);let _=[];if(typeof m=="string")nl(u,m)&&(_=_.concat(u.g.get(ds(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)_=_.concat(u[m]);return _}a.set=function(u,m){return vn(this),this.i=null,u=ds(this,u),nl(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},a.get=function(u,m){return u?(u=il(this,u),u.length>0?String(u[0]):m):m};function Qa(u,m,_){Do(u,m),_.length>0&&(u.i=null,u.g.set(ds(u,m),L(_)),u.h+=_.length)}a.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let x=0;x<m.length;x++){var _=m[x];const P=un(_);_=il(this,_);for(let Y=0;Y<_.length;Y++){let ft=P;_[Y]!==""&&(ft+="="+un(_[Y])),u.push(ft)}}return this.i=u.join("&")};function Io(u){const m=new fs;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function ds(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Ya(u,m){m&&!u.j&&(vn(u),u.i=null,u.g.forEach(function(_,x){const P=x.toLowerCase();x!=P&&(Do(this,x),Qa(this,P,_))},u)),u.j=m}function ti(u,m){const _=new pn;if(d.Image){const x=new Image;x.onload=T(Un,_,"TestLoadImage: loaded",!0,m,x),x.onerror=T(Un,_,"TestLoadImage: error",!1,m,x),x.onabort=T(Un,_,"TestLoadImage: abort",!1,m,x),x.ontimeout=T(Un,_,"TestLoadImage: timeout",!1,m,x),d.setTimeout(function(){x.ontimeout&&x.ontimeout()},1e4),x.src=u}else m(!1)}function sl(u,m){const _=new pn,x=new AbortController,P=setTimeout(()=>{x.abort(),Un(_,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:x.signal}).then(Y=>{clearTimeout(P),Y.ok?Un(_,"TestPingServer: ok",!0,m):Un(_,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(P),Un(_,"TestPingServer: error",!1,m)})}function Un(u,m,_,x,P){try{P&&(P.onload=null,P.onerror=null,P.onabort=null,P.ontimeout=null),x(_)}catch{}}function ms(){this.g=new Rt}function Ei(u){this.i=u.Sb||null,this.h=u.ab||!1}S(Ei,Wt),Ei.prototype.g=function(){return new la(this.i,this.h)};function la(u,m){he.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}S(la,he),a=la.prototype,a.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,ei(this)},a.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},a.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,gs(this)),this.readyState=0},a.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,ei(this)),this.g&&(this.readyState=3,ei(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ka(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ka(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}a.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?gs(this):ei(this),this.readyState==3&&Ka(this)}},a.Oa=function(u){this.g&&(this.response=this.responseText=u,gs(this))},a.Na=function(u){this.g&&(this.response=u,gs(this))},a.ga=function(){this.g&&gs(this)};function gs(u){u.readyState=4,u.l=null,u.j=null,u.B=null,ei(u)}a.setRequestHeader=function(u,m){this.A.append(u,m)},a.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},a.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var _=m.next();!_.done;)_=_.value,u.push(_[0]+": "+_[1]),_=m.next();return u.join(`\r
`)};function ei(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(la.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Bn(u){let m="";return Ot(u,function(_,x){m+=x,m+=":",m+=_,m+=`\r
`}),m}function oa(u,m,_){t:{for(x in _){var x=!1;break t}x=!0}x||(_=Bn(_),typeof u=="string"?_!=null&&un(_):ie(u,m,_))}function le(u){he.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}S(le,he);var Ti=/^https?$/i,al=["POST","PUT"];a=le.prototype,a.Fa=function(u){this.H=u},a.ea=function(u,m,_,x){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():re.g(),this.g.onreadystatechange=C(v(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(Y){ua(this,Y);return}if(u=_||"",_=new Map(this.headers),x)if(Object.getPrototypeOf(x)===Object.prototype)for(var P in x)_.set(P,x[P]);else if(typeof x.keys=="function"&&typeof x.get=="function")for(const Y of x.keys())_.set(Y,x.get(Y));else throw Error("Unknown input type for opt_headers: "+String(x));x=Array.from(_.keys()).find(Y=>Y.toLowerCase()=="content-type"),P=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(al,m,void 0)>=0)||x||P||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Y,ft]of _)this.g.setRequestHeader(Y,ft);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(Y){ua(this,Y)}};function ua(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,rl(u),Ui(u)}function rl(u){u.A||(u.A=!0,xe(u,"complete"),xe(u,"error"))}a.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,xe(this,"complete"),xe(this,"abort"),Ui(this))},a.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ui(this,!0)),le.Z.N.call(this)},a.Ca=function(){this.u||(this.B||this.v||this.j?ca(this):this.Xa())},a.Xa=function(){ca(this)};function ca(u){if(u.h&&typeof h<"u"){if(u.v&&ni(u)==4)setTimeout(u.Ca.bind(u),0);else if(xe(u,"readystatechange"),ni(u)==4){u.h=!1;try{const Y=u.ca();t:switch(Y){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var _;if(!(_=m)){var x;if(x=Y===0){let ft=String(u.D).match(wo)[1]||null;!ft&&d.self&&d.self.location&&(ft=d.self.location.protocol.slice(0,-1)),x=!Ti.test(ft?ft.toLowerCase():"")}_=x}if(_)xe(u,"complete"),xe(u,"success");else{u.o=6;try{var P=ni(u)>2?u.g.statusText:""}catch{P=""}u.l=P+" ["+u.ca()+"]",rl(u)}}finally{Ui(u)}}}}function Ui(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const _=u.g;u.g=null,m||xe(u,"ready");try{_.onreadystatechange=null}catch{}}}a.isActive=function(){return!!this.g};function ni(u){return u.g?u.g.readyState:0}a.ca=function(){try{return ni(this)>2?this.g.status:-1}catch{return-1}},a.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},a.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),ht(m)}};function We(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Bi(u){const m={};u=(u.g&&ni(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let x=0;x<u.length;x++){if(w(u[x]))continue;var _=Pa(u[x]);const P=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const Y=m[P]||[];m[P]=Y,Y.push(_)}Ht(m,function(x){return x.join(", ")})}a.ya=function(){return this.o},a.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function xi(u,m,_){return _&&_.internalChannelParams&&_.internalChannelParams[u]||m}function ps(u){this.za=0,this.i=[],this.j=new pn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=xi("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=xi("baseRetryDelayMs",5e3,u),this.Za=xi("retryDelaySeedMs",1e4,u),this.Ta=xi("forwardChannelMaxRetries",2,u),this.va=xi("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Xr(u&&u.concurrentRequestLimit),this.Ba=new ms,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}a=ps.prototype,a.ka=8,a.I=1,a.connect=function(u,m,_,x){be(0),this.W=u,this.H=m||{},_&&x!==void 0&&(this.H.OSID=_,this.H.OAID=x),this.F=this.X,this.J=ko(this,null,this.W),Si(this)};function ll(u){if(Xa(u),u.I==3){var m=u.V++,_=je(u.J);if(ie(_,"SID",u.M),ie(_,"RID",m),ie(_,"TYPE","terminate"),ha(u,_),m=new Jn(u,u.j,m),m.M=2,m.A=aa(je(_)),_=!1,d.navigator&&d.navigator.sendBeacon)try{_=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!_&&d.Image&&(new Image().src=m.A,_=!0),_||(m.g=zo(m.j,null),m.g.ea(m.A)),m.F=Date.now(),gi(m)}Lo(u)}function ys(u){u.g&&(ul(u),u.g.cancel(),u.g=null)}function Xa(u){ys(u),u.v&&(d.clearTimeout(u.v),u.v=null),$a(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function Si(u){if(!Zr(u.h)&&!u.m){u.m=!0;var m=u.Ea;yt||A(),xt||(yt(),xt=!0),R.add(m,u),u.D=0}}function Za(u,m){return vi(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=wn(v(u.Ea,u,m),jo(u,u.D)),u.D++,!0)}a.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const P=new Jn(this,this.j,u);let Y=this.o;if(this.U&&(Y?(Y=M(Y),dt(Y,this.U)):Y=this.U),this.u!==null||this.R||(P.J=Y,Y=null),this.S)t:{for(var m=0,_=0;_<this.i.length;_++){e:{var x=this.i[_];if("__data__"in x.map&&(x=x.map.__data__,typeof x=="string")){x=x.length;break e}x=void 0}if(x===void 0)break;if(m+=x,m>4096){m=_;break t}if(m===4096||_===this.i.length-1){m=_+1;break t}}m=1e3}else m=1e3;m=No(this,P,m),_=je(this.J),ie(_,"RID",u),ie(_,"CVER",22),this.G&&ie(_,"X-HTTP-Session-Id",this.G),ha(this,_),Y&&(this.R?m="headers="+un(Bn(Y))+"&"+m:this.u&&oa(_,this.u,Y)),$r(this.h,P),this.Ra&&ie(_,"TYPE","init"),this.S?(ie(_,"$req",m),ie(_,"SID","null"),P.U=!0,mi(P,_,null)):mi(P,_,m),this.I=2}}else this.I==3&&(u?ol(this,u):this.i.length==0||Zr(this.h)||ol(this))};function ol(u,m){var _;m?_=m.l:_=u.V++;const x=je(u.J);ie(x,"SID",u.M),ie(x,"RID",_),ie(x,"AID",u.K),ha(u,x),u.u&&u.o&&oa(x,u.u,u.o),_=new Jn(u,u.j,_,u.D+1),u.u===null&&(_.J=u.o),m&&(u.i=m.G.concat(u.i)),m=No(u,_,1e3),_.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),$r(u.h,_),mi(_,x,m)}function ha(u,m){u.H&&Ot(u.H,function(_,x){ie(m,x,_)}),u.l&&Ot({},function(_,x){ie(m,x,_)})}function No(u,m,_){_=Math.min(u.i.length,_);const x=u.l?v(u.l.Ka,u.l,u):null;t:{var P=u.i;let Mt=-1;for(;;){const Ce=["count="+_];Mt==-1?_>0?(Mt=P[0].g,Ce.push("ofs="+Mt)):Mt=0:Ce.push("ofs="+Mt);let $t=!0;for(let ve=0;ve<_;ve++){var Y=P[ve].g;const Pn=P[ve].map;if(Y-=Mt,Y<0)Mt=Math.max(0,P[ve].g-100),$t=!1;else try{Y="req"+Y+"_"||"";try{var ft=Pn instanceof Map?Pn:Object.entries(Pn);for(const[wi,ii]of ft){let si=ii;p(ii)&&(si=et(ii)),Ce.push(Y+wi+"="+encodeURIComponent(si))}}catch(wi){throw Ce.push(Y+"type="+encodeURIComponent("_badmap")),wi}}catch{x&&x(Pn)}}if($t){ft=Ce.join("&");break t}}ft=void 0}return u=u.i.splice(0,_),m.G=u,ft}function Vo(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;yt||A(),xt||(yt(),xt=!0),R.add(m,u),u.A=0}}function fa(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=wn(v(u.Da,u),jo(u,u.A)),u.A++,!0)}a.Da=function(){if(this.v=null,Oo(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=wn(v(this.Wa,this),u)}},a.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,be(10),ys(this),Oo(this))};function ul(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function Oo(u){u.g=new Jn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=je(u.na);ie(m,"RID","rpc"),ie(m,"SID",u.M),ie(m,"AID",u.K),ie(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&ie(m,"TO",u.ia),ie(m,"TYPE","xmlhttp"),ha(u,m),u.u&&u.o&&oa(m,u.u,u.o),u.O&&(u.g.H=u.O);var _=u.g;u=u.ba,_.M=1,_.A=aa(je(m)),_.u=null,_.R=!0,qa(_,u)}a.Va=function(){this.C!=null&&(this.C=null,ys(this),fa(this),be(19))};function $a(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function Mo(u,m){var _=null;if(u.g==m){$a(u),ul(u),u.g=null;var x=2}else if(_i(u.h,m))_=m.G,Jr(u.h,m),x=1;else return;if(u.I!=0){if(m.o)if(x==1){_=m.u?m.u.length:0,m=Date.now()-m.F;var P=u.D;x=zi(),xe(x,new An(x,_)),Si(u)}else Vo(u);else if(P=m.m,P==3||P==0&&m.X>0||!(x==1&&Za(u,m)||x==2&&fa(u)))switch(_&&_.length>0&&(m=u.h,m.i=m.i.concat(_)),P){case 1:Ai(u,5);break;case 4:Ai(u,10);break;case 3:Ai(u,6);break;default:Ai(u,2)}}}function jo(u,m){let _=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(_*=2),_*m}function Ai(u,m){if(u.j.info("Error code "+m),m==2){var _=v(u.bb,u),x=u.Ua;const P=!x;x=new Dn(x||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Xe(x,"https"),aa(x),P?ti(x.toString(),_):sl(x.toString(),_)}else be(2);u.I=0,u.l&&u.l.pa(m),Lo(u),Xa(u)}a.bb=function(u){u?(this.j.info("Successfully pinged google.com"),be(2)):(this.j.info("Failed to ping google.com"),be(1))};function Lo(u){if(u.I=0,u.ja=[],u.l){const m=Wr(u.h);(m.length!=0||u.i.length!=0)&&(Q(u.ja,m),Q(u.ja,u.i),u.h.i.length=0,L(u.i),u.i.length=0),u.l.oa()}}function ko(u,m,_){var x=_ instanceof Dn?je(_):new Dn(_);if(x.g!="")m&&(x.g=m+"."+x.g),cs(x,x.u);else{var P=d.location;x=P.protocol,m=m?m+"."+P.hostname:P.hostname,P=+P.port;const Y=new Dn(null);x&&Xe(Y,x),m&&(Y.g=m),P&&cs(Y,P),_&&(Y.h=_),x=Y}return _=u.G,m=u.wa,_&&m&&ie(x,_,m),ie(x,"VER",u.ka),ha(u,x),x}function zo(u,m,_){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new le(new Ei({ab:_})):new le(u.ma),m.Fa(u.L),m}a.isActive=function(){return!!this.l&&this.l.isActive(this)};function Uo(){}a=Uo.prototype,a.ra=function(){},a.qa=function(){},a.pa=function(){},a.oa=function(){},a.isActive=function(){return!0},a.Ka=function(){};function vs(){}vs.prototype.g=function(u,m){return new mn(u,m)};function mn(u,m){he.call(this),this.g=new ps(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!w(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!w(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Pi(this)}S(mn,he),mn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},mn.prototype.close=function(){ll(this.g)},mn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var _={};_.__data__=u,u=_}else this.v&&(_={},_.__data__=et(u),u=_);m.i.push(new Me(m.Ya++,u)),m.I==3&&Si(m)},mn.prototype.N=function(){this.g.l=null,delete this.j,ll(this.g),delete this.g,mn.Z.N.call(this)};function Bo(u){te.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const _ in m){u=_;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}S(Bo,te);function Po(){Je.call(this),this.status=1}S(Po,Je);function Pi(u){this.g=u}S(Pi,Uo),Pi.prototype.ra=function(){xe(this.g,"a")},Pi.prototype.qa=function(u){xe(this.g,new Bo(u))},Pi.prototype.pa=function(u){xe(this.g,new Po)},Pi.prototype.oa=function(){xe(this.g,"b")},vs.prototype.createWebChannel=vs.prototype.g,mn.prototype.send=mn.prototype.o,mn.prototype.open=mn.prototype.m,mn.prototype.close=mn.prototype.close,hv=function(){return new vs},cv=function(){return zi()},uv=ee,$f={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Qe.NO_ERROR=0,Qe.TIMEOUT=8,Qe.HTTP_ERROR=6,Ju=Qe,on.COMPLETE="complete",ov=on,de.EventType=me,me.OPEN="a",me.CLOSE="b",me.ERROR="c",me.MESSAGE="d",he.prototype.listen=he.prototype.J,Zl=de,le.prototype.listenOnce=le.prototype.K,le.prototype.getLastError=le.prototype.Ha,le.prototype.getLastErrorCode=le.prototype.ya,le.prototype.getStatus=le.prototype.ca,le.prototype.getResponseJson=le.prototype.La,le.prototype.getResponseText=le.prototype.la,le.prototype.send=le.prototype.ea,le.prototype.setWithCredentials=le.prototype.Fa,lv=le}).apply(typeof Qu<"u"?Qu:typeof self<"u"?self:typeof window<"u"?window:{});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}fn.UNAUTHENTICATED=new fn(null),fn.GOOGLE_CREDENTIALS=new fn("google-credentials-uid"),fn.FIRST_PARTY=new fn("first-party-uid"),fn.MOCK_USER=new fn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fr="12.8.0";function DT(a){Fr=a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Va=new tv("@firebase/firestore");function Dr(){return Va.logLevel}function gt(a,...e){if(Va.logLevel<=Yt.DEBUG){const i=e.map(bd);Va.debug(`Firestore (${Fr}): ${a}`,...i)}}function as(a,...e){if(Va.logLevel<=Yt.ERROR){const i=e.map(bd);Va.error(`Firestore (${Fr}): ${a}`,...i)}}function kr(a,...e){if(Va.logLevel<=Yt.WARN){const i=e.map(bd);Va.warn(`Firestore (${Fr}): ${a}`,...i)}}function bd(a){if(typeof a=="string")return a;try{return(function(i){return JSON.stringify(i)})(a)}catch{return a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dt(a,e,i){let r="Unexpected state";typeof e=="string"?r=e:i=e,fv(a,r,i)}function fv(a,e,i){let r=`FIRESTORE (${Fr}) INTERNAL ASSERTION FAILED: ${e} (ID: ${a.toString(16)})`;if(i!==void 0)try{r+=" CONTEXT: "+JSON.stringify(i)}catch{r+=" CONTEXT: "+i}throw as(r),new Error(r)}function ne(a,e,i,r){let o="Unexpected state";typeof i=="string"?o=i:r=i,a||fv(e,o,r)}function Vt(a,e){return a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const at={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class St extends Hr{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gs{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dv{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class IT{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(fn.UNAUTHENTICATED)))}shutdown(){}}class NT{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class VT{constructor(e){this.t=e,this.currentUser=fn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){ne(this.o===void 0,42304);let r=this.i;const o=g=>this.i!==r?(r=this.i,i(g)):Promise.resolve();let h=new Gs;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new Gs,e.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const g=h;e.enqueueRetryable((async()=>{await g.promise,await o(this.currentUser)}))},p=g=>{gt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((g=>p(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?p(g):(gt("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new Gs)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((r=>this.i!==e?(gt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ne(typeof r.accessToken=="string",31837,{l:r}),new dv(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ne(e===null||typeof e=="string",2055,{h:e}),new fn(e)}}class OT{constructor(e,i,r){this.P=e,this.T=i,this.I=r,this.type="FirstParty",this.user=fn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class MT{constructor(e,i,r){this.P=e,this.T=i,this.I=r}getToken(){return Promise.resolve(new OT(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(fn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Qy{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class jT{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,mT(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){ne(this.o===void 0,3512);const r=h=>{h.error!=null&&gt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const d=h.token!==this.m;return this.m=h.token,gt("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(h.token):Promise.resolve()};this.o=h=>{e.enqueueRetryable((()=>r(h)))};const o=h=>{gt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((h=>o(h))),setTimeout((()=>{if(!this.appCheck){const h=this.V.getImmediate({optional:!0});h?o(h):gt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Qy(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(ne(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new Qy(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LT(a){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(a);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let r=0;r<a;r++)i[r]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ed{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=LT(40);for(let h=0;h<o.length;++h)r.length<20&&o[h]<i&&(r+=e.charAt(o[h]%62))}return r}}function Pt(a,e){return a<e?-1:a>e?1:0}function Jf(a,e){const i=Math.min(a.length,e.length);for(let r=0;r<i;r++){const o=a.charAt(r),h=e.charAt(r);if(o!==h)return Pf(o)===Pf(h)?Pt(o,h):Pf(o)?1:-1}return Pt(a.length,e.length)}const kT=55296,zT=57343;function Pf(a){const e=a.charCodeAt(0);return e>=kT&&e<=zT}function zr(a,e,i){return a.length===e.length&&a.every(((r,o)=>i(r,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yy="__name__";class Ni{constructor(e,i,r){i===void 0?i=0:i>e.length&&Dt(637,{offset:i,range:e.length}),r===void 0?r=e.length-i:r>e.length-i&&Dt(1746,{length:r,range:e.length-i}),this.segments=e,this.offset=i,this.len=r}get length(){return this.len}isEqual(e){return Ni.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof Ni?e.forEach((r=>{i.push(r)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,r=this.limit();i<r;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const r=Math.min(e.length,i.length);for(let o=0;o<r;o++){const h=Ni.compareSegments(e.get(o),i.get(o));if(h!==0)return h}return Pt(e.length,i.length)}static compareSegments(e,i){const r=Ni.isNumericId(e),o=Ni.isNumericId(i);return r&&!o?-1:!r&&o?1:r&&o?Ni.extractNumericId(e).compare(Ni.extractNumericId(i)):Jf(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Fs.fromString(e.substring(4,e.length-2))}}class Ee extends Ni{construct(e,i,r){return new Ee(e,i,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const r of e){if(r.indexOf("//")>=0)throw new St(at.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);i.push(...r.split("/").filter((o=>o.length>0)))}return new Ee(i)}static emptyPath(){return new Ee([])}}const UT=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class rn extends Ni{construct(e,i,r){return new rn(e,i,r)}static isValidIdentifier(e){return UT.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),rn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Yy}static keyField(){return new rn([Yy])}static fromServerFormat(e){const i=[];let r="",o=0;const h=()=>{if(r.length===0)throw new St(at.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(r),r=""};let d=!1;for(;o<e.length;){const p=e[o];if(p==="\\"){if(o+1===e.length)throw new St(at.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new St(at.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=g,o+=2}else p==="`"?(d=!d,o++):p!=="."||d?(r+=p,o++):(h(),o++)}if(h(),d)throw new St(at.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new rn(i)}static emptyPath(){return new rn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wt{constructor(e){this.path=e}static fromPath(e){return new wt(Ee.fromString(e))}static fromName(e){return new wt(Ee.fromString(e).popFirst(5))}static empty(){return new wt(Ee.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ee.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return Ee.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new wt(new Ee(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BT(a,e,i){if(!i)throw new St(at.INVALID_ARGUMENT,`Function ${a}() cannot be called with an empty ${e}.`)}function PT(a,e,i,r){if(e===!0&&r===!0)throw new St(at.INVALID_ARGUMENT,`${a} and ${i} cannot be used together.`)}function Ky(a){if(!wt.isDocumentKey(a))throw new St(at.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${a} has ${a.length}.`)}function mv(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}function Td(a){if(a===void 0)return"undefined";if(a===null)return"null";if(typeof a=="string")return a.length>20&&(a=`${a.substring(0,20)}...`),JSON.stringify(a);if(typeof a=="number"||typeof a=="boolean")return""+a;if(typeof a=="object"){if(a instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(a);return e?`a custom ${e} object`:"an object"}}return typeof a=="function"?"a function":Dt(12329,{type:typeof a})}function Qs(a,e){if("_delegate"in a&&(a=a._delegate),!(a instanceof e)){if(e.name===a.constructor.name)throw new St(at.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Td(a);throw new St(at.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return a}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pe(a,e){const i={typeString:a};return e&&(i.value=e),i}function _o(a,e){if(!mv(a))throw new St(at.INVALID_ARGUMENT,"JSON must be an object");let i;for(const r in e)if(e[r]){const o=e[r].typeString,h="value"in e[r]?{value:e[r].value}:void 0;if(!(r in a)){i=`JSON missing required field: '${r}'`;break}const d=a[r];if(o&&typeof d!==o){i=`JSON field '${r}' must be a ${o}.`;break}if(h!==void 0&&d!==h.value){i=`Expected '${r}' field to equal '${h.value}'`;break}}if(i)throw new St(at.INVALID_ARGUMENT,i);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xy=-62135596800,Zy=1e6;class ye{static now(){return ye.fromMillis(Date.now())}static fromDate(e){return ye.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),r=Math.floor((e-1e3*i)*Zy);return new ye(i,r)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new St(at.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new St(at.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<Xy)throw new St(at.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new St(at.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Zy}_compareTo(e){return this.seconds===e.seconds?Pt(this.nanoseconds,e.nanoseconds):Pt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ye._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(_o(e,ye._jsonSchema))return new ye(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Xy;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ye._jsonSchemaVersion="firestore/timestamp/1.0",ye._jsonSchema={type:Pe("string",ye._jsonSchemaVersion),seconds:Pe("number"),nanoseconds:Pe("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{static fromTimestamp(e){return new It(e)}static min(){return new It(new ye(0,0))}static max(){return new It(new ye(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uo=-1;function qT(a,e){const i=a.toTimestamp().seconds,r=a.toTimestamp().nanoseconds+1,o=It.fromTimestamp(r===1e9?new ye(i+1,0):new ye(i,r));return new Ys(o,wt.empty(),e)}function HT(a){return new Ys(a.readTime,a.key,uo)}class Ys{constructor(e,i,r){this.readTime=e,this.documentKey=i,this.largestBatchId=r}static min(){return new Ys(It.min(),wt.empty(),uo)}static max(){return new Ys(It.max(),wt.empty(),uo)}}function FT(a,e){let i=a.readTime.compareTo(e.readTime);return i!==0?i:(i=wt.comparator(a.documentKey,e.documentKey),i!==0?i:Pt(a.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GT="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class QT{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gr(a){if(a.code!==at.FAILED_PRECONDITION||a.message!==GT)throw a;gt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class st{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&Dt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new st(((r,o)=>{this.nextCallback=h=>{this.wrapSuccess(e,h).next(r,o)},this.catchCallback=h=>{this.wrapFailure(i,h).next(r,o)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof st?i:st.resolve(i)}catch(i){return st.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):st.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):st.reject(i)}static resolve(e){return new st(((i,r)=>{i(e)}))}static reject(e){return new st(((i,r)=>{r(e)}))}static waitFor(e){return new st(((i,r)=>{let o=0,h=0,d=!1;e.forEach((p=>{++o,p.next((()=>{++h,d&&h===o&&i()}),(g=>r(g)))})),d=!0,h===o&&i()}))}static or(e){let i=st.resolve(!1);for(const r of e)i=i.next((o=>o?st.resolve(o):r()));return i}static forEach(e,i){const r=[];return e.forEach(((o,h)=>{r.push(i.call(this,o,h))})),this.waitFor(r)}static mapArray(e,i){return new st(((r,o)=>{const h=e.length,d=new Array(h);let p=0;for(let g=0;g<h;g++){const v=g;i(e[v]).next((T=>{d[v]=T,++p,p===h&&r(d)}),(T=>o(T)))}}))}static doWhile(e,i){return new st(((r,o)=>{const h=()=>{e()===!0?i().next((()=>{h()}),o):r()};h()}))}}function YT(a){const e=a.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Qr(a){return a.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ec{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>i.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Ec.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xd=-1;function Tc(a){return a==null}function uc(a){return a===0&&1/a==-1/0}function KT(a){return typeof a=="number"&&Number.isInteger(a)&&!uc(a)&&a<=Number.MAX_SAFE_INTEGER&&a>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gv="";function XT(a){let e="";for(let i=0;i<a.length;i++)e.length>0&&(e=$y(e)),e=ZT(a.get(i),e);return $y(e)}function ZT(a,e){let i=e;const r=a.length;for(let o=0;o<r;o++){const h=a.charAt(o);switch(h){case"\0":i+="";break;case gv:i+="";break;default:i+=h}}return i}function $y(a){return a+gv+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jy(a){let e=0;for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&e++;return e}function Ma(a,e){for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&e(i,a[i])}function pv(a){for(const e in a)if(Object.prototype.hasOwnProperty.call(a,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Te{constructor(e,i){this.comparator=e,this.root=i||an.EMPTY}insert(e,i){return new Te(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,an.BLACK,null,null))}remove(e){return new Te(this.comparator,this.root.remove(e,this.comparator).copy(null,null,an.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(r===0)return i.value;r<0?i=i.left:r>0&&(i=i.right)}return null}indexOf(e){let i=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(o===0)return i+r.left.size;o<0?r=r.left:(i+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,r)=>(e(i,r),!1)))}toString(){const e=[];return this.inorderTraversal(((i,r)=>(e.push(`${i}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Yu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Yu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Yu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Yu(this.root,e,this.comparator,!0)}}class Yu{constructor(e,i,r,o){this.isReverse=o,this.nodeStack=[];let h=1;for(;!e.isEmpty();)if(h=i?r(e.key,i):1,i&&o&&(h*=-1),h<0)e=this.isReverse?e.left:e.right;else{if(h===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class an{constructor(e,i,r,o,h){this.key=e,this.value=i,this.color=r??an.RED,this.left=o??an.EMPTY,this.right=h??an.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,r,o,h){return new an(e??this.key,i??this.value,r??this.color,o??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,r){let o=this;const h=r(e,o.key);return o=h<0?o.copy(null,null,null,o.left.insert(e,i,r),null):h===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return an.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let r,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return an.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,an.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,an.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Dt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Dt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Dt(27949);return e+(this.isRed()?0:1)}}an.EMPTY=null,an.RED=!0,an.BLACK=!1;an.EMPTY=new class{constructor(){this.size=0}get key(){throw Dt(57766)}get value(){throw Dt(16141)}get color(){throw Dt(16727)}get left(){throw Dt(29726)}get right(){throw Dt(36894)}copy(e,i,r,o,h){return this}insert(e,i,r){return new an(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ge{constructor(e){this.comparator=e,this.data=new Te(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,r)=>(e(i),!1)))}forEachInRange(e,i){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let r;for(r=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new Wy(this.data.getIterator())}getIteratorFrom(e){return new Wy(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((r=>{i=i.add(r)})),i}isEqual(e){if(!(e instanceof Ge)||this.size!==e.size)return!1;const i=this.data.getIterator(),r=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,h=r.getNext().key;if(this.comparator(o,h)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new Ge(this.comparator);return i.data=e,i}}class Wy{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oi{constructor(e){this.fields=e,e.sort(rn.comparator)}static empty(){return new oi([])}unionWith(e){let i=new Ge(rn.comparator);for(const r of this.fields)i=i.add(r);for(const r of e)i=i.add(r);return new oi(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return zr(this.fields,e.fields,((i,r)=>i.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yv extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(o){try{return atob(o)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new yv("Invalid base64 string: "+h):h}})(e);return new ln(i)}static fromUint8Array(e){const i=(function(o){let h="";for(let d=0;d<o.length;++d)h+=String.fromCharCode(o[d]);return h})(e);return new ln(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const r=new Uint8Array(i.length);for(let o=0;o<i.length;o++)r[o]=i.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Pt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ln.EMPTY_BYTE_STRING=new ln("");const $T=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ks(a){if(ne(!!a,39018),typeof a=="string"){let e=0;const i=$T.exec(a);if(ne(!!i,46558,{timestamp:a}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(a);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ie(a.seconds),nanos:Ie(a.nanos)}}function Ie(a){return typeof a=="number"?a:typeof a=="string"?Number(a):0}function Xs(a){return typeof a=="string"?ln.fromBase64String(a):ln.fromUint8Array(a)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vv="server_timestamp",_v="__type__",bv="__previous_value__",Ev="__local_write_time__";function Sd(a){var i,r;return((r=(((i=a==null?void 0:a.mapValue)==null?void 0:i.fields)||{})[_v])==null?void 0:r.stringValue)===vv}function xc(a){const e=a.mapValue.fields[bv];return Sd(e)?xc(e):e}function co(a){const e=Ks(a.mapValue.fields[Ev].timestampValue);return new ye(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JT{constructor(e,i,r,o,h,d,p,g,v,T,S){this.databaseId=e,this.appId=i,this.persistenceKey=r,this.host=o,this.ssl=h,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=g,this.useFetchStreams=v,this.isUsingEmulator=T,this.apiKey=S}}const cc="(default)";class ho{constructor(e,i){this.projectId=e,this.database=i||cc}static empty(){return new ho("","")}get isDefaultDatabase(){return this.database===cc}isEqual(e){return e instanceof ho&&e.projectId===this.projectId&&e.database===this.database}}function WT(a,e){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new St(at.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ho(a.options.projectId,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tv="__type__",tx="__max__",Ku={mapValue:{}},xv="__vector__",hc="value";function Zs(a){return"nullValue"in a?0:"booleanValue"in a?1:"integerValue"in a||"doubleValue"in a?2:"timestampValue"in a?3:"stringValue"in a?5:"bytesValue"in a?6:"referenceValue"in a?7:"geoPointValue"in a?8:"arrayValue"in a?9:"mapValue"in a?Sd(a)?4:nx(a)?9007199254740991:ex(a)?10:11:Dt(28295,{value:a})}function ji(a,e){if(a===e)return!0;const i=Zs(a);if(i!==Zs(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return a.booleanValue===e.booleanValue;case 4:return co(a).isEqual(co(e));case 3:return(function(o,h){if(typeof o.timestampValue=="string"&&typeof h.timestampValue=="string"&&o.timestampValue.length===h.timestampValue.length)return o.timestampValue===h.timestampValue;const d=Ks(o.timestampValue),p=Ks(h.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(a,e);case 5:return a.stringValue===e.stringValue;case 6:return(function(o,h){return Xs(o.bytesValue).isEqual(Xs(h.bytesValue))})(a,e);case 7:return a.referenceValue===e.referenceValue;case 8:return(function(o,h){return Ie(o.geoPointValue.latitude)===Ie(h.geoPointValue.latitude)&&Ie(o.geoPointValue.longitude)===Ie(h.geoPointValue.longitude)})(a,e);case 2:return(function(o,h){if("integerValue"in o&&"integerValue"in h)return Ie(o.integerValue)===Ie(h.integerValue);if("doubleValue"in o&&"doubleValue"in h){const d=Ie(o.doubleValue),p=Ie(h.doubleValue);return d===p?uc(d)===uc(p):isNaN(d)&&isNaN(p)}return!1})(a,e);case 9:return zr(a.arrayValue.values||[],e.arrayValue.values||[],ji);case 10:case 11:return(function(o,h){const d=o.mapValue.fields||{},p=h.mapValue.fields||{};if(Jy(d)!==Jy(p))return!1;for(const g in d)if(d.hasOwnProperty(g)&&(p[g]===void 0||!ji(d[g],p[g])))return!1;return!0})(a,e);default:return Dt(52216,{left:a})}}function fo(a,e){return(a.values||[]).find((i=>ji(i,e)))!==void 0}function Ur(a,e){if(a===e)return 0;const i=Zs(a),r=Zs(e);if(i!==r)return Pt(i,r);switch(i){case 0:case 9007199254740991:return 0;case 1:return Pt(a.booleanValue,e.booleanValue);case 2:return(function(h,d){const p=Ie(h.integerValue||h.doubleValue),g=Ie(d.integerValue||d.doubleValue);return p<g?-1:p>g?1:p===g?0:isNaN(p)?isNaN(g)?0:-1:1})(a,e);case 3:return t0(a.timestampValue,e.timestampValue);case 4:return t0(co(a),co(e));case 5:return Jf(a.stringValue,e.stringValue);case 6:return(function(h,d){const p=Xs(h),g=Xs(d);return p.compareTo(g)})(a.bytesValue,e.bytesValue);case 7:return(function(h,d){const p=h.split("/"),g=d.split("/");for(let v=0;v<p.length&&v<g.length;v++){const T=Pt(p[v],g[v]);if(T!==0)return T}return Pt(p.length,g.length)})(a.referenceValue,e.referenceValue);case 8:return(function(h,d){const p=Pt(Ie(h.latitude),Ie(d.latitude));return p!==0?p:Pt(Ie(h.longitude),Ie(d.longitude))})(a.geoPointValue,e.geoPointValue);case 9:return e0(a.arrayValue,e.arrayValue);case 10:return(function(h,d){var C,L,Q,$;const p=h.fields||{},g=d.fields||{},v=(C=p[hc])==null?void 0:C.arrayValue,T=(L=g[hc])==null?void 0:L.arrayValue,S=Pt(((Q=v==null?void 0:v.values)==null?void 0:Q.length)||0,(($=T==null?void 0:T.values)==null?void 0:$.length)||0);return S!==0?S:e0(v,T)})(a.mapValue,e.mapValue);case 11:return(function(h,d){if(h===Ku.mapValue&&d===Ku.mapValue)return 0;if(h===Ku.mapValue)return 1;if(d===Ku.mapValue)return-1;const p=h.fields||{},g=Object.keys(p),v=d.fields||{},T=Object.keys(v);g.sort(),T.sort();for(let S=0;S<g.length&&S<T.length;++S){const C=Jf(g[S],T[S]);if(C!==0)return C;const L=Ur(p[g[S]],v[T[S]]);if(L!==0)return L}return Pt(g.length,T.length)})(a.mapValue,e.mapValue);default:throw Dt(23264,{he:i})}}function t0(a,e){if(typeof a=="string"&&typeof e=="string"&&a.length===e.length)return Pt(a,e);const i=Ks(a),r=Ks(e),o=Pt(i.seconds,r.seconds);return o!==0?o:Pt(i.nanos,r.nanos)}function e0(a,e){const i=a.values||[],r=e.values||[];for(let o=0;o<i.length&&o<r.length;++o){const h=Ur(i[o],r[o]);if(h)return h}return Pt(i.length,r.length)}function Br(a){return Wf(a)}function Wf(a){return"nullValue"in a?"null":"booleanValue"in a?""+a.booleanValue:"integerValue"in a?""+a.integerValue:"doubleValue"in a?""+a.doubleValue:"timestampValue"in a?(function(i){const r=Ks(i);return`time(${r.seconds},${r.nanos})`})(a.timestampValue):"stringValue"in a?a.stringValue:"bytesValue"in a?(function(i){return Xs(i).toBase64()})(a.bytesValue):"referenceValue"in a?(function(i){return wt.fromName(i).toString()})(a.referenceValue):"geoPointValue"in a?(function(i){return`geo(${i.latitude},${i.longitude})`})(a.geoPointValue):"arrayValue"in a?(function(i){let r="[",o=!0;for(const h of i.values||[])o?o=!1:r+=",",r+=Wf(h);return r+"]"})(a.arrayValue):"mapValue"in a?(function(i){const r=Object.keys(i.fields||{}).sort();let o="{",h=!0;for(const d of r)h?h=!1:o+=",",o+=`${d}:${Wf(i.fields[d])}`;return o+"}"})(a.mapValue):Dt(61005,{value:a})}function Wu(a){switch(Zs(a)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=xc(a);return e?16+Wu(e):16;case 5:return 2*a.stringValue.length;case 6:return Xs(a.bytesValue).approximateByteSize();case 7:return a.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((o,h)=>o+Wu(h)),0)})(a.arrayValue);case 10:case 11:return(function(r){let o=0;return Ma(r.fields,((h,d)=>{o+=h.length+Wu(d)})),o})(a.mapValue);default:throw Dt(13486,{value:a})}}function td(a){return!!a&&"integerValue"in a}function Ad(a){return!!a&&"arrayValue"in a}function n0(a){return!!a&&"nullValue"in a}function i0(a){return!!a&&"doubleValue"in a&&isNaN(Number(a.doubleValue))}function tc(a){return!!a&&"mapValue"in a}function ex(a){var i,r;return((r=(((i=a==null?void 0:a.mapValue)==null?void 0:i.fields)||{})[Tv])==null?void 0:r.stringValue)===xv}function eo(a){if(a.geoPointValue)return{geoPointValue:{...a.geoPointValue}};if(a.timestampValue&&typeof a.timestampValue=="object")return{timestampValue:{...a.timestampValue}};if(a.mapValue){const e={mapValue:{fields:{}}};return Ma(a.mapValue.fields,((i,r)=>e.mapValue.fields[i]=eo(r))),e}if(a.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(a.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=eo(a.arrayValue.values[i]);return e}return{...a}}function nx(a){return(((a.mapValue||{}).fields||{}).__type__||{}).stringValue===tx}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zn{constructor(e){this.value=e}static empty(){return new Zn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let r=0;r<e.length-1;++r)if(i=(i.mapValue.fields||{})[e.get(r)],!tc(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=eo(i)}setAll(e){let i=rn.emptyPath(),r={},o=[];e.forEach(((d,p)=>{if(!i.isImmediateParentOf(p)){const g=this.getFieldsMap(i);this.applyChanges(g,r,o),r={},o=[],i=p.popLast()}d?r[p.lastSegment()]=eo(d):o.push(p.lastSegment())}));const h=this.getFieldsMap(i);this.applyChanges(h,r,o)}delete(e){const i=this.field(e.popLast());tc(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return ji(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=i.mapValue.fields[e.get(r)];tc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(r)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,r){Ma(i,((o,h)=>e[o]=h));for(const o of r)delete e[o]}clone(){return new Zn(eo(this.value))}}function Sv(a){const e=[];return Ma(a.fields,((i,r)=>{const o=new rn([i]);if(tc(r)){const h=Sv(r.mapValue).fields;if(h.length===0)e.push(o);else for(const d of h)e.push(o.child(d))}else e.push(o)})),new oi(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e,i,r,o,h,d,p){this.key=e,this.documentType=i,this.version=r,this.readTime=o,this.createTime=h,this.data=d,this.documentState=p}static newInvalidDocument(e){return new dn(e,0,It.min(),It.min(),It.min(),Zn.empty(),0)}static newFoundDocument(e,i,r,o){return new dn(e,1,i,It.min(),r,o,0)}static newNoDocument(e,i){return new dn(e,2,i,It.min(),It.min(),Zn.empty(),0)}static newUnknownDocument(e,i){return new dn(e,3,i,It.min(),It.min(),Zn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(It.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Zn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Zn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=It.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof dn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new dn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fc{constructor(e,i){this.position=e,this.inclusive=i}}function s0(a,e,i){let r=0;for(let o=0;o<a.position.length;o++){const h=e[o],d=a.position[o];if(h.field.isKeyField()?r=wt.comparator(wt.fromName(d.referenceValue),i.key):r=Ur(d,i.data.field(h.field)),h.dir==="desc"&&(r*=-1),r!==0)break}return r}function a0(a,e){if(a===null)return e===null;if(e===null||a.inclusive!==e.inclusive||a.position.length!==e.position.length)return!1;for(let i=0;i<a.position.length;i++)if(!ji(a.position[i],e.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dc{constructor(e,i="asc"){this.field=e,this.dir=i}}function ix(a,e){return a.dir===e.dir&&a.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Av{}class He extends Av{constructor(e,i,r){super(),this.field=e,this.op=i,this.value=r}static create(e,i,r){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,r):new ax(e,i,r):i==="array-contains"?new ox(e,r):i==="in"?new ux(e,r):i==="not-in"?new cx(e,r):i==="array-contains-any"?new hx(e,r):new He(e,i,r)}static createKeyFieldInFilter(e,i,r){return i==="in"?new rx(e,r):new lx(e,r)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Ur(i,this.value)):i!==null&&Zs(this.value)===Zs(i)&&this.matchesComparison(Ur(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Dt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Li extends Av{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new Li(e,i)}matches(e){return wv(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function wv(a){return a.op==="and"}function Cv(a){return sx(a)&&wv(a)}function sx(a){for(const e of a.filters)if(e instanceof Li)return!1;return!0}function ed(a){if(a instanceof He)return a.field.canonicalString()+a.op.toString()+Br(a.value);if(Cv(a))return a.filters.map((e=>ed(e))).join(",");{const e=a.filters.map((i=>ed(i))).join(",");return`${a.op}(${e})`}}function Rv(a,e){return a instanceof He?(function(r,o){return o instanceof He&&r.op===o.op&&r.field.isEqual(o.field)&&ji(r.value,o.value)})(a,e):a instanceof Li?(function(r,o){return o instanceof Li&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((h,d,p)=>h&&Rv(d,o.filters[p])),!0):!1})(a,e):void Dt(19439)}function Dv(a){return a instanceof He?(function(i){return`${i.field.canonicalString()} ${i.op} ${Br(i.value)}`})(a):a instanceof Li?(function(i){return i.op.toString()+" {"+i.getFilters().map(Dv).join(" ,")+"}"})(a):"Filter"}class ax extends He{constructor(e,i,r){super(e,i,r),this.key=wt.fromName(r.referenceValue)}matches(e){const i=wt.comparator(e.key,this.key);return this.matchesComparison(i)}}class rx extends He{constructor(e,i){super(e,"in",i),this.keys=Iv("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class lx extends He{constructor(e,i){super(e,"not-in",i),this.keys=Iv("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function Iv(a,e){var i;return(((i=e.arrayValue)==null?void 0:i.values)||[]).map((r=>wt.fromName(r.referenceValue)))}class ox extends He{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return Ad(i)&&fo(i.arrayValue,this.value)}}class ux extends He{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&fo(this.value.arrayValue,i)}}class cx extends He{constructor(e,i){super(e,"not-in",i)}matches(e){if(fo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!fo(this.value.arrayValue,i)}}class hx extends He{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!Ad(i)||!i.arrayValue.values)&&i.arrayValue.values.some((r=>fo(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fx{constructor(e,i=null,r=[],o=[],h=null,d=null,p=null){this.path=e,this.collectionGroup=i,this.orderBy=r,this.filters=o,this.limit=h,this.startAt=d,this.endAt=p,this.Te=null}}function r0(a,e=null,i=[],r=[],o=null,h=null,d=null){return new fx(a,e,i,r,o,h,d)}function wd(a){const e=Vt(a);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((r=>ed(r))).join(","),i+="|ob:",i+=e.orderBy.map((r=>(function(h){return h.field.canonicalString()+h.dir})(r))).join(","),Tc(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((r=>Br(r))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((r=>Br(r))).join(",")),e.Te=i}return e.Te}function Cd(a,e){if(a.limit!==e.limit||a.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<a.orderBy.length;i++)if(!ix(a.orderBy[i],e.orderBy[i]))return!1;if(a.filters.length!==e.filters.length)return!1;for(let i=0;i<a.filters.length;i++)if(!Rv(a.filters[i],e.filters[i]))return!1;return a.collectionGroup===e.collectionGroup&&!!a.path.isEqual(e.path)&&!!a0(a.startAt,e.startAt)&&a0(a.endAt,e.endAt)}function nd(a){return wt.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sc{constructor(e,i=null,r=[],o=[],h=null,d="F",p=null,g=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=r,this.filters=o,this.limit=h,this.limitType=d,this.startAt=p,this.endAt=g,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function dx(a,e,i,r,o,h,d,p){return new Sc(a,e,i,r,o,h,d,p)}function Ac(a){return new Sc(a)}function l0(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.explicitOrderBy.length===0||a.explicitOrderBy.length===1&&a.explicitOrderBy[0].field.isKeyField())}function mx(a){return wt.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}function gx(a){return a.collectionGroup!==null}function no(a){const e=Vt(a);if(e.Ie===null){e.Ie=[];const i=new Set;for(const h of e.explicitOrderBy)e.Ie.push(h),i.add(h.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new Ge(rn.comparator);return d.filters.forEach((g=>{g.getFlattenedFilters().forEach((v=>{v.isInequality()&&(p=p.add(v.field))}))})),p})(e).forEach((h=>{i.has(h.canonicalString())||h.isKeyField()||e.Ie.push(new dc(h,r))})),i.has(rn.keyField().canonicalString())||e.Ie.push(new dc(rn.keyField(),r))}return e.Ie}function Vi(a){const e=Vt(a);return e.Ee||(e.Ee=px(e,no(a))),e.Ee}function px(a,e){if(a.limitType==="F")return r0(a.path,a.collectionGroup,e,a.filters,a.limit,a.startAt,a.endAt);{e=e.map((o=>{const h=o.dir==="desc"?"asc":"desc";return new dc(o.field,h)}));const i=a.endAt?new fc(a.endAt.position,a.endAt.inclusive):null,r=a.startAt?new fc(a.startAt.position,a.startAt.inclusive):null;return r0(a.path,a.collectionGroup,e,a.filters,a.limit,i,r)}}function id(a,e,i){return new Sc(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),e,i,a.startAt,a.endAt)}function wc(a,e){return Cd(Vi(a),Vi(e))&&a.limitType===e.limitType}function Nv(a){return`${wd(Vi(a))}|lt:${a.limitType}`}function Ir(a){return`Query(target=${(function(i){let r=i.path.canonicalString();return i.collectionGroup!==null&&(r+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(r+=`, filters: [${i.filters.map((o=>Dv(o))).join(", ")}]`),Tc(i.limit)||(r+=", limit: "+i.limit),i.orderBy.length>0&&(r+=`, orderBy: [${i.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),i.startAt&&(r+=", startAt: ",r+=i.startAt.inclusive?"b:":"a:",r+=i.startAt.position.map((o=>Br(o))).join(",")),i.endAt&&(r+=", endAt: ",r+=i.endAt.inclusive?"a:":"b:",r+=i.endAt.position.map((o=>Br(o))).join(",")),`Target(${r})`})(Vi(a))}; limitType=${a.limitType})`}function Cc(a,e){return e.isFoundDocument()&&(function(r,o){const h=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(h):wt.isDocumentKey(r.path)?r.path.isEqual(h):r.path.isImmediateParentOf(h)})(a,e)&&(function(r,o){for(const h of no(r))if(!h.field.isKeyField()&&o.data.field(h.field)===null)return!1;return!0})(a,e)&&(function(r,o){for(const h of r.filters)if(!h.matches(o))return!1;return!0})(a,e)&&(function(r,o){return!(r.startAt&&!(function(d,p,g){const v=s0(d,p,g);return d.inclusive?v<=0:v<0})(r.startAt,no(r),o)||r.endAt&&!(function(d,p,g){const v=s0(d,p,g);return d.inclusive?v>=0:v>0})(r.endAt,no(r),o))})(a,e)}function yx(a){return a.collectionGroup||(a.path.length%2==1?a.path.lastSegment():a.path.get(a.path.length-2))}function Vv(a){return(e,i)=>{let r=!1;for(const o of no(a)){const h=vx(o,e,i);if(h!==0)return h;r=r||o.field.isKeyField()}return 0}}function vx(a,e,i){const r=a.field.isKeyField()?wt.comparator(e.key,i.key):(function(h,d,p){const g=d.data.field(h),v=p.data.field(h);return g!==null&&v!==null?Ur(g,v):Dt(42886)})(a.field,e,i);switch(a.dir){case"asc":return r;case"desc":return-1*r;default:return Dt(19790,{direction:a.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ja{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),r=this.inner[i];if(r!==void 0){for(const[o,h]of r)if(this.equalsFn(o,e))return h}}has(e){return this.get(e)!==void 0}set(e,i){const r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return this.inner[r]=[[e,i]],void this.innerSize++;for(let h=0;h<o.length;h++)if(this.equalsFn(o[h][0],e))return void(o[h]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return r.length===1?delete this.inner[i]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Ma(this.inner,((i,r)=>{for(const[o,h]of r)e(o,h)}))}isEmpty(){return pv(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _x=new Te(wt.comparator);function rs(){return _x}const Ov=new Te(wt.comparator);function $l(...a){let e=Ov;for(const i of a)e=e.insert(i.key,i);return e}function Mv(a){let e=Ov;return a.forEach(((i,r)=>e=e.insert(i,r.overlayedDocument))),e}function Ia(){return io()}function jv(){return io()}function io(){return new ja((a=>a.toString()),((a,e)=>a.isEqual(e)))}const bx=new Te(wt.comparator),Ex=new Ge(wt.comparator);function qt(...a){let e=Ex;for(const i of a)e=e.add(i);return e}const Tx=new Ge(Pt);function xx(){return Tx}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rd(a,e){if(a.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:uc(e)?"-0":e}}function Lv(a){return{integerValue:""+a}}function Sx(a,e){return KT(e)?Lv(e):Rd(a,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rc{constructor(){this._=void 0}}function Ax(a,e,i){return a instanceof mo?(function(o,h){const d={fields:{[_v]:{stringValue:vv},[Ev]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return h&&Sd(h)&&(h=xc(h)),h&&(d.fields[bv]=h),{mapValue:d}})(i,e):a instanceof go?zv(a,e):a instanceof po?Uv(a,e):(function(o,h){const d=kv(o,h),p=o0(d)+o0(o.Ae);return td(d)&&td(o.Ae)?Lv(p):Rd(o.serializer,p)})(a,e)}function wx(a,e,i){return a instanceof go?zv(a,e):a instanceof po?Uv(a,e):i}function kv(a,e){return a instanceof mc?(function(r){return td(r)||(function(h){return!!h&&"doubleValue"in h})(r)})(e)?e:{integerValue:0}:null}class mo extends Rc{}class go extends Rc{constructor(e){super(),this.elements=e}}function zv(a,e){const i=Bv(e);for(const r of a.elements)i.some((o=>ji(o,r)))||i.push(r);return{arrayValue:{values:i}}}class po extends Rc{constructor(e){super(),this.elements=e}}function Uv(a,e){let i=Bv(e);for(const r of a.elements)i=i.filter((o=>!ji(o,r)));return{arrayValue:{values:i}}}class mc extends Rc{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function o0(a){return Ie(a.integerValue||a.doubleValue)}function Bv(a){return Ad(a)&&a.arrayValue.values?a.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cx{constructor(e,i){this.field=e,this.transform=i}}function Rx(a,e){return a.field.isEqual(e.field)&&(function(r,o){return r instanceof go&&o instanceof go||r instanceof po&&o instanceof po?zr(r.elements,o.elements,ji):r instanceof mc&&o instanceof mc?ji(r.Ae,o.Ae):r instanceof mo&&o instanceof mo})(a.transform,e.transform)}class Dx{constructor(e,i){this.version=e,this.transformResults=i}}class is{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new is}static exists(e){return new is(void 0,e)}static updateTime(e){return new is(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ec(a,e){return a.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(a.updateTime):a.exists===void 0||a.exists===e.isFoundDocument()}class Dc{}function Pv(a,e){if(!a.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return a.isNoDocument()?new Hv(a.key,is.none()):new bo(a.key,a.data,is.none());{const i=a.data,r=Zn.empty();let o=new Ge(rn.comparator);for(let h of e.fields)if(!o.has(h)){let d=i.field(h);d===null&&h.length>1&&(h=h.popLast(),d=i.field(h)),d===null?r.delete(h):r.set(h,d),o=o.add(h)}return new La(a.key,r,new oi(o.toArray()),is.none())}}function Ix(a,e,i){a instanceof bo?(function(o,h,d){const p=o.value.clone(),g=c0(o.fieldTransforms,h,d.transformResults);p.setAll(g),h.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(a,e,i):a instanceof La?(function(o,h,d){if(!ec(o.precondition,h))return void h.convertToUnknownDocument(d.version);const p=c0(o.fieldTransforms,h,d.transformResults),g=h.data;g.setAll(qv(o)),g.setAll(p),h.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(a,e,i):(function(o,h,d){h.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function so(a,e,i,r){return a instanceof bo?(function(h,d,p,g){if(!ec(h.precondition,d))return p;const v=h.value.clone(),T=h0(h.fieldTransforms,g,d);return v.setAll(T),d.convertToFoundDocument(d.version,v).setHasLocalMutations(),null})(a,e,i,r):a instanceof La?(function(h,d,p,g){if(!ec(h.precondition,d))return p;const v=h0(h.fieldTransforms,g,d),T=d.data;return T.setAll(qv(h)),T.setAll(v),d.convertToFoundDocument(d.version,T).setHasLocalMutations(),p===null?null:p.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map((S=>S.field)))})(a,e,i,r):(function(h,d,p){return ec(h.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(a,e,i)}function Nx(a,e){let i=null;for(const r of a.fieldTransforms){const o=e.data.field(r.field),h=kv(r.transform,o||null);h!=null&&(i===null&&(i=Zn.empty()),i.set(r.field,h))}return i||null}function u0(a,e){return a.type===e.type&&!!a.key.isEqual(e.key)&&!!a.precondition.isEqual(e.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&zr(r,o,((h,d)=>Rx(h,d)))})(a.fieldTransforms,e.fieldTransforms)&&(a.type===0?a.value.isEqual(e.value):a.type!==1||a.data.isEqual(e.data)&&a.fieldMask.isEqual(e.fieldMask))}class bo extends Dc{constructor(e,i,r,o=[]){super(),this.key=e,this.value=i,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class La extends Dc{constructor(e,i,r,o,h=[]){super(),this.key=e,this.data=i,this.fieldMask=r,this.precondition=o,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function qv(a){const e=new Map;return a.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const r=a.data.field(i);e.set(i,r)}})),e}function c0(a,e,i){const r=new Map;ne(a.length===i.length,32656,{Ve:i.length,de:a.length});for(let o=0;o<i.length;o++){const h=a[o],d=h.transform,p=e.data.field(h.field);r.set(h.field,wx(d,p,i[o]))}return r}function h0(a,e,i){const r=new Map;for(const o of a){const h=o.transform,d=i.data.field(o.field);r.set(o.field,Ax(h,d,e))}return r}class Hv extends Dc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Vx extends Dc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ox{constructor(e,i,r,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,i){const r=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const h=this.mutations[o];h.key.isEqual(e.key)&&Ix(h,e,r[o])}}applyToLocalView(e,i){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(i=so(r,e,i,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(i=so(r,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const r=jv();return this.mutations.forEach((o=>{const h=e.get(o.key),d=h.overlayedDocument;let p=this.applyToLocalView(d,h.mutatedFields);p=i.has(o.key)?null:p;const g=Pv(d,p);g!==null&&r.set(o.key,g),d.isValidDocument()||d.convertToNoDocument(It.min())})),r}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),qt())}isEqual(e){return this.batchId===e.batchId&&zr(this.mutations,e.mutations,((i,r)=>u0(i,r)))&&zr(this.baseMutations,e.baseMutations,((i,r)=>u0(i,r)))}}class Dd{constructor(e,i,r,o){this.batch=e,this.commitVersion=i,this.mutationResults=r,this.docVersions=o}static from(e,i,r){ne(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let o=(function(){return bx})();const h=e.mutations;for(let d=0;d<h.length;d++)o=o.insert(h[d].key,r[d].version);return new Dd(e,i,r,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mx{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jx{constructor(e,i){this.count=e,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Be,Qt;function Lx(a){switch(a){case at.OK:return Dt(64938);case at.CANCELLED:case at.UNKNOWN:case at.DEADLINE_EXCEEDED:case at.RESOURCE_EXHAUSTED:case at.INTERNAL:case at.UNAVAILABLE:case at.UNAUTHENTICATED:return!1;case at.INVALID_ARGUMENT:case at.NOT_FOUND:case at.ALREADY_EXISTS:case at.PERMISSION_DENIED:case at.FAILED_PRECONDITION:case at.ABORTED:case at.OUT_OF_RANGE:case at.UNIMPLEMENTED:case at.DATA_LOSS:return!0;default:return Dt(15467,{code:a})}}function Fv(a){if(a===void 0)return as("GRPC error has no .code"),at.UNKNOWN;switch(a){case Be.OK:return at.OK;case Be.CANCELLED:return at.CANCELLED;case Be.UNKNOWN:return at.UNKNOWN;case Be.DEADLINE_EXCEEDED:return at.DEADLINE_EXCEEDED;case Be.RESOURCE_EXHAUSTED:return at.RESOURCE_EXHAUSTED;case Be.INTERNAL:return at.INTERNAL;case Be.UNAVAILABLE:return at.UNAVAILABLE;case Be.UNAUTHENTICATED:return at.UNAUTHENTICATED;case Be.INVALID_ARGUMENT:return at.INVALID_ARGUMENT;case Be.NOT_FOUND:return at.NOT_FOUND;case Be.ALREADY_EXISTS:return at.ALREADY_EXISTS;case Be.PERMISSION_DENIED:return at.PERMISSION_DENIED;case Be.FAILED_PRECONDITION:return at.FAILED_PRECONDITION;case Be.ABORTED:return at.ABORTED;case Be.OUT_OF_RANGE:return at.OUT_OF_RANGE;case Be.UNIMPLEMENTED:return at.UNIMPLEMENTED;case Be.DATA_LOSS:return at.DATA_LOSS;default:return Dt(39323,{code:a})}}(Qt=Be||(Be={}))[Qt.OK=0]="OK",Qt[Qt.CANCELLED=1]="CANCELLED",Qt[Qt.UNKNOWN=2]="UNKNOWN",Qt[Qt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Qt[Qt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Qt[Qt.NOT_FOUND=5]="NOT_FOUND",Qt[Qt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Qt[Qt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Qt[Qt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Qt[Qt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Qt[Qt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Qt[Qt.ABORTED=10]="ABORTED",Qt[Qt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Qt[Qt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Qt[Qt.INTERNAL=13]="INTERNAL",Qt[Qt.UNAVAILABLE=14]="UNAVAILABLE",Qt[Qt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kx(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zx=new Fs([4294967295,4294967295],0);function f0(a){const e=kx().encode(a),i=new rv;return i.update(e),new Uint8Array(i.digest())}function d0(a){const e=new DataView(a.buffer),i=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),h=e.getUint32(12,!0);return[new Fs([i,r],0),new Fs([o,h],0)]}class Id{constructor(e,i,r){if(this.bitmap=e,this.padding=i,this.hashCount=r,i<0||i>=8)throw new Jl(`Invalid padding: ${i}`);if(r<0)throw new Jl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Jl(`Invalid hash count: ${r}`);if(e.length===0&&i!==0)throw new Jl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=Fs.fromNumber(this.ge)}ye(e,i,r){let o=e.add(i.multiply(Fs.fromNumber(r)));return o.compare(zx)===1&&(o=new Fs([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=f0(e),[r,o]=d0(i);for(let h=0;h<this.hashCount;h++){const d=this.ye(r,o,h);if(!this.we(d))return!1}return!0}static create(e,i,r){const o=e%8==0?0:8-e%8,h=new Uint8Array(Math.ceil(e/8)),d=new Id(h,o,i);return r.forEach((p=>d.insert(p))),d}insert(e){if(this.ge===0)return;const i=f0(e),[r,o]=d0(i);for(let h=0;h<this.hashCount;h++){const d=this.ye(r,o,h);this.be(d)}}be(e){const i=Math.floor(e/8),r=e%8;this.bitmap[i]|=1<<r}}class Jl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ic{constructor(e,i,r,o,h){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(e,i,r){const o=new Map;return o.set(e,Eo.createSynthesizedTargetChangeForCurrentChange(e,i,r)),new Ic(It.min(),o,new Te(Pt),rs(),qt())}}class Eo{constructor(e,i,r,o,h){this.resumeToken=e,this.current=i,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(e,i,r){return new Eo(r,i,qt(),qt(),qt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nc{constructor(e,i,r,o){this.Se=e,this.removedTargetIds=i,this.key=r,this.De=o}}class Gv{constructor(e,i){this.targetId=e,this.Ce=i}}class Qv{constructor(e,i,r=ln.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=r,this.cause=o}}class m0{constructor(){this.ve=0,this.Fe=g0(),this.Me=ln.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=qt(),i=qt(),r=qt();return this.Fe.forEach(((o,h)=>{switch(h){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:r=r.add(o);break;default:Dt(38017,{changeType:h})}})),new Eo(this.Me,this.xe,e,i,r)}Ke(){this.Oe=!1,this.Fe=g0()}qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,ne(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class Ux{constructor(e){this.Ge=e,this.ze=new Map,this.je=rs(),this.He=Xu(),this.Je=Xu(),this.Ze=new Te(Pt)}Xe(e){for(const i of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const r=this.nt(i);switch(e.state){case 0:this.rt(i)&&r.Le(e.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(e.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(r.Qe(),r.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),r.Le(e.resumeToken));break;default:Dt(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((r,o)=>{this.rt(o)&&i(o)}))}st(e){const i=e.targetId,r=e.Ce.count,o=this.ot(i);if(o){const h=o.target;if(nd(h))if(r===0){const d=new wt(h.path);this.et(i,d,dn.newNoDocument(d,It.min()))}else ne(r===1,20013,{expectedCount:r});else{const d=this._t(i);if(d!==r){const p=this.ut(e),g=p?this.ct(p,e,d):1;if(g!==0){this.it(i);const v=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(i,v)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:h=0}=i;let d,p;try{d=Xs(r).toUint8Array()}catch(g){if(g instanceof yv)return kr("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{p=new Id(d,o,h)}catch(g){return kr(g instanceof Jl?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return p.ge===0?null:p}ct(e,i,r){return i.Ce.count===r-this.Pt(e,i.targetId)?0:2}Pt(e,i){const r=this.Ge.getRemoteKeysForTarget(i);let o=0;return r.forEach((h=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${h.path.canonicalString()}`;e.mightContain(p)||(this.et(i,h,null),o++)})),o}Tt(e){const i=new Map;this.ze.forEach(((h,d)=>{const p=this.ot(d);if(p){if(h.current&&nd(p.target)){const g=new wt(p.target.path);this.It(g).has(d)||this.Et(d,g)||this.et(d,g,dn.newNoDocument(g,e))}h.Be&&(i.set(d,h.ke()),h.Ke())}}));let r=qt();this.Je.forEach(((h,d)=>{let p=!0;d.forEachWhile((g=>{const v=this.ot(g);return!v||v.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(r=r.add(h))})),this.je.forEach(((h,d)=>d.setReadTime(e)));const o=new Ic(e,i,this.Ze,this.je,r);return this.je=rs(),this.He=Xu(),this.Je=Xu(),this.Ze=new Te(Pt),o}Ye(e,i){if(!this.rt(e))return;const r=this.Et(e,i.key)?2:0;this.nt(e).qe(i.key,r),this.je=this.je.insert(i.key,i),this.He=this.He.insert(i.key,this.It(i.key).add(e)),this.Je=this.Je.insert(i.key,this.Rt(i.key).add(e))}et(e,i,r){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,i)?o.qe(i,1):o.Ue(i),this.Je=this.Je.insert(i,this.Rt(i).delete(e)),this.Je=this.Je.insert(i,this.Rt(i).add(e)),r&&(this.je=this.je.insert(i,r))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let i=this.ze.get(e);return i||(i=new m0,this.ze.set(e,i)),i}Rt(e){let i=this.Je.get(e);return i||(i=new Ge(Pt),this.Je=this.Je.insert(e,i)),i}It(e){let i=this.He.get(e);return i||(i=new Ge(Pt),this.He=this.He.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||gt("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new m0),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function Xu(){return new Te(wt.comparator)}function g0(){return new Te(wt.comparator)}const Bx={asc:"ASCENDING",desc:"DESCENDING"},Px={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},qx={and:"AND",or:"OR"};class Hx{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function sd(a,e){return a.useProto3Json||Tc(e)?e:{value:e}}function gc(a,e){return a.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Yv(a,e){return a.useProto3Json?e.toBase64():e.toUint8Array()}function Fx(a,e){return gc(a,e.toTimestamp())}function Oi(a){return ne(!!a,49232),It.fromTimestamp((function(i){const r=Ks(i);return new ye(r.seconds,r.nanos)})(a))}function Nd(a,e){return ad(a,e).canonicalString()}function ad(a,e){const i=(function(o){return new Ee(["projects",o.projectId,"databases",o.database])})(a).child("documents");return e===void 0?i:i.child(e)}function Kv(a){const e=Ee.fromString(a);return ne(Wv(e),10190,{key:e.toString()}),e}function rd(a,e){return Nd(a.databaseId,e.path)}function qf(a,e){const i=Kv(e);if(i.get(1)!==a.databaseId.projectId)throw new St(at.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+a.databaseId.projectId);if(i.get(3)!==a.databaseId.database)throw new St(at.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+a.databaseId.database);return new wt(Zv(i))}function Xv(a,e){return Nd(a.databaseId,e)}function Gx(a){const e=Kv(a);return e.length===4?Ee.emptyPath():Zv(e)}function ld(a){return new Ee(["projects",a.databaseId.projectId,"databases",a.databaseId.database]).canonicalString()}function Zv(a){return ne(a.length>4&&a.get(4)==="documents",29091,{key:a.toString()}),a.popFirst(5)}function p0(a,e,i){return{name:rd(a,e),fields:i.value.mapValue.fields}}function Qx(a,e){let i;if("targetChange"in e){e.targetChange;const r=(function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:Dt(39313,{state:v})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],h=(function(v,T){return v.useProto3Json?(ne(T===void 0||typeof T=="string",58123),ln.fromBase64String(T||"")):(ne(T===void 0||T instanceof Buffer||T instanceof Uint8Array,16193),ln.fromUint8Array(T||new Uint8Array))})(a,e.targetChange.resumeToken),d=e.targetChange.cause,p=d&&(function(v){const T=v.code===void 0?at.UNKNOWN:Fv(v.code);return new St(T,v.message||"")})(d);i=new Qv(r,o,h,p||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const o=qf(a,r.document.name),h=Oi(r.document.updateTime),d=r.document.createTime?Oi(r.document.createTime):It.min(),p=new Zn({mapValue:{fields:r.document.fields}}),g=dn.newFoundDocument(o,h,d,p),v=r.targetIds||[],T=r.removedTargetIds||[];i=new nc(v,T,g.key,g)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const o=qf(a,r.document),h=r.readTime?Oi(r.readTime):It.min(),d=dn.newNoDocument(o,h),p=r.removedTargetIds||[];i=new nc([],p,d.key,d)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const o=qf(a,r.document),h=r.removedTargetIds||[];i=new nc([],h,o,null)}else{if(!("filter"in e))return Dt(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:o=0,unchangedNames:h}=r,d=new jx(o,h),p=r.targetId;i=new Gv(p,d)}}return i}function Yx(a,e){let i;if(e instanceof bo)i={update:p0(a,e.key,e.value)};else if(e instanceof Hv)i={delete:rd(a,e.key)};else if(e instanceof La)i={update:p0(a,e.key,e.data),updateMask:nS(e.fieldMask)};else{if(!(e instanceof Vx))return Dt(16599,{dt:e.type});i={verify:rd(a,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((r=>(function(h,d){const p=d.transform;if(p instanceof mo)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof go)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof po)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof mc)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw Dt(20930,{transform:d.transform})})(0,r)))),e.precondition.isNone||(i.currentDocument=(function(o,h){return h.updateTime!==void 0?{updateTime:Fx(o,h.updateTime)}:h.exists!==void 0?{exists:h.exists}:Dt(27497)})(a,e.precondition)),i}function Kx(a,e){return a&&a.length>0?(ne(e!==void 0,14353),a.map((i=>(function(o,h){let d=o.updateTime?Oi(o.updateTime):Oi(h);return d.isEqual(It.min())&&(d=Oi(h)),new Dx(d,o.transformResults||[])})(i,e)))):[]}function Xx(a,e){return{documents:[Xv(a,e.path)]}}function Zx(a,e){const i={structuredQuery:{}},r=e.path;let o;e.collectionGroup!==null?(o=r,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=r.popLast(),i.structuredQuery.from=[{collectionId:r.lastSegment()}]),i.parent=Xv(a,o);const h=(function(v){if(v.length!==0)return Jv(Li.create(v,"and"))})(e.filters);h&&(i.structuredQuery.where=h);const d=(function(v){if(v.length!==0)return v.map((T=>(function(C){return{field:Nr(C.field),direction:Wx(C.dir)}})(T)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const p=sd(a,e.limit);return p!==null&&(i.structuredQuery.limit=p),e.startAt&&(i.structuredQuery.startAt=(function(v){return{before:v.inclusive,values:v.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(v){return{before:!v.inclusive,values:v.position}})(e.endAt)),{ft:i,parent:o}}function $x(a){let e=Gx(a.parent);const i=a.structuredQuery,r=i.from?i.from.length:0;let o=null;if(r>0){ne(r===1,65062);const T=i.from[0];T.allDescendants?o=T.collectionId:e=e.child(T.collectionId)}let h=[];i.where&&(h=(function(S){const C=$v(S);return C instanceof Li&&Cv(C)?C.getFilters():[C]})(i.where));let d=[];i.orderBy&&(d=(function(S){return S.map((C=>(function(Q){return new dc(Vr(Q.field),(function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(Q.direction))})(C)))})(i.orderBy));let p=null;i.limit&&(p=(function(S){let C;return C=typeof S=="object"?S.value:S,Tc(C)?null:C})(i.limit));let g=null;i.startAt&&(g=(function(S){const C=!!S.before,L=S.values||[];return new fc(L,C)})(i.startAt));let v=null;return i.endAt&&(v=(function(S){const C=!S.before,L=S.values||[];return new fc(L,C)})(i.endAt)),dx(e,o,d,h,p,"F",g,v)}function Jx(a,e){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Dt(28987,{purpose:o})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function $v(a){return a.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const r=Vr(i.unaryFilter.field);return He.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=Vr(i.unaryFilter.field);return He.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=Vr(i.unaryFilter.field);return He.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Vr(i.unaryFilter.field);return He.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Dt(61313);default:return Dt(60726)}})(a):a.fieldFilter!==void 0?(function(i){return He.create(Vr(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Dt(58110);default:return Dt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(a):a.compositeFilter!==void 0?(function(i){return Li.create(i.compositeFilter.filters.map((r=>$v(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Dt(1026)}})(i.compositeFilter.op))})(a):Dt(30097,{filter:a})}function Wx(a){return Bx[a]}function tS(a){return Px[a]}function eS(a){return qx[a]}function Nr(a){return{fieldPath:a.canonicalString()}}function Vr(a){return rn.fromServerFormat(a.fieldPath)}function Jv(a){return a instanceof He?(function(i){if(i.op==="=="){if(i0(i.value))return{unaryFilter:{field:Nr(i.field),op:"IS_NAN"}};if(n0(i.value))return{unaryFilter:{field:Nr(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(i0(i.value))return{unaryFilter:{field:Nr(i.field),op:"IS_NOT_NAN"}};if(n0(i.value))return{unaryFilter:{field:Nr(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Nr(i.field),op:tS(i.op),value:i.value}}})(a):a instanceof Li?(function(i){const r=i.getFilters().map((o=>Jv(o)));return r.length===1?r[0]:{compositeFilter:{op:eS(i.op),filters:r}}})(a):Dt(54877,{filter:a})}function nS(a){const e=[];return a.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function Wv(a){return a.length>=4&&a.get(0)==="projects"&&a.get(2)==="databases"}function t_(a){return!!a&&typeof a._toProto=="function"&&a._protoValueType==="ProtoValue"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ps{constructor(e,i,r,o,h=It.min(),d=It.min(),p=ln.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=i,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=g}withSequenceNumber(e){return new Ps(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new Ps(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ps(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ps(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iS{constructor(e){this.yt=e}}function sS(a){const e=$x({parent:a.parent,structuredQuery:a.structuredQuery});return a.limitType==="LAST"?id(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aS{constructor(){this.Sn=new rS}addToCollectionParentIndex(e,i){return this.Sn.add(i),st.resolve()}getCollectionParents(e,i){return st.resolve(this.Sn.getEntries(i))}addFieldIndex(e,i){return st.resolve()}deleteFieldIndex(e,i){return st.resolve()}deleteAllFieldIndexes(e){return st.resolve()}createTargetIndexes(e,i){return st.resolve()}getDocumentsMatchingTarget(e,i){return st.resolve(null)}getIndexType(e,i){return st.resolve(0)}getFieldIndexes(e,i){return st.resolve([])}getNextCollectionGroupToUpdate(e){return st.resolve(null)}getMinOffset(e,i){return st.resolve(Ys.min())}getMinOffsetFromCollectionGroup(e,i){return st.resolve(Ys.min())}updateCollectionGroup(e,i,r){return st.resolve()}updateIndexEntries(e,i){return st.resolve()}}class rS{constructor(){this.index={}}add(e){const i=e.lastSegment(),r=e.popLast(),o=this.index[i]||new Ge(Ee.comparator),h=!o.has(r);return this.index[i]=o.add(r),h}has(e){const i=e.lastSegment(),r=e.popLast(),o=this.index[i];return o&&o.has(r)}getEntries(e){return(this.index[e]||new Ge(Ee.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},e_=41943040;class Sn{static withCacheSize(e){return new Sn(e,Sn.DEFAULT_COLLECTION_PERCENTILE,Sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Sn.DEFAULT_COLLECTION_PERCENTILE=10,Sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Sn.DEFAULT=new Sn(e_,Sn.DEFAULT_COLLECTION_PERCENTILE,Sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Sn.DISABLED=new Sn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new Pr(0)}static ar(){return new Pr(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v0="LruGarbageCollector",lS=1048576;function _0([a,e],[i,r]){const o=Pt(a,i);return o===0?Pt(e,r):o}class oS{constructor(e){this.Pr=e,this.buffer=new Ge(_0),this.Tr=0}Ir(){return++this.Tr}Er(e){const i=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(i);else{const r=this.buffer.last();_0(i,r)<0&&(this.buffer=this.buffer.delete(r).add(i))}}get maxValue(){return this.buffer.last()[0]}}class uS{constructor(e,i,r){this.garbageCollector=e,this.asyncQueue=i,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){gt(v0,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Qr(i)?gt(v0,"Ignoring IndexedDB error during garbage collection: ",i):await Gr(i)}await this.Ar(3e5)}))}}class cS{constructor(e,i){this.Vr=e,this.params=i}calculateTargetCount(e,i){return this.Vr.dr(e).next((r=>Math.floor(i/100*r)))}nthSequenceNumber(e,i){if(i===0)return st.resolve(Ec.ce);const r=new oS(i);return this.Vr.forEachTarget(e,(o=>r.Er(o.sequenceNumber))).next((()=>this.Vr.mr(e,(o=>r.Er(o))))).next((()=>r.maxValue))}removeTargets(e,i,r){return this.Vr.removeTargets(e,i,r)}removeOrphanedDocuments(e,i){return this.Vr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(gt("LruGarbageCollector","Garbage collection skipped; disabled"),st.resolve(y0)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(gt("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),y0):this.gr(e,i)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,i){let r,o,h,d,p,g,v;const T=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(gt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),o=this.params.maximumSequenceNumbersToCollect):o=S,d=Date.now(),this.nthSequenceNumber(e,o)))).next((S=>(r=S,p=Date.now(),this.removeTargets(e,r,i)))).next((S=>(h=S,g=Date.now(),this.removeOrphanedDocuments(e,r)))).next((S=>(v=Date.now(),Dr()<=Yt.DEBUG&&gt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-T}ms
	Determined least recently used ${o} in `+(p-d)+`ms
	Removed ${h} targets in `+(g-p)+`ms
	Removed ${S} documents in `+(v-g)+`ms
Total Duration: ${v-T}ms`),st.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:h,documentsRemoved:S}))))}}function hS(a,e){return new cS(a,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fS{constructor(){this.changes=new ja((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,dn.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const r=this.changes.get(i);return r!==void 0?st.resolve(r):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dS{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mS{constructor(e,i,r,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,i){let r=null;return this.documentOverlayCache.getOverlay(e,i).next((o=>(r=o,this.remoteDocumentCache.getEntry(e,i)))).next((o=>(r!==null&&so(r.mutation,o,oi.empty(),ye.now()),o)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((r=>this.getLocalViewOfDocuments(e,r,qt()).next((()=>r))))}getLocalViewOfDocuments(e,i,r=qt()){const o=Ia();return this.populateOverlays(e,o,i).next((()=>this.computeViews(e,i,o,r).next((h=>{let d=$l();return h.forEach(((p,g)=>{d=d.insert(p,g.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const r=Ia();return this.populateOverlays(e,r,i).next((()=>this.computeViews(e,i,r,qt())))}populateOverlays(e,i,r){const o=[];return r.forEach((h=>{i.has(h)||o.push(h)})),this.documentOverlayCache.getOverlays(e,o).next((h=>{h.forEach(((d,p)=>{i.set(d,p)}))}))}computeViews(e,i,r,o){let h=rs();const d=io(),p=(function(){return io()})();return i.forEach(((g,v)=>{const T=r.get(v.key);o.has(v.key)&&(T===void 0||T.mutation instanceof La)?h=h.insert(v.key,v):T!==void 0?(d.set(v.key,T.mutation.getFieldMask()),so(T.mutation,v,T.mutation.getFieldMask(),ye.now())):d.set(v.key,oi.empty())})),this.recalculateAndSaveOverlays(e,h).next((g=>(g.forEach(((v,T)=>d.set(v,T))),i.forEach(((v,T)=>p.set(v,new dS(T,d.get(v)??null)))),p)))}recalculateAndSaveOverlays(e,i){const r=io();let o=new Te(((d,p)=>d-p)),h=qt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const p of d)p.keys().forEach((g=>{const v=i.get(g);if(v===null)return;let T=r.get(g)||oi.empty();T=p.applyToLocalView(v,T),r.set(g,T);const S=(o.get(p.batchId)||qt()).add(g);o=o.insert(p.batchId,S)}))})).next((()=>{const d=[],p=o.getReverseIterator();for(;p.hasNext();){const g=p.getNext(),v=g.key,T=g.value,S=jv();T.forEach((C=>{if(!h.has(C)){const L=Pv(i.get(C),r.get(C));L!==null&&S.set(C,L),h=h.add(C)}})),d.push(this.documentOverlayCache.saveOverlays(e,v,S))}return st.waitFor(d)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,i,r,o){return mx(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):gx(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,r,o):this.getDocumentsMatchingCollectionQuery(e,i,r,o)}getNextDocuments(e,i,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,r,o).next((h=>{const d=o-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,r.largestBatchId,o-h.size):st.resolve(Ia());let p=uo,g=h;return d.next((v=>st.forEach(v,((T,S)=>(p<S.largestBatchId&&(p=S.largestBatchId),h.get(T)?st.resolve():this.remoteDocumentCache.getEntry(e,T).next((C=>{g=g.insert(T,C)}))))).next((()=>this.populateOverlays(e,v,h))).next((()=>this.computeViews(e,g,v,qt()))).next((T=>({batchId:p,changes:Mv(T)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new wt(i)).next((r=>{let o=$l();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(e,i,r,o){const h=i.collectionGroup;let d=$l();return this.indexManager.getCollectionParents(e,h).next((p=>st.forEach(p,(g=>{const v=(function(S,C){return new Sc(C,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(i,g.child(h));return this.getDocumentsMatchingCollectionQuery(e,v,r,o).next((T=>{T.forEach(((S,C)=>{d=d.insert(S,C)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,r,o){let h;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,r.largestBatchId).next((d=>(h=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,r,h,o)))).next((d=>{h.forEach(((g,v)=>{const T=v.getKey();d.get(T)===null&&(d=d.insert(T,dn.newInvalidDocument(T)))}));let p=$l();return d.forEach(((g,v)=>{const T=h.get(g);T!==void 0&&so(T.mutation,v,oi.empty(),ye.now()),Cc(i,v)&&(p=p.insert(g,v))})),p}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gS{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,i){return st.resolve(this.Nr.get(i))}saveBundleMetadata(e,i){return this.Nr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:Oi(o.createTime)}})(i)),st.resolve()}getNamedQuery(e,i){return st.resolve(this.Br.get(i))}saveNamedQuery(e,i){return this.Br.set(i.name,(function(o){return{name:o.name,query:sS(o.bundledQuery),readTime:Oi(o.readTime)}})(i)),st.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pS{constructor(){this.overlays=new Te(wt.comparator),this.Lr=new Map}getOverlay(e,i){return st.resolve(this.overlays.get(i))}getOverlays(e,i){const r=Ia();return st.forEach(i,(o=>this.getOverlay(e,o).next((h=>{h!==null&&r.set(o,h)})))).next((()=>r))}saveOverlays(e,i,r){return r.forEach(((o,h)=>{this.bt(e,i,h)})),st.resolve()}removeOverlaysForBatchId(e,i,r){const o=this.Lr.get(r);return o!==void 0&&(o.forEach((h=>this.overlays=this.overlays.remove(h))),this.Lr.delete(r)),st.resolve()}getOverlaysForCollection(e,i,r){const o=Ia(),h=i.length+1,d=new wt(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const g=p.getNext().value,v=g.getKey();if(!i.isPrefixOf(v.path))break;v.path.length===h&&g.largestBatchId>r&&o.set(g.getKey(),g)}return st.resolve(o)}getOverlaysForCollectionGroup(e,i,r,o){let h=new Te(((v,T)=>v-T));const d=this.overlays.getIterator();for(;d.hasNext();){const v=d.getNext().value;if(v.getKey().getCollectionGroup()===i&&v.largestBatchId>r){let T=h.get(v.largestBatchId);T===null&&(T=Ia(),h=h.insert(v.largestBatchId,T)),T.set(v.getKey(),v)}}const p=Ia(),g=h.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((v,T)=>p.set(v,T))),!(p.size()>=o)););return st.resolve(p)}bt(e,i,r){const o=this.overlays.get(r.key);if(o!==null){const d=this.Lr.get(o.largestBatchId).delete(r.key);this.Lr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new Mx(i,r));let h=this.Lr.get(i);h===void 0&&(h=qt(),this.Lr.set(i,h)),this.Lr.set(i,h.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yS{constructor(){this.sessionToken=ln.EMPTY_BYTE_STRING}getSessionToken(e){return st.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,st.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vd{constructor(){this.kr=new Ge($e.Kr),this.qr=new Ge($e.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,i){const r=new $e(e,i);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(e,i){e.forEach((r=>this.addReference(r,i)))}removeReference(e,i){this.Wr(new $e(e,i))}Qr(e,i){e.forEach((r=>this.removeReference(r,i)))}Gr(e){const i=new wt(new Ee([])),r=new $e(i,e),o=new $e(i,e+1),h=[];return this.qr.forEachInRange([r,o],(d=>{this.Wr(d),h.push(d.key)})),h}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const i=new wt(new Ee([])),r=new $e(i,e),o=new $e(i,e+1);let h=qt();return this.qr.forEachInRange([r,o],(d=>{h=h.add(d.key)})),h}containsKey(e){const i=new $e(e,0),r=this.kr.firstAfterOrEqual(i);return r!==null&&e.isEqual(r.key)}}class $e{constructor(e,i){this.key=e,this.Hr=i}static Kr(e,i){return wt.comparator(e.key,i.key)||Pt(e.Hr,i.Hr)}static Ur(e,i){return Pt(e.Hr,i.Hr)||wt.comparator(e.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vS{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.Yn=1,this.Jr=new Ge($e.Kr)}checkEmpty(e){return st.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,r,o){const h=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new Ox(h,i,r,o);this.mutationQueue.push(d);for(const p of o)this.Jr=this.Jr.add(new $e(p.key,h)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return st.resolve(d)}lookupMutationBatch(e,i){return st.resolve(this.Zr(i))}getNextMutationBatchAfterBatchId(e,i){const r=i+1,o=this.Xr(r),h=o<0?0:o;return st.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return st.resolve(this.mutationQueue.length===0?xd:this.Yn-1)}getAllMutationBatches(e){return st.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const r=new $e(i,0),o=new $e(i,Number.POSITIVE_INFINITY),h=[];return this.Jr.forEachInRange([r,o],(d=>{const p=this.Zr(d.Hr);h.push(p)})),st.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(e,i){let r=new Ge(Pt);return i.forEach((o=>{const h=new $e(o,0),d=new $e(o,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([h,d],(p=>{r=r.add(p.Hr)}))})),st.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(e,i){const r=i.path,o=r.length+1;let h=r;wt.isDocumentKey(h)||(h=h.child(""));const d=new $e(new wt(h),0);let p=new Ge(Pt);return this.Jr.forEachWhile((g=>{const v=g.key.path;return!!r.isPrefixOf(v)&&(v.length===o&&(p=p.add(g.Hr)),!0)}),d),st.resolve(this.Yr(p))}Yr(e){const i=[];return e.forEach((r=>{const o=this.Zr(r);o!==null&&i.push(o)})),i}removeMutationBatch(e,i){ne(this.ei(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return st.forEach(i.mutations,(o=>{const h=new $e(o.key,i.batchId);return r=r.delete(h),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Jr=r}))}nr(e){}containsKey(e,i){const r=new $e(i,0),o=this.Jr.firstAfterOrEqual(r);return st.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,st.resolve()}ei(e,i){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const i=this.Xr(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _S{constructor(e){this.ti=e,this.docs=(function(){return new Te(wt.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const r=i.key,o=this.docs.get(r),h=o?o.size:0,d=this.ti(i);return this.docs=this.docs.insert(r,{document:i.mutableCopy(),size:d}),this.size+=d-h,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const r=this.docs.get(i);return st.resolve(r?r.document.mutableCopy():dn.newInvalidDocument(i))}getEntries(e,i){let r=rs();return i.forEach((o=>{const h=this.docs.get(o);r=r.insert(o,h?h.document.mutableCopy():dn.newInvalidDocument(o))})),st.resolve(r)}getDocumentsMatchingQuery(e,i,r,o){let h=rs();const d=i.path,p=new wt(d.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(p);for(;g.hasNext();){const{key:v,value:{document:T}}=g.getNext();if(!d.isPrefixOf(v.path))break;v.path.length>d.length+1||FT(HT(T),r)<=0||(o.has(T.key)||Cc(i,T))&&(h=h.insert(T.key,T.mutableCopy()))}return st.resolve(h)}getAllFromCollectionGroup(e,i,r,o){Dt(9500)}ni(e,i){return st.forEach(this.docs,(r=>i(r)))}newChangeBuffer(e){return new bS(this)}getSize(e){return st.resolve(this.size)}}class bS extends fS{constructor(e){super(),this.Mr=e}applyChanges(e){const i=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?i.push(this.Mr.addEntry(e,o)):this.Mr.removeEntry(r)})),st.waitFor(i)}getFromCache(e,i){return this.Mr.getEntry(e,i)}getAllFromCache(e,i){return this.Mr.getEntries(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ES{constructor(e){this.persistence=e,this.ri=new ja((i=>wd(i)),Cd),this.lastRemoteSnapshotVersion=It.min(),this.highestTargetId=0,this.ii=0,this.si=new Vd,this.targetCount=0,this.oi=Pr._r()}forEachTarget(e,i){return this.ri.forEach(((r,o)=>i(o))),st.resolve()}getLastRemoteSnapshotVersion(e){return st.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return st.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),st.resolve(this.highestTargetId)}setTargetsMetadata(e,i,r){return r&&(this.lastRemoteSnapshotVersion=r),i>this.ii&&(this.ii=i),st.resolve()}lr(e){this.ri.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.oi=new Pr(i),this.highestTargetId=i),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,i){return this.lr(i),this.targetCount+=1,st.resolve()}updateTargetData(e,i){return this.lr(i),st.resolve()}removeTargetData(e,i){return this.ri.delete(i.target),this.si.Gr(i.targetId),this.targetCount-=1,st.resolve()}removeTargets(e,i,r){let o=0;const h=[];return this.ri.forEach(((d,p)=>{p.sequenceNumber<=i&&r.get(p.targetId)===null&&(this.ri.delete(d),h.push(this.removeMatchingKeysForTargetId(e,p.targetId)),o++)})),st.waitFor(h).next((()=>o))}getTargetCount(e){return st.resolve(this.targetCount)}getTargetData(e,i){const r=this.ri.get(i)||null;return st.resolve(r)}addMatchingKeys(e,i,r){return this.si.$r(i,r),st.resolve()}removeMatchingKeys(e,i,r){this.si.Qr(i,r);const o=this.persistence.referenceDelegate,h=[];return o&&i.forEach((d=>{h.push(o.markPotentiallyOrphaned(e,d))})),st.waitFor(h)}removeMatchingKeysForTargetId(e,i){return this.si.Gr(i),st.resolve()}getMatchingKeysForTargetId(e,i){const r=this.si.jr(i);return st.resolve(r)}containsKey(e,i){return st.resolve(this.si.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n_{constructor(e,i){this._i={},this.overlays={},this.ai=new Ec(0),this.ui=!1,this.ui=!0,this.ci=new yS,this.referenceDelegate=e(this),this.li=new ES(this),this.indexManager=new aS,this.remoteDocumentCache=(function(o){return new _S(o)})((r=>this.referenceDelegate.hi(r))),this.serializer=new iS(i),this.Pi=new gS(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new pS,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let r=this._i[e.toKey()];return r||(r=new vS(i,this.referenceDelegate),this._i[e.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,i,r){gt("MemoryPersistence","Starting transaction:",e);const o=new TS(this.ai.next());return this.referenceDelegate.Ti(),r(o).next((h=>this.referenceDelegate.Ii(o).next((()=>h)))).toPromise().then((h=>(o.raiseOnCommittedEvent(),h)))}Ei(e,i){return st.or(Object.values(this._i).map((r=>()=>r.containsKey(e,i))))}}class TS extends QT{constructor(e){super(),this.currentSequenceNumber=e}}class Od{constructor(e){this.persistence=e,this.Ri=new Vd,this.Ai=null}static Vi(e){return new Od(e)}get di(){if(this.Ai)return this.Ai;throw Dt(60996)}addReference(e,i,r){return this.Ri.addReference(r,i),this.di.delete(r.toString()),st.resolve()}removeReference(e,i,r){return this.Ri.removeReference(r,i),this.di.add(r.toString()),st.resolve()}markPotentiallyOrphaned(e,i){return this.di.add(i.toString()),st.resolve()}removeTarget(e,i){this.Ri.Gr(i.targetId).forEach((o=>this.di.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,i.targetId).next((o=>{o.forEach((h=>this.di.add(h.toString())))})).next((()=>r.removeTargetData(e,i)))}Ti(){this.Ai=new Set}Ii(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return st.forEach(this.di,(r=>{const o=wt.fromPath(r);return this.mi(e,o).next((h=>{h||i.removeEntry(o,It.min())}))})).next((()=>(this.Ai=null,i.apply(e))))}updateLimboDocument(e,i){return this.mi(e,i).next((r=>{r?this.di.delete(i.toString()):this.di.add(i.toString())}))}hi(e){return 0}mi(e,i){return st.or([()=>st.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ei(e,i)])}}class pc{constructor(e,i){this.persistence=e,this.fi=new ja((r=>XT(r.path)),((r,o)=>r.isEqual(o))),this.garbageCollector=hS(this,i)}static Vi(e,i){return new pc(e,i)}Ti(){}Ii(e){return st.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}dr(e){const i=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>i.next((o=>r+o))))}pr(e){let i=0;return this.mr(e,(r=>{i++})).next((()=>i))}mr(e,i){return st.forEach(this.fi,((r,o)=>this.wr(e,r,o).next((h=>h?st.resolve():i(o)))))}removeTargets(e,i,r){return this.persistence.getTargetCache().removeTargets(e,i,r)}removeOrphanedDocuments(e,i){let r=0;const o=this.persistence.getRemoteDocumentCache(),h=o.newChangeBuffer();return o.ni(e,(d=>this.wr(e,d,i).next((p=>{p||(r++,h.removeEntry(d,It.min()))})))).next((()=>h.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,i){return this.fi.set(i,e.currentSequenceNumber),st.resolve()}removeTarget(e,i){const r=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,i,r){return this.fi.set(r,e.currentSequenceNumber),st.resolve()}removeReference(e,i,r){return this.fi.set(r,e.currentSequenceNumber),st.resolve()}updateLimboDocument(e,i){return this.fi.set(i,e.currentSequenceNumber),st.resolve()}hi(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Wu(e.data.value)),i}wr(e,i,r){return st.or([()=>this.persistence.Ei(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.fi.get(i);return st.resolve(o!==void 0&&o>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Md{constructor(e,i,r,o){this.targetId=e,this.fromCache=i,this.Ts=r,this.Is=o}static Es(e,i){let r=qt(),o=qt();for(const h of i.docChanges)switch(h.type){case 0:r=r.add(h.doc.key);break;case 1:o=o.add(h.doc.key)}return new Md(e,i.fromCache,r,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xS{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SS{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return h1()?8:YT(u1())>0?6:4})()}initialize(e,i){this.fs=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,r,o){const h={result:null};return this.gs(e,i).next((d=>{h.result=d})).next((()=>{if(!h.result)return this.ps(e,i,o,r).next((d=>{h.result=d}))})).next((()=>{if(h.result)return;const d=new xS;return this.ys(e,i,d).next((p=>{if(h.result=p,this.As)return this.ws(e,i,d,p.size)}))})).next((()=>h.result))}ws(e,i,r,o){return r.documentReadCount<this.Vs?(Dr()<=Yt.DEBUG&&gt("QueryEngine","SDK will not create cache indexes for query:",Ir(i),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),st.resolve()):(Dr()<=Yt.DEBUG&&gt("QueryEngine","Query:",Ir(i),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.ds*o?(Dr()<=Yt.DEBUG&&gt("QueryEngine","The SDK decides to create cache indexes for query:",Ir(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Vi(i))):st.resolve())}gs(e,i){if(l0(i))return st.resolve(null);let r=Vi(i);return this.indexManager.getIndexType(e,r).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=id(i,null,"F"),r=Vi(i)),this.indexManager.getDocumentsMatchingTarget(e,r).next((h=>{const d=qt(...h);return this.fs.getDocuments(e,d).next((p=>this.indexManager.getMinOffset(e,r).next((g=>{const v=this.bs(i,p);return this.Ss(i,v,d,g.readTime)?this.gs(e,id(i,null,"F")):this.Ds(e,v,i,g)}))))})))))}ps(e,i,r,o){return l0(i)||o.isEqual(It.min())?st.resolve(null):this.fs.getDocuments(e,r).next((h=>{const d=this.bs(i,h);return this.Ss(i,d,r,o)?st.resolve(null):(Dr()<=Yt.DEBUG&&gt("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Ir(i)),this.Ds(e,d,i,qT(o,uo)).next((p=>p)))}))}bs(e,i){let r=new Ge(Vv(e));return i.forEach(((o,h)=>{Cc(e,h)&&(r=r.add(h))})),r}Ss(e,i,r,o){if(e.limit===null)return!1;if(r.size!==i.size)return!0;const h=e.limitType==="F"?i.last():i.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(o)>0)}ys(e,i,r){return Dr()<=Yt.DEBUG&&gt("QueryEngine","Using full collection scan to execute query:",Ir(i)),this.fs.getDocumentsMatchingQuery(e,i,Ys.min(),r)}Ds(e,i,r,o){return this.fs.getDocumentsMatchingQuery(e,r,o).next((h=>(i.forEach((d=>{h=h.insert(d.key,d)})),h)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jd="LocalStore",AS=3e8;class wS{constructor(e,i,r,o){this.persistence=e,this.Cs=i,this.serializer=o,this.vs=new Te(Pt),this.Fs=new ja((h=>wd(h)),Cd),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(r)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new mS(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.vs)))}}function CS(a,e,i,r){return new wS(a,e,i,r)}async function i_(a,e){const i=Vt(a);return await i.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return i.mutationQueue.getAllMutationBatches(r).next((h=>(o=h,i.Os(e),i.mutationQueue.getAllMutationBatches(r)))).next((h=>{const d=[],p=[];let g=qt();for(const v of o){d.push(v.batchId);for(const T of v.mutations)g=g.add(T.key)}for(const v of h){p.push(v.batchId);for(const T of v.mutations)g=g.add(T.key)}return i.localDocuments.getDocuments(r,g).next((v=>({Ns:v,removedBatchIds:d,addedBatchIds:p})))}))}))}function RS(a,e){const i=Vt(a);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const o=e.batch.keys(),h=i.xs.newChangeBuffer({trackRemovals:!0});return(function(p,g,v,T){const S=v.batch,C=S.keys();let L=st.resolve();return C.forEach((Q=>{L=L.next((()=>T.getEntry(g,Q))).next(($=>{const k=v.docVersions.get(Q);ne(k!==null,48541),$.version.compareTo(k)<0&&(S.applyToRemoteDocument($,v),$.isValidDocument()&&($.setReadTime(v.commitVersion),T.addEntry($)))}))})),L.next((()=>p.mutationQueue.removeMutationBatch(g,S)))})(i,r,e,h).next((()=>h.apply(r))).next((()=>i.mutationQueue.performConsistencyCheck(r))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(p){let g=qt();for(let v=0;v<p.mutationResults.length;++v)p.mutationResults[v].transformResults.length>0&&(g=g.add(p.batch.mutations[v].key));return g})(e)))).next((()=>i.localDocuments.getDocuments(r,o)))}))}function s_(a){const e=Vt(a);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.li.getLastRemoteSnapshotVersion(i)))}function DS(a,e){const i=Vt(a),r=e.snapshotVersion;let o=i.vs;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(h=>{const d=i.xs.newChangeBuffer({trackRemovals:!0});o=i.vs;const p=[];e.targetChanges.forEach(((T,S)=>{const C=o.get(S);if(!C)return;p.push(i.li.removeMatchingKeys(h,T.removedDocuments,S).next((()=>i.li.addMatchingKeys(h,T.addedDocuments,S))));let L=C.withSequenceNumber(h.currentSequenceNumber);e.targetMismatches.get(S)!==null?L=L.withResumeToken(ln.EMPTY_BYTE_STRING,It.min()).withLastLimboFreeSnapshotVersion(It.min()):T.resumeToken.approximateByteSize()>0&&(L=L.withResumeToken(T.resumeToken,r)),o=o.insert(S,L),(function($,k,z){return $.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-$.snapshotVersion.toMicroseconds()>=AS?!0:z.addedDocuments.size+z.modifiedDocuments.size+z.removedDocuments.size>0})(C,L,T)&&p.push(i.li.updateTargetData(h,L))}));let g=rs(),v=qt();if(e.documentUpdates.forEach((T=>{e.resolvedLimboDocuments.has(T)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(h,T))})),p.push(IS(h,d,e.documentUpdates).next((T=>{g=T.Bs,v=T.Ls}))),!r.isEqual(It.min())){const T=i.li.getLastRemoteSnapshotVersion(h).next((S=>i.li.setTargetsMetadata(h,h.currentSequenceNumber,r)));p.push(T)}return st.waitFor(p).next((()=>d.apply(h))).next((()=>i.localDocuments.getLocalViewOfDocuments(h,g,v))).next((()=>g))})).then((h=>(i.vs=o,h)))}function IS(a,e,i){let r=qt(),o=qt();return i.forEach((h=>r=r.add(h))),e.getEntries(a,r).next((h=>{let d=rs();return i.forEach(((p,g)=>{const v=h.get(p);g.isFoundDocument()!==v.isFoundDocument()&&(o=o.add(p)),g.isNoDocument()&&g.version.isEqual(It.min())?(e.removeEntry(p,g.readTime),d=d.insert(p,g)):!v.isValidDocument()||g.version.compareTo(v.version)>0||g.version.compareTo(v.version)===0&&v.hasPendingWrites?(e.addEntry(g),d=d.insert(p,g)):gt(jd,"Ignoring outdated watch update for ",p,". Current version:",v.version," Watch version:",g.version)})),{Bs:d,Ls:o}}))}function NS(a,e){const i=Vt(a);return i.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=xd),i.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function VS(a,e){const i=Vt(a);return i.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return i.li.getTargetData(r,e).next((h=>h?(o=h,st.resolve(o)):i.li.allocateTargetId(r).next((d=>(o=new Ps(e,d,"TargetPurposeListen",r.currentSequenceNumber),i.li.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=i.vs.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.vs=i.vs.insert(r.targetId,r),i.Fs.set(e,r.targetId)),r}))}async function od(a,e,i){const r=Vt(a),o=r.vs.get(e),h=i?"readwrite":"readwrite-primary";try{i||await r.persistence.runTransaction("Release target",h,(d=>r.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!Qr(d))throw d;gt(jd,`Failed to update sequence numbers for target ${e}: ${d}`)}r.vs=r.vs.remove(e),r.Fs.delete(o.target)}function b0(a,e,i){const r=Vt(a);let o=It.min(),h=qt();return r.persistence.runTransaction("Execute query","readwrite",(d=>(function(g,v,T){const S=Vt(g),C=S.Fs.get(T);return C!==void 0?st.resolve(S.vs.get(C)):S.li.getTargetData(v,T)})(r,d,Vi(e)).next((p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(d,p.targetId).next((g=>{h=g}))})).next((()=>r.Cs.getDocumentsMatchingQuery(d,e,i?o:It.min(),i?h:qt()))).next((p=>(OS(r,yx(e),p),{documents:p,ks:h})))))}function OS(a,e,i){let r=a.Ms.get(e)||It.min();i.forEach(((o,h)=>{h.readTime.compareTo(r)>0&&(r=h.readTime)})),a.Ms.set(e,r)}class E0{constructor(){this.activeTargetIds=xx()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class MS{constructor(){this.vo=new E0,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,r){}addLocalQueryTarget(e,i=!0){return i&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,i,r){this.Fo[e]=i}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new E0,Promise.resolve()}handleUserChange(e,i,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jS{Mo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T0="ConnectivityMonitor";class x0{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){gt(T0,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){gt(T0,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zu=null;function ud(){return Zu===null?Zu=(function(){return 268435456+Math.round(2147483648*Math.random())})():Zu++,"0x"+Zu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hf="RestConnection",LS={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class kS{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.qo=i+"://"+e.host,this.Uo=`projects/${r}/databases/${o}`,this.$o=this.databaseId.database===cc?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Wo(e,i,r,o,h){const d=ud(),p=this.Qo(e,i.toUriEncodedString());gt(Hf,`Sending RPC '${e}' ${d}:`,p,r);const g={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(g,o,h);const{host:v}=new URL(p),T=vd(v);return this.zo(e,p,g,r,T).then((S=>(gt(Hf,`Received RPC '${e}' ${d}: `,S),S)),(S=>{throw kr(Hf,`RPC '${e}' ${d} failed with error: `,S,"url: ",p,"request:",r),S}))}jo(e,i,r,o,h,d){return this.Wo(e,i,r,o,h)}Go(e,i,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Fr})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,h)=>e[h]=o)),r&&r.headers.forEach(((o,h)=>e[h]=o))}Qo(e,i){const r=LS[e];let o=`${this.qo}/v1/${i}:${r}`;return this.databaseInfo.apiKey&&(o=`${o}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),o}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zS{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hn="WebChannelConnection",Kl=(a,e,i)=>{a.listen(e,(r=>{try{i(r)}catch(o){setTimeout((()=>{throw o}),0)}}))};class Mr extends kS{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!Mr.c_){const e=cv();Kl(e,uv.STAT_EVENT,(i=>{i.stat===$f.PROXY?gt(hn,"STAT_EVENT: detected buffering proxy"):i.stat===$f.NOPROXY&&gt(hn,"STAT_EVENT: detected no buffering proxy")})),Mr.c_=!0}}zo(e,i,r,o,h){const d=ud();return new Promise(((p,g)=>{const v=new lv;v.setWithCredentials(!0),v.listenOnce(ov.COMPLETE,(()=>{try{switch(v.getLastErrorCode()){case Ju.NO_ERROR:const S=v.getResponseJson();gt(hn,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(S)),p(S);break;case Ju.TIMEOUT:gt(hn,`RPC '${e}' ${d} timed out`),g(new St(at.DEADLINE_EXCEEDED,"Request time out"));break;case Ju.HTTP_ERROR:const C=v.getStatus();if(gt(hn,`RPC '${e}' ${d} failed with status:`,C,"response text:",v.getResponseText()),C>0){let L=v.getResponseJson();Array.isArray(L)&&(L=L[0]);const Q=L==null?void 0:L.error;if(Q&&Q.status&&Q.message){const $=(function(z){const W=z.toLowerCase().replace(/_/g,"-");return Object.values(at).indexOf(W)>=0?W:at.UNKNOWN})(Q.status);g(new St($,Q.message))}else g(new St(at.UNKNOWN,"Server responded with status "+v.getStatus()))}else g(new St(at.UNAVAILABLE,"Connection failed."));break;default:Dt(9055,{l_:e,streamId:d,h_:v.getLastErrorCode(),P_:v.getLastError()})}}finally{gt(hn,`RPC '${e}' ${d} completed.`)}}));const T=JSON.stringify(o);gt(hn,`RPC '${e}' ${d} sending request:`,o),v.send(i,"POST",T,r,15)}))}T_(e,i,r){const o=ud(),h=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=this.createWebChannelTransport(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Go(p.initMessageHeaders,i,r),p.encodeInitMessageHeaders=!0;const v=h.join("");gt(hn,`Creating RPC '${e}' stream ${o}: ${v}`,p);const T=d.createWebChannel(v,p);this.I_(T);let S=!1,C=!1;const L=new zS({Ho:Q=>{C?gt(hn,`Not sending because RPC '${e}' stream ${o} is closed:`,Q):(S||(gt(hn,`Opening RPC '${e}' stream ${o} transport.`),T.open(),S=!0),gt(hn,`RPC '${e}' stream ${o} sending:`,Q),T.send(Q))},Jo:()=>T.close()});return Kl(T,Zl.EventType.OPEN,(()=>{C||(gt(hn,`RPC '${e}' stream ${o} transport opened.`),L.i_())})),Kl(T,Zl.EventType.CLOSE,(()=>{C||(C=!0,gt(hn,`RPC '${e}' stream ${o} transport closed`),L.o_(),this.E_(T))})),Kl(T,Zl.EventType.ERROR,(Q=>{C||(C=!0,kr(hn,`RPC '${e}' stream ${o} transport errored. Name:`,Q.name,"Message:",Q.message),L.o_(new St(at.UNAVAILABLE,"The operation could not be completed")))})),Kl(T,Zl.EventType.MESSAGE,(Q=>{var $;if(!C){const k=Q.data[0];ne(!!k,16349);const z=k,W=(z==null?void 0:z.error)||(($=z[0])==null?void 0:$.error);if(W){gt(hn,`RPC '${e}' stream ${o} received error:`,W);const ot=W.status;let pt=(function(R){const A=Be[R];if(A!==void 0)return Fv(A)})(ot),yt=W.message;pt===void 0&&(pt=at.INTERNAL,yt="Unknown error status: "+ot+" with message "+W.message),C=!0,L.o_(new St(pt,yt)),T.close()}else gt(hn,`RPC '${e}' stream ${o} received:`,k),L.__(k)}})),Mr.u_(),setTimeout((()=>{L.s_()}),0),L}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((i=>i===e))}Go(e,i,r){super.Go(e,i,r),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return hv()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function US(a){return new Mr(a)}function Ff(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nc(a){return new Hx(a,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Mr.c_=!1;class a_{constructor(e,i,r=1e3,o=1.5,h=6e4){this.Ci=e,this.timerId=i,this.R_=r,this.A_=o,this.V_=h,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const i=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-r);o>0&&gt("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.d_} ms, delay with jitter: ${i} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S0="PersistentStream";class r_{constructor(e,i,r,o,h,d,p,g){this.Ci=e,this.b_=r,this.S_=o,this.connection=h,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new a_(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===at.RESOURCE_EXHAUSTED?(as(i.toString()),as("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===at.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(i)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.D_===i&&this.G_(r,o)}),(r=>{e((()=>{const o=new St(at.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)}))}))}G_(e,i){const r=this.Q_(this.D_);this.stream=this.j_(e,i),this.stream.Zo((()=>{r((()=>this.listener.Zo()))})),this.stream.Yo((()=>{r((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((o=>{r((()=>this.z_(o)))})),this.stream.onMessage((o=>{r((()=>++this.F_==1?this.H_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return gt(S0,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return i=>{this.Ci.enqueueAndForget((()=>this.D_===e?i():(gt(S0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class BS extends r_{constructor(e,i,r,o,h,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,r,o,d),this.serializer=h}j_(e,i){return this.connection.T_("Listen",e,i)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=Qx(this.serializer,e),r=(function(h){if(!("targetChange"in h))return It.min();const d=h.targetChange;return d.targetIds&&d.targetIds.length?It.min():d.readTime?Oi(d.readTime):It.min()})(e);return this.listener.J_(i,r)}Z_(e){const i={};i.database=ld(this.serializer),i.addTarget=(function(h,d){let p;const g=d.target;if(p=nd(g)?{documents:Xx(h,g)}:{query:Zx(h,g).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=Yv(h,d.resumeToken);const v=sd(h,d.expectedCount);v!==null&&(p.expectedCount=v)}else if(d.snapshotVersion.compareTo(It.min())>0){p.readTime=gc(h,d.snapshotVersion.toTimestamp());const v=sd(h,d.expectedCount);v!==null&&(p.expectedCount=v)}return p})(this.serializer,e);const r=Jx(this.serializer,e);r&&(i.labels=r),this.K_(i)}X_(e){const i={};i.database=ld(this.serializer),i.removeTarget=e,this.K_(i)}}class PS extends r_{constructor(e,i,r,o,h,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,r,o,d),this.serializer=h}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}H_(e){return ne(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ne(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){ne(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=Kx(e.writeResults,e.commitTime),r=Oi(e.commitTime);return this.listener.na(r,i)}ra(){const e={};e.database=ld(this.serializer),this.K_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((r=>Yx(this.serializer,r)))};this.K_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qS{}class HS extends qS{constructor(e,i,r,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new St(at.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,i,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,d])=>this.connection.Wo(e,ad(i,r),o,h,d))).catch((h=>{throw h.name==="FirebaseError"?(h.code===at.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new St(at.UNKNOWN,h.toString())}))}jo(e,i,r,o,h){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.jo(e,ad(i,r),o,d,p,h))).catch((d=>{throw d.name==="FirebaseError"?(d.code===at.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new St(at.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function FS(a,e,i,r){return new HS(a,e,i,r)}class GS{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(as(i),this.aa=!1):gt("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oa="RemoteStore";class QS{constructor(e,i,r,o,h){this.localStore=e,this.datastore=i,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=h,this.Aa.Mo((d=>{r.enqueueAndForget((async()=>{ka(this)&&(gt(Oa,"Restarting streams for network reachability change."),await(async function(g){const v=Vt(g);v.Ea.add(4),await To(v),v.Va.set("Unknown"),v.Ea.delete(4),await Vc(v)})(this))}))})),this.Va=new GS(r,o)}}async function Vc(a){if(ka(a))for(const e of a.Ra)await e(!0)}async function To(a){for(const e of a.Ra)await e(!1)}function l_(a,e){const i=Vt(a);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),Ud(i)?zd(i):Yr(i).O_()&&kd(i,e))}function Ld(a,e){const i=Vt(a),r=Yr(i);i.Ia.delete(e),r.O_()&&o_(i,e),i.Ia.size===0&&(r.O_()?r.L_():ka(i)&&i.Va.set("Unknown"))}function kd(a,e){if(a.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(It.min())>0){const i=a.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Yr(a).Z_(e)}function o_(a,e){a.da.$e(e),Yr(a).X_(e)}function zd(a){a.da=new Ux({getRemoteKeysForTarget:e=>a.remoteSyncer.getRemoteKeysForTarget(e),At:e=>a.Ia.get(e)||null,ht:()=>a.datastore.serializer.databaseId}),Yr(a).start(),a.Va.ua()}function Ud(a){return ka(a)&&!Yr(a).x_()&&a.Ia.size>0}function ka(a){return Vt(a).Ea.size===0}function u_(a){a.da=void 0}async function YS(a){a.Va.set("Online")}async function KS(a){a.Ia.forEach(((e,i)=>{kd(a,e)}))}async function XS(a,e){u_(a),Ud(a)?(a.Va.ha(e),zd(a)):a.Va.set("Unknown")}async function ZS(a,e,i){if(a.Va.set("Online"),e instanceof Qv&&e.state===2&&e.cause)try{await(async function(o,h){const d=h.cause;for(const p of h.targetIds)o.Ia.has(p)&&(await o.remoteSyncer.rejectListen(p,d),o.Ia.delete(p),o.da.removeTarget(p))})(a,e)}catch(r){gt(Oa,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await yc(a,r)}else if(e instanceof nc?a.da.Xe(e):e instanceof Gv?a.da.st(e):a.da.tt(e),!i.isEqual(It.min()))try{const r=await s_(a.localStore);i.compareTo(r)>=0&&await(function(h,d){const p=h.da.Tt(d);return p.targetChanges.forEach(((g,v)=>{if(g.resumeToken.approximateByteSize()>0){const T=h.Ia.get(v);T&&h.Ia.set(v,T.withResumeToken(g.resumeToken,d))}})),p.targetMismatches.forEach(((g,v)=>{const T=h.Ia.get(g);if(!T)return;h.Ia.set(g,T.withResumeToken(ln.EMPTY_BYTE_STRING,T.snapshotVersion)),o_(h,g);const S=new Ps(T.target,g,v,T.sequenceNumber);kd(h,S)})),h.remoteSyncer.applyRemoteEvent(p)})(a,i)}catch(r){gt(Oa,"Failed to raise snapshot:",r),await yc(a,r)}}async function yc(a,e,i){if(!Qr(e))throw e;a.Ea.add(1),await To(a),a.Va.set("Offline"),i||(i=()=>s_(a.localStore)),a.asyncQueue.enqueueRetryable((async()=>{gt(Oa,"Retrying IndexedDB access"),await i(),a.Ea.delete(1),await Vc(a)}))}function c_(a,e){return e().catch((i=>yc(a,i,e)))}async function Oc(a){const e=Vt(a),i=$s(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:xd;for(;$S(e);)try{const o=await NS(e.localStore,r);if(o===null){e.Ta.length===0&&i.L_();break}r=o.batchId,JS(e,o)}catch(o){await yc(e,o)}h_(e)&&f_(e)}function $S(a){return ka(a)&&a.Ta.length<10}function JS(a,e){a.Ta.push(e);const i=$s(a);i.O_()&&i.Y_&&i.ea(e.mutations)}function h_(a){return ka(a)&&!$s(a).x_()&&a.Ta.length>0}function f_(a){$s(a).start()}async function WS(a){$s(a).ra()}async function t2(a){const e=$s(a);for(const i of a.Ta)e.ea(i.mutations)}async function e2(a,e,i){const r=a.Ta.shift(),o=Dd.from(r,e,i);await c_(a,(()=>a.remoteSyncer.applySuccessfulWrite(o))),await Oc(a)}async function n2(a,e){e&&$s(a).Y_&&await(async function(r,o){if((function(d){return Lx(d)&&d!==at.ABORTED})(o.code)){const h=r.Ta.shift();$s(r).B_(),await c_(r,(()=>r.remoteSyncer.rejectFailedWrite(h.batchId,o))),await Oc(r)}})(a,e),h_(a)&&f_(a)}async function A0(a,e){const i=Vt(a);i.asyncQueue.verifyOperationInProgress(),gt(Oa,"RemoteStore received new credentials");const r=ka(i);i.Ea.add(3),await To(i),r&&i.Va.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await Vc(i)}async function i2(a,e){const i=Vt(a);e?(i.Ea.delete(2),await Vc(i)):e||(i.Ea.add(2),await To(i),i.Va.set("Unknown"))}function Yr(a){return a.ma||(a.ma=(function(i,r,o){const h=Vt(i);return h.sa(),new BS(r,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,o)})(a.datastore,a.asyncQueue,{Zo:YS.bind(null,a),Yo:KS.bind(null,a),t_:XS.bind(null,a),J_:ZS.bind(null,a)}),a.Ra.push((async e=>{e?(a.ma.B_(),Ud(a)?zd(a):a.Va.set("Unknown")):(await a.ma.stop(),u_(a))}))),a.ma}function $s(a){return a.fa||(a.fa=(function(i,r,o){const h=Vt(i);return h.sa(),new PS(r,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,o)})(a.datastore,a.asyncQueue,{Zo:()=>Promise.resolve(),Yo:WS.bind(null,a),t_:n2.bind(null,a),ta:t2.bind(null,a),na:e2.bind(null,a)}),a.Ra.push((async e=>{e?(a.fa.B_(),await Oc(a)):(await a.fa.stop(),a.Ta.length>0&&(gt(Oa,`Stopping write stream with ${a.Ta.length} pending writes`),a.Ta=[]))}))),a.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bd{constructor(e,i,r,o,h){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=r,this.op=o,this.removalCallback=h,this.deferred=new Gs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,r,o,h){const d=Date.now()+r,p=new Bd(e,i,d,o,h);return p.start(r),p}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new St(at.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Pd(a,e){if(as("AsyncQueue",`${e}: ${a}`),Qr(a))return new St(at.UNAVAILABLE,`${e}: ${a}`);throw a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr{static emptySet(e){return new jr(e.comparator)}constructor(e){this.comparator=e?(i,r)=>e(i,r)||wt.comparator(i.key,r.key):(i,r)=>wt.comparator(i.key,r.key),this.keyedMap=$l(),this.sortedSet=new Te(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,r)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof jr)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,h=r.getNext().key;if(!o.isEqual(h))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const r=new jr;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=i,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w0{constructor(){this.ga=new Te(wt.comparator)}track(e){const i=e.doc.key,r=this.ga.get(i);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(i,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(i,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(i):e.type===1&&r.type===2?this.ga=this.ga.insert(i,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):Dt(63341,{Vt:e,pa:r}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,r)=>{e.push(r)})),e}}class qr{constructor(e,i,r,o,h,d,p,g,v){this.query=e,this.docs=i,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=h,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=g,this.hasCachedResults=v}static fromInitialDocuments(e,i,r,o,h){const d=[];return i.forEach((p=>{d.push({type:0,doc:p})})),new qr(e,i,jr.emptySet(i),d,r,o,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&wc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,r=e.docChanges;if(i.length!==r.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==r[o].type||!i[o].doc.isEqual(r[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s2{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class a2{constructor(){this.queries=C0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,r){const o=Vt(i),h=o.queries;o.queries=C0(),h.forEach(((d,p)=>{for(const g of p.ba)g.onError(r)}))})(this,new St(at.ABORTED,"Firestore shutting down"))}}function C0(){return new ja((a=>Nv(a)),wc)}async function d_(a,e){const i=Vt(a);let r=3;const o=e.query;let h=i.queries.get(o);h?!h.Sa()&&e.Da()&&(r=2):(h=new s2,r=e.Da()?0:1);try{switch(r){case 0:h.wa=await i.onListen(o,!0);break;case 1:h.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const p=Pd(d,`Initialization of query '${Ir(e.query)}' failed`);return void e.onError(p)}i.queries.set(o,h),h.ba.push(e),e.va(i.onlineState),h.wa&&e.Fa(h.wa)&&qd(i)}async function m_(a,e){const i=Vt(a),r=e.query;let o=3;const h=i.queries.get(r);if(h){const d=h.ba.indexOf(e);d>=0&&(h.ba.splice(d,1),h.ba.length===0?o=e.Da()?0:1:!h.Sa()&&e.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(r),i.onUnlisten(r,!0);case 1:return i.queries.delete(r),i.onUnlisten(r,!1);case 2:return i.onLastRemoteStoreUnlisten(r);default:return}}function r2(a,e){const i=Vt(a);let r=!1;for(const o of e){const h=o.query,d=i.queries.get(h);if(d){for(const p of d.ba)p.Fa(o)&&(r=!0);d.wa=o}}r&&qd(i)}function l2(a,e,i){const r=Vt(a),o=r.queries.get(e);if(o)for(const h of o.ba)h.onError(i);r.queries.delete(e)}function qd(a){a.Ca.forEach((e=>{e.next()}))}var cd,R0;(R0=cd||(cd={})).Ma="default",R0.Cache="cache";class g_{constructor(e,i,r){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)o.type!==3&&r.push(o);e=new qr(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const r=i!=="Offline";return(!this.options.Ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=qr.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==cd.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p_{constructor(e){this.key=e}}class y_{constructor(e){this.key=e}}class o2{constructor(e,i){this.query=e,this.Za=i,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=qt(),this.mutatedKeys=qt(),this.eu=Vv(e),this.tu=new jr(this.eu)}get nu(){return this.Za}ru(e,i){const r=i?i.iu:new w0,o=i?i.tu:this.tu;let h=i?i.mutatedKeys:this.mutatedKeys,d=o,p=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,v=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((T,S)=>{const C=o.get(T),L=Cc(this.query,S)?S:null,Q=!!C&&this.mutatedKeys.has(C.key),$=!!L&&(L.hasLocalMutations||this.mutatedKeys.has(L.key)&&L.hasCommittedMutations);let k=!1;C&&L?C.data.isEqual(L.data)?Q!==$&&(r.track({type:3,doc:L}),k=!0):this.su(C,L)||(r.track({type:2,doc:L}),k=!0,(g&&this.eu(L,g)>0||v&&this.eu(L,v)<0)&&(p=!0)):!C&&L?(r.track({type:0,doc:L}),k=!0):C&&!L&&(r.track({type:1,doc:C}),k=!0,(g||v)&&(p=!0)),k&&(L?(d=d.add(L),h=$?h.add(T):h.delete(T)):(d=d.delete(T),h=h.delete(T)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const T=this.query.limitType==="F"?d.last():d.first();d=d.delete(T.key),h=h.delete(T.key),r.track({type:1,doc:T})}return{tu:d,iu:r,Ss:p,mutatedKeys:h}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,r,o){const h=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((T,S)=>(function(L,Q){const $=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Dt(20277,{Vt:k})}};return $(L)-$(Q)})(T.type,S.type)||this.eu(T.doc,S.doc))),this.ou(r),o=o??!1;const p=i&&!o?this._u():[],g=this.Ya.size===0&&this.current&&!o?1:0,v=g!==this.Xa;return this.Xa=g,d.length!==0||v?{snapshot:new qr(this.query,e.tu,h,d,e.mutatedKeys,g===0,v,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new w0,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Za=this.Za.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Za=this.Za.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=qt(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))}));const i=[];return e.forEach((r=>{this.Ya.has(r)||i.push(new y_(r))})),this.Ya.forEach((r=>{e.has(r)||i.push(new p_(r))})),i}cu(e){this.Za=e.ks,this.Ya=qt();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return qr.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const Hd="SyncEngine";class u2{constructor(e,i,r){this.query=e,this.targetId=i,this.view=r}}class c2{constructor(e){this.key=e,this.hu=!1}}class h2{constructor(e,i,r,o,h,d){this.localStore=e,this.remoteStore=i,this.eventManager=r,this.sharedClientState=o,this.currentUser=h,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new ja((p=>Nv(p)),wc),this.Iu=new Map,this.Eu=new Set,this.Ru=new Te(wt.comparator),this.Au=new Map,this.Vu=new Vd,this.du={},this.mu=new Map,this.fu=Pr.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function f2(a,e,i=!0){const r=x_(a);let o;const h=r.Tu.get(e);return h?(r.sharedClientState.addLocalQueryTarget(h.targetId),o=h.view.lu()):o=await v_(r,e,i,!0),o}async function d2(a,e){const i=x_(a);await v_(i,e,!0,!1)}async function v_(a,e,i,r){const o=await VS(a.localStore,Vi(e)),h=o.targetId,d=a.sharedClientState.addLocalQueryTarget(h,i);let p;return r&&(p=await m2(a,e,h,d==="current",o.resumeToken)),a.isPrimaryClient&&i&&l_(a.remoteStore,o),p}async function m2(a,e,i,r,o){a.pu=(S,C,L)=>(async function($,k,z,W){let ot=k.view.ru(z);ot.Ss&&(ot=await b0($.localStore,k.query,!1).then((({documents:R})=>k.view.ru(R,ot))));const pt=W&&W.targetChanges.get(k.targetId),yt=W&&W.targetMismatches.get(k.targetId)!=null,xt=k.view.applyChanges(ot,$.isPrimaryClient,pt,yt);return I0($,k.targetId,xt.au),xt.snapshot})(a,S,C,L);const h=await b0(a.localStore,e,!0),d=new o2(e,h.ks),p=d.ru(h.documents),g=Eo.createSynthesizedTargetChangeForCurrentChange(i,r&&a.onlineState!=="Offline",o),v=d.applyChanges(p,a.isPrimaryClient,g);I0(a,i,v.au);const T=new u2(e,i,d);return a.Tu.set(e,T),a.Iu.has(i)?a.Iu.get(i).push(e):a.Iu.set(i,[e]),v.snapshot}async function g2(a,e,i){const r=Vt(a),o=r.Tu.get(e),h=r.Iu.get(o.targetId);if(h.length>1)return r.Iu.set(o.targetId,h.filter((d=>!wc(d,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await od(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),i&&Ld(r.remoteStore,o.targetId),hd(r,o.targetId)})).catch(Gr)):(hd(r,o.targetId),await od(r.localStore,o.targetId,!0))}async function p2(a,e){const i=Vt(a),r=i.Tu.get(e),o=i.Iu.get(r.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(r.targetId),Ld(i.remoteStore,r.targetId))}async function y2(a,e,i){const r=S2(a);try{const o=await(function(d,p){const g=Vt(d),v=ye.now(),T=p.reduce(((L,Q)=>L.add(Q.key)),qt());let S,C;return g.persistence.runTransaction("Locally write mutations","readwrite",(L=>{let Q=rs(),$=qt();return g.xs.getEntries(L,T).next((k=>{Q=k,Q.forEach(((z,W)=>{W.isValidDocument()||($=$.add(z))}))})).next((()=>g.localDocuments.getOverlayedDocuments(L,Q))).next((k=>{S=k;const z=[];for(const W of p){const ot=Nx(W,S.get(W.key).overlayedDocument);ot!=null&&z.push(new La(W.key,ot,Sv(ot.value.mapValue),is.exists(!0)))}return g.mutationQueue.addMutationBatch(L,v,z,p)})).next((k=>{C=k;const z=k.applyToLocalDocumentSet(S,$);return g.documentOverlayCache.saveOverlays(L,k.batchId,z)}))})).then((()=>({batchId:C.batchId,changes:Mv(S)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),(function(d,p,g){let v=d.du[d.currentUser.toKey()];v||(v=new Te(Pt)),v=v.insert(p,g),d.du[d.currentUser.toKey()]=v})(r,o.batchId,i),await xo(r,o.changes),await Oc(r.remoteStore)}catch(o){const h=Pd(o,"Failed to persist write");i.reject(h)}}async function __(a,e){const i=Vt(a);try{const r=await DS(i.localStore,e);e.targetChanges.forEach(((o,h)=>{const d=i.Au.get(h);d&&(ne(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?ne(d.hu,14607):o.removedDocuments.size>0&&(ne(d.hu,42227),d.hu=!1))})),await xo(i,r,e)}catch(r){await Gr(r)}}function D0(a,e,i){const r=Vt(a);if(r.isPrimaryClient&&i===0||!r.isPrimaryClient&&i===1){const o=[];r.Tu.forEach(((h,d)=>{const p=d.view.va(e);p.snapshot&&o.push(p.snapshot)})),(function(d,p){const g=Vt(d);g.onlineState=p;let v=!1;g.queries.forEach(((T,S)=>{for(const C of S.ba)C.va(p)&&(v=!0)})),v&&qd(g)})(r.eventManager,e),o.length&&r.Pu.J_(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function v2(a,e,i){const r=Vt(a);r.sharedClientState.updateQueryState(e,"rejected",i);const o=r.Au.get(e),h=o&&o.key;if(h){let d=new Te(wt.comparator);d=d.insert(h,dn.newNoDocument(h,It.min()));const p=qt().add(h),g=new Ic(It.min(),new Map,new Te(Pt),d,p);await __(r,g),r.Ru=r.Ru.remove(h),r.Au.delete(e),Fd(r)}else await od(r.localStore,e,!1).then((()=>hd(r,e,i))).catch(Gr)}async function _2(a,e){const i=Vt(a),r=e.batch.batchId;try{const o=await RS(i.localStore,e);E_(i,r,null),b_(i,r),i.sharedClientState.updateMutationState(r,"acknowledged"),await xo(i,o)}catch(o){await Gr(o)}}async function b2(a,e,i){const r=Vt(a);try{const o=await(function(d,p){const g=Vt(d);return g.persistence.runTransaction("Reject batch","readwrite-primary",(v=>{let T;return g.mutationQueue.lookupMutationBatch(v,p).next((S=>(ne(S!==null,37113),T=S.keys(),g.mutationQueue.removeMutationBatch(v,S)))).next((()=>g.mutationQueue.performConsistencyCheck(v))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(v,T,p))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,T))).next((()=>g.localDocuments.getDocuments(v,T)))}))})(r.localStore,e);E_(r,e,i),b_(r,e),r.sharedClientState.updateMutationState(e,"rejected",i),await xo(r,o)}catch(o){await Gr(o)}}function b_(a,e){(a.mu.get(e)||[]).forEach((i=>{i.resolve()})),a.mu.delete(e)}function E_(a,e,i){const r=Vt(a);let o=r.du[r.currentUser.toKey()];if(o){const h=o.get(e);h&&(i?h.reject(i):h.resolve(),o=o.remove(e)),r.du[r.currentUser.toKey()]=o}}function hd(a,e,i=null){a.sharedClientState.removeLocalQueryTarget(e);for(const r of a.Iu.get(e))a.Tu.delete(r),i&&a.Pu.yu(r,i);a.Iu.delete(e),a.isPrimaryClient&&a.Vu.Gr(e).forEach((r=>{a.Vu.containsKey(r)||T_(a,r)}))}function T_(a,e){a.Eu.delete(e.path.canonicalString());const i=a.Ru.get(e);i!==null&&(Ld(a.remoteStore,i),a.Ru=a.Ru.remove(e),a.Au.delete(i),Fd(a))}function I0(a,e,i){for(const r of i)r instanceof p_?(a.Vu.addReference(r.key,e),E2(a,r)):r instanceof y_?(gt(Hd,"Document no longer in limbo: "+r.key),a.Vu.removeReference(r.key,e),a.Vu.containsKey(r.key)||T_(a,r.key)):Dt(19791,{wu:r})}function E2(a,e){const i=e.key,r=i.path.canonicalString();a.Ru.get(i)||a.Eu.has(r)||(gt(Hd,"New document in limbo: "+i),a.Eu.add(r),Fd(a))}function Fd(a){for(;a.Eu.size>0&&a.Ru.size<a.maxConcurrentLimboResolutions;){const e=a.Eu.values().next().value;a.Eu.delete(e);const i=new wt(Ee.fromString(e)),r=a.fu.next();a.Au.set(r,new c2(i)),a.Ru=a.Ru.insert(i,r),l_(a.remoteStore,new Ps(Vi(Ac(i.path)),r,"TargetPurposeLimboResolution",Ec.ce))}}async function xo(a,e,i){const r=Vt(a),o=[],h=[],d=[];r.Tu.isEmpty()||(r.Tu.forEach(((p,g)=>{d.push(r.pu(g,e,i).then((v=>{var T;if((v||i)&&r.isPrimaryClient){const S=v?!v.fromCache:(T=i==null?void 0:i.targetChanges.get(g.targetId))==null?void 0:T.current;r.sharedClientState.updateQueryState(g.targetId,S?"current":"not-current")}if(v){o.push(v);const S=Md.Es(g.targetId,v);h.push(S)}})))})),await Promise.all(d),r.Pu.J_(o),await(async function(g,v){const T=Vt(g);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>st.forEach(v,(C=>st.forEach(C.Ts,(L=>T.persistence.referenceDelegate.addReference(S,C.targetId,L))).next((()=>st.forEach(C.Is,(L=>T.persistence.referenceDelegate.removeReference(S,C.targetId,L)))))))))}catch(S){if(!Qr(S))throw S;gt(jd,"Failed to update sequence numbers: "+S)}for(const S of v){const C=S.targetId;if(!S.fromCache){const L=T.vs.get(C),Q=L.snapshotVersion,$=L.withLastLimboFreeSnapshotVersion(Q);T.vs=T.vs.insert(C,$)}}})(r.localStore,h))}async function T2(a,e){const i=Vt(a);if(!i.currentUser.isEqual(e)){gt(Hd,"User change. New user:",e.toKey());const r=await i_(i.localStore,e);i.currentUser=e,(function(h,d){h.mu.forEach((p=>{p.forEach((g=>{g.reject(new St(at.CANCELLED,d))}))})),h.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await xo(i,r.Ns)}}function x2(a,e){const i=Vt(a),r=i.Au.get(e);if(r&&r.hu)return qt().add(r.key);{let o=qt();const h=i.Iu.get(e);if(!h)return o;for(const d of h){const p=i.Tu.get(d);o=o.unionWith(p.view.nu)}return o}}function x_(a){const e=Vt(a);return e.remoteStore.remoteSyncer.applyRemoteEvent=__.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=x2.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=v2.bind(null,e),e.Pu.J_=r2.bind(null,e.eventManager),e.Pu.yu=l2.bind(null,e.eventManager),e}function S2(a){const e=Vt(a);return e.remoteStore.remoteSyncer.applySuccessfulWrite=_2.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=b2.bind(null,e),e}class vc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Nc(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return CS(this.persistence,new SS,e.initialUser,this.serializer)}Cu(e){return new n_(Od.Vi,this.serializer)}Du(e){return new MS}async terminate(){var e,i;(e=this.gcScheduler)==null||e.stop(),(i=this.indexBackfillerScheduler)==null||i.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}vc.provider={build:()=>new vc};class A2 extends vc{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){ne(this.persistence.referenceDelegate instanceof pc,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new uS(r,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?Sn.withCacheSize(this.cacheSizeBytes):Sn.DEFAULT;return new n_((r=>pc.Vi(r,i)),this.serializer)}}class fd{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>D0(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=T2.bind(null,this.syncEngine),await i2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new a2})()}createDatastore(e){const i=Nc(e.databaseInfo.databaseId),r=US(e.databaseInfo);return FS(e.authCredentials,e.appCheckCredentials,r,i)}createRemoteStore(e){return(function(r,o,h,d,p){return new QS(r,o,h,d,p)})(this.localStore,this.datastore,e.asyncQueue,(i=>D0(this.syncEngine,i,0)),(function(){return x0.v()?new x0:new jS})())}createSyncEngine(e,i){return(function(o,h,d,p,g,v,T){const S=new h2(o,h,d,p,g,v);return T&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){var e,i;await(async function(o){const h=Vt(o);gt(Oa,"RemoteStore shutting down."),h.Ea.add(5),await To(h),h.Aa.shutdown(),h.Va.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(i=this.eventManager)==null||i.terminate()}}fd.provider={build:()=>new fd};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S_{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):as("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Js="FirestoreClient";class w2{constructor(e,i,r,o,h){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=r,this._databaseInfo=o,this.user=fn.UNAUTHENTICATED,this.clientId=Ed.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(r,(async d=>{gt(Js,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(r,(d=>(gt(Js,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Gs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const r=Pd(i,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Gf(a,e){a.asyncQueue.verifyOperationInProgress(),gt(Js,"Initializing OfflineComponentProvider");const i=a.configuration;await e.initialize(i);let r=i.initialUser;a.setCredentialChangeListener((async o=>{r.isEqual(o)||(await i_(e.localStore,o),r=o)})),e.persistence.setDatabaseDeletedListener((()=>a.terminate())),a._offlineComponents=e}async function N0(a,e){a.asyncQueue.verifyOperationInProgress();const i=await C2(a);gt(Js,"Initializing OnlineComponentProvider"),await e.initialize(i,a.configuration),a.setCredentialChangeListener((r=>A0(e.remoteStore,r))),a.setAppCheckTokenChangeListener(((r,o)=>A0(e.remoteStore,o))),a._onlineComponents=e}async function C2(a){if(!a._offlineComponents)if(a._uninitializedComponentsProvider){gt(Js,"Using user provided OfflineComponentProvider");try{await Gf(a,a._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(o){return o.name==="FirebaseError"?o.code===at.FAILED_PRECONDITION||o.code===at.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;kr("Error using user provided cache. Falling back to memory cache: "+i),await Gf(a,new vc)}}else gt(Js,"Using default OfflineComponentProvider"),await Gf(a,new A2(void 0));return a._offlineComponents}async function A_(a){return a._onlineComponents||(a._uninitializedComponentsProvider?(gt(Js,"Using user provided OnlineComponentProvider"),await N0(a,a._uninitializedComponentsProvider._online)):(gt(Js,"Using default OnlineComponentProvider"),await N0(a,new fd))),a._onlineComponents}function R2(a){return A_(a).then((e=>e.syncEngine))}async function dd(a){const e=await A_(a),i=e.eventManager;return i.onListen=f2.bind(null,e.syncEngine),i.onUnlisten=g2.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=d2.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=p2.bind(null,e.syncEngine),i}function D2(a,e,i,r){const o=new S_(r),h=new g_(e,o,i);return a.asyncQueue.enqueueAndForget((async()=>d_(await dd(a),h))),()=>{o.Nu(),a.asyncQueue.enqueueAndForget((async()=>m_(await dd(a),h)))}}function I2(a,e,i={}){const r=new Gs;return a.asyncQueue.enqueueAndForget((async()=>(function(h,d,p,g,v){const T=new S_({next:C=>{T.Nu(),d.enqueueAndForget((()=>m_(h,S)));const L=C.docs.has(p);!L&&C.fromCache?v.reject(new St(at.UNAVAILABLE,"Failed to get document because the client is offline.")):L&&C.fromCache&&g&&g.source==="server"?v.reject(new St(at.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):v.resolve(C)},error:C=>v.reject(C)}),S=new g_(Ac(p.path),T,{includeMetadataChanges:!0,Ka:!0});return d_(h,S)})(await dd(a),a.asyncQueue,e,i,r))),r.promise}function N2(a,e){const i=new Gs;return a.asyncQueue.enqueueAndForget((async()=>y2(await R2(a),e,i))),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w_(a){const e={};return a.timeoutSeconds!==void 0&&(e.timeoutSeconds=a.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V2="ComponentProvider",V0=new Map;function O2(a,e,i,r,o){return new JT(a,e,i,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,w_(o.experimentalLongPollingOptions),o.useFetchStreams,o.isUsingEmulator,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C_="firestore.googleapis.com",O0=!0;class M0{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new St(at.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=C_,this.ssl=O0}else this.host=e.host,this.ssl=e.ssl??O0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=e_;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<lS)throw new St(at.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}PT("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=w_(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new St(at.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new St(at.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new St(at.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Gd{constructor(e,i,r,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new M0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new St(at.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new St(at.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new M0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new IT;switch(r.type){case"firstParty":return new MT(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new St(at.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const r=V0.get(i);r&&(gt(V2,"Removing Datastore"),V0.delete(i),r.terminate())})(this),Promise.resolve()}}function M2(a,e,i,r={}){var v;a=Qs(a,Gd);const o=vd(e),h=a._getSettings(),d={...h,emulatorOptions:a._getEmulatorOptions()},p=`${e}:${i}`;o&&(s1(`https://${p}`),o1("Firestore",!0)),h.host!==C_&&h.host!==p&&kr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...h,host:p,ssl:o,emulatorOptions:r};if(!rc(g,d)&&(a._setSettings(g),r.mockUserToken)){let T,S;if(typeof r.mockUserToken=="string")T=r.mockUserToken,S=fn.MOCK_USER;else{T=a1(r.mockUserToken,(v=a._app)==null?void 0:v.options.projectId);const C=r.mockUserToken.sub||r.mockUserToken.user_id;if(!C)throw new St(at.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");S=new fn(C)}a._authCredentials=new NT(new dv(T,S))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mc{constructor(e,i,r){this.converter=i,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Mc(this.firestore,e,this._query)}}class Fe{constructor(e,i,r){this.converter=i,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new yo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Fe(this.firestore,e,this._key)}toJSON(){return{type:Fe._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,r){if(_o(i,Fe._jsonSchema))return new Fe(e,r||null,new wt(Ee.fromString(i.referencePath)))}}Fe._jsonSchemaVersion="firestore/documentReference/1.0",Fe._jsonSchema={type:Pe("string",Fe._jsonSchemaVersion),referencePath:Pe("string")};class yo extends Mc{constructor(e,i,r){super(e,i,Ac(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Fe(this.firestore,null,new wt(e))}withConverter(e){return new yo(this.firestore,e,this._path)}}function Qd(a,e,...i){if(a=ro(a),arguments.length===1&&(e=Ed.newId()),BT("doc","path",e),a instanceof Gd){const r=Ee.fromString(e,...i);return Ky(r),new Fe(a,null,new wt(r))}{if(!(a instanceof Fe||a instanceof yo))throw new St(at.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=a._path.child(Ee.fromString(e,...i));return Ky(r),new Fe(a.firestore,a instanceof yo?a.converter:null,new wt(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j0="AsyncQueue";class L0{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new a_(this,"async_queue_retry"),this._c=()=>{const r=Ff();r&&gt(j0,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const i=Ff();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=Ff();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Gs;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!Qr(e))throw e;gt(j0,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,as("INTERNAL UNHANDLED ERROR: ",k0(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=i,i}enqueueAfterDelay(e,i,r){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const o=Bd.createAndSchedule(this,e,i,r,(h=>this.hc(h)));return this.tc.push(o),o}uc(){this.nc&&Dt(47125,{Pc:k0(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,r)=>i.targetTimeMs-r.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function k0(a){let e=a.message||"";return a.stack&&(e=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),e}class vo extends Gd{constructor(e,i,r,o){super(e,i,r,o),this.type="firestore",this._queue=new L0,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new L0(e),this._firestoreClient=void 0,await e}}}function j2(a,e){const i=typeof a=="object"?a:vT(),r=typeof a=="string"?a:cc,o=dT(i,"firestore").getImmediate({identifier:r});if(!o._initialized){const h=n1("firestore");h&&M2(o,...h)}return o}function Yd(a){if(a._terminated)throw new St(at.FAILED_PRECONDITION,"The client has already been terminated.");return a._firestoreClient||L2(a),a._firestoreClient}function L2(a){var r,o,h,d;const e=a._freezeSettings(),i=O2(a._databaseId,((r=a._app)==null?void 0:r.options.appId)||"",a._persistenceKey,(o=a._app)==null?void 0:o.options.apiKey,e);a._componentsProvider||(h=e.localCache)!=null&&h._offlineComponentProvider&&((d=e.localCache)!=null&&d._onlineComponentProvider)&&(a._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),a._firestoreClient=new w2(a._authCredentials,a._appCheckCredentials,a._queue,i,a._componentsProvider&&(function(g){const v=g==null?void 0:g._online.build();return{_offline:g==null?void 0:g._offline.build(v),_online:v}})(a._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new $n(ln.fromBase64String(e))}catch(i){throw new St(at.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new $n(ln.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:$n._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(_o(e,$n._jsonSchema))return $n.fromBase64String(e.bytes)}}$n._jsonSchemaVersion="firestore/bytes/1.0",$n._jsonSchema={type:Pe("string",$n._jsonSchemaVersion),bytes:Pe("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R_{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new St(at.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new rn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kd{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new St(at.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new St(at.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Pt(this._lat,e._lat)||Pt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Mi._jsonSchemaVersion}}static fromJSON(e){if(_o(e,Mi._jsonSchema))return new Mi(e.latitude,e.longitude)}}Mi._jsonSchemaVersion="firestore/geoPoint/1.0",Mi._jsonSchema={type:Pe("string",Mi._jsonSchemaVersion),latitude:Pe("number"),longitude:Pe("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ui{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,o){if(r.length!==o.length)return!1;for(let h=0;h<r.length;++h)if(r[h]!==o[h])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ui._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(_o(e,ui._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new ui(e.vectorValues);throw new St(at.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ui._jsonSchemaVersion="firestore/vectorValue/1.0",ui._jsonSchema={type:Pe("string",ui._jsonSchemaVersion),vectorValues:Pe("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k2=/^__.*__$/;class z2{constructor(e,i,r){this.data=e,this.fieldMask=i,this.fieldTransforms=r}toMutation(e,i){return this.fieldMask!==null?new La(e,this.data,this.fieldMask,i,this.fieldTransforms):new bo(e,this.data,i,this.fieldTransforms)}}function D_(a){switch(a){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Dt(40011,{dataSource:a})}}class Xd{constructor(e,i,r,o,h,d){this.settings=e,this.databaseId=i,this.serializer=r,this.ignoreUndefinedProperties=o,h===void 0&&this.validatePath(),this.fieldTransforms=h||[],this.fieldMask=d||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new Xd({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){var o;const i=(o=this.path)==null?void 0:o.child(e),r=this.contextWith({path:i,arrayElement:!1});return r.validatePathSegment(e),r}childContextForFieldPath(e){var o;const i=(o=this.path)==null?void 0:o.child(e),r=this.contextWith({path:i,arrayElement:!1});return r.validatePath(),r}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return _c(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(D_(this.dataSource)&&k2.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class U2{constructor(e,i,r){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=r||Nc(e)}createContext(e,i,r,o=!1){return new Xd({dataSource:e,methodName:i,targetDoc:r,path:rn.emptyPath(),arrayElement:!1,hasConverter:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function B2(a){const e=a._freezeSettings(),i=Nc(a._databaseId);return new U2(a._databaseId,!!e.ignoreUndefinedProperties,i)}function P2(a,e,i,r,o,h={}){const d=a.createContext(h.merge||h.mergeFields?2:0,e,i,o);O_("Data must be an object, but it was:",d,r);const p=N_(r,d);let g,v;if(h.merge)g=new oi(d.fieldMask),v=d.fieldTransforms;else if(h.mergeFields){const T=[];for(const S of h.mergeFields){const C=$d(e,S,i);if(!d.contains(C))throw new St(at.INVALID_ARGUMENT,`Field '${C}' is specified in your field mask but missing from your input data.`);F2(T,C)||T.push(C)}g=new oi(T),v=d.fieldTransforms.filter((S=>g.covers(S.field)))}else g=null,v=d.fieldTransforms;return new z2(new Zn(p),g,v)}class Zd extends Kd{_toFieldTransform(e){return new Cx(e.path,new mo)}isEqual(e){return e instanceof Zd}}function I_(a,e){if(V_(a=ro(a)))return O_("Unsupported field value:",e,a),N_(a,e);if(a instanceof Kd)return(function(r,o){if(!D_(o.dataSource))throw o.createError(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.createError(`${r._methodName}() is not currently supported inside arrays`);const h=r._toFieldTransform(o);h&&o.fieldTransforms.push(h)})(a,e),null;if(a===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),a instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(r,o){const h=[];let d=0;for(const p of r){let g=I_(p,o.childContextForArray(d));g==null&&(g={nullValue:"NULL_VALUE"}),h.push(g),d++}return{arrayValue:{values:h}}})(a,e)}return(function(r,o){if((r=ro(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Sx(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const h=ye.fromDate(r);return{timestampValue:gc(o.serializer,h)}}if(r instanceof ye){const h=new ye(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:gc(o.serializer,h)}}if(r instanceof Mi)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof $n)return{bytesValue:Yv(o.serializer,r._byteString)};if(r instanceof Fe){const h=o.databaseId,d=r.firestore._databaseId;if(!d.isEqual(h))throw o.createError(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:Nd(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof ui)return(function(d,p){const g=d instanceof ui?d.toArray():d;return{mapValue:{fields:{[Tv]:{stringValue:xv},[hc]:{arrayValue:{values:g.map((T=>{if(typeof T!="number")throw p.createError("VectorValues must only contain numeric values.");return Rd(p.serializer,T)}))}}}}}})(r,o);if(t_(r))return r._toProto(o.serializer);throw o.createError(`Unsupported field value: ${Td(r)}`)})(a,e)}function N_(a,e){const i={};return pv(a)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ma(a,((r,o)=>{const h=I_(o,e.childContextForField(r));h!=null&&(i[r]=h)})),{mapValue:{fields:i}}}function V_(a){return!(typeof a!="object"||a===null||a instanceof Array||a instanceof Date||a instanceof ye||a instanceof Mi||a instanceof $n||a instanceof Fe||a instanceof Kd||a instanceof ui||t_(a))}function O_(a,e,i){if(!V_(i)||!mv(i)){const r=Td(i);throw r==="an object"?e.createError(a+" a custom object"):e.createError(a+" "+r)}}function $d(a,e,i){if((e=ro(e))instanceof R_)return e._internalPath;if(typeof e=="string")return H2(a,e);throw _c("Field path arguments must be of type string or ",a,!1,void 0,i)}const q2=new RegExp("[~\\*/\\[\\]]");function H2(a,e,i){if(e.search(q2)>=0)throw _c(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,a,!1,void 0,i);try{return new R_(...e.split("."))._internalPath}catch{throw _c(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,a,!1,void 0,i)}}function _c(a,e,i,r,o){const h=r&&!r.isEmpty(),d=o!==void 0;let p=`Function ${e}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let g="";return(h||d)&&(g+=" (found",h&&(g+=` in field ${r}`),d&&(g+=` in document ${o}`),g+=")"),new St(at.INVALID_ARGUMENT,p+a+g)}function F2(a,e){return a.some((i=>i.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G2{convertValue(e,i="none"){switch(Zs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ie(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(Xs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw Dt(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const r={};return Ma(e,((o,h)=>{r[o]=this.convertValue(h,i)})),r}convertVectorValue(e){var r,o,h;const i=(h=(o=(r=e.fields)==null?void 0:r[hc].arrayValue)==null?void 0:o.values)==null?void 0:h.map((d=>Ie(d.doubleValue)));return new ui(i)}convertGeoPoint(e){return new Mi(Ie(e.latitude),Ie(e.longitude))}convertArray(e,i){return(e.values||[]).map((r=>this.convertValue(r,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const r=xc(e);return r==null?null:this.convertValue(r,i);case"estimate":return this.convertTimestamp(co(e));default:return null}}convertTimestamp(e){const i=Ks(e);return new ye(i.seconds,i.nanos)}convertDocumentKey(e,i){const r=Ee.fromString(e);ne(Wv(r),9688,{name:e});const o=new ho(r.get(1),r.get(3)),h=new wt(r.popFirst(5));return o.isEqual(i)||as(`Document ${h} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),h}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M_ extends G2{constructor(e){super(),this.firestore=e}convertBytes(e){return new $n(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new Fe(this.firestore,null,i)}}function Q2(){return new Zd("serverTimestamp")}const z0="@firebase/firestore",U0="4.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B0(a){return(function(i,r){if(typeof i!="object"||i===null)return!1;const o=i;for(const h of r)if(h in o&&typeof o[h]=="function")return!0;return!1})(a,["next","error","complete"])}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j_{constructor(e,i,r,o,h){this._firestore=e,this._userDataWriter=i,this._key=r,this._document=o,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new Fe(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Y2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){var e;return((e=this._document)==null?void 0:e.data.clone().value.mapValue.fields)??void 0}get(e){if(this._document){const i=this._document.data.field($d("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class Y2 extends j_{data(){return super.data()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K2(a){if(a.limitType==="L"&&a.explicitOrderBy.length===0)throw new St(at.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}function X2(a,e,i){let r;return r=a?i&&(i.merge||i.mergeFields)?a.toFirestore(e,i):a.toFirestore(e):e,r}class Wl{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Na extends j_{constructor(e,i,r,o,h,d){super(e,i,r,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=h}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new ic(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const r=this._document.data.field($d("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new St(at.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=Na._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Na._jsonSchemaVersion="firestore/documentSnapshot/1.0",Na._jsonSchema={type:Pe("string",Na._jsonSchemaVersion),bundleSource:Pe("string","DocumentSnapshot"),bundleName:Pe("string"),bundle:Pe("string")};class ic extends Na{data(e={}){return super.data(e)}}class Lr{constructor(e,i,r,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new Wl(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((r=>{e.call(i,new ic(this._firestore,this._userDataWriter,r.key,r,new Wl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new St(at.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,h){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((p=>{const g=new ic(o._firestore,o._userDataWriter,p.doc.key,p.doc,new Wl(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);return p.doc,{type:"added",doc:g,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((p=>h||p.type!==3)).map((p=>{const g=new ic(o._firestore,o._userDataWriter,p.doc.key,p.doc,new Wl(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let v=-1,T=-1;return p.type!==0&&(v=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),T=d.indexOf(p.doc.key)),{type:Z2(p.type),doc:g,oldIndex:v,newIndex:T}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new St(at.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Lr._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Ed.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],r=[],o=[];return this.docs.forEach((h=>{h._document!==null&&(i.push(h._document),r.push(this._userDataWriter.convertObjectMap(h._document.data.value.mapValue.fields,"previous")),o.push(h.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Z2(a){switch(a){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Dt(61501,{type:a})}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Lr._jsonSchemaVersion="firestore/querySnapshot/1.0",Lr._jsonSchema={type:Pe("string",Lr._jsonSchemaVersion),bundleSource:Pe("string","QuerySnapshot"),bundleName:Pe("string"),bundle:Pe("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $2(a){a=Qs(a,Fe);const e=Qs(a.firestore,vo),i=Yd(e);return I2(i,a._key).then((r=>L_(e,a,r)))}function J2(a,e,i){a=Qs(a,Fe);const r=Qs(a.firestore,vo),o=X2(a.converter,e,i),h=B2(r);return tA(r,[P2(h,"setDoc",a._key,o,a.converter!==null,i).toMutation(a._key,is.none())])}function W2(a,...e){var v,T,S;a=ro(a);let i={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||B0(e[r])||(i=e[r++]);const o={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(B0(e[r])){const C=e[r];e[r]=(v=C.next)==null?void 0:v.bind(C),e[r+1]=(T=C.error)==null?void 0:T.bind(C),e[r+2]=(S=C.complete)==null?void 0:S.bind(C)}let h,d,p;if(a instanceof Fe)d=Qs(a.firestore,vo),p=Ac(a._key.path),h={next:C=>{e[r]&&e[r](L_(d,a,C))},error:e[r+1],complete:e[r+2]};else{const C=Qs(a,Mc);d=Qs(C.firestore,vo),p=C._query;const L=new M_(d);h={next:Q=>{e[r]&&e[r](new Lr(d,L,C,Q))},error:e[r+1],complete:e[r+2]},K2(a._query)}const g=Yd(d);return D2(g,p,o,h)}function tA(a,e){const i=Yd(a);return N2(i,e)}function L_(a,e,i){const r=i.docs.get(e._key),o=new M_(a);return new Na(a,o,e._key,r,new Wl(i.hasPendingWrites,i.fromCache),e.converter)}(function(e,i=!0){DT(yT),oc(new lo("firestore",((r,{instanceIdentifier:o,options:h})=>{const d=r.getProvider("app").getImmediate(),p=new vo(new VT(r.getProvider("auth-internal")),new jT(d,r.getProvider("app-check-internal")),WT(d,o),d);return h={useFetchStreams:i,...h},p._setSettings(h),p}),"PUBLIC").setMultipleInstances(!0)),Or(z0,U0,e),Or(z0,U0,"esm2020")})();var eA="firebase",nA="12.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Or(eA,nA,"app");const iA={apiKey:"AIzaSyAZBf9fUWZoXnYJyBvBGEvpiu7DbHkG5Iw",authDomain:"crm-ver2.firebaseapp.com",projectId:"crm-ver2",storageBucket:"crm-ver2.firebasestorage.app",messagingSenderId:"993359540287",appId:"1:993359540287:web:5469df3e5d22c4b480088a"},sA=iv(iA),Jd=j2(sA),Wd="default",tm="workspaces";function aA(a){return{...a,tabs:a.tabs.map(e=>{const i={...e};return i.inboxSection===void 0&&delete i.inboxSection,i})}}async function rA(){try{const a=Qd(Jd,tm,Wd),e=await $2(a);if(e.exists()){const i=e.data();return{tabs:i.tabs||[],activeTabId:i.activeTabId||"",bookmarks:i.bookmarks||[]}}return null}catch(a){throw console.error("Error fetching workspace data:",a),a}}async function P0(a){try{const e=Qd(Jd,tm,Wd),i=aA(a);await J2(e,{...i,updatedAt:Q2()},{merge:!0})}catch(e){throw console.error("Error saving workspace data:",e),e}}function lA(a,e){const i=Qd(Jd,tm,Wd);return W2(i,r=>{if(r.exists()){const o=r.data();a({tabs:o.tabs||[],activeTabId:o.activeTabId||"",bookmarks:o.bookmarks||[]})}},r=>{console.error("Firestore snapshot error:",r),e(r)})}function oA(a){const[e,i]=lt.useState(null),[r,o]=lt.useState(!0),[h,d]=lt.useState(null),p=lt.useRef(!1),g=lt.useRef(null);lt.useEffect(()=>{let T=null;async function S(){try{const C=await rA();C&&C.tabs.length>0?i(C):(await P0(a),i(a)),T=lA(L=>{p.current=!0,i(L),setTimeout(()=>{p.current=!1},0)},L=>{d(L)}),o(!1)}catch(C){d(C),o(!1)}}return S(),()=>{T&&T(),g.current&&clearTimeout(g.current)}},[]);const v=lt.useCallback(async T=>{p.current||(i(T),g.current&&clearTimeout(g.current),g.current=setTimeout(async()=>{try{await P0(T)}catch(S){d(S),console.error("Failed to save to Firestore:",S)}},300))},[]);return{data:e,loading:r,error:h,updateData:v}}function uA(a){const e=lt.useRef(null),i=lt.useRef({x:0,y:0,time:0});return lt.useEffect(()=>{const r=e.current;if(!r)return;const o=d=>{i.current={x:d.touches[0].clientX,y:d.touches[0].clientY,time:Date.now()}},h=d=>{const{x:p,y:g,time:v}=i.current,T=d.changedTouches[0].clientX,S=d.changedTouches[0].clientY,C=Date.now(),L=T-p,Q=S-g,$=C-v,k=a.minSwipeDistance??50,z=a.minSwipeVelocity??.3,W=a.maxVerticalMovement??80,ot=Math.abs(L)>Math.abs(Q),pt=Math.abs(L)>k,yt=Math.abs(Q)<W,R=Math.abs(L)/$>z;ot&&pt&&yt&&R&&(L<0&&a.onSwipeLeft?a.onSwipeLeft():L>0&&a.onSwipeRight&&a.onSwipeRight())};return r.addEventListener("touchstart",o,{passive:!0}),r.addEventListener("touchend",h,{passive:!0}),()=>{r.removeEventListener("touchstart",o),r.removeEventListener("touchend",h)}},[a]),e}const cA="https://www.googleapis.com/auth/calendar.events https://www.googleapis.com/auth/calendar",q0="1",md="google_access_token",gd="google_token_version",em="google_token_expires_at",hA=300*1e3,H0=()=>{const a=localStorage.getItem(em);if(!a)return!1;const e=parseInt(a);return Date.now()<e-hA},Xl=()=>{localStorage.removeItem(md),localStorage.removeItem(gd),localStorage.removeItem(em)},fA=()=>{const[a,e]=lt.useState(!1),[i,r]=lt.useState(null);lt.useEffect(()=>{const p=localStorage.getItem(md),g=localStorage.getItem(gd);p&&g===q0&&H0()?(r(p),e(!0)):Xl()},[]);const o=RE({scope:cA,onSuccess:p=>{r(p.access_token),e(!0),localStorage.setItem(md,p.access_token),localStorage.setItem(gd,q0);const g=p.expires_in||3600,v=Date.now()+g*1e3;localStorage.setItem(em,v.toString())},onError:()=>{console.error("Google  ")}});return{isAuthorized:a,login:o,logout:()=>{Xl(),r(null),e(!1)},createCalendarEvent:async p=>{var T,S,C;if(!i)throw new Error("Google  ");if(!H0())throw Xl(),r(null),e(!1),new Error(" .  .");const g={summary:p.summary,description:p.description||""};p.isAllDay?(g.start={date:p.start},g.end={date:p.end}):(g.start={dateTime:p.start,timeZone:"Asia/Seoul"},g.end={dateTime:p.end,timeZone:"Asia/Seoul"});const v=await fetch("https://www.googleapis.com/calendar/v3/calendars/primary/events",{method:"POST",headers:{Authorization:`Bearer ${i}`,"Content-Type":"application/json"},body:JSON.stringify(g)});if(!v.ok){const L=await v.json();throw v.status===401?(Xl(),r(null),e(!1),new Error(" .  .")):(S=(T=L.error)==null?void 0:T.message)!=null&&S.includes("insufficient authentication scopes")?(Xl(),r(null),e(!1),new Error(" .  .")):new Error(`   : ${((C=L.error)==null?void 0:C.message)||"   "}`)}return await v.json()}}},dA=a=>{if(!a||a.trim()===""||!(a.includes("")||a.includes(" ")||a.includes("millie.page.link")))return a;const i=a.indexOf(" - ");return i===-1?a:a.substring(0,i).trim()},F0=/(https?:\/\/[^\s]+)|(www\.[^\s]+)/gi,G0=/010[-\s]?\d{4}[-\s]?\d{4}/g,mA=a=>{if(!a||typeof a!="string")return[a];const e=[];let i;for(F0.lastIndex=0;(i=F0.exec(a))!==null;)e.push({type:"url",content:i[0],index:i.index,length:i[0].length});for(G0.lastIndex=0;(i=G0.exec(a))!==null;)e.some(p=>i.index>=p.index&&i.index<p.index+p.length||i.index+i[0].length>p.index&&i.index+i[0].length<=p.index+p.length)||e.push({type:"phone",content:i[0],index:i.index,length:i[0].length});e.sort((d,p)=>d.index-p.index);const r=[];let o=0,h=0;return e.forEach(d=>{if(d.index>o&&r.push(a.substring(o,d.index)),d.type==="url"){const p=d.content.startsWith("www.")?`https://${d.content}`:d.content;r.push(b.jsx("a",{href:p,target:"_blank",rel:"noopener noreferrer",onClick:g=>g.stopPropagation(),className:"text-blue-500 underline hover:text-blue-600 transition-colors",children:d.content},`url-${h++}`))}else if(d.type==="phone"){const p=d.content.replace(/[-\s]/g,"");r.push(b.jsx("a",{href:`sms:${p}`,onClick:g=>g.stopPropagation(),className:"text-green-600 underline hover:text-green-700 transition-colors",children:d.content},`phone-${h++}`))}o=d.index+d.length}),o<a.length&&r.push(a.substring(o)),r.length>0?r:[a]},gA=({text:a,className:e=""})=>{const i=mA(a);return b.jsx("span",{className:e,children:i})},pA=[{id:"b1",label:"",url:"",color:"bg-[#B89F1F]"},{id:"b2",label:"",url:"",color:"bg-[#B89F1F]"},{id:"b3",label:"",url:"",color:"bg-[#B89F1F]"},{id:"b4",label:"",url:"",color:"bg-[#B89F1F]"},{id:"b5",label:"",url:"",color:"bg-[#0F5A9F]"},{id:"b6",label:"24",url:"",color:"bg-[#0F5A9F]"},{id:"b7",label:"",url:"",color:"bg-[#0F5A9F]"},{id:"b8",label:"",url:"",color:"bg-[#0F5A9F]"},{id:"b9",label:"",url:"",color:"bg-[#724C8F]"},{id:"b10",label:"",url:"",color:"bg-[#724C8F]"},{id:"b11",label:"",url:"",color:"bg-[#724C8F]"},{id:"b12",label:"()",url:"",color:"bg-[#724C8F]"},{id:"b13",label:"",url:"",color:"bg-[#369D47]"},{id:"b14",label:"AI",url:"",color:"bg-[#369D47]"},{id:"b15",label:"",url:"",color:"bg-[#369D47]"}],yA=()=>{var hi,us;const a=lt.useMemo(()=>{const q=Math.random().toString(36).substr(2,9),et=Math.random().toString(36).substr(2,9),ht=Math.random().toString(36).substr(2,9),Rt=Math.random().toString(36).substr(2,9);return{tabs:[{id:q,name:"",sections:[],memos:{},sideNotes:[],parkingInfo:{text:"",checklistItems:[],shoppingListItems:[],checklistMemos:{},shoppingListMemos:{}},inboxSection:{id:et,title:"IN-BOX",items:[],color:"slate",isLocked:!1},quotesSection:{id:ht,title:"",items:[],color:"slate",isLocked:!1},goalsSection:{id:Rt,title:"",items:[],color:"slate",isLocked:!1},isLocked:!1,headerGoals:{goal1:"",goal2:""}}],activeTabId:q,bookmarks:pA}},[]),{data:e,loading:i,error:r,updateData:o}=oA(a),[h,d]=lt.useState(""),p=()=>{d("")},g=lt.useMemo(()=>e?{...e,tabs:e.tabs.map((q,et)=>({...q,inboxSection:et===0?q.inboxSection||{id:Math.random().toString(36).substr(2,9),title:"IN-BOX",items:[],color:"slate",isLocked:!1}:void 0,quotesSection:q.quotesSection||{id:Math.random().toString(36).substr(2,9),title:"",items:[],color:"slate",isLocked:!1},goalsSection:q.goalsSection||{id:Math.random().toString(36).substr(2,9),title:"",items:[],color:"slate",isLocked:!1},headerGoals:q.headerGoals||{goal1:"",goal2:""}}))}:a,[e,a]),[v,T]=lt.useState(navigator.onLine);lt.useEffect(()=>{const q=()=>{T(!0),console.log("[App] Network restored - Firestore will auto-sync")},et=()=>{T(!1),console.log("[App] Network lost - app is now offline")};return window.addEventListener("online",q),window.addEventListener("offline",et),()=>{window.removeEventListener("online",q),window.removeEventListener("offline",et)}},[]),lt.useEffect(()=>{const q=new URLSearchParams(window.location.search),et=q.get("shared")==="true",ht=q.get("text");if(et&&ht){console.log("[App] Web Share Target - URL  :",ht.substring(0,50)+"...");const Rt=dA(ht);console.log("[App] Web Share Target -  :",Rt.substring(0,50)+"..."),d(Rt),window.history.replaceState({},"",window.location.pathname),console.log("[App] Web Share Target - URL   ")}},[]),lt.useEffect(()=>{var et,ht;if(!h||i||!((ht=(et=g==null?void 0:g.tabs)==null?void 0:et[0])!=null&&ht.inboxSection))return;const q=g.tabs[0];o({...g,activeTabId:q.id}),setTimeout(()=>{const Rt=document.querySelector('[data-section-id="'+q.inboxSection.id+'"]');Rt&&(Rt.scrollIntoView({behavior:"smooth",block:"start"}),Rt.classList.add("ring-2","ring-yellow-400","ring-opacity-50"),setTimeout(()=>{Rt.classList.remove("ring-2","ring-yellow-400","ring-opacity-50")},3e3))},300)},[h,i,g,o]);const[S,C]=lt.useState({draggedItemId:null,dragOverItemId:null,sourceSectionId:null,draggedSectionId:null,dragOverSectionId:null}),[L,Q]=lt.useState({isOpen:!1,itemId:null,itemText:"",sourceTabId:"",sourceSectionId:""}),[$,k]=lt.useState({isOpen:!1,title:"",message:"",onConfirm:()=>{}}),[z,W]=lt.useState({id:null,value:"",type:"section",isEditing:!1}),[ot,pt]=lt.useState(!1),[yt,xt]=lt.useState(null),R=fA(),[A,D]=lt.useState({isOpen:!1,itemText:""}),I=lt.useMemo(()=>g.tabs.find(et=>et.id===g.activeTabId)||g.tabs[0],[g.tabs,g.activeTabId]),V=lt.useMemo(()=>g.tabs.findIndex(q=>q.id===g.activeTabId),[g.tabs,g.activeTabId]),U=q=>{o({...g,bookmarks:q})},w=()=>{const q=Math.random().toString(36).substr(2,9),et=Math.random().toString(36).substr(2,9),ht=Math.random().toString(36).substr(2,9),Rt={id:q,name:`  ${g.tabs.length+1}`,sections:[],memos:{},sideNotes:[],parkingInfo:{text:"",checklistItems:[],shoppingListItems:[],checklistMemos:{},shoppingListMemos:{}},quotesSection:{id:et,title:"",items:[],color:"slate",isLocked:!1},goalsSection:{id:ht,title:"",items:[],color:"slate",isLocked:!1},isLocked:!1,headerGoals:{goal1:"",goal2:""}};o({...g,tabs:[...g.tabs,Rt],activeTabId:q})},Gt=(q,et)=>{o({...g,tabs:g.tabs.map(ht=>ht.id===q?{...ht,name:et}:ht)})},Zt=q=>{o({...g,tabs:g.tabs.map(et=>et.id===q?{...et,isLocked:!et.isLocked}:et)})},Z=(q,et)=>{const ht=[...g.tabs],[Rt]=ht.splice(q,1);ht.splice(et,0,Rt),o({...g,tabs:ht})},ct=(q,et)=>{var Wt;let ht=I.sections.find(de=>de.id===et);!ht&&((Wt=I.inboxSection)==null?void 0:Wt.id)===et&&(ht=I.inboxSection);const Rt=ht==null?void 0:ht.items.find(de=>de.id===q);!Rt||!ht||Q({isOpen:!0,itemId:Rt.id,itemText:Rt.text,sourceTabId:g.activeTabId,sourceSectionId:ht.id})},Tt=(q,et)=>{var zi,ia;const{itemId:ht,sourceTabId:Rt,sourceSectionId:Wt}=L;if(!ht)return;if(Rt===q&&Wt===et){Q(_t=>({..._t,isOpen:!1}));return}const de=g.tabs.find(_t=>_t.id===Rt);if(!de)return;let me=de.sections.find(_t=>_t.id===Wt);!me&&((zi=de.inboxSection)==null?void 0:zi.id)===Wt&&(me=de.inboxSection);const te=me==null?void 0:me.items.find(_t=>_t.id===ht);if(!te||!me)return;const Je=g.tabs.find(_t=>_t.id===q);if(!Je)return;let ee=Je.sections.find(_t=>_t.id===et);if(!ee&&((ia=Je.inboxSection)==null?void 0:ia.id)===et&&(ee=Je.inboxSection),!ee)return;const na=de.memos[ht];o({...g,tabs:g.tabs.map(_t=>{var fi,be,An,wn,pn,Ua,sa,Cn,di,Ba;if(Rt===q&&_t.id===Rt){let Qe=_t.sections,on=_t.inboxSection;return me.id!==((fi=_t.inboxSection)==null?void 0:fi.id)&&ee.id!==((be=_t.inboxSection)==null?void 0:be.id)?Qe=_t.sections.map(re=>re.id===Wt?{...re,items:re.items.filter(Ye=>Ye.id!==ht)}:re.id===et?{...re,items:[...re.items,te]}:re):me.id!==((An=_t.inboxSection)==null?void 0:An.id)&&ee.id===((wn=_t.inboxSection)==null?void 0:wn.id)?(Qe=_t.sections.map(re=>re.id===Wt?{...re,items:re.items.filter(Ye=>Ye.id!==ht)}:re),on={..._t.inboxSection,items:[..._t.inboxSection.items,te]}):me.id===((pn=_t.inboxSection)==null?void 0:pn.id)&&ee.id!==((Ua=_t.inboxSection)==null?void 0:Ua.id)?(Qe=_t.sections.map(re=>re.id===et?{...re,items:[...re.items,te]}:re),on={..._t.inboxSection,items:_t.inboxSection.items.filter(re=>re.id!==ht)}):me.id===((sa=_t.inboxSection)==null?void 0:sa.id)&&ee.id===((Cn=_t.inboxSection)==null?void 0:Cn.id)&&(on=_t.inboxSection),{..._t,sections:Qe,inboxSection:on}}else if(Rt!==q&&_t.id===Rt){let Qe=_t.sections,on=_t.inboxSection;me.id!==((di=_t.inboxSection)==null?void 0:di.id)?Qe=_t.sections.map(un=>un.id===Wt?{...un,items:un.items.filter(Pa=>Pa.id!==ht)}:un):on={..._t.inboxSection,items:_t.inboxSection.items.filter(un=>un.id!==ht)};const{[ht]:re,...Ye}=_t.memos;return{..._t,sections:Qe,inboxSection:on,memos:Ye}}else if(Rt!==q&&_t.id===q){let Qe=_t.sections,on=_t.inboxSection;ee.id!==((Ba=_t.inboxSection)==null?void 0:Ba.id)?Qe=_t.sections.map(Ye=>Ye.id===et?{...Ye,items:[...Ye.items,te]}:Ye):on={..._t.inboxSection,items:[..._t.inboxSection.items,te]};const re=na?{..._t.memos,[ht]:na}:_t.memos;return{..._t,sections:Qe,inboxSection:on,memos:re}}return _t})}),Q({isOpen:!1,itemId:null,itemText:"",sourceTabId:"",sourceSectionId:""})},Ot=q=>{if(!R.isAuthorized){R.login();return}D({isOpen:!0,itemText:q})},Ht=async(q,et,ht)=>{var Rt,Wt;try{await R.createCalendarEvent({summary:A.itemText,start:q,end:et,isAllDay:ht}),alert(" !"),D({isOpen:!1,itemText:""})}catch(de){console.error("  :",de),(Rt=de.message)!=null&&Rt.includes(" ")||(Wt=de.message)!=null&&Wt.includes(" ")?(D({isOpen:!1,itemText:""}),alert(`${de.message}

   .`),R.login()):alert(`  : ${de.message||"   "}`)}},M=q=>{const et=g.tabs.find(ht=>ht.id===q);!et||et.isLocked||g.tabs.length<=1||k({isOpen:!0,title:" ",message:`'${et.name}'     . ?`,onConfirm:()=>{const ht=g.tabs.filter(Wt=>Wt.id!==q),Rt=g.activeTabId===q?ht[0].id:g.activeTabId;o({...g,tabs:ht,activeTabId:Rt}),k(Wt=>({...Wt,isOpen:!1}))}})},tt=q=>{o({...g,activeTabId:q})},dt=()=>{const q=V+1;q<g.tabs.length&&tt(g.tabs[q].id)},mt=()=>{const q=V-1;q>=0&&tt(g.tabs[q].id)},O=uA({onSwipeLeft:z.id||$.isOpen?void 0:dt,onSwipeRight:z.id||$.isOpen?void 0:mt,minSwipeDistance:50,minSwipeVelocity:.3,maxVerticalMovement:80}),X=q=>{o({...g,tabs:g.tabs.map(et=>et.id===g.activeTabId?{...et,parkingInfo:q}:et)})},rt=q=>{o({...g,tabs:g.tabs.map(et=>et.id===g.activeTabId?{...et,sideNotes:q}:et)})},bt=()=>{const q={id:Math.random().toString(36).substr(2,9),title:" ",items:[],color:"slate",isLocked:!1};o({...g,tabs:g.tabs.map(et=>et.id===g.activeTabId?{...et,sections:[...et.sections,q]}:et)})},ut=q=>{o({...g,tabs:g.tabs.map(et=>et.id===g.activeTabId?{...et,sections:et.sections.map(ht=>ht.id===q.id?q:ht)}:et)})},Ne=q=>{o({...g,tabs:g.tabs.map(et=>et.id===g.activeTabId?{...et,inboxSection:q}:et)})},Ve=q=>{o({...g,tabs:g.tabs.map(et=>et.id===g.activeTabId?{...et,quotesSection:q}:et)})},ls=q=>{o({...g,tabs:g.tabs.map(et=>et.id===g.activeTabId?{...et,goalsSection:q}:et)})},os=q=>{const et=I==null?void 0:I.sections.find(ht=>ht.id===q);et!=null&&et.isLocked||k({isOpen:!0,title:" ",message:"  ?",onConfirm:()=>{o({...g,tabs:g.tabs.map(ht=>ht.id===g.activeTabId?{...ht,sections:ht.sections.filter(Rt=>Rt.id!==q)}:ht)}),k(ht=>({...ht,isOpen:!1}))}})},kn=q=>{C(et=>({...et,draggedSectionId:q}))},Ws=(q,et)=>{q.preventDefault(),S.draggedSectionId&&S.draggedSectionId!==et&&C(ht=>({...ht,dragOverSectionId:et}))},ki=(q,et)=>{q.preventDefault();const{draggedSectionId:ht}=S;!ht||ht===et||o({...g,tabs:g.tabs.map(Rt=>{if(Rt.id!==g.activeTabId)return Rt;const Wt=[...Rt.sections],de=Wt.findIndex(te=>te.id===ht),me=Wt.findIndex(te=>te.id===et);if(de!==-1&&me!==-1){const[te]=Wt.splice(de,1);Wt.splice(me,0,te)}return{...Rt,sections:Wt}})})},ta=()=>{C(q=>({...q,draggedSectionId:null,dragOverSectionId:null}))},ea=()=>{I.sections.some(q=>q.items.some(et=>et.completed))&&o({...g,tabs:g.tabs.map(q=>q.id===g.activeTabId?{...q,sections:q.sections.map(et=>({...et,items:et.items.map(ht=>({...ht,completed:!1}))}))}:q)})},he=(q,et)=>{var Wt,de;let ht="";et==="checklist"?ht=((Wt=I.parkingInfo.checklistMemos)==null?void 0:Wt[q])||"":et==="shopping"?ht=((de=I.parkingInfo.shoppingListMemos)==null?void 0:de[q])||"":ht=I.memos[q]||"",W({id:q,value:ht,type:et||"section",isEditing:!(et==="checklist"||et==="shopping")&&ht===""})},xe=()=>{z.id&&(z.type==="checklist"?o({...g,tabs:g.tabs.map(q=>q.id===g.activeTabId?{...q,parkingInfo:{...q.parkingInfo,checklistMemos:{...q.parkingInfo.checklistMemos,[z.id]:z.value}}}:q)}):z.type==="shopping"?o({...g,tabs:g.tabs.map(q=>q.id===g.activeTabId?{...q,parkingInfo:{...q.parkingInfo,shoppingListMemos:{...q.parkingInfo.shoppingListMemos,[z.id]:z.value}}}:q)}):o({...g,tabs:g.tabs.map(q=>q.id===g.activeTabId?{...q,memos:{...q.memos,[z.id]:z.value}}:q)})),z.value.trim()?W({...z,isEditing:!1}):W({id:null,value:"",type:"section",isEditing:!1})},ci=(q,et)=>{q!==g.activeTabId&&tt(q),et&&(setTimeout(()=>{const ht=document.querySelector(`[data-section-id="${et}"]`);ht&&ht.scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"})},100),xt(et),setTimeout(()=>{xt(null)},3e3)),pt(!1)},Kr=()=>{const q=g.tabs[0];if(!(q!=null&&q.inboxSection))return;const et=q.id,ht=q.inboxSection.id;et!==g.activeTabId&&tt(et),setTimeout(()=>{const Rt=document.querySelector(`[data-section-id="${ht}"]`);Rt&&Rt.scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"})},100),xt(ht),setTimeout(()=>{xt(null)},3e3)},za=I.sections.some(q=>q.items.some(et=>et.completed)),we=I.id===(((hi=g.tabs[0])==null?void 0:hi.id)||"");return i?b.jsx("div",{className:"h-screen flex items-center justify-center bg-[#F8FAFC]",children:b.jsxs("div",{className:"text-center",children:[b.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto mb-4"}),b.jsx("p",{className:"text-slate-600",children:"  ..."})]})}):r?b.jsx("div",{className:"h-screen flex items-center justify-center bg-[#F8FAFC]",children:b.jsxs("div",{className:"text-center max-w-md",children:[b.jsx("div",{className:"flex justify-center mb-4",children:b.jsx("svg",{className:"w-16 h-16 text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),b.jsx("h2",{className:"text-xl font-bold text-slate-800 mb-2",children:"  "}),b.jsx("p",{className:"text-sm text-slate-600 mb-4",children:r.message}),b.jsx("p",{className:"text-xs text-slate-500 mb-6",children:"    ."}),b.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-2 bg-blue-500 text-white rounded-lg font-medium hover:bg-blue-600 transition-colors",children:" "})]})}):b.jsxs("div",{className:"h-screen flex flex-col bg-[#F8FAFC] overflow-hidden text-slate-900",children:[!v&&b.jsx("div",{className:"flex-none bg-yellow-500 text-white px-4 py-2 text-center text-sm font-medium",children:b.jsxs("div",{className:"flex items-center justify-center gap-2",children:[b.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),b.jsx("span",{children:"  -   "})]})}),b.jsx("div",{className:"flex-none hidden md:block",children:b.jsx(PE,{bookmarks:g.bookmarks,onUpdateBookmarks:U})}),b.jsxs("div",{className:"flex-1 flex flex-row overflow-hidden",children:[b.jsxs("div",{ref:O,className:"flex-1 flex flex-col overflow-hidden",children:[b.jsx("div",{className:"flex-none bg-[#F8FAFC]",children:b.jsx(OE,{onClearAll:ea,onAddSection:bt,hasAnyCompletedItems:za,onOpenNavigationMap:()=>pt(!0),headerGoals:I.headerGoals,onHeaderGoalsChange:q=>{o({...g,tabs:g.tabs.map(et=>et.id===g.activeTabId?{...et,headerGoals:q}:et)})}})}),b.jsx("main",{className:"flex-1 overflow-y-auto custom-scrollbar px-0 md:px-6 pb-20",children:b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-3 md:gap-6 h-full",style:{gridAutoRows:"auto"},children:[we&&b.jsxs(b.Fragment,{children:[b.jsx("div",{className:"h-[600px] md:h-auto md:row-span-2",children:b.jsx(LE,{info:I.parkingInfo,onChange:X,onShowChecklistMemo:q=>he(q,"checklist"),onShowShoppingMemo:q=>he(q,"shopping"),onAddToCalendar:Ot})}),b.jsx("div",{className:"h-[600px] md:h-auto md:row-span-2",children:b.jsx(Gu,{section:I.inboxSection,itemMemos:I.memos,onUpdateSection:Ne,onDeleteSection:()=>{},onShowItemMemo:he,onMoveItem:q=>ct(q,I.inboxSection.id),onAddToCalendar:Ot,dragState:S,setDragState:C,onSectionDragStart:()=>{},onSectionDragOver:()=>{},onSectionDrop:()=>{},onSectionDragEnd:()=>{},isHighlighted:I.inboxSection.id===yt,isInboxSection:!0,tabColorBg:Rr(0).bgLight,initialQuickAddValue:h,onQuickAddValuePopulated:p})}),b.jsx("div",{className:"h-[600px] md:h-auto md:row-span-2",children:b.jsx(Gu,{section:I.quotesSection,itemMemos:I.memos,onUpdateSection:Ve,onDeleteSection:()=>{},onShowItemMemo:he,onMoveItem:q=>ct(q,I.quotesSection.id),onAddToCalendar:Ot,dragState:S,setDragState:C,onSectionDragStart:()=>{},onSectionDragOver:()=>{},onSectionDrop:()=>{},onSectionDragEnd:()=>{},isHighlighted:I.quotesSection.id===yt,isInboxSection:!0,tabColorBg:Rr(0).bgLight})}),b.jsx("div",{className:"h-[600px] md:h-auto md:row-span-2",children:b.jsx(Gu,{section:I.goalsSection,itemMemos:I.memos,onUpdateSection:ls,onDeleteSection:()=>{},onShowItemMemo:he,onMoveItem:q=>ct(q,I.goalsSection.id),onAddToCalendar:Ot,dragState:S,setDragState:C,onSectionDragStart:()=>{},onSectionDragOver:()=>{},onSectionDrop:()=>{},onSectionDragEnd:()=>{},isHighlighted:I.goalsSection.id===yt,isInboxSection:!0,tabColorBg:Rr(0).bgLight})})]}),I.sections.map(q=>b.jsx("div",{className:we?"":"h-screen md:h-full md:row-span-2",children:b.jsx(Gu,{section:q,itemMemos:I.memos,onUpdateSection:ut,onDeleteSection:os,onShowItemMemo:he,onMoveItem:et=>ct(et,q.id),onAddToCalendar:Ot,dragState:S,setDragState:C,onSectionDragStart:()=>kn(q.id),onSectionDragOver:et=>Ws(et,q.id),onSectionDrop:et=>ki(et,q.id),onSectionDragEnd:ta,isHighlighted:q.id===yt,isFullHeight:!we,tabColorText:Rr(V).text,tabColorBg:Rr(V).bgLight})},q.id)),I.sections.length===0&&(!we||I.sections.length===0)&&b.jsx("div",{className:"col-span-full text-center py-16 text-slate-400",children:b.jsx("p",{className:"text-sm italic",children:we&&I.sections.length===0?'  . "+"    .':I.sections.length===0?"  .    .":""})})]})})]}),b.jsx("aside",{className:"flex-none hidden lg:block w-48 border-l border-slate-200 bg-white/40",children:b.jsx(qE,{notes:I.sideNotes||[],onChange:rt})})]}),b.jsx("div",{className:"flex-none",children:b.jsx(zE,{tabs:e.tabs,activeTabId:e.activeTabId,onSelectTab:tt,onAddTab:w,onRenameTab:Gt,onDeleteTab:M,onToggleLockTab:Zt,onReorderTabs:Z,onNavigateToInbox:Kr,hasInbox:!!((us=g.tabs[0])!=null&&us.inboxSection)})}),z.id&&b.jsx("div",{onClick:()=>W({id:null,value:"",type:"section",isEditing:!1}),className:"fixed inset-0 z-[110] flex items-center justify-center p-4 bg-slate-900/40 backdrop-blur-sm",children:b.jsxs("div",{onClick:q=>q.stopPropagation(),className:"bg-white w-full max-w-2xl h-[80vh] shadow-2xl border border-slate-200 p-6 flex flex-col",children:[!z.isEditing&&b.jsxs(b.Fragment,{children:[b.jsx("div",{onDoubleClick:()=>W({...z,isEditing:!0}),className:"flex-1 w-full overflow-y-auto custom-scrollbar bg-slate-50 text-slate-700 text-base whitespace-pre-wrap break-words p-4 cursor-text hover:bg-slate-100 transition-colors",children:z.value?b.jsx("div",{className:"prose prose-sm max-w-none select-text",children:b.jsx(gA,{text:z.value})}):b.jsx("p",{className:"text-slate-400 italic",children:" ."})}),b.jsxs("div",{className:"border-t border-slate-300 pt-4 mt-4 flex justify-end gap-3",children:[b.jsx("button",{onClick:()=>W({...z,id:null}),className:"px-4 py-2 border-2 border-slate-300 text-slate-700 font-medium hover:bg-slate-50 transition-colors",children:""}),z.type!=="checklist"&&z.type!=="shopping"&&b.jsx("button",{onClick:()=>W({...z,isEditing:!0}),className:"px-4 py-2 bg-blue-500 hover:bg-blue-600 text-white font-medium border-2 border-black transition-colors",children:" "}),b.jsx("button",{onClick:()=>{navigator.clipboard.writeText(z.value)},className:"px-4 py-2 bg-slate-500 hover:bg-slate-600 text-white font-medium border-2 border-black transition-colors",children:" "})]})]}),z.isEditing&&b.jsxs(b.Fragment,{children:[b.jsx("textarea",{autoFocus:!0,value:z.value,onChange:q=>W({...z,value:q.target.value}),onBlur:xe,className:"flex-1 w-full overflow-y-auto custom-scrollbar focus:outline-none text-slate-700 text-base resize-none p-4",placeholder:"  ..."}),b.jsxs("div",{className:"mt-4 flex justify-end gap-3",children:[b.jsx("button",{onClick:()=>{var et,ht,Rt;let q="";z.type==="checklist"?q=((et=I.parkingInfo.checklistMemos)==null?void 0:et[z.id])||"":z.type==="shopping"?q=((ht=I.parkingInfo.shoppingListMemos)==null?void 0:ht[z.id])||"":q=((Rt=I.memos)==null?void 0:Rt[z.id])||"",W(q?{...z,value:q,isEditing:!1}:{id:null,value:"",type:"section",isEditing:!1})},className:"px-4 py-2 border-2 border-slate-300 text-slate-700 font-medium hover:bg-slate-50 transition-colors",children:""}),b.jsx("button",{onClick:xe,className:"px-4 py-2 bg-green-500 hover:bg-green-600 text-white font-medium border-2 border-black transition-colors",children:" "}),b.jsx("button",{onClick:()=>{navigator.clipboard.writeText(z.value)},className:"px-4 py-2 bg-slate-500 hover:bg-slate-600 text-white font-medium border-2 border-black transition-colors",children:" "})]})]})]})}),b.jsx(FE,{isOpen:L.isOpen,itemText:L.itemText,currentTabId:L.sourceTabId,currentSectionId:L.sourceSectionId,tabs:g.tabs,onMove:Tt,onCancel:()=>Q(q=>({...q,isOpen:!1}))}),b.jsx(jE,{isOpen:$.isOpen,title:$.title,message:$.message,onConfirm:$.onConfirm,onCancel:()=>k(q=>({...q,isOpen:!1}))}),b.jsx(HE,{isOpen:ot,tabs:g.tabs,activeTabId:g.activeTabId,onClose:()=>pt(!1),onNavigate:ci}),b.jsx(GE,{isOpen:A.isOpen,itemText:A.itemText,onClose:()=>D({isOpen:!1,itemText:""}),onConfirm:Ht})]})},k_=document.getElementById("root");if(!k_)throw new Error("Could not find root element to mount to");const vA=SE.createRoot(k_);vA.render(b.jsx(Y0.StrictMode,{children:b.jsx(wE,{clientId:"616885689767-lh1pp7kjs94vlq862kmq9fgq746cnbfg.apps.googleusercontent.com",children:b.jsx(yA,{})})}));
