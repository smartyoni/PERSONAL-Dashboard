(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const h of o)if(h.type==="childList")for(const d of h.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const h={};return o.integrity&&(h.integrity=o.integrity),o.referrerPolicy&&(h.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?h.credentials="include":o.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function r(o){if(o.ep)return;o.ep=!0;const h=i(o);fetch(o.href,h)}})();function Y0(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var Df={exports:{}},Gl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xy;function mE(){if(xy)return Gl;xy=1;var a=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(r,o,h){var d=null;if(h!==void 0&&(d=""+h),o.key!==void 0&&(d=""+o.key),"key"in o){h={};for(var p in o)p!=="key"&&(h[p]=o[p])}else h=o;return o=h.ref,{$$typeof:a,type:r,key:d,ref:o!==void 0?o:null,props:h}}return Gl.Fragment=e,Gl.jsx=i,Gl.jsxs=i,Gl}var Sy;function gE(){return Sy||(Sy=1,Df.exports=mE()),Df.exports}var b=gE(),Nf={exports:{}},jt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ay;function pE(){if(Ay)return jt;Ay=1;var a=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),A=Symbol.for("react.activity"),C=Symbol.iterator;function U(O){return O===null||typeof O!="object"?null:(O=C&&O[C]||O["@@iterator"],typeof O=="function"?O:null)}var Z={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},st=Object.assign,V={};function H(O,et,dt){this.props=O,this.context=et,this.refs=V,this.updater=dt||Z}H.prototype.isReactComponent={},H.prototype.setState=function(O,et){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,et,"setState")},H.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function G(){}G.prototype=H.prototype;function Y(O,et,dt){this.props=O,this.context=et,this.refs=V,this.updater=dt||Z}var ut=Y.prototype=new G;ut.constructor=Y,st(ut,H.prototype),ut.isPureReactComponent=!0;var yt=Array.isArray;function xt(){}var R={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function I(O,et,dt){var vt=dt.ref;return{$$typeof:a,type:O,key:et,ref:vt!==void 0?vt:null,props:dt}}function j(O,et){return I(O.type,et,O.props)}function N(O){return typeof O=="object"&&O!==null&&O.$$typeof===a}function k(O){var et={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(dt){return et[dt]})}var S=/\/+/g;function Pt(O,et){return typeof O=="object"&&O!==null&&O.key!=null?k(""+O.key):et.toString(36)}function ne(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(xt,xt):(O.status="pending",O.then(function(et){O.status==="pending"&&(O.status="fulfilled",O.value=et)},function(et){O.status==="pending"&&(O.status="rejected",O.reason=et)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function J(O,et,dt,vt,F){var ot=typeof O;(ot==="undefined"||ot==="boolean")&&(O=null);var mt=!1;if(O===null)mt=!0;else switch(ot){case"bigint":case"string":case"number":mt=!0;break;case"object":switch(O.$$typeof){case a:case e:mt=!0;break;case T:return mt=O._init,J(mt(O._payload),et,dt,vt,F)}}if(mt)return F=F(O),mt=vt===""?"."+Pt(O,0):vt,yt(F)?(dt="",mt!=null&&(dt=mt.replace(S,"$&/")+"/"),J(F,et,dt,"",function(Le){return Le})):F!=null&&(N(F)&&(F=j(F,dt+(F.key==null||O&&O.key===F.key?"":(""+F.key).replace(S,"$&/")+"/")+mt)),et.push(F)),1;mt=0;var It=vt===""?".":vt+":";if(yt(O))for(var ct=0;ct<O.length;ct++)vt=O[ct],ot=It+Pt(vt,ct),mt+=J(vt,et,dt,ot,F);else if(ct=U(O),typeof ct=="function")for(O=ct.call(O),ct=0;!(vt=O.next()).done;)vt=vt.value,ot=It+Pt(vt,ct++),mt+=J(vt,et,dt,ot,F);else if(ot==="object"){if(typeof O.then=="function")return J(ne(O),et,dt,vt,F);throw et=String(O),Error("Objects are not valid as a React child (found: "+(et==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":et)+"). If you meant to render a collection of children, use an array instead.")}return mt}function ht(O,et,dt){if(O==null)return O;var vt=[],F=0;return J(O,vt,"","",function(ot){return et.call(dt,ot,F++)}),vt}function At(O){if(O._status===-1){var et=O._result;et=et(),et.then(function(dt){(O._status===0||O._status===-1)&&(O._status=1,O._result=dt)},function(dt){(O._status===0||O._status===-1)&&(O._status=2,O._result=dt)}),O._status===-1&&(O._status=0,O._result=et)}if(O._status===1)return O._result.default;throw O._result}var Bt=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var et=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(et))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},qt={map:ht,forEach:function(O,et,dt){ht(O,function(){et.apply(this,arguments)},dt)},count:function(O){var et=0;return ht(O,function(){et++}),et},toArray:function(O){return ht(O,function(et){return et})||[]},only:function(O){if(!N(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return jt.Activity=A,jt.Children=qt,jt.Component=H,jt.Fragment=i,jt.Profiler=o,jt.PureComponent=Y,jt.StrictMode=r,jt.Suspense=g,jt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,jt.__COMPILER_RUNTIME={__proto__:null,c:function(O){return R.H.useMemoCache(O)}},jt.cache=function(O){return function(){return O.apply(null,arguments)}},jt.cacheSignal=function(){return null},jt.cloneElement=function(O,et,dt){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var vt=st({},O.props),F=O.key;if(et!=null)for(ot in et.key!==void 0&&(F=""+et.key),et)!w.call(et,ot)||ot==="key"||ot==="__self"||ot==="__source"||ot==="ref"&&et.ref===void 0||(vt[ot]=et[ot]);var ot=arguments.length-2;if(ot===1)vt.children=dt;else if(1<ot){for(var mt=Array(ot),It=0;It<ot;It++)mt[It]=arguments[It+2];vt.children=mt}return I(O.type,F,vt)},jt.createContext=function(O){return O={$$typeof:d,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:h,_context:O},O},jt.createElement=function(O,et,dt){var vt,F={},ot=null;if(et!=null)for(vt in et.key!==void 0&&(ot=""+et.key),et)w.call(et,vt)&&vt!=="key"&&vt!=="__self"&&vt!=="__source"&&(F[vt]=et[vt]);var mt=arguments.length-2;if(mt===1)F.children=dt;else if(1<mt){for(var It=Array(mt),ct=0;ct<mt;ct++)It[ct]=arguments[ct+2];F.children=It}if(O&&O.defaultProps)for(vt in mt=O.defaultProps,mt)F[vt]===void 0&&(F[vt]=mt[vt]);return I(O,ot,F)},jt.createRef=function(){return{current:null}},jt.forwardRef=function(O){return{$$typeof:p,render:O}},jt.isValidElement=N,jt.lazy=function(O){return{$$typeof:T,_payload:{_status:-1,_result:O},_init:At}},jt.memo=function(O,et){return{$$typeof:v,type:O,compare:et===void 0?null:et}},jt.startTransition=function(O){var et=R.T,dt={};R.T=dt;try{var vt=O(),F=R.S;F!==null&&F(dt,vt),typeof vt=="object"&&vt!==null&&typeof vt.then=="function"&&vt.then(xt,Bt)}catch(ot){Bt(ot)}finally{et!==null&&dt.types!==null&&(et.types=dt.types),R.T=et}},jt.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},jt.use=function(O){return R.H.use(O)},jt.useActionState=function(O,et,dt){return R.H.useActionState(O,et,dt)},jt.useCallback=function(O,et){return R.H.useCallback(O,et)},jt.useContext=function(O){return R.H.useContext(O)},jt.useDebugValue=function(){},jt.useDeferredValue=function(O,et){return R.H.useDeferredValue(O,et)},jt.useEffect=function(O,et){return R.H.useEffect(O,et)},jt.useEffectEvent=function(O){return R.H.useEffectEvent(O)},jt.useId=function(){return R.H.useId()},jt.useImperativeHandle=function(O,et,dt){return R.H.useImperativeHandle(O,et,dt)},jt.useInsertionEffect=function(O,et){return R.H.useInsertionEffect(O,et)},jt.useLayoutEffect=function(O,et){return R.H.useLayoutEffect(O,et)},jt.useMemo=function(O,et){return R.H.useMemo(O,et)},jt.useOptimistic=function(O,et){return R.H.useOptimistic(O,et)},jt.useReducer=function(O,et,dt){return R.H.useReducer(O,et,dt)},jt.useRef=function(O){return R.H.useRef(O)},jt.useState=function(O){return R.H.useState(O)},jt.useSyncExternalStore=function(O,et,dt){return R.H.useSyncExternalStore(O,et,dt)},jt.useTransition=function(){return R.H.useTransition()},jt.version="19.2.3",jt}var wy;function yd(){return wy||(wy=1,Nf.exports=pE()),Nf.exports}var rt=yd();const ic=Y0(rt);var Vf={exports:{}},Ql={},Of={exports:{}},Mf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cy;function yE(){return Cy||(Cy=1,(function(a){function e(J,ht){var At=J.length;J.push(ht);t:for(;0<At;){var Bt=At-1>>>1,qt=J[Bt];if(0<o(qt,ht))J[Bt]=ht,J[At]=qt,At=Bt;else break t}}function i(J){return J.length===0?null:J[0]}function r(J){if(J.length===0)return null;var ht=J[0],At=J.pop();if(At!==ht){J[0]=At;t:for(var Bt=0,qt=J.length,O=qt>>>1;Bt<O;){var et=2*(Bt+1)-1,dt=J[et],vt=et+1,F=J[vt];if(0>o(dt,At))vt<qt&&0>o(F,dt)?(J[Bt]=F,J[vt]=At,Bt=vt):(J[Bt]=dt,J[et]=At,Bt=et);else if(vt<qt&&0>o(F,At))J[Bt]=F,J[vt]=At,Bt=vt;else break t}}return ht}function o(J,ht){var At=J.sortIndex-ht.sortIndex;return At!==0?At:J.id-ht.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;a.unstable_now=function(){return h.now()}}else{var d=Date,p=d.now();a.unstable_now=function(){return d.now()-p}}var g=[],v=[],T=1,A=null,C=3,U=!1,Z=!1,st=!1,V=!1,H=typeof setTimeout=="function"?setTimeout:null,G=typeof clearTimeout=="function"?clearTimeout:null,Y=typeof setImmediate<"u"?setImmediate:null;function ut(J){for(var ht=i(v);ht!==null;){if(ht.callback===null)r(v);else if(ht.startTime<=J)r(v),ht.sortIndex=ht.expirationTime,e(g,ht);else break;ht=i(v)}}function yt(J){if(st=!1,ut(J),!Z)if(i(g)!==null)Z=!0,xt||(xt=!0,k());else{var ht=i(v);ht!==null&&ne(yt,ht.startTime-J)}}var xt=!1,R=-1,w=5,I=-1;function j(){return V?!0:!(a.unstable_now()-I<w)}function N(){if(V=!1,xt){var J=a.unstable_now();I=J;var ht=!0;try{t:{Z=!1,st&&(st=!1,G(R),R=-1),U=!0;var At=C;try{e:{for(ut(J),A=i(g);A!==null&&!(A.expirationTime>J&&j());){var Bt=A.callback;if(typeof Bt=="function"){A.callback=null,C=A.priorityLevel;var qt=Bt(A.expirationTime<=J);if(J=a.unstable_now(),typeof qt=="function"){A.callback=qt,ut(J),ht=!0;break e}A===i(g)&&r(g),ut(J)}else r(g);A=i(g)}if(A!==null)ht=!0;else{var O=i(v);O!==null&&ne(yt,O.startTime-J),ht=!1}}break t}finally{A=null,C=At,U=!1}ht=void 0}}finally{ht?k():xt=!1}}}var k;if(typeof Y=="function")k=function(){Y(N)};else if(typeof MessageChannel<"u"){var S=new MessageChannel,Pt=S.port2;S.port1.onmessage=N,k=function(){Pt.postMessage(null)}}else k=function(){H(N,0)};function ne(J,ht){R=H(function(){J(a.unstable_now())},ht)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(J){J.callback=null},a.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<J?Math.floor(1e3/J):5},a.unstable_getCurrentPriorityLevel=function(){return C},a.unstable_next=function(J){switch(C){case 1:case 2:case 3:var ht=3;break;default:ht=C}var At=C;C=ht;try{return J()}finally{C=At}},a.unstable_requestPaint=function(){V=!0},a.unstable_runWithPriority=function(J,ht){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var At=C;C=J;try{return ht()}finally{C=At}},a.unstable_scheduleCallback=function(J,ht,At){var Bt=a.unstable_now();switch(typeof At=="object"&&At!==null?(At=At.delay,At=typeof At=="number"&&0<At?Bt+At:Bt):At=Bt,J){case 1:var qt=-1;break;case 2:qt=250;break;case 5:qt=1073741823;break;case 4:qt=1e4;break;default:qt=5e3}return qt=At+qt,J={id:T++,callback:ht,priorityLevel:J,startTime:At,expirationTime:qt,sortIndex:-1},At>Bt?(J.sortIndex=At,e(v,J),i(g)===null&&J===i(v)&&(st?(G(R),R=-1):st=!0,ne(yt,At-Bt))):(J.sortIndex=qt,e(g,J),Z||U||(Z=!0,xt||(xt=!0,k()))),J},a.unstable_shouldYield=j,a.unstable_wrapCallback=function(J){var ht=C;return function(){var At=C;C=ht;try{return J.apply(this,arguments)}finally{C=At}}}})(Mf)),Mf}var Ry;function vE(){return Ry||(Ry=1,Of.exports=yE()),Of.exports}var jf={exports:{}},mn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Iy;function _E(){if(Iy)return mn;Iy=1;var a=yd();function e(g){var v="https://react.dev/errors/"+g;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)v+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+g+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function h(g,v,T){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:A==null?null:""+A,children:g,containerInfo:v,implementation:T}}var d=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(g,v){if(g==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return mn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,mn.createPortal=function(g,v){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(e(299));return h(g,v,null,T)},mn.flushSync=function(g){var v=d.T,T=r.p;try{if(d.T=null,r.p=2,g)return g()}finally{d.T=v,r.p=T,r.d.f()}},mn.preconnect=function(g,v){typeof g=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,r.d.C(g,v))},mn.prefetchDNS=function(g){typeof g=="string"&&r.d.D(g)},mn.preinit=function(g,v){if(typeof g=="string"&&v&&typeof v.as=="string"){var T=v.as,A=p(T,v.crossOrigin),C=typeof v.integrity=="string"?v.integrity:void 0,U=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;T==="style"?r.d.S(g,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:A,integrity:C,fetchPriority:U}):T==="script"&&r.d.X(g,{crossOrigin:A,integrity:C,fetchPriority:U,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},mn.preinitModule=function(g,v){if(typeof g=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var T=p(v.as,v.crossOrigin);r.d.M(g,{crossOrigin:T,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&r.d.M(g)},mn.preload=function(g,v){if(typeof g=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var T=v.as,A=p(T,v.crossOrigin);r.d.L(g,T,{crossOrigin:A,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},mn.preloadModule=function(g,v){if(typeof g=="string")if(v){var T=p(v.as,v.crossOrigin);r.d.m(g,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:T,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else r.d.m(g)},mn.requestFormReset=function(g){r.d.r(g)},mn.unstable_batchedUpdates=function(g,v){return g(v)},mn.useFormState=function(g,v,T){return d.H.useFormState(g,v,T)},mn.useFormStatus=function(){return d.H.useHostTransitionStatus()},mn.version="19.2.3",mn}var Dy;function bE(){if(Dy)return jf.exports;Dy=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(e){console.error(e)}}return a(),jf.exports=_E(),jf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ny;function EE(){if(Ny)return Ql;Ny=1;var a=vE(),e=yd(),i=bE();function r(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function h(t){var n=t,s=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(s=n.return),t=n.return;while(t)}return n.tag===3?s:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function p(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function g(t){if(h(t)!==t)throw Error(r(188))}function v(t){var n=t.alternate;if(!n){if(n=h(t),n===null)throw Error(r(188));return n!==t?null:t}for(var s=t,l=n;;){var c=s.return;if(c===null)break;var f=c.alternate;if(f===null){if(l=c.return,l!==null){s=l;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===s)return g(c),t;if(f===l)return g(c),n;f=f.sibling}throw Error(r(188))}if(s.return!==l.return)s=c,l=f;else{for(var y=!1,E=c.child;E;){if(E===s){y=!0,s=c,l=f;break}if(E===l){y=!0,l=c,s=f;break}E=E.sibling}if(!y){for(E=f.child;E;){if(E===s){y=!0,s=f,l=c;break}if(E===l){y=!0,l=f,s=c;break}E=E.sibling}if(!y)throw Error(r(189))}}if(s.alternate!==l)throw Error(r(190))}if(s.tag!==3)throw Error(r(188));return s.stateNode.current===s?t:n}function T(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=T(t),n!==null)return n;t=t.sibling}return null}var A=Object.assign,C=Symbol.for("react.element"),U=Symbol.for("react.transitional.element"),Z=Symbol.for("react.portal"),st=Symbol.for("react.fragment"),V=Symbol.for("react.strict_mode"),H=Symbol.for("react.profiler"),G=Symbol.for("react.consumer"),Y=Symbol.for("react.context"),ut=Symbol.for("react.forward_ref"),yt=Symbol.for("react.suspense"),xt=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),j=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function k(t){return t===null||typeof t!="object"?null:(t=N&&t[N]||t["@@iterator"],typeof t=="function"?t:null)}var S=Symbol.for("react.client.reference");function Pt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===S?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case st:return"Fragment";case H:return"Profiler";case V:return"StrictMode";case yt:return"Suspense";case xt:return"SuspenseList";case I:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case Z:return"Portal";case Y:return t.displayName||"Context";case G:return(t._context.displayName||"Context")+".Consumer";case ut:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case R:return n=t.displayName||null,n!==null?n:Pt(t.type)||"Memo";case w:n=t._payload,t=t._init;try{return Pt(t(n))}catch{}}return null}var ne=Array.isArray,J=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ht=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,At={pending:!1,data:null,method:null,action:null},Bt=[],qt=-1;function O(t){return{current:t}}function et(t){0>qt||(t.current=Bt[qt],Bt[qt]=null,qt--)}function dt(t,n){qt++,Bt[qt]=t.current,t.current=n}var vt=O(null),F=O(null),ot=O(null),mt=O(null);function It(t,n){switch(dt(ot,n),dt(F,t),dt(vt,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?Qp(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=Qp(n),t=Yp(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}et(vt),dt(vt,t)}function ct(){et(vt),et(F),et(ot)}function Le(t){t.memoizedState!==null&&dt(mt,t);var n=vt.current,s=Yp(n,t.type);n!==s&&(dt(F,t),dt(vt,s))}function gt(t){F.current===t&&(et(vt),et(F)),mt.current===t&&(et(mt),Pl._currentValue=At)}var Ct,Zt;function ce(t){if(Ct===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);Ct=n&&n[1]||"",Zt=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ct+t+Zt}var vn=!1;function hn(t,n){if(!t||vn)return"";vn=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var it=function(){throw Error()};if(Object.defineProperty(it.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(it,[])}catch(X){var Q=X}Reflect.construct(t,[],it)}else{try{it.call()}catch(X){Q=X}t.call(it.prototype)}}else{try{throw Error()}catch(X){Q=X}(it=t())&&typeof it.catch=="function"&&it.catch(function(){})}}catch(X){if(X&&Q&&typeof X.stack=="string")return[X.stack,Q.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),y=f[0],E=f[1];if(y&&E){var D=y.split(`
`),q=E.split(`
`);for(c=l=0;l<D.length&&!D[l].includes("DetermineComponentFrameRoot");)l++;for(;c<q.length&&!q[c].includes("DetermineComponentFrameRoot");)c++;if(l===D.length||c===q.length)for(l=D.length-1,c=q.length-1;1<=l&&0<=c&&D[l]!==q[c];)c--;for(;1<=l&&0<=c;l--,c--)if(D[l]!==q[c]){if(l!==1||c!==1)do if(l--,c--,0>c||D[l]!==q[c]){var W=`
`+D[l].replace(" at new "," at ");return t.displayName&&W.includes("<anonymous>")&&(W=W.replace("<anonymous>",t.displayName)),W}while(1<=l&&0<=c);break}}}finally{vn=!1,Error.prepareStackTrace=s}return(s=t?t.displayName||t.name:"")?ce(s):""}function fn(t,n){switch(t.tag){case 26:case 27:case 5:return ce(t.type);case 16:return ce("Lazy");case 13:return t.child!==n&&n!==null?ce("Suspense Fallback"):ce("Suspense");case 19:return ce("SuspenseList");case 0:case 15:return hn(t.type,!1);case 11:return hn(t.type.render,!1);case 1:return hn(t.type,!0);case 31:return ce("Activity");default:return""}}function qn(t){try{var n="",s=null;do n+=fn(t,s),s=t,t=t.return;while(t);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var ve=Object.prototype.hasOwnProperty,_e=a.unstable_scheduleCallback,xn=a.unstable_cancelCallback,za=a.unstable_shouldYield,Ua=a.unstable_requestPaint,$e=a.unstable_now,Pi=a.unstable_getCurrentPriorityLevel,ea=a.unstable_ImmediatePriority,na=a.unstable_UserBlockingPriority,_n=a.unstable_NormalPriority,Ba=a.unstable_LowPriority,ia=a.unstable_IdlePriority,L=a.log,$=a.unstable_setDisableYieldValue,tt=null,_t=null;function Ot(t){if(typeof L=="function"&&$(t),_t&&typeof _t.setStrictMode=="function")try{_t.setStrictMode(tt,t)}catch{}}var Tt=Math.clz32?Math.clz32:Hn,ge=Math.log,we=Math.LN2;function Hn(t){return t>>>=0,t===0?32:31-(ge(t)/we|0)|0}var xe=256,Fn=262144,re=4194304;function en(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function pt(t,n,s){var l=t.pendingLanes;if(l===0)return 0;var c=0,f=t.suspendedLanes,y=t.pingedLanes;t=t.warmLanes;var E=l&134217727;return E!==0?(l=E&~f,l!==0?c=en(l):(y&=E,y!==0?c=en(y):s||(s=E&~t,s!==0&&(c=en(s))))):(E=l&~f,E!==0?c=en(E):y!==0?c=en(y):s||(s=l&~t,s!==0&&(c=en(s)))),c===0?0:n!==0&&n!==c&&(n&f)===0&&(f=c&-c,s=n&-n,f>=s||f===32&&(s&4194048)!==0)?n:c}function dn(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Pa(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function sa(){var t=re;return re<<=1,(re&62914560)===0&&(re=4194304),t}function Vn(t){for(var n=[],s=0;31>s;s++)n.push(t);return n}function gi(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function qa(t,n,s,l,c,f){var y=t.pendingLanes;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=s,t.entangledLanes&=s,t.errorRecoveryDisabledLanes&=s,t.shellSuspendCounter=0;var E=t.entanglements,D=t.expirationTimes,q=t.hiddenUpdates;for(s=y&~s;0<s;){var W=31-Tt(s),it=1<<W;E[W]=0,D[W]=-1;var Q=q[W];if(Q!==null)for(q[W]=null,W=0;W<Q.length;W++){var X=Q[W];X!==null&&(X.lane&=-536870913)}s&=~it}l!==0&&pi(t,l,0),f!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=f&~(y&~n))}function pi(t,n,s){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-Tt(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|s&261930}function cs(t,n){var s=t.entangledLanes|=n;for(t=t.entanglements;s;){var l=31-Tt(s),c=1<<l;c&n|t[l]&n&&(t[l]|=n),s&=~c}}function hs(t,n){var s=n&-n;return s=(s&42)!==0?1:yi(s),(s&(t.suspendedLanes|n))!==0?0:s}function yi(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function ke(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function bn(){var t=ht.p;return t!==0?t:(t=window.event,t===void 0?32:py(t.type))}function $t(t,n){var s=ht.p;try{return ht.p=t,n()}finally{ht.p=s}}var Ie=Math.random().toString(36).slice(2),pe="__reactFiber$"+Ie,ze="__reactProps$"+Ie,vi="__reactContainer$"+Ie,Ha="__reactEvents$"+Ie,jc="__reactListeners$"+Ie,So="__reactHandles$"+Ie,Ao="__reactResources$"+Ie,_i="__reactMarker$"+Ie;function Fa(t){delete t[pe],delete t[ze],delete t[Ha],delete t[jc],delete t[So]}function bi(t){var n=t[pe];if(n)return n;for(var s=t.parentNode;s;){if(n=s[vi]||s[pe]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(t=ty(t);t!==null;){if(s=t[pe])return s;t=ty(t)}return n}t=s,s=t.parentNode}return null}function Gn(t){if(t=t[pe]||t[vi]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function On(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(r(33))}function Ei(t){var n=t[Ao];return n||(n=t[Ao]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Ue(t){t[_i]=!0}var Kr=new Set,Xr={};function Ti(t,n){xi(t,n),xi(t+"Capture",n)}function xi(t,n){for(Xr[t]=n,t=0;t<n.length;t++)Kr.add(n[t])}var Zr=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),$r={},Jr={};function wo(t){return ve.call(Jr,t)?!0:ve.call($r,t)?!1:Zr.test(t)?Jr[t]=!0:($r[t]=!0,!1)}function Ga(t,n,s){if(wo(n))if(s===null)t.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+s)}}function Mn(t,n,s){if(s===null)t.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+s)}}function Be(t,n,s,l){if(l===null)t.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttributeNS(n,s,""+l)}}function Je(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function fs(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Wr(t,n,s){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var c=l.get,f=l.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return c.call(this)},set:function(y){s=""+y,f.call(this,y)}}),Object.defineProperty(t,n,{enumerable:l.enumerable}),{getValue:function(){return s},setValue:function(y){s=""+y},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function le(t){if(!t._valueTracker){var n=fs(t)?"checked":"value";t._valueTracker=Wr(t,n,""+t[n])}}function aa(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var s=n.getValue(),l="";return t&&(l=fs(t)?t.checked?"true":"false":t.value),t=l,t!==s?(n.setValue(t),!0):!1}function Si(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var ra=/[\n"\\]/g;function Sn(t){return t.replace(ra,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Qa(t,n,s,l,c,f,y,E){t.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?t.type=y:t.removeAttribute("type"),n!=null?y==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Je(n)):t.value!==""+Je(n)&&(t.value=""+Je(n)):y!=="submit"&&y!=="reset"||t.removeAttribute("value"),n!=null?tl(t,y,Je(n)):s!=null?tl(t,y,Je(s)):l!=null&&t.removeAttribute("value"),c==null&&f!=null&&(t.defaultChecked=!!f),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+Je(E):t.removeAttribute("name")}function Co(t,n,s,l,c,f,y,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){le(t);return}s=s!=null?""+Je(s):"",n=n!=null?""+Je(n):s,E||n===t.value||(t.value=n),t.defaultValue=n}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=E?t.checked:!!l,t.defaultChecked=!!l,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(t.name=y),le(t)}function tl(t,n,s){n==="number"&&Si(t.ownerDocument)===t||t.defaultValue===""+s||(t.defaultValue=""+s)}function ds(t,n,s,l){if(t=t.options,n){n={};for(var c=0;c<s.length;c++)n["$"+s[c]]=!0;for(s=0;s<t.length;s++)c=n.hasOwnProperty("$"+t[s].value),t[s].selected!==c&&(t[s].selected=c),c&&l&&(t[s].defaultSelected=!0)}else{for(s=""+Je(s),n=null,c=0;c<t.length;c++){if(t[c].value===s){t[c].selected=!0,l&&(t[c].defaultSelected=!0);return}n!==null||t[c].disabled||(n=t[c])}n!==null&&(n.selected=!0)}}function Ro(t,n,s){if(n!=null&&(n=""+Je(n),n!==t.value&&(t.value=n),s==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=s!=null?""+Je(s):""}function ms(t,n,s,l){if(n==null){if(l!=null){if(s!=null)throw Error(r(92));if(ne(l)){if(1<l.length)throw Error(r(93));l=l[0]}s=l}s==null&&(s=""),n=s}s=Je(n),t.defaultValue=s,l=t.textContent,l===s&&l!==""&&l!==null&&(t.value=l),le(t)}function An(t,n){if(n){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=n;return}}t.textContent=n}var Io=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function el(t,n,s){var l=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,s):typeof s!="number"||s===0||Io.has(n)?n==="float"?t.cssFloat=s:t[n]=(""+s).trim():t[n]=s+"px"}function nl(t,n,s){if(n!=null&&typeof n!="object")throw Error(r(62));if(t=t.style,s!=null){for(var l in s)!s.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var c in n)l=n[c],n.hasOwnProperty(c)&&s[c]!==l&&el(t,c,l)}else for(var f in n)n.hasOwnProperty(f)&&el(t,f,n[f])}function Ya(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Do=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),gs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ka(t){return gs.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function ai(){}var il=null;function Qn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ps=null,Ai=null;function la(t){var n=Gn(t);if(n&&(t=n.stateNode)){var s=t[ze]||null;t:switch(t=n.stateNode,n.type){case"input":if(Qa(t,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+Sn(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var l=s[n];if(l!==t&&l.form===t.form){var c=l[ze]||null;if(!c)throw Error(r(90));Qa(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<s.length;n++)l=s[n],l.form===t.form&&aa(l)}break t;case"textarea":Ro(t,s.value,s.defaultValue);break t;case"select":n=s.value,n!=null&&ds(t,!!s.multiple,n,!1)}}}var Xa=!1;function ys(t,n,s){if(Xa)return t(n,s);Xa=!0;try{var l=t(n);return l}finally{if(Xa=!1,(ps!==null||Ai!==null)&&(xu(),ps&&(n=ps,t=Ai,Ai=ps=null,la(n),t)))for(n=0;n<t.length;n++)la(t[n])}}function ri(t,n){var s=t.stateNode;if(s===null)return null;var l=s[ze]||null;if(l===null)return null;s=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(r(231,n,typeof s));return s}var Yn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),oa=!1;if(Yn)try{var he={};Object.defineProperty(he,"passive",{get:function(){oa=!0}}),window.addEventListener("test",he,he),window.removeEventListener("test",he,he)}catch{oa=!1}var wi=null,sl=null,ua=null;function al(){if(ua)return ua;var t,n=sl,s=n.length,l,c="value"in wi?wi.value:wi.textContent,f=c.length;for(t=0;t<s&&n[t]===c[t];t++);var y=s-t;for(l=1;l<=y&&n[s-l]===c[f-l];l++);return ua=c.slice(t,1<l?1-l:void 0)}function ca(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function qi(){return!0}function li(){return!1}function nn(t){function n(s,l,c,f,y){this._reactName=s,this._targetInst=c,this.type=l,this.nativeEvent=f,this.target=y,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(s=t[E],this[E]=s?s(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?qi:li,this.isPropagationStopped=li,this}return A(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=qi)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=qi)},persist:function(){},isPersistent:qi}),n}var Hi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ci=nn(Hi),vs=A({},Hi,{view:0,detail:0}),rl=nn(vs),_s,Za,Ri,$a=A({},vs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:bs,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ri&&(Ri&&t.type==="mousemove"?(_s=t.screenX-Ri.screenX,Za=t.screenY-Ri.screenY):Za=_s=0,Ri=t),_s)},movementY:function(t){return"movementY"in t?t.movementY:Za}}),ll=nn($a),ha=A({},$a,{dataTransfer:0}),No=nn(ha),Vo=A({},vs,{relatedTarget:0}),fa=nn(Vo),ol=A({},Hi,{animationName:0,elapsedTime:0,pseudoElement:0}),Oo=nn(ol),Ja=A({},Hi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Mo=nn(Ja),jo=A({},Hi,{data:0}),Ii=nn(jo),Lo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ko={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},zo={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Uo(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=zo[t])?!!n[t]:!1}function bs(){return Uo}var En=A({},vs,{key:function(t){if(t.key){var n=Lo[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=ca(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?ko[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:bs,charCode:function(t){return t.type==="keypress"?ca(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ca(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Bo=nn(En),Po=A({},$a,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Fi=nn(Po),u=A({},vs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:bs}),m=nn(u),_=A({},Hi,{propertyName:0,elapsedTime:0,pseudoElement:0}),x=nn(_),B=A({},$a,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),K=nn(B),ft=A({},Hi,{newState:0,oldState:0}),kt=nn(ft),Ve=[9,13,27,32],ie=Yn&&"CompositionEvent"in window,Se=null;Yn&&"documentMode"in document&&(Se=document.documentMode);var Kn=Yn&&"TextEvent"in window&&!Se,Di=Yn&&(!ie||Se&&8<Se&&11>=Se),oi=" ",ui=!1;function da(t,n){switch(t){case"keyup":return Ve.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Wa(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var tr=!1;function z_(t,n){switch(t){case"compositionend":return Wa(n);case"keypress":return n.which!==32?null:(ui=!0,oi);case"textInput":return t=n.data,t===oi&&ui?null:t;default:return null}}function U_(t,n){if(tr)return t==="compositionend"||!ie&&da(t,n)?(t=al(),ua=sl=wi=null,tr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Di&&n.locale!=="ko"?null:n.data;default:return null}}var B_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function im(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!B_[t.type]:n==="textarea"}function sm(t,n,s,l){ps?Ai?Ai.push(l):Ai=[l]:ps=l,n=Du(n,"onChange"),0<n.length&&(s=new Ci("onChange","change",null,s,l),t.push({event:s,listeners:n}))}var ul=null,cl=null;function P_(t){Bp(t,0)}function qo(t){var n=On(t);if(aa(n))return t}function am(t,n){if(t==="change")return n}var rm=!1;if(Yn){var Lc;if(Yn){var kc="oninput"in document;if(!kc){var lm=document.createElement("div");lm.setAttribute("oninput","return;"),kc=typeof lm.oninput=="function"}Lc=kc}else Lc=!1;rm=Lc&&(!document.documentMode||9<document.documentMode)}function om(){ul&&(ul.detachEvent("onpropertychange",um),cl=ul=null)}function um(t){if(t.propertyName==="value"&&qo(cl)){var n=[];sm(n,cl,t,Qn(t)),ys(P_,n)}}function q_(t,n,s){t==="focusin"?(om(),ul=n,cl=s,ul.attachEvent("onpropertychange",um)):t==="focusout"&&om()}function H_(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return qo(cl)}function F_(t,n){if(t==="click")return qo(n)}function G_(t,n){if(t==="input"||t==="change")return qo(n)}function Q_(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var jn=typeof Object.is=="function"?Object.is:Q_;function hl(t,n){if(jn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var s=Object.keys(t),l=Object.keys(n);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var c=s[l];if(!ve.call(n,c)||!jn(t[c],n[c]))return!1}return!0}function cm(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function hm(t,n){var s=cm(t);t=0;for(var l;s;){if(s.nodeType===3){if(l=t+s.textContent.length,t<=n&&l>=n)return{node:s,offset:n-t};t=l}t:{for(;s;){if(s.nextSibling){s=s.nextSibling;break t}s=s.parentNode}s=void 0}s=cm(s)}}function fm(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?fm(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function dm(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=Si(t.document);n instanceof t.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)t=n.contentWindow;else break;n=Si(t.document)}return n}function zc(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var Y_=Yn&&"documentMode"in document&&11>=document.documentMode,er=null,Uc=null,fl=null,Bc=!1;function mm(t,n,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Bc||er==null||er!==Si(l)||(l=er,"selectionStart"in l&&zc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),fl&&hl(fl,l)||(fl=l,l=Du(Uc,"onSelect"),0<l.length&&(n=new Ci("onSelect","select",null,n,s),t.push({event:n,listeners:l}),n.target=er)))}function ma(t,n){var s={};return s[t.toLowerCase()]=n.toLowerCase(),s["Webkit"+t]="webkit"+n,s["Moz"+t]="moz"+n,s}var nr={animationend:ma("Animation","AnimationEnd"),animationiteration:ma("Animation","AnimationIteration"),animationstart:ma("Animation","AnimationStart"),transitionrun:ma("Transition","TransitionRun"),transitionstart:ma("Transition","TransitionStart"),transitioncancel:ma("Transition","TransitionCancel"),transitionend:ma("Transition","TransitionEnd")},Pc={},gm={};Yn&&(gm=document.createElement("div").style,"AnimationEvent"in window||(delete nr.animationend.animation,delete nr.animationiteration.animation,delete nr.animationstart.animation),"TransitionEvent"in window||delete nr.transitionend.transition);function ga(t){if(Pc[t])return Pc[t];if(!nr[t])return t;var n=nr[t],s;for(s in n)if(n.hasOwnProperty(s)&&s in gm)return Pc[t]=n[s];return t}var pm=ga("animationend"),ym=ga("animationiteration"),vm=ga("animationstart"),K_=ga("transitionrun"),X_=ga("transitionstart"),Z_=ga("transitioncancel"),_m=ga("transitionend"),bm=new Map,qc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");qc.push("scrollEnd");function ci(t,n){bm.set(t,n),Ti(n,[t])}var Ho=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Xn=[],ir=0,Hc=0;function Fo(){for(var t=ir,n=Hc=ir=0;n<t;){var s=Xn[n];Xn[n++]=null;var l=Xn[n];Xn[n++]=null;var c=Xn[n];Xn[n++]=null;var f=Xn[n];if(Xn[n++]=null,l!==null&&c!==null){var y=l.pending;y===null?c.next=c:(c.next=y.next,y.next=c),l.pending=c}f!==0&&Em(s,c,f)}}function Go(t,n,s,l){Xn[ir++]=t,Xn[ir++]=n,Xn[ir++]=s,Xn[ir++]=l,Hc|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Fc(t,n,s,l){return Go(t,n,s,l),Qo(t)}function pa(t,n){return Go(t,null,null,n),Qo(t)}function Em(t,n,s){t.lanes|=s;var l=t.alternate;l!==null&&(l.lanes|=s);for(var c=!1,f=t.return;f!==null;)f.childLanes|=s,l=f.alternate,l!==null&&(l.childLanes|=s),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(c=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,c&&n!==null&&(c=31-Tt(s),t=f.hiddenUpdates,l=t[c],l===null?t[c]=[n]:l.push(n),n.lane=s|536870912),f):null}function Qo(t){if(50<Ml)throw Ml=0,Wh=null,Error(r(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var sr={};function $_(t,n,s,l){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ln(t,n,s,l){return new $_(t,n,s,l)}function Gc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Gi(t,n){var s=t.alternate;return s===null?(s=Ln(t.tag,n,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=n,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&65011712,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,n=t.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s.refCleanup=t.refCleanup,s}function Tm(t,n){t.flags&=65011714;var s=t.alternate;return s===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=s.childLanes,t.lanes=s.lanes,t.child=s.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=s.memoizedProps,t.memoizedState=s.memoizedState,t.updateQueue=s.updateQueue,t.type=s.type,n=s.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Yo(t,n,s,l,c,f){var y=0;if(l=t,typeof t=="function")Gc(t)&&(y=1);else if(typeof t=="string")y=nE(t,s,vt.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case I:return t=Ln(31,s,n,c),t.elementType=I,t.lanes=f,t;case st:return ya(s.children,c,f,n);case V:y=8,c|=24;break;case H:return t=Ln(12,s,n,c|2),t.elementType=H,t.lanes=f,t;case yt:return t=Ln(13,s,n,c),t.elementType=yt,t.lanes=f,t;case xt:return t=Ln(19,s,n,c),t.elementType=xt,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Y:y=10;break t;case G:y=9;break t;case ut:y=11;break t;case R:y=14;break t;case w:y=16,l=null;break t}y=29,s=Error(r(130,t===null?"null":typeof t,"")),l=null}return n=Ln(y,s,n,c),n.elementType=t,n.type=l,n.lanes=f,n}function ya(t,n,s,l){return t=Ln(7,t,l,n),t.lanes=s,t}function Qc(t,n,s){return t=Ln(6,t,null,n),t.lanes=s,t}function xm(t){var n=Ln(18,null,null,0);return n.stateNode=t,n}function Yc(t,n,s){return n=Ln(4,t.children!==null?t.children:[],t.key,n),n.lanes=s,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Sm=new WeakMap;function Zn(t,n){if(typeof t=="object"&&t!==null){var s=Sm.get(t);return s!==void 0?s:(n={value:t,source:n,stack:qn(n)},Sm.set(t,n),n)}return{value:t,source:n,stack:qn(n)}}var ar=[],rr=0,Ko=null,dl=0,$n=[],Jn=0,Es=null,Ni=1,Vi="";function Qi(t,n){ar[rr++]=dl,ar[rr++]=Ko,Ko=t,dl=n}function Am(t,n,s){$n[Jn++]=Ni,$n[Jn++]=Vi,$n[Jn++]=Es,Es=t;var l=Ni;t=Vi;var c=32-Tt(l)-1;l&=~(1<<c),s+=1;var f=32-Tt(n)+c;if(30<f){var y=c-c%5;f=(l&(1<<y)-1).toString(32),l>>=y,c-=y,Ni=1<<32-Tt(n)+c|s<<c|l,Vi=f+t}else Ni=1<<f|s<<c|l,Vi=t}function Kc(t){t.return!==null&&(Qi(t,1),Am(t,1,0))}function Xc(t){for(;t===Ko;)Ko=ar[--rr],ar[rr]=null,dl=ar[--rr],ar[rr]=null;for(;t===Es;)Es=$n[--Jn],$n[Jn]=null,Vi=$n[--Jn],$n[Jn]=null,Ni=$n[--Jn],$n[Jn]=null}function wm(t,n){$n[Jn++]=Ni,$n[Jn++]=Vi,$n[Jn++]=Es,Ni=n.id,Vi=n.overflow,Es=t}var sn=null,be=null,Xt=!1,Ts=null,Wn=!1,Zc=Error(r(519));function xs(t){var n=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ml(Zn(n,t)),Zc}function Cm(t){var n=t.stateNode,s=t.type,l=t.memoizedProps;switch(n[pe]=t,n[ze]=l,s){case"dialog":Ft("cancel",n),Ft("close",n);break;case"iframe":case"object":case"embed":Ft("load",n);break;case"video":case"audio":for(s=0;s<Ll.length;s++)Ft(Ll[s],n);break;case"source":Ft("error",n);break;case"img":case"image":case"link":Ft("error",n),Ft("load",n);break;case"details":Ft("toggle",n);break;case"input":Ft("invalid",n),Co(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Ft("invalid",n);break;case"textarea":Ft("invalid",n),ms(n,l.value,l.defaultValue,l.children)}s=l.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||l.suppressHydrationWarning===!0||Fp(n.textContent,s)?(l.popover!=null&&(Ft("beforetoggle",n),Ft("toggle",n)),l.onScroll!=null&&Ft("scroll",n),l.onScrollEnd!=null&&Ft("scrollend",n),l.onClick!=null&&(n.onclick=ai),n=!0):n=!1,n||xs(t,!0)}function Rm(t){for(sn=t.return;sn;)switch(sn.tag){case 5:case 31:case 13:Wn=!1;return;case 27:case 3:Wn=!0;return;default:sn=sn.return}}function lr(t){if(t!==sn)return!1;if(!Xt)return Rm(t),Xt=!0,!1;var n=t.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=t.type,s=!(s!=="form"&&s!=="button")||gf(t.type,t.memoizedProps)),s=!s),s&&be&&xs(t),Rm(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));be=Wp(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));be=Wp(t)}else n===27?(n=be,ks(t.type)?(t=bf,bf=null,be=t):be=n):be=sn?ei(t.stateNode.nextSibling):null;return!0}function va(){be=sn=null,Xt=!1}function $c(){var t=Ts;return t!==null&&(In===null?In=t:In.push.apply(In,t),Ts=null),t}function ml(t){Ts===null?Ts=[t]:Ts.push(t)}var Jc=O(null),_a=null,Yi=null;function Ss(t,n,s){dt(Jc,n._currentValue),n._currentValue=s}function Ki(t){t._currentValue=Jc.current,et(Jc)}function Wc(t,n,s){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===s)break;t=t.return}}function th(t,n,s,l){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var f=c.dependencies;if(f!==null){var y=c.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=c;for(var D=0;D<n.length;D++)if(E.context===n[D]){f.lanes|=s,E=f.alternate,E!==null&&(E.lanes|=s),Wc(f.return,s,t),l||(y=null);break t}f=E.next}}else if(c.tag===18){if(y=c.return,y===null)throw Error(r(341));y.lanes|=s,f=y.alternate,f!==null&&(f.lanes|=s),Wc(y,s,t),y=null}else y=c.child;if(y!==null)y.return=c;else for(y=c;y!==null;){if(y===t){y=null;break}if(c=y.sibling,c!==null){c.return=y.return,y=c;break}y=y.return}c=y}}function or(t,n,s,l){t=null;for(var c=n,f=!1;c!==null;){if(!f){if((c.flags&524288)!==0)f=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var y=c.alternate;if(y===null)throw Error(r(387));if(y=y.memoizedProps,y!==null){var E=c.type;jn(c.pendingProps.value,y.value)||(t!==null?t.push(E):t=[E])}}else if(c===mt.current){if(y=c.alternate,y===null)throw Error(r(387));y.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(Pl):t=[Pl])}c=c.return}t!==null&&th(n,t,s,l),n.flags|=262144}function Xo(t){for(t=t.firstContext;t!==null;){if(!jn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ba(t){_a=t,Yi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function an(t){return Im(_a,t)}function Zo(t,n){return _a===null&&ba(t),Im(t,n)}function Im(t,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},Yi===null){if(t===null)throw Error(r(308));Yi=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Yi=Yi.next=n;return s}var J_=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(s,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(s){return s()})}},W_=a.unstable_scheduleCallback,tb=a.unstable_NormalPriority,Pe={$$typeof:Y,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function eh(){return{controller:new J_,data:new Map,refCount:0}}function gl(t){t.refCount--,t.refCount===0&&W_(tb,function(){t.controller.abort()})}var pl=null,nh=0,ur=0,cr=null;function eb(t,n){if(pl===null){var s=pl=[];nh=0,ur=rf(),cr={status:"pending",value:void 0,then:function(l){s.push(l)}}}return nh++,n.then(Dm,Dm),n}function Dm(){if(--nh===0&&pl!==null){cr!==null&&(cr.status="fulfilled");var t=pl;pl=null,ur=0,cr=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function nb(t,n){var s=[],l={status:"pending",value:null,reason:null,then:function(c){s.push(c)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var c=0;c<s.length;c++)(0,s[c])(n)},function(c){for(l.status="rejected",l.reason=c,c=0;c<s.length;c++)(0,s[c])(void 0)}),l}var Nm=J.S;J.S=function(t,n){mp=$e(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&eb(t,n),Nm!==null&&Nm(t,n)};var Ea=O(null);function ih(){var t=Ea.current;return t!==null?t:ye.pooledCache}function $o(t,n){n===null?dt(Ea,Ea.current):dt(Ea,n.pool)}function Vm(){var t=ih();return t===null?null:{parent:Pe._currentValue,pool:t}}var hr=Error(r(460)),sh=Error(r(474)),Jo=Error(r(542)),Wo={then:function(){}};function Om(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Mm(t,n,s){switch(s=t[s],s===void 0?t.push(n):s!==n&&(n.then(ai,ai),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Lm(t),t;default:if(typeof n.status=="string")n.then(ai,ai);else{if(t=ye,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=l}},function(l){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Lm(t),t}throw xa=n,hr}}function Ta(t){try{var n=t._init;return n(t._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(xa=s,hr):s}}var xa=null;function jm(){if(xa===null)throw Error(r(459));var t=xa;return xa=null,t}function Lm(t){if(t===hr||t===Jo)throw Error(r(483))}var fr=null,yl=0;function tu(t){var n=yl;return yl+=1,fr===null&&(fr=[]),Mm(fr,t,n)}function vl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function eu(t,n){throw n.$$typeof===C?Error(r(525)):(t=Object.prototype.toString.call(n),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function km(t){function n(z,M){if(t){var P=z.deletions;P===null?(z.deletions=[M],z.flags|=16):P.push(M)}}function s(z,M){if(!t)return null;for(;M!==null;)n(z,M),M=M.sibling;return null}function l(z){for(var M=new Map;z!==null;)z.key!==null?M.set(z.key,z):M.set(z.index,z),z=z.sibling;return M}function c(z,M){return z=Gi(z,M),z.index=0,z.sibling=null,z}function f(z,M,P){return z.index=P,t?(P=z.alternate,P!==null?(P=P.index,P<M?(z.flags|=67108866,M):P):(z.flags|=67108866,M)):(z.flags|=1048576,M)}function y(z){return t&&z.alternate===null&&(z.flags|=67108866),z}function E(z,M,P,nt){return M===null||M.tag!==6?(M=Qc(P,z.mode,nt),M.return=z,M):(M=c(M,P),M.return=z,M)}function D(z,M,P,nt){var Rt=P.type;return Rt===st?W(z,M,P.props.children,nt,P.key):M!==null&&(M.elementType===Rt||typeof Rt=="object"&&Rt!==null&&Rt.$$typeof===w&&Ta(Rt)===M.type)?(M=c(M,P.props),vl(M,P),M.return=z,M):(M=Yo(P.type,P.key,P.props,null,z.mode,nt),vl(M,P),M.return=z,M)}function q(z,M,P,nt){return M===null||M.tag!==4||M.stateNode.containerInfo!==P.containerInfo||M.stateNode.implementation!==P.implementation?(M=Yc(P,z.mode,nt),M.return=z,M):(M=c(M,P.children||[]),M.return=z,M)}function W(z,M,P,nt,Rt){return M===null||M.tag!==7?(M=ya(P,z.mode,nt,Rt),M.return=z,M):(M=c(M,P),M.return=z,M)}function it(z,M,P){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=Qc(""+M,z.mode,P),M.return=z,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case U:return P=Yo(M.type,M.key,M.props,null,z.mode,P),vl(P,M),P.return=z,P;case Z:return M=Yc(M,z.mode,P),M.return=z,M;case w:return M=Ta(M),it(z,M,P)}if(ne(M)||k(M))return M=ya(M,z.mode,P,null),M.return=z,M;if(typeof M.then=="function")return it(z,tu(M),P);if(M.$$typeof===Y)return it(z,Zo(z,M),P);eu(z,M)}return null}function Q(z,M,P,nt){var Rt=M!==null?M.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return Rt!==null?null:E(z,M,""+P,nt);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case U:return P.key===Rt?D(z,M,P,nt):null;case Z:return P.key===Rt?q(z,M,P,nt):null;case w:return P=Ta(P),Q(z,M,P,nt)}if(ne(P)||k(P))return Rt!==null?null:W(z,M,P,nt,null);if(typeof P.then=="function")return Q(z,M,tu(P),nt);if(P.$$typeof===Y)return Q(z,M,Zo(z,P),nt);eu(z,P)}return null}function X(z,M,P,nt,Rt){if(typeof nt=="string"&&nt!==""||typeof nt=="number"||typeof nt=="bigint")return z=z.get(P)||null,E(M,z,""+nt,Rt);if(typeof nt=="object"&&nt!==null){switch(nt.$$typeof){case U:return z=z.get(nt.key===null?P:nt.key)||null,D(M,z,nt,Rt);case Z:return z=z.get(nt.key===null?P:nt.key)||null,q(M,z,nt,Rt);case w:return nt=Ta(nt),X(z,M,P,nt,Rt)}if(ne(nt)||k(nt))return z=z.get(P)||null,W(M,z,nt,Rt,null);if(typeof nt.then=="function")return X(z,M,P,tu(nt),Rt);if(nt.$$typeof===Y)return X(z,M,P,Zo(M,nt),Rt);eu(M,nt)}return null}function Et(z,M,P,nt){for(var Rt=null,te=null,St=M,Ut=M=0,Qt=null;St!==null&&Ut<P.length;Ut++){St.index>Ut?(Qt=St,St=null):Qt=St.sibling;var ee=Q(z,St,P[Ut],nt);if(ee===null){St===null&&(St=Qt);break}t&&St&&ee.alternate===null&&n(z,St),M=f(ee,M,Ut),te===null?Rt=ee:te.sibling=ee,te=ee,St=Qt}if(Ut===P.length)return s(z,St),Xt&&Qi(z,Ut),Rt;if(St===null){for(;Ut<P.length;Ut++)St=it(z,P[Ut],nt),St!==null&&(M=f(St,M,Ut),te===null?Rt=St:te.sibling=St,te=St);return Xt&&Qi(z,Ut),Rt}for(St=l(St);Ut<P.length;Ut++)Qt=X(St,z,Ut,P[Ut],nt),Qt!==null&&(t&&Qt.alternate!==null&&St.delete(Qt.key===null?Ut:Qt.key),M=f(Qt,M,Ut),te===null?Rt=Qt:te.sibling=Qt,te=Qt);return t&&St.forEach(function(qs){return n(z,qs)}),Xt&&Qi(z,Ut),Rt}function Nt(z,M,P,nt){if(P==null)throw Error(r(151));for(var Rt=null,te=null,St=M,Ut=M=0,Qt=null,ee=P.next();St!==null&&!ee.done;Ut++,ee=P.next()){St.index>Ut?(Qt=St,St=null):Qt=St.sibling;var qs=Q(z,St,ee.value,nt);if(qs===null){St===null&&(St=Qt);break}t&&St&&qs.alternate===null&&n(z,St),M=f(qs,M,Ut),te===null?Rt=qs:te.sibling=qs,te=qs,St=Qt}if(ee.done)return s(z,St),Xt&&Qi(z,Ut),Rt;if(St===null){for(;!ee.done;Ut++,ee=P.next())ee=it(z,ee.value,nt),ee!==null&&(M=f(ee,M,Ut),te===null?Rt=ee:te.sibling=ee,te=ee);return Xt&&Qi(z,Ut),Rt}for(St=l(St);!ee.done;Ut++,ee=P.next())ee=X(St,z,Ut,ee.value,nt),ee!==null&&(t&&ee.alternate!==null&&St.delete(ee.key===null?Ut:ee.key),M=f(ee,M,Ut),te===null?Rt=ee:te.sibling=ee,te=ee);return t&&St.forEach(function(dE){return n(z,dE)}),Xt&&Qi(z,Ut),Rt}function me(z,M,P,nt){if(typeof P=="object"&&P!==null&&P.type===st&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case U:t:{for(var Rt=P.key;M!==null;){if(M.key===Rt){if(Rt=P.type,Rt===st){if(M.tag===7){s(z,M.sibling),nt=c(M,P.props.children),nt.return=z,z=nt;break t}}else if(M.elementType===Rt||typeof Rt=="object"&&Rt!==null&&Rt.$$typeof===w&&Ta(Rt)===M.type){s(z,M.sibling),nt=c(M,P.props),vl(nt,P),nt.return=z,z=nt;break t}s(z,M);break}else n(z,M);M=M.sibling}P.type===st?(nt=ya(P.props.children,z.mode,nt,P.key),nt.return=z,z=nt):(nt=Yo(P.type,P.key,P.props,null,z.mode,nt),vl(nt,P),nt.return=z,z=nt)}return y(z);case Z:t:{for(Rt=P.key;M!==null;){if(M.key===Rt)if(M.tag===4&&M.stateNode.containerInfo===P.containerInfo&&M.stateNode.implementation===P.implementation){s(z,M.sibling),nt=c(M,P.children||[]),nt.return=z,z=nt;break t}else{s(z,M);break}else n(z,M);M=M.sibling}nt=Yc(P,z.mode,nt),nt.return=z,z=nt}return y(z);case w:return P=Ta(P),me(z,M,P,nt)}if(ne(P))return Et(z,M,P,nt);if(k(P)){if(Rt=k(P),typeof Rt!="function")throw Error(r(150));return P=Rt.call(P),Nt(z,M,P,nt)}if(typeof P.then=="function")return me(z,M,tu(P),nt);if(P.$$typeof===Y)return me(z,M,Zo(z,P),nt);eu(z,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,M!==null&&M.tag===6?(s(z,M.sibling),nt=c(M,P),nt.return=z,z=nt):(s(z,M),nt=Qc(P,z.mode,nt),nt.return=z,z=nt),y(z)):s(z,M)}return function(z,M,P,nt){try{yl=0;var Rt=me(z,M,P,nt);return fr=null,Rt}catch(St){if(St===hr||St===Jo)throw St;var te=Ln(29,St,null,z.mode);return te.lanes=nt,te.return=z,te}finally{}}}var Sa=km(!0),zm=km(!1),As=!1;function ah(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function rh(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function ws(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Cs(t,n,s){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(se&2)!==0){var c=l.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),l.pending=n,n=Qo(t),Em(t,null,s),n}return Go(t,l,n,s),Qo(t)}function _l(t,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,s|=l,n.lanes=s,cs(t,s)}}function lh(t,n){var s=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var c=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var y={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?c=f=y:f=f.next=y,s=s.next}while(s!==null);f===null?c=f=n:f=f.next=n}else c=f=n;s={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=n:t.next=n,s.lastBaseUpdate=n}var oh=!1;function bl(){if(oh){var t=cr;if(t!==null)throw t}}function El(t,n,s,l){oh=!1;var c=t.updateQueue;As=!1;var f=c.firstBaseUpdate,y=c.lastBaseUpdate,E=c.shared.pending;if(E!==null){c.shared.pending=null;var D=E,q=D.next;D.next=null,y===null?f=q:y.next=q,y=D;var W=t.alternate;W!==null&&(W=W.updateQueue,E=W.lastBaseUpdate,E!==y&&(E===null?W.firstBaseUpdate=q:E.next=q,W.lastBaseUpdate=D))}if(f!==null){var it=c.baseState;y=0,W=q=D=null,E=f;do{var Q=E.lane&-536870913,X=Q!==E.lane;if(X?(Gt&Q)===Q:(l&Q)===Q){Q!==0&&Q===ur&&(oh=!0),W!==null&&(W=W.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var Et=t,Nt=E;Q=n;var me=s;switch(Nt.tag){case 1:if(Et=Nt.payload,typeof Et=="function"){it=Et.call(me,it,Q);break t}it=Et;break t;case 3:Et.flags=Et.flags&-65537|128;case 0:if(Et=Nt.payload,Q=typeof Et=="function"?Et.call(me,it,Q):Et,Q==null)break t;it=A({},it,Q);break t;case 2:As=!0}}Q=E.callback,Q!==null&&(t.flags|=64,X&&(t.flags|=8192),X=c.callbacks,X===null?c.callbacks=[Q]:X.push(Q))}else X={lane:Q,tag:E.tag,payload:E.payload,callback:E.callback,next:null},W===null?(q=W=X,D=it):W=W.next=X,y|=Q;if(E=E.next,E===null){if(E=c.shared.pending,E===null)break;X=E,E=X.next,X.next=null,c.lastBaseUpdate=X,c.shared.pending=null}}while(!0);W===null&&(D=it),c.baseState=D,c.firstBaseUpdate=q,c.lastBaseUpdate=W,f===null&&(c.shared.lanes=0),Vs|=y,t.lanes=y,t.memoizedState=it}}function Um(t,n){if(typeof t!="function")throw Error(r(191,t));t.call(n)}function Bm(t,n){var s=t.callbacks;if(s!==null)for(t.callbacks=null,t=0;t<s.length;t++)Um(s[t],n)}var dr=O(null),nu=O(0);function Pm(t,n){t=is,dt(nu,t),dt(dr,n),is=t|n.baseLanes}function uh(){dt(nu,is),dt(dr,dr.current)}function ch(){is=nu.current,et(dr),et(nu)}var kn=O(null),ti=null;function Rs(t){var n=t.alternate;dt(Oe,Oe.current&1),dt(kn,t),ti===null&&(n===null||dr.current!==null||n.memoizedState!==null)&&(ti=t)}function hh(t){dt(Oe,Oe.current),dt(kn,t),ti===null&&(ti=t)}function qm(t){t.tag===22?(dt(Oe,Oe.current),dt(kn,t),ti===null&&(ti=t)):Is()}function Is(){dt(Oe,Oe.current),dt(kn,kn.current)}function zn(t){et(kn),ti===t&&(ti=null),et(Oe)}var Oe=O(0);function iu(t){for(var n=t;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||vf(s)||_f(s)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Xi=0,zt=null,fe=null,qe=null,su=!1,mr=!1,Aa=!1,au=0,Tl=0,gr=null,ib=0;function De(){throw Error(r(321))}function fh(t,n){if(n===null)return!1;for(var s=0;s<n.length&&s<t.length;s++)if(!jn(t[s],n[s]))return!1;return!0}function dh(t,n,s,l,c,f){return Xi=f,zt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,J.H=t===null||t.memoizedState===null?Ag:Rh,Aa=!1,f=s(l,c),Aa=!1,mr&&(f=Fm(n,s,l,c)),Hm(t),f}function Hm(t){J.H=Al;var n=fe!==null&&fe.next!==null;if(Xi=0,qe=fe=zt=null,su=!1,Tl=0,gr=null,n)throw Error(r(300));t===null||He||(t=t.dependencies,t!==null&&Xo(t)&&(He=!0))}function Fm(t,n,s,l){zt=t;var c=0;do{if(mr&&(gr=null),Tl=0,mr=!1,25<=c)throw Error(r(301));if(c+=1,qe=fe=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}J.H=wg,f=n(s,l)}while(mr);return f}function sb(){var t=J.H,n=t.useState()[0];return n=typeof n.then=="function"?xl(n):n,t=t.useState()[0],(fe!==null?fe.memoizedState:null)!==t&&(zt.flags|=1024),n}function mh(){var t=au!==0;return au=0,t}function gh(t,n,s){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~s}function ph(t){if(su){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}su=!1}Xi=0,qe=fe=zt=null,mr=!1,Tl=au=0,gr=null}function Tn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return qe===null?zt.memoizedState=qe=t:qe=qe.next=t,qe}function Me(){if(fe===null){var t=zt.alternate;t=t!==null?t.memoizedState:null}else t=fe.next;var n=qe===null?zt.memoizedState:qe.next;if(n!==null)qe=n,fe=t;else{if(t===null)throw zt.alternate===null?Error(r(467)):Error(r(310));fe=t,t={memoizedState:fe.memoizedState,baseState:fe.baseState,baseQueue:fe.baseQueue,queue:fe.queue,next:null},qe===null?zt.memoizedState=qe=t:qe=qe.next=t}return qe}function ru(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function xl(t){var n=Tl;return Tl+=1,gr===null&&(gr=[]),t=Mm(gr,t,n),n=zt,(qe===null?n.memoizedState:qe.next)===null&&(n=n.alternate,J.H=n===null||n.memoizedState===null?Ag:Rh),t}function lu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return xl(t);if(t.$$typeof===Y)return an(t)}throw Error(r(438,String(t)))}function yh(t){var n=null,s=zt.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var l=zt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=ru(),zt.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(t),l=0;l<t;l++)s[l]=j;return n.index++,s}function Zi(t,n){return typeof n=="function"?n(t):n}function ou(t){var n=Me();return vh(n,fe,t)}function vh(t,n,s){var l=t.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=s;var c=t.baseQueue,f=l.pending;if(f!==null){if(c!==null){var y=c.next;c.next=f.next,f.next=y}n.baseQueue=c=f,l.pending=null}if(f=t.baseState,c===null)t.memoizedState=f;else{n=c.next;var E=y=null,D=null,q=n,W=!1;do{var it=q.lane&-536870913;if(it!==q.lane?(Gt&it)===it:(Xi&it)===it){var Q=q.revertLane;if(Q===0)D!==null&&(D=D.next={lane:0,revertLane:0,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),it===ur&&(W=!0);else if((Xi&Q)===Q){q=q.next,Q===ur&&(W=!0);continue}else it={lane:0,revertLane:q.revertLane,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},D===null?(E=D=it,y=f):D=D.next=it,zt.lanes|=Q,Vs|=Q;it=q.action,Aa&&s(f,it),f=q.hasEagerState?q.eagerState:s(f,it)}else Q={lane:it,revertLane:q.revertLane,gesture:q.gesture,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},D===null?(E=D=Q,y=f):D=D.next=Q,zt.lanes|=it,Vs|=it;q=q.next}while(q!==null&&q!==n);if(D===null?y=f:D.next=E,!jn(f,t.memoizedState)&&(He=!0,W&&(s=cr,s!==null)))throw s;t.memoizedState=f,t.baseState=y,t.baseQueue=D,l.lastRenderedState=f}return c===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function _h(t){var n=Me(),s=n.queue;if(s===null)throw Error(r(311));s.lastRenderedReducer=t;var l=s.dispatch,c=s.pending,f=n.memoizedState;if(c!==null){s.pending=null;var y=c=c.next;do f=t(f,y.action),y=y.next;while(y!==c);jn(f,n.memoizedState)||(He=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),s.lastRenderedState=f}return[f,l]}function Gm(t,n,s){var l=zt,c=Me(),f=Xt;if(f){if(s===void 0)throw Error(r(407));s=s()}else s=n();var y=!jn((fe||c).memoizedState,s);if(y&&(c.memoizedState=s,He=!0),c=c.queue,Th(Km.bind(null,l,c,t),[t]),c.getSnapshot!==n||y||qe!==null&&qe.memoizedState.tag&1){if(l.flags|=2048,pr(9,{destroy:void 0},Ym.bind(null,l,c,s,n),null),ye===null)throw Error(r(349));f||(Xi&127)!==0||Qm(l,n,s)}return s}function Qm(t,n,s){t.flags|=16384,t={getSnapshot:n,value:s},n=zt.updateQueue,n===null?(n=ru(),zt.updateQueue=n,n.stores=[t]):(s=n.stores,s===null?n.stores=[t]:s.push(t))}function Ym(t,n,s,l){n.value=s,n.getSnapshot=l,Xm(n)&&Zm(t)}function Km(t,n,s){return s(function(){Xm(n)&&Zm(t)})}function Xm(t){var n=t.getSnapshot;t=t.value;try{var s=n();return!jn(t,s)}catch{return!0}}function Zm(t){var n=pa(t,2);n!==null&&Dn(n,t,2)}function bh(t){var n=Tn();if(typeof t=="function"){var s=t;if(t=s(),Aa){Ot(!0);try{s()}finally{Ot(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zi,lastRenderedState:t},n}function $m(t,n,s,l){return t.baseState=s,vh(t,fe,typeof l=="function"?l:Zi)}function ab(t,n,s,l,c){if(hu(t))throw Error(r(485));if(t=n.action,t!==null){var f={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){f.listeners.push(y)}};J.T!==null?s(!0):f.isTransition=!1,l(f),s=n.pending,s===null?(f.next=n.pending=f,Jm(n,f)):(f.next=s.next,n.pending=s.next=f)}}function Jm(t,n){var s=n.action,l=n.payload,c=t.state;if(n.isTransition){var f=J.T,y={};J.T=y;try{var E=s(c,l),D=J.S;D!==null&&D(y,E),Wm(t,n,E)}catch(q){Eh(t,n,q)}finally{f!==null&&y.types!==null&&(f.types=y.types),J.T=f}}else try{f=s(c,l),Wm(t,n,f)}catch(q){Eh(t,n,q)}}function Wm(t,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(l){tg(t,n,l)},function(l){return Eh(t,n,l)}):tg(t,n,s)}function tg(t,n,s){n.status="fulfilled",n.value=s,eg(n),t.state=s,n=t.pending,n!==null&&(s=n.next,s===n?t.pending=null:(s=s.next,n.next=s,Jm(t,s)))}function Eh(t,n,s){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=s,eg(n),n=n.next;while(n!==l)}t.action=null}function eg(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function ng(t,n){return n}function ig(t,n){if(Xt){var s=ye.formState;if(s!==null){t:{var l=zt;if(Xt){if(be){e:{for(var c=be,f=Wn;c.nodeType!==8;){if(!f){c=null;break e}if(c=ei(c.nextSibling),c===null){c=null;break e}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){be=ei(c.nextSibling),l=c.data==="F!";break t}}xs(l)}l=!1}l&&(n=s[0])}}return s=Tn(),s.memoizedState=s.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ng,lastRenderedState:n},s.queue=l,s=Tg.bind(null,zt,l),l.dispatch=s,l=bh(!1),f=Ch.bind(null,zt,!1,l.queue),l=Tn(),c={state:n,dispatch:null,action:t,pending:null},l.queue=c,s=ab.bind(null,zt,c,f,s),c.dispatch=s,l.memoizedState=t,[n,s,!1]}function sg(t){var n=Me();return ag(n,fe,t)}function ag(t,n,s){if(n=vh(t,n,ng)[0],t=ou(Zi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=xl(n)}catch(y){throw y===hr?Jo:y}else l=n;n=Me();var c=n.queue,f=c.dispatch;return s!==n.memoizedState&&(zt.flags|=2048,pr(9,{destroy:void 0},rb.bind(null,c,s),null)),[l,f,t]}function rb(t,n){t.action=n}function rg(t){var n=Me(),s=fe;if(s!==null)return ag(n,s,t);Me(),n=n.memoizedState,s=Me();var l=s.queue.dispatch;return s.memoizedState=t,[n,l,!1]}function pr(t,n,s,l){return t={tag:t,create:s,deps:l,inst:n,next:null},n=zt.updateQueue,n===null&&(n=ru(),zt.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=t.next=t:(l=s.next,s.next=t,t.next=l,n.lastEffect=t),t}function lg(){return Me().memoizedState}function uu(t,n,s,l){var c=Tn();zt.flags|=t,c.memoizedState=pr(1|n,{destroy:void 0},s,l===void 0?null:l)}function cu(t,n,s,l){var c=Me();l=l===void 0?null:l;var f=c.memoizedState.inst;fe!==null&&l!==null&&fh(l,fe.memoizedState.deps)?c.memoizedState=pr(n,f,s,l):(zt.flags|=t,c.memoizedState=pr(1|n,f,s,l))}function og(t,n){uu(8390656,8,t,n)}function Th(t,n){cu(2048,8,t,n)}function lb(t){zt.flags|=4;var n=zt.updateQueue;if(n===null)n=ru(),zt.updateQueue=n,n.events=[t];else{var s=n.events;s===null?n.events=[t]:s.push(t)}}function ug(t){var n=Me().memoizedState;return lb({ref:n,nextImpl:t}),function(){if((se&2)!==0)throw Error(r(440));return n.impl.apply(void 0,arguments)}}function cg(t,n){return cu(4,2,t,n)}function hg(t,n){return cu(4,4,t,n)}function fg(t,n){if(typeof n=="function"){t=t();var s=n(t);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function dg(t,n,s){s=s!=null?s.concat([t]):null,cu(4,4,fg.bind(null,n,t),s)}function xh(){}function mg(t,n){var s=Me();n=n===void 0?null:n;var l=s.memoizedState;return n!==null&&fh(n,l[1])?l[0]:(s.memoizedState=[t,n],t)}function gg(t,n){var s=Me();n=n===void 0?null:n;var l=s.memoizedState;if(n!==null&&fh(n,l[1]))return l[0];if(l=t(),Aa){Ot(!0);try{t()}finally{Ot(!1)}}return s.memoizedState=[l,n],l}function Sh(t,n,s){return s===void 0||(Xi&1073741824)!==0&&(Gt&261930)===0?t.memoizedState=n:(t.memoizedState=s,t=pp(),zt.lanes|=t,Vs|=t,s)}function pg(t,n,s,l){return jn(s,n)?s:dr.current!==null?(t=Sh(t,s,l),jn(t,n)||(He=!0),t):(Xi&42)===0||(Xi&1073741824)!==0&&(Gt&261930)===0?(He=!0,t.memoizedState=s):(t=pp(),zt.lanes|=t,Vs|=t,n)}function yg(t,n,s,l,c){var f=ht.p;ht.p=f!==0&&8>f?f:8;var y=J.T,E={};J.T=E,Ch(t,!1,n,s);try{var D=c(),q=J.S;if(q!==null&&q(E,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var W=nb(D,l);Sl(t,n,W,Pn(t))}else Sl(t,n,l,Pn(t))}catch(it){Sl(t,n,{then:function(){},status:"rejected",reason:it},Pn())}finally{ht.p=f,y!==null&&E.types!==null&&(y.types=E.types),J.T=y}}function ob(){}function Ah(t,n,s,l){if(t.tag!==5)throw Error(r(476));var c=vg(t).queue;yg(t,c,n,At,s===null?ob:function(){return _g(t),s(l)})}function vg(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:At,baseState:At,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zi,lastRenderedState:At},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zi,lastRenderedState:s},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function _g(t){var n=vg(t);n.next===null&&(n=t.alternate.memoizedState),Sl(t,n.next.queue,{},Pn())}function wh(){return an(Pl)}function bg(){return Me().memoizedState}function Eg(){return Me().memoizedState}function ub(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var s=Pn();t=ws(s);var l=Cs(n,t,s);l!==null&&(Dn(l,n,s),_l(l,n,s)),n={cache:eh()},t.payload=n;return}n=n.return}}function cb(t,n,s){var l=Pn();s={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},hu(t)?xg(n,s):(s=Fc(t,n,s,l),s!==null&&(Dn(s,t,l),Sg(s,n,l)))}function Tg(t,n,s){var l=Pn();Sl(t,n,s,l)}function Sl(t,n,s,l){var c={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(hu(t))xg(n,c);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var y=n.lastRenderedState,E=f(y,s);if(c.hasEagerState=!0,c.eagerState=E,jn(E,y))return Go(t,n,c,0),ye===null&&Fo(),!1}catch{}finally{}if(s=Fc(t,n,c,l),s!==null)return Dn(s,t,l),Sg(s,n,l),!0}return!1}function Ch(t,n,s,l){if(l={lane:2,revertLane:rf(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},hu(t)){if(n)throw Error(r(479))}else n=Fc(t,s,l,2),n!==null&&Dn(n,t,2)}function hu(t){var n=t.alternate;return t===zt||n!==null&&n===zt}function xg(t,n){mr=su=!0;var s=t.pending;s===null?n.next=n:(n.next=s.next,s.next=n),t.pending=n}function Sg(t,n,s){if((s&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,s|=l,n.lanes=s,cs(t,s)}}var Al={readContext:an,use:lu,useCallback:De,useContext:De,useEffect:De,useImperativeHandle:De,useLayoutEffect:De,useInsertionEffect:De,useMemo:De,useReducer:De,useRef:De,useState:De,useDebugValue:De,useDeferredValue:De,useTransition:De,useSyncExternalStore:De,useId:De,useHostTransitionStatus:De,useFormState:De,useActionState:De,useOptimistic:De,useMemoCache:De,useCacheRefresh:De};Al.useEffectEvent=De;var Ag={readContext:an,use:lu,useCallback:function(t,n){return Tn().memoizedState=[t,n===void 0?null:n],t},useContext:an,useEffect:og,useImperativeHandle:function(t,n,s){s=s!=null?s.concat([t]):null,uu(4194308,4,fg.bind(null,n,t),s)},useLayoutEffect:function(t,n){return uu(4194308,4,t,n)},useInsertionEffect:function(t,n){uu(4,2,t,n)},useMemo:function(t,n){var s=Tn();n=n===void 0?null:n;var l=t();if(Aa){Ot(!0);try{t()}finally{Ot(!1)}}return s.memoizedState=[l,n],l},useReducer:function(t,n,s){var l=Tn();if(s!==void 0){var c=s(n);if(Aa){Ot(!0);try{s(n)}finally{Ot(!1)}}}else c=n;return l.memoizedState=l.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},l.queue=t,t=t.dispatch=cb.bind(null,zt,t),[l.memoizedState,t]},useRef:function(t){var n=Tn();return t={current:t},n.memoizedState=t},useState:function(t){t=bh(t);var n=t.queue,s=Tg.bind(null,zt,n);return n.dispatch=s,[t.memoizedState,s]},useDebugValue:xh,useDeferredValue:function(t,n){var s=Tn();return Sh(s,t,n)},useTransition:function(){var t=bh(!1);return t=yg.bind(null,zt,t.queue,!0,!1),Tn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,s){var l=zt,c=Tn();if(Xt){if(s===void 0)throw Error(r(407));s=s()}else{if(s=n(),ye===null)throw Error(r(349));(Gt&127)!==0||Qm(l,n,s)}c.memoizedState=s;var f={value:s,getSnapshot:n};return c.queue=f,og(Km.bind(null,l,f,t),[t]),l.flags|=2048,pr(9,{destroy:void 0},Ym.bind(null,l,f,s,n),null),s},useId:function(){var t=Tn(),n=ye.identifierPrefix;if(Xt){var s=Vi,l=Ni;s=(l&~(1<<32-Tt(l)-1)).toString(32)+s,n="_"+n+"R_"+s,s=au++,0<s&&(n+="H"+s.toString(32)),n+="_"}else s=ib++,n="_"+n+"r_"+s.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:wh,useFormState:ig,useActionState:ig,useOptimistic:function(t){var n=Tn();n.memoizedState=n.baseState=t;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=Ch.bind(null,zt,!0,s),s.dispatch=n,[t,n]},useMemoCache:yh,useCacheRefresh:function(){return Tn().memoizedState=ub.bind(null,zt)},useEffectEvent:function(t){var n=Tn(),s={impl:t};return n.memoizedState=s,function(){if((se&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}},Rh={readContext:an,use:lu,useCallback:mg,useContext:an,useEffect:Th,useImperativeHandle:dg,useInsertionEffect:cg,useLayoutEffect:hg,useMemo:gg,useReducer:ou,useRef:lg,useState:function(){return ou(Zi)},useDebugValue:xh,useDeferredValue:function(t,n){var s=Me();return pg(s,fe.memoizedState,t,n)},useTransition:function(){var t=ou(Zi)[0],n=Me().memoizedState;return[typeof t=="boolean"?t:xl(t),n]},useSyncExternalStore:Gm,useId:bg,useHostTransitionStatus:wh,useFormState:sg,useActionState:sg,useOptimistic:function(t,n){var s=Me();return $m(s,fe,t,n)},useMemoCache:yh,useCacheRefresh:Eg};Rh.useEffectEvent=ug;var wg={readContext:an,use:lu,useCallback:mg,useContext:an,useEffect:Th,useImperativeHandle:dg,useInsertionEffect:cg,useLayoutEffect:hg,useMemo:gg,useReducer:_h,useRef:lg,useState:function(){return _h(Zi)},useDebugValue:xh,useDeferredValue:function(t,n){var s=Me();return fe===null?Sh(s,t,n):pg(s,fe.memoizedState,t,n)},useTransition:function(){var t=_h(Zi)[0],n=Me().memoizedState;return[typeof t=="boolean"?t:xl(t),n]},useSyncExternalStore:Gm,useId:bg,useHostTransitionStatus:wh,useFormState:rg,useActionState:rg,useOptimistic:function(t,n){var s=Me();return fe!==null?$m(s,fe,t,n):(s.baseState=t,[t,s.queue.dispatch])},useMemoCache:yh,useCacheRefresh:Eg};wg.useEffectEvent=ug;function Ih(t,n,s,l){n=t.memoizedState,s=s(l,n),s=s==null?n:A({},n,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var Dh={enqueueSetState:function(t,n,s){t=t._reactInternals;var l=Pn(),c=ws(l);c.payload=n,s!=null&&(c.callback=s),n=Cs(t,c,l),n!==null&&(Dn(n,t,l),_l(n,t,l))},enqueueReplaceState:function(t,n,s){t=t._reactInternals;var l=Pn(),c=ws(l);c.tag=1,c.payload=n,s!=null&&(c.callback=s),n=Cs(t,c,l),n!==null&&(Dn(n,t,l),_l(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var s=Pn(),l=ws(s);l.tag=2,n!=null&&(l.callback=n),n=Cs(t,l,s),n!==null&&(Dn(n,t,s),_l(n,t,s))}};function Cg(t,n,s,l,c,f,y){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,y):n.prototype&&n.prototype.isPureReactComponent?!hl(s,l)||!hl(c,f):!0}function Rg(t,n,s,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,l),n.state!==t&&Dh.enqueueReplaceState(n,n.state,null)}function wa(t,n){var s=n;if("ref"in n){s={};for(var l in n)l!=="ref"&&(s[l]=n[l])}if(t=t.defaultProps){s===n&&(s=A({},s));for(var c in t)s[c]===void 0&&(s[c]=t[c])}return s}function Ig(t){Ho(t)}function Dg(t){console.error(t)}function Ng(t){Ho(t)}function fu(t,n){try{var s=t.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Vg(t,n,s){try{var l=t.onCaughtError;l(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function Nh(t,n,s){return s=ws(s),s.tag=3,s.payload={element:null},s.callback=function(){fu(t,n)},s}function Og(t){return t=ws(t),t.tag=3,t}function Mg(t,n,s,l){var c=s.type.getDerivedStateFromError;if(typeof c=="function"){var f=l.value;t.payload=function(){return c(f)},t.callback=function(){Vg(n,s,l)}}var y=s.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(t.callback=function(){Vg(n,s,l),typeof c!="function"&&(Os===null?Os=new Set([this]):Os.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function hb(t,n,s,l,c){if(s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=s.alternate,n!==null&&or(n,s,c,!0),s=kn.current,s!==null){switch(s.tag){case 31:case 13:return ti===null?Su():s.alternate===null&&Ne===0&&(Ne=3),s.flags&=-257,s.flags|=65536,s.lanes=c,l===Wo?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([l]):n.add(l),nf(t,l,c)),!1;case 22:return s.flags|=65536,l===Wo?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([l]):s.add(l)),nf(t,l,c)),!1}throw Error(r(435,s.tag))}return nf(t,l,c),Su(),!1}if(Xt)return n=kn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,l!==Zc&&(t=Error(r(422),{cause:l}),ml(Zn(t,s)))):(l!==Zc&&(n=Error(r(423),{cause:l}),ml(Zn(n,s))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,l=Zn(l,s),c=Nh(t.stateNode,l,c),lh(t,c),Ne!==4&&(Ne=2)),!1;var f=Error(r(520),{cause:l});if(f=Zn(f,s),Ol===null?Ol=[f]:Ol.push(f),Ne!==4&&(Ne=2),n===null)return!0;l=Zn(l,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,t=c&-c,s.lanes|=t,t=Nh(s.stateNode,l,t),lh(s,t),!1;case 1:if(n=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Os===null||!Os.has(f))))return s.flags|=65536,c&=-c,s.lanes|=c,c=Og(c),Mg(c,t,s,l),lh(s,c),!1}s=s.return}while(s!==null);return!1}var Vh=Error(r(461)),He=!1;function rn(t,n,s,l){n.child=t===null?zm(n,null,s,l):Sa(n,t.child,s,l)}function jg(t,n,s,l,c){s=s.render;var f=n.ref;if("ref"in l){var y={};for(var E in l)E!=="ref"&&(y[E]=l[E])}else y=l;return ba(n),l=dh(t,n,s,y,f,c),E=mh(),t!==null&&!He?(gh(t,n,c),$i(t,n,c)):(Xt&&E&&Kc(n),n.flags|=1,rn(t,n,l,c),n.child)}function Lg(t,n,s,l,c){if(t===null){var f=s.type;return typeof f=="function"&&!Gc(f)&&f.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=f,kg(t,n,f,l,c)):(t=Yo(s.type,null,l,n,n.mode,c),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!Bh(t,c)){var y=f.memoizedProps;if(s=s.compare,s=s!==null?s:hl,s(y,l)&&t.ref===n.ref)return $i(t,n,c)}return n.flags|=1,t=Gi(f,l),t.ref=n.ref,t.return=n,n.child=t}function kg(t,n,s,l,c){if(t!==null){var f=t.memoizedProps;if(hl(f,l)&&t.ref===n.ref)if(He=!1,n.pendingProps=l=f,Bh(t,c))(t.flags&131072)!==0&&(He=!0);else return n.lanes=t.lanes,$i(t,n,c)}return Oh(t,n,s,l,c)}function zg(t,n,s,l){var c=l.children,f=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|s:s,t!==null){for(l=n.child=t.child,c=0;l!==null;)c=c|l.lanes|l.childLanes,l=l.sibling;l=c&~f}else l=0,n.child=null;return Ug(t,n,f,s,l)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&$o(n,f!==null?f.cachePool:null),f!==null?Pm(n,f):uh(),qm(n);else return l=n.lanes=536870912,Ug(t,n,f!==null?f.baseLanes|s:s,s,l)}else f!==null?($o(n,f.cachePool),Pm(n,f),Is(),n.memoizedState=null):(t!==null&&$o(n,null),uh(),Is());return rn(t,n,c,s),n.child}function wl(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Ug(t,n,s,l,c){var f=ih();return f=f===null?null:{parent:Pe._currentValue,pool:f},n.memoizedState={baseLanes:s,cachePool:f},t!==null&&$o(n,null),uh(),qm(n),t!==null&&or(t,n,l,!0),n.childLanes=c,null}function du(t,n){return n=gu({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function Bg(t,n,s){return Sa(n,t.child,null,s),t=du(n,n.pendingProps),t.flags|=2,zn(n),n.memoizedState=null,t}function fb(t,n,s){var l=n.pendingProps,c=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(Xt){if(l.mode==="hidden")return t=du(n,l),n.lanes=536870912,wl(null,t);if(hh(n),(t=be)?(t=Jp(t,Wn),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Es!==null?{id:Ni,overflow:Vi}:null,retryLane:536870912,hydrationErrors:null},s=xm(t),s.return=n,n.child=s,sn=n,be=null)):t=null,t===null)throw xs(n);return n.lanes=536870912,null}return du(n,l)}var f=t.memoizedState;if(f!==null){var y=f.dehydrated;if(hh(n),c)if(n.flags&256)n.flags&=-257,n=Bg(t,n,s);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(r(558));else if(He||or(t,n,s,!1),c=(s&t.childLanes)!==0,He||c){if(l=ye,l!==null&&(y=hs(l,s),y!==0&&y!==f.retryLane))throw f.retryLane=y,pa(t,y),Dn(l,t,y),Vh;Su(),n=Bg(t,n,s)}else t=f.treeContext,be=ei(y.nextSibling),sn=n,Xt=!0,Ts=null,Wn=!1,t!==null&&wm(n,t),n=du(n,l),n.flags|=4096;return n}return t=Gi(t.child,{mode:l.mode,children:l.children}),t.ref=n.ref,n.child=t,t.return=n,t}function mu(t,n){var s=n.ref;if(s===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(r(284));(t===null||t.ref!==s)&&(n.flags|=4194816)}}function Oh(t,n,s,l,c){return ba(n),s=dh(t,n,s,l,void 0,c),l=mh(),t!==null&&!He?(gh(t,n,c),$i(t,n,c)):(Xt&&l&&Kc(n),n.flags|=1,rn(t,n,s,c),n.child)}function Pg(t,n,s,l,c,f){return ba(n),n.updateQueue=null,s=Fm(n,l,s,c),Hm(t),l=mh(),t!==null&&!He?(gh(t,n,f),$i(t,n,f)):(Xt&&l&&Kc(n),n.flags|=1,rn(t,n,s,f),n.child)}function qg(t,n,s,l,c){if(ba(n),n.stateNode===null){var f=sr,y=s.contextType;typeof y=="object"&&y!==null&&(f=an(y)),f=new s(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Dh,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},ah(n),y=s.contextType,f.context=typeof y=="object"&&y!==null?an(y):sr,f.state=n.memoizedState,y=s.getDerivedStateFromProps,typeof y=="function"&&(Ih(n,s,y,l),f.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(y=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),y!==f.state&&Dh.enqueueReplaceState(f,f.state,null),El(n,l,f,c),bl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var E=n.memoizedProps,D=wa(s,E);f.props=D;var q=f.context,W=s.contextType;y=sr,typeof W=="object"&&W!==null&&(y=an(W));var it=s.getDerivedStateFromProps;W=typeof it=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,W||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||q!==y)&&Rg(n,f,l,y),As=!1;var Q=n.memoizedState;f.state=Q,El(n,l,f,c),bl(),q=n.memoizedState,E||Q!==q||As?(typeof it=="function"&&(Ih(n,s,it,l),q=n.memoizedState),(D=As||Cg(n,s,D,l,Q,q,y))?(W||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=q),f.props=l,f.state=q,f.context=y,l=D):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,rh(t,n),y=n.memoizedProps,W=wa(s,y),f.props=W,it=n.pendingProps,Q=f.context,q=s.contextType,D=sr,typeof q=="object"&&q!==null&&(D=an(q)),E=s.getDerivedStateFromProps,(q=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(y!==it||Q!==D)&&Rg(n,f,l,D),As=!1,Q=n.memoizedState,f.state=Q,El(n,l,f,c),bl();var X=n.memoizedState;y!==it||Q!==X||As||t!==null&&t.dependencies!==null&&Xo(t.dependencies)?(typeof E=="function"&&(Ih(n,s,E,l),X=n.memoizedState),(W=As||Cg(n,s,W,l,Q,X,D)||t!==null&&t.dependencies!==null&&Xo(t.dependencies))?(q||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,X,D),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,X,D)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&Q===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&Q===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=X),f.props=l,f.state=X,f.context=D,l=W):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&Q===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&Q===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,mu(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,s=l&&typeof s.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=Sa(n,t.child,null,c),n.child=Sa(n,null,s,c)):rn(t,n,s,c),n.memoizedState=f.state,t=n.child):t=$i(t,n,c),t}function Hg(t,n,s,l){return va(),n.flags|=256,rn(t,n,s,l),n.child}var Mh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function jh(t){return{baseLanes:t,cachePool:Vm()}}function Lh(t,n,s){return t=t!==null?t.childLanes&~s:0,n&&(t|=Bn),t}function Fg(t,n,s){var l=n.pendingProps,c=!1,f=(n.flags&128)!==0,y;if((y=f)||(y=t!==null&&t.memoizedState===null?!1:(Oe.current&2)!==0),y&&(c=!0,n.flags&=-129),y=(n.flags&32)!==0,n.flags&=-33,t===null){if(Xt){if(c?Rs(n):Is(),(t=be)?(t=Jp(t,Wn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Es!==null?{id:Ni,overflow:Vi}:null,retryLane:536870912,hydrationErrors:null},s=xm(t),s.return=n,n.child=s,sn=n,be=null)):t=null,t===null)throw xs(n);return _f(t)?n.lanes=32:n.lanes=536870912,null}var E=l.children;return l=l.fallback,c?(Is(),c=n.mode,E=gu({mode:"hidden",children:E},c),l=ya(l,c,s,null),E.return=n,l.return=n,E.sibling=l,n.child=E,l=n.child,l.memoizedState=jh(s),l.childLanes=Lh(t,y,s),n.memoizedState=Mh,wl(null,l)):(Rs(n),kh(n,E))}var D=t.memoizedState;if(D!==null&&(E=D.dehydrated,E!==null)){if(f)n.flags&256?(Rs(n),n.flags&=-257,n=zh(t,n,s)):n.memoizedState!==null?(Is(),n.child=t.child,n.flags|=128,n=null):(Is(),E=l.fallback,c=n.mode,l=gu({mode:"visible",children:l.children},c),E=ya(E,c,s,null),E.flags|=2,l.return=n,E.return=n,l.sibling=E,n.child=l,Sa(n,t.child,null,s),l=n.child,l.memoizedState=jh(s),l.childLanes=Lh(t,y,s),n.memoizedState=Mh,n=wl(null,l));else if(Rs(n),_f(E)){if(y=E.nextSibling&&E.nextSibling.dataset,y)var q=y.dgst;y=q,l=Error(r(419)),l.stack="",l.digest=y,ml({value:l,source:null,stack:null}),n=zh(t,n,s)}else if(He||or(t,n,s,!1),y=(s&t.childLanes)!==0,He||y){if(y=ye,y!==null&&(l=hs(y,s),l!==0&&l!==D.retryLane))throw D.retryLane=l,pa(t,l),Dn(y,t,l),Vh;vf(E)||Su(),n=zh(t,n,s)}else vf(E)?(n.flags|=192,n.child=t.child,n=null):(t=D.treeContext,be=ei(E.nextSibling),sn=n,Xt=!0,Ts=null,Wn=!1,t!==null&&wm(n,t),n=kh(n,l.children),n.flags|=4096);return n}return c?(Is(),E=l.fallback,c=n.mode,D=t.child,q=D.sibling,l=Gi(D,{mode:"hidden",children:l.children}),l.subtreeFlags=D.subtreeFlags&65011712,q!==null?E=Gi(q,E):(E=ya(E,c,s,null),E.flags|=2),E.return=n,l.return=n,l.sibling=E,n.child=l,wl(null,l),l=n.child,E=t.child.memoizedState,E===null?E=jh(s):(c=E.cachePool,c!==null?(D=Pe._currentValue,c=c.parent!==D?{parent:D,pool:D}:c):c=Vm(),E={baseLanes:E.baseLanes|s,cachePool:c}),l.memoizedState=E,l.childLanes=Lh(t,y,s),n.memoizedState=Mh,wl(t.child,l)):(Rs(n),s=t.child,t=s.sibling,s=Gi(s,{mode:"visible",children:l.children}),s.return=n,s.sibling=null,t!==null&&(y=n.deletions,y===null?(n.deletions=[t],n.flags|=16):y.push(t)),n.child=s,n.memoizedState=null,s)}function kh(t,n){return n=gu({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function gu(t,n){return t=Ln(22,t,null,n),t.lanes=0,t}function zh(t,n,s){return Sa(n,t.child,null,s),t=kh(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function Gg(t,n,s){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),Wc(t.return,n,s)}function Uh(t,n,s,l,c,f){var y=t.memoizedState;y===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:c,treeForkCount:f}:(y.isBackwards=n,y.rendering=null,y.renderingStartTime=0,y.last=l,y.tail=s,y.tailMode=c,y.treeForkCount=f)}function Qg(t,n,s){var l=n.pendingProps,c=l.revealOrder,f=l.tail;l=l.children;var y=Oe.current,E=(y&2)!==0;if(E?(y=y&1|2,n.flags|=128):y&=1,dt(Oe,y),rn(t,n,l,s),l=Xt?dl:0,!E&&t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Gg(t,s,n);else if(t.tag===19)Gg(t,s,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(c){case"forwards":for(s=n.child,c=null;s!==null;)t=s.alternate,t!==null&&iu(t)===null&&(c=s),s=s.sibling;s=c,s===null?(c=n.child,n.child=null):(c=s.sibling,s.sibling=null),Uh(n,!1,c,s,f,l);break;case"backwards":case"unstable_legacy-backwards":for(s=null,c=n.child,n.child=null;c!==null;){if(t=c.alternate,t!==null&&iu(t)===null){n.child=c;break}t=c.sibling,c.sibling=s,s=c,c=t}Uh(n,!0,s,null,f,l);break;case"together":Uh(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function $i(t,n,s){if(t!==null&&(n.dependencies=t.dependencies),Vs|=n.lanes,(s&n.childLanes)===0)if(t!==null){if(or(t,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(r(153));if(n.child!==null){for(t=n.child,s=Gi(t,t.pendingProps),n.child=s,s.return=n;t.sibling!==null;)t=t.sibling,s=s.sibling=Gi(t,t.pendingProps),s.return=n;s.sibling=null}return n.child}function Bh(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Xo(t)))}function db(t,n,s){switch(n.tag){case 3:It(n,n.stateNode.containerInfo),Ss(n,Pe,t.memoizedState.cache),va();break;case 27:case 5:Le(n);break;case 4:It(n,n.stateNode.containerInfo);break;case 10:Ss(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,hh(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(Rs(n),n.flags|=128,null):(s&n.child.childLanes)!==0?Fg(t,n,s):(Rs(n),t=$i(t,n,s),t!==null?t.sibling:null);Rs(n);break;case 19:var c=(t.flags&128)!==0;if(l=(s&n.childLanes)!==0,l||(or(t,n,s,!1),l=(s&n.childLanes)!==0),c){if(l)return Qg(t,n,s);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),dt(Oe,Oe.current),l)break;return null;case 22:return n.lanes=0,zg(t,n,s,n.pendingProps);case 24:Ss(n,Pe,t.memoizedState.cache)}return $i(t,n,s)}function Yg(t,n,s){if(t!==null)if(t.memoizedProps!==n.pendingProps)He=!0;else{if(!Bh(t,s)&&(n.flags&128)===0)return He=!1,db(t,n,s);He=(t.flags&131072)!==0}else He=!1,Xt&&(n.flags&1048576)!==0&&Am(n,dl,n.index);switch(n.lanes=0,n.tag){case 16:t:{var l=n.pendingProps;if(t=Ta(n.elementType),n.type=t,typeof t=="function")Gc(t)?(l=wa(t,l),n.tag=1,n=qg(null,n,t,l,s)):(n.tag=0,n=Oh(null,n,t,l,s));else{if(t!=null){var c=t.$$typeof;if(c===ut){n.tag=11,n=jg(null,n,t,l,s);break t}else if(c===R){n.tag=14,n=Lg(null,n,t,l,s);break t}}throw n=Pt(t)||t,Error(r(306,n,""))}}return n;case 0:return Oh(t,n,n.type,n.pendingProps,s);case 1:return l=n.type,c=wa(l,n.pendingProps),qg(t,n,l,c,s);case 3:t:{if(It(n,n.stateNode.containerInfo),t===null)throw Error(r(387));l=n.pendingProps;var f=n.memoizedState;c=f.element,rh(t,n),El(n,l,null,s);var y=n.memoizedState;if(l=y.cache,Ss(n,Pe,l),l!==f.cache&&th(n,[Pe],s,!0),bl(),l=y.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:y.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Hg(t,n,l,s);break t}else if(l!==c){c=Zn(Error(r(424)),n),ml(c),n=Hg(t,n,l,s);break t}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(be=ei(t.firstChild),sn=n,Xt=!0,Ts=null,Wn=!0,s=zm(n,null,l,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(va(),l===c){n=$i(t,n,s);break t}rn(t,n,l,s)}n=n.child}return n;case 26:return mu(t,n),t===null?(s=sy(n.type,null,n.pendingProps,null))?n.memoizedState=s:Xt||(s=n.type,t=n.pendingProps,l=Nu(ot.current).createElement(s),l[pe]=n,l[ze]=t,ln(l,s,t),Ue(l),n.stateNode=l):n.memoizedState=sy(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Le(n),t===null&&Xt&&(l=n.stateNode=ey(n.type,n.pendingProps,ot.current),sn=n,Wn=!0,c=be,ks(n.type)?(bf=c,be=ei(l.firstChild)):be=c),rn(t,n,n.pendingProps.children,s),mu(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Xt&&((c=l=be)&&(l=Hb(l,n.type,n.pendingProps,Wn),l!==null?(n.stateNode=l,sn=n,be=ei(l.firstChild),Wn=!1,c=!0):c=!1),c||xs(n)),Le(n),c=n.type,f=n.pendingProps,y=t!==null?t.memoizedProps:null,l=f.children,gf(c,f)?l=null:y!==null&&gf(c,y)&&(n.flags|=32),n.memoizedState!==null&&(c=dh(t,n,sb,null,null,s),Pl._currentValue=c),mu(t,n),rn(t,n,l,s),n.child;case 6:return t===null&&Xt&&((t=s=be)&&(s=Fb(s,n.pendingProps,Wn),s!==null?(n.stateNode=s,sn=n,be=null,t=!0):t=!1),t||xs(n)),null;case 13:return Fg(t,n,s);case 4:return It(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=Sa(n,null,l,s):rn(t,n,l,s),n.child;case 11:return jg(t,n,n.type,n.pendingProps,s);case 7:return rn(t,n,n.pendingProps,s),n.child;case 8:return rn(t,n,n.pendingProps.children,s),n.child;case 12:return rn(t,n,n.pendingProps.children,s),n.child;case 10:return l=n.pendingProps,Ss(n,n.type,l.value),rn(t,n,l.children,s),n.child;case 9:return c=n.type._context,l=n.pendingProps.children,ba(n),c=an(c),l=l(c),n.flags|=1,rn(t,n,l,s),n.child;case 14:return Lg(t,n,n.type,n.pendingProps,s);case 15:return kg(t,n,n.type,n.pendingProps,s);case 19:return Qg(t,n,s);case 31:return fb(t,n,s);case 22:return zg(t,n,s,n.pendingProps);case 24:return ba(n),l=an(Pe),t===null?(c=ih(),c===null&&(c=ye,f=eh(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=s),c=f),n.memoizedState={parent:l,cache:c},ah(n),Ss(n,Pe,c)):((t.lanes&s)!==0&&(rh(t,n),El(n,null,null,s),bl()),c=t.memoizedState,f=n.memoizedState,c.parent!==l?(c={parent:l,cache:l},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),Ss(n,Pe,l)):(l=f.cache,Ss(n,Pe,l),l!==c.cache&&th(n,[Pe],s,!0))),rn(t,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(r(156,n.tag))}function Ji(t){t.flags|=4}function Ph(t,n,s,l,c){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(c&335544128)===c)if(t.stateNode.complete)t.flags|=8192;else if(bp())t.flags|=8192;else throw xa=Wo,sh}else t.flags&=-16777217}function Kg(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!uy(n))if(bp())t.flags|=8192;else throw xa=Wo,sh}function pu(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?sa():536870912,t.lanes|=n,br|=n)}function Cl(t,n){if(!Xt)switch(t.tailMode){case"hidden":n=t.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function Ee(t){var n=t.alternate!==null&&t.alternate.child===t.child,s=0,l=0;if(n)for(var c=t.child;c!==null;)s|=c.lanes|c.childLanes,l|=c.subtreeFlags&65011712,l|=c.flags&65011712,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)s|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=l,t.childLanes=s,n}function mb(t,n,s){var l=n.pendingProps;switch(Xc(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ee(n),null;case 1:return Ee(n),null;case 3:return s=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Ki(Pe),ct(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(lr(n)?Ji(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,$c())),Ee(n),null;case 26:var c=n.type,f=n.memoizedState;return t===null?(Ji(n),f!==null?(Ee(n),Kg(n,f)):(Ee(n),Ph(n,c,null,l,s))):f?f!==t.memoizedState?(Ji(n),Ee(n),Kg(n,f)):(Ee(n),n.flags&=-16777217):(t=t.memoizedProps,t!==l&&Ji(n),Ee(n),Ph(n,c,t,l,s)),null;case 27:if(gt(n),s=ot.current,c=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Ji(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return Ee(n),null}t=vt.current,lr(n)?Cm(n):(t=ey(c,l,s),n.stateNode=t,Ji(n))}return Ee(n),null;case 5:if(gt(n),c=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Ji(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return Ee(n),null}if(f=vt.current,lr(n))Cm(n);else{var y=Nu(ot.current);switch(f){case 1:f=y.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:f=y.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":f=y.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":f=y.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":f=y.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?y.createElement("select",{is:l.is}):y.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?y.createElement(c,{is:l.is}):y.createElement(c)}}f[pe]=n,f[ze]=l;t:for(y=n.child;y!==null;){if(y.tag===5||y.tag===6)f.appendChild(y.stateNode);else if(y.tag!==4&&y.tag!==27&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===n)break t;for(;y.sibling===null;){if(y.return===null||y.return===n)break t;y=y.return}y.sibling.return=y.return,y=y.sibling}n.stateNode=f;t:switch(ln(f,c,l),c){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&Ji(n)}}return Ee(n),Ph(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,s),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&Ji(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(r(166));if(t=ot.current,lr(n)){if(t=n.stateNode,s=n.memoizedProps,l=null,c=sn,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}t[pe]=n,t=!!(t.nodeValue===s||l!==null&&l.suppressHydrationWarning===!0||Fp(t.nodeValue,s)),t||xs(n,!0)}else t=Nu(t).createTextNode(l),t[pe]=n,n.stateNode=t}return Ee(n),null;case 31:if(s=n.memoizedState,t===null||t.memoizedState!==null){if(l=lr(n),s!==null){if(t===null){if(!l)throw Error(r(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(557));t[pe]=n}else va(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Ee(n),t=!1}else s=$c(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=s),t=!0;if(!t)return n.flags&256?(zn(n),n):(zn(n),null);if((n.flags&128)!==0)throw Error(r(558))}return Ee(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=lr(n),l!==null&&l.dehydrated!==null){if(t===null){if(!c)throw Error(r(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(r(317));c[pe]=n}else va(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Ee(n),c=!1}else c=$c(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(zn(n),n):(zn(n),null)}return zn(n),(n.flags&128)!==0?(n.lanes=s,n):(s=l!==null,t=t!==null&&t.memoizedState!==null,s&&(l=n.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==c&&(l.flags|=2048)),s!==t&&s&&(n.child.flags|=8192),pu(n,n.updateQueue),Ee(n),null);case 4:return ct(),t===null&&cf(n.stateNode.containerInfo),Ee(n),null;case 10:return Ki(n.type),Ee(n),null;case 19:if(et(Oe),l=n.memoizedState,l===null)return Ee(n),null;if(c=(n.flags&128)!==0,f=l.rendering,f===null)if(c)Cl(l,!1);else{if(Ne!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=iu(t),f!==null){for(n.flags|=128,Cl(l,!1),t=f.updateQueue,n.updateQueue=t,pu(n,t),n.subtreeFlags=0,t=s,s=n.child;s!==null;)Tm(s,t),s=s.sibling;return dt(Oe,Oe.current&1|2),Xt&&Qi(n,l.treeForkCount),n.child}t=t.sibling}l.tail!==null&&$e()>Eu&&(n.flags|=128,c=!0,Cl(l,!1),n.lanes=4194304)}else{if(!c)if(t=iu(f),t!==null){if(n.flags|=128,c=!0,t=t.updateQueue,n.updateQueue=t,pu(n,t),Cl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!Xt)return Ee(n),null}else 2*$e()-l.renderingStartTime>Eu&&s!==536870912&&(n.flags|=128,c=!0,Cl(l,!1),n.lanes=4194304);l.isBackwards?(f.sibling=n.child,n.child=f):(t=l.last,t!==null?t.sibling=f:n.child=f,l.last=f)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=$e(),t.sibling=null,s=Oe.current,dt(Oe,c?s&1|2:s&1),Xt&&Qi(n,l.treeForkCount),t):(Ee(n),null);case 22:case 23:return zn(n),ch(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(s&536870912)!==0&&(n.flags&128)===0&&(Ee(n),n.subtreeFlags&6&&(n.flags|=8192)):Ee(n),s=n.updateQueue,s!==null&&pu(n,s.retryQueue),s=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==s&&(n.flags|=2048),t!==null&&et(Ea),null;case 24:return s=null,t!==null&&(s=t.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),Ki(Pe),Ee(n),null;case 25:return null;case 30:return null}throw Error(r(156,n.tag))}function gb(t,n){switch(Xc(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Ki(Pe),ct(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return gt(n),null;case 31:if(n.memoizedState!==null){if(zn(n),n.alternate===null)throw Error(r(340));va()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(zn(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(r(340));va()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return et(Oe),null;case 4:return ct(),null;case 10:return Ki(n.type),null;case 22:case 23:return zn(n),ch(),t!==null&&et(Ea),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Ki(Pe),null;case 25:return null;default:return null}}function Xg(t,n){switch(Xc(n),n.tag){case 3:Ki(Pe),ct();break;case 26:case 27:case 5:gt(n);break;case 4:ct();break;case 31:n.memoizedState!==null&&zn(n);break;case 13:zn(n);break;case 19:et(Oe);break;case 10:Ki(n.type);break;case 22:case 23:zn(n),ch(),t!==null&&et(Ea);break;case 24:Ki(Pe)}}function Rl(t,n){try{var s=n.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var c=l.next;s=c;do{if((s.tag&t)===t){l=void 0;var f=s.create,y=s.inst;l=f(),y.destroy=l}s=s.next}while(s!==c)}}catch(E){ue(n,n.return,E)}}function Ds(t,n,s){try{var l=n.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var f=c.next;l=f;do{if((l.tag&t)===t){var y=l.inst,E=y.destroy;if(E!==void 0){y.destroy=void 0,c=n;var D=s,q=E;try{q()}catch(W){ue(c,D,W)}}}l=l.next}while(l!==f)}}catch(W){ue(n,n.return,W)}}function Zg(t){var n=t.updateQueue;if(n!==null){var s=t.stateNode;try{Bm(n,s)}catch(l){ue(t,t.return,l)}}}function $g(t,n,s){s.props=wa(t.type,t.memoizedProps),s.state=t.memoizedState;try{s.componentWillUnmount()}catch(l){ue(t,n,l)}}function Il(t,n){try{var s=t.ref;if(s!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof s=="function"?t.refCleanup=s(l):s.current=l}}catch(c){ue(t,n,c)}}function Oi(t,n){var s=t.ref,l=t.refCleanup;if(s!==null)if(typeof l=="function")try{l()}catch(c){ue(t,n,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(c){ue(t,n,c)}else s.current=null}function Jg(t){var n=t.type,s=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&l.focus();break t;case"img":s.src?l.src=s.src:s.srcSet&&(l.srcset=s.srcSet)}}catch(c){ue(t,t.return,c)}}function qh(t,n,s){try{var l=t.stateNode;kb(l,t.type,s,n),l[ze]=n}catch(c){ue(t,t.return,c)}}function Wg(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&ks(t.type)||t.tag===4}function Hh(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||Wg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&ks(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Fh(t,n,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(t,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(t),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=ai));else if(l!==4&&(l===27&&ks(t.type)&&(s=t.stateNode,n=null),t=t.child,t!==null))for(Fh(t,n,s),t=t.sibling;t!==null;)Fh(t,n,s),t=t.sibling}function yu(t,n,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?s.insertBefore(t,n):s.appendChild(t);else if(l!==4&&(l===27&&ks(t.type)&&(s=t.stateNode),t=t.child,t!==null))for(yu(t,n,s),t=t.sibling;t!==null;)yu(t,n,s),t=t.sibling}function tp(t){var n=t.stateNode,s=t.memoizedProps;try{for(var l=t.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);ln(n,l,s),n[pe]=t,n[ze]=s}catch(f){ue(t,t.return,f)}}var Wi=!1,Fe=!1,Gh=!1,ep=typeof WeakSet=="function"?WeakSet:Set,We=null;function pb(t,n){if(t=t.containerInfo,df=zu,t=dm(t),zc(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else t:{s=(s=t.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var c=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break t}var y=0,E=-1,D=-1,q=0,W=0,it=t,Q=null;e:for(;;){for(var X;it!==s||c!==0&&it.nodeType!==3||(E=y+c),it!==f||l!==0&&it.nodeType!==3||(D=y+l),it.nodeType===3&&(y+=it.nodeValue.length),(X=it.firstChild)!==null;)Q=it,it=X;for(;;){if(it===t)break e;if(Q===s&&++q===c&&(E=y),Q===f&&++W===l&&(D=y),(X=it.nextSibling)!==null)break;it=Q,Q=it.parentNode}it=X}s=E===-1||D===-1?null:{start:E,end:D}}else s=null}s=s||{start:0,end:0}}else s=null;for(mf={focusedElem:t,selectionRange:s},zu=!1,We=n;We!==null;)if(n=We,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,We=t;else for(;We!==null;){switch(n=We,f=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(s=0;s<t.length;s++)c=t[s],c.ref.impl=c.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,s=n,c=f.memoizedProps,f=f.memoizedState,l=s.stateNode;try{var Et=wa(s.type,c);t=l.getSnapshotBeforeUpdate(Et,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(Nt){ue(s,s.return,Nt)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,s=t.nodeType,s===9)yf(t);else if(s===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":yf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=n.sibling,t!==null){t.return=n.return,We=t;break}We=n.return}}function np(t,n,s){var l=s.flags;switch(s.tag){case 0:case 11:case 15:es(t,s),l&4&&Rl(5,s);break;case 1:if(es(t,s),l&4)if(t=s.stateNode,n===null)try{t.componentDidMount()}catch(y){ue(s,s.return,y)}else{var c=wa(s.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(c,n,t.__reactInternalSnapshotBeforeUpdate)}catch(y){ue(s,s.return,y)}}l&64&&Zg(s),l&512&&Il(s,s.return);break;case 3:if(es(t,s),l&64&&(t=s.updateQueue,t!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{Bm(t,n)}catch(y){ue(s,s.return,y)}}break;case 27:n===null&&l&4&&tp(s);case 26:case 5:es(t,s),n===null&&l&4&&Jg(s),l&512&&Il(s,s.return);break;case 12:es(t,s);break;case 31:es(t,s),l&4&&ap(t,s);break;case 13:es(t,s),l&4&&rp(t,s),l&64&&(t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(s=Ab.bind(null,s),Gb(t,s))));break;case 22:if(l=s.memoizedState!==null||Wi,!l){n=n!==null&&n.memoizedState!==null||Fe,c=Wi;var f=Fe;Wi=l,(Fe=n)&&!f?ns(t,s,(s.subtreeFlags&8772)!==0):es(t,s),Wi=c,Fe=f}break;case 30:break;default:es(t,s)}}function ip(t){var n=t.alternate;n!==null&&(t.alternate=null,ip(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Fa(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Ae=null,wn=!1;function ts(t,n,s){for(s=s.child;s!==null;)sp(t,n,s),s=s.sibling}function sp(t,n,s){if(_t&&typeof _t.onCommitFiberUnmount=="function")try{_t.onCommitFiberUnmount(tt,s)}catch{}switch(s.tag){case 26:Fe||Oi(s,n),ts(t,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Fe||Oi(s,n);var l=Ae,c=wn;ks(s.type)&&(Ae=s.stateNode,wn=!1),ts(t,n,s),zl(s.stateNode),Ae=l,wn=c;break;case 5:Fe||Oi(s,n);case 6:if(l=Ae,c=wn,Ae=null,ts(t,n,s),Ae=l,wn=c,Ae!==null)if(wn)try{(Ae.nodeType===9?Ae.body:Ae.nodeName==="HTML"?Ae.ownerDocument.body:Ae).removeChild(s.stateNode)}catch(f){ue(s,n,f)}else try{Ae.removeChild(s.stateNode)}catch(f){ue(s,n,f)}break;case 18:Ae!==null&&(wn?(t=Ae,Zp(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,s.stateNode),Rr(t)):Zp(Ae,s.stateNode));break;case 4:l=Ae,c=wn,Ae=s.stateNode.containerInfo,wn=!0,ts(t,n,s),Ae=l,wn=c;break;case 0:case 11:case 14:case 15:Ds(2,s,n),Fe||Ds(4,s,n),ts(t,n,s);break;case 1:Fe||(Oi(s,n),l=s.stateNode,typeof l.componentWillUnmount=="function"&&$g(s,n,l)),ts(t,n,s);break;case 21:ts(t,n,s);break;case 22:Fe=(l=Fe)||s.memoizedState!==null,ts(t,n,s),Fe=l;break;default:ts(t,n,s)}}function ap(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Rr(t)}catch(s){ue(n,n.return,s)}}}function rp(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Rr(t)}catch(s){ue(n,n.return,s)}}function yb(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new ep),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new ep),n;default:throw Error(r(435,t.tag))}}function vu(t,n){var s=yb(t);n.forEach(function(l){if(!s.has(l)){s.add(l);var c=wb.bind(null,t,l);l.then(c,c)}})}function Cn(t,n){var s=n.deletions;if(s!==null)for(var l=0;l<s.length;l++){var c=s[l],f=t,y=n,E=y;t:for(;E!==null;){switch(E.tag){case 27:if(ks(E.type)){Ae=E.stateNode,wn=!1;break t}break;case 5:Ae=E.stateNode,wn=!1;break t;case 3:case 4:Ae=E.stateNode.containerInfo,wn=!0;break t}E=E.return}if(Ae===null)throw Error(r(160));sp(f,y,c),Ae=null,wn=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)lp(n,t),n=n.sibling}var hi=null;function lp(t,n){var s=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Cn(n,t),Rn(t),l&4&&(Ds(3,t,t.return),Rl(3,t),Ds(5,t,t.return));break;case 1:Cn(n,t),Rn(t),l&512&&(Fe||s===null||Oi(s,s.return)),l&64&&Wi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(s=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=s===null?l:s.concat(l))));break;case 26:var c=hi;if(Cn(n,t),Rn(t),l&512&&(Fe||s===null||Oi(s,s.return)),l&4){var f=s!==null?s.memoizedState:null;if(l=t.memoizedState,s===null)if(l===null)if(t.stateNode===null){t:{l=t.type,s=t.memoizedProps,c=c.ownerDocument||c;e:switch(l){case"title":f=c.getElementsByTagName("title")[0],(!f||f[_i]||f[pe]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(l),c.head.insertBefore(f,c.querySelector("head > title"))),ln(f,l,s),f[pe]=t,Ue(f),l=f;break t;case"link":var y=ly("link","href",c).get(l+(s.href||""));if(y){for(var E=0;E<y.length;E++)if(f=y[E],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){y.splice(E,1);break e}}f=c.createElement(l),ln(f,l,s),c.head.appendChild(f);break;case"meta":if(y=ly("meta","content",c).get(l+(s.content||""))){for(E=0;E<y.length;E++)if(f=y[E],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){y.splice(E,1);break e}}f=c.createElement(l),ln(f,l,s),c.head.appendChild(f);break;default:throw Error(r(468,l))}f[pe]=t,Ue(f),l=f}t.stateNode=l}else oy(c,t.type,t.stateNode);else t.stateNode=ry(c,l,t.memoizedProps);else f!==l?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,l===null?oy(c,t.type,t.stateNode):ry(c,l,t.memoizedProps)):l===null&&t.stateNode!==null&&qh(t,t.memoizedProps,s.memoizedProps)}break;case 27:Cn(n,t),Rn(t),l&512&&(Fe||s===null||Oi(s,s.return)),s!==null&&l&4&&qh(t,t.memoizedProps,s.memoizedProps);break;case 5:if(Cn(n,t),Rn(t),l&512&&(Fe||s===null||Oi(s,s.return)),t.flags&32){c=t.stateNode;try{An(c,"")}catch(Et){ue(t,t.return,Et)}}l&4&&t.stateNode!=null&&(c=t.memoizedProps,qh(t,c,s!==null?s.memoizedProps:c)),l&1024&&(Gh=!0);break;case 6:if(Cn(n,t),Rn(t),l&4){if(t.stateNode===null)throw Error(r(162));l=t.memoizedProps,s=t.stateNode;try{s.nodeValue=l}catch(Et){ue(t,t.return,Et)}}break;case 3:if(Mu=null,c=hi,hi=Vu(n.containerInfo),Cn(n,t),hi=c,Rn(t),l&4&&s!==null&&s.memoizedState.isDehydrated)try{Rr(n.containerInfo)}catch(Et){ue(t,t.return,Et)}Gh&&(Gh=!1,op(t));break;case 4:l=hi,hi=Vu(t.stateNode.containerInfo),Cn(n,t),Rn(t),hi=l;break;case 12:Cn(n,t),Rn(t);break;case 31:Cn(n,t),Rn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,vu(t,l)));break;case 13:Cn(n,t),Rn(t),t.child.flags&8192&&t.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(bu=$e()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,vu(t,l)));break;case 22:c=t.memoizedState!==null;var D=s!==null&&s.memoizedState!==null,q=Wi,W=Fe;if(Wi=q||c,Fe=W||D,Cn(n,t),Fe=W,Wi=q,Rn(t),l&8192)t:for(n=t.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(s===null||D||Wi||Fe||Ca(t)),s=null,n=t;;){if(n.tag===5||n.tag===26){if(s===null){D=s=n;try{if(f=D.stateNode,c)y=f.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{E=D.stateNode;var it=D.memoizedProps.style,Q=it!=null&&it.hasOwnProperty("display")?it.display:null;E.style.display=Q==null||typeof Q=="boolean"?"":(""+Q).trim()}}catch(Et){ue(D,D.return,Et)}}}else if(n.tag===6){if(s===null){D=n;try{D.stateNode.nodeValue=c?"":D.memoizedProps}catch(Et){ue(D,D.return,Et)}}}else if(n.tag===18){if(s===null){D=n;try{var X=D.stateNode;c?$p(X,!0):$p(D.stateNode,!1)}catch(Et){ue(D,D.return,Et)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(s=l.retryQueue,s!==null&&(l.retryQueue=null,vu(t,s))));break;case 19:Cn(n,t),Rn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,vu(t,l)));break;case 30:break;case 21:break;default:Cn(n,t),Rn(t)}}function Rn(t){var n=t.flags;if(n&2){try{for(var s,l=t.return;l!==null;){if(Wg(l)){s=l;break}l=l.return}if(s==null)throw Error(r(160));switch(s.tag){case 27:var c=s.stateNode,f=Hh(t);yu(t,f,c);break;case 5:var y=s.stateNode;s.flags&32&&(An(y,""),s.flags&=-33);var E=Hh(t);yu(t,E,y);break;case 3:case 4:var D=s.stateNode.containerInfo,q=Hh(t);Fh(t,q,D);break;default:throw Error(r(161))}}catch(W){ue(t,t.return,W)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function op(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;op(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function es(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)np(t,n.alternate,n),n=n.sibling}function Ca(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Ds(4,n,n.return),Ca(n);break;case 1:Oi(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&$g(n,n.return,s),Ca(n);break;case 27:zl(n.stateNode);case 26:case 5:Oi(n,n.return),Ca(n);break;case 22:n.memoizedState===null&&Ca(n);break;case 30:Ca(n);break;default:Ca(n)}t=t.sibling}}function ns(t,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,c=t,f=n,y=f.flags;switch(f.tag){case 0:case 11:case 15:ns(c,f,s),Rl(4,f);break;case 1:if(ns(c,f,s),l=f,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(q){ue(l,l.return,q)}if(l=f,c=l.updateQueue,c!==null){var E=l.stateNode;try{var D=c.shared.hiddenCallbacks;if(D!==null)for(c.shared.hiddenCallbacks=null,c=0;c<D.length;c++)Um(D[c],E)}catch(q){ue(l,l.return,q)}}s&&y&64&&Zg(f),Il(f,f.return);break;case 27:tp(f);case 26:case 5:ns(c,f,s),s&&l===null&&y&4&&Jg(f),Il(f,f.return);break;case 12:ns(c,f,s);break;case 31:ns(c,f,s),s&&y&4&&ap(c,f);break;case 13:ns(c,f,s),s&&y&4&&rp(c,f);break;case 22:f.memoizedState===null&&ns(c,f,s),Il(f,f.return);break;case 30:break;default:ns(c,f,s)}n=n.sibling}}function Qh(t,n){var s=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==s&&(t!=null&&t.refCount++,s!=null&&gl(s))}function Yh(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&gl(t))}function fi(t,n,s,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)up(t,n,s,l),n=n.sibling}function up(t,n,s,l){var c=n.flags;switch(n.tag){case 0:case 11:case 15:fi(t,n,s,l),c&2048&&Rl(9,n);break;case 1:fi(t,n,s,l);break;case 3:fi(t,n,s,l),c&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&gl(t)));break;case 12:if(c&2048){fi(t,n,s,l),t=n.stateNode;try{var f=n.memoizedProps,y=f.id,E=f.onPostCommit;typeof E=="function"&&E(y,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(D){ue(n,n.return,D)}}else fi(t,n,s,l);break;case 31:fi(t,n,s,l);break;case 13:fi(t,n,s,l);break;case 23:break;case 22:f=n.stateNode,y=n.alternate,n.memoizedState!==null?f._visibility&2?fi(t,n,s,l):Dl(t,n):f._visibility&2?fi(t,n,s,l):(f._visibility|=2,yr(t,n,s,l,(n.subtreeFlags&10256)!==0||!1)),c&2048&&Qh(y,n);break;case 24:fi(t,n,s,l),c&2048&&Yh(n.alternate,n);break;default:fi(t,n,s,l)}}function yr(t,n,s,l,c){for(c=c&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=t,y=n,E=s,D=l,q=y.flags;switch(y.tag){case 0:case 11:case 15:yr(f,y,E,D,c),Rl(8,y);break;case 23:break;case 22:var W=y.stateNode;y.memoizedState!==null?W._visibility&2?yr(f,y,E,D,c):Dl(f,y):(W._visibility|=2,yr(f,y,E,D,c)),c&&q&2048&&Qh(y.alternate,y);break;case 24:yr(f,y,E,D,c),c&&q&2048&&Yh(y.alternate,y);break;default:yr(f,y,E,D,c)}n=n.sibling}}function Dl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=t,l=n,c=l.flags;switch(l.tag){case 22:Dl(s,l),c&2048&&Qh(l.alternate,l);break;case 24:Dl(s,l),c&2048&&Yh(l.alternate,l);break;default:Dl(s,l)}n=n.sibling}}var Nl=8192;function vr(t,n,s){if(t.subtreeFlags&Nl)for(t=t.child;t!==null;)cp(t,n,s),t=t.sibling}function cp(t,n,s){switch(t.tag){case 26:vr(t,n,s),t.flags&Nl&&t.memoizedState!==null&&iE(s,hi,t.memoizedState,t.memoizedProps);break;case 5:vr(t,n,s);break;case 3:case 4:var l=hi;hi=Vu(t.stateNode.containerInfo),vr(t,n,s),hi=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=Nl,Nl=16777216,vr(t,n,s),Nl=l):vr(t,n,s));break;default:vr(t,n,s)}}function hp(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function Vl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];We=l,dp(l,t)}hp(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)fp(t),t=t.sibling}function fp(t){switch(t.tag){case 0:case 11:case 15:Vl(t),t.flags&2048&&Ds(9,t,t.return);break;case 3:Vl(t);break;case 12:Vl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,_u(t)):Vl(t);break;default:Vl(t)}}function _u(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];We=l,dp(l,t)}hp(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Ds(8,n,n.return),_u(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,_u(n));break;default:_u(n)}t=t.sibling}}function dp(t,n){for(;We!==null;){var s=We;switch(s.tag){case 0:case 11:case 15:Ds(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var l=s.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:gl(s.memoizedState.cache)}if(l=s.child,l!==null)l.return=s,We=l;else t:for(s=t;We!==null;){l=We;var c=l.sibling,f=l.return;if(ip(l),l===s){We=null;break t}if(c!==null){c.return=f,We=c;break t}We=f}}}var vb={getCacheForType:function(t){var n=an(Pe),s=n.data.get(t);return s===void 0&&(s=t(),n.data.set(t,s)),s},cacheSignal:function(){return an(Pe).controller.signal}},_b=typeof WeakMap=="function"?WeakMap:Map,se=0,ye=null,Ht=null,Gt=0,oe=0,Un=null,Ns=!1,_r=!1,Kh=!1,is=0,Ne=0,Vs=0,Ra=0,Xh=0,Bn=0,br=0,Ol=null,In=null,Zh=!1,bu=0,mp=0,Eu=1/0,Tu=null,Os=null,Ye=0,Ms=null,Er=null,ss=0,$h=0,Jh=null,gp=null,Ml=0,Wh=null;function Pn(){return(se&2)!==0&&Gt!==0?Gt&-Gt:J.T!==null?rf():bn()}function pp(){if(Bn===0)if((Gt&536870912)===0||Xt){var t=Fn;Fn<<=1,(Fn&3932160)===0&&(Fn=262144),Bn=t}else Bn=536870912;return t=kn.current,t!==null&&(t.flags|=32),Bn}function Dn(t,n,s){(t===ye&&(oe===2||oe===9)||t.cancelPendingCommit!==null)&&(Tr(t,0),js(t,Gt,Bn,!1)),gi(t,s),((se&2)===0||t!==ye)&&(t===ye&&((se&2)===0&&(Ra|=s),Ne===4&&js(t,Gt,Bn,!1)),Mi(t))}function yp(t,n,s){if((se&6)!==0)throw Error(r(327));var l=!s&&(n&127)===0&&(n&t.expiredLanes)===0||dn(t,n),c=l?Tb(t,n):ef(t,n,!0),f=l;do{if(c===0){_r&&!l&&js(t,n,0,!1);break}else{if(s=t.current.alternate,f&&!bb(s)){c=ef(t,n,!1),f=!1;continue}if(c===2){if(f=n,t.errorRecoveryDisabledLanes&f)var y=0;else y=t.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){n=y;t:{var E=t;c=Ol;var D=E.current.memoizedState.isDehydrated;if(D&&(Tr(E,y).flags|=256),y=ef(E,y,!1),y!==2){if(Kh&&!D){E.errorRecoveryDisabledLanes|=f,Ra|=f,c=4;break t}f=In,In=c,f!==null&&(In===null?In=f:In.push.apply(In,f))}c=y}if(f=!1,c!==2)continue}}if(c===1){Tr(t,0),js(t,n,0,!0);break}t:{switch(l=t,f=c,f){case 0:case 1:throw Error(r(345));case 4:if((n&4194048)!==n)break;case 6:js(l,n,Bn,!Ns);break t;case 2:In=null;break;case 3:case 5:break;default:throw Error(r(329))}if((n&62914560)===n&&(c=bu+300-$e(),10<c)){if(js(l,n,Bn,!Ns),pt(l,0,!0)!==0)break t;ss=n,l.timeoutHandle=Kp(vp.bind(null,l,s,In,Tu,Zh,n,Bn,Ra,br,Ns,f,"Throttled",-0,0),c);break t}vp(l,s,In,Tu,Zh,n,Bn,Ra,br,Ns,f,null,-0,0)}}break}while(!0);Mi(t)}function vp(t,n,s,l,c,f,y,E,D,q,W,it,Q,X){if(t.timeoutHandle=-1,it=n.subtreeFlags,it&8192||(it&16785408)===16785408){it={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ai},cp(n,f,it);var Et=(f&62914560)===f?bu-$e():(f&4194048)===f?mp-$e():0;if(Et=sE(it,Et),Et!==null){ss=f,t.cancelPendingCommit=Et(wp.bind(null,t,n,f,s,l,c,y,E,D,W,it,null,Q,X)),js(t,f,y,!q);return}}wp(t,n,f,s,l,c,y,E,D)}function bb(t){for(var n=t;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var l=0;l<s.length;l++){var c=s[l],f=c.getSnapshot;c=c.value;try{if(!jn(f(),c))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function js(t,n,s,l){n&=~Xh,n&=~Ra,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var c=n;0<c;){var f=31-Tt(c),y=1<<f;l[f]=-1,c&=~y}s!==0&&pi(t,s,n)}function xu(){return(se&6)===0?(jl(0),!1):!0}function tf(){if(Ht!==null){if(oe===0)var t=Ht.return;else t=Ht,Yi=_a=null,ph(t),fr=null,yl=0,t=Ht;for(;t!==null;)Xg(t.alternate,t),t=t.return;Ht=null}}function Tr(t,n){var s=t.timeoutHandle;s!==-1&&(t.timeoutHandle=-1,Bb(s)),s=t.cancelPendingCommit,s!==null&&(t.cancelPendingCommit=null,s()),ss=0,tf(),ye=t,Ht=s=Gi(t.current,null),Gt=n,oe=0,Un=null,Ns=!1,_r=dn(t,n),Kh=!1,br=Bn=Xh=Ra=Vs=Ne=0,In=Ol=null,Zh=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var c=31-Tt(l),f=1<<c;n|=t[c],l&=~f}return is=n,Fo(),s}function _p(t,n){zt=null,J.H=Al,n===hr||n===Jo?(n=jm(),oe=3):n===sh?(n=jm(),oe=4):oe=n===Vh?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Un=n,Ht===null&&(Ne=1,fu(t,Zn(n,t.current)))}function bp(){var t=kn.current;return t===null?!0:(Gt&4194048)===Gt?ti===null:(Gt&62914560)===Gt||(Gt&536870912)!==0?t===ti:!1}function Ep(){var t=J.H;return J.H=Al,t===null?Al:t}function Tp(){var t=J.A;return J.A=vb,t}function Su(){Ne=4,Ns||(Gt&4194048)!==Gt&&kn.current!==null||(_r=!0),(Vs&134217727)===0&&(Ra&134217727)===0||ye===null||js(ye,Gt,Bn,!1)}function ef(t,n,s){var l=se;se|=2;var c=Ep(),f=Tp();(ye!==t||Gt!==n)&&(Tu=null,Tr(t,n)),n=!1;var y=Ne;t:do try{if(oe!==0&&Ht!==null){var E=Ht,D=Un;switch(oe){case 8:tf(),y=6;break t;case 3:case 2:case 9:case 6:kn.current===null&&(n=!0);var q=oe;if(oe=0,Un=null,xr(t,E,D,q),s&&_r){y=0;break t}break;default:q=oe,oe=0,Un=null,xr(t,E,D,q)}}Eb(),y=Ne;break}catch(W){_p(t,W)}while(!0);return n&&t.shellSuspendCounter++,Yi=_a=null,se=l,J.H=c,J.A=f,Ht===null&&(ye=null,Gt=0,Fo()),y}function Eb(){for(;Ht!==null;)xp(Ht)}function Tb(t,n){var s=se;se|=2;var l=Ep(),c=Tp();ye!==t||Gt!==n?(Tu=null,Eu=$e()+500,Tr(t,n)):_r=dn(t,n);t:do try{if(oe!==0&&Ht!==null){n=Ht;var f=Un;e:switch(oe){case 1:oe=0,Un=null,xr(t,n,f,1);break;case 2:case 9:if(Om(f)){oe=0,Un=null,Sp(n);break}n=function(){oe!==2&&oe!==9||ye!==t||(oe=7),Mi(t)},f.then(n,n);break t;case 3:oe=7;break t;case 4:oe=5;break t;case 7:Om(f)?(oe=0,Un=null,Sp(n)):(oe=0,Un=null,xr(t,n,f,7));break;case 5:var y=null;switch(Ht.tag){case 26:y=Ht.memoizedState;case 5:case 27:var E=Ht;if(y?uy(y):E.stateNode.complete){oe=0,Un=null;var D=E.sibling;if(D!==null)Ht=D;else{var q=E.return;q!==null?(Ht=q,Au(q)):Ht=null}break e}}oe=0,Un=null,xr(t,n,f,5);break;case 6:oe=0,Un=null,xr(t,n,f,6);break;case 8:tf(),Ne=6;break t;default:throw Error(r(462))}}xb();break}catch(W){_p(t,W)}while(!0);return Yi=_a=null,J.H=l,J.A=c,se=s,Ht!==null?0:(ye=null,Gt=0,Fo(),Ne)}function xb(){for(;Ht!==null&&!za();)xp(Ht)}function xp(t){var n=Yg(t.alternate,t,is);t.memoizedProps=t.pendingProps,n===null?Au(t):Ht=n}function Sp(t){var n=t,s=n.alternate;switch(n.tag){case 15:case 0:n=Pg(s,n,n.pendingProps,n.type,void 0,Gt);break;case 11:n=Pg(s,n,n.pendingProps,n.type.render,n.ref,Gt);break;case 5:ph(n);default:Xg(s,n),n=Ht=Tm(n,is),n=Yg(s,n,is)}t.memoizedProps=t.pendingProps,n===null?Au(t):Ht=n}function xr(t,n,s,l){Yi=_a=null,ph(n),fr=null,yl=0;var c=n.return;try{if(hb(t,c,n,s,Gt)){Ne=1,fu(t,Zn(s,t.current)),Ht=null;return}}catch(f){if(c!==null)throw Ht=c,f;Ne=1,fu(t,Zn(s,t.current)),Ht=null;return}n.flags&32768?(Xt||l===1?t=!0:_r||(Gt&536870912)!==0?t=!1:(Ns=t=!0,(l===2||l===9||l===3||l===6)&&(l=kn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Ap(n,t)):Au(n)}function Au(t){var n=t;do{if((n.flags&32768)!==0){Ap(n,Ns);return}t=n.return;var s=mb(n.alternate,n,is);if(s!==null){Ht=s;return}if(n=n.sibling,n!==null){Ht=n;return}Ht=n=t}while(n!==null);Ne===0&&(Ne=5)}function Ap(t,n){do{var s=gb(t.alternate,t);if(s!==null){s.flags&=32767,Ht=s;return}if(s=t.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(t=t.sibling,t!==null)){Ht=t;return}Ht=t=s}while(t!==null);Ne=6,Ht=null}function wp(t,n,s,l,c,f,y,E,D){t.cancelPendingCommit=null;do wu();while(Ye!==0);if((se&6)!==0)throw Error(r(327));if(n!==null){if(n===t.current)throw Error(r(177));if(f=n.lanes|n.childLanes,f|=Hc,qa(t,s,f,y,E,D),t===ye&&(Ht=ye=null,Gt=0),Er=n,Ms=t,ss=s,$h=f,Jh=c,gp=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,Cb(_n,function(){return Np(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=J.T,J.T=null,c=ht.p,ht.p=2,y=se,se|=4;try{pb(t,n,s)}finally{se=y,ht.p=c,J.T=l}}Ye=1,Cp(),Rp(),Ip()}}function Cp(){if(Ye===1){Ye=0;var t=Ms,n=Er,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=J.T,J.T=null;var l=ht.p;ht.p=2;var c=se;se|=4;try{lp(n,t);var f=mf,y=dm(t.containerInfo),E=f.focusedElem,D=f.selectionRange;if(y!==E&&E&&E.ownerDocument&&fm(E.ownerDocument.documentElement,E)){if(D!==null&&zc(E)){var q=D.start,W=D.end;if(W===void 0&&(W=q),"selectionStart"in E)E.selectionStart=q,E.selectionEnd=Math.min(W,E.value.length);else{var it=E.ownerDocument||document,Q=it&&it.defaultView||window;if(Q.getSelection){var X=Q.getSelection(),Et=E.textContent.length,Nt=Math.min(D.start,Et),me=D.end===void 0?Nt:Math.min(D.end,Et);!X.extend&&Nt>me&&(y=me,me=Nt,Nt=y);var z=hm(E,Nt),M=hm(E,me);if(z&&M&&(X.rangeCount!==1||X.anchorNode!==z.node||X.anchorOffset!==z.offset||X.focusNode!==M.node||X.focusOffset!==M.offset)){var P=it.createRange();P.setStart(z.node,z.offset),X.removeAllRanges(),Nt>me?(X.addRange(P),X.extend(M.node,M.offset)):(P.setEnd(M.node,M.offset),X.addRange(P))}}}}for(it=[],X=E;X=X.parentNode;)X.nodeType===1&&it.push({element:X,left:X.scrollLeft,top:X.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<it.length;E++){var nt=it[E];nt.element.scrollLeft=nt.left,nt.element.scrollTop=nt.top}}zu=!!df,mf=df=null}finally{se=c,ht.p=l,J.T=s}}t.current=n,Ye=2}}function Rp(){if(Ye===2){Ye=0;var t=Ms,n=Er,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=J.T,J.T=null;var l=ht.p;ht.p=2;var c=se;se|=4;try{np(t,n.alternate,n)}finally{se=c,ht.p=l,J.T=s}}Ye=3}}function Ip(){if(Ye===4||Ye===3){Ye=0,Ua();var t=Ms,n=Er,s=ss,l=gp;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Ye=5:(Ye=0,Er=Ms=null,Dp(t,t.pendingLanes));var c=t.pendingLanes;if(c===0&&(Os=null),ke(s),n=n.stateNode,_t&&typeof _t.onCommitFiberRoot=="function")try{_t.onCommitFiberRoot(tt,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=J.T,c=ht.p,ht.p=2,J.T=null;try{for(var f=t.onRecoverableError,y=0;y<l.length;y++){var E=l[y];f(E.value,{componentStack:E.stack})}}finally{J.T=n,ht.p=c}}(ss&3)!==0&&wu(),Mi(t),c=t.pendingLanes,(s&261930)!==0&&(c&42)!==0?t===Wh?Ml++:(Ml=0,Wh=t):Ml=0,jl(0)}}function Dp(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,gl(n)))}function wu(){return Cp(),Rp(),Ip(),Np()}function Np(){if(Ye!==5)return!1;var t=Ms,n=$h;$h=0;var s=ke(ss),l=J.T,c=ht.p;try{ht.p=32>s?32:s,J.T=null,s=Jh,Jh=null;var f=Ms,y=ss;if(Ye=0,Er=Ms=null,ss=0,(se&6)!==0)throw Error(r(331));var E=se;if(se|=4,fp(f.current),up(f,f.current,y,s),se=E,jl(0,!1),_t&&typeof _t.onPostCommitFiberRoot=="function")try{_t.onPostCommitFiberRoot(tt,f)}catch{}return!0}finally{ht.p=c,J.T=l,Dp(t,n)}}function Vp(t,n,s){n=Zn(s,n),n=Nh(t.stateNode,n,2),t=Cs(t,n,2),t!==null&&(gi(t,2),Mi(t))}function ue(t,n,s){if(t.tag===3)Vp(t,t,s);else for(;n!==null;){if(n.tag===3){Vp(n,t,s);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Os===null||!Os.has(l))){t=Zn(s,t),s=Og(2),l=Cs(n,s,2),l!==null&&(Mg(s,l,n,t),gi(l,2),Mi(l));break}}n=n.return}}function nf(t,n,s){var l=t.pingCache;if(l===null){l=t.pingCache=new _b;var c=new Set;l.set(n,c)}else c=l.get(n),c===void 0&&(c=new Set,l.set(n,c));c.has(s)||(Kh=!0,c.add(s),t=Sb.bind(null,t,n,s),n.then(t,t))}function Sb(t,n,s){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&s,t.warmLanes&=~s,ye===t&&(Gt&s)===s&&(Ne===4||Ne===3&&(Gt&62914560)===Gt&&300>$e()-bu?(se&2)===0&&Tr(t,0):Xh|=s,br===Gt&&(br=0)),Mi(t)}function Op(t,n){n===0&&(n=sa()),t=pa(t,n),t!==null&&(gi(t,n),Mi(t))}function Ab(t){var n=t.memoizedState,s=0;n!==null&&(s=n.retryLane),Op(t,s)}function wb(t,n){var s=0;switch(t.tag){case 31:case 13:var l=t.stateNode,c=t.memoizedState;c!==null&&(s=c.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(n),Op(t,s)}function Cb(t,n){return _e(t,n)}var Cu=null,Sr=null,sf=!1,Ru=!1,af=!1,Ls=0;function Mi(t){t!==Sr&&t.next===null&&(Sr===null?Cu=Sr=t:Sr=Sr.next=t),Ru=!0,sf||(sf=!0,Ib())}function jl(t,n){if(!af&&Ru){af=!0;do for(var s=!1,l=Cu;l!==null;){if(t!==0){var c=l.pendingLanes;if(c===0)var f=0;else{var y=l.suspendedLanes,E=l.pingedLanes;f=(1<<31-Tt(42|t)+1)-1,f&=c&~(y&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,kp(l,f))}else f=Gt,f=pt(l,l===ye?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||dn(l,f)||(s=!0,kp(l,f));l=l.next}while(s);af=!1}}function Rb(){Mp()}function Mp(){Ru=sf=!1;var t=0;Ls!==0&&Ub()&&(t=Ls);for(var n=$e(),s=null,l=Cu;l!==null;){var c=l.next,f=jp(l,n);f===0?(l.next=null,s===null?Cu=c:s.next=c,c===null&&(Sr=s)):(s=l,(t!==0||(f&3)!==0)&&(Ru=!0)),l=c}Ye!==0&&Ye!==5||jl(t),Ls!==0&&(Ls=0)}function jp(t,n){for(var s=t.suspendedLanes,l=t.pingedLanes,c=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var y=31-Tt(f),E=1<<y,D=c[y];D===-1?((E&s)===0||(E&l)!==0)&&(c[y]=Pa(E,n)):D<=n&&(t.expiredLanes|=E),f&=~E}if(n=ye,s=Gt,s=pt(t,t===n?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,s===0||t===n&&(oe===2||oe===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&xn(l),t.callbackNode=null,t.callbackPriority=0;if((s&3)===0||dn(t,s)){if(n=s&-s,n===t.callbackPriority)return n;switch(l!==null&&xn(l),ke(s)){case 2:case 8:s=na;break;case 32:s=_n;break;case 268435456:s=ia;break;default:s=_n}return l=Lp.bind(null,t),s=_e(s,l),t.callbackPriority=n,t.callbackNode=s,n}return l!==null&&l!==null&&xn(l),t.callbackPriority=2,t.callbackNode=null,2}function Lp(t,n){if(Ye!==0&&Ye!==5)return t.callbackNode=null,t.callbackPriority=0,null;var s=t.callbackNode;if(wu()&&t.callbackNode!==s)return null;var l=Gt;return l=pt(t,t===ye?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(yp(t,l,n),jp(t,$e()),t.callbackNode!=null&&t.callbackNode===s?Lp.bind(null,t):null)}function kp(t,n){if(wu())return null;yp(t,n,!0)}function Ib(){Pb(function(){(se&6)!==0?_e(ea,Rb):Mp()})}function rf(){if(Ls===0){var t=ur;t===0&&(t=xe,xe<<=1,(xe&261888)===0&&(xe=256)),Ls=t}return Ls}function zp(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Ka(""+t)}function Up(t,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,t.id&&s.setAttribute("form",t.id),n.parentNode.insertBefore(s,n),t=new FormData(t),s.parentNode.removeChild(s),t}function Db(t,n,s,l,c){if(n==="submit"&&s&&s.stateNode===c){var f=zp((c[ze]||null).action),y=l.submitter;y&&(n=(n=y[ze]||null)?zp(n.formAction):y.getAttribute("formAction"),n!==null&&(f=n,y=null));var E=new Ci("action","action",null,l,c);t.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Ls!==0){var D=y?Up(c,y):new FormData(c);Ah(s,{pending:!0,data:D,method:c.method,action:f},null,D)}}else typeof f=="function"&&(E.preventDefault(),D=y?Up(c,y):new FormData(c),Ah(s,{pending:!0,data:D,method:c.method,action:f},f,D))},currentTarget:c}]})}}for(var lf=0;lf<qc.length;lf++){var of=qc[lf],Nb=of.toLowerCase(),Vb=of[0].toUpperCase()+of.slice(1);ci(Nb,"on"+Vb)}ci(pm,"onAnimationEnd"),ci(ym,"onAnimationIteration"),ci(vm,"onAnimationStart"),ci("dblclick","onDoubleClick"),ci("focusin","onFocus"),ci("focusout","onBlur"),ci(K_,"onTransitionRun"),ci(X_,"onTransitionStart"),ci(Z_,"onTransitionCancel"),ci(_m,"onTransitionEnd"),xi("onMouseEnter",["mouseout","mouseover"]),xi("onMouseLeave",["mouseout","mouseover"]),xi("onPointerEnter",["pointerout","pointerover"]),xi("onPointerLeave",["pointerout","pointerover"]),Ti("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ti("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ti("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ti("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ti("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ti("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ll="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ob=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ll));function Bp(t,n){n=(n&4)!==0;for(var s=0;s<t.length;s++){var l=t[s],c=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var y=l.length-1;0<=y;y--){var E=l[y],D=E.instance,q=E.currentTarget;if(E=E.listener,D!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=q;try{f(c)}catch(W){Ho(W)}c.currentTarget=null,f=D}else for(y=0;y<l.length;y++){if(E=l[y],D=E.instance,q=E.currentTarget,E=E.listener,D!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=q;try{f(c)}catch(W){Ho(W)}c.currentTarget=null,f=D}}}}function Ft(t,n){var s=n[Ha];s===void 0&&(s=n[Ha]=new Set);var l=t+"__bubble";s.has(l)||(Pp(n,t,2,!1),s.add(l))}function uf(t,n,s){var l=0;n&&(l|=4),Pp(s,t,l,n)}var Iu="_reactListening"+Math.random().toString(36).slice(2);function cf(t){if(!t[Iu]){t[Iu]=!0,Kr.forEach(function(s){s!=="selectionchange"&&(Ob.has(s)||uf(s,!1,t),uf(s,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[Iu]||(n[Iu]=!0,uf("selectionchange",!1,n))}}function Pp(t,n,s,l){switch(py(n)){case 2:var c=lE;break;case 8:c=oE;break;default:c=Af}s=c.bind(null,n,s,t),c=void 0,!oa||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),l?c!==void 0?t.addEventListener(n,s,{capture:!0,passive:c}):t.addEventListener(n,s,!0):c!==void 0?t.addEventListener(n,s,{passive:c}):t.addEventListener(n,s,!1)}function hf(t,n,s,l,c){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var y=l.tag;if(y===3||y===4){var E=l.stateNode.containerInfo;if(E===c)break;if(y===4)for(y=l.return;y!==null;){var D=y.tag;if((D===3||D===4)&&y.stateNode.containerInfo===c)return;y=y.return}for(;E!==null;){if(y=bi(E),y===null)return;if(D=y.tag,D===5||D===6||D===26||D===27){l=f=y;continue t}E=E.parentNode}}l=l.return}ys(function(){var q=f,W=Qn(s),it=[];t:{var Q=bm.get(t);if(Q!==void 0){var X=Ci,Et=t;switch(t){case"keypress":if(ca(s)===0)break t;case"keydown":case"keyup":X=Bo;break;case"focusin":Et="focus",X=fa;break;case"focusout":Et="blur",X=fa;break;case"beforeblur":case"afterblur":X=fa;break;case"click":if(s.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":X=ll;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":X=No;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":X=m;break;case pm:case ym:case vm:X=Oo;break;case _m:X=x;break;case"scroll":case"scrollend":X=rl;break;case"wheel":X=K;break;case"copy":case"cut":case"paste":X=Mo;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":X=Fi;break;case"toggle":case"beforetoggle":X=kt}var Nt=(n&4)!==0,me=!Nt&&(t==="scroll"||t==="scrollend"),z=Nt?Q!==null?Q+"Capture":null:Q;Nt=[];for(var M=q,P;M!==null;){var nt=M;if(P=nt.stateNode,nt=nt.tag,nt!==5&&nt!==26&&nt!==27||P===null||z===null||(nt=ri(M,z),nt!=null&&Nt.push(kl(M,nt,P))),me)break;M=M.return}0<Nt.length&&(Q=new X(Q,Et,null,s,W),it.push({event:Q,listeners:Nt}))}}if((n&7)===0){t:{if(Q=t==="mouseover"||t==="pointerover",X=t==="mouseout"||t==="pointerout",Q&&s!==il&&(Et=s.relatedTarget||s.fromElement)&&(bi(Et)||Et[vi]))break t;if((X||Q)&&(Q=W.window===W?W:(Q=W.ownerDocument)?Q.defaultView||Q.parentWindow:window,X?(Et=s.relatedTarget||s.toElement,X=q,Et=Et?bi(Et):null,Et!==null&&(me=h(Et),Nt=Et.tag,Et!==me||Nt!==5&&Nt!==27&&Nt!==6)&&(Et=null)):(X=null,Et=q),X!==Et)){if(Nt=ll,nt="onMouseLeave",z="onMouseEnter",M="mouse",(t==="pointerout"||t==="pointerover")&&(Nt=Fi,nt="onPointerLeave",z="onPointerEnter",M="pointer"),me=X==null?Q:On(X),P=Et==null?Q:On(Et),Q=new Nt(nt,M+"leave",X,s,W),Q.target=me,Q.relatedTarget=P,nt=null,bi(W)===q&&(Nt=new Nt(z,M+"enter",Et,s,W),Nt.target=P,Nt.relatedTarget=me,nt=Nt),me=nt,X&&Et)e:{for(Nt=Mb,z=X,M=Et,P=0,nt=z;nt;nt=Nt(nt))P++;nt=0;for(var Rt=M;Rt;Rt=Nt(Rt))nt++;for(;0<P-nt;)z=Nt(z),P--;for(;0<nt-P;)M=Nt(M),nt--;for(;P--;){if(z===M||M!==null&&z===M.alternate){Nt=z;break e}z=Nt(z),M=Nt(M)}Nt=null}else Nt=null;X!==null&&qp(it,Q,X,Nt,!1),Et!==null&&me!==null&&qp(it,me,Et,Nt,!0)}}t:{if(Q=q?On(q):window,X=Q.nodeName&&Q.nodeName.toLowerCase(),X==="select"||X==="input"&&Q.type==="file")var te=am;else if(im(Q))if(rm)te=G_;else{te=H_;var St=q_}else X=Q.nodeName,!X||X.toLowerCase()!=="input"||Q.type!=="checkbox"&&Q.type!=="radio"?q&&Ya(q.elementType)&&(te=am):te=F_;if(te&&(te=te(t,q))){sm(it,te,s,W);break t}St&&St(t,Q,q),t==="focusout"&&q&&Q.type==="number"&&q.memoizedProps.value!=null&&tl(Q,"number",Q.value)}switch(St=q?On(q):window,t){case"focusin":(im(St)||St.contentEditable==="true")&&(er=St,Uc=q,fl=null);break;case"focusout":fl=Uc=er=null;break;case"mousedown":Bc=!0;break;case"contextmenu":case"mouseup":case"dragend":Bc=!1,mm(it,s,W);break;case"selectionchange":if(Y_)break;case"keydown":case"keyup":mm(it,s,W)}var Ut;if(ie)t:{switch(t){case"compositionstart":var Qt="onCompositionStart";break t;case"compositionend":Qt="onCompositionEnd";break t;case"compositionupdate":Qt="onCompositionUpdate";break t}Qt=void 0}else tr?da(t,s)&&(Qt="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(Qt="onCompositionStart");Qt&&(Di&&s.locale!=="ko"&&(tr||Qt!=="onCompositionStart"?Qt==="onCompositionEnd"&&tr&&(Ut=al()):(wi=W,sl="value"in wi?wi.value:wi.textContent,tr=!0)),St=Du(q,Qt),0<St.length&&(Qt=new Ii(Qt,t,null,s,W),it.push({event:Qt,listeners:St}),Ut?Qt.data=Ut:(Ut=Wa(s),Ut!==null&&(Qt.data=Ut)))),(Ut=Kn?z_(t,s):U_(t,s))&&(Qt=Du(q,"onBeforeInput"),0<Qt.length&&(St=new Ii("onBeforeInput","beforeinput",null,s,W),it.push({event:St,listeners:Qt}),St.data=Ut)),Db(it,t,q,s,W)}Bp(it,n)})}function kl(t,n,s){return{instance:t,listener:n,currentTarget:s}}function Du(t,n){for(var s=n+"Capture",l=[];t!==null;){var c=t,f=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=ri(t,s),c!=null&&l.unshift(kl(t,c,f)),c=ri(t,n),c!=null&&l.push(kl(t,c,f))),t.tag===3)return l;t=t.return}return[]}function Mb(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function qp(t,n,s,l,c){for(var f=n._reactName,y=[];s!==null&&s!==l;){var E=s,D=E.alternate,q=E.stateNode;if(E=E.tag,D!==null&&D===l)break;E!==5&&E!==26&&E!==27||q===null||(D=q,c?(q=ri(s,f),q!=null&&y.unshift(kl(s,q,D))):c||(q=ri(s,f),q!=null&&y.push(kl(s,q,D)))),s=s.return}y.length!==0&&t.push({event:n,listeners:y})}var jb=/\r\n?/g,Lb=/\u0000|\uFFFD/g;function Hp(t){return(typeof t=="string"?t:""+t).replace(jb,`
`).replace(Lb,"")}function Fp(t,n){return n=Hp(n),Hp(t)===n}function de(t,n,s,l,c,f){switch(s){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||An(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&An(t,""+l);break;case"className":Mn(t,"class",l);break;case"tabIndex":Mn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Mn(t,s,l);break;case"style":nl(t,l,f);break;case"data":if(n!=="object"){Mn(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||s!=="href")){t.removeAttribute(s);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=Ka(""+l),t.setAttribute(s,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(n!=="input"&&de(t,n,"name",c.name,c,null),de(t,n,"formEncType",c.formEncType,c,null),de(t,n,"formMethod",c.formMethod,c,null),de(t,n,"formTarget",c.formTarget,c,null)):(de(t,n,"encType",c.encType,c,null),de(t,n,"method",c.method,c,null),de(t,n,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=Ka(""+l),t.setAttribute(s,l);break;case"onClick":l!=null&&(t.onclick=ai);break;case"onScroll":l!=null&&Ft("scroll",t);break;case"onScrollEnd":l!=null&&Ft("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(s=l.__html,s!=null){if(c.children!=null)throw Error(r(60));t.innerHTML=s}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}s=Ka(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""+l):t.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""):t.removeAttribute(s);break;case"capture":case"download":l===!0?t.setAttribute(s,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,l):t.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(s,l):t.removeAttribute(s);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(s):t.setAttribute(s,l);break;case"popover":Ft("beforetoggle",t),Ft("toggle",t),Ga(t,"popover",l);break;case"xlinkActuate":Be(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Be(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Be(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Be(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Be(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Be(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Be(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Be(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Be(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Ga(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=Do.get(s)||s,Ga(t,s,l))}}function ff(t,n,s,l,c,f){switch(s){case"style":nl(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(s=l.__html,s!=null){if(c.children!=null)throw Error(r(60));t.innerHTML=s}}break;case"children":typeof l=="string"?An(t,l):(typeof l=="number"||typeof l=="bigint")&&An(t,""+l);break;case"onScroll":l!=null&&Ft("scroll",t);break;case"onScrollEnd":l!=null&&Ft("scrollend",t);break;case"onClick":l!=null&&(t.onclick=ai);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Xr.hasOwnProperty(s))t:{if(s[0]==="o"&&s[1]==="n"&&(c=s.endsWith("Capture"),n=s.slice(2,c?s.length-7:void 0),f=t[ze]||null,f=f!=null?f[s]:null,typeof f=="function"&&t.removeEventListener(n,f,c),typeof l=="function")){typeof f!="function"&&f!==null&&(s in t?t[s]=null:t.hasAttribute(s)&&t.removeAttribute(s)),t.addEventListener(n,l,c);break t}s in t?t[s]=l:l===!0?t.setAttribute(s,""):Ga(t,s,l)}}}function ln(t,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ft("error",t),Ft("load",t);var l=!1,c=!1,f;for(f in s)if(s.hasOwnProperty(f)){var y=s[f];if(y!=null)switch(f){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:de(t,n,f,y,s,null)}}c&&de(t,n,"srcSet",s.srcSet,s,null),l&&de(t,n,"src",s.src,s,null);return;case"input":Ft("invalid",t);var E=f=y=c=null,D=null,q=null;for(l in s)if(s.hasOwnProperty(l)){var W=s[l];if(W!=null)switch(l){case"name":c=W;break;case"type":y=W;break;case"checked":D=W;break;case"defaultChecked":q=W;break;case"value":f=W;break;case"defaultValue":E=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(r(137,n));break;default:de(t,n,l,W,s,null)}}Co(t,f,E,D,q,y,c,!1);return;case"select":Ft("invalid",t),l=y=f=null;for(c in s)if(s.hasOwnProperty(c)&&(E=s[c],E!=null))switch(c){case"value":f=E;break;case"defaultValue":y=E;break;case"multiple":l=E;default:de(t,n,c,E,s,null)}n=f,s=y,t.multiple=!!l,n!=null?ds(t,!!l,n,!1):s!=null&&ds(t,!!l,s,!0);return;case"textarea":Ft("invalid",t),f=c=l=null;for(y in s)if(s.hasOwnProperty(y)&&(E=s[y],E!=null))switch(y){case"value":l=E;break;case"defaultValue":c=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(r(91));break;default:de(t,n,y,E,s,null)}ms(t,l,c,f);return;case"option":for(D in s)if(s.hasOwnProperty(D)&&(l=s[D],l!=null))switch(D){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:de(t,n,D,l,s,null)}return;case"dialog":Ft("beforetoggle",t),Ft("toggle",t),Ft("cancel",t),Ft("close",t);break;case"iframe":case"object":Ft("load",t);break;case"video":case"audio":for(l=0;l<Ll.length;l++)Ft(Ll[l],t);break;case"image":Ft("error",t),Ft("load",t);break;case"details":Ft("toggle",t);break;case"embed":case"source":case"link":Ft("error",t),Ft("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(q in s)if(s.hasOwnProperty(q)&&(l=s[q],l!=null))switch(q){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:de(t,n,q,l,s,null)}return;default:if(Ya(n)){for(W in s)s.hasOwnProperty(W)&&(l=s[W],l!==void 0&&ff(t,n,W,l,s,void 0));return}}for(E in s)s.hasOwnProperty(E)&&(l=s[E],l!=null&&de(t,n,E,l,s,null))}function kb(t,n,s,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,y=null,E=null,D=null,q=null,W=null;for(X in s){var it=s[X];if(s.hasOwnProperty(X)&&it!=null)switch(X){case"checked":break;case"value":break;case"defaultValue":D=it;default:l.hasOwnProperty(X)||de(t,n,X,null,l,it)}}for(var Q in l){var X=l[Q];if(it=s[Q],l.hasOwnProperty(Q)&&(X!=null||it!=null))switch(Q){case"type":f=X;break;case"name":c=X;break;case"checked":q=X;break;case"defaultChecked":W=X;break;case"value":y=X;break;case"defaultValue":E=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(r(137,n));break;default:X!==it&&de(t,n,Q,X,l,it)}}Qa(t,y,E,D,q,W,f,c);return;case"select":X=y=E=Q=null;for(f in s)if(D=s[f],s.hasOwnProperty(f)&&D!=null)switch(f){case"value":break;case"multiple":X=D;default:l.hasOwnProperty(f)||de(t,n,f,null,l,D)}for(c in l)if(f=l[c],D=s[c],l.hasOwnProperty(c)&&(f!=null||D!=null))switch(c){case"value":Q=f;break;case"defaultValue":E=f;break;case"multiple":y=f;default:f!==D&&de(t,n,c,f,l,D)}n=E,s=y,l=X,Q!=null?ds(t,!!s,Q,!1):!!l!=!!s&&(n!=null?ds(t,!!s,n,!0):ds(t,!!s,s?[]:"",!1));return;case"textarea":X=Q=null;for(E in s)if(c=s[E],s.hasOwnProperty(E)&&c!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:de(t,n,E,null,l,c)}for(y in l)if(c=l[y],f=s[y],l.hasOwnProperty(y)&&(c!=null||f!=null))switch(y){case"value":Q=c;break;case"defaultValue":X=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(r(91));break;default:c!==f&&de(t,n,y,c,l,f)}Ro(t,Q,X);return;case"option":for(var Et in s)if(Q=s[Et],s.hasOwnProperty(Et)&&Q!=null&&!l.hasOwnProperty(Et))switch(Et){case"selected":t.selected=!1;break;default:de(t,n,Et,null,l,Q)}for(D in l)if(Q=l[D],X=s[D],l.hasOwnProperty(D)&&Q!==X&&(Q!=null||X!=null))switch(D){case"selected":t.selected=Q&&typeof Q!="function"&&typeof Q!="symbol";break;default:de(t,n,D,Q,l,X)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Nt in s)Q=s[Nt],s.hasOwnProperty(Nt)&&Q!=null&&!l.hasOwnProperty(Nt)&&de(t,n,Nt,null,l,Q);for(q in l)if(Q=l[q],X=s[q],l.hasOwnProperty(q)&&Q!==X&&(Q!=null||X!=null))switch(q){case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(r(137,n));break;default:de(t,n,q,Q,l,X)}return;default:if(Ya(n)){for(var me in s)Q=s[me],s.hasOwnProperty(me)&&Q!==void 0&&!l.hasOwnProperty(me)&&ff(t,n,me,void 0,l,Q);for(W in l)Q=l[W],X=s[W],!l.hasOwnProperty(W)||Q===X||Q===void 0&&X===void 0||ff(t,n,W,Q,l,X);return}}for(var z in s)Q=s[z],s.hasOwnProperty(z)&&Q!=null&&!l.hasOwnProperty(z)&&de(t,n,z,null,l,Q);for(it in l)Q=l[it],X=s[it],!l.hasOwnProperty(it)||Q===X||Q==null&&X==null||de(t,n,it,Q,l,X)}function Gp(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function zb(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,s=performance.getEntriesByType("resource"),l=0;l<s.length;l++){var c=s[l],f=c.transferSize,y=c.initiatorType,E=c.duration;if(f&&E&&Gp(y)){for(y=0,E=c.responseEnd,l+=1;l<s.length;l++){var D=s[l],q=D.startTime;if(q>E)break;var W=D.transferSize,it=D.initiatorType;W&&Gp(it)&&(D=D.responseEnd,y+=W*(D<E?1:(E-q)/(D-q)))}if(--l,n+=8*(f+y)/(c.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var df=null,mf=null;function Nu(t){return t.nodeType===9?t:t.ownerDocument}function Qp(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Yp(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function gf(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var pf=null;function Ub(){var t=window.event;return t&&t.type==="popstate"?t===pf?!1:(pf=t,!0):(pf=null,!1)}var Kp=typeof setTimeout=="function"?setTimeout:void 0,Bb=typeof clearTimeout=="function"?clearTimeout:void 0,Xp=typeof Promise=="function"?Promise:void 0,Pb=typeof queueMicrotask=="function"?queueMicrotask:typeof Xp<"u"?function(t){return Xp.resolve(null).then(t).catch(qb)}:Kp;function qb(t){setTimeout(function(){throw t})}function ks(t){return t==="head"}function Zp(t,n){var s=n,l=0;do{var c=s.nextSibling;if(t.removeChild(s),c&&c.nodeType===8)if(s=c.data,s==="/$"||s==="/&"){if(l===0){t.removeChild(c),Rr(n);return}l--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")l++;else if(s==="html")zl(t.ownerDocument.documentElement);else if(s==="head"){s=t.ownerDocument.head,zl(s);for(var f=s.firstChild;f;){var y=f.nextSibling,E=f.nodeName;f[_i]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||s.removeChild(f),f=y}}else s==="body"&&zl(t.ownerDocument.body);s=c}while(s);Rr(n)}function $p(t,n){var s=t;t=0;do{var l=s.nextSibling;if(s.nodeType===1?n?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(n?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),l&&l.nodeType===8)if(s=l.data,s==="/$"){if(t===0)break;t--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||t++;s=l}while(s)}function yf(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":yf(s),Fa(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}t.removeChild(s)}}function Hb(t,n,s,l){for(;t.nodeType===1;){var c=s;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[_i])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==c.rel||t.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=ei(t.nextSibling),t===null)break}return null}function Fb(t,n,s){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=ei(t.nextSibling),t===null))return null;return t}function Jp(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=ei(t.nextSibling),t===null))return null;return t}function vf(t){return t.data==="$?"||t.data==="$~"}function _f(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function Gb(t,n){var s=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||s.readyState!=="loading")n();else{var l=function(){n(),s.removeEventListener("DOMContentLoaded",l)};s.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function ei(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var bf=null;function Wp(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var s=t.data;if(s==="/$"||s==="/&"){if(n===0)return ei(t.nextSibling);n--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||n++}t=t.nextSibling}return null}function ty(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(n===0)return t;n--}else s!=="/$"&&s!=="/&"||n++}t=t.previousSibling}return null}function ey(t,n,s){switch(n=Nu(s),t){case"html":if(t=n.documentElement,!t)throw Error(r(452));return t;case"head":if(t=n.head,!t)throw Error(r(453));return t;case"body":if(t=n.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function zl(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Fa(t)}var ni=new Map,ny=new Set;function Vu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var as=ht.d;ht.d={f:Qb,r:Yb,D:Kb,C:Xb,L:Zb,m:$b,X:Wb,S:Jb,M:tE};function Qb(){var t=as.f(),n=xu();return t||n}function Yb(t){var n=Gn(t);n!==null&&n.tag===5&&n.type==="form"?_g(n):as.r(t)}var Ar=typeof document>"u"?null:document;function iy(t,n,s){var l=Ar;if(l&&typeof n=="string"&&n){var c=Sn(n);c='link[rel="'+t+'"][href="'+c+'"]',typeof s=="string"&&(c+='[crossorigin="'+s+'"]'),ny.has(c)||(ny.add(c),t={rel:t,crossOrigin:s,href:n},l.querySelector(c)===null&&(n=l.createElement("link"),ln(n,"link",t),Ue(n),l.head.appendChild(n)))}}function Kb(t){as.D(t),iy("dns-prefetch",t,null)}function Xb(t,n){as.C(t,n),iy("preconnect",t,n)}function Zb(t,n,s){as.L(t,n,s);var l=Ar;if(l&&t&&n){var c='link[rel="preload"][as="'+Sn(n)+'"]';n==="image"&&s&&s.imageSrcSet?(c+='[imagesrcset="'+Sn(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(c+='[imagesizes="'+Sn(s.imageSizes)+'"]')):c+='[href="'+Sn(t)+'"]';var f=c;switch(n){case"style":f=wr(t);break;case"script":f=Cr(t)}ni.has(f)||(t=A({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:t,as:n},s),ni.set(f,t),l.querySelector(c)!==null||n==="style"&&l.querySelector(Ul(f))||n==="script"&&l.querySelector(Bl(f))||(n=l.createElement("link"),ln(n,"link",t),Ue(n),l.head.appendChild(n)))}}function $b(t,n){as.m(t,n);var s=Ar;if(s&&t){var l=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+Sn(l)+'"][href="'+Sn(t)+'"]',f=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Cr(t)}if(!ni.has(f)&&(t=A({rel:"modulepreload",href:t},n),ni.set(f,t),s.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(Bl(f)))return}l=s.createElement("link"),ln(l,"link",t),Ue(l),s.head.appendChild(l)}}}function Jb(t,n,s){as.S(t,n,s);var l=Ar;if(l&&t){var c=Ei(l).hoistableStyles,f=wr(t);n=n||"default";var y=c.get(f);if(!y){var E={loading:0,preload:null};if(y=l.querySelector(Ul(f)))E.loading=5;else{t=A({rel:"stylesheet",href:t,"data-precedence":n},s),(s=ni.get(f))&&Ef(t,s);var D=y=l.createElement("link");Ue(D),ln(D,"link",t),D._p=new Promise(function(q,W){D.onload=q,D.onerror=W}),D.addEventListener("load",function(){E.loading|=1}),D.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Ou(y,n,l)}y={type:"stylesheet",instance:y,count:1,state:E},c.set(f,y)}}}function Wb(t,n){as.X(t,n);var s=Ar;if(s&&t){var l=Ei(s).hoistableScripts,c=Cr(t),f=l.get(c);f||(f=s.querySelector(Bl(c)),f||(t=A({src:t,async:!0},n),(n=ni.get(c))&&Tf(t,n),f=s.createElement("script"),Ue(f),ln(f,"link",t),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function tE(t,n){as.M(t,n);var s=Ar;if(s&&t){var l=Ei(s).hoistableScripts,c=Cr(t),f=l.get(c);f||(f=s.querySelector(Bl(c)),f||(t=A({src:t,async:!0,type:"module"},n),(n=ni.get(c))&&Tf(t,n),f=s.createElement("script"),Ue(f),ln(f,"link",t),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function sy(t,n,s,l){var c=(c=ot.current)?Vu(c):null;if(!c)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=wr(s.href),s=Ei(c).hoistableStyles,l=s.get(n),l||(l={type:"style",instance:null,count:0,state:null},s.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){t=wr(s.href);var f=Ei(c).hoistableStyles,y=f.get(t);if(y||(c=c.ownerDocument||c,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,y),(f=c.querySelector(Ul(t)))&&!f._p&&(y.instance=f,y.state.loading=5),ni.has(t)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},ni.set(t,s),f||eE(c,t,s,y.state))),n&&l===null)throw Error(r(528,""));return y}if(n&&l!==null)throw Error(r(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Cr(s),s=Ei(c).hoistableScripts,l=s.get(n),l||(l={type:"script",instance:null,count:0,state:null},s.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function wr(t){return'href="'+Sn(t)+'"'}function Ul(t){return'link[rel="stylesheet"]['+t+"]"}function ay(t){return A({},t,{"data-precedence":t.precedence,precedence:null})}function eE(t,n,s,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),ln(n,"link",s),Ue(n),t.head.appendChild(n))}function Cr(t){return'[src="'+Sn(t)+'"]'}function Bl(t){return"script[async]"+t}function ry(t,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+Sn(s.href)+'"]');if(l)return n.instance=l,Ue(l),l;var c=A({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Ue(l),ln(l,"style",c),Ou(l,s.precedence,t),n.instance=l;case"stylesheet":c=wr(s.href);var f=t.querySelector(Ul(c));if(f)return n.state.loading|=4,n.instance=f,Ue(f),f;l=ay(s),(c=ni.get(c))&&Ef(l,c),f=(t.ownerDocument||t).createElement("link"),Ue(f);var y=f;return y._p=new Promise(function(E,D){y.onload=E,y.onerror=D}),ln(f,"link",l),n.state.loading|=4,Ou(f,s.precedence,t),n.instance=f;case"script":return f=Cr(s.src),(c=t.querySelector(Bl(f)))?(n.instance=c,Ue(c),c):(l=s,(c=ni.get(f))&&(l=A({},s),Tf(l,c)),t=t.ownerDocument||t,c=t.createElement("script"),Ue(c),ln(c,"link",l),t.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(r(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,Ou(l,s.precedence,t));return n.instance}function Ou(t,n,s){for(var l=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,f=c,y=0;y<l.length;y++){var E=l[y];if(E.dataset.precedence===n)f=E;else if(f!==c)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(t,n.firstChild))}function Ef(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Tf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Mu=null;function ly(t,n,s){if(Mu===null){var l=new Map,c=Mu=new Map;c.set(s,l)}else c=Mu,l=c.get(s),l||(l=new Map,c.set(s,l));if(l.has(t))return l;for(l.set(t,null),s=s.getElementsByTagName(t),c=0;c<s.length;c++){var f=s[c];if(!(f[_i]||f[pe]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var y=f.getAttribute(n)||"";y=t+y;var E=l.get(y);E?E.push(f):l.set(y,[f])}}return l}function oy(t,n,s){t=t.ownerDocument||t,t.head.insertBefore(s,n==="title"?t.querySelector("head > title"):null)}function nE(t,n,s){if(s===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function uy(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function iE(t,n,s,l){if(s.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var c=wr(l.href),f=n.querySelector(Ul(c));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=ju.bind(t),n.then(t,t)),s.state.loading|=4,s.instance=f,Ue(f);return}f=n.ownerDocument||n,l=ay(l),(c=ni.get(c))&&Ef(l,c),f=f.createElement("link"),Ue(f);var y=f;y._p=new Promise(function(E,D){y.onload=E,y.onerror=D}),ln(f,"link",l),s.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(t.count++,s=ju.bind(t),n.addEventListener("load",s),n.addEventListener("error",s))}}var xf=0;function sE(t,n){return t.stylesheets&&t.count===0&&ku(t,t.stylesheets),0<t.count||0<t.imgCount?function(s){var l=setTimeout(function(){if(t.stylesheets&&ku(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+n);0<t.imgBytes&&xf===0&&(xf=62500*zb());var c=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&ku(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>xf?50:800)+n);return t.unsuspend=s,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(c)}}:null}function ju(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ku(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Lu=null;function ku(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Lu=new Map,n.forEach(aE,t),Lu=null,ju.call(t))}function aE(t,n){if(!(n.state.loading&4)){var s=Lu.get(t);if(s)var l=s.get(null);else{s=new Map,Lu.set(t,s);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var y=c[f];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(s.set(y.dataset.precedence,y),l=y)}l&&s.set(null,l)}c=n.instance,y=c.getAttribute("data-precedence"),f=s.get(y)||l,f===l&&s.set(null,c),s.set(y,c),this.count++,l=ju.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),f?f.parentNode.insertBefore(c,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),n.state.loading|=4}}var Pl={$$typeof:Y,Provider:null,Consumer:null,_currentValue:At,_currentValue2:At,_threadCount:0};function rE(t,n,s,l,c,f,y,E,D){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Vn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Vn(0),this.hiddenUpdates=Vn(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=D,this.incompleteTransitions=new Map}function cy(t,n,s,l,c,f,y,E,D,q,W,it){return t=new rE(t,n,s,y,D,q,W,it,E),n=1,f===!0&&(n|=24),f=Ln(3,null,null,n),t.current=f,f.stateNode=t,n=eh(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:s,cache:n},ah(f),t}function hy(t){return t?(t=sr,t):sr}function fy(t,n,s,l,c,f){c=hy(c),l.context===null?l.context=c:l.pendingContext=c,l=ws(n),l.payload={element:s},f=f===void 0?null:f,f!==null&&(l.callback=f),s=Cs(t,l,n),s!==null&&(Dn(s,t,n),_l(s,t,n))}function dy(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<n?s:n}}function Sf(t,n){dy(t,n),(t=t.alternate)&&dy(t,n)}function my(t){if(t.tag===13||t.tag===31){var n=pa(t,67108864);n!==null&&Dn(n,t,67108864),Sf(t,67108864)}}function gy(t){if(t.tag===13||t.tag===31){var n=Pn();n=yi(n);var s=pa(t,n);s!==null&&Dn(s,t,n),Sf(t,n)}}var zu=!0;function lE(t,n,s,l){var c=J.T;J.T=null;var f=ht.p;try{ht.p=2,Af(t,n,s,l)}finally{ht.p=f,J.T=c}}function oE(t,n,s,l){var c=J.T;J.T=null;var f=ht.p;try{ht.p=8,Af(t,n,s,l)}finally{ht.p=f,J.T=c}}function Af(t,n,s,l){if(zu){var c=wf(l);if(c===null)hf(t,n,l,Uu,s),yy(t,l);else if(cE(c,t,n,s,l))l.stopPropagation();else if(yy(t,l),n&4&&-1<uE.indexOf(t)){for(;c!==null;){var f=Gn(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var y=en(f.pendingLanes);if(y!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;y;){var D=1<<31-Tt(y);E.entanglements[1]|=D,y&=~D}Mi(f),(se&6)===0&&(Eu=$e()+500,jl(0))}}break;case 31:case 13:E=pa(f,2),E!==null&&Dn(E,f,2),xu(),Sf(f,2)}if(f=wf(l),f===null&&hf(t,n,l,Uu,s),f===c)break;c=f}c!==null&&l.stopPropagation()}else hf(t,n,l,null,s)}}function wf(t){return t=Qn(t),Cf(t)}var Uu=null;function Cf(t){if(Uu=null,t=bi(t),t!==null){var n=h(t);if(n===null)t=null;else{var s=n.tag;if(s===13){if(t=d(n),t!==null)return t;t=null}else if(s===31){if(t=p(n),t!==null)return t;t=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Uu=t,null}function py(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Pi()){case ea:return 2;case na:return 8;case _n:case Ba:return 32;case ia:return 268435456;default:return 32}default:return 32}}var Rf=!1,zs=null,Us=null,Bs=null,ql=new Map,Hl=new Map,Ps=[],uE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function yy(t,n){switch(t){case"focusin":case"focusout":zs=null;break;case"dragenter":case"dragleave":Us=null;break;case"mouseover":case"mouseout":Bs=null;break;case"pointerover":case"pointerout":ql.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Hl.delete(n.pointerId)}}function Fl(t,n,s,l,c,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:s,eventSystemFlags:l,nativeEvent:f,targetContainers:[c]},n!==null&&(n=Gn(n),n!==null&&my(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),t)}function cE(t,n,s,l,c){switch(n){case"focusin":return zs=Fl(zs,t,n,s,l,c),!0;case"dragenter":return Us=Fl(Us,t,n,s,l,c),!0;case"mouseover":return Bs=Fl(Bs,t,n,s,l,c),!0;case"pointerover":var f=c.pointerId;return ql.set(f,Fl(ql.get(f)||null,t,n,s,l,c)),!0;case"gotpointercapture":return f=c.pointerId,Hl.set(f,Fl(Hl.get(f)||null,t,n,s,l,c)),!0}return!1}function vy(t){var n=bi(t.target);if(n!==null){var s=h(n);if(s!==null){if(n=s.tag,n===13){if(n=d(s),n!==null){t.blockedOn=n,$t(t.priority,function(){gy(s)});return}}else if(n===31){if(n=p(s),n!==null){t.blockedOn=n,$t(t.priority,function(){gy(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Bu(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var s=wf(t.nativeEvent);if(s===null){s=t.nativeEvent;var l=new s.constructor(s.type,s);il=l,s.target.dispatchEvent(l),il=null}else return n=Gn(s),n!==null&&my(n),t.blockedOn=s,!1;n.shift()}return!0}function _y(t,n,s){Bu(t)&&s.delete(n)}function hE(){Rf=!1,zs!==null&&Bu(zs)&&(zs=null),Us!==null&&Bu(Us)&&(Us=null),Bs!==null&&Bu(Bs)&&(Bs=null),ql.forEach(_y),Hl.forEach(_y)}function Pu(t,n){t.blockedOn===n&&(t.blockedOn=null,Rf||(Rf=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,hE)))}var qu=null;function by(t){qu!==t&&(qu=t,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){qu===t&&(qu=null);for(var n=0;n<t.length;n+=3){var s=t[n],l=t[n+1],c=t[n+2];if(typeof l!="function"){if(Cf(l||s)===null)continue;break}var f=Gn(s);f!==null&&(t.splice(n,3),n-=3,Ah(f,{pending:!0,data:c,method:s.method,action:l},l,c))}}))}function Rr(t){function n(D){return Pu(D,t)}zs!==null&&Pu(zs,t),Us!==null&&Pu(Us,t),Bs!==null&&Pu(Bs,t),ql.forEach(n),Hl.forEach(n);for(var s=0;s<Ps.length;s++){var l=Ps[s];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Ps.length&&(s=Ps[0],s.blockedOn===null);)vy(s),s.blockedOn===null&&Ps.shift();if(s=(t.ownerDocument||t).$$reactFormReplay,s!=null)for(l=0;l<s.length;l+=3){var c=s[l],f=s[l+1],y=c[ze]||null;if(typeof f=="function")y||by(s);else if(y){var E=null;if(f&&f.hasAttribute("formAction")){if(c=f,y=f[ze]||null)E=y.formAction;else if(Cf(c)!==null)continue}else E=y.action;typeof E=="function"?s[l+1]=E:(s.splice(l,3),l-=3),by(s)}}}function Ey(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(y){return c=y})},focusReset:"manual",scroll:"manual"})}function n(){c!==null&&(c(),c=null),l||setTimeout(s,20)}function s(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,c=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(s,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),c!==null&&(c(),c=null)}}}function If(t){this._internalRoot=t}Hu.prototype.render=If.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(r(409));var s=n.current,l=Pn();fy(s,l,t,n,null,null)},Hu.prototype.unmount=If.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;fy(t.current,2,null,t,null,null),xu(),n[vi]=null}};function Hu(t){this._internalRoot=t}Hu.prototype.unstable_scheduleHydration=function(t){if(t){var n=bn();t={blockedOn:null,target:t,priority:n};for(var s=0;s<Ps.length&&n!==0&&n<Ps[s].priority;s++);Ps.splice(s,0,t),s===0&&vy(t)}};var Ty=e.version;if(Ty!=="19.2.3")throw Error(r(527,Ty,"19.2.3"));ht.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=v(n),t=t!==null?T(t):null,t=t===null?null:t.stateNode,t};var fE={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:J,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Fu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Fu.isDisabled&&Fu.supportsFiber)try{tt=Fu.inject(fE),_t=Fu}catch{}}return Ql.createRoot=function(t,n){if(!o(t))throw Error(r(299));var s=!1,l="",c=Ig,f=Dg,y=Ng;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(y=n.onRecoverableError)),n=cy(t,1,!1,null,null,s,l,null,c,f,y,Ey),t[vi]=n.current,cf(t),new If(n)},Ql.hydrateRoot=function(t,n,s){if(!o(t))throw Error(r(299));var l=!1,c="",f=Ig,y=Dg,E=Ng,D=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(y=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError),s.formState!==void 0&&(D=s.formState)),n=cy(t,1,!0,n,s??null,l,c,D,f,y,E,Ey),n.context=hy(null),s=n.current,l=Pn(),l=yi(l),c=ws(l),c.callback=null,Cs(s,c,l),s=l,n.current.lanes=s,gi(n,s),Mi(n),t[vi]=n.current,cf(t),new Hu(n)},Ql.version="19.2.3",Ql}var Vy;function TE(){if(Vy)return Vf.exports;Vy=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(e){console.error(e)}}return a(),Vf.exports=EE(),Vf.exports}var xE=TE();const SE=Y0(xE);function AE(a={}){const{nonce:e,onScriptLoadSuccess:i,onScriptLoadError:r}=a,[o,h]=rt.useState(!1),d=rt.useRef(i);d.current=i;const p=rt.useRef(r);return p.current=r,rt.useEffect(()=>{const g=document.createElement("script");return g.src="https://accounts.google.com/gsi/client",g.async=!0,g.defer=!0,g.nonce=e,g.onload=()=>{var v;h(!0),(v=d.current)===null||v===void 0||v.call(d)},g.onerror=()=>{var v;h(!1),(v=p.current)===null||v===void 0||v.call(p)},document.body.appendChild(g),()=>{document.body.removeChild(g)}},[e]),o}const K0=rt.createContext(null);function wE({clientId:a,nonce:e,onScriptLoadSuccess:i,onScriptLoadError:r,children:o}){const h=AE({nonce:e,onScriptLoadSuccess:i,onScriptLoadError:r}),d=rt.useMemo(()=>({clientId:a,scriptLoadedSuccessfully:h}),[a,h]);return ic.createElement(K0.Provider,{value:d},o)}function CE(){const a=rt.useContext(K0);if(!a)throw new Error("Google OAuth components must be used within GoogleOAuthProvider");return a}function RE({flow:a="implicit",scope:e="",onSuccess:i,onError:r,onNonOAuthError:o,overrideScope:h,state:d,...p}){const{clientId:g,scriptLoadedSuccessfully:v}=CE(),T=rt.useRef(),A=rt.useRef(i);A.current=i;const C=rt.useRef(r);C.current=r;const U=rt.useRef(o);U.current=o,rt.useEffect(()=>{var V,H;if(!v)return;const G=a==="implicit"?"initTokenClient":"initCodeClient",Y=(H=(V=window==null?void 0:window.google)===null||V===void 0?void 0:V.accounts)===null||H===void 0?void 0:H.oauth2[G]({client_id:g,scope:h?e:`openid profile email ${e}`,callback:ut=>{var yt,xt;if(ut.error)return(yt=C.current)===null||yt===void 0?void 0:yt.call(C,ut);(xt=A.current)===null||xt===void 0||xt.call(A,ut)},error_callback:ut=>{var yt;(yt=U.current)===null||yt===void 0||yt.call(U,ut)},state:d,...p});T.current=Y},[g,v,a,e,d]);const Z=rt.useCallback(V=>{var H;return(H=T.current)===null||H===void 0?void 0:H.requestAccessToken(V)},[]),st=rt.useCallback(()=>{var V;return(V=T.current)===null||V===void 0?void 0:V.requestCode()},[]);return a==="implicit"?Z:st}const IE=()=>b.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2.5",d:"M12 4v16m8-8H4"})}),sc=()=>b.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:b.jsx("path",{d:"M12 8c1.1 0 2-0.9 2-2s-0.9-2-2-2-2 0.9-2 2 0.9 2 2 2zm0 2c-1.1 0-2 0.9-2 2s0.9 2 2 2 2-0.9 2-2-0.9-2-2-2zm0 6c-1.1 0-2 0.9-2 2s0.9 2 2 2 2-0.9 2-2-0.9-2-2-2z"})}),Zu=()=>b.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2.5",d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})}),DE=()=>b.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2.5",d:"M8 11V7a4 4 0 118 0m-4 8v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2z"})}),X0=()=>b.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2.5",d:"M9 20l-5.447-2.724A1 1 0 013 16.382V5.618a1 1 0 011.447-.894L9 7m0 13l6-3m-6 3V7m6 10l4.553 2.276A1 1 0 0021 18.382V7.618a1 1 0 00-.553-.894L15 4m0 13V4m0 0L9 7"})}),Oy=({value:a,onChange:e,placeholder:i,className:r="",textClassName:o="",rows:h=2,maxLength:d=100})=>{const[p,g]=rt.useState(!1),[v,T]=rt.useState(a),A=rt.useRef(null);rt.useEffect(()=>{var V,H;p&&((V=A.current)==null||V.focus(),(H=A.current)==null||H.select())},[p]),rt.useEffect(()=>{T(a)},[a]);const C=V=>{V.stopPropagation(),g(!0),T(a)},U=()=>{e(v),g(!1)},Z=()=>{T(a),g(!1)},st=V=>{V.key==="Enter"&&(V.ctrlKey||V.metaKey)&&(V.preventDefault(),U()),V.key==="Escape"&&(V.preventDefault(),Z())};return p?b.jsx("textarea",{ref:A,value:v,onChange:V=>T(V.target.value.slice(0,d)),onBlur:U,onKeyDown:st,rows:h,maxLength:d,className:`w-full p-3 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400 bg-white resize-none ${r}`}):b.jsx("div",{onDoubleClick:C,className:`cursor-pointer hover:bg-slate-50 transition-colors p-3 min-h-[4rem] rounded-lg ${o} ${r}`,children:a||b.jsx("span",{className:"text-slate-400 italic",children:i})})},NE=({goal1:a,goal2:e,onGoal1Change:i,onGoal2Change:r})=>b.jsxs("div",{className:"flex flex-row gap-3 w-full",children:[b.jsx("div",{className:"flex-1",children:b.jsx(Oy,{value:a,onChange:i,placeholder:" 1",className:"bg-white border-2 border-slate-400 shadow-sm",textClassName:"text-red-600 font-bold text-lg",rows:2,maxLength:100})}),b.jsx("div",{className:"flex-1",children:b.jsx(Oy,{value:e,onChange:r,placeholder:" 2",className:"bg-white border-2 border-slate-400 shadow-sm",textClassName:"text-blue-600 font-bold text-lg",rows:2,maxLength:100})})]}),VE=({onAddSection:a,onOpenNavigationMap:e,headerGoals:i,onHeaderGoalsChange:r})=>{const[o,h]=rt.useState("");return rt.useEffect(()=>{const d=()=>{const g=new Date,v={year:"numeric",month:"long",day:"numeric",weekday:"long"},T=g.toLocaleDateString("ko-KR",v),A=String(g.getHours()).padStart(2,"0"),C=String(g.getMinutes()).padStart(2,"0"),U=String(g.getSeconds()).padStart(2,"0");h(`${T} ${A}:${C}:${U}`)};d();const p=setInterval(d,1e3);return()=>clearInterval(p)},[]),b.jsxs("header",{className:"w-full px-6 flex flex-col md:flex-row md:items-end justify-between gap-4 py-6",children:[b.jsxs("div",{children:[b.jsx("h1",{className:"text-2xl font-bold text-slate-800 tracking-tight",children:" "}),b.jsxs("div",{className:"flex items-center gap-3 mt-1",children:[b.jsx("p",{className:"text-red-600 font-medium whitespace-nowrap text-sm",children:o}),b.jsxs("div",{className:"flex items-center gap-2 ml-2",children:[b.jsx("button",{onClick:e,className:"text-slate-900 hover:text-black p-1.5 rounded-lg transition-colors bg-white border border-slate-200 shadow-sm",title:"  ",children:b.jsx(X0,{})}),b.jsxs("button",{onClick:a,className:"flex items-center gap-1.5 px-3 py-1.5 bg-yellow-400 border border-yellow-500 text-yellow-950 text-xs font-bold rounded-lg hover:bg-yellow-500 transition-all shadow-sm",title:" ",children:[b.jsx(IE,{}),b.jsx("span",{className:"hidden sm:inline",children:""})]})]})]})]}),i&&r&&b.jsx("div",{className:"flex-1 hidden lg:flex items-end justify-end",children:b.jsx("div",{className:"w-[90%]",children:b.jsx(NE,{goal1:i.goal1,goal2:i.goal2,onGoal1Change:d=>r({...i,goal1:d}),onGoal2Change:d=>r({...i,goal2:d})})})})]})},ao=({value:a,onChange:e,placeholder:i,className:r="",compact:o=!1,onEditingChange:h})=>{const[d,p]=rt.useState(!1),[g,v]=rt.useState(a),T=rt.useRef(null),A=rt.useCallback(()=>{const V=T.current;V&&(V.style.height="auto",V.style.height=`${V.scrollHeight}px`)},[]);rt.useEffect(()=>{var V,H;if(d){(V=T.current)==null||V.focus();const G=g.length;(H=T.current)==null||H.setSelectionRange(G,G),A()}},[d]),rt.useEffect(()=>{d&&A()},[g,d,A]);const C=V=>{V.stopPropagation(),p(!0),v(a),h==null||h(!0)},U=()=>{e(g),p(!1),h==null||h(!1)},Z=()=>{v(a),p(!1),h==null||h(!1)},st=V=>{V.key==="Enter"&&!V.shiftKey&&(V.preventDefault(),U()),V.key==="Escape"&&Z()};return d?b.jsx("textarea",{ref:T,value:g,onChange:V=>v(V.target.value),onBlur:U,onKeyDown:st,onDragStart:V=>V.stopPropagation(),rows:1,className:`w-full ${o?"p-0 text-lg leading-normal":"p-1"} border border-slate-300 rounded focus:outline-none focus:ring-1 focus:ring-slate-400 bg-white resize-none overflow-hidden ${r}`}):b.jsx("div",{onDoubleClick:C,className:`cursor-pointer hover:bg-slate-50 transition-colors ${o?"p-0 min-h-0 text-lg leading-tight":"p-1 min-h-[1.5rem]"} rounded break-words whitespace-pre-wrap ${r}`,children:a||b.jsx("span",{className:"text-slate-400 italic text-[0.8em]",children:i})})};function bc(a,e){rt.useEffect(()=>{function i(r){a.current&&!a.current.contains(r.target)&&e()}return document.addEventListener("mousedown",i),()=>document.removeEventListener("mousedown",i)},[a,e])}const OE=({item:a,sectionId:e,memo:i,onToggle:r,onUpdateText:o,onDelete:h,onAddMemo:d,onMoveItem:p,onCopy:g,onAddToCalendar:v,onEditingChange:T,dragState:A,onDragStart:C,onDragOver:U,onDrop:Z,onDragEnd:st})=>{const[V,H]=rt.useState(!1),[G,Y]=rt.useState(!1),[ut,yt]=rt.useState(!1),[xt,R]=rt.useState({left:0}),w=rt.useRef(null),I=rt.useRef(null);bc(I,()=>H(!1));const j=S=>{S.stopPropagation();const Pt=window.innerWidth<768;if(w.current&&!Pt){const ne=w.current.getBoundingClientRect();window.innerHeight-ne.bottom>=280?R({top:ne.bottom+8,left:ne.right+8}):R({bottom:window.innerHeight-ne.top+8,left:ne.right+8})}H(!V)},N=A.draggedItemId===a.id,k=A.dragOverItemId===a.id;return b.jsxs("div",{draggable:!ut,onDragStart:S=>{if(ut){S.preventDefault();return}C(S)},onDragOver:U,onDrop:Z,onDragEnd:st,className:`group flex items-center gap-1 py-1.5 px-0 rounded transition-all cursor-move relative min-h-0 ${N?"opacity-50 bg-slate-100":k?"bg-blue-50 border-l-2 border-blue-400":"hover:bg-slate-50"}`,children:[b.jsx("input",{type:"checkbox",checked:a.completed,onChange:d,className:"w-5 h-5 rounded border-slate-300 text-slate-700 focus:ring-slate-500 cursor-pointer flex-shrink-0"}),b.jsxs("div",{className:"flex-1 min-w-0",children:[b.jsx("div",{className:`text-sm leading-snug font-medium ${a.completed?"line-through text-slate-400":"text-slate-700"}`,onContextMenu:S=>{S.preventDefault(),S.stopPropagation(),R({top:S.clientY,left:S.clientX}),H(!0)},children:b.jsx(ao,{value:a.text,onChange:o,onEditingChange:S=>{yt(S),T==null||T(S)},placeholder:" ...",className:"text-sm",compact:!0})}),i&&i.trim()!==a.text.trim()&&b.jsx("div",{onClick:S=>{S.stopPropagation(),d()},className:"text-xs text-green-500 truncate cursor-pointer hover:text-green-600 transition-colors mt-0.5 pl-1 font-medium",title:i,children:i.substring(a.text.length).trim()})]}),b.jsxs("div",{className:"relative flex-shrink-0 -mr-3",children:[a.completed?b.jsx("button",{onClick:()=>Y(!0),className:"bg-red-500 hover:bg-red-600 text-white px-3 py-1.5 rounded-md transition-colors text-sm font-medium border-2 border-black",title:"",children:""}):b.jsx("button",{ref:w,onClick:j,className:"text-slate-500 hover:text-slate-700 transition-colors p-0 rounded",title:"",children:b.jsx(sc,{})}),V&&!a.completed&&(()=>{const S=window.innerWidth<768;return b.jsxs("div",{ref:I,className:`${S?"absolute":"fixed"} bg-white rounded-lg shadow-xl border border-slate-200 z-50 py-1.5 w-48 animate-in fade-in ${S?"slide-in-from-right-2":"slide-in-from-left-2"} duration-150`,style:{...S?{right:0,top:"100%",marginTop:"4px"}:{...xt.top!==void 0&&{top:`${xt.top}px`},...xt.bottom!==void 0&&{bottom:`${xt.bottom}px`},left:`${xt.left}px`}},onClick:Pt=>Pt.stopPropagation(),children:[b.jsx("button",{onClick:()=>{d(),H(!1)},className:"w-full text-left px-4 py-2.5 text-sm text-slate-700 hover:bg-slate-100 transition-colors",children:"  /"}),b.jsx("button",{onClick:()=>{p(),H(!1)},className:"w-full text-left px-4 py-2.5 text-sm text-slate-700 hover:bg-slate-100 transition-colors",children:" "}),b.jsx("button",{onClick:()=>{g(),H(!1)},className:"w-full text-left px-4 py-2.5 text-sm text-slate-700 hover:bg-slate-100 transition-colors",children:" "}),v&&b.jsx("button",{onClick:()=>{v(),H(!1)},className:"w-full text-left px-4 py-2.5 text-sm text-slate-700 hover:bg-slate-100 transition-colors",children:"  "}),b.jsx("button",{onClick:()=>{Y(!0),H(!1)},className:"w-full text-left px-4 py-2.5 text-sm text-red-600 hover:bg-red-50 transition-colors",children:" "}),b.jsx("button",{onClick:()=>H(!1),className:"w-full text-left px-4 py-2.5 text-sm text-slate-500 hover:bg-slate-100 transition-colors border-t border-slate-200",children:""})]})})(),G&&b.jsx("div",{className:"fixed inset-0 bg-black/40 flex items-center justify-center z-50 animate-in fade-in duration-150",children:b.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-6 max-w-sm mx-4 animate-in zoom-in duration-200",children:[b.jsx("h2",{className:"text-lg font-bold text-slate-800 mb-2",children:" ?"}),b.jsxs("p",{className:"text-sm text-slate-600 mb-6",children:['"',b.jsx("span",{className:"font-medium line-through",children:a.text}),'"() .']}),b.jsxs("div",{className:"flex gap-3 justify-end",children:[b.jsx("button",{onClick:()=>Y(!1),className:"px-4 py-2 rounded-lg border-2 border-slate-300 text-slate-700 font-medium hover:bg-slate-50 transition-colors",children:""}),b.jsx("button",{onClick:()=>{h(),Y(!1)},className:"px-4 py-2 rounded-lg bg-red-500 hover:bg-red-600 text-white font-medium border-2 border-black transition-colors",children:""})]})]})})]})]})},Lf=({section:a,itemMemos:e,onUpdateSection:i,onDeleteSection:r,onShowItemMemo:o,onMoveItem:h,onAddToCalendar:d,dragState:p,setDragState:g,onSectionDragStart:v,onSectionDragOver:T,onSectionDrop:A,onSectionDragEnd:C,isHighlighted:U=!1,isInboxSection:Z=!1,isFullHeight:st=!1,tabColorText:V="text-slate-800",tabColorBg:H="",initialQuickAddValue:G,onQuickAddValuePopulated:Y,onCrossSectionDrop:ut})=>{const[yt,xt]=rt.useState(""),[R,w]=rt.useState(!1),[I,j]=rt.useState(new Set),N=rt.useRef(null),k=20,S=3,Pt=(gt,Ct)=>{j(Zt=>{const ce=new Set(Zt);return Ct?ce.add(gt):ce.delete(gt),ce})};rt.useEffect(()=>{G&&G.trim()!==""&&(xt(G),Y==null||Y(),setTimeout(()=>{var gt,Ct;(gt=N.current)==null||gt.focus(),(Ct=N.current)==null||Ct.select()},400))},[G,Y]);const ne=gt=>{i({...a,title:gt})},J=gt=>{if(gt.key==="Enter"&&!gt.shiftKey){gt.preventDefault();const Ct=yt.trim();if(Ct==="")return;const ce=Ct.split(`
`)[0].trim(),hn=window.innerWidth<768?30:60,fn=ce.length>hn?ce.substring(0,hn):ce,qn=Math.random().toString(36).substr(2,9),ve={id:qn,text:fn,completed:!1},_e={[qn]:Ct};i({...a,items:[ve,...a.items]},_e),xt(""),N.current&&(N.current.style.height="auto")}},ht=gt=>{xt(gt.target.value);const Ct=gt.target;Ct.style.height="auto";const Zt=k*S+16;Ct.style.height=`${Math.min(Ct.scrollHeight,Zt)}px`,Ct.style.overflowY=Ct.scrollHeight>Zt?"auto":"hidden"},At=()=>{i({...a,isLocked:!a.isLocked})},Bt=gt=>{const Ct=a.items.map(Zt=>Zt.id===gt?{...Zt,completed:!Zt.completed}:Zt);i({...a,items:Ct})},qt=(gt,Ct)=>{const Zt=a.items.map(ce=>ce.id===gt?{...ce,text:Ct}:ce);i({...a,items:Zt})},O=gt=>{const Ct=a.items.filter(Zt=>Zt.id!==gt);i({...a,items:Ct})},et=gt=>{const Ct=a.items.find(Zt=>Zt.id===gt);Ct&&navigator.clipboard.writeText(Ct.text).then(()=>{console.log(" :",Ct.text)}).catch(Zt=>{console.error("  :",Zt)})};a.items.some(gt=>gt.completed);const dt=(gt,Ct)=>{gt.stopPropagation(),g({...p,draggedItemId:Ct,sourceSectionId:a.id})},vt=(gt,Ct)=>{gt.preventDefault(),p.dragOverItemId!==Ct&&g({...p,dragOverItemId:Ct})},F=(gt,Ct)=>{if(gt.preventDefault(),gt.stopPropagation(),!p.draggedItemId)return;if(p.sourceSectionId!==a.id){ut==null||ut(p.draggedItemId,p.sourceSectionId,a.id,Ct),g({...p,draggedItemId:null,dragOverItemId:null,sourceSectionId:null});return}const Zt=a.items.findIndex(fn=>fn.id===p.draggedItemId),ce=a.items.findIndex(fn=>fn.id===Ct);if(Zt===-1||ce===-1)return;const vn=[...a.items],[hn]=vn.splice(Zt,1);vn.splice(ce,0,hn),i({...a,items:vn})},ot=gt=>{gt.preventDefault(),gt.stopPropagation(),!(!p.draggedItemId||!p.sourceSectionId)&&p.sourceSectionId!==a.id&&(ut==null||ut(p.draggedItemId,p.sourceSectionId,a.id,null),g({...p,draggedItemId:null,dragOverItemId:null,sourceSectionId:null}))},mt=gt=>{p.draggedItemId&&p.sourceSectionId!==a.id&&gt.preventDefault()},It=()=>{g({...p,draggedItemId:null,dragOverItemId:null,sourceSectionId:null})},ct=p.draggedSectionId===a.id,Le=p.dragOverSectionId===a.id;return b.jsxs("section",{"data-section-id":a.id,draggable:!R&&I.size===0,onDragStart:gt=>{const Ct=gt.target;if(Ct.tagName==="INPUT"||Ct.tagName==="TEXTAREA"){gt.preventDefault(),gt.stopPropagation();return}if(I.size>0){gt.preventDefault();return}v()},onDragOver:T,onDrop:A,onDragEnd:C,className:`bg-white px-4 py-4 transition-all flex flex-col ${Z||st?"h-full":"h-[350px]"} cursor-default ${U?"border-2 border-yellow-400 shadow-lg ring-2 ring-yellow-300/50":ct?"opacity-40 border-2 border-slate-600 shadow-sm":Le?"border-blue-500 border-2 scale-[1.01] shadow-sm":"border-2 border-black shadow-sm"}`,children:[b.jsxs("div",{className:`flex items-center justify-between mb-3 gap-2 cursor-move flex-shrink-0 px-4 py-3 -mx-4 -mt-4 mb-3 border-b-2 border-black ${H}`,title:"  ",children:[b.jsx("div",{className:"flex-1 min-w-0",children:b.jsx(ao,{value:a.title,onChange:ne,onEditingChange:w,className:"text-xl font-bold text-black",placeholder:" "})}),b.jsxs("div",{className:"flex items-center gap-1.5",children:[!Z&&b.jsx("button",{onClick:At,className:"text-red-500 hover:text-red-700 p-0.5 rounded-full transition-colors",title:a.isLocked?"  ":" ",children:a.isLocked?b.jsx(Zu,{}):b.jsx(DE,{})}),!Z&&b.jsx("button",{disabled:a.isLocked,onClick:()=>r(a.id),className:"bg-red-500 hover:bg-red-600 text-white px-2 py-1 rounded-md transition-colors text-sm font-medium border-2 border-black disabled:opacity-30 disabled:cursor-not-allowed",title:a.isLocked?"    ":" ",children:""})]})]}),b.jsxs("div",{className:"mb-3 flex-shrink-0 flex items-end gap-0",children:[b.jsx("textarea",{ref:N,value:yt,onChange:ht,onKeyDown:J,placeholder:"    Enter... (: Shift+Enter)",rows:1,className:"flex-1 px-3 py-2 text-sm border-2 border-black border-r-0 rounded-l-lg bg-white focus:outline-none focus:ring-2 focus:ring-yellow-400 focus:border-yellow-400 transition-all resize-none overflow-hidden leading-5",style:{minHeight:"36px"}}),b.jsx("button",{onClick:()=>{const gt=yt.trim();if(gt==="")return;const Zt=gt.split(`
`)[0].trim(),vn=window.innerWidth<768?30:60,hn=Zt.length>vn?Zt.substring(0,vn):Zt,fn=Math.random().toString(36).substr(2,9),qn={id:fn,text:hn,completed:!1},ve={[fn]:gt};i({...a,items:[qn,...a.items]},ve),xt(""),N.current&&(N.current.style.height="auto")},className:"px-3 py-2 text-lg font-bold bg-yellow-400 hover:bg-yellow-500 text-black border-2 border-black border-l-0 rounded-r-lg transition-colors whitespace-nowrap self-end",style:{height:"36px"},title:"",children:"+"})]}),b.jsxs("div",{className:`space-y-0.5 overflow-y-auto overflow-x-hidden flex-1 pr-1 rounded transition-colors ${p.draggedItemId&&p.sourceSectionId!==a.id?"bg-blue-50/60 border-2 border-dashed border-blue-300":""}`,onDragOver:mt,onDrop:ot,children:[[...a.items].sort((gt,Ct)=>gt.completed===Ct.completed?0:gt.completed?1:-1).map(gt=>b.jsx(OE,{item:gt,sectionId:a.id,memo:e[gt.id],onToggle:()=>Bt(gt.id),onUpdateText:Ct=>qt(gt.id,Ct),onDelete:()=>O(gt.id),onAddMemo:()=>o(gt.id),onMoveItem:()=>h(gt.id),onCopy:()=>et(gt.id),onAddToCalendar:d?()=>d(gt.text):void 0,onEditingChange:Ct=>Pt(gt.id,Ct),dragState:p,onDragStart:Ct=>dt(Ct,gt.id),onDragOver:Ct=>vt(Ct,gt.id),onDrop:Ct=>F(Ct,gt.id),onDragEnd:It},gt.id)),a.items.length===0&&b.jsx("div",{className:"flex flex-col items-center justify-center h-full text-slate-400 opacity-60",children:b.jsx("p",{className:"text-[11px] italic",children:"  ."})})]})]})},ME=({isOpen:a,title:e,message:i,onConfirm:r,onCancel:o})=>{const h=ic.useRef(null);return ic.useEffect(()=>{if(a){setTimeout(()=>{var p;(p=h.current)==null||p.focus()},100);const d=p=>{p.key==="Enter"?(p.preventDefault(),r()):p.key==="Escape"&&(p.preventDefault(),o())};return window.addEventListener("keydown",d),()=>window.removeEventListener("keydown",d)}},[a,r,o]),a?b.jsx("div",{className:"fixed inset-0 z-[200] flex items-center justify-center p-4 bg-slate-900/40 backdrop-blur-sm",children:b.jsxs("div",{className:"bg-white w-full max-w-sm rounded-2xl shadow-2xl border border-slate-200 overflow-hidden transform transition-all animate-in zoom-in duration-200",role:"dialog","aria-modal":"true","aria-labelledby":"modal-title",children:[b.jsx("div",{className:"px-6 py-4 border-b border-slate-100",children:b.jsx("h2",{id:"modal-title",className:"text-lg font-bold text-slate-800",children:e})}),b.jsx("div",{className:"px-6 py-6",children:b.jsx("p",{className:"text-slate-600 text-sm leading-relaxed",children:i})}),b.jsxs("div",{className:"px-6 py-4 border-t border-slate-100 bg-slate-50 flex justify-end gap-3",children:[b.jsx("button",{onClick:o,className:"px-4 py-2 bg-slate-200 text-slate-800 text-sm font-semibold rounded-lg hover:bg-slate-300 transition-colors",children:""}),b.jsx("button",{ref:h,onClick:r,className:"px-4 py-2 bg-red-500 text-white text-sm font-semibold rounded-lg hover:bg-red-600 transition-colors shadow-lg shadow-red-500/20 focus:ring-4 focus:ring-red-300 outline-none",children:""})]})]})}):null},jE=({info:a,onChange:e,onShowChecklistMemo:i,onShowShoppingMemo:r,onAddToCalendar:o})=>{const h=a.checklistItems||[],d=a.shoppingListItems||[],[p,g]=rt.useState({draggedItemId:null,dragOverItemId:null}),[v,T]=rt.useState({draggedItemId:null,dragOverItemId:null}),[A,C]=rt.useState(null),[U,Z]=rt.useState({left:0}),[st,V]=rt.useState({isOpen:!1,itemId:null,itemText:"",type:"checklist"}),[H,G]=rt.useState(new Set),Y=(F,ot)=>{G(mt=>{const It=new Set(mt);return ot?It.add(F):It.delete(F),It})},ut=rt.useRef(null),yt=rt.useRef({});bc(ut,()=>C(null));const xt=(F,ot)=>{F.stopPropagation();const mt=window.innerWidth<768;if(yt.current[ot]&&!mt){const It=yt.current[ot].getBoundingClientRect();window.innerHeight-It.bottom>=240?Z({top:It.bottom+8,left:It.right+8}):Z({bottom:window.innerHeight-It.top+8,left:It.right+8})}C(A===ot?null:ot)},R=()=>{const F={id:Math.random().toString(36).substr(2,9),text:"",completed:!1};e({...a,checklistItems:[...h,F]})},w=F=>{const ot=h.map(mt=>mt.id===F?{...mt,completed:!mt.completed}:mt);e({...a,checklistItems:ot})},I=(F,ot)=>{const mt=h.map(It=>It.id===F?{...It,text:ot}:It);e({...a,checklistItems:mt})},j=F=>{const ot=h.filter(mt=>mt.id!==F);e({...a,checklistItems:ot})},N=F=>{const ot=h.find(mt=>mt.id===F);ot&&navigator.clipboard.writeText(ot.text).then(()=>{console.log(" :",ot.text)}).catch(mt=>{console.error("  :",mt)})},k=(F,ot)=>{if(H.has(ot)){F.preventDefault();return}F.stopPropagation(),g({draggedItemId:ot,dragOverItemId:null})},S=(F,ot)=>{F.preventDefault(),p.dragOverItemId!==ot&&g(mt=>({...mt,dragOverItemId:ot}))},Pt=(F,ot)=>{if(F.preventDefault(),F.stopPropagation(),!p.draggedItemId||p.draggedItemId===ot)return;const mt=h.findIndex(gt=>gt.id===p.draggedItemId),It=h.findIndex(gt=>gt.id===ot);if(mt===-1||It===-1)return;const ct=[...h],[Le]=ct.splice(mt,1);ct.splice(It,0,Le),e({...a,checklistItems:ct}),g({draggedItemId:null,dragOverItemId:null})},ne=()=>{g({draggedItemId:null,dragOverItemId:null})},J=()=>{const F={id:Math.random().toString(36).substr(2,9),text:"",completed:!1};e({...a,shoppingListItems:[...d,F]})},ht=F=>{const ot=d.map(mt=>mt.id===F?{...mt,completed:!mt.completed}:mt);e({...a,shoppingListItems:ot})},At=(F,ot)=>{const mt=d.map(It=>It.id===F?{...It,text:ot}:It);e({...a,shoppingListItems:mt})},Bt=F=>{const ot=d.filter(mt=>mt.id!==F);e({...a,shoppingListItems:ot})},qt=F=>{const ot=d.find(mt=>mt.id===F);ot&&navigator.clipboard.writeText(ot.text).then(()=>{console.log(" :",ot.text)}).catch(mt=>{console.error("  :",mt)})},O=(F,ot)=>{if(H.has(ot)){F.preventDefault();return}F.stopPropagation(),T({draggedItemId:ot,dragOverItemId:null})},et=(F,ot)=>{F.preventDefault(),v.dragOverItemId!==ot&&T(mt=>({...mt,dragOverItemId:ot}))},dt=(F,ot)=>{if(F.preventDefault(),F.stopPropagation(),!v.draggedItemId||v.draggedItemId===ot)return;const mt=d.findIndex(gt=>gt.id===v.draggedItemId),It=d.findIndex(gt=>gt.id===ot);if(mt===-1||It===-1)return;const ct=[...d],[Le]=ct.splice(mt,1);ct.splice(It,0,Le),e({...a,shoppingListItems:ct}),T({draggedItemId:null,dragOverItemId:null})},vt=()=>{T({draggedItemId:null,dragOverItemId:null})};return b.jsxs("div",{className:"flex flex-col h-full bg-white border-2 border-black p-4 shadow-sm",children:[b.jsx("div",{className:"flex items-center justify-between mb-3 flex-shrink-0",children:b.jsx("h2",{className:"text-sm font-bold text-slate-800",children:""})}),b.jsxs("div",{className:"mb-4",children:[b.jsx("label",{className:"block text-[9px] font-bold text-slate-500 mb-0.5 uppercase tracking-wider",children:"Location Info"}),b.jsx("input",{type:"text",value:a.text,onChange:F=>e({text:F.target.value,checklistItems:h}),placeholder:": B2 14C",className:"w-full px-2 py-1.5 bg-slate-50 border border-slate-300 rounded-lg focus:outline-none focus:ring-1 focus:ring-slate-500 text-xs text-slate-700 font-medium placeholder:text-slate-300"})]}),b.jsx("div",{className:"border-t-2 border-blue-400 mb-4"}),b.jsxs("div",{className:"flex-1 flex flex-col min-h-0",children:[b.jsxs("div",{className:"flex items-center justify-between mb-2",children:[b.jsx("label",{className:"block text-sm font-bold text-slate-800",children:""}),b.jsx("button",{onClick:R,className:"text-xs text-blue-600 hover:text-blue-700 font-medium",children:"+ "})]}),b.jsx("div",{className:"border-t border-slate-200 mb-3"}),b.jsxs("div",{className:"space-y-0 overflow-y-auto overflow-x-hidden flex-1",children:[[...h].sort((F,ot)=>F.completed===ot.completed?0:F.completed?1:-1).map(F=>{var It;const ot=p.draggedItemId===F.id,mt=p.dragOverItemId===F.id;return b.jsxs("div",{draggable:!H.has(F.id),onDragStart:ct=>k(ct,F.id),onDragOver:ct=>S(ct,F.id),onDrop:ct=>Pt(ct,F.id),onDragEnd:ne,className:`flex items-center gap-1 py-1.5 px-0 rounded transition-all cursor-move relative min-h-0 ${ot?"opacity-50 bg-slate-100":mt?"bg-blue-50 border-l-2 border-blue-400":"hover:bg-slate-50"}`,children:[b.jsx("input",{type:"checkbox",checked:F.completed,onChange:()=>w(F.id),className:"w-5 h-5 rounded border-slate-300 text-slate-700 focus:ring-slate-500 cursor-pointer flex-shrink-0"}),b.jsxs("div",{className:"flex-1 min-w-0",children:[b.jsx("div",{className:`text-sm leading-snug font-medium ${F.completed?"line-through text-slate-400":"text-slate-700"} relative`,onContextMenu:ct=>{ct.preventDefault(),ct.stopPropagation(),Z({top:ct.clientY,left:ct.clientX}),C(F.id)},children:b.jsx(ao,{value:F.text,onChange:ct=>I(F.id,ct),onEditingChange:ct=>Y(F.id,ct),placeholder:" ...",className:"text-sm",compact:!0})}),((It=a.checklistMemos)==null?void 0:It[F.id])&&b.jsx("div",{onClick:ct=>{ct.stopPropagation(),i(F.id)},className:"text-xs text-green-600 truncate cursor-pointer hover:text-green-700 transition-colors mt-0.5 pl-1 font-medium",title:a.checklistMemos[F.id],children:a.checklistMemos[F.id]})]}),b.jsxs("div",{className:"relative flex-shrink-0 -mr-3",children:[b.jsx("button",{ref:ct=>{ct&&(yt.current[F.id]=ct)},onClick:ct=>xt(ct,F.id),className:"text-slate-600 hover:text-slate-800 transition-colors p-1.5 rounded",title:"",style:{transform:"scale(1.2)"},children:b.jsx(sc,{})}),A===F.id&&(()=>{const ct=window.innerWidth<768;return b.jsxs("div",{ref:ut,className:`${ct?"absolute":"fixed"} bg-white rounded-lg shadow-xl border border-slate-200 z-50 py-1.5 w-48 animate-in fade-in ${ct?"slide-in-from-right-2":"slide-in-from-left-2"} duration-150`,style:{...ct?{right:0,top:"100%",marginTop:"4px"}:{...U.top!==void 0&&{top:`${U.top}px`},...U.bottom!==void 0&&{bottom:`${U.bottom}px`},left:`${U.left}px`}},onClick:Le=>Le.stopPropagation(),children:[b.jsx("button",{onClick:()=>{i(F.id),C(null)},className:"w-full text-left px-4 py-2.5 text-sm text-slate-700 hover:bg-slate-100 transition-colors",children:"  /"}),b.jsx("button",{onClick:()=>{N(F.id),C(null)},className:"w-full text-left px-4 py-2.5 text-sm text-slate-700 hover:bg-slate-100 transition-colors",children:" "}),b.jsx("button",{onClick:()=>{o(F.text),C(null)},className:"w-full text-left px-4 py-2.5 text-sm text-slate-700 hover:bg-slate-100 transition-colors",children:"  "}),b.jsx("button",{onClick:()=>{V({isOpen:!0,itemId:F.id,itemText:F.text,type:"checklist"}),C(null)},className:"w-full text-left px-4 py-2.5 text-sm text-red-600 hover:bg-red-50 transition-colors border-t border-slate-200",children:" "})]})})()]})]},F.id)}),h.length===0&&b.jsx("div",{className:"text-center py-4 text-slate-400 text-xs italic",children:" "})]})]}),b.jsx("div",{className:"border-t-2 border-blue-400 my-4"}),b.jsxs("div",{className:"flex-1 flex flex-col min-h-0",children:[b.jsxs("div",{className:"flex items-center justify-between mb-2",children:[b.jsx("label",{className:"block text-sm font-bold text-slate-800",children:""}),b.jsx("button",{onClick:J,className:"text-xs text-blue-600 hover:text-blue-700 font-medium",children:"+ "})]}),b.jsx("div",{className:"border-t border-slate-200 mb-3"}),b.jsxs("div",{className:"space-y-0 overflow-y-auto overflow-x-hidden flex-1",children:[[...d].sort((F,ot)=>F.completed===ot.completed?0:F.completed?1:-1).map(F=>{var It;const ot=v.draggedItemId===F.id,mt=v.dragOverItemId===F.id;return b.jsxs("div",{draggable:!H.has(F.id),onDragStart:ct=>O(ct,F.id),onDragOver:ct=>et(ct,F.id),onDrop:ct=>dt(ct,F.id),onDragEnd:vt,className:`flex items-center gap-1 py-1.5 px-0 rounded transition-all cursor-move relative min-h-0 ${ot?"opacity-50 bg-slate-100":mt?"bg-blue-50 border-l-2 border-blue-400":"hover:bg-slate-50"}`,children:[b.jsx("input",{type:"checkbox",checked:F.completed,onChange:()=>ht(F.id),className:"w-5 h-5 rounded border-slate-300 text-slate-700 focus:ring-slate-500 cursor-pointer flex-shrink-0"}),b.jsxs("div",{className:"flex-1 min-w-0",children:[b.jsx("div",{className:`text-sm leading-snug font-medium ${F.completed?"line-through text-slate-400":"text-slate-700"} relative`,onContextMenu:ct=>{ct.preventDefault(),ct.stopPropagation(),Z({top:ct.clientY,left:ct.clientX}),C(F.id)},children:b.jsx(ao,{value:F.text,onChange:ct=>At(F.id,ct),onEditingChange:ct=>Y(F.id,ct),placeholder:" ...",className:"text-sm",compact:!0})}),((It=a.shoppingListMemos)==null?void 0:It[F.id])&&b.jsx("div",{onClick:ct=>{ct.stopPropagation(),r(F.id)},className:"text-xs text-green-600 truncate cursor-pointer hover:text-green-700 transition-colors mt-0.5 pl-1 font-medium",title:a.shoppingListMemos[F.id],children:a.shoppingListMemos[F.id]})]}),b.jsxs("div",{className:"relative flex-shrink-0 -mr-3",children:[b.jsx("button",{ref:ct=>{ct&&(yt.current[F.id]=ct)},onClick:ct=>xt(ct,F.id),className:"text-slate-600 hover:text-slate-800 transition-colors p-1.5 rounded",title:"",style:{transform:"scale(1.2)"},children:b.jsx(sc,{})}),A===F.id&&(()=>{const ct=window.innerWidth<768;return b.jsxs("div",{ref:ut,className:`${ct?"absolute":"fixed"} bg-white rounded-lg shadow-xl border border-slate-200 z-50 py-1.5 w-48 animate-in fade-in ${ct?"slide-in-from-right-2":"slide-in-from-left-2"} duration-150`,style:{...ct?{right:0,top:"100%",marginTop:"4px"}:{...U.top!==void 0&&{top:`${U.top}px`},...U.bottom!==void 0&&{bottom:`${U.bottom}px`},left:`${U.left}px`}},onClick:Le=>Le.stopPropagation(),children:[b.jsx("button",{onClick:()=>{r(F.id),C(null)},className:"w-full text-left px-4 py-2.5 text-sm text-slate-700 hover:bg-slate-100 transition-colors",children:"  /"}),b.jsx("button",{onClick:()=>{qt(F.id),C(null)},className:"w-full text-left px-4 py-2.5 text-sm text-slate-700 hover:bg-slate-100 transition-colors",children:" "}),b.jsx("button",{onClick:()=>{o(F.text),C(null)},className:"w-full text-left px-4 py-2.5 text-sm text-slate-700 hover:bg-slate-100 transition-colors",children:"  "}),b.jsx("button",{onClick:()=>{V({isOpen:!0,itemId:F.id,itemText:F.text,type:"shopping"}),C(null)},className:"w-full text-left px-4 py-2.5 text-sm text-red-600 hover:bg-red-50 transition-colors border-t border-slate-200",children:" "})]})})()]})]},F.id)}),d.length===0&&b.jsx("div",{className:"text-center py-4 text-slate-400 text-xs italic",children:" "})]})]}),st.isOpen&&b.jsx("div",{className:"fixed inset-0 bg-black/40 flex items-center justify-center z-50 animate-in fade-in duration-150",children:b.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-6 max-w-sm mx-4 animate-in zoom-in duration-200",children:[b.jsx("h2",{className:"text-lg font-bold text-slate-800 mb-2",children:" ?"}),b.jsxs("p",{className:"text-sm text-slate-600 mb-6",children:['"',st.itemText&&st.itemText.length>30?st.itemText.substring(0,30)+"...":st.itemText,'"',st.itemText.length>30&&"","() ."]}),b.jsxs("div",{className:"flex gap-3 justify-end",children:[b.jsx("button",{onClick:()=>V({...st,isOpen:!1}),className:"px-4 py-2 rounded-lg border-2 border-slate-300 text-slate-700 font-medium hover:bg-slate-50 transition-colors",children:""}),b.jsx("button",{onClick:()=>{st.type==="checklist"?j(st.itemId):Bt(st.itemId),V({isOpen:!1,itemId:null,itemText:"",type:"checklist"})},className:"px-4 py-2 rounded-lg bg-red-500 hover:bg-red-600 text-white font-medium border-2 border-black transition-colors",children:""})]})]})})]})},My=[{bg:"bg-[#F59E0B]",bgLight:"bg-[#FEF3C7]",text:"text-[#92400E]",textLight:"text-[#D97706]",border:"border-[#F59E0B]"},{bg:"bg-[#3B82F6]",bgLight:"bg-[#DBEAFE]",text:"text-[#1E3A8A]",textLight:"text-[#3B82F6]",border:"border-[#3B82F6]"},{bg:"bg-[#9333EA]",bgLight:"bg-[#F3E8FF]",text:"text-[#581C87]",textLight:"text-[#9333EA]",border:"border-[#9333EA]"},{bg:"bg-[#10B981]",bgLight:"bg-[#D1FAE5]",text:"text-[#065F46]",textLight:"text-[#10B981]",border:"border-[#10B981]"},{bg:"bg-[#F43F5E]",bgLight:"bg-[#FFE4E6]",text:"text-[#881337]",textLight:"text-[#F43F5E]",border:"border-[#F43F5E]"},{bg:"bg-[#06B6D4]",bgLight:"bg-[#CFFAFE]",text:"text-[#164E63]",textLight:"text-[#06B6D4]",border:"border-[#06B6D4]"},{bg:"bg-[#8B5CF6]",bgLight:"bg-[#EDE9FE]",text:"text-[#4C1D95]",textLight:"text-[#8B5CF6]",border:"border-[#8B5CF6]"},{bg:"bg-[#F97316]",bgLight:"bg-[#FFEDD5]",text:"text-[#7C2D12]",textLight:"text-[#F97316]",border:"border-[#F97316]"}],Xl=a=>My[a%My.length],LE=({tab:a,onDelete:e,onToggleLock:i,canDelete:r,isActive:o,tabColor:h})=>{const[d,p]=rt.useState(!1),[g,v]=rt.useState({bottom:0,left:0}),T=rt.useRef(null),A=rt.useRef(null);bc(A,()=>p(!1));const C=Z=>{if(Z.stopPropagation(),T.current){const st=T.current.getBoundingClientRect();v({bottom:window.innerHeight-st.top+8,left:st.left})}p(!d)},U=r&&!a.isLocked;return b.jsxs("div",{className:"relative ml-1",children:[b.jsx("button",{ref:T,onClick:C,className:`p-1 rounded-full transition-all flex items-center justify-center ${o?`opacity-100 ${h.text} hover:bg-black/5`:`opacity-40 group-hover:opacity-100 ${h.textLight} hover:bg-black/5`}`,title:" ",children:b.jsx(sc,{})}),d&&b.jsxs("div",{ref:A,className:"fixed bg-white rounded-xl shadow-[0_10px_30px_rgba(0,0,0,0.2)] border border-slate-200 z-[999] py-1 overflow-hidden animate-in fade-in slide-in-from-bottom-2 duration-150 w-32",style:{bottom:`${g.bottom}px`,left:`${g.left}px`},onClick:Z=>Z.stopPropagation(),children:[b.jsxs("button",{onClick:()=>{i(a.id),p(!1)},className:"w-full text-left px-3 py-2 text-xs text-slate-700 hover:bg-slate-100 transition-colors flex items-center gap-2",children:[b.jsx("span",{className:"text-sm leading-none",children:a.isLocked?"":""}),b.jsx("span",{className:"font-bold",children:a.isLocked?" ":""})]}),b.jsxs("button",{disabled:!U,onClick:()=>{e(a.id),p(!1)},className:`w-full text-left px-3 py-2 text-xs transition-colors flex items-center gap-2 border-t border-slate-50 ${U?"text-red-600 hover:bg-red-50":"text-slate-300 cursor-not-allowed bg-slate-50"}`,children:[b.jsx("span",{className:"text-sm leading-none",children:""}),b.jsx("span",{className:"font-bold",children:""})]}),b.jsx("button",{onClick:()=>p(!1),className:"w-full text-left px-3 py-2 text-xs text-slate-500 hover:bg-slate-100 transition-colors border-t border-slate-100 font-medium",children:""})]})]})},kE=({tabs:a,activeTabId:e,onSelectTab:i,onAddTab:r,onRenameTab:o,onDeleteTab:h,onToggleLockTab:d,onReorderTabs:p,onNavigateToInbox:g,hasInbox:v})=>{const[T,A]=rt.useState(null),[C,U]=rt.useState(null),Z=(G,Y)=>{if(a[Y].isLocked){G.preventDefault();return}A(Y),G.dataTransfer.effectAllowed="move"},st=(G,Y)=>{G.preventDefault(),G.dataTransfer.dropEffect="move",U(Y)},V=(G,Y)=>{G.preventDefault(),T!==null&&T!==Y&&p(T,Y),A(null),U(null)},H=()=>{A(null),U(null)};return b.jsx("div",{className:"bg-white border-t border-slate-200 z-[100] h-12 shadow-[0_-2px_15px_rgba(0,0,0,0.08)] relative",children:b.jsxs("div",{className:"w-full h-full flex items-center overflow-x-auto no-scrollbar whitespace-nowrap px-6 gap-1",children:[v&&b.jsx("button",{onClick:g,className:"flex items-center justify-center w-8 h-8 text-lg leading-none hover:bg-blue-50 rounded-lg transition-all active:scale-95 flex-shrink-0",title:"  IN-BOX  ",children:""}),a.map((G,Y)=>{const ut=Xl(Y),yt=e===G.id,xt=T===Y,R=C===Y;return b.jsxs("div",{draggable:!G.isLocked,onDragStart:w=>Z(w,Y),onDragOver:w=>st(w,Y),onDrop:w=>V(w,Y),onDragEnd:H,onClick:()=>i(G.id),className:`group flex items-center gap-1.5 px-2.5 py-1.5 rounded-lg cursor-pointer transition-all border flex-shrink-0 ${xt?"opacity-50":""} ${R?"ring-2 ring-offset-1 ring-blue-400":""} ${G.isLocked?"":"hover:shadow-md"} ${yt?`${ut.bg} ${ut.text} ${ut.border} shadow-sm`:`${ut.bgLight} ${ut.textLight} border-transparent hover:${ut.border}`} ${G.isLocked?"cursor-default":""}`,children:[b.jsx("div",{draggable:!1,onDragStart:w=>w.stopPropagation(),children:b.jsx(ao,{value:G.name,onChange:w=>o(G.id,w),className:`text-xs min-w-[40px] text-center ${yt?"font-bold":"font-medium"}`,placeholder:" "})}),b.jsx(LE,{tab:G,onDelete:h,onToggleLock:d,canDelete:a.length>1,isActive:yt,tabColor:ut})]},G.id)}),b.jsx("div",{className:"flex items-center ml-2 border-l border-slate-200 pl-4 flex-shrink-0 h-8",children:b.jsxs("button",{onClick:r,className:"flex items-center gap-1.5 px-3 py-1.5 text-xs font-bold text-emerald-600 hover:bg-emerald-50 rounded-lg transition-all active:scale-95",children:[b.jsx("span",{className:"text-lg leading-none",children:"+"}),b.jsx("span",{children:" "})]})})]})})},zE=["#F1F1EF","#F4EEEE","#FBECDD","#FBF3DB","#EDF3EC","#E7F3F8","#F3F0F5","#F9F0F4","#FDEBEC","#FFFFFF","#E1E1E1","#D3D3D3","#E9E5E3","#F7F6F3","#FAF9F6","#F1F5F9","#F0FDF4","#EFF6FF","#F5F3FF","#FDF2F8","#FFFBEB","#FFF1F2","#FEFCE8","#F0FDFA"],UE=({isOpen:a,bookmark:e,onClose:i,onSave:r})=>{const[o,h]=rt.useState({...e});if(rt.useEffect(()=>{a&&h({...e})},[a,e]),!a)return null;const d=()=>{r(o)},p=g=>g.startsWith("#");return b.jsx("div",{className:"fixed inset-0 z-[200] flex items-center justify-center p-4 bg-black/30 backdrop-blur-[2px]",onClick:i,children:b.jsxs("div",{className:"bg-[#F7F6F3] w-full max-w-2xl rounded-xl shadow-2xl overflow-hidden animate-in fade-in zoom-in duration-200",onClick:g=>g.stopPropagation(),children:[b.jsxs("div",{className:"bg-white px-6 py-4 flex items-center justify-between border-b border-slate-200",children:[b.jsx("h2",{className:"text-lg font-bold text-slate-800",children:" "}),b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("button",{onClick:d,className:"px-4 py-1.5 bg-[#3B82F6] text-white text-sm font-bold rounded shadow-sm hover:brightness-95 active:scale-95 transition-all",children:""}),b.jsx("button",{onClick:i,className:"px-4 py-1.5 bg-[#F1B116] text-white text-sm font-bold rounded shadow-sm hover:brightness-95 active:scale-95 transition-all",children:""})]})]}),b.jsxs("div",{className:"p-8 flex flex-col md:flex-row gap-12",children:[b.jsxs("div",{className:"flex-1 space-y-6",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-bold text-slate-400 mb-2 uppercase tracking-tight",children:""}),b.jsx("input",{type:"text",value:o.label,onChange:g=>h({...o,label:g.target.value}),className:"w-full px-4 py-2.5 bg-white border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/20 text-slate-700 font-medium"})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-bold text-slate-400 mb-2 uppercase tracking-tight",children:"URL"}),b.jsx("input",{type:"text",value:o.url,onChange:g=>h({...o,url:g.target.value}),className:"w-full px-4 py-2.5 bg-white border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/20 text-slate-700 font-medium"})]})]}),b.jsxs("div",{className:"flex-1",children:[b.jsx("label",{className:"block text-sm font-bold text-slate-400 mb-4 text-center md:text-left uppercase tracking-tight",children:"  "}),b.jsx("div",{className:"grid grid-cols-6 gap-2 mb-8",children:zE.map(g=>b.jsx("button",{onClick:()=>h({...o,color:`bg-[${g}]`}),className:`w-10 h-10 rounded-lg border transition-all hover:scale-110 ${o.color===`bg-[${g}]`?"border-blue-500 shadow-md scale-110 ring-2 ring-blue-100":"border-slate-200"}`,style:{backgroundColor:g}},g))}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-bold text-slate-400 mb-2 uppercase tracking-tight",children:" "}),b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("div",{className:"w-12 h-10 rounded border border-slate-300 relative overflow-hidden",style:{backgroundColor:p(o.color.replace("bg-[","").replace("]",""))?o.color.replace("bg-[","").replace("]",""):"#FFFFFF"},children:b.jsx("input",{type:"color",className:"absolute inset-0 opacity-0 cursor-pointer w-full h-full",value:p(o.color.replace("bg-[","").replace("]",""))?o.color.replace("bg-[","").replace("]",""):"#FFFFFF",onChange:g=>h({...o,color:`bg-[${g.target.value.toUpperCase()}]`})})}),b.jsx("input",{type:"text",value:o.color.replace("bg-[","").replace("]",""),onChange:g=>h({...o,color:`bg-[${g.target.value.toUpperCase()}]`}),className:"flex-1 px-4 py-2 bg-white border border-slate-300 rounded-lg focus:outline-none text-slate-700 font-mono",placeholder:"#000000"})]})]})]})]})]})})},BE=({bookmarks:a,onUpdateBookmarks:e})=>{const[i,r]=rt.useState(null),[o,h]=rt.useState(null),[d,p]=rt.useState(null),g=H=>{H&&(H.startsWith("http")?window.open(H,"_blank"):window.open(`https://${H}`,"_blank"))},v=(H,G)=>{H.preventDefault(),r(G)},T=(H,G)=>{h(G),H.dataTransfer.effectAllowed="move"},A=(H,G)=>{H.preventDefault(),H.dataTransfer.dropEffect="move",o&&o!==G&&p(G)},C=()=>{p(null)},U=(H,G)=>{if(H.preventDefault(),!o||o===G){h(null),p(null);return}const Y=a.findIndex(yt=>yt.id===o),ut=a.findIndex(yt=>yt.id===G);if(Y!==-1&&ut!==-1){const yt=[...a],[xt]=yt.splice(Y,1);yt.splice(ut,0,xt),e(yt)}h(null),p(null)},Z=()=>{h(null),p(null)},st=H=>{if(!i)return;const G=a.map(Y=>Y.id===H.id?H:Y);e(G),r(null)},V=H=>H.startsWith("bg-[")?H.replace("bg-[","").replace("]",""):H;return b.jsxs("div",{className:"w-full bg-white border-b border-slate-200 py-2.5 px-4 overflow-hidden",children:[b.jsx("div",{className:"grid grid-cols-5 md:grid-cols-8 lg:grid-cols-10 xl:grid-cols-[repeat(15,minmax(0,1fr))] gap-1.5",children:a.slice(0,15).map(H=>b.jsx("div",{className:`relative group/btn transition-all ${o===H.id?"opacity-50":""} ${d===H.id?"transform scale-105":""}`,draggable:!0,onDragStart:G=>T(G,H.id),onDragOver:G=>A(G,H.id),onDragLeave:C,onDrop:G=>U(G,H.id),onDragEnd:Z,children:b.jsx("button",{onClick:()=>g(H.url),onContextMenu:G=>v(G,H),className:"w-full h-11 px-2 py-1 rounded-lg border border-slate-200/60 text-[11px] font-bold transition-all active:scale-95 flex items-center justify-center hover:brightness-95 hover:shadow-sm text-slate-700 overflow-hidden leading-tight cursor-move",style:{backgroundColor:V(H.color)},children:b.jsx("span",{className:"line-clamp-2 text-center break-all",children:H.label||"Empty"})})},H.id))}),i&&b.jsx(UE,{isOpen:!!i,bookmark:i,onClose:()=>r(null),onSave:st})]})},PE=({notes:a,onChange:e})=>{const[i,r]=rt.useState(null),[o,h]=rt.useState(""),[d,p]=rt.useState(""),[g,v]=rt.useState(null),T=Array.from({length:16},(G,Y)=>a[Y]||{title:"",content:""}),A=(G,Y)=>{v(Y),G.dataTransfer.effectAllowed="move"},C=(G,Y)=>{G.preventDefault(),G.dataTransfer.dropEffect="move"},U=(G,Y)=>{if(G.preventDefault(),g===null||g===Y)return;const ut=[...T],yt=ut[g],xt=ut[Y];ut[g]=xt,ut[Y]=yt,e(ut),v(null)},Z=()=>{v(null)},st=G=>{r(G),h(T[G].title),p(T[G].content)},V=()=>{if(i!==null){const G=[...T];G[i]={title:o,content:d},e(G),r(null)}},H=()=>{if(i!==null){const G=[...T];G[i]={title:"",content:""},G.sort((Y,ut)=>{const yt=!!(Y.title||Y.content),xt=!!(ut.title||ut.content);return yt===xt?0:yt?-1:1}),e(G),r(null)}};return b.jsxs("div",{className:"w-full h-full flex flex-col py-2 px-2 gap-1 overflow-hidden",children:[T.map((G,Y)=>{const ut=G.title||G.content;return b.jsxs("div",{className:`flex-1 min-h-0 w-full flex items-stretch gap-0.5 ${g===Y?"opacity-40":""}`,onDragOver:yt=>C(yt),onDrop:yt=>U(yt,Y),children:[b.jsx("div",{className:`w-5 flex-none flex items-center justify-center cursor-grab active:cursor-grabbing rounded-l-lg border-y border-l select-none transition-colors ${ut?"bg-green-600 border-green-700 text-white":"bg-slate-200 border-slate-300 text-slate-400"}`,draggable:!0,onDragStart:yt=>A(yt,Y),onDragEnd:Z,children:b.jsxs("svg",{className:"w-3 h-3",fill:"currentColor",viewBox:"0 0 24 24",children:[b.jsx("circle",{cx:"9",cy:"5",r:"1.5"}),b.jsx("circle",{cx:"15",cy:"5",r:"1.5"}),b.jsx("circle",{cx:"9",cy:"12",r:"1.5"}),b.jsx("circle",{cx:"15",cy:"12",r:"1.5"}),b.jsx("circle",{cx:"9",cy:"19",r:"1.5"}),b.jsx("circle",{cx:"15",cy:"19",r:"1.5"})]})}),b.jsx("button",{onClick:()=>st(Y),className:`flex-1 min-w-0 px-2 py-1 rounded-r-lg border-y border-r transition-all active:scale-95 flex flex-col items-center justify-center hover:brightness-95 hover:shadow-sm overflow-hidden leading-tight ${ut?"bg-green-400 text-black text-[14px] font-normal border-green-600":"bg-[#FBF3DB] text-slate-700 text-[12px] font-bold border-slate-200/60"}`,children:b.jsx("span",{className:"line-clamp-2 text-center break-all",children:G.title||(G.content?G.content.substring(0,10):" ")})})]},Y)}),i!==null&&b.jsx("div",{className:"fixed inset-0 z-[300] flex items-center justify-center p-4 bg-black/40 backdrop-blur-sm",onClick:()=>r(null),children:b.jsxs("div",{className:"bg-white w-full max-w-3xl h-[70vh] shadow-2xl border border-slate-200 overflow-hidden animate-in zoom-in duration-200 flex flex-col",onClick:G=>G.stopPropagation(),children:[b.jsx("div",{className:"flex-1 overflow-hidden",children:b.jsx("textarea",{value:d,onChange:G=>p(G.target.value),className:"w-full h-full p-8 bg-transparent text-slate-700 text-base resize-none focus:outline-none custom-scrollbar font-medium leading-relaxed placeholder:text-slate-200",placeholder:"  ..."})}),b.jsxs("div",{className:"px-6 py-2 bg-slate-50 border-t border-black flex justify-between gap-3 shrink-0",children:[b.jsx("button",{onClick:H,className:"px-6 py-2.5 text-sm font-bold text-white bg-red-500 hover:bg-red-600 rounded-xl transition-all active:scale-95",children:""}),b.jsxs("div",{className:"flex gap-3",children:[b.jsx("button",{onClick:()=>r(null),className:"px-6 py-2.5 text-sm font-bold text-slate-500 hover:bg-slate-200 rounded-xl transition-all",children:""}),b.jsx("button",{onClick:V,className:"px-10 py-2.5 text-sm font-bold text-white bg-blue-500 hover:bg-blue-600 rounded-xl shadow-lg shadow-blue-500/20 transition-all active:scale-95",children:""})]})]})]})})]})},kf=({isExpanded:a})=>b.jsx("span",{className:"text-slate-500 font-bold transition-transform duration-200 inline-block text-xs flex-shrink-0",style:{transform:a?"rotate(90deg)":"rotate(0deg)"},children:""}),qE=({isOpen:a,tabs:e,activeTabId:i,onClose:r,onNavigate:o})=>{const[h,d]=rt.useState(new Set([i])),[p,g]=rt.useState(new Set);if(rt.useEffect(()=>{a&&(d(new Set([i])),g(new Set))},[a,i]),!a)return null;const v=V=>V.sections.length+(V.inboxSection?1:0),T=V=>{var H;return V.sections.reduce((G,Y)=>G+Y.items.length,0)+(((H=V.inboxSection)==null?void 0:H.items.length)||0)},A=()=>e.reduce((V,H)=>V+v(H),0),C=()=>e.reduce((V,H)=>V+T(H),0),U=V=>{d(H=>{const G=new Set(H);if(G.has(V)){G.delete(V);const Y=e.find(ut=>ut.id===V);Y&&g(ut=>{const yt=new Set(ut);return Y.inboxSection&&yt.delete(Y.inboxSection.id),Y.sections.forEach(xt=>yt.delete(xt.id)),yt})}else G.add(V);return G})},Z=V=>{g(H=>{const G=new Set(H);return G.has(V)?G.delete(V):G.add(V),G})},st=(V,H)=>{o(V,H)};return b.jsx("div",{className:"fixed inset-0 z-[250] flex items-center justify-center p-4 bg-black/30 backdrop-blur-[2px]",onClick:r,children:b.jsxs("div",{className:"bg-white w-full max-w-4xl max-h-[80vh] rounded-xl shadow-2xl overflow-hidden flex flex-col",onClick:V=>V.stopPropagation(),children:[b.jsxs("div",{className:"px-6 py-4 border-b border-slate-200 flex items-center justify-between bg-slate-50",children:[b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx(X0,{}),b.jsx("h2",{className:"text-lg font-bold text-slate-800",children:"  "})]}),b.jsx("button",{onClick:r,className:"text-slate-400 hover:text-slate-600 p-2 rounded-lg transition-colors",title:"",children:b.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),b.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar p-6",children:e.length===0?b.jsx("div",{className:"text-center py-12 text-slate-400",children:b.jsx("p",{className:"italic",children:" ."})}):e.map(V=>b.jsxs("div",{className:"mb-4",children:[b.jsx("button",{onClick:()=>U(V.id),className:`w-full text-left px-4 py-3 rounded-lg mb-2 transition-all ${V.id===i?"bg-blue-50 border-2 border-blue-400":"hover:bg-slate-100 border border-slate-200"}`,children:b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx(kf,{isExpanded:h.has(V.id)}),b.jsx("span",{className:"text-lg",children:""}),b.jsx("span",{className:"font-semibold text-slate-800",children:V.name}),V.isLocked&&b.jsx(Zu,{}),b.jsxs("span",{className:"text-xs text-slate-400 ml-auto",children:[v(V)," , ",T(V)," "]})]})}),h.has(V.id)&&b.jsxs("div",{className:"pl-6 space-y-2",children:[V.inboxSection&&b.jsxs("div",{children:[b.jsxs("button",{onClick:()=>Z(V.inboxSection.id),className:"w-full text-left px-4 py-2 rounded-lg hover:bg-slate-100 transition-all flex items-center gap-2",children:[b.jsx(kf,{isExpanded:p.has(V.inboxSection.id)}),b.jsx("span",{className:"text-base",children:""}),b.jsx("span",{className:"text-sm font-medium text-slate-700",children:V.inboxSection.title}),V.inboxSection.isLocked&&b.jsx("div",{className:"scale-75",children:b.jsx(Zu,{})}),b.jsxs("span",{className:"text-xs text-slate-400 ml-auto",children:[V.inboxSection.items.length," "]})]}),p.has(V.inboxSection.id)&&b.jsx("div",{className:"pl-8 space-y-1 mt-1",children:V.inboxSection.items.map(H=>b.jsxs("button",{onClick:()=>st(V.id,V.inboxSection.id),className:"w-full text-left px-3 py-1.5 rounded hover:bg-blue-50 transition-all text-xs text-slate-600 hover:text-slate-800 flex items-center gap-2",children:[b.jsx("span",{className:"flex-shrink-0",children:H.completed?"":""}),b.jsx("span",{className:`truncate ${H.completed?"line-through text-slate-400":""}`,children:H.text||"( )"})]},H.id))})]}),V.sections.length===0&&!V.inboxSection?b.jsx("div",{className:"pl-10 py-2 text-xs text-slate-400 italic",children:"  "}):V.sections.map(H=>b.jsxs("div",{children:[b.jsxs("button",{onClick:()=>Z(H.id),className:"w-full text-left px-4 py-2 rounded-lg hover:bg-slate-100 transition-all flex items-center gap-2",children:[b.jsx(kf,{isExpanded:p.has(H.id)}),b.jsx("span",{className:"text-base",children:""}),b.jsx("span",{className:"text-sm font-medium text-slate-700",children:H.title}),H.isLocked&&b.jsx("div",{className:"scale-75",children:b.jsx(Zu,{})}),b.jsxs("span",{className:"text-xs text-slate-400 ml-auto",children:[H.items.length," "]})]}),p.has(H.id)&&b.jsxs("div",{className:"pl-8 space-y-1 mt-1",children:[H.items.map(G=>b.jsxs("button",{onClick:()=>st(V.id,H.id),className:"w-full text-left px-3 py-1.5 rounded hover:bg-blue-50 transition-all text-xs text-slate-600 hover:text-slate-800 flex items-center gap-2",children:[b.jsx("span",{className:"flex-shrink-0",children:G.completed?"":""}),b.jsx("span",{className:`truncate ${G.completed?"line-through text-slate-400":""}`,children:G.text||"( )"})]},G.id)),H.items.length===0&&b.jsx("div",{className:"pl-3 py-1.5 text-xs text-slate-400 italic",children:" "})]})]},H.id))]})]},V.id))}),b.jsxs("div",{className:"px-6 py-3 border-t border-slate-200 bg-slate-50 text-xs text-slate-500 text-center",children:[" ",e.length," , ",A()," , ",C()," "]})]})})},HE=({isOpen:a,itemText:e,currentTabId:i,currentSectionId:r,tabs:o,onMove:h,onCancel:d})=>{const[p,g]=rt.useState(i),[v,T]=rt.useState(""),A=rt.useRef(null);if(bc(A,d),rt.useEffect(()=>{if(a){const V=o.find(H=>H.id===p);if(V){const G=o.findIndex(Y=>Y.id===p)===0&&V.inboxSection?V.inboxSection:V.sections[0];T((G==null?void 0:G.id)||"")}}},[a,p,o]),!a)return null;const C=o.find(V=>V.id===i),U=C==null?void 0:C.sections.find(V=>V.id===r),Z=o.find(V=>V.id===p),st=v&&!(p===i&&v===r);return b.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-slate-900/20 backdrop-blur-[2px]",children:b.jsxs("div",{ref:A,className:"bg-white w-full max-w-md rounded-2xl shadow-2xl border border-slate-200 overflow-hidden",children:[b.jsxs("div",{className:"px-6 py-4 border-b border-slate-100 flex items-center justify-between",children:[b.jsx("h2",{className:"text-lg font-bold text-slate-800",children:"  "}),b.jsx("button",{onClick:d,className:"text-slate-400 hover:text-slate-600 p-1 transition-colors",children:b.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),b.jsxs("div",{className:"px-6 py-6 space-y-4",children:[b.jsxs("div",{className:"bg-slate-50 rounded-lg p-3 border border-slate-200",children:[b.jsx("p",{className:"text-xs text-slate-500 mb-1",children:" "}),b.jsxs("p",{className:"text-sm font-semibold text-slate-700",children:[C==null?void 0:C.name," > ",U==null?void 0:U.title]})]}),b.jsxs("div",{className:"bg-blue-50 rounded-lg p-3 border border-blue-200",children:[b.jsx("p",{className:"text-xs text-blue-600 mb-1",children:" "}),b.jsx("p",{className:"text-sm font-medium text-slate-800 truncate",children:e||"( )"})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:" "}),b.jsx("select",{value:p,onChange:V=>g(V.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm bg-white text-slate-800",children:o.map(V=>b.jsx("option",{value:V.id,children:V.name},V.id))})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:" "}),b.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto custom-scrollbar border border-slate-200 rounded-lg p-3",children:!(Z!=null&&Z.inboxSection)&&(Z==null?void 0:Z.sections.length)===0?b.jsx("p",{className:"text-sm text-slate-400 italic text-center py-4",children:"   "}):b.jsxs(b.Fragment,{children:[o.findIndex(H=>H.id===p)===0&&(Z==null?void 0:Z.inboxSection)&&b.jsxs("label",{className:`flex items-center gap-3 p-2.5 rounded-lg cursor-pointer transition-colors hover:bg-slate-50 ${v===Z.inboxSection.id?"bg-blue-50 border border-blue-300":"border border-transparent"}`,children:[b.jsx("input",{type:"radio",name:"targetSection",value:Z.inboxSection.id,checked:v===Z.inboxSection.id,onChange:H=>T(H.target.value),className:"w-4 h-4 text-blue-600 focus:ring-blue-500 flex-shrink-0"}),b.jsxs("span",{className:"text-sm font-medium flex-1 text-slate-700",children:[" ",Z.inboxSection.title]})]}),Z==null?void 0:Z.sections.map(V=>b.jsxs("label",{className:`flex items-center gap-3 p-2.5 rounded-lg cursor-pointer transition-colors hover:bg-slate-50 ${v===V.id?"bg-blue-50 border border-blue-300":"border border-transparent"}`,children:[b.jsx("input",{type:"radio",name:"targetSection",value:V.id,checked:v===V.id,onChange:H=>T(H.target.value),className:"w-4 h-4 text-blue-600 focus:ring-blue-500 flex-shrink-0"}),b.jsx("span",{className:"text-sm font-medium flex-1 text-slate-700",children:V.title})]},V.id))]})})]})]}),b.jsxs("div",{className:"px-6 py-4 border-t border-slate-100 bg-slate-50 flex justify-end gap-3",children:[b.jsx("button",{onClick:d,className:"px-4 py-2 bg-slate-200 text-slate-800 text-sm font-semibold rounded-lg hover:bg-slate-300 transition-colors",children:""}),b.jsx("button",{onClick:()=>h(p,v),disabled:!st,className:"px-5 py-2 bg-blue-500 text-white text-sm font-semibold rounded-lg hover:bg-blue-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:bg-blue-500",children:""})]})]})})},FE=({isOpen:a,itemText:e,onClose:i,onConfirm:r})=>{const o=new Date().toISOString().split("T")[0],[h,d]=rt.useState(o),[p,g]=rt.useState(!0),[v,T]=rt.useState("09:00"),[A,C]=rt.useState("10:00");if(!a)return null;const U=()=>{if(p)r(h,h,!0);else{const Z=`${h}T${v}:00`,st=`${h}T${A}:00`;r(Z,st,!1)}i()};return b.jsx("div",{className:"fixed inset-0 z-[120] flex items-center justify-center p-4 bg-slate-900/40 backdrop-blur-sm",children:b.jsxs("div",{className:"bg-white w-full max-w-md rounded-2xl shadow-2xl p-6",children:[b.jsx("h3",{className:"text-lg font-bold text-slate-800 mb-4",children:"  "}),b.jsxs("div",{className:"mb-4",children:[b.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:" "}),b.jsx("input",{type:"text",value:e,disabled:!0,className:"w-full px-3 py-2 border border-slate-300 rounded-lg bg-slate-50"})]}),b.jsxs("div",{className:"mb-4",children:[b.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:""}),b.jsx("input",{type:"date",value:h,onChange:Z=>d(Z.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-lg"})]}),b.jsx("div",{className:"mb-4",children:b.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[b.jsx("input",{type:"checkbox",checked:p,onChange:Z=>g(Z.target.checked),className:"w-4 h-4 rounded border-slate-300 text-blue-500"}),b.jsx("span",{className:"text-sm font-medium text-slate-700",children:""})]})}),!p&&b.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-6",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:" "}),b.jsx("input",{type:"time",value:v,onChange:Z=>T(Z.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-lg"})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:" "}),b.jsx("input",{type:"time",value:A,onChange:Z=>C(Z.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-lg"})]})]}),b.jsxs("div",{className:"flex justify-end gap-3",children:[b.jsx("button",{onClick:i,className:"px-5 py-2.5 text-sm font-medium text-slate-500 hover:bg-slate-50 rounded-lg",children:""}),b.jsx("button",{onClick:U,disabled:!h,className:"px-8 py-2.5 text-sm font-bold text-white bg-blue-500 hover:bg-blue-600 rounded-lg disabled:opacity-50",children:""})]})]})})},GE=()=>{};var jy={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z0=function(a){const e=[];let i=0;for(let r=0;r<a.length;r++){let o=a.charCodeAt(r);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&r+1<a.length&&(a.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(a.charCodeAt(++r)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},QE=function(a){const e=[];let i=0,r=0;for(;i<a.length;){const o=a[i++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const h=a[i++];e[r++]=String.fromCharCode((o&31)<<6|h&63)}else if(o>239&&o<365){const h=a[i++],d=a[i++],p=a[i++],g=((o&7)<<18|(h&63)<<12|(d&63)<<6|p&63)-65536;e[r++]=String.fromCharCode(55296+(g>>10)),e[r++]=String.fromCharCode(56320+(g&1023))}else{const h=a[i++],d=a[i++];e[r++]=String.fromCharCode((o&15)<<12|(h&63)<<6|d&63)}}return e.join("")},$0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(a,e){if(!Array.isArray(a))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<a.length;o+=3){const h=a[o],d=o+1<a.length,p=d?a[o+1]:0,g=o+2<a.length,v=g?a[o+2]:0,T=h>>2,A=(h&3)<<4|p>>4;let C=(p&15)<<2|v>>6,U=v&63;g||(U=64,d||(C=64)),r.push(i[T],i[A],i[C],i[U])}return r.join("")},encodeString(a,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(a):this.encodeByteArray(Z0(a),e)},decodeString(a,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(a):QE(this.decodeStringToByteArray(a,e))},decodeStringToByteArray(a,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<a.length;){const h=i[a.charAt(o++)],p=o<a.length?i[a.charAt(o)]:0;++o;const v=o<a.length?i[a.charAt(o)]:64;++o;const A=o<a.length?i[a.charAt(o)]:64;if(++o,h==null||p==null||v==null||A==null)throw new YE;const C=h<<2|p>>4;if(r.push(C),v!==64){const U=p<<4&240|v>>2;if(r.push(U),A!==64){const Z=v<<6&192|A;r.push(Z)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let a=0;a<this.ENCODED_VALS.length;a++)this.byteToCharMap_[a]=this.ENCODED_VALS.charAt(a),this.charToByteMap_[this.byteToCharMap_[a]]=a,this.byteToCharMapWebSafe_[a]=this.ENCODED_VALS_WEBSAFE.charAt(a),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[a]]=a,a>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(a)]=a,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(a)]=a)}}};class YE extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const KE=function(a){const e=Z0(a);return $0.encodeByteArray(e,!0)},ac=function(a){return KE(a).replace(/\./g,"")},XE=function(a){try{return $0.decodeString(a,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZE(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $E=()=>ZE().__FIREBASE_DEFAULTS__,JE=()=>{if(typeof process>"u"||typeof jy>"u")return;const a=jy.__FIREBASE_DEFAULTS__;if(a)return JSON.parse(a)},WE=()=>{if(typeof document>"u")return;let a;try{a=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=a&&XE(a[1]);return e&&JSON.parse(e)},vd=()=>{try{return GE()||$E()||JE()||WE()}catch(a){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${a}`);return}},t1=a=>{var e,i;return(i=(e=vd())==null?void 0:e.emulatorHosts)==null?void 0:i[a]},e1=a=>{const e=t1(a);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),r]:[e.substring(0,i),r]},J0=()=>{var a;return(a=vd())==null?void 0:a.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,r)=>{i?this.reject(i):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _d(a){try{return(a.startsWith("http://")||a.startsWith("https://")?new URL(a).hostname:a).endsWith(".cloudworkstations.dev")}catch{return!1}}async function i1(a){return(await fetch(a,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s1(a,e){if(a.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},r=e||"demo-project",o=a.iat||0,h=a.sub||a.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}},...a};return[ac(JSON.stringify(i)),ac(JSON.stringify(d)),""].join(".")}const to={};function a1(){const a={prod:[],emulator:[]};for(const e of Object.keys(to))to[e]?a.emulator.push(e):a.prod.push(e);return a}function r1(a){let e=document.getElementById(a),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",a),i=!0),{created:i,element:e}}let Ly=!1;function l1(a,e){if(typeof window>"u"||typeof document>"u"||!_d(window.location.host)||to[a]===e||to[a]||Ly)return;to[a]=e;function i(C){return`__firebase__banner__${C}`}const r="__firebase__banner",h=a1().prod.length>0;function d(){const C=document.getElementById(r);C&&C.remove()}function p(C){C.style.display="flex",C.style.background="#7faaf0",C.style.position="fixed",C.style.bottom="5px",C.style.left="5px",C.style.padding=".5em",C.style.borderRadius="5px",C.style.alignItems="center"}function g(C,U){C.setAttribute("width","24"),C.setAttribute("id",U),C.setAttribute("height","24"),C.setAttribute("viewBox","0 0 24 24"),C.setAttribute("fill","none"),C.style.marginLeft="-6px"}function v(){const C=document.createElement("span");return C.style.cursor="pointer",C.style.marginLeft="16px",C.style.fontSize="24px",C.innerHTML=" &times;",C.onclick=()=>{Ly=!0,d()},C}function T(C,U){C.setAttribute("id",U),C.innerText="Learn more",C.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",C.setAttribute("target","__blank"),C.style.paddingLeft="5px",C.style.textDecoration="underline"}function A(){const C=r1(r),U=i("text"),Z=document.getElementById(U)||document.createElement("span"),st=i("learnmore"),V=document.getElementById(st)||document.createElement("a"),H=i("preprendIcon"),G=document.getElementById(H)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(C.created){const Y=C.element;p(Y),T(V,st);const ut=v();g(G,H),Y.append(G,Z,V,ut),document.body.appendChild(Y)}h?(Z.innerText="Preview backend disconnected.",G.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(G.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,Z.innerText="Preview backend running in this workspace."),Z.setAttribute("id",U)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o1(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function u1(){var e;const a=(e=vd())==null?void 0:e.forceEnvironment;if(a==="node")return!0;if(a==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function c1(){return!u1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function h1(){try{return typeof indexedDB=="object"}catch{return!1}}function f1(){return new Promise((a,e)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(r),a(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{var h;e(((h=o.error)==null?void 0:h.message)||"")}}catch(i){e(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d1="FirebaseError";class Hr extends Error{constructor(e,i,r){super(i),this.code=e,this.customData=r,this.name=d1,Object.setPrototypeOf(this,Hr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,W0.prototype.create)}}class W0{constructor(e,i,r){this.service=e,this.serviceName=i,this.errors=r}create(e,...i){const r=i[0]||{},o=`${this.service}/${e}`,h=this.errors[e],d=h?m1(h,r):"Error",p=`${this.serviceName}: ${d} (${o}).`;return new Hr(o,p,r)}}function m1(a,e){return a.replace(g1,(i,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const g1=/\{\$([^}]+)}/g;function rc(a,e){if(a===e)return!0;const i=Object.keys(a),r=Object.keys(e);for(const o of i){if(!r.includes(o))return!1;const h=a[o],d=e[o];if(ky(h)&&ky(d)){if(!rc(h,d))return!1}else if(h!==d)return!1}for(const o of r)if(!i.includes(o))return!1;return!0}function ky(a){return a!==null&&typeof a=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ro(a){return a&&a._delegate?a._delegate:a}class lo{constructor(e,i,r){this.name=e,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ia="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p1{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const r=new n1;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(v1(e))try{this.getOrInitializeService({instanceIdentifier:Ia})}catch{}for(const[i,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const h=this.getOrInitializeService({instanceIdentifier:o});r.resolve(h)}catch{}}}}clearInstance(e=Ia){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ia){return this.instances.has(e)}getOptions(e=Ia){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[h,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(h);r===p&&d.resolve(o)}return o}onInit(e,i){const r=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(r)??new Set;o.add(e),this.onInitCallbacks.set(r,o);const h=this.instances.get(r);return h&&e(h,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,i){const r=this.onInitCallbacks.get(i);if(r)for(const o of r)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:y1(e),options:i}),this.instances.set(e,r),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ia){return this.component?this.component.multipleInstances?e:Ia:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function y1(a){return a===Ia?void 0:a}function v1(a){return a.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _1{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new p1(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Wt;(function(a){a[a.DEBUG=0]="DEBUG",a[a.VERBOSE=1]="VERBOSE",a[a.INFO=2]="INFO",a[a.WARN=3]="WARN",a[a.ERROR=4]="ERROR",a[a.SILENT=5]="SILENT"})(Wt||(Wt={}));const b1={debug:Wt.DEBUG,verbose:Wt.VERBOSE,info:Wt.INFO,warn:Wt.WARN,error:Wt.ERROR,silent:Wt.SILENT},E1=Wt.INFO,T1={[Wt.DEBUG]:"log",[Wt.VERBOSE]:"log",[Wt.INFO]:"info",[Wt.WARN]:"warn",[Wt.ERROR]:"error"},x1=(a,e,...i)=>{if(e<a.logLevel)return;const r=new Date().toISOString(),o=T1[e];if(o)console[o](`[${r}]  ${a.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class tv{constructor(e){this.name=e,this._logLevel=E1,this._logHandler=x1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Wt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?b1[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Wt.DEBUG,...e),this._logHandler(this,Wt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Wt.VERBOSE,...e),this._logHandler(this,Wt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Wt.INFO,...e),this._logHandler(this,Wt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Wt.WARN,...e),this._logHandler(this,Wt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Wt.ERROR,...e),this._logHandler(this,Wt.ERROR,...e)}}const S1=(a,e)=>e.some(i=>a instanceof i);let zy,Uy;function A1(){return zy||(zy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function w1(){return Uy||(Uy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ev=new WeakMap,Yf=new WeakMap,nv=new WeakMap,zf=new WeakMap,bd=new WeakMap;function C1(a){const e=new Promise((i,r)=>{const o=()=>{a.removeEventListener("success",h),a.removeEventListener("error",d)},h=()=>{i(Fs(a.result)),o()},d=()=>{r(a.error),o()};a.addEventListener("success",h),a.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&ev.set(i,a)}).catch(()=>{}),bd.set(e,a),e}function R1(a){if(Yf.has(a))return;const e=new Promise((i,r)=>{const o=()=>{a.removeEventListener("complete",h),a.removeEventListener("error",d),a.removeEventListener("abort",d)},h=()=>{i(),o()},d=()=>{r(a.error||new DOMException("AbortError","AbortError")),o()};a.addEventListener("complete",h),a.addEventListener("error",d),a.addEventListener("abort",d)});Yf.set(a,e)}let Kf={get(a,e,i){if(a instanceof IDBTransaction){if(e==="done")return Yf.get(a);if(e==="objectStoreNames")return a.objectStoreNames||nv.get(a);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Fs(a[e])},set(a,e,i){return a[e]=i,!0},has(a,e){return a instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in a}};function I1(a){Kf=a(Kf)}function D1(a){return a===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const r=a.call(Uf(this),e,...i);return nv.set(r,e.sort?e.sort():[e]),Fs(r)}:w1().includes(a)?function(...e){return a.apply(Uf(this),e),Fs(ev.get(this))}:function(...e){return Fs(a.apply(Uf(this),e))}}function N1(a){return typeof a=="function"?D1(a):(a instanceof IDBTransaction&&R1(a),S1(a,A1())?new Proxy(a,Kf):a)}function Fs(a){if(a instanceof IDBRequest)return C1(a);if(zf.has(a))return zf.get(a);const e=N1(a);return e!==a&&(zf.set(a,e),bd.set(e,a)),e}const Uf=a=>bd.get(a);function V1(a,e,{blocked:i,upgrade:r,blocking:o,terminated:h}={}){const d=indexedDB.open(a,e),p=Fs(d);return r&&d.addEventListener("upgradeneeded",g=>{r(Fs(d.result),g.oldVersion,g.newVersion,Fs(d.transaction),g)}),i&&d.addEventListener("blocked",g=>i(g.oldVersion,g.newVersion,g)),p.then(g=>{h&&g.addEventListener("close",()=>h()),o&&g.addEventListener("versionchange",v=>o(v.oldVersion,v.newVersion,v))}).catch(()=>{}),p}const O1=["get","getKey","getAll","getAllKeys","count"],M1=["put","add","delete","clear"],Bf=new Map;function By(a,e){if(!(a instanceof IDBDatabase&&!(e in a)&&typeof e=="string"))return;if(Bf.get(e))return Bf.get(e);const i=e.replace(/FromIndex$/,""),r=e!==i,o=M1.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!(o||O1.includes(i)))return;const h=async function(d,...p){const g=this.transaction(d,o?"readwrite":"readonly");let v=g.store;return r&&(v=v.index(p.shift())),(await Promise.all([v[i](...p),o&&g.done]))[0]};return Bf.set(e,h),h}I1(a=>({...a,get:(e,i,r)=>By(e,i)||a.get(e,i,r),has:(e,i)=>!!By(e,i)||a.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j1{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(L1(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(i=>i).join(" ")}}function L1(a){const e=a.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Xf="@firebase/app",Py="0.14.7";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ls=new tv("@firebase/app"),k1="@firebase/app-compat",z1="@firebase/analytics-compat",U1="@firebase/analytics",B1="@firebase/app-check-compat",P1="@firebase/app-check",q1="@firebase/auth",H1="@firebase/auth-compat",F1="@firebase/database",G1="@firebase/data-connect",Q1="@firebase/database-compat",Y1="@firebase/functions",K1="@firebase/functions-compat",X1="@firebase/installations",Z1="@firebase/installations-compat",$1="@firebase/messaging",J1="@firebase/messaging-compat",W1="@firebase/performance",tT="@firebase/performance-compat",eT="@firebase/remote-config",nT="@firebase/remote-config-compat",iT="@firebase/storage",sT="@firebase/storage-compat",aT="@firebase/firestore",rT="@firebase/ai",lT="@firebase/firestore-compat",oT="firebase",uT="12.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zf="[DEFAULT]",cT={[Xf]:"fire-core",[k1]:"fire-core-compat",[U1]:"fire-analytics",[z1]:"fire-analytics-compat",[P1]:"fire-app-check",[B1]:"fire-app-check-compat",[q1]:"fire-auth",[H1]:"fire-auth-compat",[F1]:"fire-rtdb",[G1]:"fire-data-connect",[Q1]:"fire-rtdb-compat",[Y1]:"fire-fn",[K1]:"fire-fn-compat",[X1]:"fire-iid",[Z1]:"fire-iid-compat",[$1]:"fire-fcm",[J1]:"fire-fcm-compat",[W1]:"fire-perf",[tT]:"fire-perf-compat",[eT]:"fire-rc",[nT]:"fire-rc-compat",[iT]:"fire-gcs",[sT]:"fire-gcs-compat",[aT]:"fire-fst",[lT]:"fire-fst-compat",[rT]:"fire-vertex","fire-js":"fire-js",[oT]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lc=new Map,hT=new Map,$f=new Map;function qy(a,e){try{a.container.addComponent(e)}catch(i){ls.debug(`Component ${e.name} failed to register with FirebaseApp ${a.name}`,i)}}function oc(a){const e=a.name;if($f.has(e))return ls.debug(`There were multiple attempts to register component ${e}.`),!1;$f.set(e,a);for(const i of lc.values())qy(i,a);for(const i of hT.values())qy(i,a);return!0}function fT(a,e){const i=a.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),a.container.getProvider(e)}function dT(a){return a==null?!1:a.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mT={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Gs=new W0("app","Firebase",mT);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gT{constructor(e,i,r){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new lo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Gs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pT=uT;function iv(a,e={}){let i=a;typeof e!="object"&&(e={name:e});const r={name:Zf,automaticDataCollectionEnabled:!0,...e},o=r.name;if(typeof o!="string"||!o)throw Gs.create("bad-app-name",{appName:String(o)});if(i||(i=J0()),!i)throw Gs.create("no-options");const h=lc.get(o);if(h){if(rc(i,h.options)&&rc(r,h.config))return h;throw Gs.create("duplicate-app",{appName:o})}const d=new _1(o);for(const g of $f.values())d.addComponent(g);const p=new gT(i,r,d);return lc.set(o,p),p}function yT(a=Zf){const e=lc.get(a);if(!e&&a===Zf&&J0())return iv();if(!e)throw Gs.create("no-app",{appName:a});return e}function Or(a,e,i){let r=cT[a]??a;i&&(r+=`-${i}`);const o=r.match(/\s|\//),h=e.match(/\s|\//);if(o||h){const d=[`Unable to register library "${r}" with version "${e}":`];o&&d.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&h&&d.push("and"),h&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ls.warn(d.join(" "));return}oc(new lo(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vT="firebase-heartbeat-database",_T=1,oo="firebase-heartbeat-store";let Pf=null;function sv(){return Pf||(Pf=V1(vT,_T,{upgrade:(a,e)=>{switch(e){case 0:try{a.createObjectStore(oo)}catch(i){console.warn(i)}}}}).catch(a=>{throw Gs.create("idb-open",{originalErrorMessage:a.message})})),Pf}async function bT(a){try{const i=(await sv()).transaction(oo),r=await i.objectStore(oo).get(av(a));return await i.done,r}catch(e){if(e instanceof Hr)ls.warn(e.message);else{const i=Gs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ls.warn(i.message)}}}async function Hy(a,e){try{const r=(await sv()).transaction(oo,"readwrite");await r.objectStore(oo).put(e,av(a)),await r.done}catch(i){if(i instanceof Hr)ls.warn(i.message);else{const r=Gs.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});ls.warn(r.message)}}}function av(a){return`${a.name}!${a.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ET=1024,TT=30;class xT{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new AT(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,i;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),h=Fy();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)==null?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===h||this._heartbeatsCache.heartbeats.some(d=>d.date===h))return;if(this._heartbeatsCache.heartbeats.push({date:h,agent:o}),this._heartbeatsCache.heartbeats.length>TT){const d=wT(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){ls.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=Fy(),{heartbeatsToSend:r,unsentEntries:o}=ST(this._heartbeatsCache.heartbeats),h=ac(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=i,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),h}catch(i){return ls.warn(i),""}}}function Fy(){return new Date().toISOString().substring(0,10)}function ST(a,e=ET){const i=[];let r=a.slice();for(const o of a){const h=i.find(d=>d.agent===o.agent);if(h){if(h.dates.push(o.date),Gy(i)>e){h.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),Gy(i)>e){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}class AT{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return h1()?f1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await bT(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Hy(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Hy(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Gy(a){return ac(JSON.stringify({version:2,heartbeats:a})).length}function wT(a){if(a.length===0)return-1;let e=0,i=a[0].date;for(let r=1;r<a.length;r++)a[r].date<i&&(i=a[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CT(a){oc(new lo("platform-logger",e=>new j1(e),"PRIVATE")),oc(new lo("heartbeat",e=>new xT(e),"PRIVATE")),Or(Xf,Py,a),Or(Xf,Py,"esm2020"),Or("fire-js","")}CT("");var Qy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Qs,rv;(function(){var a;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(R,w){function I(){}I.prototype=w.prototype,R.F=w.prototype,R.prototype=new I,R.prototype.constructor=R,R.D=function(j,N,k){for(var S=Array(arguments.length-2),Pt=2;Pt<arguments.length;Pt++)S[Pt-2]=arguments[Pt];return w.prototype[N].apply(j,S)}}function i(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,i),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(R,w,I){I||(I=0);const j=Array(16);if(typeof w=="string")for(var N=0;N<16;++N)j[N]=w.charCodeAt(I++)|w.charCodeAt(I++)<<8|w.charCodeAt(I++)<<16|w.charCodeAt(I++)<<24;else for(N=0;N<16;++N)j[N]=w[I++]|w[I++]<<8|w[I++]<<16|w[I++]<<24;w=R.g[0],I=R.g[1],N=R.g[2];let k=R.g[3],S;S=w+(k^I&(N^k))+j[0]+3614090360&4294967295,w=I+(S<<7&4294967295|S>>>25),S=k+(N^w&(I^N))+j[1]+3905402710&4294967295,k=w+(S<<12&4294967295|S>>>20),S=N+(I^k&(w^I))+j[2]+606105819&4294967295,N=k+(S<<17&4294967295|S>>>15),S=I+(w^N&(k^w))+j[3]+3250441966&4294967295,I=N+(S<<22&4294967295|S>>>10),S=w+(k^I&(N^k))+j[4]+4118548399&4294967295,w=I+(S<<7&4294967295|S>>>25),S=k+(N^w&(I^N))+j[5]+1200080426&4294967295,k=w+(S<<12&4294967295|S>>>20),S=N+(I^k&(w^I))+j[6]+2821735955&4294967295,N=k+(S<<17&4294967295|S>>>15),S=I+(w^N&(k^w))+j[7]+4249261313&4294967295,I=N+(S<<22&4294967295|S>>>10),S=w+(k^I&(N^k))+j[8]+1770035416&4294967295,w=I+(S<<7&4294967295|S>>>25),S=k+(N^w&(I^N))+j[9]+2336552879&4294967295,k=w+(S<<12&4294967295|S>>>20),S=N+(I^k&(w^I))+j[10]+4294925233&4294967295,N=k+(S<<17&4294967295|S>>>15),S=I+(w^N&(k^w))+j[11]+2304563134&4294967295,I=N+(S<<22&4294967295|S>>>10),S=w+(k^I&(N^k))+j[12]+1804603682&4294967295,w=I+(S<<7&4294967295|S>>>25),S=k+(N^w&(I^N))+j[13]+4254626195&4294967295,k=w+(S<<12&4294967295|S>>>20),S=N+(I^k&(w^I))+j[14]+2792965006&4294967295,N=k+(S<<17&4294967295|S>>>15),S=I+(w^N&(k^w))+j[15]+1236535329&4294967295,I=N+(S<<22&4294967295|S>>>10),S=w+(N^k&(I^N))+j[1]+4129170786&4294967295,w=I+(S<<5&4294967295|S>>>27),S=k+(I^N&(w^I))+j[6]+3225465664&4294967295,k=w+(S<<9&4294967295|S>>>23),S=N+(w^I&(k^w))+j[11]+643717713&4294967295,N=k+(S<<14&4294967295|S>>>18),S=I+(k^w&(N^k))+j[0]+3921069994&4294967295,I=N+(S<<20&4294967295|S>>>12),S=w+(N^k&(I^N))+j[5]+3593408605&4294967295,w=I+(S<<5&4294967295|S>>>27),S=k+(I^N&(w^I))+j[10]+38016083&4294967295,k=w+(S<<9&4294967295|S>>>23),S=N+(w^I&(k^w))+j[15]+3634488961&4294967295,N=k+(S<<14&4294967295|S>>>18),S=I+(k^w&(N^k))+j[4]+3889429448&4294967295,I=N+(S<<20&4294967295|S>>>12),S=w+(N^k&(I^N))+j[9]+568446438&4294967295,w=I+(S<<5&4294967295|S>>>27),S=k+(I^N&(w^I))+j[14]+3275163606&4294967295,k=w+(S<<9&4294967295|S>>>23),S=N+(w^I&(k^w))+j[3]+4107603335&4294967295,N=k+(S<<14&4294967295|S>>>18),S=I+(k^w&(N^k))+j[8]+1163531501&4294967295,I=N+(S<<20&4294967295|S>>>12),S=w+(N^k&(I^N))+j[13]+2850285829&4294967295,w=I+(S<<5&4294967295|S>>>27),S=k+(I^N&(w^I))+j[2]+4243563512&4294967295,k=w+(S<<9&4294967295|S>>>23),S=N+(w^I&(k^w))+j[7]+1735328473&4294967295,N=k+(S<<14&4294967295|S>>>18),S=I+(k^w&(N^k))+j[12]+2368359562&4294967295,I=N+(S<<20&4294967295|S>>>12),S=w+(I^N^k)+j[5]+4294588738&4294967295,w=I+(S<<4&4294967295|S>>>28),S=k+(w^I^N)+j[8]+2272392833&4294967295,k=w+(S<<11&4294967295|S>>>21),S=N+(k^w^I)+j[11]+1839030562&4294967295,N=k+(S<<16&4294967295|S>>>16),S=I+(N^k^w)+j[14]+4259657740&4294967295,I=N+(S<<23&4294967295|S>>>9),S=w+(I^N^k)+j[1]+2763975236&4294967295,w=I+(S<<4&4294967295|S>>>28),S=k+(w^I^N)+j[4]+1272893353&4294967295,k=w+(S<<11&4294967295|S>>>21),S=N+(k^w^I)+j[7]+4139469664&4294967295,N=k+(S<<16&4294967295|S>>>16),S=I+(N^k^w)+j[10]+3200236656&4294967295,I=N+(S<<23&4294967295|S>>>9),S=w+(I^N^k)+j[13]+681279174&4294967295,w=I+(S<<4&4294967295|S>>>28),S=k+(w^I^N)+j[0]+3936430074&4294967295,k=w+(S<<11&4294967295|S>>>21),S=N+(k^w^I)+j[3]+3572445317&4294967295,N=k+(S<<16&4294967295|S>>>16),S=I+(N^k^w)+j[6]+76029189&4294967295,I=N+(S<<23&4294967295|S>>>9),S=w+(I^N^k)+j[9]+3654602809&4294967295,w=I+(S<<4&4294967295|S>>>28),S=k+(w^I^N)+j[12]+3873151461&4294967295,k=w+(S<<11&4294967295|S>>>21),S=N+(k^w^I)+j[15]+530742520&4294967295,N=k+(S<<16&4294967295|S>>>16),S=I+(N^k^w)+j[2]+3299628645&4294967295,I=N+(S<<23&4294967295|S>>>9),S=w+(N^(I|~k))+j[0]+4096336452&4294967295,w=I+(S<<6&4294967295|S>>>26),S=k+(I^(w|~N))+j[7]+1126891415&4294967295,k=w+(S<<10&4294967295|S>>>22),S=N+(w^(k|~I))+j[14]+2878612391&4294967295,N=k+(S<<15&4294967295|S>>>17),S=I+(k^(N|~w))+j[5]+4237533241&4294967295,I=N+(S<<21&4294967295|S>>>11),S=w+(N^(I|~k))+j[12]+1700485571&4294967295,w=I+(S<<6&4294967295|S>>>26),S=k+(I^(w|~N))+j[3]+2399980690&4294967295,k=w+(S<<10&4294967295|S>>>22),S=N+(w^(k|~I))+j[10]+4293915773&4294967295,N=k+(S<<15&4294967295|S>>>17),S=I+(k^(N|~w))+j[1]+2240044497&4294967295,I=N+(S<<21&4294967295|S>>>11),S=w+(N^(I|~k))+j[8]+1873313359&4294967295,w=I+(S<<6&4294967295|S>>>26),S=k+(I^(w|~N))+j[15]+4264355552&4294967295,k=w+(S<<10&4294967295|S>>>22),S=N+(w^(k|~I))+j[6]+2734768916&4294967295,N=k+(S<<15&4294967295|S>>>17),S=I+(k^(N|~w))+j[13]+1309151649&4294967295,I=N+(S<<21&4294967295|S>>>11),S=w+(N^(I|~k))+j[4]+4149444226&4294967295,w=I+(S<<6&4294967295|S>>>26),S=k+(I^(w|~N))+j[11]+3174756917&4294967295,k=w+(S<<10&4294967295|S>>>22),S=N+(w^(k|~I))+j[2]+718787259&4294967295,N=k+(S<<15&4294967295|S>>>17),S=I+(k^(N|~w))+j[9]+3951481745&4294967295,R.g[0]=R.g[0]+w&4294967295,R.g[1]=R.g[1]+(N+(S<<21&4294967295|S>>>11))&4294967295,R.g[2]=R.g[2]+N&4294967295,R.g[3]=R.g[3]+k&4294967295}r.prototype.v=function(R,w){w===void 0&&(w=R.length);const I=w-this.blockSize,j=this.C;let N=this.h,k=0;for(;k<w;){if(N==0)for(;k<=I;)o(this,R,k),k+=this.blockSize;if(typeof R=="string"){for(;k<w;)if(j[N++]=R.charCodeAt(k++),N==this.blockSize){o(this,j),N=0;break}}else for(;k<w;)if(j[N++]=R[k++],N==this.blockSize){o(this,j),N=0;break}}this.h=N,this.o+=w},r.prototype.A=function(){var R=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);R[0]=128;for(var w=1;w<R.length-8;++w)R[w]=0;w=this.o*8;for(var I=R.length-8;I<R.length;++I)R[I]=w&255,w/=256;for(this.v(R),R=Array(16),w=0,I=0;I<4;++I)for(let j=0;j<32;j+=8)R[w++]=this.g[I]>>>j&255;return R};function h(R,w){var I=p;return Object.prototype.hasOwnProperty.call(I,R)?I[R]:I[R]=w(R)}function d(R,w){this.h=w;const I=[];let j=!0;for(let N=R.length-1;N>=0;N--){const k=R[N]|0;j&&k==w||(I[N]=k,j=!1)}this.g=I}var p={};function g(R){return-128<=R&&R<128?h(R,function(w){return new d([w|0],w<0?-1:0)}):new d([R|0],R<0?-1:0)}function v(R){if(isNaN(R)||!isFinite(R))return A;if(R<0)return V(v(-R));const w=[];let I=1;for(let j=0;R>=I;j++)w[j]=R/I|0,I*=4294967296;return new d(w,0)}function T(R,w){if(R.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(R.charAt(0)=="-")return V(T(R.substring(1),w));if(R.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=v(Math.pow(w,8));let j=A;for(let k=0;k<R.length;k+=8){var N=Math.min(8,R.length-k);const S=parseInt(R.substring(k,k+N),w);N<8?(N=v(Math.pow(w,N)),j=j.j(N).add(v(S))):(j=j.j(I),j=j.add(v(S)))}return j}var A=g(0),C=g(1),U=g(16777216);a=d.prototype,a.m=function(){if(st(this))return-V(this).m();let R=0,w=1;for(let I=0;I<this.g.length;I++){const j=this.i(I);R+=(j>=0?j:4294967296+j)*w,w*=4294967296}return R},a.toString=function(R){if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(Z(this))return"0";if(st(this))return"-"+V(this).toString(R);const w=v(Math.pow(R,6));var I=this;let j="";for(;;){const N=ut(I,w).g;I=H(I,N.j(w));let k=((I.g.length>0?I.g[0]:I.h)>>>0).toString(R);if(I=N,Z(I))return k+j;for(;k.length<6;)k="0"+k;j=k+j}},a.i=function(R){return R<0?0:R<this.g.length?this.g[R]:this.h};function Z(R){if(R.h!=0)return!1;for(let w=0;w<R.g.length;w++)if(R.g[w]!=0)return!1;return!0}function st(R){return R.h==-1}a.l=function(R){return R=H(this,R),st(R)?-1:Z(R)?0:1};function V(R){const w=R.g.length,I=[];for(let j=0;j<w;j++)I[j]=~R.g[j];return new d(I,~R.h).add(C)}a.abs=function(){return st(this)?V(this):this},a.add=function(R){const w=Math.max(this.g.length,R.g.length),I=[];let j=0;for(let N=0;N<=w;N++){let k=j+(this.i(N)&65535)+(R.i(N)&65535),S=(k>>>16)+(this.i(N)>>>16)+(R.i(N)>>>16);j=S>>>16,k&=65535,S&=65535,I[N]=S<<16|k}return new d(I,I[I.length-1]&-2147483648?-1:0)};function H(R,w){return R.add(V(w))}a.j=function(R){if(Z(this)||Z(R))return A;if(st(this))return st(R)?V(this).j(V(R)):V(V(this).j(R));if(st(R))return V(this.j(V(R)));if(this.l(U)<0&&R.l(U)<0)return v(this.m()*R.m());const w=this.g.length+R.g.length,I=[];for(var j=0;j<2*w;j++)I[j]=0;for(j=0;j<this.g.length;j++)for(let N=0;N<R.g.length;N++){const k=this.i(j)>>>16,S=this.i(j)&65535,Pt=R.i(N)>>>16,ne=R.i(N)&65535;I[2*j+2*N]+=S*ne,G(I,2*j+2*N),I[2*j+2*N+1]+=k*ne,G(I,2*j+2*N+1),I[2*j+2*N+1]+=S*Pt,G(I,2*j+2*N+1),I[2*j+2*N+2]+=k*Pt,G(I,2*j+2*N+2)}for(R=0;R<w;R++)I[R]=I[2*R+1]<<16|I[2*R];for(R=w;R<2*w;R++)I[R]=0;return new d(I,0)};function G(R,w){for(;(R[w]&65535)!=R[w];)R[w+1]+=R[w]>>>16,R[w]&=65535,w++}function Y(R,w){this.g=R,this.h=w}function ut(R,w){if(Z(w))throw Error("division by zero");if(Z(R))return new Y(A,A);if(st(R))return w=ut(V(R),w),new Y(V(w.g),V(w.h));if(st(w))return w=ut(R,V(w)),new Y(V(w.g),w.h);if(R.g.length>30){if(st(R)||st(w))throw Error("slowDivide_ only works with positive integers.");for(var I=C,j=w;j.l(R)<=0;)I=yt(I),j=yt(j);var N=xt(I,1),k=xt(j,1);for(j=xt(j,2),I=xt(I,2);!Z(j);){var S=k.add(j);S.l(R)<=0&&(N=N.add(I),k=S),j=xt(j,1),I=xt(I,1)}return w=H(R,N.j(w)),new Y(N,w)}for(N=A;R.l(w)>=0;){for(I=Math.max(1,Math.floor(R.m()/w.m())),j=Math.ceil(Math.log(I)/Math.LN2),j=j<=48?1:Math.pow(2,j-48),k=v(I),S=k.j(w);st(S)||S.l(R)>0;)I-=j,k=v(I),S=k.j(w);Z(k)&&(k=C),N=N.add(k),R=H(R,S)}return new Y(N,R)}a.B=function(R){return ut(this,R).h},a.and=function(R){const w=Math.max(this.g.length,R.g.length),I=[];for(let j=0;j<w;j++)I[j]=this.i(j)&R.i(j);return new d(I,this.h&R.h)},a.or=function(R){const w=Math.max(this.g.length,R.g.length),I=[];for(let j=0;j<w;j++)I[j]=this.i(j)|R.i(j);return new d(I,this.h|R.h)},a.xor=function(R){const w=Math.max(this.g.length,R.g.length),I=[];for(let j=0;j<w;j++)I[j]=this.i(j)^R.i(j);return new d(I,this.h^R.h)};function yt(R){const w=R.g.length+1,I=[];for(let j=0;j<w;j++)I[j]=R.i(j)<<1|R.i(j-1)>>>31;return new d(I,R.h)}function xt(R,w){const I=w>>5;w%=32;const j=R.g.length-I,N=[];for(let k=0;k<j;k++)N[k]=w>0?R.i(k+I)>>>w|R.i(k+I+1)<<32-w:R.i(k+I);return new d(N,R.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,rv=r,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=v,d.fromString=T,Qs=d}).apply(typeof Qy<"u"?Qy:typeof self<"u"?self:typeof window<"u"?window:{});var Gu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var lv,Zl,ov,$u,Jf,uv,cv,hv;(function(){var a,e=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Gu=="object"&&Gu];for(var m=0;m<u.length;++m){var _=u[m];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var r=i(this);function o(u,m){if(m)t:{var _=r;u=u.split(".");for(var x=0;x<u.length-1;x++){var B=u[x];if(!(B in _))break t;_=_[B]}u=u[u.length-1],x=_[u],m=m(x),m!=x&&m!=null&&e(_,u,{configurable:!0,writable:!0,value:m})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(m){var _=[],x;for(x in m)Object.prototype.hasOwnProperty.call(m,x)&&_.push([x,m[x]]);return _}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},d=this||self;function p(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function g(u,m,_){return u.call.apply(u.bind,arguments)}function v(u,m,_){return v=g,v.apply(null,arguments)}function T(u,m){var _=Array.prototype.slice.call(arguments,1);return function(){var x=_.slice();return x.push.apply(x,arguments),u.apply(this,x)}}function A(u,m){function _(){}_.prototype=m.prototype,u.Z=m.prototype,u.prototype=new _,u.prototype.constructor=u,u.Ob=function(x,B,K){for(var ft=Array(arguments.length-2),kt=2;kt<arguments.length;kt++)ft[kt-2]=arguments[kt];return m.prototype[B].apply(x,ft)}}var C=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function U(u){const m=u.length;if(m>0){const _=Array(m);for(let x=0;x<m;x++)_[x]=u[x];return _}return[]}function Z(u,m){for(let x=1;x<arguments.length;x++){const B=arguments[x];var _=typeof B;if(_=_!="object"?_:B?Array.isArray(B)?"array":_:"null",_=="array"||_=="object"&&typeof B.length=="number"){_=u.length||0;const K=B.length||0;u.length=_+K;for(let ft=0;ft<K;ft++)u[_+ft]=B[ft]}else u.push(B)}}class st{constructor(m,_){this.i=m,this.j=_,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function V(u){d.setTimeout(()=>{throw u},0)}function H(){var u=R;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class G{constructor(){this.h=this.g=null}add(m,_){const x=Y.get();x.set(m,_),this.h?this.h.next=x:this.g=x,this.h=x}}var Y=new st(()=>new ut,u=>u.reset());class ut{constructor(){this.next=this.g=this.h=null}set(m,_){this.h=m,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let yt,xt=!1,R=new G,w=()=>{const u=Promise.resolve(void 0);yt=()=>{u.then(I)}};function I(){for(var u;u=H();){try{u.h.call(u.g)}catch(_){V(_)}var m=Y;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}xt=!1}function j(){this.u=this.u,this.C=this.C}j.prototype.u=!1,j.prototype.dispose=function(){this.u||(this.u=!0,this.N())},j.prototype[Symbol.dispose]=function(){this.dispose()},j.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var k=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const _=()=>{};d.addEventListener("test",_,m),d.removeEventListener("test",_,m)}catch{}return u})();function S(u){return/^[\s\xa0]*$/.test(u)}function Pt(u,m){N.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}A(Pt,N),Pt.prototype.init=function(u,m){const _=this.type=u.type,x=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(_=="mouseover"?m=u.fromElement:_=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,x?(this.clientX=x.clientX!==void 0?x.clientX:x.pageX,this.clientY=x.clientY!==void 0?x.clientY:x.pageY,this.screenX=x.screenX||0,this.screenY=x.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&Pt.Z.h.call(this)},Pt.prototype.h=function(){Pt.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var ne="closure_listenable_"+(Math.random()*1e6|0),J=0;function ht(u,m,_,x,B){this.listener=u,this.proxy=null,this.src=m,this.type=_,this.capture=!!x,this.ha=B,this.key=++J,this.da=this.fa=!1}function At(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Bt(u,m,_){for(const x in u)m.call(_,u[x],x,u)}function qt(u,m){for(const _ in u)m.call(void 0,u[_],_,u)}function O(u){const m={};for(const _ in u)m[_]=u[_];return m}const et="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function dt(u,m){let _,x;for(let B=1;B<arguments.length;B++){x=arguments[B];for(_ in x)u[_]=x[_];for(let K=0;K<et.length;K++)_=et[K],Object.prototype.hasOwnProperty.call(x,_)&&(u[_]=x[_])}}function vt(u){this.src=u,this.g={},this.h=0}vt.prototype.add=function(u,m,_,x,B){const K=u.toString();u=this.g[K],u||(u=this.g[K]=[],this.h++);const ft=ot(u,m,x,B);return ft>-1?(m=u[ft],_||(m.fa=!1)):(m=new ht(m,this.src,K,!!x,B),m.fa=_,u.push(m)),m};function F(u,m){const _=m.type;if(_ in u.g){var x=u.g[_],B=Array.prototype.indexOf.call(x,m,void 0),K;(K=B>=0)&&Array.prototype.splice.call(x,B,1),K&&(At(m),u.g[_].length==0&&(delete u.g[_],u.h--))}}function ot(u,m,_,x){for(let B=0;B<u.length;++B){const K=u[B];if(!K.da&&K.listener==m&&K.capture==!!_&&K.ha==x)return B}return-1}var mt="closure_lm_"+(Math.random()*1e6|0),It={};function ct(u,m,_,x,B){if(Array.isArray(m)){for(let K=0;K<m.length;K++)ct(u,m[K],_,x,B);return null}return _=qn(_),u&&u[ne]?u.J(m,_,p(x)?!!x.capture:!1,B):Le(u,m,_,!1,x,B)}function Le(u,m,_,x,B,K){if(!m)throw Error("Invalid event type");const ft=p(B)?!!B.capture:!!B;let kt=hn(u);if(kt||(u[mt]=kt=new vt(u)),_=kt.add(m,_,x,ft,K),_.proxy)return _;if(x=gt(),_.proxy=x,x.src=u,x.listener=_,u.addEventListener)k||(B=ft),B===void 0&&(B=!1),u.addEventListener(m.toString(),x,B);else if(u.attachEvent)u.attachEvent(ce(m.toString()),x);else if(u.addListener&&u.removeListener)u.addListener(x);else throw Error("addEventListener and attachEvent are unavailable.");return _}function gt(){function u(_){return m.call(u.src,u.listener,_)}const m=vn;return u}function Ct(u,m,_,x,B){if(Array.isArray(m))for(var K=0;K<m.length;K++)Ct(u,m[K],_,x,B);else x=p(x)?!!x.capture:!!x,_=qn(_),u&&u[ne]?(u=u.i,K=String(m).toString(),K in u.g&&(m=u.g[K],_=ot(m,_,x,B),_>-1&&(At(m[_]),Array.prototype.splice.call(m,_,1),m.length==0&&(delete u.g[K],u.h--)))):u&&(u=hn(u))&&(m=u.g[m.toString()],u=-1,m&&(u=ot(m,_,x,B)),(_=u>-1?m[u]:null)&&Zt(_))}function Zt(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[ne])F(m.i,u);else{var _=u.type,x=u.proxy;m.removeEventListener?m.removeEventListener(_,x,u.capture):m.detachEvent?m.detachEvent(ce(_),x):m.addListener&&m.removeListener&&m.removeListener(x),(_=hn(m))?(F(_,u),_.h==0&&(_.src=null,m[mt]=null)):At(u)}}}function ce(u){return u in It?It[u]:It[u]="on"+u}function vn(u,m){if(u.da)u=!0;else{m=new Pt(m,this);const _=u.listener,x=u.ha||u.src;u.fa&&Zt(u),u=_.call(x,m)}return u}function hn(u){return u=u[mt],u instanceof vt?u:null}var fn="__closure_events_fn_"+(Math.random()*1e9>>>0);function qn(u){return typeof u=="function"?u:(u[fn]||(u[fn]=function(m){return u.handleEvent(m)}),u[fn])}function ve(){j.call(this),this.i=new vt(this),this.M=this,this.G=null}A(ve,j),ve.prototype[ne]=!0,ve.prototype.removeEventListener=function(u,m,_,x){Ct(this,u,m,_,x)};function _e(u,m){var _,x=u.G;if(x)for(_=[];x;x=x.G)_.push(x);if(u=u.M,x=m.type||m,typeof m=="string")m=new N(m,u);else if(m instanceof N)m.target=m.target||u;else{var B=m;m=new N(x,u),dt(m,B)}B=!0;let K,ft;if(_)for(ft=_.length-1;ft>=0;ft--)K=m.g=_[ft],B=xn(K,x,!0,m)&&B;if(K=m.g=u,B=xn(K,x,!0,m)&&B,B=xn(K,x,!1,m)&&B,_)for(ft=0;ft<_.length;ft++)K=m.g=_[ft],B=xn(K,x,!1,m)&&B}ve.prototype.N=function(){if(ve.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const _=u.g[m];for(let x=0;x<_.length;x++)At(_[x]);delete u.g[m],u.h--}}this.G=null},ve.prototype.J=function(u,m,_,x){return this.i.add(String(u),m,!1,_,x)},ve.prototype.K=function(u,m,_,x){return this.i.add(String(u),m,!0,_,x)};function xn(u,m,_,x){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let B=!0;for(let K=0;K<m.length;++K){const ft=m[K];if(ft&&!ft.da&&ft.capture==_){const kt=ft.listener,Ve=ft.ha||ft.src;ft.fa&&F(u.i,ft),B=kt.call(Ve,x)!==!1&&B}}return B&&!x.defaultPrevented}function za(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=v(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function Ua(u){u.g=za(()=>{u.g=null,u.i&&(u.i=!1,Ua(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class $e extends j{constructor(m,_){super(),this.m=m,this.l=_,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Ua(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Pi(u){j.call(this),this.h=u,this.g={}}A(Pi,j);var ea=[];function na(u){Bt(u.g,function(m,_){this.g.hasOwnProperty(_)&&Zt(m)},u),u.g={}}Pi.prototype.N=function(){Pi.Z.N.call(this),na(this)},Pi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var _n=d.JSON.stringify,Ba=d.JSON.parse,ia=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function L(){}function $(){}var tt={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function _t(){N.call(this,"d")}A(_t,N);function Ot(){N.call(this,"c")}A(Ot,N);var Tt={},ge=null;function we(){return ge=ge||new ve}Tt.Ia="serverreachability";function Hn(u){N.call(this,Tt.Ia,u)}A(Hn,N);function xe(u){const m=we();_e(m,new Hn(m))}Tt.STAT_EVENT="statevent";function Fn(u,m){N.call(this,Tt.STAT_EVENT,u),this.stat=m}A(Fn,N);function re(u){const m=we();_e(m,new Fn(m,u))}Tt.Ja="timingevent";function en(u,m){N.call(this,Tt.Ja,u),this.size=m}A(en,N);function pt(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function dn(){this.g=!0}dn.prototype.ua=function(){this.g=!1};function Pa(u,m,_,x,B,K){u.info(function(){if(u.g)if(K){var ft="",kt=K.split("&");for(let ie=0;ie<kt.length;ie++){var Ve=kt[ie].split("=");if(Ve.length>1){const Se=Ve[0];Ve=Ve[1];const Kn=Se.split("_");ft=Kn.length>=2&&Kn[1]=="type"?ft+(Se+"="+Ve+"&"):ft+(Se+"=redacted&")}}}else ft=null;else ft=K;return"XMLHTTP REQ ("+x+") [attempt "+B+"]: "+m+`
`+_+`
`+ft})}function sa(u,m,_,x,B,K,ft){u.info(function(){return"XMLHTTP RESP ("+x+") [ attempt "+B+"]: "+m+`
`+_+`
`+K+" "+ft})}function Vn(u,m,_,x){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+qa(u,_)+(x?" "+x:"")})}function gi(u,m){u.info(function(){return"TIMEOUT: "+m})}dn.prototype.info=function(){};function qa(u,m){if(!u.g)return m;if(!m)return null;try{const K=JSON.parse(m);if(K){for(u=0;u<K.length;u++)if(Array.isArray(K[u])){var _=K[u];if(!(_.length<2)){var x=_[1];if(Array.isArray(x)&&!(x.length<1)){var B=x[0];if(B!="noop"&&B!="stop"&&B!="close")for(let ft=1;ft<x.length;ft++)x[ft]=""}}}}return _n(K)}catch{return m}}var pi={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},cs={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},hs;function yi(){}A(yi,L),yi.prototype.g=function(){return new XMLHttpRequest},hs=new yi;function ke(u){return encodeURIComponent(String(u))}function bn(u){var m=1;u=u.split(":");const _=[];for(;m>0&&u.length;)_.push(u.shift()),m--;return u.length&&_.push(u.join(":")),_}function $t(u,m,_,x){this.j=u,this.i=m,this.l=_,this.S=x||1,this.V=new Pi(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Ie}function Ie(){this.i=null,this.g="",this.h=!1}var pe={},ze={};function vi(u,m,_){u.M=1,u.A=aa(Be(m)),u.u=_,u.R=!0,Ha(u,null)}function Ha(u,m){u.F=Date.now(),_i(u),u.B=Be(u.A);var _=u.B,x=u.S;Array.isArray(x)||(x=[String(x)]),Ya(_.i,"t",x),u.C=0,_=u.j.L,u.h=new Ie,u.g=zo(u.j,_?m:null,!u.u),u.P>0&&(u.O=new $e(v(u.Y,u,u.g),u.P)),m=u.V,_=u.g,x=u.ba;var B="readystatechange";Array.isArray(B)||(B&&(ea[0]=B.toString()),B=ea);for(let K=0;K<B.length;K++){const ft=ct(_,B[K],x||m.handleEvent,!1,m.h||m);if(!ft)break;m.g[ft.key]=ft}m=u.J?O(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),xe(),Pa(u.i,u.v,u.B,u.l,u.S,u.u)}$t.prototype.ba=function(u){u=u.target;const m=this.O;m&&li(u)==3?m.j():this.Y(u)},$t.prototype.Y=function(u){try{if(u==this.g)t:{const kt=li(this.g),Ve=this.g.ya(),ie=this.g.ca();if(!(kt<3)&&(kt!=3||this.g&&(this.h.h||this.g.la()||nn(this.g)))){this.K||kt!=4||Ve==7||(Ve==8||ie<=0?xe(3):xe(2)),bi(this);var m=this.g.ca();this.X=m;var _=jc(this);if(this.o=m==200,sa(this.i,this.v,this.B,this.l,this.S,kt,m),this.o){if(this.U&&!this.L){e:{if(this.g){var x,B=this.g;if((x=B.g?B.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!S(x)){var K=x;break e}}K=null}if(u=K)Vn(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ei(this,u);else{this.o=!1,this.m=3,re(12),On(this),Gn(this);break t}}if(this.R){u=!0;let Se;for(;!this.K&&this.C<_.length;)if(Se=Ao(this,_),Se==ze){kt==4&&(this.m=4,re(14),u=!1),Vn(this.i,this.l,null,"[Incomplete Response]");break}else if(Se==pe){this.m=4,re(15),Vn(this.i,this.l,_,"[Invalid Chunk]"),u=!1;break}else Vn(this.i,this.l,Se,null),Ei(this,Se);if(So(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),kt!=4||_.length!=0||this.h.h||(this.m=1,re(16),u=!1),this.o=this.o&&u,!u)Vn(this.i,this.l,_,"[Invalid Chunked Response]"),On(this),Gn(this);else if(_.length>0&&!this.W){this.W=!0;var ft=this.j;ft.g==this&&ft.aa&&!ft.P&&(ft.j.info("Great, no buffering proxy detected. Bytes received: "+_.length),ol(ft),ft.P=!0,re(11))}}else Vn(this.i,this.l,_,null),Ei(this,_);kt==4&&On(this),this.o&&!this.K&&(kt==4?Mo(this.j,this):(this.o=!1,_i(this)))}else Hi(this.g),m==400&&_.indexOf("Unknown SID")>0?(this.m=3,re(12)):(this.m=0,re(13)),On(this),Gn(this)}}}catch{}finally{}};function jc(u){if(!So(u))return u.g.la();const m=nn(u.g);if(m==="")return"";let _="";const x=m.length,B=li(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return On(u),Gn(u),"";u.h.i=new d.TextDecoder}for(let K=0;K<x;K++)u.h.h=!0,_+=u.h.i.decode(m[K],{stream:!(B&&K==x-1)});return m.length=0,u.h.g+=_,u.C=0,u.h.g}function So(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function Ao(u,m){var _=u.C,x=m.indexOf(`
`,_);return x==-1?ze:(_=Number(m.substring(_,x)),isNaN(_)?pe:(x+=1,x+_>m.length?ze:(m=m.slice(x,x+_),u.C=x+_,m)))}$t.prototype.cancel=function(){this.K=!0,On(this)};function _i(u){u.T=Date.now()+u.H,Fa(u,u.H)}function Fa(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=pt(v(u.aa,u),m)}function bi(u){u.D&&(d.clearTimeout(u.D),u.D=null)}$t.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(gi(this.i,this.B),this.M!=2&&(xe(),re(17)),On(this),this.m=2,Gn(this)):Fa(this,this.T-u)};function Gn(u){u.j.I==0||u.K||Mo(u.j,u)}function On(u){bi(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,na(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function Ei(u,m){try{var _=u.j;if(_.I!=0&&(_.g==u||xi(_.h,u))){if(!u.L&&xi(_.h,u)&&_.I==3){try{var x=_.Ba.g.parse(m)}catch{x=null}if(Array.isArray(x)&&x.length==3){var B=x;if(B[0]==0){t:if(!_.v){if(_.g)if(_.g.F+3e3<u.F)Ja(_),_s(_);else break t;fa(_),re(18)}}else _.xa=B[1],0<_.xa-_.K&&B[2]<37500&&_.F&&_.A==0&&!_.C&&(_.C=pt(v(_.Va,_),6e3));Ti(_.h)<=1&&_.ta&&(_.ta=void 0)}else Ii(_,11)}else if((u.L||_.g==u)&&Ja(_),!S(m))for(B=_.Ba.g.parse(m),m=0;m<B.length;m++){let ie=B[m];const Se=ie[0];if(!(Se<=_.K))if(_.K=Se,ie=ie[1],_.I==2)if(ie[0]=="c"){_.M=ie[1],_.ba=ie[2];const Kn=ie[3];Kn!=null&&(_.ka=Kn,_.j.info("VER="+_.ka));const Di=ie[4];Di!=null&&(_.za=Di,_.j.info("SVER="+_.za));const oi=ie[5];oi!=null&&typeof oi=="number"&&oi>0&&(x=1.5*oi,_.O=x,_.j.info("backChannelRequestTimeoutMs_="+x)),x=_;const ui=u.g;if(ui){const da=ui.g?ui.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(da){var K=x.h;K.g||da.indexOf("spdy")==-1&&da.indexOf("quic")==-1&&da.indexOf("h2")==-1||(K.j=K.l,K.g=new Set,K.h&&(Zr(K,K.h),K.h=null))}if(x.G){const Wa=ui.g?ui.g.getResponseHeader("X-HTTP-Session-Id"):null;Wa&&(x.wa=Wa,le(x.J,x.G,Wa))}}_.I=3,_.l&&_.l.ra(),_.aa&&(_.T=Date.now()-u.F,_.j.info("Handshake RTT: "+_.T+"ms")),x=_;var ft=u;if(x.na=ko(x,x.L?x.ba:null,x.W),ft.L){$r(x.h,ft);var kt=ft,Ve=x.O;Ve&&(kt.H=Ve),kt.D&&(bi(kt),_i(kt)),x.g=ft}else Vo(x);_.i.length>0&&Ri(_)}else ie[0]!="stop"&&ie[0]!="close"||Ii(_,7);else _.I==3&&(ie[0]=="stop"||ie[0]=="close"?ie[0]=="stop"?Ii(_,7):rl(_):ie[0]!="noop"&&_.l&&_.l.qa(ie),_.A=0)}}xe(4)}catch{}}var Ue=class{constructor(u,m){this.g=u,this.map=m}};function Kr(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Xr(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Ti(u){return u.h?1:u.g?u.g.size:0}function xi(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Zr(u,m){u.g?u.g.add(m):u.h=m}function $r(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Kr.prototype.cancel=function(){if(this.i=Jr(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Jr(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const _ of u.g.values())m=m.concat(_.G);return m}return U(u.i)}var wo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ga(u,m){if(u){u=u.split("&");for(let _=0;_<u.length;_++){const x=u[_].indexOf("=");let B,K=null;x>=0?(B=u[_].substring(0,x),K=u[_].substring(x+1)):B=u[_],m(B,K?decodeURIComponent(K.replace(/\+/g," ")):"")}}}function Mn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof Mn?(this.l=u.l,Je(this,u.j),this.o=u.o,this.g=u.g,fs(this,u.u),this.h=u.h,Wr(this,Do(u.i)),this.m=u.m):u&&(m=String(u).match(wo))?(this.l=!1,Je(this,m[1]||"",!0),this.o=Si(m[2]||""),this.g=Si(m[3]||"",!0),fs(this,m[4]),this.h=Si(m[5]||"",!0),Wr(this,m[6]||"",!0),this.m=Si(m[7]||"")):(this.l=!1,this.i=new ms(null,this.l))}Mn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(ra(m,Qa,!0),":");var _=this.g;return(_||m=="file")&&(u.push("//"),(m=this.o)&&u.push(ra(m,Qa,!0),"@"),u.push(ke(_).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.u,_!=null&&u.push(":",String(_))),(_=this.h)&&(this.g&&_.charAt(0)!="/"&&u.push("/"),u.push(ra(_,_.charAt(0)=="/"?tl:Co,!0))),(_=this.i.toString())&&u.push("?",_),(_=this.m)&&u.push("#",ra(_,Ro)),u.join("")},Mn.prototype.resolve=function(u){const m=Be(this);let _=!!u.j;_?Je(m,u.j):_=!!u.o,_?m.o=u.o:_=!!u.g,_?m.g=u.g:_=u.u!=null;var x=u.h;if(_)fs(m,u.u);else if(_=!!u.h){if(x.charAt(0)!="/")if(this.g&&!this.h)x="/"+x;else{var B=m.h.lastIndexOf("/");B!=-1&&(x=m.h.slice(0,B+1)+x)}if(B=x,B==".."||B==".")x="";else if(B.indexOf("./")!=-1||B.indexOf("/.")!=-1){x=B.lastIndexOf("/",0)==0,B=B.split("/");const K=[];for(let ft=0;ft<B.length;){const kt=B[ft++];kt=="."?x&&ft==B.length&&K.push(""):kt==".."?((K.length>1||K.length==1&&K[0]!="")&&K.pop(),x&&ft==B.length&&K.push("")):(K.push(kt),x=!0)}x=K.join("/")}else x=B}return _?m.h=x:_=u.i.toString()!=="",_?Wr(m,Do(u.i)):_=!!u.m,_&&(m.m=u.m),m};function Be(u){return new Mn(u)}function Je(u,m,_){u.j=_?Si(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function fs(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function Wr(u,m,_){m instanceof ms?(u.i=m,Ka(u.i,u.l)):(_||(m=ra(m,ds)),u.i=new ms(m,u.l))}function le(u,m,_){u.i.set(m,_)}function aa(u){return le(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function Si(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function ra(u,m,_){return typeof u=="string"?(u=encodeURI(u).replace(m,Sn),_&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Sn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Qa=/[#\/\?@]/g,Co=/[#\?:]/g,tl=/[#\?]/g,ds=/[#\?@]/g,Ro=/#/g;function ms(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function An(u){u.g||(u.g=new Map,u.h=0,u.i&&Ga(u.i,function(m,_){u.add(decodeURIComponent(m.replace(/\+/g," ")),_)}))}a=ms.prototype,a.add=function(u,m){An(this),this.i=null,u=gs(this,u);let _=this.g.get(u);return _||this.g.set(u,_=[]),_.push(m),this.h+=1,this};function Io(u,m){An(u),m=gs(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function el(u,m){return An(u),m=gs(u,m),u.g.has(m)}a.forEach=function(u,m){An(this),this.g.forEach(function(_,x){_.forEach(function(B){u.call(m,B,x,this)},this)},this)};function nl(u,m){An(u);let _=[];if(typeof m=="string")el(u,m)&&(_=_.concat(u.g.get(gs(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)_=_.concat(u[m]);return _}a.set=function(u,m){return An(this),this.i=null,u=gs(this,u),el(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},a.get=function(u,m){return u?(u=nl(this,u),u.length>0?String(u[0]):m):m};function Ya(u,m,_){Io(u,m),_.length>0&&(u.i=null,u.g.set(gs(u,m),U(_)),u.h+=_.length)}a.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let x=0;x<m.length;x++){var _=m[x];const B=ke(_);_=nl(this,_);for(let K=0;K<_.length;K++){let ft=B;_[K]!==""&&(ft+="="+ke(_[K])),u.push(ft)}}return this.i=u.join("&")};function Do(u){const m=new ms;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function gs(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Ka(u,m){m&&!u.j&&(An(u),u.i=null,u.g.forEach(function(_,x){const B=x.toLowerCase();x!=B&&(Io(this,x),Ya(this,B,_))},u)),u.j=m}function ai(u,m){const _=new dn;if(d.Image){const x=new Image;x.onload=T(Qn,_,"TestLoadImage: loaded",!0,m,x),x.onerror=T(Qn,_,"TestLoadImage: error",!1,m,x),x.onabort=T(Qn,_,"TestLoadImage: abort",!1,m,x),x.ontimeout=T(Qn,_,"TestLoadImage: timeout",!1,m,x),d.setTimeout(function(){x.ontimeout&&x.ontimeout()},1e4),x.src=u}else m(!1)}function il(u,m){const _=new dn,x=new AbortController,B=setTimeout(()=>{x.abort(),Qn(_,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:x.signal}).then(K=>{clearTimeout(B),K.ok?Qn(_,"TestPingServer: ok",!0,m):Qn(_,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(B),Qn(_,"TestPingServer: error",!1,m)})}function Qn(u,m,_,x,B){try{B&&(B.onload=null,B.onerror=null,B.onabort=null,B.ontimeout=null),x(_)}catch{}}function ps(){this.g=new ia}function Ai(u){this.i=u.Sb||null,this.h=u.ab||!1}A(Ai,L),Ai.prototype.g=function(){return new la(this.i,this.h)};function la(u,m){ve.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}A(la,ve),a=la.prototype,a.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,ri(this)},a.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},a.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ys(this)),this.readyState=0},a.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,ri(this)),this.g&&(this.readyState=3,ri(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Xa(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function Xa(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}a.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?ys(this):ri(this),this.readyState==3&&Xa(this)}},a.Oa=function(u){this.g&&(this.response=this.responseText=u,ys(this))},a.Na=function(u){this.g&&(this.response=u,ys(this))},a.ga=function(){this.g&&ys(this)};function ys(u){u.readyState=4,u.l=null,u.j=null,u.B=null,ri(u)}a.setRequestHeader=function(u,m){this.A.append(u,m)},a.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},a.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var _=m.next();!_.done;)_=_.value,u.push(_[0]+": "+_[1]),_=m.next();return u.join(`\r
`)};function ri(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(la.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Yn(u){let m="";return Bt(u,function(_,x){m+=x,m+=":",m+=_,m+=`\r
`}),m}function oa(u,m,_){t:{for(x in _){var x=!1;break t}x=!0}x||(_=Yn(_),typeof u=="string"?_!=null&&ke(_):le(u,m,_))}function he(u){ve.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}A(he,ve);var wi=/^https?$/i,sl=["POST","PUT"];a=he.prototype,a.Fa=function(u){this.H=u},a.ea=function(u,m,_,x){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():hs.g(),this.g.onreadystatechange=C(v(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(K){ua(this,K);return}if(u=_||"",_=new Map(this.headers),x)if(Object.getPrototypeOf(x)===Object.prototype)for(var B in x)_.set(B,x[B]);else if(typeof x.keys=="function"&&typeof x.get=="function")for(const K of x.keys())_.set(K,x.get(K));else throw Error("Unknown input type for opt_headers: "+String(x));x=Array.from(_.keys()).find(K=>K.toLowerCase()=="content-type"),B=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(sl,m,void 0)>=0)||x||B||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[K,ft]of _)this.g.setRequestHeader(K,ft);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(K){ua(this,K)}};function ua(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,al(u),qi(u)}function al(u){u.A||(u.A=!0,_e(u,"complete"),_e(u,"error"))}a.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,_e(this,"complete"),_e(this,"abort"),qi(this))},a.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),qi(this,!0)),he.Z.N.call(this)},a.Ca=function(){this.u||(this.B||this.v||this.j?ca(this):this.Xa())},a.Xa=function(){ca(this)};function ca(u){if(u.h&&typeof h<"u"){if(u.v&&li(u)==4)setTimeout(u.Ca.bind(u),0);else if(_e(u,"readystatechange"),li(u)==4){u.h=!1;try{const K=u.ca();t:switch(K){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var _;if(!(_=m)){var x;if(x=K===0){let ft=String(u.D).match(wo)[1]||null;!ft&&d.self&&d.self.location&&(ft=d.self.location.protocol.slice(0,-1)),x=!wi.test(ft?ft.toLowerCase():"")}_=x}if(_)_e(u,"complete"),_e(u,"success");else{u.o=6;try{var B=li(u)>2?u.g.statusText:""}catch{B=""}u.l=B+" ["+u.ca()+"]",al(u)}}finally{qi(u)}}}}function qi(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const _=u.g;u.g=null,m||_e(u,"ready");try{_.onreadystatechange=null}catch{}}}a.isActive=function(){return!!this.g};function li(u){return u.g?u.g.readyState:0}a.ca=function(){try{return li(this)>2?this.g.status:-1}catch{return-1}},a.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},a.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Ba(m)}};function nn(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Hi(u){const m={};u=(u.g&&li(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let x=0;x<u.length;x++){if(S(u[x]))continue;var _=bn(u[x]);const B=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const K=m[B]||[];m[B]=K,K.push(_)}qt(m,function(x){return x.join(", ")})}a.ya=function(){return this.o},a.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ci(u,m,_){return _&&_.internalChannelParams&&_.internalChannelParams[u]||m}function vs(u){this.za=0,this.i=[],this.j=new dn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ci("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ci("baseRetryDelayMs",5e3,u),this.Za=Ci("retryDelaySeedMs",1e4,u),this.Ta=Ci("forwardChannelMaxRetries",2,u),this.va=Ci("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Kr(u&&u.concurrentRequestLimit),this.Ba=new ps,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}a=vs.prototype,a.ka=8,a.I=1,a.connect=function(u,m,_,x){re(0),this.W=u,this.H=m||{},_&&x!==void 0&&(this.H.OSID=_,this.H.OAID=x),this.F=this.X,this.J=ko(this,null,this.W),Ri(this)};function rl(u){if(Za(u),u.I==3){var m=u.V++,_=Be(u.J);if(le(_,"SID",u.M),le(_,"RID",m),le(_,"TYPE","terminate"),ha(u,_),m=new $t(u,u.j,m),m.M=2,m.A=aa(Be(_)),_=!1,d.navigator&&d.navigator.sendBeacon)try{_=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!_&&d.Image&&(new Image().src=m.A,_=!0),_||(m.g=zo(m.j,null),m.g.ea(m.A)),m.F=Date.now(),_i(m)}Lo(u)}function _s(u){u.g&&(ol(u),u.g.cancel(),u.g=null)}function Za(u){_s(u),u.v&&(d.clearTimeout(u.v),u.v=null),Ja(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function Ri(u){if(!Xr(u.h)&&!u.m){u.m=!0;var m=u.Ea;yt||w(),xt||(yt(),xt=!0),R.add(m,u),u.D=0}}function $a(u,m){return Ti(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=pt(v(u.Ea,u,m),jo(u,u.D)),u.D++,!0)}a.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const B=new $t(this,this.j,u);let K=this.o;if(this.U&&(K?(K=O(K),dt(K,this.U)):K=this.U),this.u!==null||this.R||(B.J=K,K=null),this.S)t:{for(var m=0,_=0;_<this.i.length;_++){e:{var x=this.i[_];if("__data__"in x.map&&(x=x.map.__data__,typeof x=="string")){x=x.length;break e}x=void 0}if(x===void 0)break;if(m+=x,m>4096){m=_;break t}if(m===4096||_===this.i.length-1){m=_+1;break t}}m=1e3}else m=1e3;m=No(this,B,m),_=Be(this.J),le(_,"RID",u),le(_,"CVER",22),this.G&&le(_,"X-HTTP-Session-Id",this.G),ha(this,_),K&&(this.R?m="headers="+ke(Yn(K))+"&"+m:this.u&&oa(_,this.u,K)),Zr(this.h,B),this.Ra&&le(_,"TYPE","init"),this.S?(le(_,"$req",m),le(_,"SID","null"),B.U=!0,vi(B,_,null)):vi(B,_,m),this.I=2}}else this.I==3&&(u?ll(this,u):this.i.length==0||Xr(this.h)||ll(this))};function ll(u,m){var _;m?_=m.l:_=u.V++;const x=Be(u.J);le(x,"SID",u.M),le(x,"RID",_),le(x,"AID",u.K),ha(u,x),u.u&&u.o&&oa(x,u.u,u.o),_=new $t(u,u.j,_,u.D+1),u.u===null&&(_.J=u.o),m&&(u.i=m.G.concat(u.i)),m=No(u,_,1e3),_.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Zr(u.h,_),vi(_,x,m)}function ha(u,m){u.H&&Bt(u.H,function(_,x){le(m,x,_)}),u.l&&Bt({},function(_,x){le(m,x,_)})}function No(u,m,_){_=Math.min(u.i.length,_);const x=u.l?v(u.l.Ka,u.l,u):null;t:{var B=u.i;let kt=-1;for(;;){const Ve=["count="+_];kt==-1?_>0?(kt=B[0].g,Ve.push("ofs="+kt)):kt=0:Ve.push("ofs="+kt);let ie=!0;for(let Se=0;Se<_;Se++){var K=B[Se].g;const Kn=B[Se].map;if(K-=kt,K<0)kt=Math.max(0,B[Se].g-100),ie=!1;else try{K="req"+K+"_"||"";try{var ft=Kn instanceof Map?Kn:Object.entries(Kn);for(const[Di,oi]of ft){let ui=oi;p(oi)&&(ui=_n(oi)),Ve.push(K+Di+"="+encodeURIComponent(ui))}}catch(Di){throw Ve.push(K+"type="+encodeURIComponent("_badmap")),Di}}catch{x&&x(Kn)}}if(ie){ft=Ve.join("&");break t}}ft=void 0}return u=u.i.splice(0,_),m.G=u,ft}function Vo(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;yt||w(),xt||(yt(),xt=!0),R.add(m,u),u.A=0}}function fa(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=pt(v(u.Da,u),jo(u,u.A)),u.A++,!0)}a.Da=function(){if(this.v=null,Oo(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=pt(v(this.Wa,this),u)}},a.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,re(10),_s(this),Oo(this))};function ol(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function Oo(u){u.g=new $t(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Be(u.na);le(m,"RID","rpc"),le(m,"SID",u.M),le(m,"AID",u.K),le(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&le(m,"TO",u.ia),le(m,"TYPE","xmlhttp"),ha(u,m),u.u&&u.o&&oa(m,u.u,u.o),u.O&&(u.g.H=u.O);var _=u.g;u=u.ba,_.M=1,_.A=aa(Be(m)),_.u=null,_.R=!0,Ha(_,u)}a.Va=function(){this.C!=null&&(this.C=null,_s(this),fa(this),re(19))};function Ja(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function Mo(u,m){var _=null;if(u.g==m){Ja(u),ol(u),u.g=null;var x=2}else if(xi(u.h,m))_=m.G,$r(u.h,m),x=1;else return;if(u.I!=0){if(m.o)if(x==1){_=m.u?m.u.length:0,m=Date.now()-m.F;var B=u.D;x=we(),_e(x,new en(x,_)),Ri(u)}else Vo(u);else if(B=m.m,B==3||B==0&&m.X>0||!(x==1&&$a(u,m)||x==2&&fa(u)))switch(_&&_.length>0&&(m=u.h,m.i=m.i.concat(_)),B){case 1:Ii(u,5);break;case 4:Ii(u,10);break;case 3:Ii(u,6);break;default:Ii(u,2)}}}function jo(u,m){let _=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(_*=2),_*m}function Ii(u,m){if(u.j.info("Error code "+m),m==2){var _=v(u.bb,u),x=u.Ua;const B=!x;x=new Mn(x||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Je(x,"https"),aa(x),B?ai(x.toString(),_):il(x.toString(),_)}else re(2);u.I=0,u.l&&u.l.pa(m),Lo(u),Za(u)}a.bb=function(u){u?(this.j.info("Successfully pinged google.com"),re(2)):(this.j.info("Failed to ping google.com"),re(1))};function Lo(u){if(u.I=0,u.ja=[],u.l){const m=Jr(u.h);(m.length!=0||u.i.length!=0)&&(Z(u.ja,m),Z(u.ja,u.i),u.h.i.length=0,U(u.i),u.i.length=0),u.l.oa()}}function ko(u,m,_){var x=_ instanceof Mn?Be(_):new Mn(_);if(x.g!="")m&&(x.g=m+"."+x.g),fs(x,x.u);else{var B=d.location;x=B.protocol,m=m?m+"."+B.hostname:B.hostname,B=+B.port;const K=new Mn(null);x&&Je(K,x),m&&(K.g=m),B&&fs(K,B),_&&(K.h=_),x=K}return _=u.G,m=u.wa,_&&m&&le(x,_,m),le(x,"VER",u.ka),ha(u,x),x}function zo(u,m,_){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new he(new Ai({ab:_})):new he(u.ma),m.Fa(u.L),m}a.isActive=function(){return!!this.l&&this.l.isActive(this)};function Uo(){}a=Uo.prototype,a.ra=function(){},a.qa=function(){},a.pa=function(){},a.oa=function(){},a.isActive=function(){return!0},a.Ka=function(){};function bs(){}bs.prototype.g=function(u,m){return new En(u,m)};function En(u,m){ve.call(this),this.g=new vs(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!S(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!S(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Fi(this)}A(En,ve),En.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},En.prototype.close=function(){rl(this.g)},En.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var _={};_.__data__=u,u=_}else this.v&&(_={},_.__data__=_n(u),u=_);m.i.push(new Ue(m.Ya++,u)),m.I==3&&Ri(m)},En.prototype.N=function(){this.g.l=null,delete this.j,rl(this.g),delete this.g,En.Z.N.call(this)};function Bo(u){_t.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const _ in m){u=_;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}A(Bo,_t);function Po(){Ot.call(this),this.status=1}A(Po,Ot);function Fi(u){this.g=u}A(Fi,Uo),Fi.prototype.ra=function(){_e(this.g,"a")},Fi.prototype.qa=function(u){_e(this.g,new Bo(u))},Fi.prototype.pa=function(u){_e(this.g,new Po)},Fi.prototype.oa=function(){_e(this.g,"b")},bs.prototype.createWebChannel=bs.prototype.g,En.prototype.send=En.prototype.o,En.prototype.open=En.prototype.m,En.prototype.close=En.prototype.close,hv=function(){return new bs},cv=function(){return we()},uv=Tt,Jf={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},pi.NO_ERROR=0,pi.TIMEOUT=8,pi.HTTP_ERROR=6,$u=pi,cs.COMPLETE="complete",ov=cs,$.EventType=tt,tt.OPEN="a",tt.CLOSE="b",tt.ERROR="c",tt.MESSAGE="d",ve.prototype.listen=ve.prototype.J,Zl=$,he.prototype.listenOnce=he.prototype.K,he.prototype.getLastError=he.prototype.Ha,he.prototype.getLastErrorCode=he.prototype.ya,he.prototype.getStatus=he.prototype.ca,he.prototype.getResponseJson=he.prototype.La,he.prototype.getResponseText=he.prototype.la,he.prototype.send=he.prototype.ea,he.prototype.setWithCredentials=he.prototype.Fa,lv=he}).apply(typeof Gu<"u"?Gu:typeof self<"u"?self:typeof window<"u"?window:{});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}pn.UNAUTHENTICATED=new pn(null),pn.GOOGLE_CREDENTIALS=new pn("google-credentials-uid"),pn.FIRST_PARTY=new pn("first-party-uid"),pn.MOCK_USER=new pn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fr="12.8.0";function RT(a){Fr=a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Va=new tv("@firebase/firestore");function Ir(){return Va.logLevel}function bt(a,...e){if(Va.logLevel<=Wt.DEBUG){const i=e.map(Ed);Va.debug(`Firestore (${Fr}): ${a}`,...i)}}function os(a,...e){if(Va.logLevel<=Wt.ERROR){const i=e.map(Ed);Va.error(`Firestore (${Fr}): ${a}`,...i)}}function kr(a,...e){if(Va.logLevel<=Wt.WARN){const i=e.map(Ed);Va.warn(`Firestore (${Fr}): ${a}`,...i)}}function Ed(a){if(typeof a=="string")return a;try{return(function(i){return JSON.stringify(i)})(a)}catch{return a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vt(a,e,i){let r="Unexpected state";typeof e=="string"?r=e:i=e,fv(a,r,i)}function fv(a,e,i){let r=`FIRESTORE (${Fr}) INTERNAL ASSERTION FAILED: ${e} (ID: ${a.toString(16)})`;if(i!==void 0)try{r+=" CONTEXT: "+JSON.stringify(i)}catch{r+=" CONTEXT: "+i}throw os(r),new Error(r)}function ae(a,e,i,r){let o="Unexpected state";typeof i=="string"?o=i:r=i,a||fv(e,o,r)}function Lt(a,e){return a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class wt extends Hr{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ys{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dv{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class IT{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(pn.UNAUTHENTICATED)))}shutdown(){}}class DT{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class NT{constructor(e){this.t=e,this.currentUser=pn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){ae(this.o===void 0,42304);let r=this.i;const o=g=>this.i!==r?(r=this.i,i(g)):Promise.resolve();let h=new Ys;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new Ys,e.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const g=h;e.enqueueRetryable((async()=>{await g.promise,await o(this.currentUser)}))},p=g=>{bt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((g=>p(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?p(g):(bt("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new Ys)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((r=>this.i!==e?(bt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ae(typeof r.accessToken=="string",31837,{l:r}),new dv(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ae(e===null||typeof e=="string",2055,{h:e}),new pn(e)}}class VT{constructor(e,i,r){this.P=e,this.T=i,this.I=r,this.type="FirstParty",this.user=pn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class OT{constructor(e,i,r){this.P=e,this.T=i,this.I=r}getToken(){return Promise.resolve(new VT(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(pn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Yy{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class MT{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,dT(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){ae(this.o===void 0,3512);const r=h=>{h.error!=null&&bt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const d=h.token!==this.m;return this.m=h.token,bt("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(h.token):Promise.resolve()};this.o=h=>{e.enqueueRetryable((()=>r(h)))};const o=h=>{bt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((h=>o(h))),setTimeout((()=>{if(!this.appCheck){const h=this.V.getImmediate({optional:!0});h?o(h):bt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Yy(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(ae(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new Yy(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jT(a){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(a);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let r=0;r<a;r++)i[r]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Td{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=jT(40);for(let h=0;h<o.length;++h)r.length<20&&o[h]<i&&(r+=e.charAt(o[h]%62))}return r}}function Yt(a,e){return a<e?-1:a>e?1:0}function Wf(a,e){const i=Math.min(a.length,e.length);for(let r=0;r<i;r++){const o=a.charAt(r),h=e.charAt(r);if(o!==h)return qf(o)===qf(h)?Yt(o,h):qf(o)?1:-1}return Yt(a.length,e.length)}const LT=55296,kT=57343;function qf(a){const e=a.charCodeAt(0);return e>=LT&&e<=kT}function zr(a,e,i){return a.length===e.length&&a.every(((r,o)=>i(r,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ky="__name__";class ji{constructor(e,i,r){i===void 0?i=0:i>e.length&&Vt(637,{offset:i,range:e.length}),r===void 0?r=e.length-i:r>e.length-i&&Vt(1746,{length:r,range:e.length-i}),this.segments=e,this.offset=i,this.len=r}get length(){return this.len}isEqual(e){return ji.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof ji?e.forEach((r=>{i.push(r)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,r=this.limit();i<r;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const r=Math.min(e.length,i.length);for(let o=0;o<r;o++){const h=ji.compareSegments(e.get(o),i.get(o));if(h!==0)return h}return Yt(e.length,i.length)}static compareSegments(e,i){const r=ji.isNumericId(e),o=ji.isNumericId(i);return r&&!o?-1:!r&&o?1:r&&o?ji.extractNumericId(e).compare(ji.extractNumericId(i)):Wf(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Qs.fromString(e.substring(4,e.length-2))}}class Ce extends ji{construct(e,i,r){return new Ce(e,i,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const r of e){if(r.indexOf("//")>=0)throw new wt(lt.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);i.push(...r.split("/").filter((o=>o.length>0)))}return new Ce(i)}static emptyPath(){return new Ce([])}}const zT=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class un extends ji{construct(e,i,r){return new un(e,i,r)}static isValidIdentifier(e){return zT.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),un.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Ky}static keyField(){return new un([Ky])}static fromServerFormat(e){const i=[];let r="",o=0;const h=()=>{if(r.length===0)throw new wt(lt.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(r),r=""};let d=!1;for(;o<e.length;){const p=e[o];if(p==="\\"){if(o+1===e.length)throw new wt(lt.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new wt(lt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=g,o+=2}else p==="`"?(d=!d,o++):p!=="."||d?(r+=p,o++):(h(),o++)}if(h(),d)throw new wt(lt.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new un(i)}static emptyPath(){return new un([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(e){this.path=e}static fromPath(e){return new Dt(Ce.fromString(e))}static fromName(e){return new Dt(Ce.fromString(e).popFirst(5))}static empty(){return new Dt(Ce.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ce.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return Ce.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Dt(new Ce(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UT(a,e,i){if(!i)throw new wt(lt.INVALID_ARGUMENT,`Function ${a}() cannot be called with an empty ${e}.`)}function BT(a,e,i,r){if(e===!0&&r===!0)throw new wt(lt.INVALID_ARGUMENT,`${a} and ${i} cannot be used together.`)}function Xy(a){if(!Dt.isDocumentKey(a))throw new wt(lt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${a} has ${a.length}.`)}function mv(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}function xd(a){if(a===void 0)return"undefined";if(a===null)return"null";if(typeof a=="string")return a.length>20&&(a=`${a.substring(0,20)}...`),JSON.stringify(a);if(typeof a=="number"||typeof a=="boolean")return""+a;if(typeof a=="object"){if(a instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(a);return e?`a custom ${e} object`:"an object"}}return typeof a=="function"?"a function":Vt(12329,{type:typeof a})}function Ks(a,e){if("_delegate"in a&&(a=a._delegate),!(a instanceof e)){if(e.name===a.constructor.name)throw new wt(lt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=xd(a);throw new wt(lt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return a}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qe(a,e){const i={typeString:a};return e&&(i.value=e),i}function _o(a,e){if(!mv(a))throw new wt(lt.INVALID_ARGUMENT,"JSON must be an object");let i;for(const r in e)if(e[r]){const o=e[r].typeString,h="value"in e[r]?{value:e[r].value}:void 0;if(!(r in a)){i=`JSON missing required field: '${r}'`;break}const d=a[r];if(o&&typeof d!==o){i=`JSON field '${r}' must be a ${o}.`;break}if(h!==void 0&&d!==h.value){i=`Expected '${r}' field to equal '${h.value}'`;break}}if(i)throw new wt(lt.INVALID_ARGUMENT,i);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zy=-62135596800,$y=1e6;class Te{static now(){return Te.fromMillis(Date.now())}static fromDate(e){return Te.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),r=Math.floor((e-1e3*i)*$y);return new Te(i,r)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new wt(lt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new wt(lt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<Zy)throw new wt(lt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new wt(lt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/$y}_compareTo(e){return this.seconds===e.seconds?Yt(this.nanoseconds,e.nanoseconds):Yt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Te._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(_o(e,Te._jsonSchema))return new Te(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Zy;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Te._jsonSchemaVersion="firestore/timestamp/1.0",Te._jsonSchema={type:Qe("string",Te._jsonSchemaVersion),seconds:Qe("number"),nanoseconds:Qe("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{static fromTimestamp(e){return new Mt(e)}static min(){return new Mt(new Te(0,0))}static max(){return new Mt(new Te(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uo=-1;function PT(a,e){const i=a.toTimestamp().seconds,r=a.toTimestamp().nanoseconds+1,o=Mt.fromTimestamp(r===1e9?new Te(i+1,0):new Te(i,r));return new Xs(o,Dt.empty(),e)}function qT(a){return new Xs(a.readTime,a.key,uo)}class Xs{constructor(e,i,r){this.readTime=e,this.documentKey=i,this.largestBatchId=r}static min(){return new Xs(Mt.min(),Dt.empty(),uo)}static max(){return new Xs(Mt.max(),Dt.empty(),uo)}}function HT(a,e){let i=a.readTime.compareTo(e.readTime);return i!==0?i:(i=Dt.comparator(a.documentKey,e.documentKey),i!==0?i:Yt(a.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FT="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class GT{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gr(a){if(a.code!==lt.FAILED_PRECONDITION||a.message!==FT)throw a;bt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class at{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&Vt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new at(((r,o)=>{this.nextCallback=h=>{this.wrapSuccess(e,h).next(r,o)},this.catchCallback=h=>{this.wrapFailure(i,h).next(r,o)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof at?i:at.resolve(i)}catch(i){return at.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):at.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):at.reject(i)}static resolve(e){return new at(((i,r)=>{i(e)}))}static reject(e){return new at(((i,r)=>{r(e)}))}static waitFor(e){return new at(((i,r)=>{let o=0,h=0,d=!1;e.forEach((p=>{++o,p.next((()=>{++h,d&&h===o&&i()}),(g=>r(g)))})),d=!0,h===o&&i()}))}static or(e){let i=at.resolve(!1);for(const r of e)i=i.next((o=>o?at.resolve(o):r()));return i}static forEach(e,i){const r=[];return e.forEach(((o,h)=>{r.push(i.call(this,o,h))})),this.waitFor(r)}static mapArray(e,i){return new at(((r,o)=>{const h=e.length,d=new Array(h);let p=0;for(let g=0;g<h;g++){const v=g;i(e[v]).next((T=>{d[v]=T,++p,p===h&&r(d)}),(T=>o(T)))}}))}static doWhile(e,i){return new at(((r,o)=>{const h=()=>{e()===!0?i().next((()=>{h()}),o):r()};h()}))}}function QT(a){const e=a.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Qr(a){return a.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ec{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>i.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Ec.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sd=-1;function Tc(a){return a==null}function uc(a){return a===0&&1/a==-1/0}function YT(a){return typeof a=="number"&&Number.isInteger(a)&&!uc(a)&&a<=Number.MAX_SAFE_INTEGER&&a>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gv="";function KT(a){let e="";for(let i=0;i<a.length;i++)e.length>0&&(e=Jy(e)),e=XT(a.get(i),e);return Jy(e)}function XT(a,e){let i=e;const r=a.length;for(let o=0;o<r;o++){const h=a.charAt(o);switch(h){case"\0":i+="";break;case gv:i+="";break;default:i+=h}}return i}function Jy(a){return a+gv+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wy(a){let e=0;for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&e++;return e}function Ma(a,e){for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&e(i,a[i])}function pv(a){for(const e in a)if(Object.prototype.hasOwnProperty.call(a,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{constructor(e,i){this.comparator=e,this.root=i||on.EMPTY}insert(e,i){return new Re(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,on.BLACK,null,null))}remove(e){return new Re(this.comparator,this.root.remove(e,this.comparator).copy(null,null,on.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(r===0)return i.value;r<0?i=i.left:r>0&&(i=i.right)}return null}indexOf(e){let i=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(o===0)return i+r.left.size;o<0?r=r.left:(i+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,r)=>(e(i,r),!1)))}toString(){const e=[];return this.inorderTraversal(((i,r)=>(e.push(`${i}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Qu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Qu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Qu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Qu(this.root,e,this.comparator,!0)}}class Qu{constructor(e,i,r,o){this.isReverse=o,this.nodeStack=[];let h=1;for(;!e.isEmpty();)if(h=i?r(e.key,i):1,i&&o&&(h*=-1),h<0)e=this.isReverse?e.left:e.right;else{if(h===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class on{constructor(e,i,r,o,h){this.key=e,this.value=i,this.color=r??on.RED,this.left=o??on.EMPTY,this.right=h??on.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,r,o,h){return new on(e??this.key,i??this.value,r??this.color,o??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,r){let o=this;const h=r(e,o.key);return o=h<0?o.copy(null,null,null,o.left.insert(e,i,r),null):h===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return on.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let r,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return on.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,on.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,on.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Vt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Vt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Vt(27949);return e+(this.isRed()?0:1)}}on.EMPTY=null,on.RED=!0,on.BLACK=!1;on.EMPTY=new class{constructor(){this.size=0}get key(){throw Vt(57766)}get value(){throw Vt(16141)}get color(){throw Vt(16727)}get left(){throw Vt(29726)}get right(){throw Vt(36894)}copy(e,i,r,o,h){return this}insert(e,i,r){return new on(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ze{constructor(e){this.comparator=e,this.data=new Re(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,r)=>(e(i),!1)))}forEachInRange(e,i){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let r;for(r=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new t0(this.data.getIterator())}getIteratorFrom(e){return new t0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((r=>{i=i.add(r)})),i}isEqual(e){if(!(e instanceof Ze)||this.size!==e.size)return!1;const i=this.data.getIterator(),r=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,h=r.getNext().key;if(this.comparator(o,h)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new Ze(this.comparator);return i.data=e,i}}class t0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di{constructor(e){this.fields=e,e.sort(un.comparator)}static empty(){return new di([])}unionWith(e){let i=new Ze(un.comparator);for(const r of this.fields)i=i.add(r);for(const r of e)i=i.add(r);return new di(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return zr(this.fields,e.fields,((i,r)=>i.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yv extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(o){try{return atob(o)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new yv("Invalid base64 string: "+h):h}})(e);return new cn(i)}static fromUint8Array(e){const i=(function(o){let h="";for(let d=0;d<o.length;++d)h+=String.fromCharCode(o[d]);return h})(e);return new cn(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const r=new Uint8Array(i.length);for(let o=0;o<i.length;o++)r[o]=i.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Yt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}cn.EMPTY_BYTE_STRING=new cn("");const ZT=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Zs(a){if(ae(!!a,39018),typeof a=="string"){let e=0;const i=ZT.exec(a);if(ae(!!i,46558,{timestamp:a}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(a);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:je(a.seconds),nanos:je(a.nanos)}}function je(a){return typeof a=="number"?a:typeof a=="string"?Number(a):0}function $s(a){return typeof a=="string"?cn.fromBase64String(a):cn.fromUint8Array(a)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vv="server_timestamp",_v="__type__",bv="__previous_value__",Ev="__local_write_time__";function Ad(a){var i,r;return((r=(((i=a==null?void 0:a.mapValue)==null?void 0:i.fields)||{})[_v])==null?void 0:r.stringValue)===vv}function xc(a){const e=a.mapValue.fields[bv];return Ad(e)?xc(e):e}function co(a){const e=Zs(a.mapValue.fields[Ev].timestampValue);return new Te(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $T{constructor(e,i,r,o,h,d,p,g,v,T,A){this.databaseId=e,this.appId=i,this.persistenceKey=r,this.host=o,this.ssl=h,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=g,this.useFetchStreams=v,this.isUsingEmulator=T,this.apiKey=A}}const cc="(default)";class ho{constructor(e,i){this.projectId=e,this.database=i||cc}static empty(){return new ho("","")}get isDefaultDatabase(){return this.database===cc}isEqual(e){return e instanceof ho&&e.projectId===this.projectId&&e.database===this.database}}function JT(a,e){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new wt(lt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ho(a.options.projectId,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tv="__type__",WT="__max__",Yu={mapValue:{}},xv="__vector__",hc="value";function Js(a){return"nullValue"in a?0:"booleanValue"in a?1:"integerValue"in a||"doubleValue"in a?2:"timestampValue"in a?3:"stringValue"in a?5:"bytesValue"in a?6:"referenceValue"in a?7:"geoPointValue"in a?8:"arrayValue"in a?9:"mapValue"in a?Ad(a)?4:ex(a)?9007199254740991:tx(a)?10:11:Vt(28295,{value:a})}function Ui(a,e){if(a===e)return!0;const i=Js(a);if(i!==Js(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return a.booleanValue===e.booleanValue;case 4:return co(a).isEqual(co(e));case 3:return(function(o,h){if(typeof o.timestampValue=="string"&&typeof h.timestampValue=="string"&&o.timestampValue.length===h.timestampValue.length)return o.timestampValue===h.timestampValue;const d=Zs(o.timestampValue),p=Zs(h.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(a,e);case 5:return a.stringValue===e.stringValue;case 6:return(function(o,h){return $s(o.bytesValue).isEqual($s(h.bytesValue))})(a,e);case 7:return a.referenceValue===e.referenceValue;case 8:return(function(o,h){return je(o.geoPointValue.latitude)===je(h.geoPointValue.latitude)&&je(o.geoPointValue.longitude)===je(h.geoPointValue.longitude)})(a,e);case 2:return(function(o,h){if("integerValue"in o&&"integerValue"in h)return je(o.integerValue)===je(h.integerValue);if("doubleValue"in o&&"doubleValue"in h){const d=je(o.doubleValue),p=je(h.doubleValue);return d===p?uc(d)===uc(p):isNaN(d)&&isNaN(p)}return!1})(a,e);case 9:return zr(a.arrayValue.values||[],e.arrayValue.values||[],Ui);case 10:case 11:return(function(o,h){const d=o.mapValue.fields||{},p=h.mapValue.fields||{};if(Wy(d)!==Wy(p))return!1;for(const g in d)if(d.hasOwnProperty(g)&&(p[g]===void 0||!Ui(d[g],p[g])))return!1;return!0})(a,e);default:return Vt(52216,{left:a})}}function fo(a,e){return(a.values||[]).find((i=>Ui(i,e)))!==void 0}function Ur(a,e){if(a===e)return 0;const i=Js(a),r=Js(e);if(i!==r)return Yt(i,r);switch(i){case 0:case 9007199254740991:return 0;case 1:return Yt(a.booleanValue,e.booleanValue);case 2:return(function(h,d){const p=je(h.integerValue||h.doubleValue),g=je(d.integerValue||d.doubleValue);return p<g?-1:p>g?1:p===g?0:isNaN(p)?isNaN(g)?0:-1:1})(a,e);case 3:return e0(a.timestampValue,e.timestampValue);case 4:return e0(co(a),co(e));case 5:return Wf(a.stringValue,e.stringValue);case 6:return(function(h,d){const p=$s(h),g=$s(d);return p.compareTo(g)})(a.bytesValue,e.bytesValue);case 7:return(function(h,d){const p=h.split("/"),g=d.split("/");for(let v=0;v<p.length&&v<g.length;v++){const T=Yt(p[v],g[v]);if(T!==0)return T}return Yt(p.length,g.length)})(a.referenceValue,e.referenceValue);case 8:return(function(h,d){const p=Yt(je(h.latitude),je(d.latitude));return p!==0?p:Yt(je(h.longitude),je(d.longitude))})(a.geoPointValue,e.geoPointValue);case 9:return n0(a.arrayValue,e.arrayValue);case 10:return(function(h,d){var C,U,Z,st;const p=h.fields||{},g=d.fields||{},v=(C=p[hc])==null?void 0:C.arrayValue,T=(U=g[hc])==null?void 0:U.arrayValue,A=Yt(((Z=v==null?void 0:v.values)==null?void 0:Z.length)||0,((st=T==null?void 0:T.values)==null?void 0:st.length)||0);return A!==0?A:n0(v,T)})(a.mapValue,e.mapValue);case 11:return(function(h,d){if(h===Yu.mapValue&&d===Yu.mapValue)return 0;if(h===Yu.mapValue)return 1;if(d===Yu.mapValue)return-1;const p=h.fields||{},g=Object.keys(p),v=d.fields||{},T=Object.keys(v);g.sort(),T.sort();for(let A=0;A<g.length&&A<T.length;++A){const C=Wf(g[A],T[A]);if(C!==0)return C;const U=Ur(p[g[A]],v[T[A]]);if(U!==0)return U}return Yt(g.length,T.length)})(a.mapValue,e.mapValue);default:throw Vt(23264,{he:i})}}function e0(a,e){if(typeof a=="string"&&typeof e=="string"&&a.length===e.length)return Yt(a,e);const i=Zs(a),r=Zs(e),o=Yt(i.seconds,r.seconds);return o!==0?o:Yt(i.nanos,r.nanos)}function n0(a,e){const i=a.values||[],r=e.values||[];for(let o=0;o<i.length&&o<r.length;++o){const h=Ur(i[o],r[o]);if(h)return h}return Yt(i.length,r.length)}function Br(a){return td(a)}function td(a){return"nullValue"in a?"null":"booleanValue"in a?""+a.booleanValue:"integerValue"in a?""+a.integerValue:"doubleValue"in a?""+a.doubleValue:"timestampValue"in a?(function(i){const r=Zs(i);return`time(${r.seconds},${r.nanos})`})(a.timestampValue):"stringValue"in a?a.stringValue:"bytesValue"in a?(function(i){return $s(i).toBase64()})(a.bytesValue):"referenceValue"in a?(function(i){return Dt.fromName(i).toString()})(a.referenceValue):"geoPointValue"in a?(function(i){return`geo(${i.latitude},${i.longitude})`})(a.geoPointValue):"arrayValue"in a?(function(i){let r="[",o=!0;for(const h of i.values||[])o?o=!1:r+=",",r+=td(h);return r+"]"})(a.arrayValue):"mapValue"in a?(function(i){const r=Object.keys(i.fields||{}).sort();let o="{",h=!0;for(const d of r)h?h=!1:o+=",",o+=`${d}:${td(i.fields[d])}`;return o+"}"})(a.mapValue):Vt(61005,{value:a})}function Ju(a){switch(Js(a)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=xc(a);return e?16+Ju(e):16;case 5:return 2*a.stringValue.length;case 6:return $s(a.bytesValue).approximateByteSize();case 7:return a.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((o,h)=>o+Ju(h)),0)})(a.arrayValue);case 10:case 11:return(function(r){let o=0;return Ma(r.fields,((h,d)=>{o+=h.length+Ju(d)})),o})(a.mapValue);default:throw Vt(13486,{value:a})}}function ed(a){return!!a&&"integerValue"in a}function wd(a){return!!a&&"arrayValue"in a}function i0(a){return!!a&&"nullValue"in a}function s0(a){return!!a&&"doubleValue"in a&&isNaN(Number(a.doubleValue))}function Wu(a){return!!a&&"mapValue"in a}function tx(a){var i,r;return((r=(((i=a==null?void 0:a.mapValue)==null?void 0:i.fields)||{})[Tv])==null?void 0:r.stringValue)===xv}function eo(a){if(a.geoPointValue)return{geoPointValue:{...a.geoPointValue}};if(a.timestampValue&&typeof a.timestampValue=="object")return{timestampValue:{...a.timestampValue}};if(a.mapValue){const e={mapValue:{fields:{}}};return Ma(a.mapValue.fields,((i,r)=>e.mapValue.fields[i]=eo(r))),e}if(a.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(a.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=eo(a.arrayValue.values[i]);return e}return{...a}}function ex(a){return(((a.mapValue||{}).fields||{}).__type__||{}).stringValue===WT}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ii{constructor(e){this.value=e}static empty(){return new ii({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let r=0;r<e.length-1;++r)if(i=(i.mapValue.fields||{})[e.get(r)],!Wu(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=eo(i)}setAll(e){let i=un.emptyPath(),r={},o=[];e.forEach(((d,p)=>{if(!i.isImmediateParentOf(p)){const g=this.getFieldsMap(i);this.applyChanges(g,r,o),r={},o=[],i=p.popLast()}d?r[p.lastSegment()]=eo(d):o.push(p.lastSegment())}));const h=this.getFieldsMap(i);this.applyChanges(h,r,o)}delete(e){const i=this.field(e.popLast());Wu(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return Ui(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=i.mapValue.fields[e.get(r)];Wu(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(r)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,r){Ma(i,((o,h)=>e[o]=h));for(const o of r)delete e[o]}clone(){return new ii(eo(this.value))}}function Sv(a){const e=[];return Ma(a.fields,((i,r)=>{const o=new un([i]);if(Wu(r)){const h=Sv(r.mapValue).fields;if(h.length===0)e.push(o);else for(const d of h)e.push(o.child(d))}else e.push(o)})),new di(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(e,i,r,o,h,d,p){this.key=e,this.documentType=i,this.version=r,this.readTime=o,this.createTime=h,this.data=d,this.documentState=p}static newInvalidDocument(e){return new yn(e,0,Mt.min(),Mt.min(),Mt.min(),ii.empty(),0)}static newFoundDocument(e,i,r,o){return new yn(e,1,i,Mt.min(),r,o,0)}static newNoDocument(e,i){return new yn(e,2,i,Mt.min(),Mt.min(),ii.empty(),0)}static newUnknownDocument(e,i){return new yn(e,3,i,Mt.min(),Mt.min(),ii.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(Mt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ii.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ii.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Mt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof yn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new yn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fc{constructor(e,i){this.position=e,this.inclusive=i}}function a0(a,e,i){let r=0;for(let o=0;o<a.position.length;o++){const h=e[o],d=a.position[o];if(h.field.isKeyField()?r=Dt.comparator(Dt.fromName(d.referenceValue),i.key):r=Ur(d,i.data.field(h.field)),h.dir==="desc"&&(r*=-1),r!==0)break}return r}function r0(a,e){if(a===null)return e===null;if(e===null||a.inclusive!==e.inclusive||a.position.length!==e.position.length)return!1;for(let i=0;i<a.position.length;i++)if(!Ui(a.position[i],e.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dc{constructor(e,i="asc"){this.field=e,this.dir=i}}function nx(a,e){return a.dir===e.dir&&a.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Av{}class Ke extends Av{constructor(e,i,r){super(),this.field=e,this.op=i,this.value=r}static create(e,i,r){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,r):new sx(e,i,r):i==="array-contains"?new lx(e,r):i==="in"?new ox(e,r):i==="not-in"?new ux(e,r):i==="array-contains-any"?new cx(e,r):new Ke(e,i,r)}static createKeyFieldInFilter(e,i,r){return i==="in"?new ax(e,r):new rx(e,r)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Ur(i,this.value)):i!==null&&Js(this.value)===Js(i)&&this.matchesComparison(Ur(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Vt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Bi extends Av{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new Bi(e,i)}matches(e){return wv(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function wv(a){return a.op==="and"}function Cv(a){return ix(a)&&wv(a)}function ix(a){for(const e of a.filters)if(e instanceof Bi)return!1;return!0}function nd(a){if(a instanceof Ke)return a.field.canonicalString()+a.op.toString()+Br(a.value);if(Cv(a))return a.filters.map((e=>nd(e))).join(",");{const e=a.filters.map((i=>nd(i))).join(",");return`${a.op}(${e})`}}function Rv(a,e){return a instanceof Ke?(function(r,o){return o instanceof Ke&&r.op===o.op&&r.field.isEqual(o.field)&&Ui(r.value,o.value)})(a,e):a instanceof Bi?(function(r,o){return o instanceof Bi&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((h,d,p)=>h&&Rv(d,o.filters[p])),!0):!1})(a,e):void Vt(19439)}function Iv(a){return a instanceof Ke?(function(i){return`${i.field.canonicalString()} ${i.op} ${Br(i.value)}`})(a):a instanceof Bi?(function(i){return i.op.toString()+" {"+i.getFilters().map(Iv).join(" ,")+"}"})(a):"Filter"}class sx extends Ke{constructor(e,i,r){super(e,i,r),this.key=Dt.fromName(r.referenceValue)}matches(e){const i=Dt.comparator(e.key,this.key);return this.matchesComparison(i)}}class ax extends Ke{constructor(e,i){super(e,"in",i),this.keys=Dv("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class rx extends Ke{constructor(e,i){super(e,"not-in",i),this.keys=Dv("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function Dv(a,e){var i;return(((i=e.arrayValue)==null?void 0:i.values)||[]).map((r=>Dt.fromName(r.referenceValue)))}class lx extends Ke{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return wd(i)&&fo(i.arrayValue,this.value)}}class ox extends Ke{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&fo(this.value.arrayValue,i)}}class ux extends Ke{constructor(e,i){super(e,"not-in",i)}matches(e){if(fo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!fo(this.value.arrayValue,i)}}class cx extends Ke{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!wd(i)||!i.arrayValue.values)&&i.arrayValue.values.some((r=>fo(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hx{constructor(e,i=null,r=[],o=[],h=null,d=null,p=null){this.path=e,this.collectionGroup=i,this.orderBy=r,this.filters=o,this.limit=h,this.startAt=d,this.endAt=p,this.Te=null}}function l0(a,e=null,i=[],r=[],o=null,h=null,d=null){return new hx(a,e,i,r,o,h,d)}function Cd(a){const e=Lt(a);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((r=>nd(r))).join(","),i+="|ob:",i+=e.orderBy.map((r=>(function(h){return h.field.canonicalString()+h.dir})(r))).join(","),Tc(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((r=>Br(r))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((r=>Br(r))).join(",")),e.Te=i}return e.Te}function Rd(a,e){if(a.limit!==e.limit||a.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<a.orderBy.length;i++)if(!nx(a.orderBy[i],e.orderBy[i]))return!1;if(a.filters.length!==e.filters.length)return!1;for(let i=0;i<a.filters.length;i++)if(!Rv(a.filters[i],e.filters[i]))return!1;return a.collectionGroup===e.collectionGroup&&!!a.path.isEqual(e.path)&&!!r0(a.startAt,e.startAt)&&r0(a.endAt,e.endAt)}function id(a){return Dt.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sc{constructor(e,i=null,r=[],o=[],h=null,d="F",p=null,g=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=r,this.filters=o,this.limit=h,this.limitType=d,this.startAt=p,this.endAt=g,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function fx(a,e,i,r,o,h,d,p){return new Sc(a,e,i,r,o,h,d,p)}function Ac(a){return new Sc(a)}function o0(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.explicitOrderBy.length===0||a.explicitOrderBy.length===1&&a.explicitOrderBy[0].field.isKeyField())}function dx(a){return Dt.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}function mx(a){return a.collectionGroup!==null}function no(a){const e=Lt(a);if(e.Ie===null){e.Ie=[];const i=new Set;for(const h of e.explicitOrderBy)e.Ie.push(h),i.add(h.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new Ze(un.comparator);return d.filters.forEach((g=>{g.getFlattenedFilters().forEach((v=>{v.isInequality()&&(p=p.add(v.field))}))})),p})(e).forEach((h=>{i.has(h.canonicalString())||h.isKeyField()||e.Ie.push(new dc(h,r))})),i.has(un.keyField().canonicalString())||e.Ie.push(new dc(un.keyField(),r))}return e.Ie}function Li(a){const e=Lt(a);return e.Ee||(e.Ee=gx(e,no(a))),e.Ee}function gx(a,e){if(a.limitType==="F")return l0(a.path,a.collectionGroup,e,a.filters,a.limit,a.startAt,a.endAt);{e=e.map((o=>{const h=o.dir==="desc"?"asc":"desc";return new dc(o.field,h)}));const i=a.endAt?new fc(a.endAt.position,a.endAt.inclusive):null,r=a.startAt?new fc(a.startAt.position,a.startAt.inclusive):null;return l0(a.path,a.collectionGroup,e,a.filters,a.limit,i,r)}}function sd(a,e,i){return new Sc(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),e,i,a.startAt,a.endAt)}function wc(a,e){return Rd(Li(a),Li(e))&&a.limitType===e.limitType}function Nv(a){return`${Cd(Li(a))}|lt:${a.limitType}`}function Dr(a){return`Query(target=${(function(i){let r=i.path.canonicalString();return i.collectionGroup!==null&&(r+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(r+=`, filters: [${i.filters.map((o=>Iv(o))).join(", ")}]`),Tc(i.limit)||(r+=", limit: "+i.limit),i.orderBy.length>0&&(r+=`, orderBy: [${i.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),i.startAt&&(r+=", startAt: ",r+=i.startAt.inclusive?"b:":"a:",r+=i.startAt.position.map((o=>Br(o))).join(",")),i.endAt&&(r+=", endAt: ",r+=i.endAt.inclusive?"a:":"b:",r+=i.endAt.position.map((o=>Br(o))).join(",")),`Target(${r})`})(Li(a))}; limitType=${a.limitType})`}function Cc(a,e){return e.isFoundDocument()&&(function(r,o){const h=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(h):Dt.isDocumentKey(r.path)?r.path.isEqual(h):r.path.isImmediateParentOf(h)})(a,e)&&(function(r,o){for(const h of no(r))if(!h.field.isKeyField()&&o.data.field(h.field)===null)return!1;return!0})(a,e)&&(function(r,o){for(const h of r.filters)if(!h.matches(o))return!1;return!0})(a,e)&&(function(r,o){return!(r.startAt&&!(function(d,p,g){const v=a0(d,p,g);return d.inclusive?v<=0:v<0})(r.startAt,no(r),o)||r.endAt&&!(function(d,p,g){const v=a0(d,p,g);return d.inclusive?v>=0:v>0})(r.endAt,no(r),o))})(a,e)}function px(a){return a.collectionGroup||(a.path.length%2==1?a.path.lastSegment():a.path.get(a.path.length-2))}function Vv(a){return(e,i)=>{let r=!1;for(const o of no(a)){const h=yx(o,e,i);if(h!==0)return h;r=r||o.field.isKeyField()}return 0}}function yx(a,e,i){const r=a.field.isKeyField()?Dt.comparator(e.key,i.key):(function(h,d,p){const g=d.data.field(h),v=p.data.field(h);return g!==null&&v!==null?Ur(g,v):Vt(42886)})(a.field,e,i);switch(a.dir){case"asc":return r;case"desc":return-1*r;default:return Vt(19790,{direction:a.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ja{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),r=this.inner[i];if(r!==void 0){for(const[o,h]of r)if(this.equalsFn(o,e))return h}}has(e){return this.get(e)!==void 0}set(e,i){const r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return this.inner[r]=[[e,i]],void this.innerSize++;for(let h=0;h<o.length;h++)if(this.equalsFn(o[h][0],e))return void(o[h]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return r.length===1?delete this.inner[i]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Ma(this.inner,((i,r)=>{for(const[o,h]of r)e(o,h)}))}isEmpty(){return pv(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vx=new Re(Dt.comparator);function us(){return vx}const Ov=new Re(Dt.comparator);function $l(...a){let e=Ov;for(const i of a)e=e.insert(i.key,i);return e}function Mv(a){let e=Ov;return a.forEach(((i,r)=>e=e.insert(i,r.overlayedDocument))),e}function Da(){return io()}function jv(){return io()}function io(){return new ja((a=>a.toString()),((a,e)=>a.isEqual(e)))}const _x=new Re(Dt.comparator),bx=new Ze(Dt.comparator);function Kt(...a){let e=bx;for(const i of a)e=e.add(i);return e}const Ex=new Ze(Yt);function Tx(){return Ex}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Id(a,e){if(a.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:uc(e)?"-0":e}}function Lv(a){return{integerValue:""+a}}function xx(a,e){return YT(e)?Lv(e):Id(a,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rc{constructor(){this._=void 0}}function Sx(a,e,i){return a instanceof mo?(function(o,h){const d={fields:{[_v]:{stringValue:vv},[Ev]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return h&&Ad(h)&&(h=xc(h)),h&&(d.fields[bv]=h),{mapValue:d}})(i,e):a instanceof go?zv(a,e):a instanceof po?Uv(a,e):(function(o,h){const d=kv(o,h),p=u0(d)+u0(o.Ae);return ed(d)&&ed(o.Ae)?Lv(p):Id(o.serializer,p)})(a,e)}function Ax(a,e,i){return a instanceof go?zv(a,e):a instanceof po?Uv(a,e):i}function kv(a,e){return a instanceof mc?(function(r){return ed(r)||(function(h){return!!h&&"doubleValue"in h})(r)})(e)?e:{integerValue:0}:null}class mo extends Rc{}class go extends Rc{constructor(e){super(),this.elements=e}}function zv(a,e){const i=Bv(e);for(const r of a.elements)i.some((o=>Ui(o,r)))||i.push(r);return{arrayValue:{values:i}}}class po extends Rc{constructor(e){super(),this.elements=e}}function Uv(a,e){let i=Bv(e);for(const r of a.elements)i=i.filter((o=>!Ui(o,r)));return{arrayValue:{values:i}}}class mc extends Rc{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function u0(a){return je(a.integerValue||a.doubleValue)}function Bv(a){return wd(a)&&a.arrayValue.values?a.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wx{constructor(e,i){this.field=e,this.transform=i}}function Cx(a,e){return a.field.isEqual(e.field)&&(function(r,o){return r instanceof go&&o instanceof go||r instanceof po&&o instanceof po?zr(r.elements,o.elements,Ui):r instanceof mc&&o instanceof mc?Ui(r.Ae,o.Ae):r instanceof mo&&o instanceof mo})(a.transform,e.transform)}class Rx{constructor(e,i){this.version=e,this.transformResults=i}}class rs{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new rs}static exists(e){return new rs(void 0,e)}static updateTime(e){return new rs(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function tc(a,e){return a.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(a.updateTime):a.exists===void 0||a.exists===e.isFoundDocument()}class Ic{}function Pv(a,e){if(!a.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return a.isNoDocument()?new Hv(a.key,rs.none()):new bo(a.key,a.data,rs.none());{const i=a.data,r=ii.empty();let o=new Ze(un.comparator);for(let h of e.fields)if(!o.has(h)){let d=i.field(h);d===null&&h.length>1&&(h=h.popLast(),d=i.field(h)),d===null?r.delete(h):r.set(h,d),o=o.add(h)}return new La(a.key,r,new di(o.toArray()),rs.none())}}function Ix(a,e,i){a instanceof bo?(function(o,h,d){const p=o.value.clone(),g=h0(o.fieldTransforms,h,d.transformResults);p.setAll(g),h.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(a,e,i):a instanceof La?(function(o,h,d){if(!tc(o.precondition,h))return void h.convertToUnknownDocument(d.version);const p=h0(o.fieldTransforms,h,d.transformResults),g=h.data;g.setAll(qv(o)),g.setAll(p),h.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(a,e,i):(function(o,h,d){h.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function so(a,e,i,r){return a instanceof bo?(function(h,d,p,g){if(!tc(h.precondition,d))return p;const v=h.value.clone(),T=f0(h.fieldTransforms,g,d);return v.setAll(T),d.convertToFoundDocument(d.version,v).setHasLocalMutations(),null})(a,e,i,r):a instanceof La?(function(h,d,p,g){if(!tc(h.precondition,d))return p;const v=f0(h.fieldTransforms,g,d),T=d.data;return T.setAll(qv(h)),T.setAll(v),d.convertToFoundDocument(d.version,T).setHasLocalMutations(),p===null?null:p.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map((A=>A.field)))})(a,e,i,r):(function(h,d,p){return tc(h.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(a,e,i)}function Dx(a,e){let i=null;for(const r of a.fieldTransforms){const o=e.data.field(r.field),h=kv(r.transform,o||null);h!=null&&(i===null&&(i=ii.empty()),i.set(r.field,h))}return i||null}function c0(a,e){return a.type===e.type&&!!a.key.isEqual(e.key)&&!!a.precondition.isEqual(e.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&zr(r,o,((h,d)=>Cx(h,d)))})(a.fieldTransforms,e.fieldTransforms)&&(a.type===0?a.value.isEqual(e.value):a.type!==1||a.data.isEqual(e.data)&&a.fieldMask.isEqual(e.fieldMask))}class bo extends Ic{constructor(e,i,r,o=[]){super(),this.key=e,this.value=i,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class La extends Ic{constructor(e,i,r,o,h=[]){super(),this.key=e,this.data=i,this.fieldMask=r,this.precondition=o,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function qv(a){const e=new Map;return a.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const r=a.data.field(i);e.set(i,r)}})),e}function h0(a,e,i){const r=new Map;ae(a.length===i.length,32656,{Ve:i.length,de:a.length});for(let o=0;o<i.length;o++){const h=a[o],d=h.transform,p=e.data.field(h.field);r.set(h.field,Ax(d,p,i[o]))}return r}function f0(a,e,i){const r=new Map;for(const o of a){const h=o.transform,d=i.data.field(o.field);r.set(o.field,Sx(h,d,e))}return r}class Hv extends Ic{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Nx extends Ic{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vx{constructor(e,i,r,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,i){const r=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const h=this.mutations[o];h.key.isEqual(e.key)&&Ix(h,e,r[o])}}applyToLocalView(e,i){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(i=so(r,e,i,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(i=so(r,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const r=jv();return this.mutations.forEach((o=>{const h=e.get(o.key),d=h.overlayedDocument;let p=this.applyToLocalView(d,h.mutatedFields);p=i.has(o.key)?null:p;const g=Pv(d,p);g!==null&&r.set(o.key,g),d.isValidDocument()||d.convertToNoDocument(Mt.min())})),r}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),Kt())}isEqual(e){return this.batchId===e.batchId&&zr(this.mutations,e.mutations,((i,r)=>c0(i,r)))&&zr(this.baseMutations,e.baseMutations,((i,r)=>c0(i,r)))}}class Dd{constructor(e,i,r,o){this.batch=e,this.commitVersion=i,this.mutationResults=r,this.docVersions=o}static from(e,i,r){ae(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let o=(function(){return _x})();const h=e.mutations;for(let d=0;d<h.length;d++)o=o.insert(h[d].key,r[d].version);return new Dd(e,i,r,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ox{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mx{constructor(e,i){this.count=e,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ge,Jt;function jx(a){switch(a){case lt.OK:return Vt(64938);case lt.CANCELLED:case lt.UNKNOWN:case lt.DEADLINE_EXCEEDED:case lt.RESOURCE_EXHAUSTED:case lt.INTERNAL:case lt.UNAVAILABLE:case lt.UNAUTHENTICATED:return!1;case lt.INVALID_ARGUMENT:case lt.NOT_FOUND:case lt.ALREADY_EXISTS:case lt.PERMISSION_DENIED:case lt.FAILED_PRECONDITION:case lt.ABORTED:case lt.OUT_OF_RANGE:case lt.UNIMPLEMENTED:case lt.DATA_LOSS:return!0;default:return Vt(15467,{code:a})}}function Fv(a){if(a===void 0)return os("GRPC error has no .code"),lt.UNKNOWN;switch(a){case Ge.OK:return lt.OK;case Ge.CANCELLED:return lt.CANCELLED;case Ge.UNKNOWN:return lt.UNKNOWN;case Ge.DEADLINE_EXCEEDED:return lt.DEADLINE_EXCEEDED;case Ge.RESOURCE_EXHAUSTED:return lt.RESOURCE_EXHAUSTED;case Ge.INTERNAL:return lt.INTERNAL;case Ge.UNAVAILABLE:return lt.UNAVAILABLE;case Ge.UNAUTHENTICATED:return lt.UNAUTHENTICATED;case Ge.INVALID_ARGUMENT:return lt.INVALID_ARGUMENT;case Ge.NOT_FOUND:return lt.NOT_FOUND;case Ge.ALREADY_EXISTS:return lt.ALREADY_EXISTS;case Ge.PERMISSION_DENIED:return lt.PERMISSION_DENIED;case Ge.FAILED_PRECONDITION:return lt.FAILED_PRECONDITION;case Ge.ABORTED:return lt.ABORTED;case Ge.OUT_OF_RANGE:return lt.OUT_OF_RANGE;case Ge.UNIMPLEMENTED:return lt.UNIMPLEMENTED;case Ge.DATA_LOSS:return lt.DATA_LOSS;default:return Vt(39323,{code:a})}}(Jt=Ge||(Ge={}))[Jt.OK=0]="OK",Jt[Jt.CANCELLED=1]="CANCELLED",Jt[Jt.UNKNOWN=2]="UNKNOWN",Jt[Jt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Jt[Jt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Jt[Jt.NOT_FOUND=5]="NOT_FOUND",Jt[Jt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Jt[Jt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Jt[Jt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Jt[Jt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Jt[Jt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Jt[Jt.ABORTED=10]="ABORTED",Jt[Jt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Jt[Jt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Jt[Jt.INTERNAL=13]="INTERNAL",Jt[Jt.UNAVAILABLE=14]="UNAVAILABLE",Jt[Jt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lx(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kx=new Qs([4294967295,4294967295],0);function d0(a){const e=Lx().encode(a),i=new rv;return i.update(e),new Uint8Array(i.digest())}function m0(a){const e=new DataView(a.buffer),i=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),h=e.getUint32(12,!0);return[new Qs([i,r],0),new Qs([o,h],0)]}class Nd{constructor(e,i,r){if(this.bitmap=e,this.padding=i,this.hashCount=r,i<0||i>=8)throw new Jl(`Invalid padding: ${i}`);if(r<0)throw new Jl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Jl(`Invalid hash count: ${r}`);if(e.length===0&&i!==0)throw new Jl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=Qs.fromNumber(this.ge)}ye(e,i,r){let o=e.add(i.multiply(Qs.fromNumber(r)));return o.compare(kx)===1&&(o=new Qs([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=d0(e),[r,o]=m0(i);for(let h=0;h<this.hashCount;h++){const d=this.ye(r,o,h);if(!this.we(d))return!1}return!0}static create(e,i,r){const o=e%8==0?0:8-e%8,h=new Uint8Array(Math.ceil(e/8)),d=new Nd(h,o,i);return r.forEach((p=>d.insert(p))),d}insert(e){if(this.ge===0)return;const i=d0(e),[r,o]=m0(i);for(let h=0;h<this.hashCount;h++){const d=this.ye(r,o,h);this.be(d)}}be(e){const i=Math.floor(e/8),r=e%8;this.bitmap[i]|=1<<r}}class Jl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dc{constructor(e,i,r,o,h){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(e,i,r){const o=new Map;return o.set(e,Eo.createSynthesizedTargetChangeForCurrentChange(e,i,r)),new Dc(Mt.min(),o,new Re(Yt),us(),Kt())}}class Eo{constructor(e,i,r,o,h){this.resumeToken=e,this.current=i,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(e,i,r){return new Eo(r,i,Kt(),Kt(),Kt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ec{constructor(e,i,r,o){this.Se=e,this.removedTargetIds=i,this.key=r,this.De=o}}class Gv{constructor(e,i){this.targetId=e,this.Ce=i}}class Qv{constructor(e,i,r=cn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=r,this.cause=o}}class g0{constructor(){this.ve=0,this.Fe=p0(),this.Me=cn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Kt(),i=Kt(),r=Kt();return this.Fe.forEach(((o,h)=>{switch(h){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:r=r.add(o);break;default:Vt(38017,{changeType:h})}})),new Eo(this.Me,this.xe,e,i,r)}Ke(){this.Oe=!1,this.Fe=p0()}qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,ae(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class zx{constructor(e){this.Ge=e,this.ze=new Map,this.je=us(),this.He=Ku(),this.Je=Ku(),this.Ze=new Re(Yt)}Xe(e){for(const i of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const r=this.nt(i);switch(e.state){case 0:this.rt(i)&&r.Le(e.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(e.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(r.Qe(),r.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),r.Le(e.resumeToken));break;default:Vt(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((r,o)=>{this.rt(o)&&i(o)}))}st(e){const i=e.targetId,r=e.Ce.count,o=this.ot(i);if(o){const h=o.target;if(id(h))if(r===0){const d=new Dt(h.path);this.et(i,d,yn.newNoDocument(d,Mt.min()))}else ae(r===1,20013,{expectedCount:r});else{const d=this._t(i);if(d!==r){const p=this.ut(e),g=p?this.ct(p,e,d):1;if(g!==0){this.it(i);const v=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(i,v)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:h=0}=i;let d,p;try{d=$s(r).toUint8Array()}catch(g){if(g instanceof yv)return kr("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{p=new Nd(d,o,h)}catch(g){return kr(g instanceof Jl?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return p.ge===0?null:p}ct(e,i,r){return i.Ce.count===r-this.Pt(e,i.targetId)?0:2}Pt(e,i){const r=this.Ge.getRemoteKeysForTarget(i);let o=0;return r.forEach((h=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${h.path.canonicalString()}`;e.mightContain(p)||(this.et(i,h,null),o++)})),o}Tt(e){const i=new Map;this.ze.forEach(((h,d)=>{const p=this.ot(d);if(p){if(h.current&&id(p.target)){const g=new Dt(p.target.path);this.It(g).has(d)||this.Et(d,g)||this.et(d,g,yn.newNoDocument(g,e))}h.Be&&(i.set(d,h.ke()),h.Ke())}}));let r=Kt();this.Je.forEach(((h,d)=>{let p=!0;d.forEachWhile((g=>{const v=this.ot(g);return!v||v.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(r=r.add(h))})),this.je.forEach(((h,d)=>d.setReadTime(e)));const o=new Dc(e,i,this.Ze,this.je,r);return this.je=us(),this.He=Ku(),this.Je=Ku(),this.Ze=new Re(Yt),o}Ye(e,i){if(!this.rt(e))return;const r=this.Et(e,i.key)?2:0;this.nt(e).qe(i.key,r),this.je=this.je.insert(i.key,i),this.He=this.He.insert(i.key,this.It(i.key).add(e)),this.Je=this.Je.insert(i.key,this.Rt(i.key).add(e))}et(e,i,r){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,i)?o.qe(i,1):o.Ue(i),this.Je=this.Je.insert(i,this.Rt(i).delete(e)),this.Je=this.Je.insert(i,this.Rt(i).add(e)),r&&(this.je=this.je.insert(i,r))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let i=this.ze.get(e);return i||(i=new g0,this.ze.set(e,i)),i}Rt(e){let i=this.Je.get(e);return i||(i=new Ze(Yt),this.Je=this.Je.insert(e,i)),i}It(e){let i=this.He.get(e);return i||(i=new Ze(Yt),this.He=this.He.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||bt("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new g0),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function Ku(){return new Re(Dt.comparator)}function p0(){return new Re(Dt.comparator)}const Ux={asc:"ASCENDING",desc:"DESCENDING"},Bx={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Px={and:"AND",or:"OR"};class qx{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function ad(a,e){return a.useProto3Json||Tc(e)?e:{value:e}}function gc(a,e){return a.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Yv(a,e){return a.useProto3Json?e.toBase64():e.toUint8Array()}function Hx(a,e){return gc(a,e.toTimestamp())}function ki(a){return ae(!!a,49232),Mt.fromTimestamp((function(i){const r=Zs(i);return new Te(r.seconds,r.nanos)})(a))}function Vd(a,e){return rd(a,e).canonicalString()}function rd(a,e){const i=(function(o){return new Ce(["projects",o.projectId,"databases",o.database])})(a).child("documents");return e===void 0?i:i.child(e)}function Kv(a){const e=Ce.fromString(a);return ae(Wv(e),10190,{key:e.toString()}),e}function ld(a,e){return Vd(a.databaseId,e.path)}function Hf(a,e){const i=Kv(e);if(i.get(1)!==a.databaseId.projectId)throw new wt(lt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+a.databaseId.projectId);if(i.get(3)!==a.databaseId.database)throw new wt(lt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+a.databaseId.database);return new Dt(Zv(i))}function Xv(a,e){return Vd(a.databaseId,e)}function Fx(a){const e=Kv(a);return e.length===4?Ce.emptyPath():Zv(e)}function od(a){return new Ce(["projects",a.databaseId.projectId,"databases",a.databaseId.database]).canonicalString()}function Zv(a){return ae(a.length>4&&a.get(4)==="documents",29091,{key:a.toString()}),a.popFirst(5)}function y0(a,e,i){return{name:ld(a,e),fields:i.value.mapValue.fields}}function Gx(a,e){let i;if("targetChange"in e){e.targetChange;const r=(function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:Vt(39313,{state:v})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],h=(function(v,T){return v.useProto3Json?(ae(T===void 0||typeof T=="string",58123),cn.fromBase64String(T||"")):(ae(T===void 0||T instanceof Buffer||T instanceof Uint8Array,16193),cn.fromUint8Array(T||new Uint8Array))})(a,e.targetChange.resumeToken),d=e.targetChange.cause,p=d&&(function(v){const T=v.code===void 0?lt.UNKNOWN:Fv(v.code);return new wt(T,v.message||"")})(d);i=new Qv(r,o,h,p||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const o=Hf(a,r.document.name),h=ki(r.document.updateTime),d=r.document.createTime?ki(r.document.createTime):Mt.min(),p=new ii({mapValue:{fields:r.document.fields}}),g=yn.newFoundDocument(o,h,d,p),v=r.targetIds||[],T=r.removedTargetIds||[];i=new ec(v,T,g.key,g)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const o=Hf(a,r.document),h=r.readTime?ki(r.readTime):Mt.min(),d=yn.newNoDocument(o,h),p=r.removedTargetIds||[];i=new ec([],p,d.key,d)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const o=Hf(a,r.document),h=r.removedTargetIds||[];i=new ec([],h,o,null)}else{if(!("filter"in e))return Vt(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:o=0,unchangedNames:h}=r,d=new Mx(o,h),p=r.targetId;i=new Gv(p,d)}}return i}function Qx(a,e){let i;if(e instanceof bo)i={update:y0(a,e.key,e.value)};else if(e instanceof Hv)i={delete:ld(a,e.key)};else if(e instanceof La)i={update:y0(a,e.key,e.data),updateMask:eS(e.fieldMask)};else{if(!(e instanceof Nx))return Vt(16599,{dt:e.type});i={verify:ld(a,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((r=>(function(h,d){const p=d.transform;if(p instanceof mo)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof go)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof po)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof mc)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw Vt(20930,{transform:d.transform})})(0,r)))),e.precondition.isNone||(i.currentDocument=(function(o,h){return h.updateTime!==void 0?{updateTime:Hx(o,h.updateTime)}:h.exists!==void 0?{exists:h.exists}:Vt(27497)})(a,e.precondition)),i}function Yx(a,e){return a&&a.length>0?(ae(e!==void 0,14353),a.map((i=>(function(o,h){let d=o.updateTime?ki(o.updateTime):ki(h);return d.isEqual(Mt.min())&&(d=ki(h)),new Rx(d,o.transformResults||[])})(i,e)))):[]}function Kx(a,e){return{documents:[Xv(a,e.path)]}}function Xx(a,e){const i={structuredQuery:{}},r=e.path;let o;e.collectionGroup!==null?(o=r,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=r.popLast(),i.structuredQuery.from=[{collectionId:r.lastSegment()}]),i.parent=Xv(a,o);const h=(function(v){if(v.length!==0)return Jv(Bi.create(v,"and"))})(e.filters);h&&(i.structuredQuery.where=h);const d=(function(v){if(v.length!==0)return v.map((T=>(function(C){return{field:Nr(C.field),direction:Jx(C.dir)}})(T)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const p=ad(a,e.limit);return p!==null&&(i.structuredQuery.limit=p),e.startAt&&(i.structuredQuery.startAt=(function(v){return{before:v.inclusive,values:v.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(v){return{before:!v.inclusive,values:v.position}})(e.endAt)),{ft:i,parent:o}}function Zx(a){let e=Fx(a.parent);const i=a.structuredQuery,r=i.from?i.from.length:0;let o=null;if(r>0){ae(r===1,65062);const T=i.from[0];T.allDescendants?o=T.collectionId:e=e.child(T.collectionId)}let h=[];i.where&&(h=(function(A){const C=$v(A);return C instanceof Bi&&Cv(C)?C.getFilters():[C]})(i.where));let d=[];i.orderBy&&(d=(function(A){return A.map((C=>(function(Z){return new dc(Vr(Z.field),(function(V){switch(V){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(Z.direction))})(C)))})(i.orderBy));let p=null;i.limit&&(p=(function(A){let C;return C=typeof A=="object"?A.value:A,Tc(C)?null:C})(i.limit));let g=null;i.startAt&&(g=(function(A){const C=!!A.before,U=A.values||[];return new fc(U,C)})(i.startAt));let v=null;return i.endAt&&(v=(function(A){const C=!A.before,U=A.values||[];return new fc(U,C)})(i.endAt)),fx(e,o,d,h,p,"F",g,v)}function $x(a,e){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Vt(28987,{purpose:o})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function $v(a){return a.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const r=Vr(i.unaryFilter.field);return Ke.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=Vr(i.unaryFilter.field);return Ke.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=Vr(i.unaryFilter.field);return Ke.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Vr(i.unaryFilter.field);return Ke.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Vt(61313);default:return Vt(60726)}})(a):a.fieldFilter!==void 0?(function(i){return Ke.create(Vr(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Vt(58110);default:return Vt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(a):a.compositeFilter!==void 0?(function(i){return Bi.create(i.compositeFilter.filters.map((r=>$v(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Vt(1026)}})(i.compositeFilter.op))})(a):Vt(30097,{filter:a})}function Jx(a){return Ux[a]}function Wx(a){return Bx[a]}function tS(a){return Px[a]}function Nr(a){return{fieldPath:a.canonicalString()}}function Vr(a){return un.fromServerFormat(a.fieldPath)}function Jv(a){return a instanceof Ke?(function(i){if(i.op==="=="){if(s0(i.value))return{unaryFilter:{field:Nr(i.field),op:"IS_NAN"}};if(i0(i.value))return{unaryFilter:{field:Nr(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(s0(i.value))return{unaryFilter:{field:Nr(i.field),op:"IS_NOT_NAN"}};if(i0(i.value))return{unaryFilter:{field:Nr(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Nr(i.field),op:Wx(i.op),value:i.value}}})(a):a instanceof Bi?(function(i){const r=i.getFilters().map((o=>Jv(o)));return r.length===1?r[0]:{compositeFilter:{op:tS(i.op),filters:r}}})(a):Vt(54877,{filter:a})}function eS(a){const e=[];return a.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function Wv(a){return a.length>=4&&a.get(0)==="projects"&&a.get(2)==="databases"}function t_(a){return!!a&&typeof a._toProto=="function"&&a._protoValueType==="ProtoValue"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hs{constructor(e,i,r,o,h=Mt.min(),d=Mt.min(),p=cn.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=i,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=g}withSequenceNumber(e){return new Hs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new Hs(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Hs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Hs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nS{constructor(e){this.yt=e}}function iS(a){const e=Zx({parent:a.parent,structuredQuery:a.structuredQuery});return a.limitType==="LAST"?sd(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sS{constructor(){this.Sn=new aS}addToCollectionParentIndex(e,i){return this.Sn.add(i),at.resolve()}getCollectionParents(e,i){return at.resolve(this.Sn.getEntries(i))}addFieldIndex(e,i){return at.resolve()}deleteFieldIndex(e,i){return at.resolve()}deleteAllFieldIndexes(e){return at.resolve()}createTargetIndexes(e,i){return at.resolve()}getDocumentsMatchingTarget(e,i){return at.resolve(null)}getIndexType(e,i){return at.resolve(0)}getFieldIndexes(e,i){return at.resolve([])}getNextCollectionGroupToUpdate(e){return at.resolve(null)}getMinOffset(e,i){return at.resolve(Xs.min())}getMinOffsetFromCollectionGroup(e,i){return at.resolve(Xs.min())}updateCollectionGroup(e,i,r){return at.resolve()}updateIndexEntries(e,i){return at.resolve()}}class aS{constructor(){this.index={}}add(e){const i=e.lastSegment(),r=e.popLast(),o=this.index[i]||new Ze(Ce.comparator),h=!o.has(r);return this.index[i]=o.add(r),h}has(e){const i=e.lastSegment(),r=e.popLast(),o=this.index[i];return o&&o.has(r)}getEntries(e){return(this.index[e]||new Ze(Ce.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},e_=41943040;class Nn{static withCacheSize(e){return new Nn(e,Nn.DEFAULT_COLLECTION_PERCENTILE,Nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Nn.DEFAULT_COLLECTION_PERCENTILE=10,Nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Nn.DEFAULT=new Nn(e_,Nn.DEFAULT_COLLECTION_PERCENTILE,Nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Nn.DISABLED=new Nn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new Pr(0)}static ar(){return new Pr(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _0="LruGarbageCollector",rS=1048576;function b0([a,e],[i,r]){const o=Yt(a,i);return o===0?Yt(e,r):o}class lS{constructor(e){this.Pr=e,this.buffer=new Ze(b0),this.Tr=0}Ir(){return++this.Tr}Er(e){const i=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(i);else{const r=this.buffer.last();b0(i,r)<0&&(this.buffer=this.buffer.delete(r).add(i))}}get maxValue(){return this.buffer.last()[0]}}class oS{constructor(e,i,r){this.garbageCollector=e,this.asyncQueue=i,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){bt(_0,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Qr(i)?bt(_0,"Ignoring IndexedDB error during garbage collection: ",i):await Gr(i)}await this.Ar(3e5)}))}}class uS{constructor(e,i){this.Vr=e,this.params=i}calculateTargetCount(e,i){return this.Vr.dr(e).next((r=>Math.floor(i/100*r)))}nthSequenceNumber(e,i){if(i===0)return at.resolve(Ec.ce);const r=new lS(i);return this.Vr.forEachTarget(e,(o=>r.Er(o.sequenceNumber))).next((()=>this.Vr.mr(e,(o=>r.Er(o))))).next((()=>r.maxValue))}removeTargets(e,i,r){return this.Vr.removeTargets(e,i,r)}removeOrphanedDocuments(e,i){return this.Vr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(bt("LruGarbageCollector","Garbage collection skipped; disabled"),at.resolve(v0)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(bt("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),v0):this.gr(e,i)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,i){let r,o,h,d,p,g,v;const T=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((A=>(A>this.params.maximumSequenceNumbersToCollect?(bt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),o=this.params.maximumSequenceNumbersToCollect):o=A,d=Date.now(),this.nthSequenceNumber(e,o)))).next((A=>(r=A,p=Date.now(),this.removeTargets(e,r,i)))).next((A=>(h=A,g=Date.now(),this.removeOrphanedDocuments(e,r)))).next((A=>(v=Date.now(),Ir()<=Wt.DEBUG&&bt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-T}ms
	Determined least recently used ${o} in `+(p-d)+`ms
	Removed ${h} targets in `+(g-p)+`ms
	Removed ${A} documents in `+(v-g)+`ms
Total Duration: ${v-T}ms`),at.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:h,documentsRemoved:A}))))}}function cS(a,e){return new uS(a,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hS{constructor(){this.changes=new ja((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,yn.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const r=this.changes.get(i);return r!==void 0?at.resolve(r):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fS{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dS{constructor(e,i,r,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,i){let r=null;return this.documentOverlayCache.getOverlay(e,i).next((o=>(r=o,this.remoteDocumentCache.getEntry(e,i)))).next((o=>(r!==null&&so(r.mutation,o,di.empty(),Te.now()),o)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((r=>this.getLocalViewOfDocuments(e,r,Kt()).next((()=>r))))}getLocalViewOfDocuments(e,i,r=Kt()){const o=Da();return this.populateOverlays(e,o,i).next((()=>this.computeViews(e,i,o,r).next((h=>{let d=$l();return h.forEach(((p,g)=>{d=d.insert(p,g.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const r=Da();return this.populateOverlays(e,r,i).next((()=>this.computeViews(e,i,r,Kt())))}populateOverlays(e,i,r){const o=[];return r.forEach((h=>{i.has(h)||o.push(h)})),this.documentOverlayCache.getOverlays(e,o).next((h=>{h.forEach(((d,p)=>{i.set(d,p)}))}))}computeViews(e,i,r,o){let h=us();const d=io(),p=(function(){return io()})();return i.forEach(((g,v)=>{const T=r.get(v.key);o.has(v.key)&&(T===void 0||T.mutation instanceof La)?h=h.insert(v.key,v):T!==void 0?(d.set(v.key,T.mutation.getFieldMask()),so(T.mutation,v,T.mutation.getFieldMask(),Te.now())):d.set(v.key,di.empty())})),this.recalculateAndSaveOverlays(e,h).next((g=>(g.forEach(((v,T)=>d.set(v,T))),i.forEach(((v,T)=>p.set(v,new fS(T,d.get(v)??null)))),p)))}recalculateAndSaveOverlays(e,i){const r=io();let o=new Re(((d,p)=>d-p)),h=Kt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const p of d)p.keys().forEach((g=>{const v=i.get(g);if(v===null)return;let T=r.get(g)||di.empty();T=p.applyToLocalView(v,T),r.set(g,T);const A=(o.get(p.batchId)||Kt()).add(g);o=o.insert(p.batchId,A)}))})).next((()=>{const d=[],p=o.getReverseIterator();for(;p.hasNext();){const g=p.getNext(),v=g.key,T=g.value,A=jv();T.forEach((C=>{if(!h.has(C)){const U=Pv(i.get(C),r.get(C));U!==null&&A.set(C,U),h=h.add(C)}})),d.push(this.documentOverlayCache.saveOverlays(e,v,A))}return at.waitFor(d)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,i,r,o){return dx(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):mx(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,r,o):this.getDocumentsMatchingCollectionQuery(e,i,r,o)}getNextDocuments(e,i,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,r,o).next((h=>{const d=o-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,r.largestBatchId,o-h.size):at.resolve(Da());let p=uo,g=h;return d.next((v=>at.forEach(v,((T,A)=>(p<A.largestBatchId&&(p=A.largestBatchId),h.get(T)?at.resolve():this.remoteDocumentCache.getEntry(e,T).next((C=>{g=g.insert(T,C)}))))).next((()=>this.populateOverlays(e,v,h))).next((()=>this.computeViews(e,g,v,Kt()))).next((T=>({batchId:p,changes:Mv(T)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new Dt(i)).next((r=>{let o=$l();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(e,i,r,o){const h=i.collectionGroup;let d=$l();return this.indexManager.getCollectionParents(e,h).next((p=>at.forEach(p,(g=>{const v=(function(A,C){return new Sc(C,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)})(i,g.child(h));return this.getDocumentsMatchingCollectionQuery(e,v,r,o).next((T=>{T.forEach(((A,C)=>{d=d.insert(A,C)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,r,o){let h;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,r.largestBatchId).next((d=>(h=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,r,h,o)))).next((d=>{h.forEach(((g,v)=>{const T=v.getKey();d.get(T)===null&&(d=d.insert(T,yn.newInvalidDocument(T)))}));let p=$l();return d.forEach(((g,v)=>{const T=h.get(g);T!==void 0&&so(T.mutation,v,di.empty(),Te.now()),Cc(i,v)&&(p=p.insert(g,v))})),p}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mS{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,i){return at.resolve(this.Nr.get(i))}saveBundleMetadata(e,i){return this.Nr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:ki(o.createTime)}})(i)),at.resolve()}getNamedQuery(e,i){return at.resolve(this.Br.get(i))}saveNamedQuery(e,i){return this.Br.set(i.name,(function(o){return{name:o.name,query:iS(o.bundledQuery),readTime:ki(o.readTime)}})(i)),at.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gS{constructor(){this.overlays=new Re(Dt.comparator),this.Lr=new Map}getOverlay(e,i){return at.resolve(this.overlays.get(i))}getOverlays(e,i){const r=Da();return at.forEach(i,(o=>this.getOverlay(e,o).next((h=>{h!==null&&r.set(o,h)})))).next((()=>r))}saveOverlays(e,i,r){return r.forEach(((o,h)=>{this.bt(e,i,h)})),at.resolve()}removeOverlaysForBatchId(e,i,r){const o=this.Lr.get(r);return o!==void 0&&(o.forEach((h=>this.overlays=this.overlays.remove(h))),this.Lr.delete(r)),at.resolve()}getOverlaysForCollection(e,i,r){const o=Da(),h=i.length+1,d=new Dt(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const g=p.getNext().value,v=g.getKey();if(!i.isPrefixOf(v.path))break;v.path.length===h&&g.largestBatchId>r&&o.set(g.getKey(),g)}return at.resolve(o)}getOverlaysForCollectionGroup(e,i,r,o){let h=new Re(((v,T)=>v-T));const d=this.overlays.getIterator();for(;d.hasNext();){const v=d.getNext().value;if(v.getKey().getCollectionGroup()===i&&v.largestBatchId>r){let T=h.get(v.largestBatchId);T===null&&(T=Da(),h=h.insert(v.largestBatchId,T)),T.set(v.getKey(),v)}}const p=Da(),g=h.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((v,T)=>p.set(v,T))),!(p.size()>=o)););return at.resolve(p)}bt(e,i,r){const o=this.overlays.get(r.key);if(o!==null){const d=this.Lr.get(o.largestBatchId).delete(r.key);this.Lr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new Ox(i,r));let h=this.Lr.get(i);h===void 0&&(h=Kt(),this.Lr.set(i,h)),this.Lr.set(i,h.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pS{constructor(){this.sessionToken=cn.EMPTY_BYTE_STRING}getSessionToken(e){return at.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,at.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Od{constructor(){this.kr=new Ze(tn.Kr),this.qr=new Ze(tn.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,i){const r=new tn(e,i);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(e,i){e.forEach((r=>this.addReference(r,i)))}removeReference(e,i){this.Wr(new tn(e,i))}Qr(e,i){e.forEach((r=>this.removeReference(r,i)))}Gr(e){const i=new Dt(new Ce([])),r=new tn(i,e),o=new tn(i,e+1),h=[];return this.qr.forEachInRange([r,o],(d=>{this.Wr(d),h.push(d.key)})),h}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const i=new Dt(new Ce([])),r=new tn(i,e),o=new tn(i,e+1);let h=Kt();return this.qr.forEachInRange([r,o],(d=>{h=h.add(d.key)})),h}containsKey(e){const i=new tn(e,0),r=this.kr.firstAfterOrEqual(i);return r!==null&&e.isEqual(r.key)}}class tn{constructor(e,i){this.key=e,this.Hr=i}static Kr(e,i){return Dt.comparator(e.key,i.key)||Yt(e.Hr,i.Hr)}static Ur(e,i){return Yt(e.Hr,i.Hr)||Dt.comparator(e.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yS{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.Yn=1,this.Jr=new Ze(tn.Kr)}checkEmpty(e){return at.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,r,o){const h=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new Vx(h,i,r,o);this.mutationQueue.push(d);for(const p of o)this.Jr=this.Jr.add(new tn(p.key,h)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return at.resolve(d)}lookupMutationBatch(e,i){return at.resolve(this.Zr(i))}getNextMutationBatchAfterBatchId(e,i){const r=i+1,o=this.Xr(r),h=o<0?0:o;return at.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return at.resolve(this.mutationQueue.length===0?Sd:this.Yn-1)}getAllMutationBatches(e){return at.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const r=new tn(i,0),o=new tn(i,Number.POSITIVE_INFINITY),h=[];return this.Jr.forEachInRange([r,o],(d=>{const p=this.Zr(d.Hr);h.push(p)})),at.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(e,i){let r=new Ze(Yt);return i.forEach((o=>{const h=new tn(o,0),d=new tn(o,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([h,d],(p=>{r=r.add(p.Hr)}))})),at.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(e,i){const r=i.path,o=r.length+1;let h=r;Dt.isDocumentKey(h)||(h=h.child(""));const d=new tn(new Dt(h),0);let p=new Ze(Yt);return this.Jr.forEachWhile((g=>{const v=g.key.path;return!!r.isPrefixOf(v)&&(v.length===o&&(p=p.add(g.Hr)),!0)}),d),at.resolve(this.Yr(p))}Yr(e){const i=[];return e.forEach((r=>{const o=this.Zr(r);o!==null&&i.push(o)})),i}removeMutationBatch(e,i){ae(this.ei(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return at.forEach(i.mutations,(o=>{const h=new tn(o.key,i.batchId);return r=r.delete(h),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Jr=r}))}nr(e){}containsKey(e,i){const r=new tn(i,0),o=this.Jr.firstAfterOrEqual(r);return at.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,at.resolve()}ei(e,i){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const i=this.Xr(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vS{constructor(e){this.ti=e,this.docs=(function(){return new Re(Dt.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const r=i.key,o=this.docs.get(r),h=o?o.size:0,d=this.ti(i);return this.docs=this.docs.insert(r,{document:i.mutableCopy(),size:d}),this.size+=d-h,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const r=this.docs.get(i);return at.resolve(r?r.document.mutableCopy():yn.newInvalidDocument(i))}getEntries(e,i){let r=us();return i.forEach((o=>{const h=this.docs.get(o);r=r.insert(o,h?h.document.mutableCopy():yn.newInvalidDocument(o))})),at.resolve(r)}getDocumentsMatchingQuery(e,i,r,o){let h=us();const d=i.path,p=new Dt(d.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(p);for(;g.hasNext();){const{key:v,value:{document:T}}=g.getNext();if(!d.isPrefixOf(v.path))break;v.path.length>d.length+1||HT(qT(T),r)<=0||(o.has(T.key)||Cc(i,T))&&(h=h.insert(T.key,T.mutableCopy()))}return at.resolve(h)}getAllFromCollectionGroup(e,i,r,o){Vt(9500)}ni(e,i){return at.forEach(this.docs,(r=>i(r)))}newChangeBuffer(e){return new _S(this)}getSize(e){return at.resolve(this.size)}}class _S extends hS{constructor(e){super(),this.Mr=e}applyChanges(e){const i=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?i.push(this.Mr.addEntry(e,o)):this.Mr.removeEntry(r)})),at.waitFor(i)}getFromCache(e,i){return this.Mr.getEntry(e,i)}getAllFromCache(e,i){return this.Mr.getEntries(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bS{constructor(e){this.persistence=e,this.ri=new ja((i=>Cd(i)),Rd),this.lastRemoteSnapshotVersion=Mt.min(),this.highestTargetId=0,this.ii=0,this.si=new Od,this.targetCount=0,this.oi=Pr._r()}forEachTarget(e,i){return this.ri.forEach(((r,o)=>i(o))),at.resolve()}getLastRemoteSnapshotVersion(e){return at.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return at.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),at.resolve(this.highestTargetId)}setTargetsMetadata(e,i,r){return r&&(this.lastRemoteSnapshotVersion=r),i>this.ii&&(this.ii=i),at.resolve()}lr(e){this.ri.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.oi=new Pr(i),this.highestTargetId=i),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,i){return this.lr(i),this.targetCount+=1,at.resolve()}updateTargetData(e,i){return this.lr(i),at.resolve()}removeTargetData(e,i){return this.ri.delete(i.target),this.si.Gr(i.targetId),this.targetCount-=1,at.resolve()}removeTargets(e,i,r){let o=0;const h=[];return this.ri.forEach(((d,p)=>{p.sequenceNumber<=i&&r.get(p.targetId)===null&&(this.ri.delete(d),h.push(this.removeMatchingKeysForTargetId(e,p.targetId)),o++)})),at.waitFor(h).next((()=>o))}getTargetCount(e){return at.resolve(this.targetCount)}getTargetData(e,i){const r=this.ri.get(i)||null;return at.resolve(r)}addMatchingKeys(e,i,r){return this.si.$r(i,r),at.resolve()}removeMatchingKeys(e,i,r){this.si.Qr(i,r);const o=this.persistence.referenceDelegate,h=[];return o&&i.forEach((d=>{h.push(o.markPotentiallyOrphaned(e,d))})),at.waitFor(h)}removeMatchingKeysForTargetId(e,i){return this.si.Gr(i),at.resolve()}getMatchingKeysForTargetId(e,i){const r=this.si.jr(i);return at.resolve(r)}containsKey(e,i){return at.resolve(this.si.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n_{constructor(e,i){this._i={},this.overlays={},this.ai=new Ec(0),this.ui=!1,this.ui=!0,this.ci=new pS,this.referenceDelegate=e(this),this.li=new bS(this),this.indexManager=new sS,this.remoteDocumentCache=(function(o){return new vS(o)})((r=>this.referenceDelegate.hi(r))),this.serializer=new nS(i),this.Pi=new mS(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new gS,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let r=this._i[e.toKey()];return r||(r=new yS(i,this.referenceDelegate),this._i[e.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,i,r){bt("MemoryPersistence","Starting transaction:",e);const o=new ES(this.ai.next());return this.referenceDelegate.Ti(),r(o).next((h=>this.referenceDelegate.Ii(o).next((()=>h)))).toPromise().then((h=>(o.raiseOnCommittedEvent(),h)))}Ei(e,i){return at.or(Object.values(this._i).map((r=>()=>r.containsKey(e,i))))}}class ES extends GT{constructor(e){super(),this.currentSequenceNumber=e}}class Md{constructor(e){this.persistence=e,this.Ri=new Od,this.Ai=null}static Vi(e){return new Md(e)}get di(){if(this.Ai)return this.Ai;throw Vt(60996)}addReference(e,i,r){return this.Ri.addReference(r,i),this.di.delete(r.toString()),at.resolve()}removeReference(e,i,r){return this.Ri.removeReference(r,i),this.di.add(r.toString()),at.resolve()}markPotentiallyOrphaned(e,i){return this.di.add(i.toString()),at.resolve()}removeTarget(e,i){this.Ri.Gr(i.targetId).forEach((o=>this.di.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,i.targetId).next((o=>{o.forEach((h=>this.di.add(h.toString())))})).next((()=>r.removeTargetData(e,i)))}Ti(){this.Ai=new Set}Ii(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return at.forEach(this.di,(r=>{const o=Dt.fromPath(r);return this.mi(e,o).next((h=>{h||i.removeEntry(o,Mt.min())}))})).next((()=>(this.Ai=null,i.apply(e))))}updateLimboDocument(e,i){return this.mi(e,i).next((r=>{r?this.di.delete(i.toString()):this.di.add(i.toString())}))}hi(e){return 0}mi(e,i){return at.or([()=>at.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ei(e,i)])}}class pc{constructor(e,i){this.persistence=e,this.fi=new ja((r=>KT(r.path)),((r,o)=>r.isEqual(o))),this.garbageCollector=cS(this,i)}static Vi(e,i){return new pc(e,i)}Ti(){}Ii(e){return at.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}dr(e){const i=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>i.next((o=>r+o))))}pr(e){let i=0;return this.mr(e,(r=>{i++})).next((()=>i))}mr(e,i){return at.forEach(this.fi,((r,o)=>this.wr(e,r,o).next((h=>h?at.resolve():i(o)))))}removeTargets(e,i,r){return this.persistence.getTargetCache().removeTargets(e,i,r)}removeOrphanedDocuments(e,i){let r=0;const o=this.persistence.getRemoteDocumentCache(),h=o.newChangeBuffer();return o.ni(e,(d=>this.wr(e,d,i).next((p=>{p||(r++,h.removeEntry(d,Mt.min()))})))).next((()=>h.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,i){return this.fi.set(i,e.currentSequenceNumber),at.resolve()}removeTarget(e,i){const r=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,i,r){return this.fi.set(r,e.currentSequenceNumber),at.resolve()}removeReference(e,i,r){return this.fi.set(r,e.currentSequenceNumber),at.resolve()}updateLimboDocument(e,i){return this.fi.set(i,e.currentSequenceNumber),at.resolve()}hi(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Ju(e.data.value)),i}wr(e,i,r){return at.or([()=>this.persistence.Ei(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.fi.get(i);return at.resolve(o!==void 0&&o>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jd{constructor(e,i,r,o){this.targetId=e,this.fromCache=i,this.Ts=r,this.Is=o}static Es(e,i){let r=Kt(),o=Kt();for(const h of i.docChanges)switch(h.type){case 0:r=r.add(h.doc.key);break;case 1:o=o.add(h.doc.key)}return new jd(e,i.fromCache,r,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TS{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xS{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return c1()?8:QT(o1())>0?6:4})()}initialize(e,i){this.fs=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,r,o){const h={result:null};return this.gs(e,i).next((d=>{h.result=d})).next((()=>{if(!h.result)return this.ps(e,i,o,r).next((d=>{h.result=d}))})).next((()=>{if(h.result)return;const d=new TS;return this.ys(e,i,d).next((p=>{if(h.result=p,this.As)return this.ws(e,i,d,p.size)}))})).next((()=>h.result))}ws(e,i,r,o){return r.documentReadCount<this.Vs?(Ir()<=Wt.DEBUG&&bt("QueryEngine","SDK will not create cache indexes for query:",Dr(i),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),at.resolve()):(Ir()<=Wt.DEBUG&&bt("QueryEngine","Query:",Dr(i),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.ds*o?(Ir()<=Wt.DEBUG&&bt("QueryEngine","The SDK decides to create cache indexes for query:",Dr(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Li(i))):at.resolve())}gs(e,i){if(o0(i))return at.resolve(null);let r=Li(i);return this.indexManager.getIndexType(e,r).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=sd(i,null,"F"),r=Li(i)),this.indexManager.getDocumentsMatchingTarget(e,r).next((h=>{const d=Kt(...h);return this.fs.getDocuments(e,d).next((p=>this.indexManager.getMinOffset(e,r).next((g=>{const v=this.bs(i,p);return this.Ss(i,v,d,g.readTime)?this.gs(e,sd(i,null,"F")):this.Ds(e,v,i,g)}))))})))))}ps(e,i,r,o){return o0(i)||o.isEqual(Mt.min())?at.resolve(null):this.fs.getDocuments(e,r).next((h=>{const d=this.bs(i,h);return this.Ss(i,d,r,o)?at.resolve(null):(Ir()<=Wt.DEBUG&&bt("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Dr(i)),this.Ds(e,d,i,PT(o,uo)).next((p=>p)))}))}bs(e,i){let r=new Ze(Vv(e));return i.forEach(((o,h)=>{Cc(e,h)&&(r=r.add(h))})),r}Ss(e,i,r,o){if(e.limit===null)return!1;if(r.size!==i.size)return!0;const h=e.limitType==="F"?i.last():i.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(o)>0)}ys(e,i,r){return Ir()<=Wt.DEBUG&&bt("QueryEngine","Using full collection scan to execute query:",Dr(i)),this.fs.getDocumentsMatchingQuery(e,i,Xs.min(),r)}Ds(e,i,r,o){return this.fs.getDocumentsMatchingQuery(e,r,o).next((h=>(i.forEach((d=>{h=h.insert(d.key,d)})),h)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ld="LocalStore",SS=3e8;class AS{constructor(e,i,r,o){this.persistence=e,this.Cs=i,this.serializer=o,this.vs=new Re(Yt),this.Fs=new ja((h=>Cd(h)),Rd),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(r)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new dS(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.vs)))}}function wS(a,e,i,r){return new AS(a,e,i,r)}async function i_(a,e){const i=Lt(a);return await i.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return i.mutationQueue.getAllMutationBatches(r).next((h=>(o=h,i.Os(e),i.mutationQueue.getAllMutationBatches(r)))).next((h=>{const d=[],p=[];let g=Kt();for(const v of o){d.push(v.batchId);for(const T of v.mutations)g=g.add(T.key)}for(const v of h){p.push(v.batchId);for(const T of v.mutations)g=g.add(T.key)}return i.localDocuments.getDocuments(r,g).next((v=>({Ns:v,removedBatchIds:d,addedBatchIds:p})))}))}))}function CS(a,e){const i=Lt(a);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const o=e.batch.keys(),h=i.xs.newChangeBuffer({trackRemovals:!0});return(function(p,g,v,T){const A=v.batch,C=A.keys();let U=at.resolve();return C.forEach((Z=>{U=U.next((()=>T.getEntry(g,Z))).next((st=>{const V=v.docVersions.get(Z);ae(V!==null,48541),st.version.compareTo(V)<0&&(A.applyToRemoteDocument(st,v),st.isValidDocument()&&(st.setReadTime(v.commitVersion),T.addEntry(st)))}))})),U.next((()=>p.mutationQueue.removeMutationBatch(g,A)))})(i,r,e,h).next((()=>h.apply(r))).next((()=>i.mutationQueue.performConsistencyCheck(r))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(p){let g=Kt();for(let v=0;v<p.mutationResults.length;++v)p.mutationResults[v].transformResults.length>0&&(g=g.add(p.batch.mutations[v].key));return g})(e)))).next((()=>i.localDocuments.getDocuments(r,o)))}))}function s_(a){const e=Lt(a);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.li.getLastRemoteSnapshotVersion(i)))}function RS(a,e){const i=Lt(a),r=e.snapshotVersion;let o=i.vs;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(h=>{const d=i.xs.newChangeBuffer({trackRemovals:!0});o=i.vs;const p=[];e.targetChanges.forEach(((T,A)=>{const C=o.get(A);if(!C)return;p.push(i.li.removeMatchingKeys(h,T.removedDocuments,A).next((()=>i.li.addMatchingKeys(h,T.addedDocuments,A))));let U=C.withSequenceNumber(h.currentSequenceNumber);e.targetMismatches.get(A)!==null?U=U.withResumeToken(cn.EMPTY_BYTE_STRING,Mt.min()).withLastLimboFreeSnapshotVersion(Mt.min()):T.resumeToken.approximateByteSize()>0&&(U=U.withResumeToken(T.resumeToken,r)),o=o.insert(A,U),(function(st,V,H){return st.resumeToken.approximateByteSize()===0||V.snapshotVersion.toMicroseconds()-st.snapshotVersion.toMicroseconds()>=SS?!0:H.addedDocuments.size+H.modifiedDocuments.size+H.removedDocuments.size>0})(C,U,T)&&p.push(i.li.updateTargetData(h,U))}));let g=us(),v=Kt();if(e.documentUpdates.forEach((T=>{e.resolvedLimboDocuments.has(T)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(h,T))})),p.push(IS(h,d,e.documentUpdates).next((T=>{g=T.Bs,v=T.Ls}))),!r.isEqual(Mt.min())){const T=i.li.getLastRemoteSnapshotVersion(h).next((A=>i.li.setTargetsMetadata(h,h.currentSequenceNumber,r)));p.push(T)}return at.waitFor(p).next((()=>d.apply(h))).next((()=>i.localDocuments.getLocalViewOfDocuments(h,g,v))).next((()=>g))})).then((h=>(i.vs=o,h)))}function IS(a,e,i){let r=Kt(),o=Kt();return i.forEach((h=>r=r.add(h))),e.getEntries(a,r).next((h=>{let d=us();return i.forEach(((p,g)=>{const v=h.get(p);g.isFoundDocument()!==v.isFoundDocument()&&(o=o.add(p)),g.isNoDocument()&&g.version.isEqual(Mt.min())?(e.removeEntry(p,g.readTime),d=d.insert(p,g)):!v.isValidDocument()||g.version.compareTo(v.version)>0||g.version.compareTo(v.version)===0&&v.hasPendingWrites?(e.addEntry(g),d=d.insert(p,g)):bt(Ld,"Ignoring outdated watch update for ",p,". Current version:",v.version," Watch version:",g.version)})),{Bs:d,Ls:o}}))}function DS(a,e){const i=Lt(a);return i.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Sd),i.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function NS(a,e){const i=Lt(a);return i.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return i.li.getTargetData(r,e).next((h=>h?(o=h,at.resolve(o)):i.li.allocateTargetId(r).next((d=>(o=new Hs(e,d,"TargetPurposeListen",r.currentSequenceNumber),i.li.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=i.vs.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.vs=i.vs.insert(r.targetId,r),i.Fs.set(e,r.targetId)),r}))}async function ud(a,e,i){const r=Lt(a),o=r.vs.get(e),h=i?"readwrite":"readwrite-primary";try{i||await r.persistence.runTransaction("Release target",h,(d=>r.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!Qr(d))throw d;bt(Ld,`Failed to update sequence numbers for target ${e}: ${d}`)}r.vs=r.vs.remove(e),r.Fs.delete(o.target)}function E0(a,e,i){const r=Lt(a);let o=Mt.min(),h=Kt();return r.persistence.runTransaction("Execute query","readwrite",(d=>(function(g,v,T){const A=Lt(g),C=A.Fs.get(T);return C!==void 0?at.resolve(A.vs.get(C)):A.li.getTargetData(v,T)})(r,d,Li(e)).next((p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(d,p.targetId).next((g=>{h=g}))})).next((()=>r.Cs.getDocumentsMatchingQuery(d,e,i?o:Mt.min(),i?h:Kt()))).next((p=>(VS(r,px(e),p),{documents:p,ks:h})))))}function VS(a,e,i){let r=a.Ms.get(e)||Mt.min();i.forEach(((o,h)=>{h.readTime.compareTo(r)>0&&(r=h.readTime)})),a.Ms.set(e,r)}class T0{constructor(){this.activeTargetIds=Tx()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class OS{constructor(){this.vo=new T0,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,r){}addLocalQueryTarget(e,i=!0){return i&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,i,r){this.Fo[e]=i}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new T0,Promise.resolve()}handleUserChange(e,i,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MS{Mo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x0="ConnectivityMonitor";class S0{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){bt(x0,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){bt(x0,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xu=null;function cd(){return Xu===null?Xu=(function(){return 268435456+Math.round(2147483648*Math.random())})():Xu++,"0x"+Xu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ff="RestConnection",jS={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class LS{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.qo=i+"://"+e.host,this.Uo=`projects/${r}/databases/${o}`,this.$o=this.databaseId.database===cc?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Wo(e,i,r,o,h){const d=cd(),p=this.Qo(e,i.toUriEncodedString());bt(Ff,`Sending RPC '${e}' ${d}:`,p,r);const g={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(g,o,h);const{host:v}=new URL(p),T=_d(v);return this.zo(e,p,g,r,T).then((A=>(bt(Ff,`Received RPC '${e}' ${d}: `,A),A)),(A=>{throw kr(Ff,`RPC '${e}' ${d} failed with error: `,A,"url: ",p,"request:",r),A}))}jo(e,i,r,o,h,d){return this.Wo(e,i,r,o,h)}Go(e,i,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Fr})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,h)=>e[h]=o)),r&&r.headers.forEach(((o,h)=>e[h]=o))}Qo(e,i){const r=jS[e];let o=`${this.qo}/v1/${i}:${r}`;return this.databaseInfo.apiKey&&(o=`${o}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),o}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kS{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gn="WebChannelConnection",Yl=(a,e,i)=>{a.listen(e,(r=>{try{i(r)}catch(o){setTimeout((()=>{throw o}),0)}}))};class Mr extends LS{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!Mr.c_){const e=cv();Yl(e,uv.STAT_EVENT,(i=>{i.stat===Jf.PROXY?bt(gn,"STAT_EVENT: detected buffering proxy"):i.stat===Jf.NOPROXY&&bt(gn,"STAT_EVENT: detected no buffering proxy")})),Mr.c_=!0}}zo(e,i,r,o,h){const d=cd();return new Promise(((p,g)=>{const v=new lv;v.setWithCredentials(!0),v.listenOnce(ov.COMPLETE,(()=>{try{switch(v.getLastErrorCode()){case $u.NO_ERROR:const A=v.getResponseJson();bt(gn,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(A)),p(A);break;case $u.TIMEOUT:bt(gn,`RPC '${e}' ${d} timed out`),g(new wt(lt.DEADLINE_EXCEEDED,"Request time out"));break;case $u.HTTP_ERROR:const C=v.getStatus();if(bt(gn,`RPC '${e}' ${d} failed with status:`,C,"response text:",v.getResponseText()),C>0){let U=v.getResponseJson();Array.isArray(U)&&(U=U[0]);const Z=U==null?void 0:U.error;if(Z&&Z.status&&Z.message){const st=(function(H){const G=H.toLowerCase().replace(/_/g,"-");return Object.values(lt).indexOf(G)>=0?G:lt.UNKNOWN})(Z.status);g(new wt(st,Z.message))}else g(new wt(lt.UNKNOWN,"Server responded with status "+v.getStatus()))}else g(new wt(lt.UNAVAILABLE,"Connection failed."));break;default:Vt(9055,{l_:e,streamId:d,h_:v.getLastErrorCode(),P_:v.getLastError()})}}finally{bt(gn,`RPC '${e}' ${d} completed.`)}}));const T=JSON.stringify(o);bt(gn,`RPC '${e}' ${d} sending request:`,o),v.send(i,"POST",T,r,15)}))}T_(e,i,r){const o=cd(),h=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=this.createWebChannelTransport(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Go(p.initMessageHeaders,i,r),p.encodeInitMessageHeaders=!0;const v=h.join("");bt(gn,`Creating RPC '${e}' stream ${o}: ${v}`,p);const T=d.createWebChannel(v,p);this.I_(T);let A=!1,C=!1;const U=new kS({Ho:Z=>{C?bt(gn,`Not sending because RPC '${e}' stream ${o} is closed:`,Z):(A||(bt(gn,`Opening RPC '${e}' stream ${o} transport.`),T.open(),A=!0),bt(gn,`RPC '${e}' stream ${o} sending:`,Z),T.send(Z))},Jo:()=>T.close()});return Yl(T,Zl.EventType.OPEN,(()=>{C||(bt(gn,`RPC '${e}' stream ${o} transport opened.`),U.i_())})),Yl(T,Zl.EventType.CLOSE,(()=>{C||(C=!0,bt(gn,`RPC '${e}' stream ${o} transport closed`),U.o_(),this.E_(T))})),Yl(T,Zl.EventType.ERROR,(Z=>{C||(C=!0,kr(gn,`RPC '${e}' stream ${o} transport errored. Name:`,Z.name,"Message:",Z.message),U.o_(new wt(lt.UNAVAILABLE,"The operation could not be completed")))})),Yl(T,Zl.EventType.MESSAGE,(Z=>{var st;if(!C){const V=Z.data[0];ae(!!V,16349);const H=V,G=(H==null?void 0:H.error)||((st=H[0])==null?void 0:st.error);if(G){bt(gn,`RPC '${e}' stream ${o} received error:`,G);const Y=G.status;let ut=(function(R){const w=Ge[R];if(w!==void 0)return Fv(w)})(Y),yt=G.message;ut===void 0&&(ut=lt.INTERNAL,yt="Unknown error status: "+Y+" with message "+G.message),C=!0,U.o_(new wt(ut,yt)),T.close()}else bt(gn,`RPC '${e}' stream ${o} received:`,V),U.__(V)}})),Mr.u_(),setTimeout((()=>{U.s_()}),0),U}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((i=>i===e))}Go(e,i,r){super.Go(e,i,r),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return hv()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zS(a){return new Mr(a)}function Gf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nc(a){return new qx(a,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Mr.c_=!1;class a_{constructor(e,i,r=1e3,o=1.5,h=6e4){this.Ci=e,this.timerId=i,this.R_=r,this.A_=o,this.V_=h,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const i=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-r);o>0&&bt("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.d_} ms, delay with jitter: ${i} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A0="PersistentStream";class r_{constructor(e,i,r,o,h,d,p,g){this.Ci=e,this.b_=r,this.S_=o,this.connection=h,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new a_(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===lt.RESOURCE_EXHAUSTED?(os(i.toString()),os("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===lt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(i)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.D_===i&&this.G_(r,o)}),(r=>{e((()=>{const o=new wt(lt.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)}))}))}G_(e,i){const r=this.Q_(this.D_);this.stream=this.j_(e,i),this.stream.Zo((()=>{r((()=>this.listener.Zo()))})),this.stream.Yo((()=>{r((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((o=>{r((()=>this.z_(o)))})),this.stream.onMessage((o=>{r((()=>++this.F_==1?this.H_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return bt(A0,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return i=>{this.Ci.enqueueAndForget((()=>this.D_===e?i():(bt(A0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class US extends r_{constructor(e,i,r,o,h,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,r,o,d),this.serializer=h}j_(e,i){return this.connection.T_("Listen",e,i)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=Gx(this.serializer,e),r=(function(h){if(!("targetChange"in h))return Mt.min();const d=h.targetChange;return d.targetIds&&d.targetIds.length?Mt.min():d.readTime?ki(d.readTime):Mt.min()})(e);return this.listener.J_(i,r)}Z_(e){const i={};i.database=od(this.serializer),i.addTarget=(function(h,d){let p;const g=d.target;if(p=id(g)?{documents:Kx(h,g)}:{query:Xx(h,g).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=Yv(h,d.resumeToken);const v=ad(h,d.expectedCount);v!==null&&(p.expectedCount=v)}else if(d.snapshotVersion.compareTo(Mt.min())>0){p.readTime=gc(h,d.snapshotVersion.toTimestamp());const v=ad(h,d.expectedCount);v!==null&&(p.expectedCount=v)}return p})(this.serializer,e);const r=$x(this.serializer,e);r&&(i.labels=r),this.K_(i)}X_(e){const i={};i.database=od(this.serializer),i.removeTarget=e,this.K_(i)}}class BS extends r_{constructor(e,i,r,o,h,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,r,o,d),this.serializer=h}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}H_(e){return ae(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ae(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){ae(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=Yx(e.writeResults,e.commitTime),r=ki(e.commitTime);return this.listener.na(r,i)}ra(){const e={};e.database=od(this.serializer),this.K_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((r=>Qx(this.serializer,r)))};this.K_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PS{}class qS extends PS{constructor(e,i,r,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new wt(lt.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,i,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,d])=>this.connection.Wo(e,rd(i,r),o,h,d))).catch((h=>{throw h.name==="FirebaseError"?(h.code===lt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new wt(lt.UNKNOWN,h.toString())}))}jo(e,i,r,o,h){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.jo(e,rd(i,r),o,d,p,h))).catch((d=>{throw d.name==="FirebaseError"?(d.code===lt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new wt(lt.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function HS(a,e,i,r){return new qS(a,e,i,r)}class FS{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(os(i),this.aa=!1):bt("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oa="RemoteStore";class GS{constructor(e,i,r,o,h){this.localStore=e,this.datastore=i,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=h,this.Aa.Mo((d=>{r.enqueueAndForget((async()=>{ka(this)&&(bt(Oa,"Restarting streams for network reachability change."),await(async function(g){const v=Lt(g);v.Ea.add(4),await To(v),v.Va.set("Unknown"),v.Ea.delete(4),await Vc(v)})(this))}))})),this.Va=new FS(r,o)}}async function Vc(a){if(ka(a))for(const e of a.Ra)await e(!0)}async function To(a){for(const e of a.Ra)await e(!1)}function l_(a,e){const i=Lt(a);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),Bd(i)?Ud(i):Yr(i).O_()&&zd(i,e))}function kd(a,e){const i=Lt(a),r=Yr(i);i.Ia.delete(e),r.O_()&&o_(i,e),i.Ia.size===0&&(r.O_()?r.L_():ka(i)&&i.Va.set("Unknown"))}function zd(a,e){if(a.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Mt.min())>0){const i=a.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Yr(a).Z_(e)}function o_(a,e){a.da.$e(e),Yr(a).X_(e)}function Ud(a){a.da=new zx({getRemoteKeysForTarget:e=>a.remoteSyncer.getRemoteKeysForTarget(e),At:e=>a.Ia.get(e)||null,ht:()=>a.datastore.serializer.databaseId}),Yr(a).start(),a.Va.ua()}function Bd(a){return ka(a)&&!Yr(a).x_()&&a.Ia.size>0}function ka(a){return Lt(a).Ea.size===0}function u_(a){a.da=void 0}async function QS(a){a.Va.set("Online")}async function YS(a){a.Ia.forEach(((e,i)=>{zd(a,e)}))}async function KS(a,e){u_(a),Bd(a)?(a.Va.ha(e),Ud(a)):a.Va.set("Unknown")}async function XS(a,e,i){if(a.Va.set("Online"),e instanceof Qv&&e.state===2&&e.cause)try{await(async function(o,h){const d=h.cause;for(const p of h.targetIds)o.Ia.has(p)&&(await o.remoteSyncer.rejectListen(p,d),o.Ia.delete(p),o.da.removeTarget(p))})(a,e)}catch(r){bt(Oa,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await yc(a,r)}else if(e instanceof ec?a.da.Xe(e):e instanceof Gv?a.da.st(e):a.da.tt(e),!i.isEqual(Mt.min()))try{const r=await s_(a.localStore);i.compareTo(r)>=0&&await(function(h,d){const p=h.da.Tt(d);return p.targetChanges.forEach(((g,v)=>{if(g.resumeToken.approximateByteSize()>0){const T=h.Ia.get(v);T&&h.Ia.set(v,T.withResumeToken(g.resumeToken,d))}})),p.targetMismatches.forEach(((g,v)=>{const T=h.Ia.get(g);if(!T)return;h.Ia.set(g,T.withResumeToken(cn.EMPTY_BYTE_STRING,T.snapshotVersion)),o_(h,g);const A=new Hs(T.target,g,v,T.sequenceNumber);zd(h,A)})),h.remoteSyncer.applyRemoteEvent(p)})(a,i)}catch(r){bt(Oa,"Failed to raise snapshot:",r),await yc(a,r)}}async function yc(a,e,i){if(!Qr(e))throw e;a.Ea.add(1),await To(a),a.Va.set("Offline"),i||(i=()=>s_(a.localStore)),a.asyncQueue.enqueueRetryable((async()=>{bt(Oa,"Retrying IndexedDB access"),await i(),a.Ea.delete(1),await Vc(a)}))}function c_(a,e){return e().catch((i=>yc(a,i,e)))}async function Oc(a){const e=Lt(a),i=Ws(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Sd;for(;ZS(e);)try{const o=await DS(e.localStore,r);if(o===null){e.Ta.length===0&&i.L_();break}r=o.batchId,$S(e,o)}catch(o){await yc(e,o)}h_(e)&&f_(e)}function ZS(a){return ka(a)&&a.Ta.length<10}function $S(a,e){a.Ta.push(e);const i=Ws(a);i.O_()&&i.Y_&&i.ea(e.mutations)}function h_(a){return ka(a)&&!Ws(a).x_()&&a.Ta.length>0}function f_(a){Ws(a).start()}async function JS(a){Ws(a).ra()}async function WS(a){const e=Ws(a);for(const i of a.Ta)e.ea(i.mutations)}async function t2(a,e,i){const r=a.Ta.shift(),o=Dd.from(r,e,i);await c_(a,(()=>a.remoteSyncer.applySuccessfulWrite(o))),await Oc(a)}async function e2(a,e){e&&Ws(a).Y_&&await(async function(r,o){if((function(d){return jx(d)&&d!==lt.ABORTED})(o.code)){const h=r.Ta.shift();Ws(r).B_(),await c_(r,(()=>r.remoteSyncer.rejectFailedWrite(h.batchId,o))),await Oc(r)}})(a,e),h_(a)&&f_(a)}async function w0(a,e){const i=Lt(a);i.asyncQueue.verifyOperationInProgress(),bt(Oa,"RemoteStore received new credentials");const r=ka(i);i.Ea.add(3),await To(i),r&&i.Va.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await Vc(i)}async function n2(a,e){const i=Lt(a);e?(i.Ea.delete(2),await Vc(i)):e||(i.Ea.add(2),await To(i),i.Va.set("Unknown"))}function Yr(a){return a.ma||(a.ma=(function(i,r,o){const h=Lt(i);return h.sa(),new US(r,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,o)})(a.datastore,a.asyncQueue,{Zo:QS.bind(null,a),Yo:YS.bind(null,a),t_:KS.bind(null,a),J_:XS.bind(null,a)}),a.Ra.push((async e=>{e?(a.ma.B_(),Bd(a)?Ud(a):a.Va.set("Unknown")):(await a.ma.stop(),u_(a))}))),a.ma}function Ws(a){return a.fa||(a.fa=(function(i,r,o){const h=Lt(i);return h.sa(),new BS(r,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,o)})(a.datastore,a.asyncQueue,{Zo:()=>Promise.resolve(),Yo:JS.bind(null,a),t_:e2.bind(null,a),ta:WS.bind(null,a),na:t2.bind(null,a)}),a.Ra.push((async e=>{e?(a.fa.B_(),await Oc(a)):(await a.fa.stop(),a.Ta.length>0&&(bt(Oa,`Stopping write stream with ${a.Ta.length} pending writes`),a.Ta=[]))}))),a.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pd{constructor(e,i,r,o,h){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=r,this.op=o,this.removalCallback=h,this.deferred=new Ys,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,r,o,h){const d=Date.now()+r,p=new Pd(e,i,d,o,h);return p.start(r),p}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new wt(lt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function qd(a,e){if(os("AsyncQueue",`${e}: ${a}`),Qr(a))return new wt(lt.UNAVAILABLE,`${e}: ${a}`);throw a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr{static emptySet(e){return new jr(e.comparator)}constructor(e){this.comparator=e?(i,r)=>e(i,r)||Dt.comparator(i.key,r.key):(i,r)=>Dt.comparator(i.key,r.key),this.keyedMap=$l(),this.sortedSet=new Re(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,r)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof jr)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,h=r.getNext().key;if(!o.isEqual(h))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const r=new jr;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=i,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C0{constructor(){this.ga=new Re(Dt.comparator)}track(e){const i=e.doc.key,r=this.ga.get(i);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(i,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(i,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(i):e.type===1&&r.type===2?this.ga=this.ga.insert(i,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):Vt(63341,{Vt:e,pa:r}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,r)=>{e.push(r)})),e}}class qr{constructor(e,i,r,o,h,d,p,g,v){this.query=e,this.docs=i,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=h,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=g,this.hasCachedResults=v}static fromInitialDocuments(e,i,r,o,h){const d=[];return i.forEach((p=>{d.push({type:0,doc:p})})),new qr(e,i,jr.emptySet(i),d,r,o,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&wc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,r=e.docChanges;if(i.length!==r.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==r[o].type||!i[o].doc.isEqual(r[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i2{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class s2{constructor(){this.queries=R0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,r){const o=Lt(i),h=o.queries;o.queries=R0(),h.forEach(((d,p)=>{for(const g of p.ba)g.onError(r)}))})(this,new wt(lt.ABORTED,"Firestore shutting down"))}}function R0(){return new ja((a=>Nv(a)),wc)}async function d_(a,e){const i=Lt(a);let r=3;const o=e.query;let h=i.queries.get(o);h?!h.Sa()&&e.Da()&&(r=2):(h=new i2,r=e.Da()?0:1);try{switch(r){case 0:h.wa=await i.onListen(o,!0);break;case 1:h.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const p=qd(d,`Initialization of query '${Dr(e.query)}' failed`);return void e.onError(p)}i.queries.set(o,h),h.ba.push(e),e.va(i.onlineState),h.wa&&e.Fa(h.wa)&&Hd(i)}async function m_(a,e){const i=Lt(a),r=e.query;let o=3;const h=i.queries.get(r);if(h){const d=h.ba.indexOf(e);d>=0&&(h.ba.splice(d,1),h.ba.length===0?o=e.Da()?0:1:!h.Sa()&&e.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(r),i.onUnlisten(r,!0);case 1:return i.queries.delete(r),i.onUnlisten(r,!1);case 2:return i.onLastRemoteStoreUnlisten(r);default:return}}function a2(a,e){const i=Lt(a);let r=!1;for(const o of e){const h=o.query,d=i.queries.get(h);if(d){for(const p of d.ba)p.Fa(o)&&(r=!0);d.wa=o}}r&&Hd(i)}function r2(a,e,i){const r=Lt(a),o=r.queries.get(e);if(o)for(const h of o.ba)h.onError(i);r.queries.delete(e)}function Hd(a){a.Ca.forEach((e=>{e.next()}))}var hd,I0;(I0=hd||(hd={})).Ma="default",I0.Cache="cache";class g_{constructor(e,i,r){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)o.type!==3&&r.push(o);e=new qr(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const r=i!=="Offline";return(!this.options.Ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=qr.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==hd.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p_{constructor(e){this.key=e}}class y_{constructor(e){this.key=e}}class l2{constructor(e,i){this.query=e,this.Za=i,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Kt(),this.mutatedKeys=Kt(),this.eu=Vv(e),this.tu=new jr(this.eu)}get nu(){return this.Za}ru(e,i){const r=i?i.iu:new C0,o=i?i.tu:this.tu;let h=i?i.mutatedKeys:this.mutatedKeys,d=o,p=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,v=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((T,A)=>{const C=o.get(T),U=Cc(this.query,A)?A:null,Z=!!C&&this.mutatedKeys.has(C.key),st=!!U&&(U.hasLocalMutations||this.mutatedKeys.has(U.key)&&U.hasCommittedMutations);let V=!1;C&&U?C.data.isEqual(U.data)?Z!==st&&(r.track({type:3,doc:U}),V=!0):this.su(C,U)||(r.track({type:2,doc:U}),V=!0,(g&&this.eu(U,g)>0||v&&this.eu(U,v)<0)&&(p=!0)):!C&&U?(r.track({type:0,doc:U}),V=!0):C&&!U&&(r.track({type:1,doc:C}),V=!0,(g||v)&&(p=!0)),V&&(U?(d=d.add(U),h=st?h.add(T):h.delete(T)):(d=d.delete(T),h=h.delete(T)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const T=this.query.limitType==="F"?d.last():d.first();d=d.delete(T.key),h=h.delete(T.key),r.track({type:1,doc:T})}return{tu:d,iu:r,Ss:p,mutatedKeys:h}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,r,o){const h=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((T,A)=>(function(U,Z){const st=V=>{switch(V){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Vt(20277,{Vt:V})}};return st(U)-st(Z)})(T.type,A.type)||this.eu(T.doc,A.doc))),this.ou(r),o=o??!1;const p=i&&!o?this._u():[],g=this.Ya.size===0&&this.current&&!o?1:0,v=g!==this.Xa;return this.Xa=g,d.length!==0||v?{snapshot:new qr(this.query,e.tu,h,d,e.mutatedKeys,g===0,v,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new C0,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Za=this.Za.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Za=this.Za.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=Kt(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))}));const i=[];return e.forEach((r=>{this.Ya.has(r)||i.push(new y_(r))})),this.Ya.forEach((r=>{e.has(r)||i.push(new p_(r))})),i}cu(e){this.Za=e.ks,this.Ya=Kt();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return qr.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const Fd="SyncEngine";class o2{constructor(e,i,r){this.query=e,this.targetId=i,this.view=r}}class u2{constructor(e){this.key=e,this.hu=!1}}class c2{constructor(e,i,r,o,h,d){this.localStore=e,this.remoteStore=i,this.eventManager=r,this.sharedClientState=o,this.currentUser=h,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new ja((p=>Nv(p)),wc),this.Iu=new Map,this.Eu=new Set,this.Ru=new Re(Dt.comparator),this.Au=new Map,this.Vu=new Od,this.du={},this.mu=new Map,this.fu=Pr.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function h2(a,e,i=!0){const r=x_(a);let o;const h=r.Tu.get(e);return h?(r.sharedClientState.addLocalQueryTarget(h.targetId),o=h.view.lu()):o=await v_(r,e,i,!0),o}async function f2(a,e){const i=x_(a);await v_(i,e,!0,!1)}async function v_(a,e,i,r){const o=await NS(a.localStore,Li(e)),h=o.targetId,d=a.sharedClientState.addLocalQueryTarget(h,i);let p;return r&&(p=await d2(a,e,h,d==="current",o.resumeToken)),a.isPrimaryClient&&i&&l_(a.remoteStore,o),p}async function d2(a,e,i,r,o){a.pu=(A,C,U)=>(async function(st,V,H,G){let Y=V.view.ru(H);Y.Ss&&(Y=await E0(st.localStore,V.query,!1).then((({documents:R})=>V.view.ru(R,Y))));const ut=G&&G.targetChanges.get(V.targetId),yt=G&&G.targetMismatches.get(V.targetId)!=null,xt=V.view.applyChanges(Y,st.isPrimaryClient,ut,yt);return N0(st,V.targetId,xt.au),xt.snapshot})(a,A,C,U);const h=await E0(a.localStore,e,!0),d=new l2(e,h.ks),p=d.ru(h.documents),g=Eo.createSynthesizedTargetChangeForCurrentChange(i,r&&a.onlineState!=="Offline",o),v=d.applyChanges(p,a.isPrimaryClient,g);N0(a,i,v.au);const T=new o2(e,i,d);return a.Tu.set(e,T),a.Iu.has(i)?a.Iu.get(i).push(e):a.Iu.set(i,[e]),v.snapshot}async function m2(a,e,i){const r=Lt(a),o=r.Tu.get(e),h=r.Iu.get(o.targetId);if(h.length>1)return r.Iu.set(o.targetId,h.filter((d=>!wc(d,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await ud(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),i&&kd(r.remoteStore,o.targetId),fd(r,o.targetId)})).catch(Gr)):(fd(r,o.targetId),await ud(r.localStore,o.targetId,!0))}async function g2(a,e){const i=Lt(a),r=i.Tu.get(e),o=i.Iu.get(r.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(r.targetId),kd(i.remoteStore,r.targetId))}async function p2(a,e,i){const r=x2(a);try{const o=await(function(d,p){const g=Lt(d),v=Te.now(),T=p.reduce(((U,Z)=>U.add(Z.key)),Kt());let A,C;return g.persistence.runTransaction("Locally write mutations","readwrite",(U=>{let Z=us(),st=Kt();return g.xs.getEntries(U,T).next((V=>{Z=V,Z.forEach(((H,G)=>{G.isValidDocument()||(st=st.add(H))}))})).next((()=>g.localDocuments.getOverlayedDocuments(U,Z))).next((V=>{A=V;const H=[];for(const G of p){const Y=Dx(G,A.get(G.key).overlayedDocument);Y!=null&&H.push(new La(G.key,Y,Sv(Y.value.mapValue),rs.exists(!0)))}return g.mutationQueue.addMutationBatch(U,v,H,p)})).next((V=>{C=V;const H=V.applyToLocalDocumentSet(A,st);return g.documentOverlayCache.saveOverlays(U,V.batchId,H)}))})).then((()=>({batchId:C.batchId,changes:Mv(A)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),(function(d,p,g){let v=d.du[d.currentUser.toKey()];v||(v=new Re(Yt)),v=v.insert(p,g),d.du[d.currentUser.toKey()]=v})(r,o.batchId,i),await xo(r,o.changes),await Oc(r.remoteStore)}catch(o){const h=qd(o,"Failed to persist write");i.reject(h)}}async function __(a,e){const i=Lt(a);try{const r=await RS(i.localStore,e);e.targetChanges.forEach(((o,h)=>{const d=i.Au.get(h);d&&(ae(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?ae(d.hu,14607):o.removedDocuments.size>0&&(ae(d.hu,42227),d.hu=!1))})),await xo(i,r,e)}catch(r){await Gr(r)}}function D0(a,e,i){const r=Lt(a);if(r.isPrimaryClient&&i===0||!r.isPrimaryClient&&i===1){const o=[];r.Tu.forEach(((h,d)=>{const p=d.view.va(e);p.snapshot&&o.push(p.snapshot)})),(function(d,p){const g=Lt(d);g.onlineState=p;let v=!1;g.queries.forEach(((T,A)=>{for(const C of A.ba)C.va(p)&&(v=!0)})),v&&Hd(g)})(r.eventManager,e),o.length&&r.Pu.J_(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function y2(a,e,i){const r=Lt(a);r.sharedClientState.updateQueryState(e,"rejected",i);const o=r.Au.get(e),h=o&&o.key;if(h){let d=new Re(Dt.comparator);d=d.insert(h,yn.newNoDocument(h,Mt.min()));const p=Kt().add(h),g=new Dc(Mt.min(),new Map,new Re(Yt),d,p);await __(r,g),r.Ru=r.Ru.remove(h),r.Au.delete(e),Gd(r)}else await ud(r.localStore,e,!1).then((()=>fd(r,e,i))).catch(Gr)}async function v2(a,e){const i=Lt(a),r=e.batch.batchId;try{const o=await CS(i.localStore,e);E_(i,r,null),b_(i,r),i.sharedClientState.updateMutationState(r,"acknowledged"),await xo(i,o)}catch(o){await Gr(o)}}async function _2(a,e,i){const r=Lt(a);try{const o=await(function(d,p){const g=Lt(d);return g.persistence.runTransaction("Reject batch","readwrite-primary",(v=>{let T;return g.mutationQueue.lookupMutationBatch(v,p).next((A=>(ae(A!==null,37113),T=A.keys(),g.mutationQueue.removeMutationBatch(v,A)))).next((()=>g.mutationQueue.performConsistencyCheck(v))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(v,T,p))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,T))).next((()=>g.localDocuments.getDocuments(v,T)))}))})(r.localStore,e);E_(r,e,i),b_(r,e),r.sharedClientState.updateMutationState(e,"rejected",i),await xo(r,o)}catch(o){await Gr(o)}}function b_(a,e){(a.mu.get(e)||[]).forEach((i=>{i.resolve()})),a.mu.delete(e)}function E_(a,e,i){const r=Lt(a);let o=r.du[r.currentUser.toKey()];if(o){const h=o.get(e);h&&(i?h.reject(i):h.resolve(),o=o.remove(e)),r.du[r.currentUser.toKey()]=o}}function fd(a,e,i=null){a.sharedClientState.removeLocalQueryTarget(e);for(const r of a.Iu.get(e))a.Tu.delete(r),i&&a.Pu.yu(r,i);a.Iu.delete(e),a.isPrimaryClient&&a.Vu.Gr(e).forEach((r=>{a.Vu.containsKey(r)||T_(a,r)}))}function T_(a,e){a.Eu.delete(e.path.canonicalString());const i=a.Ru.get(e);i!==null&&(kd(a.remoteStore,i),a.Ru=a.Ru.remove(e),a.Au.delete(i),Gd(a))}function N0(a,e,i){for(const r of i)r instanceof p_?(a.Vu.addReference(r.key,e),b2(a,r)):r instanceof y_?(bt(Fd,"Document no longer in limbo: "+r.key),a.Vu.removeReference(r.key,e),a.Vu.containsKey(r.key)||T_(a,r.key)):Vt(19791,{wu:r})}function b2(a,e){const i=e.key,r=i.path.canonicalString();a.Ru.get(i)||a.Eu.has(r)||(bt(Fd,"New document in limbo: "+i),a.Eu.add(r),Gd(a))}function Gd(a){for(;a.Eu.size>0&&a.Ru.size<a.maxConcurrentLimboResolutions;){const e=a.Eu.values().next().value;a.Eu.delete(e);const i=new Dt(Ce.fromString(e)),r=a.fu.next();a.Au.set(r,new u2(i)),a.Ru=a.Ru.insert(i,r),l_(a.remoteStore,new Hs(Li(Ac(i.path)),r,"TargetPurposeLimboResolution",Ec.ce))}}async function xo(a,e,i){const r=Lt(a),o=[],h=[],d=[];r.Tu.isEmpty()||(r.Tu.forEach(((p,g)=>{d.push(r.pu(g,e,i).then((v=>{var T;if((v||i)&&r.isPrimaryClient){const A=v?!v.fromCache:(T=i==null?void 0:i.targetChanges.get(g.targetId))==null?void 0:T.current;r.sharedClientState.updateQueryState(g.targetId,A?"current":"not-current")}if(v){o.push(v);const A=jd.Es(g.targetId,v);h.push(A)}})))})),await Promise.all(d),r.Pu.J_(o),await(async function(g,v){const T=Lt(g);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",(A=>at.forEach(v,(C=>at.forEach(C.Ts,(U=>T.persistence.referenceDelegate.addReference(A,C.targetId,U))).next((()=>at.forEach(C.Is,(U=>T.persistence.referenceDelegate.removeReference(A,C.targetId,U)))))))))}catch(A){if(!Qr(A))throw A;bt(Ld,"Failed to update sequence numbers: "+A)}for(const A of v){const C=A.targetId;if(!A.fromCache){const U=T.vs.get(C),Z=U.snapshotVersion,st=U.withLastLimboFreeSnapshotVersion(Z);T.vs=T.vs.insert(C,st)}}})(r.localStore,h))}async function E2(a,e){const i=Lt(a);if(!i.currentUser.isEqual(e)){bt(Fd,"User change. New user:",e.toKey());const r=await i_(i.localStore,e);i.currentUser=e,(function(h,d){h.mu.forEach((p=>{p.forEach((g=>{g.reject(new wt(lt.CANCELLED,d))}))})),h.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await xo(i,r.Ns)}}function T2(a,e){const i=Lt(a),r=i.Au.get(e);if(r&&r.hu)return Kt().add(r.key);{let o=Kt();const h=i.Iu.get(e);if(!h)return o;for(const d of h){const p=i.Tu.get(d);o=o.unionWith(p.view.nu)}return o}}function x_(a){const e=Lt(a);return e.remoteStore.remoteSyncer.applyRemoteEvent=__.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=T2.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=y2.bind(null,e),e.Pu.J_=a2.bind(null,e.eventManager),e.Pu.yu=r2.bind(null,e.eventManager),e}function x2(a){const e=Lt(a);return e.remoteStore.remoteSyncer.applySuccessfulWrite=v2.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=_2.bind(null,e),e}class vc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Nc(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return wS(this.persistence,new xS,e.initialUser,this.serializer)}Cu(e){return new n_(Md.Vi,this.serializer)}Du(e){return new OS}async terminate(){var e,i;(e=this.gcScheduler)==null||e.stop(),(i=this.indexBackfillerScheduler)==null||i.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}vc.provider={build:()=>new vc};class S2 extends vc{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){ae(this.persistence.referenceDelegate instanceof pc,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new oS(r,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?Nn.withCacheSize(this.cacheSizeBytes):Nn.DEFAULT;return new n_((r=>pc.Vi(r,i)),this.serializer)}}class dd{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>D0(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=E2.bind(null,this.syncEngine),await n2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new s2})()}createDatastore(e){const i=Nc(e.databaseInfo.databaseId),r=zS(e.databaseInfo);return HS(e.authCredentials,e.appCheckCredentials,r,i)}createRemoteStore(e){return(function(r,o,h,d,p){return new GS(r,o,h,d,p)})(this.localStore,this.datastore,e.asyncQueue,(i=>D0(this.syncEngine,i,0)),(function(){return S0.v()?new S0:new MS})())}createSyncEngine(e,i){return(function(o,h,d,p,g,v,T){const A=new c2(o,h,d,p,g,v);return T&&(A.gu=!0),A})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){var e,i;await(async function(o){const h=Lt(o);bt(Oa,"RemoteStore shutting down."),h.Ea.add(5),await To(h),h.Aa.shutdown(),h.Va.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(i=this.eventManager)==null||i.terminate()}}dd.provider={build:()=>new dd};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S_{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):os("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ta="FirestoreClient";class A2{constructor(e,i,r,o,h){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=r,this._databaseInfo=o,this.user=pn.UNAUTHENTICATED,this.clientId=Td.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(r,(async d=>{bt(ta,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(r,(d=>(bt(ta,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ys;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const r=qd(i,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Qf(a,e){a.asyncQueue.verifyOperationInProgress(),bt(ta,"Initializing OfflineComponentProvider");const i=a.configuration;await e.initialize(i);let r=i.initialUser;a.setCredentialChangeListener((async o=>{r.isEqual(o)||(await i_(e.localStore,o),r=o)})),e.persistence.setDatabaseDeletedListener((()=>a.terminate())),a._offlineComponents=e}async function V0(a,e){a.asyncQueue.verifyOperationInProgress();const i=await w2(a);bt(ta,"Initializing OnlineComponentProvider"),await e.initialize(i,a.configuration),a.setCredentialChangeListener((r=>w0(e.remoteStore,r))),a.setAppCheckTokenChangeListener(((r,o)=>w0(e.remoteStore,o))),a._onlineComponents=e}async function w2(a){if(!a._offlineComponents)if(a._uninitializedComponentsProvider){bt(ta,"Using user provided OfflineComponentProvider");try{await Qf(a,a._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(o){return o.name==="FirebaseError"?o.code===lt.FAILED_PRECONDITION||o.code===lt.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;kr("Error using user provided cache. Falling back to memory cache: "+i),await Qf(a,new vc)}}else bt(ta,"Using default OfflineComponentProvider"),await Qf(a,new S2(void 0));return a._offlineComponents}async function A_(a){return a._onlineComponents||(a._uninitializedComponentsProvider?(bt(ta,"Using user provided OnlineComponentProvider"),await V0(a,a._uninitializedComponentsProvider._online)):(bt(ta,"Using default OnlineComponentProvider"),await V0(a,new dd))),a._onlineComponents}function C2(a){return A_(a).then((e=>e.syncEngine))}async function md(a){const e=await A_(a),i=e.eventManager;return i.onListen=h2.bind(null,e.syncEngine),i.onUnlisten=m2.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=f2.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=g2.bind(null,e.syncEngine),i}function R2(a,e,i,r){const o=new S_(r),h=new g_(e,o,i);return a.asyncQueue.enqueueAndForget((async()=>d_(await md(a),h))),()=>{o.Nu(),a.asyncQueue.enqueueAndForget((async()=>m_(await md(a),h)))}}function I2(a,e,i={}){const r=new Ys;return a.asyncQueue.enqueueAndForget((async()=>(function(h,d,p,g,v){const T=new S_({next:C=>{T.Nu(),d.enqueueAndForget((()=>m_(h,A)));const U=C.docs.has(p);!U&&C.fromCache?v.reject(new wt(lt.UNAVAILABLE,"Failed to get document because the client is offline.")):U&&C.fromCache&&g&&g.source==="server"?v.reject(new wt(lt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):v.resolve(C)},error:C=>v.reject(C)}),A=new g_(Ac(p.path),T,{includeMetadataChanges:!0,Ka:!0});return d_(h,A)})(await md(a),a.asyncQueue,e,i,r))),r.promise}function D2(a,e){const i=new Ys;return a.asyncQueue.enqueueAndForget((async()=>p2(await C2(a),e,i))),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w_(a){const e={};return a.timeoutSeconds!==void 0&&(e.timeoutSeconds=a.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N2="ComponentProvider",O0=new Map;function V2(a,e,i,r,o){return new $T(a,e,i,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,w_(o.experimentalLongPollingOptions),o.useFetchStreams,o.isUsingEmulator,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C_="firestore.googleapis.com",M0=!0;class j0{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new wt(lt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=C_,this.ssl=M0}else this.host=e.host,this.ssl=e.ssl??M0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=e_;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<rS)throw new wt(lt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}BT("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=w_(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new wt(lt.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new wt(lt.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new wt(lt.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Qd{constructor(e,i,r,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new j0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new wt(lt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new wt(lt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new j0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new IT;switch(r.type){case"firstParty":return new OT(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new wt(lt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const r=O0.get(i);r&&(bt(N2,"Removing Datastore"),O0.delete(i),r.terminate())})(this),Promise.resolve()}}function O2(a,e,i,r={}){var v;a=Ks(a,Qd);const o=_d(e),h=a._getSettings(),d={...h,emulatorOptions:a._getEmulatorOptions()},p=`${e}:${i}`;o&&(i1(`https://${p}`),l1("Firestore",!0)),h.host!==C_&&h.host!==p&&kr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...h,host:p,ssl:o,emulatorOptions:r};if(!rc(g,d)&&(a._setSettings(g),r.mockUserToken)){let T,A;if(typeof r.mockUserToken=="string")T=r.mockUserToken,A=pn.MOCK_USER;else{T=s1(r.mockUserToken,(v=a._app)==null?void 0:v.options.projectId);const C=r.mockUserToken.sub||r.mockUserToken.user_id;if(!C)throw new wt(lt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new pn(C)}a._authCredentials=new DT(new dv(T,A))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mc{constructor(e,i,r){this.converter=i,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Mc(this.firestore,e,this._query)}}class Xe{constructor(e,i,r){this.converter=i,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new yo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Xe(this.firestore,e,this._key)}toJSON(){return{type:Xe._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,r){if(_o(i,Xe._jsonSchema))return new Xe(e,r||null,new Dt(Ce.fromString(i.referencePath)))}}Xe._jsonSchemaVersion="firestore/documentReference/1.0",Xe._jsonSchema={type:Qe("string",Xe._jsonSchemaVersion),referencePath:Qe("string")};class yo extends Mc{constructor(e,i,r){super(e,i,Ac(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Xe(this.firestore,null,new Dt(e))}withConverter(e){return new yo(this.firestore,e,this._path)}}function Yd(a,e,...i){if(a=ro(a),arguments.length===1&&(e=Td.newId()),UT("doc","path",e),a instanceof Qd){const r=Ce.fromString(e,...i);return Xy(r),new Xe(a,null,new Dt(r))}{if(!(a instanceof Xe||a instanceof yo))throw new wt(lt.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=a._path.child(Ce.fromString(e,...i));return Xy(r),new Xe(a.firestore,a instanceof yo?a.converter:null,new Dt(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L0="AsyncQueue";class k0{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new a_(this,"async_queue_retry"),this._c=()=>{const r=Gf();r&&bt(L0,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const i=Gf();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=Gf();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Ys;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!Qr(e))throw e;bt(L0,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,os("INTERNAL UNHANDLED ERROR: ",z0(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=i,i}enqueueAfterDelay(e,i,r){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const o=Pd.createAndSchedule(this,e,i,r,(h=>this.hc(h)));return this.tc.push(o),o}uc(){this.nc&&Vt(47125,{Pc:z0(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,r)=>i.targetTimeMs-r.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function z0(a){let e=a.message||"";return a.stack&&(e=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),e}class vo extends Qd{constructor(e,i,r,o){super(e,i,r,o),this.type="firestore",this._queue=new k0,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new k0(e),this._firestoreClient=void 0,await e}}}function M2(a,e){const i=typeof a=="object"?a:yT(),r=typeof a=="string"?a:cc,o=fT(i,"firestore").getImmediate({identifier:r});if(!o._initialized){const h=e1("firestore");h&&O2(o,...h)}return o}function Kd(a){if(a._terminated)throw new wt(lt.FAILED_PRECONDITION,"The client has already been terminated.");return a._firestoreClient||j2(a),a._firestoreClient}function j2(a){var r,o,h,d;const e=a._freezeSettings(),i=V2(a._databaseId,((r=a._app)==null?void 0:r.options.appId)||"",a._persistenceKey,(o=a._app)==null?void 0:o.options.apiKey,e);a._componentsProvider||(h=e.localCache)!=null&&h._offlineComponentProvider&&((d=e.localCache)!=null&&d._onlineComponentProvider)&&(a._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),a._firestoreClient=new A2(a._authCredentials,a._appCheckCredentials,a._queue,i,a._componentsProvider&&(function(g){const v=g==null?void 0:g._online.build();return{_offline:g==null?void 0:g._offline.build(v),_online:v}})(a._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class si{constructor(e){this._byteString=e}static fromBase64String(e){try{return new si(cn.fromBase64String(e))}catch(i){throw new wt(lt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new si(cn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:si._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(_o(e,si._jsonSchema))return si.fromBase64String(e.bytes)}}si._jsonSchemaVersion="firestore/bytes/1.0",si._jsonSchema={type:Qe("string",si._jsonSchemaVersion),bytes:Qe("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R_{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new wt(lt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new un(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xd{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new wt(lt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new wt(lt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Yt(this._lat,e._lat)||Yt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:zi._jsonSchemaVersion}}static fromJSON(e){if(_o(e,zi._jsonSchema))return new zi(e.latitude,e.longitude)}}zi._jsonSchemaVersion="firestore/geoPoint/1.0",zi._jsonSchema={type:Qe("string",zi._jsonSchemaVersion),latitude:Qe("number"),longitude:Qe("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mi{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,o){if(r.length!==o.length)return!1;for(let h=0;h<r.length;++h)if(r[h]!==o[h])return!1;return!0})(this._values,e._values)}toJSON(){return{type:mi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(_o(e,mi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new mi(e.vectorValues);throw new wt(lt.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}mi._jsonSchemaVersion="firestore/vectorValue/1.0",mi._jsonSchema={type:Qe("string",mi._jsonSchemaVersion),vectorValues:Qe("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L2=/^__.*__$/;class k2{constructor(e,i,r){this.data=e,this.fieldMask=i,this.fieldTransforms=r}toMutation(e,i){return this.fieldMask!==null?new La(e,this.data,this.fieldMask,i,this.fieldTransforms):new bo(e,this.data,i,this.fieldTransforms)}}function I_(a){switch(a){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Vt(40011,{dataSource:a})}}class Zd{constructor(e,i,r,o,h,d){this.settings=e,this.databaseId=i,this.serializer=r,this.ignoreUndefinedProperties=o,h===void 0&&this.validatePath(),this.fieldTransforms=h||[],this.fieldMask=d||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new Zd({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){var o;const i=(o=this.path)==null?void 0:o.child(e),r=this.contextWith({path:i,arrayElement:!1});return r.validatePathSegment(e),r}childContextForFieldPath(e){var o;const i=(o=this.path)==null?void 0:o.child(e),r=this.contextWith({path:i,arrayElement:!1});return r.validatePath(),r}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return _c(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(I_(this.dataSource)&&L2.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class z2{constructor(e,i,r){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=r||Nc(e)}createContext(e,i,r,o=!1){return new Zd({dataSource:e,methodName:i,targetDoc:r,path:un.emptyPath(),arrayElement:!1,hasConverter:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function U2(a){const e=a._freezeSettings(),i=Nc(a._databaseId);return new z2(a._databaseId,!!e.ignoreUndefinedProperties,i)}function B2(a,e,i,r,o,h={}){const d=a.createContext(h.merge||h.mergeFields?2:0,e,i,o);O_("Data must be an object, but it was:",d,r);const p=N_(r,d);let g,v;if(h.merge)g=new di(d.fieldMask),v=d.fieldTransforms;else if(h.mergeFields){const T=[];for(const A of h.mergeFields){const C=Jd(e,A,i);if(!d.contains(C))throw new wt(lt.INVALID_ARGUMENT,`Field '${C}' is specified in your field mask but missing from your input data.`);H2(T,C)||T.push(C)}g=new di(T),v=d.fieldTransforms.filter((A=>g.covers(A.field)))}else g=null,v=d.fieldTransforms;return new k2(new ii(p),g,v)}class $d extends Xd{_toFieldTransform(e){return new wx(e.path,new mo)}isEqual(e){return e instanceof $d}}function D_(a,e){if(V_(a=ro(a)))return O_("Unsupported field value:",e,a),N_(a,e);if(a instanceof Xd)return(function(r,o){if(!I_(o.dataSource))throw o.createError(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.createError(`${r._methodName}() is not currently supported inside arrays`);const h=r._toFieldTransform(o);h&&o.fieldTransforms.push(h)})(a,e),null;if(a===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),a instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(r,o){const h=[];let d=0;for(const p of r){let g=D_(p,o.childContextForArray(d));g==null&&(g={nullValue:"NULL_VALUE"}),h.push(g),d++}return{arrayValue:{values:h}}})(a,e)}return(function(r,o){if((r=ro(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return xx(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const h=Te.fromDate(r);return{timestampValue:gc(o.serializer,h)}}if(r instanceof Te){const h=new Te(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:gc(o.serializer,h)}}if(r instanceof zi)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof si)return{bytesValue:Yv(o.serializer,r._byteString)};if(r instanceof Xe){const h=o.databaseId,d=r.firestore._databaseId;if(!d.isEqual(h))throw o.createError(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:Vd(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof mi)return(function(d,p){const g=d instanceof mi?d.toArray():d;return{mapValue:{fields:{[Tv]:{stringValue:xv},[hc]:{arrayValue:{values:g.map((T=>{if(typeof T!="number")throw p.createError("VectorValues must only contain numeric values.");return Id(p.serializer,T)}))}}}}}})(r,o);if(t_(r))return r._toProto(o.serializer);throw o.createError(`Unsupported field value: ${xd(r)}`)})(a,e)}function N_(a,e){const i={};return pv(a)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ma(a,((r,o)=>{const h=D_(o,e.childContextForField(r));h!=null&&(i[r]=h)})),{mapValue:{fields:i}}}function V_(a){return!(typeof a!="object"||a===null||a instanceof Array||a instanceof Date||a instanceof Te||a instanceof zi||a instanceof si||a instanceof Xe||a instanceof Xd||a instanceof mi||t_(a))}function O_(a,e,i){if(!V_(i)||!mv(i)){const r=xd(i);throw r==="an object"?e.createError(a+" a custom object"):e.createError(a+" "+r)}}function Jd(a,e,i){if((e=ro(e))instanceof R_)return e._internalPath;if(typeof e=="string")return q2(a,e);throw _c("Field path arguments must be of type string or ",a,!1,void 0,i)}const P2=new RegExp("[~\\*/\\[\\]]");function q2(a,e,i){if(e.search(P2)>=0)throw _c(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,a,!1,void 0,i);try{return new R_(...e.split("."))._internalPath}catch{throw _c(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,a,!1,void 0,i)}}function _c(a,e,i,r,o){const h=r&&!r.isEmpty(),d=o!==void 0;let p=`Function ${e}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let g="";return(h||d)&&(g+=" (found",h&&(g+=` in field ${r}`),d&&(g+=` in document ${o}`),g+=")"),new wt(lt.INVALID_ARGUMENT,p+a+g)}function H2(a,e){return a.some((i=>i.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F2{convertValue(e,i="none"){switch(Js(e)){case 0:return null;case 1:return e.booleanValue;case 2:return je(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes($s(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw Vt(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const r={};return Ma(e,((o,h)=>{r[o]=this.convertValue(h,i)})),r}convertVectorValue(e){var r,o,h;const i=(h=(o=(r=e.fields)==null?void 0:r[hc].arrayValue)==null?void 0:o.values)==null?void 0:h.map((d=>je(d.doubleValue)));return new mi(i)}convertGeoPoint(e){return new zi(je(e.latitude),je(e.longitude))}convertArray(e,i){return(e.values||[]).map((r=>this.convertValue(r,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const r=xc(e);return r==null?null:this.convertValue(r,i);case"estimate":return this.convertTimestamp(co(e));default:return null}}convertTimestamp(e){const i=Zs(e);return new Te(i.seconds,i.nanos)}convertDocumentKey(e,i){const r=Ce.fromString(e);ae(Wv(r),9688,{name:e});const o=new ho(r.get(1),r.get(3)),h=new Dt(r.popFirst(5));return o.isEqual(i)||os(`Document ${h} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),h}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M_ extends F2{constructor(e){super(),this.firestore=e}convertBytes(e){return new si(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new Xe(this.firestore,null,i)}}function G2(){return new $d("serverTimestamp")}const U0="@firebase/firestore",B0="4.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P0(a){return(function(i,r){if(typeof i!="object"||i===null)return!1;const o=i;for(const h of r)if(h in o&&typeof o[h]=="function")return!0;return!1})(a,["next","error","complete"])}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j_{constructor(e,i,r,o,h){this._firestore=e,this._userDataWriter=i,this._key=r,this._document=o,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new Xe(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Q2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){var e;return((e=this._document)==null?void 0:e.data.clone().value.mapValue.fields)??void 0}get(e){if(this._document){const i=this._document.data.field(Jd("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class Q2 extends j_{data(){return super.data()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y2(a){if(a.limitType==="L"&&a.explicitOrderBy.length===0)throw new wt(lt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}function K2(a,e,i){let r;return r=a?i&&(i.merge||i.mergeFields)?a.toFirestore(e,i):a.toFirestore(e):e,r}class Wl{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Na extends j_{constructor(e,i,r,o,h,d){super(e,i,r,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=h}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new nc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const r=this._document.data.field(Jd("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new wt(lt.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=Na._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Na._jsonSchemaVersion="firestore/documentSnapshot/1.0",Na._jsonSchema={type:Qe("string",Na._jsonSchemaVersion),bundleSource:Qe("string","DocumentSnapshot"),bundleName:Qe("string"),bundle:Qe("string")};class nc extends Na{data(e={}){return super.data(e)}}class Lr{constructor(e,i,r,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new Wl(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((r=>{e.call(i,new nc(this._firestore,this._userDataWriter,r.key,r,new Wl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new wt(lt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,h){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((p=>{const g=new nc(o._firestore,o._userDataWriter,p.doc.key,p.doc,new Wl(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);return p.doc,{type:"added",doc:g,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((p=>h||p.type!==3)).map((p=>{const g=new nc(o._firestore,o._userDataWriter,p.doc.key,p.doc,new Wl(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let v=-1,T=-1;return p.type!==0&&(v=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),T=d.indexOf(p.doc.key)),{type:X2(p.type),doc:g,oldIndex:v,newIndex:T}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new wt(lt.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Lr._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Td.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],r=[],o=[];return this.docs.forEach((h=>{h._document!==null&&(i.push(h._document),r.push(this._userDataWriter.convertObjectMap(h._document.data.value.mapValue.fields,"previous")),o.push(h.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function X2(a){switch(a){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Vt(61501,{type:a})}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Lr._jsonSchemaVersion="firestore/querySnapshot/1.0",Lr._jsonSchema={type:Qe("string",Lr._jsonSchemaVersion),bundleSource:Qe("string","QuerySnapshot"),bundleName:Qe("string"),bundle:Qe("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z2(a){a=Ks(a,Xe);const e=Ks(a.firestore,vo),i=Kd(e);return I2(i,a._key).then((r=>L_(e,a,r)))}function $2(a,e,i){a=Ks(a,Xe);const r=Ks(a.firestore,vo),o=K2(a.converter,e,i),h=U2(r);return W2(r,[B2(h,"setDoc",a._key,o,a.converter!==null,i).toMutation(a._key,rs.none())])}function J2(a,...e){var v,T,A;a=ro(a);let i={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||P0(e[r])||(i=e[r++]);const o={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(P0(e[r])){const C=e[r];e[r]=(v=C.next)==null?void 0:v.bind(C),e[r+1]=(T=C.error)==null?void 0:T.bind(C),e[r+2]=(A=C.complete)==null?void 0:A.bind(C)}let h,d,p;if(a instanceof Xe)d=Ks(a.firestore,vo),p=Ac(a._key.path),h={next:C=>{e[r]&&e[r](L_(d,a,C))},error:e[r+1],complete:e[r+2]};else{const C=Ks(a,Mc);d=Ks(C.firestore,vo),p=C._query;const U=new M_(d);h={next:Z=>{e[r]&&e[r](new Lr(d,U,C,Z))},error:e[r+1],complete:e[r+2]},Y2(a._query)}const g=Kd(d);return R2(g,p,o,h)}function W2(a,e){const i=Kd(a);return D2(i,e)}function L_(a,e,i){const r=i.docs.get(e._key),o=new M_(a);return new Na(a,o,e._key,r,new Wl(i.hasPendingWrites,i.fromCache),e.converter)}(function(e,i=!0){RT(pT),oc(new lo("firestore",((r,{instanceIdentifier:o,options:h})=>{const d=r.getProvider("app").getImmediate(),p=new vo(new NT(r.getProvider("auth-internal")),new MT(d,r.getProvider("app-check-internal")),JT(d,o),d);return h={useFetchStreams:i,...h},p._setSettings(h),p}),"PUBLIC").setMultipleInstances(!0)),Or(U0,B0,e),Or(U0,B0,"esm2020")})();var tA="firebase",eA="12.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Or(tA,eA,"app");const nA={apiKey:"AIzaSyAZBf9fUWZoXnYJyBvBGEvpiu7DbHkG5Iw",authDomain:"crm-ver2.firebaseapp.com",projectId:"crm-ver2",storageBucket:"crm-ver2.firebasestorage.app",messagingSenderId:"993359540287",appId:"1:993359540287:web:5469df3e5d22c4b480088a"},iA=iv(nA),Wd=M2(iA),tm="default",em="workspaces";function sA(a){return{...a,tabs:a.tabs.map(e=>{const i={...e};return i.inboxSection===void 0&&delete i.inboxSection,i})}}async function aA(){try{const a=Yd(Wd,em,tm),e=await Z2(a);if(e.exists()){const i=e.data();return{tabs:i.tabs||[],activeTabId:i.activeTabId||"",bookmarks:i.bookmarks||[]}}return null}catch(a){throw console.error("Error fetching workspace data:",a),a}}async function q0(a){try{const e=Yd(Wd,em,tm),i=sA(a);await $2(e,{...i,updatedAt:G2()},{merge:!0})}catch(e){throw console.error("Error saving workspace data:",e),e}}function rA(a,e){const i=Yd(Wd,em,tm);return J2(i,r=>{if(r.exists()){const o=r.data();a({tabs:o.tabs||[],activeTabId:o.activeTabId||"",bookmarks:o.bookmarks||[]})}},r=>{console.error("Firestore snapshot error:",r),e(r)})}function lA(a){const[e,i]=rt.useState(null),[r,o]=rt.useState(!0),[h,d]=rt.useState(null),p=rt.useRef(!1),g=rt.useRef(null);rt.useEffect(()=>{let T=null;async function A(){try{const C=await aA();C&&C.tabs.length>0?i(C):(await q0(a),i(a)),T=rA(U=>{p.current=!0,i(U),setTimeout(()=>{p.current=!1},0)},U=>{d(U)}),o(!1)}catch(C){d(C),o(!1)}}return A(),()=>{T&&T(),g.current&&clearTimeout(g.current)}},[]);const v=rt.useCallback(async T=>{p.current||(i(T),g.current&&clearTimeout(g.current),g.current=setTimeout(async()=>{try{await q0(T)}catch(A){d(A),console.error("Failed to save to Firestore:",A)}},300))},[]);return{data:e,loading:r,error:h,updateData:v}}function oA(a){const e=rt.useRef(null),i=rt.useRef({x:0,y:0,time:0});return rt.useEffect(()=>{const r=e.current;if(!r)return;const o=d=>{i.current={x:d.touches[0].clientX,y:d.touches[0].clientY,time:Date.now()}},h=d=>{const{x:p,y:g,time:v}=i.current,T=d.changedTouches[0].clientX,A=d.changedTouches[0].clientY,C=Date.now(),U=T-p,Z=A-g,st=C-v,V=a.minSwipeDistance??50,H=a.minSwipeVelocity??.3,G=a.maxVerticalMovement??80,Y=Math.abs(U)>Math.abs(Z),ut=Math.abs(U)>V,yt=Math.abs(Z)<G,R=Math.abs(U)/st>H;Y&&ut&&yt&&R&&(U<0&&a.onSwipeLeft?a.onSwipeLeft():U>0&&a.onSwipeRight&&a.onSwipeRight())};return r.addEventListener("touchstart",o,{passive:!0}),r.addEventListener("touchend",h,{passive:!0}),()=>{r.removeEventListener("touchstart",o),r.removeEventListener("touchend",h)}},[a]),e}const uA="https://www.googleapis.com/auth/calendar.events https://www.googleapis.com/auth/calendar",H0="1",gd="google_access_token",pd="google_token_version",nm="google_token_expires_at",cA=300*1e3,F0=()=>{const a=localStorage.getItem(nm);if(!a)return!1;const e=parseInt(a);return Date.now()<e-cA},Kl=()=>{localStorage.removeItem(gd),localStorage.removeItem(pd),localStorage.removeItem(nm)},hA=()=>{const[a,e]=rt.useState(!1),[i,r]=rt.useState(null);rt.useEffect(()=>{const p=localStorage.getItem(gd),g=localStorage.getItem(pd);p&&g===H0&&F0()?(r(p),e(!0)):Kl()},[]);const o=RE({scope:uA,onSuccess:p=>{r(p.access_token),e(!0),localStorage.setItem(gd,p.access_token),localStorage.setItem(pd,H0);const g=p.expires_in||3600,v=Date.now()+g*1e3;localStorage.setItem(nm,v.toString())},onError:()=>{console.error("Google  ")}});return{isAuthorized:a,login:o,logout:()=>{Kl(),r(null),e(!1)},createCalendarEvent:async p=>{var T,A,C;if(!i)throw new Error("Google  ");if(!F0())throw Kl(),r(null),e(!1),new Error(" .  .");const g={summary:p.summary,description:p.description||""};p.isAllDay?(g.start={date:p.start},g.end={date:p.end}):(g.start={dateTime:p.start,timeZone:"Asia/Seoul"},g.end={dateTime:p.end,timeZone:"Asia/Seoul"});const v=await fetch("https://www.googleapis.com/calendar/v3/calendars/primary/events",{method:"POST",headers:{Authorization:`Bearer ${i}`,"Content-Type":"application/json"},body:JSON.stringify(g)});if(!v.ok){const U=await v.json();throw v.status===401?(Kl(),r(null),e(!1),new Error(" .  .")):(A=(T=U.error)==null?void 0:T.message)!=null&&A.includes("insufficient authentication scopes")?(Kl(),r(null),e(!1),new Error(" .  .")):new Error(`   : ${((C=U.error)==null?void 0:C.message)||"   "}`)}return await v.json()}}},fA=a=>{if(!a||a.trim()===""||!(a.includes("")||a.includes(" ")||a.includes("millie.page.link")))return a;const i=a.indexOf(" - ");return i===-1?a:a.substring(0,i).trim()},G0=/(https?:\/\/[^\s]+)|(www\.[^\s]+)/gi,Q0=/010[-\s]?\d{4}[-\s]?\d{4}/g,dA=a=>{if(!a||typeof a!="string")return[a];const e=[];let i;for(G0.lastIndex=0;(i=G0.exec(a))!==null;)e.push({type:"url",content:i[0],index:i.index,length:i[0].length});for(Q0.lastIndex=0;(i=Q0.exec(a))!==null;)e.some(p=>i.index>=p.index&&i.index<p.index+p.length||i.index+i[0].length>p.index&&i.index+i[0].length<=p.index+p.length)||e.push({type:"phone",content:i[0],index:i.index,length:i[0].length});e.sort((d,p)=>d.index-p.index);const r=[];let o=0,h=0;return e.forEach(d=>{if(d.index>o&&r.push(a.substring(o,d.index)),d.type==="url"){const p=d.content.startsWith("www.")?`https://${d.content}`:d.content;r.push(b.jsx("a",{href:p,target:"_blank",rel:"noopener noreferrer",onClick:g=>g.stopPropagation(),className:"text-blue-500 underline hover:text-blue-600 transition-colors",children:d.content},`url-${h++}`))}else if(d.type==="phone"){const p=d.content.replace(/[-\s]/g,"");r.push(b.jsx("a",{href:`sms:${p}`,onClick:g=>g.stopPropagation(),className:"text-green-600 underline hover:text-green-700 transition-colors",children:d.content},`phone-${h++}`))}o=d.index+d.length}),o<a.length&&r.push(a.substring(o)),r.length>0?r:[a]},mA=({text:a,className:e=""})=>{const i=dA(a);return b.jsx("span",{className:e,children:i})},gA=[{id:"b1",label:"",url:"",color:"bg-[#B89F1F]"},{id:"b2",label:"",url:"",color:"bg-[#B89F1F]"},{id:"b3",label:"",url:"",color:"bg-[#B89F1F]"},{id:"b4",label:"",url:"",color:"bg-[#B89F1F]"},{id:"b5",label:"",url:"",color:"bg-[#0F5A9F]"},{id:"b6",label:"24",url:"",color:"bg-[#0F5A9F]"},{id:"b7",label:"",url:"",color:"bg-[#0F5A9F]"},{id:"b8",label:"",url:"",color:"bg-[#0F5A9F]"},{id:"b9",label:"",url:"",color:"bg-[#724C8F]"},{id:"b10",label:"",url:"",color:"bg-[#724C8F]"},{id:"b11",label:"",url:"",color:"bg-[#724C8F]"},{id:"b12",label:"()",url:"",color:"bg-[#724C8F]"},{id:"b13",label:"",url:"",color:"bg-[#369D47]"},{id:"b14",label:"AI",url:"",color:"bg-[#369D47]"},{id:"b15",label:"",url:"",color:"bg-[#369D47]"}],pA=()=>{var Ba,ia;const a=rt.useMemo(()=>{const L=Math.random().toString(36).substr(2,9),$=Math.random().toString(36).substr(2,9),tt=Math.random().toString(36).substr(2,9);return{tabs:[{id:L,name:"",sections:[],memos:{},sideNotes:[],parkingInfo:{text:"",checklistItems:[],shoppingListItems:[],checklistMemos:{},shoppingListMemos:{}},inboxSection:{id:$,title:"IN-BOX",items:[],color:"slate",isLocked:!1},quotesSection:{id:tt,title:"",items:[],color:"slate",isLocked:!1},isLocked:!1,headerGoals:{goal1:"",goal2:""}}],activeTabId:L,bookmarks:gA}},[]),{data:e,loading:i,error:r,updateData:o}=lA(a),[h,d]=rt.useState(""),p=()=>{d("")},g=rt.useMemo(()=>e?{...e,tabs:e.tabs.map((L,$)=>({...L,inboxSection:$===0?L.inboxSection||{id:Math.random().toString(36).substr(2,9),title:"IN-BOX",items:[],color:"slate",isLocked:!1}:void 0,quotesSection:L.quotesSection||{id:Math.random().toString(36).substr(2,9),title:"",items:[],color:"slate",isLocked:!1},headerGoals:L.headerGoals||{goal1:"",goal2:""}}))}:a,[e,a]),[v,T]=rt.useState(navigator.onLine);rt.useEffect(()=>{const L=()=>{T(!0),console.log("[App] Network restored - Firestore will auto-sync")},$=()=>{T(!1),console.log("[App] Network lost - app is now offline")};return window.addEventListener("online",L),window.addEventListener("offline",$),()=>{window.removeEventListener("online",L),window.removeEventListener("offline",$)}},[]),rt.useEffect(()=>{const L=new URLSearchParams(window.location.search),$=L.get("shared")==="true",tt=L.get("text");if($&&tt){console.log("[App] Web Share Target - URL  :",tt.substring(0,50)+"...");const _t=fA(tt);console.log("[App] Web Share Target -  :",_t.substring(0,50)+"..."),d(_t),window.history.replaceState({},"",window.location.pathname),console.log("[App] Web Share Target - URL   ")}},[]),rt.useEffect(()=>{var $,tt;if(!h||i||!((tt=($=g==null?void 0:g.tabs)==null?void 0:$[0])!=null&&tt.inboxSection))return;const L=g.tabs[0];o({...g,activeTabId:L.id}),setTimeout(()=>{const _t=document.querySelector('[data-section-id="'+L.inboxSection.id+'"]');_t&&(_t.scrollIntoView({behavior:"smooth",block:"start"}),_t.classList.add("ring-2","ring-yellow-400","ring-opacity-50"),setTimeout(()=>{_t.classList.remove("ring-2","ring-yellow-400","ring-opacity-50")},3e3))},300)},[h,i,g,o]);const[A,C]=rt.useState({draggedItemId:null,dragOverItemId:null,sourceSectionId:null,draggedSectionId:null,dragOverSectionId:null}),[U,Z]=rt.useState(()=>window.matchMedia("(max-width: 1024px) and (orientation: portrait)").matches);rt.useEffect(()=>{const L=window.matchMedia("(max-width: 1024px) and (orientation: portrait)"),$=tt=>Z(tt.matches);return L.addEventListener("change",$),()=>L.removeEventListener("change",$)},[]);const[st,V]=rt.useState({isOpen:!1,itemId:null,itemText:"",sourceTabId:"",sourceSectionId:""}),[H,G]=rt.useState({isOpen:!1,title:"",message:"",onConfirm:()=>{}}),[Y,ut]=rt.useState({id:null,value:"",type:"section",isEditing:!1}),yt=rt.useRef(null),[xt,R]=rt.useState(!1),[w,I]=rt.useState(null),j=hA(),[N,k]=rt.useState({isOpen:!1,itemText:""}),S=rt.useMemo(()=>g.tabs.find($=>$.id===g.activeTabId)||g.tabs[0],[g.tabs,g.activeTabId]),Pt=rt.useMemo(()=>g.tabs.findIndex(L=>L.id===g.activeTabId),[g.tabs,g.activeTabId]),ne=L=>{o({...g,bookmarks:L})},J=()=>{const L=Math.random().toString(36).substr(2,9),$=Math.random().toString(36).substr(2,9),tt={id:L,name:`  ${g.tabs.length+1}`,sections:[],memos:{},sideNotes:[],parkingInfo:{text:"",checklistItems:[],shoppingListItems:[],checklistMemos:{},shoppingListMemos:{}},quotesSection:{id:$,title:"",items:[],color:"slate",isLocked:!1},isLocked:!1,headerGoals:{goal1:"",goal2:""}};o({...g,tabs:[...g.tabs,tt],activeTabId:L})},ht=(L,$)=>{o({...g,tabs:g.tabs.map(tt=>tt.id===L?{...tt,name:$}:tt)})},At=L=>{o({...g,tabs:g.tabs.map($=>$.id===L?{...$,isLocked:!$.isLocked}:$)})},Bt=(L,$)=>{const tt=[...g.tabs],[_t]=tt.splice(L,1);tt.splice($,0,_t),o({...g,tabs:tt})},qt=(L,$)=>{var Ot;let tt=S.sections.find(Tt=>Tt.id===$);!tt&&((Ot=S.inboxSection)==null?void 0:Ot.id)===$&&(tt=S.inboxSection);const _t=tt==null?void 0:tt.items.find(Tt=>Tt.id===L);!_t||!tt||V({isOpen:!0,itemId:_t.id,itemText:_t.text,sourceTabId:g.activeTabId,sourceSectionId:tt.id})},O=(L,$)=>{var re,en;const{itemId:tt,sourceTabId:_t,sourceSectionId:Ot}=st;if(!tt)return;if(_t===L&&Ot===$){V(pt=>({...pt,isOpen:!1}));return}const Tt=g.tabs.find(pt=>pt.id===_t);if(!Tt)return;let ge=Tt.sections.find(pt=>pt.id===Ot);!ge&&((re=Tt.inboxSection)==null?void 0:re.id)===Ot&&(ge=Tt.inboxSection);const we=ge==null?void 0:ge.items.find(pt=>pt.id===tt);if(!we||!ge)return;const Hn=g.tabs.find(pt=>pt.id===L);if(!Hn)return;let xe=Hn.sections.find(pt=>pt.id===$);if(!xe&&((en=Hn.inboxSection)==null?void 0:en.id)===$&&(xe=Hn.inboxSection),!xe)return;const Fn=Tt.memos[tt];o({...g,tabs:g.tabs.map(pt=>{var dn,Pa,sa,Vn,gi,qa,pi,cs,hs,yi;if(_t===L&&pt.id===_t){let ke=pt.sections,bn=pt.inboxSection;return ge.id!==((dn=pt.inboxSection)==null?void 0:dn.id)&&xe.id!==((Pa=pt.inboxSection)==null?void 0:Pa.id)?ke=pt.sections.map($t=>$t.id===Ot?{...$t,items:$t.items.filter(Ie=>Ie.id!==tt)}:$t.id===$?{...$t,items:[...$t.items,we]}:$t):ge.id!==((sa=pt.inboxSection)==null?void 0:sa.id)&&xe.id===((Vn=pt.inboxSection)==null?void 0:Vn.id)?(ke=pt.sections.map($t=>$t.id===Ot?{...$t,items:$t.items.filter(Ie=>Ie.id!==tt)}:$t),bn={...pt.inboxSection,items:[...pt.inboxSection.items,we]}):ge.id===((gi=pt.inboxSection)==null?void 0:gi.id)&&xe.id!==((qa=pt.inboxSection)==null?void 0:qa.id)?(ke=pt.sections.map($t=>$t.id===$?{...$t,items:[...$t.items,we]}:$t),bn={...pt.inboxSection,items:pt.inboxSection.items.filter($t=>$t.id!==tt)}):ge.id===((pi=pt.inboxSection)==null?void 0:pi.id)&&xe.id===((cs=pt.inboxSection)==null?void 0:cs.id)&&(bn=pt.inboxSection),{...pt,sections:ke,inboxSection:bn}}else if(_t!==L&&pt.id===_t){let ke=pt.sections,bn=pt.inboxSection;ge.id!==((hs=pt.inboxSection)==null?void 0:hs.id)?ke=pt.sections.map(pe=>pe.id===Ot?{...pe,items:pe.items.filter(ze=>ze.id!==tt)}:pe):bn={...pt.inboxSection,items:pt.inboxSection.items.filter(pe=>pe.id!==tt)};const{[tt]:$t,...Ie}=pt.memos;return{...pt,sections:ke,inboxSection:bn,memos:Ie}}else if(_t!==L&&pt.id===L){let ke=pt.sections,bn=pt.inboxSection;xe.id!==((yi=pt.inboxSection)==null?void 0:yi.id)?ke=pt.sections.map(Ie=>Ie.id===$?{...Ie,items:[...Ie.items,we]}:Ie):bn={...pt.inboxSection,items:[...pt.inboxSection.items,we]};const $t=Fn?{...pt.memos,[tt]:Fn}:pt.memos;return{...pt,sections:ke,inboxSection:bn,memos:$t}}return pt})}),V({isOpen:!1,itemId:null,itemText:"",sourceTabId:"",sourceSectionId:""})},et=L=>{if(!j.isAuthorized){j.login();return}k({isOpen:!0,itemText:L})},dt=async(L,$,tt)=>{var _t,Ot;try{await j.createCalendarEvent({summary:N.itemText,start:L,end:$,isAllDay:tt}),alert(" !"),k({isOpen:!1,itemText:""})}catch(Tt){console.error("  :",Tt),(_t=Tt.message)!=null&&_t.includes(" ")||(Ot=Tt.message)!=null&&Ot.includes(" ")?(k({isOpen:!1,itemText:""}),alert(`${Tt.message}

   .`),j.login()):alert(`  : ${Tt.message||"   "}`)}},vt=L=>{const $=g.tabs.find(tt=>tt.id===L);!$||$.isLocked||g.tabs.length<=1||G({isOpen:!0,title:" ",message:`'${$.name}'     . ?`,onConfirm:()=>{const tt=g.tabs.filter(Ot=>Ot.id!==L),_t=g.activeTabId===L?tt[0].id:g.activeTabId;o({...g,tabs:tt,activeTabId:_t}),G(Ot=>({...Ot,isOpen:!1}))}})},F=L=>{o({...g,activeTabId:L})},ot=()=>{const L=Pt+1;L<g.tabs.length&&F(g.tabs[L].id)},mt=()=>{const L=Pt-1;L>=0&&F(g.tabs[L].id)},It=oA({onSwipeLeft:Y.id||H.isOpen?void 0:ot,onSwipeRight:Y.id||H.isOpen?void 0:mt,minSwipeDistance:50,minSwipeVelocity:.3,maxVerticalMovement:80}),ct=L=>{o({...g,tabs:g.tabs.map($=>$.id===g.activeTabId?{...$,parkingInfo:L}:$)})},Le=L=>{o({...g,tabs:g.tabs.map($=>$.id===g.activeTabId?{...$,sideNotes:L}:$)})},gt=()=>{const L={id:Math.random().toString(36).substr(2,9),title:" ",items:[],color:"slate",isLocked:!1};o({...g,tabs:g.tabs.map($=>$.id===g.activeTabId?{...$,sections:[...$.sections,L]}:$)})},Ct=(L,$)=>{o({...g,tabs:g.tabs.map(tt=>tt.id===g.activeTabId?{...tt,sections:tt.sections.map(_t=>_t.id===L.id?L:_t),memos:$?{...tt.memos,...$}:tt.memos}:tt)})},Zt=(L,$)=>{o({...g,tabs:g.tabs.map(tt=>tt.id===g.activeTabId?{...tt,inboxSection:L,memos:$?{...tt.memos,...$}:tt.memos}:tt)})},ce=(L,$)=>{o({...g,tabs:g.tabs.map(tt=>tt.id===g.activeTabId?{...tt,quotesSection:L,memos:$?{...tt.memos,...$}:tt.memos}:tt)})},vn=L=>{const $=S==null?void 0:S.sections.find(tt=>tt.id===L);$!=null&&$.isLocked||G({isOpen:!0,title:" ",message:"  ?",onConfirm:()=>{o({...g,tabs:g.tabs.map(tt=>tt.id===g.activeTabId?{...tt,sections:tt.sections.filter(_t=>_t.id!==L)}:tt)}),G(tt=>({...tt,isOpen:!1}))}})},hn=L=>{C($=>({...$,draggedSectionId:L}))},fn=(L,$)=>{L.preventDefault(),A.draggedSectionId&&A.draggedSectionId!==$&&C(tt=>({...tt,dragOverSectionId:$}))},qn=(L,$)=>{L.preventDefault();const{draggedSectionId:tt}=A;!tt||tt===$||o({...g,tabs:g.tabs.map(_t=>{if(_t.id!==g.activeTabId)return _t;const Ot=[..._t.sections],Tt=Ot.findIndex(we=>we.id===tt),ge=Ot.findIndex(we=>we.id===$);if(Tt!==-1&&ge!==-1){const[we]=Ot.splice(Tt,1);Ot.splice(ge,0,we)}return{..._t,sections:Ot}})})},ve=()=>{C(L=>({...L,draggedSectionId:null,dragOverSectionId:null}))},_e=(L,$,tt,_t)=>{if($===tt)return;const Ot=Tt=>{const ge=[];return Tt.inboxSection&&ge.push(Tt.inboxSection),Tt.quotesSection&&ge.push(Tt.quotesSection),ge.push(...Tt.sections),ge};o({...g,tabs:g.tabs.map(Tt=>{if(Tt.id!==g.activeTabId)return Tt;const ge=Ot(Tt),we=ge.find(pt=>pt.id===$),Hn=ge.find(pt=>pt.id===tt);if(!we||!Hn)return Tt;const xe=we.items.find(pt=>pt.id===L);if(!xe)return Tt;const Fn=we.items.filter(pt=>pt.id!==L);let re=[...Hn.items];if(_t){const pt=re.findIndex(dn=>dn.id===_t);pt!==-1?re.splice(pt,0,xe):re.unshift(xe)}else re.unshift(xe);const en=pt=>pt.id===$?{...pt,items:Fn}:pt.id===tt?{...pt,items:re}:pt;return{...Tt,inboxSection:Tt.inboxSection?en(Tt.inboxSection):Tt.inboxSection,quotesSection:en(Tt.quotesSection),sections:Tt.sections.map(en)}})})},xn=(L,$)=>{var Ot,Tt;let tt="";$==="checklist"?tt=((Ot=S.parkingInfo.checklistMemos)==null?void 0:Ot[L])||"":$==="shopping"?tt=((Tt=S.parkingInfo.shoppingListMemos)==null?void 0:Tt[L])||"":tt=S.memos[L]||"",ut({id:L,value:tt,type:$||"section",isEditing:!($==="checklist"||$==="shopping")&&tt===""})},za=()=>{Y.id&&(Y.type==="checklist"?o({...g,tabs:g.tabs.map(L=>L.id===g.activeTabId?{...L,parkingInfo:{...L.parkingInfo,checklistMemos:{...L.parkingInfo.checklistMemos,[Y.id]:Y.value}}}:L)}):Y.type==="shopping"?o({...g,tabs:g.tabs.map(L=>L.id===g.activeTabId?{...L,parkingInfo:{...L.parkingInfo,shoppingListMemos:{...L.parkingInfo.shoppingListMemos,[Y.id]:Y.value}}}:L)}):o({...g,tabs:g.tabs.map(L=>L.id===g.activeTabId?{...L,memos:{...L.memos,[Y.id]:Y.value}}:L)})),Y.value.trim()?ut({...Y,isEditing:!1}):ut({id:null,value:"",type:"section",isEditing:!1})},Ua=()=>{Y.id&&G({isOpen:!0,title:" ",message:"  ?    .",onConfirm:()=>{o({...g,tabs:g.tabs.map(L=>{if(L.id!==g.activeTabId)return L;if(Y.type==="checklist"){const $={...L.parkingInfo.checklistMemos};return delete $[Y.id],{...L,parkingInfo:{...L.parkingInfo,checklistItems:L.parkingInfo.checklistItems.filter(tt=>tt.id!==Y.id),checklistMemos:$}}}else if(Y.type==="shopping"){const $={...L.parkingInfo.shoppingListMemos};return delete $[Y.id],{...L,parkingInfo:{...L.parkingInfo,shoppingListItems:L.parkingInfo.shoppingListItems.filter(tt=>tt.id!==Y.id),shoppingListMemos:$}}}else{const $={...L.memos};delete $[Y.id];const tt=_t=>_t.filter(Ot=>Ot.id!==Y.id);return{...L,memos:$,inboxSection:L.inboxSection?{...L.inboxSection,items:tt(L.inboxSection.items)}:L.inboxSection,quotesSection:{...L.quotesSection,items:tt(L.quotesSection.items)},sections:L.sections.map(_t=>({..._t,items:tt(_t.items)}))}}})}),G(L=>({...L,isOpen:!1})),ut({id:null,value:"",type:"section",isEditing:!1})}})},$e=L=>{const $=yt.current;if(!$)return;const tt=$.selectionStart,_t=$.selectionEnd,Ot=Y.value,Tt=Ot.substring(0,tt)+L+Ot.substring(_t);ut({...Y,value:Tt}),requestAnimationFrame(()=>{$.focus(),$.selectionStart=$.selectionEnd=tt+L.length})},Pi=[{label:"",value:" ",title:""},{label:"-",value:"- ",title:""},{label:"",value:" ",title:""},{label:"",value:" ",title:""},{label:"",value:" ",title:""},{label:"",value:" ",title:""},{label:"",value:" ",title:""},{label:"",value:" ",title:""},{label:"",value:" ",title:""},{label:"",value:" ",title:""}],ea=(L,$)=>{L!==g.activeTabId&&F(L),$&&(setTimeout(()=>{const tt=document.querySelector(`[data-section-id="${$}"]`);tt&&tt.scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"})},100),I($),setTimeout(()=>{I(null)},3e3)),R(!1)},na=()=>{const L=g.tabs[0];if(!(L!=null&&L.inboxSection))return;const $=L.id,tt=L.inboxSection.id;$!==g.activeTabId&&F($),setTimeout(()=>{const _t=document.querySelector(`[data-section-id="${tt}"]`);_t&&_t.scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"})},100),I(tt),setTimeout(()=>{I(null)},3e3)};S.sections.some(L=>L.items.some($=>$.completed));const _n=S.id===(((Ba=g.tabs[0])==null?void 0:Ba.id)||"");return i?b.jsx("div",{className:"h-screen flex items-center justify-center bg-[#F8FAFC]",children:b.jsxs("div",{className:"text-center",children:[b.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto mb-4"}),b.jsx("p",{className:"text-slate-600",children:"  ..."})]})}):r?b.jsx("div",{className:"h-screen flex items-center justify-center bg-[#F8FAFC]",children:b.jsxs("div",{className:"text-center max-w-md",children:[b.jsx("div",{className:"flex justify-center mb-4",children:b.jsx("svg",{className:"w-16 h-16 text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),b.jsx("h2",{className:"text-xl font-bold text-slate-800 mb-2",children:"  "}),b.jsx("p",{className:"text-sm text-slate-600 mb-4",children:r.message}),b.jsx("p",{className:"text-xs text-slate-500 mb-6",children:"    ."}),b.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-2 bg-blue-500 text-white rounded-lg font-medium hover:bg-blue-600 transition-colors",children:" "})]})}):b.jsxs("div",{className:"h-screen flex flex-col bg-[#F8FAFC] overflow-hidden text-slate-900",children:[!v&&b.jsx("div",{className:"flex-none bg-yellow-500 text-white px-4 py-2 text-center text-sm font-medium",children:b.jsxs("div",{className:"flex items-center justify-center gap-2",children:[b.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),b.jsx("span",{children:"  -   "})]})}),b.jsx("div",{className:`flex-none ${U?"hidden":"hidden md:block"}`,children:b.jsx(BE,{bookmarks:g.bookmarks,onUpdateBookmarks:ne})}),b.jsxs("div",{className:"flex-1 flex flex-row overflow-hidden",children:[b.jsx("aside",{className:`flex-none w-60 border-r border-slate-200 bg-white/40 ${U?"hidden":"hidden lg:block"}`,children:b.jsx(PE,{notes:S.sideNotes||[],onChange:Le})}),b.jsxs("div",{ref:It,className:"flex-1 flex flex-col overflow-hidden",children:[b.jsx("div",{className:"flex-none bg-[#F8FAFC]",children:b.jsx(VE,{onAddSection:gt,onOpenNavigationMap:()=>R(!0),headerGoals:S.headerGoals,onHeaderGoalsChange:L=>{o({...g,tabs:g.tabs.map($=>$.id===g.activeTabId?{...$,headerGoals:L}:$)})}})}),b.jsx("main",{className:"flex-1 overflow-y-auto custom-scrollbar px-0 md:px-6 pb-20",children:b.jsxs("div",{className:`grid gap-3 h-full ${U?"grid-cols-1":`grid-cols-1 md:grid-cols-2 md:gap-6 ${_n?"lg:grid-cols-2 xl:grid-cols-3 2xl:grid-cols-4":"lg:grid-cols-2 xl:grid-cols-3"}`}`,style:{gridAutoRows:"auto"},children:[_n&&b.jsxs(b.Fragment,{children:[b.jsx("div",{className:"h-[600px] md:h-auto md:row-span-2",children:b.jsx(jE,{info:S.parkingInfo,onChange:ct,onShowChecklistMemo:L=>xn(L,"checklist"),onShowShoppingMemo:L=>xn(L,"shopping"),onAddToCalendar:et})}),b.jsx("div",{className:"h-[600px] md:h-auto md:row-span-2 xl:col-span-2",children:b.jsx(Lf,{section:S.inboxSection,itemMemos:S.memos,onUpdateSection:Zt,onDeleteSection:()=>{},onShowItemMemo:xn,onMoveItem:L=>qt(L,S.inboxSection.id),onAddToCalendar:et,dragState:A,setDragState:C,onSectionDragStart:()=>{},onSectionDragOver:()=>{},onSectionDrop:()=>{},onSectionDragEnd:()=>{},isHighlighted:S.inboxSection.id===w,isInboxSection:!0,tabColorBg:Xl(0).bgLight,initialQuickAddValue:h,onQuickAddValuePopulated:p,onCrossSectionDrop:_e})}),b.jsx("div",{className:"h-[600px] md:h-auto md:row-span-2",children:b.jsx(Lf,{section:S.quotesSection,itemMemos:S.memos,onUpdateSection:ce,onDeleteSection:()=>{},onShowItemMemo:xn,onMoveItem:L=>qt(L,S.quotesSection.id),onAddToCalendar:et,dragState:A,setDragState:C,onSectionDragStart:()=>{},onSectionDragOver:()=>{},onSectionDrop:()=>{},onSectionDragEnd:()=>{},isHighlighted:S.quotesSection.id===w,isInboxSection:!0,tabColorBg:Xl(0).bgLight,onCrossSectionDrop:_e})})]}),S.sections.map(L=>b.jsx("div",{className:_n?"":"h-screen md:h-full md:row-span-2",children:b.jsx(Lf,{section:L,itemMemos:S.memos,onUpdateSection:Ct,onDeleteSection:vn,onShowItemMemo:xn,onMoveItem:$=>qt($,L.id),onAddToCalendar:et,dragState:A,setDragState:C,onSectionDragStart:()=>hn(L.id),onSectionDragOver:$=>fn($,L.id),onSectionDrop:$=>qn($,L.id),onSectionDragEnd:ve,isHighlighted:L.id===w,isFullHeight:!_n,tabColorText:Xl(Pt).text,tabColorBg:Xl(Pt).bgLight,onCrossSectionDrop:_e})},L.id)),S.sections.length===0&&(!_n||S.sections.length===0)&&b.jsx("div",{className:"col-span-full text-center py-16 text-slate-400",children:b.jsx("p",{className:"text-sm italic",children:_n&&S.sections.length===0?'  . "+"    .':S.sections.length===0?"  .    .":""})})]})})]})]}),b.jsx("div",{className:"flex-none",children:b.jsx(kE,{tabs:e.tabs,activeTabId:e.activeTabId,onSelectTab:F,onAddTab:J,onRenameTab:ht,onDeleteTab:vt,onToggleLockTab:At,onReorderTabs:Bt,onNavigateToInbox:na,hasInbox:!!((ia=g.tabs[0])!=null&&ia.inboxSection)})}),Y.id&&b.jsx("div",{onClick:()=>ut({id:null,value:"",type:"section",isEditing:!1}),className:"fixed inset-0 z-[110] flex items-center justify-center p-4 bg-slate-900/40 backdrop-blur-sm",children:b.jsxs("div",{onClick:L=>L.stopPropagation(),className:"bg-white w-full max-w-2xl h-[90vh] md:h-[85vh] shadow-2xl border-[1.5px] md:border-2 border-black flex flex-col",children:[!Y.isEditing&&b.jsxs(b.Fragment,{children:[b.jsx("div",{onDoubleClick:()=>ut({...Y,isEditing:!0}),className:"flex-1 w-full overflow-y-auto custom-scrollbar bg-slate-50 text-slate-700 text-base whitespace-pre-wrap break-words p-4 cursor-text hover:bg-slate-100 transition-colors",children:Y.value?b.jsx("div",{className:"prose prose-sm max-w-none select-text",children:b.jsx(mA,{text:Y.value})}):b.jsx("p",{className:"text-slate-400 italic",children:" ."})}),b.jsxs("div",{className:"border-t border-slate-300 px-4 py-3 flex justify-end gap-3 flex-wrap",children:[b.jsx("button",{onClick:()=>{navigator.clipboard.writeText(Y.value)},className:"px-4 py-2 bg-slate-500 hover:bg-slate-600 text-white font-medium border-2 border-black transition-colors",children:" "}),b.jsx("button",{onClick:()=>ut({...Y,id:null}),className:"px-4 py-2 border-2 border-slate-300 text-slate-700 font-medium hover:bg-slate-50 transition-colors",children:""}),b.jsx("button",{onClick:()=>ut({...Y,isEditing:!0}),className:"px-4 py-2 bg-blue-500 hover:bg-blue-600 text-white font-medium border-2 border-black transition-colors",children:" "}),b.jsx("button",{onClick:Ua,className:"px-4 py-2 bg-red-500 hover:bg-red-600 text-white font-medium border-2 border-black transition-colors",children:" "})]})]}),Y.isEditing&&b.jsxs(b.Fragment,{children:[b.jsxs("div",{className:"memo-symbol-toolbar flex-none flex items-center gap-1 px-2 py-1.5 bg-slate-100 border-b border-slate-200 overflow-x-auto",children:[Pi.map((L,$)=>b.jsx("button",{title:L.title,onMouseDown:tt=>{tt.preventDefault(),$e(L.value)},className:`flex-none flex items-center justify-center rounded hover:bg-slate-200 active:bg-slate-300 text-slate-700 font-medium transition-colors select-none ${$<3?"w-10 h-10 text-2xl":"w-8 h-8 text-base"}`,children:L.label},L.label)),b.jsx("div",{className:"w-px h-5 bg-slate-300 mx-1 flex-none"}),b.jsx("button",{title:"",onMouseDown:L=>{L.preventDefault(),$e("  ")},className:"flex-none px-2 h-8 flex items-center justify-center rounded hover:bg-slate-200 active:bg-slate-300 text-slate-500 text-xs font-medium transition-colors select-none",children:"Tab"})]}),b.jsx("textarea",{ref:yt,autoFocus:!0,value:Y.value,onChange:L=>ut({...Y,value:L.target.value}),onBlur:L=>{L.relatedTarget&&L.relatedTarget.closest(".memo-symbol-toolbar")||za()},className:"flex-1 w-full overflow-y-auto custom-scrollbar focus:outline-none text-slate-700 text-base resize-none p-4",placeholder:"  ..."}),b.jsxs("div",{className:"px-4 py-3 flex justify-end gap-3",children:[b.jsx("button",{onClick:()=>{var $,tt,_t;let L="";Y.type==="checklist"?L=(($=S.parkingInfo.checklistMemos)==null?void 0:$[Y.id])||"":Y.type==="shopping"?L=((tt=S.parkingInfo.shoppingListMemos)==null?void 0:tt[Y.id])||"":L=((_t=S.memos)==null?void 0:_t[Y.id])||"",ut(L?{...Y,value:L,isEditing:!1}:{id:null,value:"",type:"section",isEditing:!1})},className:"px-4 py-2 border-2 border-slate-300 text-slate-700 font-medium hover:bg-slate-50 transition-colors",children:""}),b.jsx("button",{onClick:za,className:"px-4 py-2 bg-green-500 hover:bg-green-600 text-white font-medium border-2 border-black transition-colors",children:" "}),b.jsx("button",{onClick:()=>{navigator.clipboard.writeText(Y.value)},className:"px-4 py-2 bg-slate-500 hover:bg-slate-600 text-white font-medium border-2 border-black transition-colors",children:" "})]})]})]})}),b.jsx(HE,{isOpen:st.isOpen,itemText:st.itemText,currentTabId:st.sourceTabId,currentSectionId:st.sourceSectionId,tabs:g.tabs,onMove:O,onCancel:()=>V(L=>({...L,isOpen:!1}))}),b.jsx(ME,{isOpen:H.isOpen,title:H.title,message:H.message,onConfirm:H.onConfirm,onCancel:()=>G(L=>({...L,isOpen:!1}))}),b.jsx(qE,{isOpen:xt,tabs:g.tabs,activeTabId:g.activeTabId,onClose:()=>R(!1),onNavigate:ea}),b.jsx(FE,{isOpen:N.isOpen,itemText:N.itemText,onClose:()=>k({isOpen:!1,itemText:""}),onConfirm:dt})]})},k_=document.getElementById("root");if(!k_)throw new Error("Could not find root element to mount to");const yA=SE.createRoot(k_);yA.render(b.jsx(ic.StrictMode,{children:b.jsx(wE,{clientId:"616885689767-lh1pp7kjs94vlq862kmq9fgq746cnbfg.apps.googleusercontent.com",children:b.jsx(pA,{})})}));
