(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const h of o)if(h.type==="childList")for(const d of h.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const h={};return o.integrity&&(h.integrity=o.integrity),o.referrerPolicy&&(h.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?h.credentials="include":o.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function r(o){if(o.ep)return;o.ep=!0;const h=i(o);fetch(o.href,h)}})();function F0(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var If={exports:{}},Gl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ey;function fE(){if(Ey)return Gl;Ey=1;var a=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(r,o,h){var d=null;if(h!==void 0&&(d=""+h),o.key!==void 0&&(d=""+o.key),"key"in o){h={};for(var m in o)m!=="key"&&(h[m]=o[m])}else h=o;return o=h.ref,{$$typeof:a,type:r,key:d,ref:o!==void 0?o:null,props:h}}return Gl.Fragment=e,Gl.jsx=i,Gl.jsxs=i,Gl}var Ty;function dE(){return Ty||(Ty=1,If.exports=fE()),If.exports}var b=dE(),Vf={exports:{}},Ot={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xy;function mE(){if(xy)return Ot;xy=1;var a=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),d=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),C=Symbol.iterator;function j(I){return I===null||typeof I!="object"?null:(I=C&&I[C]||I["@@iterator"],typeof I=="function"?I:null)}var G={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Z=Object.assign,V={};function Q(I,$,ut){this.props=I,this.context=$,this.refs=V,this.updater=ut||G}Q.prototype.isReactComponent={},Q.prototype.setState=function(I,$){if(typeof I!="object"&&typeof I!="function"&&I!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,I,$,"setState")},Q.prototype.forceUpdate=function(I){this.updater.enqueueForceUpdate(this,I,"forceUpdate")};function et(){}et.prototype=Q.prototype;function lt(I,$,ut){this.props=I,this.context=$,this.refs=V,this.updater=ut||G}var bt=lt.prototype=new et;bt.constructor=lt,Z(bt,Q.prototype),bt.isPureReactComponent=!0;var pt=Array.isArray;function At(){}var N={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function w(I,$,ut){var gt=ut.ref;return{$$typeof:a,type:I,key:$,ref:gt!==void 0?gt:null,props:ut}}function L(I,$){return w(I.type,$,I.props)}function O(I){return typeof I=="object"&&I!==null&&I.$$typeof===a}function k(I){var $={"=":"=0",":":"=2"};return"$"+I.replace(/[=:]/g,function(ut){return $[ut]})}var R=/\/+/g;function Pt(I,$){return typeof I=="object"&&I!==null&&I.key!=null?k(""+I.key):$.toString(36)}function ue(I){switch(I.status){case"fulfilled":return I.value;case"rejected":throw I.reason;default:switch(typeof I.status=="string"?I.then(At,At):(I.status="pending",I.then(function($){I.status==="pending"&&(I.status="fulfilled",I.value=$)},function($){I.status==="pending"&&(I.status="rejected",I.reason=$)})),I.status){case"fulfilled":return I.value;case"rejected":throw I.reason}}throw I}function X(I,$,ut,gt,F){var rt=typeof I;(rt==="undefined"||rt==="boolean")&&(I=null);var dt=!1;if(I===null)dt=!0;else switch(rt){case"bigint":case"string":case"number":dt=!0;break;case"object":switch(I.$$typeof){case a:case e:dt=!0;break;case T:return dt=I._init,X(dt(I._payload),$,ut,gt,F)}}if(dt)return F=F(I),dt=gt===""?"."+Pt(I,0):gt,pt(F)?(ut="",dt!=null&&(ut=dt.replace(R,"$&/")+"/"),X(F,$,ut,"",function(He){return He})):F!=null&&(O(F)&&(F=L(F,ut+(F.key==null||I&&I.key===F.key?"":(""+F.key).replace(R,"$&/")+"/")+dt)),$.push(F)),1;dt=0;var Rt=gt===""?".":gt+":";if(pt(I))for(var mt=0;mt<I.length;mt++)gt=I[mt],rt=Rt+Pt(gt,mt),dt+=X(gt,$,ut,rt,F);else if(mt=j(I),typeof mt=="function")for(I=mt.call(I),mt=0;!(gt=I.next()).done;)gt=gt.value,rt=Rt+Pt(gt,mt++),dt+=X(gt,$,ut,rt,F);else if(rt==="object"){if(typeof I.then=="function")return X(ue(I),$,ut,gt,F);throw $=String(I),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(I).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.")}return dt}function ht(I,$,ut){if(I==null)return I;var gt=[],F=0;return X(I,gt,"","",function(rt){return $.call(ut,rt,F++)}),gt}function Et(I){if(I._status===-1){var $=I._result;$=$(),$.then(function(ut){(I._status===0||I._status===-1)&&(I._status=1,I._result=ut)},function(ut){(I._status===0||I._status===-1)&&(I._status=2,I._result=ut)}),I._status===-1&&(I._status=0,I._result=$)}if(I._status===1)return I._result.default;throw I._result}var ft=typeof reportError=="function"?reportError:function(I){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var $=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof I=="object"&&I!==null&&typeof I.message=="string"?String(I.message):String(I),error:I});if(!window.dispatchEvent($))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",I);return}console.error(I)},vt={map:ht,forEach:function(I,$,ut){ht(I,function(){$.apply(this,arguments)},ut)},count:function(I){var $=0;return ht(I,function(){$++}),$},toArray:function(I){return ht(I,function($){return $})||[]},only:function(I){if(!O(I))throw Error("React.Children.only expected to receive a single React element child.");return I}};return Ot.Activity=S,Ot.Children=vt,Ot.Component=Q,Ot.Fragment=i,Ot.Profiler=o,Ot.PureComponent=lt,Ot.StrictMode=r,Ot.Suspense=y,Ot.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,Ot.__COMPILER_RUNTIME={__proto__:null,c:function(I){return N.H.useMemoCache(I)}},Ot.cache=function(I){return function(){return I.apply(null,arguments)}},Ot.cacheSignal=function(){return null},Ot.cloneElement=function(I,$,ut){if(I==null)throw Error("The argument must be a React element, but you passed "+I+".");var gt=Z({},I.props),F=I.key;if($!=null)for(rt in $.key!==void 0&&(F=""+$.key),$)!A.call($,rt)||rt==="key"||rt==="__self"||rt==="__source"||rt==="ref"&&$.ref===void 0||(gt[rt]=$[rt]);var rt=arguments.length-2;if(rt===1)gt.children=ut;else if(1<rt){for(var dt=Array(rt),Rt=0;Rt<rt;Rt++)dt[Rt]=arguments[Rt+2];gt.children=dt}return w(I.type,F,gt)},Ot.createContext=function(I){return I={$$typeof:d,_currentValue:I,_currentValue2:I,_threadCount:0,Provider:null,Consumer:null},I.Provider=I,I.Consumer={$$typeof:h,_context:I},I},Ot.createElement=function(I,$,ut){var gt,F={},rt=null;if($!=null)for(gt in $.key!==void 0&&(rt=""+$.key),$)A.call($,gt)&&gt!=="key"&&gt!=="__self"&&gt!=="__source"&&(F[gt]=$[gt]);var dt=arguments.length-2;if(dt===1)F.children=ut;else if(1<dt){for(var Rt=Array(dt),mt=0;mt<dt;mt++)Rt[mt]=arguments[mt+2];F.children=Rt}if(I&&I.defaultProps)for(gt in dt=I.defaultProps,dt)F[gt]===void 0&&(F[gt]=dt[gt]);return w(I,rt,F)},Ot.createRef=function(){return{current:null}},Ot.forwardRef=function(I){return{$$typeof:m,render:I}},Ot.isValidElement=O,Ot.lazy=function(I){return{$$typeof:T,_payload:{_status:-1,_result:I},_init:Et}},Ot.memo=function(I,$){return{$$typeof:v,type:I,compare:$===void 0?null:$}},Ot.startTransition=function(I){var $=N.T,ut={};N.T=ut;try{var gt=I(),F=N.S;F!==null&&F(ut,gt),typeof gt=="object"&&gt!==null&&typeof gt.then=="function"&&gt.then(At,ft)}catch(rt){ft(rt)}finally{$!==null&&ut.types!==null&&($.types=ut.types),N.T=$}},Ot.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},Ot.use=function(I){return N.H.use(I)},Ot.useActionState=function(I,$,ut){return N.H.useActionState(I,$,ut)},Ot.useCallback=function(I,$){return N.H.useCallback(I,$)},Ot.useContext=function(I){return N.H.useContext(I)},Ot.useDebugValue=function(){},Ot.useDeferredValue=function(I,$){return N.H.useDeferredValue(I,$)},Ot.useEffect=function(I,$){return N.H.useEffect(I,$)},Ot.useEffectEvent=function(I){return N.H.useEffectEvent(I)},Ot.useId=function(){return N.H.useId()},Ot.useImperativeHandle=function(I,$,ut){return N.H.useImperativeHandle(I,$,ut)},Ot.useInsertionEffect=function(I,$){return N.H.useInsertionEffect(I,$)},Ot.useLayoutEffect=function(I,$){return N.H.useLayoutEffect(I,$)},Ot.useMemo=function(I,$){return N.H.useMemo(I,$)},Ot.useOptimistic=function(I,$){return N.H.useOptimistic(I,$)},Ot.useReducer=function(I,$,ut){return N.H.useReducer(I,$,ut)},Ot.useRef=function(I){return N.H.useRef(I)},Ot.useState=function(I){return N.H.useState(I)},Ot.useSyncExternalStore=function(I,$,ut){return N.H.useSyncExternalStore(I,$,ut)},Ot.useTransition=function(){return N.H.useTransition()},Ot.version="19.2.3",Ot}var Sy;function pd(){return Sy||(Sy=1,Vf.exports=mE()),Vf.exports}var at=pd();const G0=F0(at);var Of={exports:{}},Ql={},Mf={exports:{}},jf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ay;function gE(){return Ay||(Ay=1,(function(a){function e(X,ht){var Et=X.length;X.push(ht);t:for(;0<Et;){var ft=Et-1>>>1,vt=X[ft];if(0<o(vt,ht))X[ft]=ht,X[Et]=vt,Et=ft;else break t}}function i(X){return X.length===0?null:X[0]}function r(X){if(X.length===0)return null;var ht=X[0],Et=X.pop();if(Et!==ht){X[0]=Et;t:for(var ft=0,vt=X.length,I=vt>>>1;ft<I;){var $=2*(ft+1)-1,ut=X[$],gt=$+1,F=X[gt];if(0>o(ut,Et))gt<vt&&0>o(F,ut)?(X[ft]=F,X[gt]=Et,ft=gt):(X[ft]=ut,X[$]=Et,ft=$);else if(gt<vt&&0>o(F,Et))X[ft]=F,X[gt]=Et,ft=gt;else break t}}return ht}function o(X,ht){var Et=X.sortIndex-ht.sortIndex;return Et!==0?Et:X.id-ht.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;a.unstable_now=function(){return h.now()}}else{var d=Date,m=d.now();a.unstable_now=function(){return d.now()-m}}var y=[],v=[],T=1,S=null,C=3,j=!1,G=!1,Z=!1,V=!1,Q=typeof setTimeout=="function"?setTimeout:null,et=typeof clearTimeout=="function"?clearTimeout:null,lt=typeof setImmediate<"u"?setImmediate:null;function bt(X){for(var ht=i(v);ht!==null;){if(ht.callback===null)r(v);else if(ht.startTime<=X)r(v),ht.sortIndex=ht.expirationTime,e(y,ht);else break;ht=i(v)}}function pt(X){if(Z=!1,bt(X),!G)if(i(y)!==null)G=!0,At||(At=!0,k());else{var ht=i(v);ht!==null&&ue(pt,ht.startTime-X)}}var At=!1,N=-1,A=5,w=-1;function L(){return V?!0:!(a.unstable_now()-w<A)}function O(){if(V=!1,At){var X=a.unstable_now();w=X;var ht=!0;try{t:{G=!1,Z&&(Z=!1,et(N),N=-1),j=!0;var Et=C;try{e:{for(bt(X),S=i(y);S!==null&&!(S.expirationTime>X&&L());){var ft=S.callback;if(typeof ft=="function"){S.callback=null,C=S.priorityLevel;var vt=ft(S.expirationTime<=X);if(X=a.unstable_now(),typeof vt=="function"){S.callback=vt,bt(X),ht=!0;break e}S===i(y)&&r(y),bt(X)}else r(y);S=i(y)}if(S!==null)ht=!0;else{var I=i(v);I!==null&&ue(pt,I.startTime-X),ht=!1}}break t}finally{S=null,C=Et,j=!1}ht=void 0}}finally{ht?k():At=!1}}}var k;if(typeof lt=="function")k=function(){lt(O)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,Pt=R.port2;R.port1.onmessage=O,k=function(){Pt.postMessage(null)}}else k=function(){Q(O,0)};function ue(X,ht){N=Q(function(){X(a.unstable_now())},ht)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(X){X.callback=null},a.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<X?Math.floor(1e3/X):5},a.unstable_getCurrentPriorityLevel=function(){return C},a.unstable_next=function(X){switch(C){case 1:case 2:case 3:var ht=3;break;default:ht=C}var Et=C;C=ht;try{return X()}finally{C=Et}},a.unstable_requestPaint=function(){V=!0},a.unstable_runWithPriority=function(X,ht){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var Et=C;C=X;try{return ht()}finally{C=Et}},a.unstable_scheduleCallback=function(X,ht,Et){var ft=a.unstable_now();switch(typeof Et=="object"&&Et!==null?(Et=Et.delay,Et=typeof Et=="number"&&0<Et?ft+Et:ft):Et=ft,X){case 1:var vt=-1;break;case 2:vt=250;break;case 5:vt=1073741823;break;case 4:vt=1e4;break;default:vt=5e3}return vt=Et+vt,X={id:T++,callback:ht,priorityLevel:X,startTime:Et,expirationTime:vt,sortIndex:-1},Et>ft?(X.sortIndex=Et,e(v,X),i(y)===null&&X===i(v)&&(Z?(et(N),N=-1):Z=!0,ue(pt,Et-ft))):(X.sortIndex=vt,e(y,X),G||j||(G=!0,At||(At=!0,k()))),X},a.unstable_shouldYield=L,a.unstable_wrapCallback=function(X){var ht=C;return function(){var Et=C;C=ht;try{return X.apply(this,arguments)}finally{C=Et}}}})(jf)),jf}var wy;function pE(){return wy||(wy=1,Mf.exports=gE()),Mf.exports}var Lf={exports:{}},un={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cy;function yE(){if(Cy)return un;Cy=1;var a=pd();function e(y){var v="https://react.dev/errors/"+y;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)v+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+y+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function h(y,v,T){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:S==null?null:""+S,children:y,containerInfo:v,implementation:T}}var d=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(y,v){if(y==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return un.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,un.createPortal=function(y,v){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(e(299));return h(y,v,null,T)},un.flushSync=function(y){var v=d.T,T=r.p;try{if(d.T=null,r.p=2,y)return y()}finally{d.T=v,r.p=T,r.d.f()}},un.preconnect=function(y,v){typeof y=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,r.d.C(y,v))},un.prefetchDNS=function(y){typeof y=="string"&&r.d.D(y)},un.preinit=function(y,v){if(typeof y=="string"&&v&&typeof v.as=="string"){var T=v.as,S=m(T,v.crossOrigin),C=typeof v.integrity=="string"?v.integrity:void 0,j=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;T==="style"?r.d.S(y,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:S,integrity:C,fetchPriority:j}):T==="script"&&r.d.X(y,{crossOrigin:S,integrity:C,fetchPriority:j,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},un.preinitModule=function(y,v){if(typeof y=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var T=m(v.as,v.crossOrigin);r.d.M(y,{crossOrigin:T,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&r.d.M(y)},un.preload=function(y,v){if(typeof y=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var T=v.as,S=m(T,v.crossOrigin);r.d.L(y,T,{crossOrigin:S,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},un.preloadModule=function(y,v){if(typeof y=="string")if(v){var T=m(v.as,v.crossOrigin);r.d.m(y,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:T,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else r.d.m(y)},un.requestFormReset=function(y){r.d.r(y)},un.unstable_batchedUpdates=function(y,v){return y(v)},un.useFormState=function(y,v,T){return d.H.useFormState(y,v,T)},un.useFormStatus=function(){return d.H.useHostTransitionStatus()},un.version="19.2.3",un}var Ry;function vE(){if(Ry)return Lf.exports;Ry=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(e){console.error(e)}}return a(),Lf.exports=yE(),Lf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ny;function _E(){if(Ny)return Ql;Ny=1;var a=pE(),e=pd(),i=vE();function r(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function h(t){var n=t,s=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(s=n.return),t=n.return;while(t)}return n.tag===3?s:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function m(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function y(t){if(h(t)!==t)throw Error(r(188))}function v(t){var n=t.alternate;if(!n){if(n=h(t),n===null)throw Error(r(188));return n!==t?null:t}for(var s=t,l=n;;){var c=s.return;if(c===null)break;var f=c.alternate;if(f===null){if(l=c.return,l!==null){s=l;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===s)return y(c),t;if(f===l)return y(c),n;f=f.sibling}throw Error(r(188))}if(s.return!==l.return)s=c,l=f;else{for(var p=!1,E=c.child;E;){if(E===s){p=!0,s=c,l=f;break}if(E===l){p=!0,l=c,s=f;break}E=E.sibling}if(!p){for(E=f.child;E;){if(E===s){p=!0,s=f,l=c;break}if(E===l){p=!0,l=f,s=c;break}E=E.sibling}if(!p)throw Error(r(189))}}if(s.alternate!==l)throw Error(r(190))}if(s.tag!==3)throw Error(r(188));return s.stateNode.current===s?t:n}function T(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=T(t),n!==null)return n;t=t.sibling}return null}var S=Object.assign,C=Symbol.for("react.element"),j=Symbol.for("react.transitional.element"),G=Symbol.for("react.portal"),Z=Symbol.for("react.fragment"),V=Symbol.for("react.strict_mode"),Q=Symbol.for("react.profiler"),et=Symbol.for("react.consumer"),lt=Symbol.for("react.context"),bt=Symbol.for("react.forward_ref"),pt=Symbol.for("react.suspense"),At=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),L=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function k(t){return t===null||typeof t!="object"?null:(t=O&&t[O]||t["@@iterator"],typeof t=="function"?t:null)}var R=Symbol.for("react.client.reference");function Pt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===R?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Z:return"Fragment";case Q:return"Profiler";case V:return"StrictMode";case pt:return"Suspense";case At:return"SuspenseList";case w:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case G:return"Portal";case lt:return t.displayName||"Context";case et:return(t._context.displayName||"Context")+".Consumer";case bt:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case N:return n=t.displayName||null,n!==null?n:Pt(t.type)||"Memo";case A:n=t._payload,t=t._init;try{return Pt(t(n))}catch{}}return null}var ue=Array.isArray,X=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ht=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Et={pending:!1,data:null,method:null,action:null},ft=[],vt=-1;function I(t){return{current:t}}function $(t){0>vt||(t.current=ft[vt],ft[vt]=null,vt--)}function ut(t,n){vt++,ft[vt]=t.current,t.current=n}var gt=I(null),F=I(null),rt=I(null),dt=I(null);function Rt(t,n){switch(ut(rt,n),ut(F,t),ut(gt,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?Fp(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=Fp(n),t=Gp(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}$(gt),ut(gt,t)}function mt(){$(gt),$(F),$(rt)}function He(t){t.memoizedState!==null&&ut(dt,t);var n=gt.current,s=Gp(n,t.type);n!==s&&(ut(F,t),ut(gt,s))}function rn(t){F.current===t&&($(gt),$(F)),dt.current===t&&($(dt),Pl._currentValue=Et)}var hs,fs;function Un(t){if(hs===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);hs=n&&n[1]||"",fs=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+hs+t+fs}var na=!1;function Ui(t,n){if(!t||na)return"";na=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var nt=function(){throw Error()};if(Object.defineProperty(nt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(nt,[])}catch(K){var H=K}Reflect.construct(t,[],nt)}else{try{nt.call()}catch(K){H=K}t.call(nt.prototype)}}else{try{throw Error()}catch(K){H=K}(nt=t())&&typeof nt.catch=="function"&&nt.catch(function(){})}}catch(K){if(K&&H&&typeof K.stack=="string")return[K.stack,H.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),p=f[0],E=f[1];if(p&&E){var D=p.split(`
`),q=E.split(`
`);for(c=l=0;l<D.length&&!D[l].includes("DetermineComponentFrameRoot");)l++;for(;c<q.length&&!q[c].includes("DetermineComponentFrameRoot");)c++;if(l===D.length||c===q.length)for(l=D.length-1,c=q.length-1;1<=l&&0<=c&&D[l]!==q[c];)c--;for(;1<=l&&0<=c;l--,c--)if(D[l]!==q[c]){if(l!==1||c!==1)do if(l--,c--,0>c||D[l]!==q[c]){var J=`
`+D[l].replace(" at new "," at ");return t.displayName&&J.includes("<anonymous>")&&(J=J.replace("<anonymous>",t.displayName)),J}while(1<=l&&0<=c);break}}}finally{na=!1,Error.prepareStackTrace=s}return(s=t?t.displayName||t.name:"")?Un(s):""}function ei(t,n){switch(t.tag){case 26:case 27:case 5:return Un(t.type);case 16:return Un("Lazy");case 13:return t.child!==n&&n!==null?Un("Suspense Fallback"):Un("Suspense");case 19:return Un("SuspenseList");case 0:case 15:return Ui(t.type,!1);case 11:return Ui(t.type.render,!1);case 1:return Ui(t.type,!0);case 31:return Un("Activity");default:return""}}function ia(t){try{var n="",s=null;do n+=ei(t,s),s=t,t=t.return;while(t);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var be=Object.prototype.hasOwnProperty,xe=a.unstable_scheduleCallback,mi=a.unstable_cancelCallback,Bi=a.unstable_shouldYield,sa=a.unstable_requestPaint,Fe=a.unstable_now,B=a.unstable_getCurrentPriorityLevel,W=a.unstable_ImmediatePriority,ot=a.unstable_UserBlockingPriority,It=a.unstable_NormalPriority,zt=a.unstable_LowPriority,ke=a.unstable_IdlePriority,ze=a.log,Ze=a.unstable_setDisableYieldValue,ln=null,ce=null;function dn(t){if(typeof ze=="function"&&Ze(t),ce&&typeof ce.setStrictMode=="function")try{ce.setStrictMode(ln,t)}catch{}}var me=Math.clz32?Math.clz32:ra,aa=Math.log,xt=Math.LN2;function ra(t){return t>>>=0,t===0?32:31-(aa(t)/xt|0)|0}var wn=256,gi=262144,ye=4194304;function Cn(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Rn(t,n,s){var l=t.pendingLanes;if(l===0)return 0;var c=0,f=t.suspendedLanes,p=t.pingedLanes;t=t.warmLanes;var E=l&134217727;return E!==0?(l=E&~f,l!==0?c=Cn(l):(p&=E,p!==0?c=Cn(p):s||(s=E&~t,s!==0&&(c=Cn(s))))):(E=l&~f,E!==0?c=Cn(E):p!==0?c=Cn(p):s||(s=l&~t,s!==0&&(c=Cn(s)))),c===0?0:n!==0&&n!==c&&(n&f)===0&&(f=c&-c,s=n&-n,f>=s||f===32&&(s&4194048)!==0)?n:c}function pn(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Pa(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function la(){var t=ye;return ye<<=1,(ye&62914560)===0&&(ye=4194304),t}function Nn(t){for(var n=[],s=0;31>s;s++)n.push(t);return n}function Ge(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function yn(t,n,s,l,c,f){var p=t.pendingLanes;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=s,t.entangledLanes&=s,t.errorRecoveryDisabledLanes&=s,t.shellSuspendCounter=0;var E=t.entanglements,D=t.expirationTimes,q=t.hiddenUpdates;for(s=p&~s;0<s;){var J=31-me(s),nt=1<<J;E[J]=0,D[J]=-1;var H=q[J];if(H!==null)for(q[J]=null,J=0;J<H.length;J++){var K=H[J];K!==null&&(K.lane&=-536870913)}s&=~nt}l!==0&&Wt(t,l,0),f!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=f&~(p&~n))}function Wt(t,n,s){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-me(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|s&261930}function on(t,n){var s=t.entangledLanes|=n;for(t=t.entanglements;s;){var l=31-me(s),c=1<<l;c&n|t[l]&n&&(t[l]|=n),s&=~c}}function Bn(t,n){var s=n&-n;return s=(s&42)!==0?1:Pi(s),(s&(t.suspendedLanes|n))!==0?0:s}function Pi(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function qi(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Ao(){var t=ht.p;return t!==0?t:(t=window.event,t===void 0?32:my(t.type))}function ni(t,n){var s=ht.p;try{return ht.p=t,n()}finally{ht.p=s}}var ii=Math.random().toString(36).slice(2),Re="__reactFiber$"+ii,Qe="__reactProps$"+ii,pi="__reactContainer$"+ii,qa="__reactEvents$"+ii,Lc="__reactListeners$"+ii,wo="__reactHandles$"+ii,Co="__reactResources$"+ii,yi="__reactMarker$"+ii;function Ha(t){delete t[Re],delete t[Qe],delete t[qa],delete t[Lc],delete t[wo]}function vi(t){var n=t[Re];if(n)return n;for(var s=t.parentNode;s;){if(n=s[pi]||s[Re]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(t=$p(t);t!==null;){if(s=t[Re])return s;t=$p(t)}return n}t=s,s=t.parentNode}return null}function Pn(t){if(t=t[Re]||t[pi]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function Dn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(r(33))}function _i(t){var n=t[Co];return n||(n=t[Co]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Ne(t){t[yi]=!0}var Kr=new Set,Xr={};function bi(t,n){Ei(t,n),Ei(t+"Capture",n)}function Ei(t,n){for(Xr[t]=n,t=0;t<n.length;t++)Kr.add(n[t])}var Zr=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Jr={},$r={};function Ro(t){return be.call($r,t)?!0:be.call(Jr,t)?!1:Zr.test(t)?$r[t]=!0:(Jr[t]=!0,!1)}function Fa(t,n,s){if(Ro(n))if(s===null)t.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+s)}}function In(t,n,s){if(s===null)t.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+s)}}function De(t,n,s,l){if(l===null)t.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttributeNS(n,s,""+l)}}function Ye(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ds(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Wr(t,n,s){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var c=l.get,f=l.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return c.call(this)},set:function(p){s=""+p,f.call(this,p)}}),Object.defineProperty(t,n,{enumerable:l.enumerable}),{getValue:function(){return s},setValue:function(p){s=""+p},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function ee(t){if(!t._valueTracker){var n=ds(t)?"checked":"value";t._valueTracker=Wr(t,n,""+t[n])}}function oa(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var s=n.getValue(),l="";return t&&(l=ds(t)?t.checked?"true":"false":t.value),t=l,t!==s?(n.setValue(t),!0):!1}function Ti(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var ua=/[\n"\\]/g;function vn(t){return t.replace(ua,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Ga(t,n,s,l,c,f,p,E){t.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?t.type=p:t.removeAttribute("type"),n!=null?p==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Ye(n)):t.value!==""+Ye(n)&&(t.value=""+Ye(n)):p!=="submit"&&p!=="reset"||t.removeAttribute("value"),n!=null?tl(t,p,Ye(n)):s!=null?tl(t,p,Ye(s)):l!=null&&t.removeAttribute("value"),c==null&&f!=null&&(t.defaultChecked=!!f),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+Ye(E):t.removeAttribute("name")}function No(t,n,s,l,c,f,p,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){ee(t);return}s=s!=null?""+Ye(s):"",n=n!=null?""+Ye(n):s,E||n===t.value||(t.value=n),t.defaultValue=n}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=E?t.checked:!!l,t.defaultChecked=!!l,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(t.name=p),ee(t)}function tl(t,n,s){n==="number"&&Ti(t.ownerDocument)===t||t.defaultValue===""+s||(t.defaultValue=""+s)}function ms(t,n,s,l){if(t=t.options,n){n={};for(var c=0;c<s.length;c++)n["$"+s[c]]=!0;for(s=0;s<t.length;s++)c=n.hasOwnProperty("$"+t[s].value),t[s].selected!==c&&(t[s].selected=c),c&&l&&(t[s].defaultSelected=!0)}else{for(s=""+Ye(s),n=null,c=0;c<t.length;c++){if(t[c].value===s){t[c].selected=!0,l&&(t[c].defaultSelected=!0);return}n!==null||t[c].disabled||(n=t[c])}n!==null&&(n.selected=!0)}}function Do(t,n,s){if(n!=null&&(n=""+Ye(n),n!==t.value&&(t.value=n),s==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=s!=null?""+Ye(s):""}function gs(t,n,s,l){if(n==null){if(l!=null){if(s!=null)throw Error(r(92));if(ue(l)){if(1<l.length)throw Error(r(93));l=l[0]}s=l}s==null&&(s=""),n=s}s=Ye(n),t.defaultValue=s,l=t.textContent,l===s&&l!==""&&l!==null&&(t.value=l),ee(t)}function _n(t,n){if(n){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=n;return}}t.textContent=n}var Io=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function el(t,n,s){var l=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,s):typeof s!="number"||s===0||Io.has(n)?n==="float"?t.cssFloat=s:t[n]=(""+s).trim():t[n]=s+"px"}function nl(t,n,s){if(n!=null&&typeof n!="object")throw Error(r(62));if(t=t.style,s!=null){for(var l in s)!s.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var c in n)l=n[c],n.hasOwnProperty(c)&&s[c]!==l&&el(t,c,l)}else for(var f in n)n.hasOwnProperty(f)&&el(t,f,n[f])}function Qa(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Vo=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ps=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ya(t){return ps.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function si(){}var il=null;function qn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ys=null,xi=null;function ca(t){var n=Pn(t);if(n&&(t=n.stateNode)){var s=t[Qe]||null;t:switch(t=n.stateNode,n.type){case"input":if(Ga(t,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+vn(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var l=s[n];if(l!==t&&l.form===t.form){var c=l[Qe]||null;if(!c)throw Error(r(90));Ga(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<s.length;n++)l=s[n],l.form===t.form&&oa(l)}break t;case"textarea":Do(t,s.value,s.defaultValue);break t;case"select":n=s.value,n!=null&&ms(t,!!s.multiple,n,!1)}}}var Ka=!1;function vs(t,n,s){if(Ka)return t(n,s);Ka=!0;try{var l=t(n);return l}finally{if(Ka=!1,(ys!==null||xi!==null)&&(Au(),ys&&(n=ys,t=xi,xi=ys=null,ca(n),t)))for(n=0;n<t.length;n++)ca(t[n])}}function ai(t,n){var s=t.stateNode;if(s===null)return null;var l=s[Qe]||null;if(l===null)return null;s=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(r(231,n,typeof s));return s}var Hn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ha=!1;if(Hn)try{var se={};Object.defineProperty(se,"passive",{get:function(){ha=!0}}),window.addEventListener("test",se,se),window.removeEventListener("test",se,se)}catch{ha=!1}var Si=null,sl=null,fa=null;function al(){if(fa)return fa;var t,n=sl,s=n.length,l,c="value"in Si?Si.value:Si.textContent,f=c.length;for(t=0;t<s&&n[t]===c[t];t++);var p=s-t;for(l=1;l<=p&&n[s-l]===c[f-l];l++);return fa=c.slice(t,1<l?1-l:void 0)}function da(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Hi(){return!0}function ri(){return!1}function Je(t){function n(s,l,c,f,p){this._reactName=s,this._targetInst=c,this.type=l,this.nativeEvent=f,this.target=p,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(s=t[E],this[E]=s?s(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Hi:ri,this.isPropagationStopped=ri,this}return S(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Hi)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Hi)},persist:function(){},isPersistent:Hi}),n}var Fi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ai=Je(Fi),_s=S({},Fi,{view:0,detail:0}),rl=Je(_s),bs,Xa,wi,Za=S({},_s,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Es,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==wi&&(wi&&t.type==="mousemove"?(bs=t.screenX-wi.screenX,Xa=t.screenY-wi.screenY):Xa=bs=0,wi=t),bs)},movementY:function(t){return"movementY"in t?t.movementY:Xa}}),ll=Je(Za),ma=S({},Za,{dataTransfer:0}),Oo=Je(ma),Mo=S({},_s,{relatedTarget:0}),ga=Je(Mo),ol=S({},Fi,{animationName:0,elapsedTime:0,pseudoElement:0}),jo=Je(ol),Ja=S({},Fi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Lo=Je(Ja),ko=S({},Fi,{data:0}),Ci=Je(ko),zo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Uo={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Bo={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Po(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Bo[t])?!!n[t]:!1}function Es(){return Po}var mn=S({},_s,{key:function(t){if(t.key){var n=zo[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=da(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Uo[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Es,charCode:function(t){return t.type==="keypress"?da(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?da(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),qo=Je(mn),Ho=S({},Za,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Gi=Je(Ho),u=S({},_s,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Es}),g=Je(u),_=S({},Fi,{propertyName:0,elapsedTime:0,pseudoElement:0}),x=Je(_),U=S({},Za,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Y=Je(U),ct=S({},Fi,{newState:0,oldState:0}),jt=Je(ct),Se=[9,13,27,32],Jt=Hn&&"CompositionEvent"in window,ge=null;Hn&&"documentMode"in document&&(ge=document.documentMode);var Fn=Hn&&"TextEvent"in window&&!ge,Ri=Hn&&(!Jt||ge&&8<ge&&11>=ge),li=" ",oi=!1;function pa(t,n){switch(t){case"keyup":return Se.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $a(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Wa=!1;function L_(t,n){switch(t){case"compositionend":return $a(n);case"keypress":return n.which!==32?null:(oi=!0,li);case"textInput":return t=n.data,t===li&&oi?null:t;default:return null}}function k_(t,n){if(Wa)return t==="compositionend"||!Jt&&pa(t,n)?(t=al(),fa=sl=Si=null,Wa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Ri&&n.locale!=="ko"?null:n.data;default:return null}}var z_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function em(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!z_[t.type]:n==="textarea"}function nm(t,n,s,l){ys?xi?xi.push(l):xi=[l]:ys=l,n=Vu(n,"onChange"),0<n.length&&(s=new Ai("onChange","change",null,s,l),t.push({event:s,listeners:n}))}var ul=null,cl=null;function U_(t){zp(t,0)}function Fo(t){var n=Dn(t);if(oa(n))return t}function im(t,n){if(t==="change")return n}var sm=!1;if(Hn){var kc;if(Hn){var zc="oninput"in document;if(!zc){var am=document.createElement("div");am.setAttribute("oninput","return;"),zc=typeof am.oninput=="function"}kc=zc}else kc=!1;sm=kc&&(!document.documentMode||9<document.documentMode)}function rm(){ul&&(ul.detachEvent("onpropertychange",lm),cl=ul=null)}function lm(t){if(t.propertyName==="value"&&Fo(cl)){var n=[];nm(n,cl,t,qn(t)),vs(U_,n)}}function B_(t,n,s){t==="focusin"?(rm(),ul=n,cl=s,ul.attachEvent("onpropertychange",lm)):t==="focusout"&&rm()}function P_(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Fo(cl)}function q_(t,n){if(t==="click")return Fo(n)}function H_(t,n){if(t==="input"||t==="change")return Fo(n)}function F_(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var Vn=typeof Object.is=="function"?Object.is:F_;function hl(t,n){if(Vn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var s=Object.keys(t),l=Object.keys(n);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var c=s[l];if(!be.call(n,c)||!Vn(t[c],n[c]))return!1}return!0}function om(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function um(t,n){var s=om(t);t=0;for(var l;s;){if(s.nodeType===3){if(l=t+s.textContent.length,t<=n&&l>=n)return{node:s,offset:n-t};t=l}t:{for(;s;){if(s.nextSibling){s=s.nextSibling;break t}s=s.parentNode}s=void 0}s=om(s)}}function cm(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?cm(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function hm(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=Ti(t.document);n instanceof t.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)t=n.contentWindow;else break;n=Ti(t.document)}return n}function Uc(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var G_=Hn&&"documentMode"in document&&11>=document.documentMode,tr=null,Bc=null,fl=null,Pc=!1;function fm(t,n,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Pc||tr==null||tr!==Ti(l)||(l=tr,"selectionStart"in l&&Uc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),fl&&hl(fl,l)||(fl=l,l=Vu(Bc,"onSelect"),0<l.length&&(n=new Ai("onSelect","select",null,n,s),t.push({event:n,listeners:l}),n.target=tr)))}function ya(t,n){var s={};return s[t.toLowerCase()]=n.toLowerCase(),s["Webkit"+t]="webkit"+n,s["Moz"+t]="moz"+n,s}var er={animationend:ya("Animation","AnimationEnd"),animationiteration:ya("Animation","AnimationIteration"),animationstart:ya("Animation","AnimationStart"),transitionrun:ya("Transition","TransitionRun"),transitionstart:ya("Transition","TransitionStart"),transitioncancel:ya("Transition","TransitionCancel"),transitionend:ya("Transition","TransitionEnd")},qc={},dm={};Hn&&(dm=document.createElement("div").style,"AnimationEvent"in window||(delete er.animationend.animation,delete er.animationiteration.animation,delete er.animationstart.animation),"TransitionEvent"in window||delete er.transitionend.transition);function va(t){if(qc[t])return qc[t];if(!er[t])return t;var n=er[t],s;for(s in n)if(n.hasOwnProperty(s)&&s in dm)return qc[t]=n[s];return t}var mm=va("animationend"),gm=va("animationiteration"),pm=va("animationstart"),Q_=va("transitionrun"),Y_=va("transitionstart"),K_=va("transitioncancel"),ym=va("transitionend"),vm=new Map,Hc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Hc.push("scrollEnd");function ui(t,n){vm.set(t,n),bi(n,[t])}var Go=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Gn=[],nr=0,Fc=0;function Qo(){for(var t=nr,n=Fc=nr=0;n<t;){var s=Gn[n];Gn[n++]=null;var l=Gn[n];Gn[n++]=null;var c=Gn[n];Gn[n++]=null;var f=Gn[n];if(Gn[n++]=null,l!==null&&c!==null){var p=l.pending;p===null?c.next=c:(c.next=p.next,p.next=c),l.pending=c}f!==0&&_m(s,c,f)}}function Yo(t,n,s,l){Gn[nr++]=t,Gn[nr++]=n,Gn[nr++]=s,Gn[nr++]=l,Fc|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Gc(t,n,s,l){return Yo(t,n,s,l),Ko(t)}function _a(t,n){return Yo(t,null,null,n),Ko(t)}function _m(t,n,s){t.lanes|=s;var l=t.alternate;l!==null&&(l.lanes|=s);for(var c=!1,f=t.return;f!==null;)f.childLanes|=s,l=f.alternate,l!==null&&(l.childLanes|=s),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(c=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,c&&n!==null&&(c=31-me(s),t=f.hiddenUpdates,l=t[c],l===null?t[c]=[n]:l.push(n),n.lane=s|536870912),f):null}function Ko(t){if(50<Ml)throw Ml=0,tf=null,Error(r(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var ir={};function X_(t,n,s,l){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function On(t,n,s,l){return new X_(t,n,s,l)}function Qc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Qi(t,n){var s=t.alternate;return s===null?(s=On(t.tag,n,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=n,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&65011712,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,n=t.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s.refCleanup=t.refCleanup,s}function bm(t,n){t.flags&=65011714;var s=t.alternate;return s===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=s.childLanes,t.lanes=s.lanes,t.child=s.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=s.memoizedProps,t.memoizedState=s.memoizedState,t.updateQueue=s.updateQueue,t.type=s.type,n=s.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Xo(t,n,s,l,c,f){var p=0;if(l=t,typeof t=="function")Qc(t)&&(p=1);else if(typeof t=="string")p=tE(t,s,gt.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case w:return t=On(31,s,n,c),t.elementType=w,t.lanes=f,t;case Z:return ba(s.children,c,f,n);case V:p=8,c|=24;break;case Q:return t=On(12,s,n,c|2),t.elementType=Q,t.lanes=f,t;case pt:return t=On(13,s,n,c),t.elementType=pt,t.lanes=f,t;case At:return t=On(19,s,n,c),t.elementType=At,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case lt:p=10;break t;case et:p=9;break t;case bt:p=11;break t;case N:p=14;break t;case A:p=16,l=null;break t}p=29,s=Error(r(130,t===null?"null":typeof t,"")),l=null}return n=On(p,s,n,c),n.elementType=t,n.type=l,n.lanes=f,n}function ba(t,n,s,l){return t=On(7,t,l,n),t.lanes=s,t}function Yc(t,n,s){return t=On(6,t,null,n),t.lanes=s,t}function Em(t){var n=On(18,null,null,0);return n.stateNode=t,n}function Kc(t,n,s){return n=On(4,t.children!==null?t.children:[],t.key,n),n.lanes=s,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Tm=new WeakMap;function Qn(t,n){if(typeof t=="object"&&t!==null){var s=Tm.get(t);return s!==void 0?s:(n={value:t,source:n,stack:ia(n)},Tm.set(t,n),n)}return{value:t,source:n,stack:ia(n)}}var sr=[],ar=0,Zo=null,dl=0,Yn=[],Kn=0,Ts=null,Ni=1,Di="";function Yi(t,n){sr[ar++]=dl,sr[ar++]=Zo,Zo=t,dl=n}function xm(t,n,s){Yn[Kn++]=Ni,Yn[Kn++]=Di,Yn[Kn++]=Ts,Ts=t;var l=Ni;t=Di;var c=32-me(l)-1;l&=~(1<<c),s+=1;var f=32-me(n)+c;if(30<f){var p=c-c%5;f=(l&(1<<p)-1).toString(32),l>>=p,c-=p,Ni=1<<32-me(n)+c|s<<c|l,Di=f+t}else Ni=1<<f|s<<c|l,Di=t}function Xc(t){t.return!==null&&(Yi(t,1),xm(t,1,0))}function Zc(t){for(;t===Zo;)Zo=sr[--ar],sr[ar]=null,dl=sr[--ar],sr[ar]=null;for(;t===Ts;)Ts=Yn[--Kn],Yn[Kn]=null,Di=Yn[--Kn],Yn[Kn]=null,Ni=Yn[--Kn],Yn[Kn]=null}function Sm(t,n){Yn[Kn++]=Ni,Yn[Kn++]=Di,Yn[Kn++]=Ts,Ni=n.id,Di=n.overflow,Ts=t}var $e=null,he=null,Qt=!1,xs=null,Xn=!1,Jc=Error(r(519));function Ss(t){var n=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ml(Qn(n,t)),Jc}function Am(t){var n=t.stateNode,s=t.type,l=t.memoizedProps;switch(n[Re]=t,n[Qe]=l,s){case"dialog":Bt("cancel",n),Bt("close",n);break;case"iframe":case"object":case"embed":Bt("load",n);break;case"video":case"audio":for(s=0;s<Ll.length;s++)Bt(Ll[s],n);break;case"source":Bt("error",n);break;case"img":case"image":case"link":Bt("error",n),Bt("load",n);break;case"details":Bt("toggle",n);break;case"input":Bt("invalid",n),No(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Bt("invalid",n);break;case"textarea":Bt("invalid",n),gs(n,l.value,l.defaultValue,l.children)}s=l.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||l.suppressHydrationWarning===!0||qp(n.textContent,s)?(l.popover!=null&&(Bt("beforetoggle",n),Bt("toggle",n)),l.onScroll!=null&&Bt("scroll",n),l.onScrollEnd!=null&&Bt("scrollend",n),l.onClick!=null&&(n.onclick=si),n=!0):n=!1,n||Ss(t,!0)}function wm(t){for($e=t.return;$e;)switch($e.tag){case 5:case 31:case 13:Xn=!1;return;case 27:case 3:Xn=!0;return;default:$e=$e.return}}function rr(t){if(t!==$e)return!1;if(!Qt)return wm(t),Qt=!0,!1;var n=t.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=t.type,s=!(s!=="form"&&s!=="button")||pf(t.type,t.memoizedProps)),s=!s),s&&he&&Ss(t),wm(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));he=Jp(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));he=Jp(t)}else n===27?(n=he,zs(t.type)?(t=Ef,Ef=null,he=t):he=n):he=$e?Jn(t.stateNode.nextSibling):null;return!0}function Ea(){he=$e=null,Qt=!1}function $c(){var t=xs;return t!==null&&(xn===null?xn=t:xn.push.apply(xn,t),xs=null),t}function ml(t){xs===null?xs=[t]:xs.push(t)}var Wc=I(null),Ta=null,Ki=null;function As(t,n,s){ut(Wc,n._currentValue),n._currentValue=s}function Xi(t){t._currentValue=Wc.current,$(Wc)}function th(t,n,s){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===s)break;t=t.return}}function eh(t,n,s,l){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var f=c.dependencies;if(f!==null){var p=c.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=c;for(var D=0;D<n.length;D++)if(E.context===n[D]){f.lanes|=s,E=f.alternate,E!==null&&(E.lanes|=s),th(f.return,s,t),l||(p=null);break t}f=E.next}}else if(c.tag===18){if(p=c.return,p===null)throw Error(r(341));p.lanes|=s,f=p.alternate,f!==null&&(f.lanes|=s),th(p,s,t),p=null}else p=c.child;if(p!==null)p.return=c;else for(p=c;p!==null;){if(p===t){p=null;break}if(c=p.sibling,c!==null){c.return=p.return,p=c;break}p=p.return}c=p}}function lr(t,n,s,l){t=null;for(var c=n,f=!1;c!==null;){if(!f){if((c.flags&524288)!==0)f=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var p=c.alternate;if(p===null)throw Error(r(387));if(p=p.memoizedProps,p!==null){var E=c.type;Vn(c.pendingProps.value,p.value)||(t!==null?t.push(E):t=[E])}}else if(c===dt.current){if(p=c.alternate,p===null)throw Error(r(387));p.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(Pl):t=[Pl])}c=c.return}t!==null&&eh(n,t,s,l),n.flags|=262144}function Jo(t){for(t=t.firstContext;t!==null;){if(!Vn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function xa(t){Ta=t,Ki=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function We(t){return Cm(Ta,t)}function $o(t,n){return Ta===null&&xa(t),Cm(t,n)}function Cm(t,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},Ki===null){if(t===null)throw Error(r(308));Ki=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Ki=Ki.next=n;return s}var Z_=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(s,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(s){return s()})}},J_=a.unstable_scheduleCallback,$_=a.unstable_NormalPriority,Ie={$$typeof:lt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function nh(){return{controller:new Z_,data:new Map,refCount:0}}function gl(t){t.refCount--,t.refCount===0&&J_($_,function(){t.controller.abort()})}var pl=null,ih=0,or=0,ur=null;function W_(t,n){if(pl===null){var s=pl=[];ih=0,or=lf(),ur={status:"pending",value:void 0,then:function(l){s.push(l)}}}return ih++,n.then(Rm,Rm),n}function Rm(){if(--ih===0&&pl!==null){ur!==null&&(ur.status="fulfilled");var t=pl;pl=null,or=0,ur=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function tb(t,n){var s=[],l={status:"pending",value:null,reason:null,then:function(c){s.push(c)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var c=0;c<s.length;c++)(0,s[c])(n)},function(c){for(l.status="rejected",l.reason=c,c=0;c<s.length;c++)(0,s[c])(void 0)}),l}var Nm=X.S;X.S=function(t,n){fp=Fe(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&W_(t,n),Nm!==null&&Nm(t,n)};var Sa=I(null);function sh(){var t=Sa.current;return t!==null?t:oe.pooledCache}function Wo(t,n){n===null?ut(Sa,Sa.current):ut(Sa,n.pool)}function Dm(){var t=sh();return t===null?null:{parent:Ie._currentValue,pool:t}}var cr=Error(r(460)),ah=Error(r(474)),tu=Error(r(542)),eu={then:function(){}};function Im(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Vm(t,n,s){switch(s=t[s],s===void 0?t.push(n):s!==n&&(n.then(si,si),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Mm(t),t;default:if(typeof n.status=="string")n.then(si,si);else{if(t=oe,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=l}},function(l){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Mm(t),t}throw wa=n,cr}}function Aa(t){try{var n=t._init;return n(t._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(wa=s,cr):s}}var wa=null;function Om(){if(wa===null)throw Error(r(459));var t=wa;return wa=null,t}function Mm(t){if(t===cr||t===tu)throw Error(r(483))}var hr=null,yl=0;function nu(t){var n=yl;return yl+=1,hr===null&&(hr=[]),Vm(hr,t,n)}function vl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function iu(t,n){throw n.$$typeof===C?Error(r(525)):(t=Object.prototype.toString.call(n),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function jm(t){function n(z,M){if(t){var P=z.deletions;P===null?(z.deletions=[M],z.flags|=16):P.push(M)}}function s(z,M){if(!t)return null;for(;M!==null;)n(z,M),M=M.sibling;return null}function l(z){for(var M=new Map;z!==null;)z.key!==null?M.set(z.key,z):M.set(z.index,z),z=z.sibling;return M}function c(z,M){return z=Qi(z,M),z.index=0,z.sibling=null,z}function f(z,M,P){return z.index=P,t?(P=z.alternate,P!==null?(P=P.index,P<M?(z.flags|=67108866,M):P):(z.flags|=67108866,M)):(z.flags|=1048576,M)}function p(z){return t&&z.alternate===null&&(z.flags|=67108866),z}function E(z,M,P,tt){return M===null||M.tag!==6?(M=Yc(P,z.mode,tt),M.return=z,M):(M=c(M,P),M.return=z,M)}function D(z,M,P,tt){var wt=P.type;return wt===Z?J(z,M,P.props.children,tt,P.key):M!==null&&(M.elementType===wt||typeof wt=="object"&&wt!==null&&wt.$$typeof===A&&Aa(wt)===M.type)?(M=c(M,P.props),vl(M,P),M.return=z,M):(M=Xo(P.type,P.key,P.props,null,z.mode,tt),vl(M,P),M.return=z,M)}function q(z,M,P,tt){return M===null||M.tag!==4||M.stateNode.containerInfo!==P.containerInfo||M.stateNode.implementation!==P.implementation?(M=Kc(P,z.mode,tt),M.return=z,M):(M=c(M,P.children||[]),M.return=z,M)}function J(z,M,P,tt,wt){return M===null||M.tag!==7?(M=ba(P,z.mode,tt,wt),M.return=z,M):(M=c(M,P),M.return=z,M)}function nt(z,M,P){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=Yc(""+M,z.mode,P),M.return=z,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case j:return P=Xo(M.type,M.key,M.props,null,z.mode,P),vl(P,M),P.return=z,P;case G:return M=Kc(M,z.mode,P),M.return=z,M;case A:return M=Aa(M),nt(z,M,P)}if(ue(M)||k(M))return M=ba(M,z.mode,P,null),M.return=z,M;if(typeof M.then=="function")return nt(z,nu(M),P);if(M.$$typeof===lt)return nt(z,$o(z,M),P);iu(z,M)}return null}function H(z,M,P,tt){var wt=M!==null?M.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return wt!==null?null:E(z,M,""+P,tt);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case j:return P.key===wt?D(z,M,P,tt):null;case G:return P.key===wt?q(z,M,P,tt):null;case A:return P=Aa(P),H(z,M,P,tt)}if(ue(P)||k(P))return wt!==null?null:J(z,M,P,tt,null);if(typeof P.then=="function")return H(z,M,nu(P),tt);if(P.$$typeof===lt)return H(z,M,$o(z,P),tt);iu(z,P)}return null}function K(z,M,P,tt,wt){if(typeof tt=="string"&&tt!==""||typeof tt=="number"||typeof tt=="bigint")return z=z.get(P)||null,E(M,z,""+tt,wt);if(typeof tt=="object"&&tt!==null){switch(tt.$$typeof){case j:return z=z.get(tt.key===null?P:tt.key)||null,D(M,z,tt,wt);case G:return z=z.get(tt.key===null?P:tt.key)||null,q(M,z,tt,wt);case A:return tt=Aa(tt),K(z,M,P,tt,wt)}if(ue(tt)||k(tt))return z=z.get(P)||null,J(M,z,tt,wt,null);if(typeof tt.then=="function")return K(z,M,P,nu(tt),wt);if(tt.$$typeof===lt)return K(z,M,P,$o(M,tt),wt);iu(M,tt)}return null}function _t(z,M,P,tt){for(var wt=null,Xt=null,Tt=M,kt=M=0,Ht=null;Tt!==null&&kt<P.length;kt++){Tt.index>kt?(Ht=Tt,Tt=null):Ht=Tt.sibling;var Zt=H(z,Tt,P[kt],tt);if(Zt===null){Tt===null&&(Tt=Ht);break}t&&Tt&&Zt.alternate===null&&n(z,Tt),M=f(Zt,M,kt),Xt===null?wt=Zt:Xt.sibling=Zt,Xt=Zt,Tt=Ht}if(kt===P.length)return s(z,Tt),Qt&&Yi(z,kt),wt;if(Tt===null){for(;kt<P.length;kt++)Tt=nt(z,P[kt],tt),Tt!==null&&(M=f(Tt,M,kt),Xt===null?wt=Tt:Xt.sibling=Tt,Xt=Tt);return Qt&&Yi(z,kt),wt}for(Tt=l(Tt);kt<P.length;kt++)Ht=K(Tt,z,kt,P[kt],tt),Ht!==null&&(t&&Ht.alternate!==null&&Tt.delete(Ht.key===null?kt:Ht.key),M=f(Ht,M,kt),Xt===null?wt=Ht:Xt.sibling=Ht,Xt=Ht);return t&&Tt.forEach(function(Hs){return n(z,Hs)}),Qt&&Yi(z,kt),wt}function Nt(z,M,P,tt){if(P==null)throw Error(r(151));for(var wt=null,Xt=null,Tt=M,kt=M=0,Ht=null,Zt=P.next();Tt!==null&&!Zt.done;kt++,Zt=P.next()){Tt.index>kt?(Ht=Tt,Tt=null):Ht=Tt.sibling;var Hs=H(z,Tt,Zt.value,tt);if(Hs===null){Tt===null&&(Tt=Ht);break}t&&Tt&&Hs.alternate===null&&n(z,Tt),M=f(Hs,M,kt),Xt===null?wt=Hs:Xt.sibling=Hs,Xt=Hs,Tt=Ht}if(Zt.done)return s(z,Tt),Qt&&Yi(z,kt),wt;if(Tt===null){for(;!Zt.done;kt++,Zt=P.next())Zt=nt(z,Zt.value,tt),Zt!==null&&(M=f(Zt,M,kt),Xt===null?wt=Zt:Xt.sibling=Zt,Xt=Zt);return Qt&&Yi(z,kt),wt}for(Tt=l(Tt);!Zt.done;kt++,Zt=P.next())Zt=K(Tt,z,kt,Zt.value,tt),Zt!==null&&(t&&Zt.alternate!==null&&Tt.delete(Zt.key===null?kt:Zt.key),M=f(Zt,M,kt),Xt===null?wt=Zt:Xt.sibling=Zt,Xt=Zt);return t&&Tt.forEach(function(hE){return n(z,hE)}),Qt&&Yi(z,kt),wt}function le(z,M,P,tt){if(typeof P=="object"&&P!==null&&P.type===Z&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case j:t:{for(var wt=P.key;M!==null;){if(M.key===wt){if(wt=P.type,wt===Z){if(M.tag===7){s(z,M.sibling),tt=c(M,P.props.children),tt.return=z,z=tt;break t}}else if(M.elementType===wt||typeof wt=="object"&&wt!==null&&wt.$$typeof===A&&Aa(wt)===M.type){s(z,M.sibling),tt=c(M,P.props),vl(tt,P),tt.return=z,z=tt;break t}s(z,M);break}else n(z,M);M=M.sibling}P.type===Z?(tt=ba(P.props.children,z.mode,tt,P.key),tt.return=z,z=tt):(tt=Xo(P.type,P.key,P.props,null,z.mode,tt),vl(tt,P),tt.return=z,z=tt)}return p(z);case G:t:{for(wt=P.key;M!==null;){if(M.key===wt)if(M.tag===4&&M.stateNode.containerInfo===P.containerInfo&&M.stateNode.implementation===P.implementation){s(z,M.sibling),tt=c(M,P.children||[]),tt.return=z,z=tt;break t}else{s(z,M);break}else n(z,M);M=M.sibling}tt=Kc(P,z.mode,tt),tt.return=z,z=tt}return p(z);case A:return P=Aa(P),le(z,M,P,tt)}if(ue(P))return _t(z,M,P,tt);if(k(P)){if(wt=k(P),typeof wt!="function")throw Error(r(150));return P=wt.call(P),Nt(z,M,P,tt)}if(typeof P.then=="function")return le(z,M,nu(P),tt);if(P.$$typeof===lt)return le(z,M,$o(z,P),tt);iu(z,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,M!==null&&M.tag===6?(s(z,M.sibling),tt=c(M,P),tt.return=z,z=tt):(s(z,M),tt=Yc(P,z.mode,tt),tt.return=z,z=tt),p(z)):s(z,M)}return function(z,M,P,tt){try{yl=0;var wt=le(z,M,P,tt);return hr=null,wt}catch(Tt){if(Tt===cr||Tt===tu)throw Tt;var Xt=On(29,Tt,null,z.mode);return Xt.lanes=tt,Xt.return=z,Xt}finally{}}}var Ca=jm(!0),Lm=jm(!1),ws=!1;function rh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function lh(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Cs(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Rs(t,n,s){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,($t&2)!==0){var c=l.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),l.pending=n,n=Ko(t),_m(t,null,s),n}return Yo(t,l,n,s),Ko(t)}function _l(t,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,s|=l,n.lanes=s,on(t,s)}}function oh(t,n){var s=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var c=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var p={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?c=f=p:f=f.next=p,s=s.next}while(s!==null);f===null?c=f=n:f=f.next=n}else c=f=n;s={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=n:t.next=n,s.lastBaseUpdate=n}var uh=!1;function bl(){if(uh){var t=ur;if(t!==null)throw t}}function El(t,n,s,l){uh=!1;var c=t.updateQueue;ws=!1;var f=c.firstBaseUpdate,p=c.lastBaseUpdate,E=c.shared.pending;if(E!==null){c.shared.pending=null;var D=E,q=D.next;D.next=null,p===null?f=q:p.next=q,p=D;var J=t.alternate;J!==null&&(J=J.updateQueue,E=J.lastBaseUpdate,E!==p&&(E===null?J.firstBaseUpdate=q:E.next=q,J.lastBaseUpdate=D))}if(f!==null){var nt=c.baseState;p=0,J=q=D=null,E=f;do{var H=E.lane&-536870913,K=H!==E.lane;if(K?(qt&H)===H:(l&H)===H){H!==0&&H===or&&(uh=!0),J!==null&&(J=J.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var _t=t,Nt=E;H=n;var le=s;switch(Nt.tag){case 1:if(_t=Nt.payload,typeof _t=="function"){nt=_t.call(le,nt,H);break t}nt=_t;break t;case 3:_t.flags=_t.flags&-65537|128;case 0:if(_t=Nt.payload,H=typeof _t=="function"?_t.call(le,nt,H):_t,H==null)break t;nt=S({},nt,H);break t;case 2:ws=!0}}H=E.callback,H!==null&&(t.flags|=64,K&&(t.flags|=8192),K=c.callbacks,K===null?c.callbacks=[H]:K.push(H))}else K={lane:H,tag:E.tag,payload:E.payload,callback:E.callback,next:null},J===null?(q=J=K,D=nt):J=J.next=K,p|=H;if(E=E.next,E===null){if(E=c.shared.pending,E===null)break;K=E,E=K.next,K.next=null,c.lastBaseUpdate=K,c.shared.pending=null}}while(!0);J===null&&(D=nt),c.baseState=D,c.firstBaseUpdate=q,c.lastBaseUpdate=J,f===null&&(c.shared.lanes=0),Os|=p,t.lanes=p,t.memoizedState=nt}}function km(t,n){if(typeof t!="function")throw Error(r(191,t));t.call(n)}function zm(t,n){var s=t.callbacks;if(s!==null)for(t.callbacks=null,t=0;t<s.length;t++)km(s[t],n)}var fr=I(null),su=I(0);function Um(t,n){t=ss,ut(su,t),ut(fr,n),ss=t|n.baseLanes}function ch(){ut(su,ss),ut(fr,fr.current)}function hh(){ss=su.current,$(fr),$(su)}var Mn=I(null),Zn=null;function Ns(t){var n=t.alternate;ut(Ae,Ae.current&1),ut(Mn,t),Zn===null&&(n===null||fr.current!==null||n.memoizedState!==null)&&(Zn=t)}function fh(t){ut(Ae,Ae.current),ut(Mn,t),Zn===null&&(Zn=t)}function Bm(t){t.tag===22?(ut(Ae,Ae.current),ut(Mn,t),Zn===null&&(Zn=t)):Ds()}function Ds(){ut(Ae,Ae.current),ut(Mn,Mn.current)}function jn(t){$(Mn),Zn===t&&(Zn=null),$(Ae)}var Ae=I(0);function au(t){for(var n=t;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||_f(s)||bf(s)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Zi=0,Lt=null,ae=null,Ve=null,ru=!1,dr=!1,Ra=!1,lu=0,Tl=0,mr=null,eb=0;function Ee(){throw Error(r(321))}function dh(t,n){if(n===null)return!1;for(var s=0;s<n.length&&s<t.length;s++)if(!Vn(t[s],n[s]))return!1;return!0}function mh(t,n,s,l,c,f){return Zi=f,Lt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,X.H=t===null||t.memoizedState===null?xg:Nh,Ra=!1,f=s(l,c),Ra=!1,dr&&(f=qm(n,s,l,c)),Pm(t),f}function Pm(t){X.H=Al;var n=ae!==null&&ae.next!==null;if(Zi=0,Ve=ae=Lt=null,ru=!1,Tl=0,mr=null,n)throw Error(r(300));t===null||Oe||(t=t.dependencies,t!==null&&Jo(t)&&(Oe=!0))}function qm(t,n,s,l){Lt=t;var c=0;do{if(dr&&(mr=null),Tl=0,dr=!1,25<=c)throw Error(r(301));if(c+=1,Ve=ae=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}X.H=Sg,f=n(s,l)}while(dr);return f}function nb(){var t=X.H,n=t.useState()[0];return n=typeof n.then=="function"?xl(n):n,t=t.useState()[0],(ae!==null?ae.memoizedState:null)!==t&&(Lt.flags|=1024),n}function gh(){var t=lu!==0;return lu=0,t}function ph(t,n,s){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~s}function yh(t){if(ru){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}ru=!1}Zi=0,Ve=ae=Lt=null,dr=!1,Tl=lu=0,mr=null}function gn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ve===null?Lt.memoizedState=Ve=t:Ve=Ve.next=t,Ve}function we(){if(ae===null){var t=Lt.alternate;t=t!==null?t.memoizedState:null}else t=ae.next;var n=Ve===null?Lt.memoizedState:Ve.next;if(n!==null)Ve=n,ae=t;else{if(t===null)throw Lt.alternate===null?Error(r(467)):Error(r(310));ae=t,t={memoizedState:ae.memoizedState,baseState:ae.baseState,baseQueue:ae.baseQueue,queue:ae.queue,next:null},Ve===null?Lt.memoizedState=Ve=t:Ve=Ve.next=t}return Ve}function ou(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function xl(t){var n=Tl;return Tl+=1,mr===null&&(mr=[]),t=Vm(mr,t,n),n=Lt,(Ve===null?n.memoizedState:Ve.next)===null&&(n=n.alternate,X.H=n===null||n.memoizedState===null?xg:Nh),t}function uu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return xl(t);if(t.$$typeof===lt)return We(t)}throw Error(r(438,String(t)))}function vh(t){var n=null,s=Lt.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var l=Lt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=ou(),Lt.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(t),l=0;l<t;l++)s[l]=L;return n.index++,s}function Ji(t,n){return typeof n=="function"?n(t):n}function cu(t){var n=we();return _h(n,ae,t)}function _h(t,n,s){var l=t.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=s;var c=t.baseQueue,f=l.pending;if(f!==null){if(c!==null){var p=c.next;c.next=f.next,f.next=p}n.baseQueue=c=f,l.pending=null}if(f=t.baseState,c===null)t.memoizedState=f;else{n=c.next;var E=p=null,D=null,q=n,J=!1;do{var nt=q.lane&-536870913;if(nt!==q.lane?(qt&nt)===nt:(Zi&nt)===nt){var H=q.revertLane;if(H===0)D!==null&&(D=D.next={lane:0,revertLane:0,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),nt===or&&(J=!0);else if((Zi&H)===H){q=q.next,H===or&&(J=!0);continue}else nt={lane:0,revertLane:q.revertLane,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},D===null?(E=D=nt,p=f):D=D.next=nt,Lt.lanes|=H,Os|=H;nt=q.action,Ra&&s(f,nt),f=q.hasEagerState?q.eagerState:s(f,nt)}else H={lane:nt,revertLane:q.revertLane,gesture:q.gesture,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},D===null?(E=D=H,p=f):D=D.next=H,Lt.lanes|=nt,Os|=nt;q=q.next}while(q!==null&&q!==n);if(D===null?p=f:D.next=E,!Vn(f,t.memoizedState)&&(Oe=!0,J&&(s=ur,s!==null)))throw s;t.memoizedState=f,t.baseState=p,t.baseQueue=D,l.lastRenderedState=f}return c===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function bh(t){var n=we(),s=n.queue;if(s===null)throw Error(r(311));s.lastRenderedReducer=t;var l=s.dispatch,c=s.pending,f=n.memoizedState;if(c!==null){s.pending=null;var p=c=c.next;do f=t(f,p.action),p=p.next;while(p!==c);Vn(f,n.memoizedState)||(Oe=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),s.lastRenderedState=f}return[f,l]}function Hm(t,n,s){var l=Lt,c=we(),f=Qt;if(f){if(s===void 0)throw Error(r(407));s=s()}else s=n();var p=!Vn((ae||c).memoizedState,s);if(p&&(c.memoizedState=s,Oe=!0),c=c.queue,xh(Qm.bind(null,l,c,t),[t]),c.getSnapshot!==n||p||Ve!==null&&Ve.memoizedState.tag&1){if(l.flags|=2048,gr(9,{destroy:void 0},Gm.bind(null,l,c,s,n),null),oe===null)throw Error(r(349));f||(Zi&127)!==0||Fm(l,n,s)}return s}function Fm(t,n,s){t.flags|=16384,t={getSnapshot:n,value:s},n=Lt.updateQueue,n===null?(n=ou(),Lt.updateQueue=n,n.stores=[t]):(s=n.stores,s===null?n.stores=[t]:s.push(t))}function Gm(t,n,s,l){n.value=s,n.getSnapshot=l,Ym(n)&&Km(t)}function Qm(t,n,s){return s(function(){Ym(n)&&Km(t)})}function Ym(t){var n=t.getSnapshot;t=t.value;try{var s=n();return!Vn(t,s)}catch{return!0}}function Km(t){var n=_a(t,2);n!==null&&Sn(n,t,2)}function Eh(t){var n=gn();if(typeof t=="function"){var s=t;if(t=s(),Ra){dn(!0);try{s()}finally{dn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ji,lastRenderedState:t},n}function Xm(t,n,s,l){return t.baseState=s,_h(t,ae,typeof l=="function"?l:Ji)}function ib(t,n,s,l,c){if(du(t))throw Error(r(485));if(t=n.action,t!==null){var f={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){f.listeners.push(p)}};X.T!==null?s(!0):f.isTransition=!1,l(f),s=n.pending,s===null?(f.next=n.pending=f,Zm(n,f)):(f.next=s.next,n.pending=s.next=f)}}function Zm(t,n){var s=n.action,l=n.payload,c=t.state;if(n.isTransition){var f=X.T,p={};X.T=p;try{var E=s(c,l),D=X.S;D!==null&&D(p,E),Jm(t,n,E)}catch(q){Th(t,n,q)}finally{f!==null&&p.types!==null&&(f.types=p.types),X.T=f}}else try{f=s(c,l),Jm(t,n,f)}catch(q){Th(t,n,q)}}function Jm(t,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(l){$m(t,n,l)},function(l){return Th(t,n,l)}):$m(t,n,s)}function $m(t,n,s){n.status="fulfilled",n.value=s,Wm(n),t.state=s,n=t.pending,n!==null&&(s=n.next,s===n?t.pending=null:(s=s.next,n.next=s,Zm(t,s)))}function Th(t,n,s){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=s,Wm(n),n=n.next;while(n!==l)}t.action=null}function Wm(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function tg(t,n){return n}function eg(t,n){if(Qt){var s=oe.formState;if(s!==null){t:{var l=Lt;if(Qt){if(he){e:{for(var c=he,f=Xn;c.nodeType!==8;){if(!f){c=null;break e}if(c=Jn(c.nextSibling),c===null){c=null;break e}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){he=Jn(c.nextSibling),l=c.data==="F!";break t}}Ss(l)}l=!1}l&&(n=s[0])}}return s=gn(),s.memoizedState=s.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:tg,lastRenderedState:n},s.queue=l,s=bg.bind(null,Lt,l),l.dispatch=s,l=Eh(!1),f=Rh.bind(null,Lt,!1,l.queue),l=gn(),c={state:n,dispatch:null,action:t,pending:null},l.queue=c,s=ib.bind(null,Lt,c,f,s),c.dispatch=s,l.memoizedState=t,[n,s,!1]}function ng(t){var n=we();return ig(n,ae,t)}function ig(t,n,s){if(n=_h(t,n,tg)[0],t=cu(Ji)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=xl(n)}catch(p){throw p===cr?tu:p}else l=n;n=we();var c=n.queue,f=c.dispatch;return s!==n.memoizedState&&(Lt.flags|=2048,gr(9,{destroy:void 0},sb.bind(null,c,s),null)),[l,f,t]}function sb(t,n){t.action=n}function sg(t){var n=we(),s=ae;if(s!==null)return ig(n,s,t);we(),n=n.memoizedState,s=we();var l=s.queue.dispatch;return s.memoizedState=t,[n,l,!1]}function gr(t,n,s,l){return t={tag:t,create:s,deps:l,inst:n,next:null},n=Lt.updateQueue,n===null&&(n=ou(),Lt.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=t.next=t:(l=s.next,s.next=t,t.next=l,n.lastEffect=t),t}function ag(){return we().memoizedState}function hu(t,n,s,l){var c=gn();Lt.flags|=t,c.memoizedState=gr(1|n,{destroy:void 0},s,l===void 0?null:l)}function fu(t,n,s,l){var c=we();l=l===void 0?null:l;var f=c.memoizedState.inst;ae!==null&&l!==null&&dh(l,ae.memoizedState.deps)?c.memoizedState=gr(n,f,s,l):(Lt.flags|=t,c.memoizedState=gr(1|n,f,s,l))}function rg(t,n){hu(8390656,8,t,n)}function xh(t,n){fu(2048,8,t,n)}function ab(t){Lt.flags|=4;var n=Lt.updateQueue;if(n===null)n=ou(),Lt.updateQueue=n,n.events=[t];else{var s=n.events;s===null?n.events=[t]:s.push(t)}}function lg(t){var n=we().memoizedState;return ab({ref:n,nextImpl:t}),function(){if(($t&2)!==0)throw Error(r(440));return n.impl.apply(void 0,arguments)}}function og(t,n){return fu(4,2,t,n)}function ug(t,n){return fu(4,4,t,n)}function cg(t,n){if(typeof n=="function"){t=t();var s=n(t);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function hg(t,n,s){s=s!=null?s.concat([t]):null,fu(4,4,cg.bind(null,n,t),s)}function Sh(){}function fg(t,n){var s=we();n=n===void 0?null:n;var l=s.memoizedState;return n!==null&&dh(n,l[1])?l[0]:(s.memoizedState=[t,n],t)}function dg(t,n){var s=we();n=n===void 0?null:n;var l=s.memoizedState;if(n!==null&&dh(n,l[1]))return l[0];if(l=t(),Ra){dn(!0);try{t()}finally{dn(!1)}}return s.memoizedState=[l,n],l}function Ah(t,n,s){return s===void 0||(Zi&1073741824)!==0&&(qt&261930)===0?t.memoizedState=n:(t.memoizedState=s,t=mp(),Lt.lanes|=t,Os|=t,s)}function mg(t,n,s,l){return Vn(s,n)?s:fr.current!==null?(t=Ah(t,s,l),Vn(t,n)||(Oe=!0),t):(Zi&42)===0||(Zi&1073741824)!==0&&(qt&261930)===0?(Oe=!0,t.memoizedState=s):(t=mp(),Lt.lanes|=t,Os|=t,n)}function gg(t,n,s,l,c){var f=ht.p;ht.p=f!==0&&8>f?f:8;var p=X.T,E={};X.T=E,Rh(t,!1,n,s);try{var D=c(),q=X.S;if(q!==null&&q(E,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var J=tb(D,l);Sl(t,n,J,zn(t))}else Sl(t,n,l,zn(t))}catch(nt){Sl(t,n,{then:function(){},status:"rejected",reason:nt},zn())}finally{ht.p=f,p!==null&&E.types!==null&&(p.types=E.types),X.T=p}}function rb(){}function wh(t,n,s,l){if(t.tag!==5)throw Error(r(476));var c=pg(t).queue;gg(t,c,n,Et,s===null?rb:function(){return yg(t),s(l)})}function pg(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:Et,baseState:Et,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ji,lastRenderedState:Et},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ji,lastRenderedState:s},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function yg(t){var n=pg(t);n.next===null&&(n=t.alternate.memoizedState),Sl(t,n.next.queue,{},zn())}function Ch(){return We(Pl)}function vg(){return we().memoizedState}function _g(){return we().memoizedState}function lb(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var s=zn();t=Cs(s);var l=Rs(n,t,s);l!==null&&(Sn(l,n,s),_l(l,n,s)),n={cache:nh()},t.payload=n;return}n=n.return}}function ob(t,n,s){var l=zn();s={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},du(t)?Eg(n,s):(s=Gc(t,n,s,l),s!==null&&(Sn(s,t,l),Tg(s,n,l)))}function bg(t,n,s){var l=zn();Sl(t,n,s,l)}function Sl(t,n,s,l){var c={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(du(t))Eg(n,c);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var p=n.lastRenderedState,E=f(p,s);if(c.hasEagerState=!0,c.eagerState=E,Vn(E,p))return Yo(t,n,c,0),oe===null&&Qo(),!1}catch{}finally{}if(s=Gc(t,n,c,l),s!==null)return Sn(s,t,l),Tg(s,n,l),!0}return!1}function Rh(t,n,s,l){if(l={lane:2,revertLane:lf(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},du(t)){if(n)throw Error(r(479))}else n=Gc(t,s,l,2),n!==null&&Sn(n,t,2)}function du(t){var n=t.alternate;return t===Lt||n!==null&&n===Lt}function Eg(t,n){dr=ru=!0;var s=t.pending;s===null?n.next=n:(n.next=s.next,s.next=n),t.pending=n}function Tg(t,n,s){if((s&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,s|=l,n.lanes=s,on(t,s)}}var Al={readContext:We,use:uu,useCallback:Ee,useContext:Ee,useEffect:Ee,useImperativeHandle:Ee,useLayoutEffect:Ee,useInsertionEffect:Ee,useMemo:Ee,useReducer:Ee,useRef:Ee,useState:Ee,useDebugValue:Ee,useDeferredValue:Ee,useTransition:Ee,useSyncExternalStore:Ee,useId:Ee,useHostTransitionStatus:Ee,useFormState:Ee,useActionState:Ee,useOptimistic:Ee,useMemoCache:Ee,useCacheRefresh:Ee};Al.useEffectEvent=Ee;var xg={readContext:We,use:uu,useCallback:function(t,n){return gn().memoizedState=[t,n===void 0?null:n],t},useContext:We,useEffect:rg,useImperativeHandle:function(t,n,s){s=s!=null?s.concat([t]):null,hu(4194308,4,cg.bind(null,n,t),s)},useLayoutEffect:function(t,n){return hu(4194308,4,t,n)},useInsertionEffect:function(t,n){hu(4,2,t,n)},useMemo:function(t,n){var s=gn();n=n===void 0?null:n;var l=t();if(Ra){dn(!0);try{t()}finally{dn(!1)}}return s.memoizedState=[l,n],l},useReducer:function(t,n,s){var l=gn();if(s!==void 0){var c=s(n);if(Ra){dn(!0);try{s(n)}finally{dn(!1)}}}else c=n;return l.memoizedState=l.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},l.queue=t,t=t.dispatch=ob.bind(null,Lt,t),[l.memoizedState,t]},useRef:function(t){var n=gn();return t={current:t},n.memoizedState=t},useState:function(t){t=Eh(t);var n=t.queue,s=bg.bind(null,Lt,n);return n.dispatch=s,[t.memoizedState,s]},useDebugValue:Sh,useDeferredValue:function(t,n){var s=gn();return Ah(s,t,n)},useTransition:function(){var t=Eh(!1);return t=gg.bind(null,Lt,t.queue,!0,!1),gn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,s){var l=Lt,c=gn();if(Qt){if(s===void 0)throw Error(r(407));s=s()}else{if(s=n(),oe===null)throw Error(r(349));(qt&127)!==0||Fm(l,n,s)}c.memoizedState=s;var f={value:s,getSnapshot:n};return c.queue=f,rg(Qm.bind(null,l,f,t),[t]),l.flags|=2048,gr(9,{destroy:void 0},Gm.bind(null,l,f,s,n),null),s},useId:function(){var t=gn(),n=oe.identifierPrefix;if(Qt){var s=Di,l=Ni;s=(l&~(1<<32-me(l)-1)).toString(32)+s,n="_"+n+"R_"+s,s=lu++,0<s&&(n+="H"+s.toString(32)),n+="_"}else s=eb++,n="_"+n+"r_"+s.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:Ch,useFormState:eg,useActionState:eg,useOptimistic:function(t){var n=gn();n.memoizedState=n.baseState=t;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=Rh.bind(null,Lt,!0,s),s.dispatch=n,[t,n]},useMemoCache:vh,useCacheRefresh:function(){return gn().memoizedState=lb.bind(null,Lt)},useEffectEvent:function(t){var n=gn(),s={impl:t};return n.memoizedState=s,function(){if(($t&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}},Nh={readContext:We,use:uu,useCallback:fg,useContext:We,useEffect:xh,useImperativeHandle:hg,useInsertionEffect:og,useLayoutEffect:ug,useMemo:dg,useReducer:cu,useRef:ag,useState:function(){return cu(Ji)},useDebugValue:Sh,useDeferredValue:function(t,n){var s=we();return mg(s,ae.memoizedState,t,n)},useTransition:function(){var t=cu(Ji)[0],n=we().memoizedState;return[typeof t=="boolean"?t:xl(t),n]},useSyncExternalStore:Hm,useId:vg,useHostTransitionStatus:Ch,useFormState:ng,useActionState:ng,useOptimistic:function(t,n){var s=we();return Xm(s,ae,t,n)},useMemoCache:vh,useCacheRefresh:_g};Nh.useEffectEvent=lg;var Sg={readContext:We,use:uu,useCallback:fg,useContext:We,useEffect:xh,useImperativeHandle:hg,useInsertionEffect:og,useLayoutEffect:ug,useMemo:dg,useReducer:bh,useRef:ag,useState:function(){return bh(Ji)},useDebugValue:Sh,useDeferredValue:function(t,n){var s=we();return ae===null?Ah(s,t,n):mg(s,ae.memoizedState,t,n)},useTransition:function(){var t=bh(Ji)[0],n=we().memoizedState;return[typeof t=="boolean"?t:xl(t),n]},useSyncExternalStore:Hm,useId:vg,useHostTransitionStatus:Ch,useFormState:sg,useActionState:sg,useOptimistic:function(t,n){var s=we();return ae!==null?Xm(s,ae,t,n):(s.baseState=t,[t,s.queue.dispatch])},useMemoCache:vh,useCacheRefresh:_g};Sg.useEffectEvent=lg;function Dh(t,n,s,l){n=t.memoizedState,s=s(l,n),s=s==null?n:S({},n,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var Ih={enqueueSetState:function(t,n,s){t=t._reactInternals;var l=zn(),c=Cs(l);c.payload=n,s!=null&&(c.callback=s),n=Rs(t,c,l),n!==null&&(Sn(n,t,l),_l(n,t,l))},enqueueReplaceState:function(t,n,s){t=t._reactInternals;var l=zn(),c=Cs(l);c.tag=1,c.payload=n,s!=null&&(c.callback=s),n=Rs(t,c,l),n!==null&&(Sn(n,t,l),_l(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var s=zn(),l=Cs(s);l.tag=2,n!=null&&(l.callback=n),n=Rs(t,l,s),n!==null&&(Sn(n,t,s),_l(n,t,s))}};function Ag(t,n,s,l,c,f,p){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,p):n.prototype&&n.prototype.isPureReactComponent?!hl(s,l)||!hl(c,f):!0}function wg(t,n,s,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,l),n.state!==t&&Ih.enqueueReplaceState(n,n.state,null)}function Na(t,n){var s=n;if("ref"in n){s={};for(var l in n)l!=="ref"&&(s[l]=n[l])}if(t=t.defaultProps){s===n&&(s=S({},s));for(var c in t)s[c]===void 0&&(s[c]=t[c])}return s}function Cg(t){Go(t)}function Rg(t){console.error(t)}function Ng(t){Go(t)}function mu(t,n){try{var s=t.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Dg(t,n,s){try{var l=t.onCaughtError;l(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function Vh(t,n,s){return s=Cs(s),s.tag=3,s.payload={element:null},s.callback=function(){mu(t,n)},s}function Ig(t){return t=Cs(t),t.tag=3,t}function Vg(t,n,s,l){var c=s.type.getDerivedStateFromError;if(typeof c=="function"){var f=l.value;t.payload=function(){return c(f)},t.callback=function(){Dg(n,s,l)}}var p=s.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(t.callback=function(){Dg(n,s,l),typeof c!="function"&&(Ms===null?Ms=new Set([this]):Ms.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function ub(t,n,s,l,c){if(s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=s.alternate,n!==null&&lr(n,s,c,!0),s=Mn.current,s!==null){switch(s.tag){case 31:case 13:return Zn===null?wu():s.alternate===null&&Te===0&&(Te=3),s.flags&=-257,s.flags|=65536,s.lanes=c,l===eu?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([l]):n.add(l),sf(t,l,c)),!1;case 22:return s.flags|=65536,l===eu?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([l]):s.add(l)),sf(t,l,c)),!1}throw Error(r(435,s.tag))}return sf(t,l,c),wu(),!1}if(Qt)return n=Mn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,l!==Jc&&(t=Error(r(422),{cause:l}),ml(Qn(t,s)))):(l!==Jc&&(n=Error(r(423),{cause:l}),ml(Qn(n,s))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,l=Qn(l,s),c=Vh(t.stateNode,l,c),oh(t,c),Te!==4&&(Te=2)),!1;var f=Error(r(520),{cause:l});if(f=Qn(f,s),Ol===null?Ol=[f]:Ol.push(f),Te!==4&&(Te=2),n===null)return!0;l=Qn(l,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,t=c&-c,s.lanes|=t,t=Vh(s.stateNode,l,t),oh(s,t),!1;case 1:if(n=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Ms===null||!Ms.has(f))))return s.flags|=65536,c&=-c,s.lanes|=c,c=Ig(c),Vg(c,t,s,l),oh(s,c),!1}s=s.return}while(s!==null);return!1}var Oh=Error(r(461)),Oe=!1;function tn(t,n,s,l){n.child=t===null?Lm(n,null,s,l):Ca(n,t.child,s,l)}function Og(t,n,s,l,c){s=s.render;var f=n.ref;if("ref"in l){var p={};for(var E in l)E!=="ref"&&(p[E]=l[E])}else p=l;return xa(n),l=mh(t,n,s,p,f,c),E=gh(),t!==null&&!Oe?(ph(t,n,c),$i(t,n,c)):(Qt&&E&&Xc(n),n.flags|=1,tn(t,n,l,c),n.child)}function Mg(t,n,s,l,c){if(t===null){var f=s.type;return typeof f=="function"&&!Qc(f)&&f.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=f,jg(t,n,f,l,c)):(t=Xo(s.type,null,l,n,n.mode,c),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!Ph(t,c)){var p=f.memoizedProps;if(s=s.compare,s=s!==null?s:hl,s(p,l)&&t.ref===n.ref)return $i(t,n,c)}return n.flags|=1,t=Qi(f,l),t.ref=n.ref,t.return=n,n.child=t}function jg(t,n,s,l,c){if(t!==null){var f=t.memoizedProps;if(hl(f,l)&&t.ref===n.ref)if(Oe=!1,n.pendingProps=l=f,Ph(t,c))(t.flags&131072)!==0&&(Oe=!0);else return n.lanes=t.lanes,$i(t,n,c)}return Mh(t,n,s,l,c)}function Lg(t,n,s,l){var c=l.children,f=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|s:s,t!==null){for(l=n.child=t.child,c=0;l!==null;)c=c|l.lanes|l.childLanes,l=l.sibling;l=c&~f}else l=0,n.child=null;return kg(t,n,f,s,l)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Wo(n,f!==null?f.cachePool:null),f!==null?Um(n,f):ch(),Bm(n);else return l=n.lanes=536870912,kg(t,n,f!==null?f.baseLanes|s:s,s,l)}else f!==null?(Wo(n,f.cachePool),Um(n,f),Ds(),n.memoizedState=null):(t!==null&&Wo(n,null),ch(),Ds());return tn(t,n,c,s),n.child}function wl(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function kg(t,n,s,l,c){var f=sh();return f=f===null?null:{parent:Ie._currentValue,pool:f},n.memoizedState={baseLanes:s,cachePool:f},t!==null&&Wo(n,null),ch(),Bm(n),t!==null&&lr(t,n,l,!0),n.childLanes=c,null}function gu(t,n){return n=yu({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function zg(t,n,s){return Ca(n,t.child,null,s),t=gu(n,n.pendingProps),t.flags|=2,jn(n),n.memoizedState=null,t}function cb(t,n,s){var l=n.pendingProps,c=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(Qt){if(l.mode==="hidden")return t=gu(n,l),n.lanes=536870912,wl(null,t);if(fh(n),(t=he)?(t=Zp(t,Xn),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Ts!==null?{id:Ni,overflow:Di}:null,retryLane:536870912,hydrationErrors:null},s=Em(t),s.return=n,n.child=s,$e=n,he=null)):t=null,t===null)throw Ss(n);return n.lanes=536870912,null}return gu(n,l)}var f=t.memoizedState;if(f!==null){var p=f.dehydrated;if(fh(n),c)if(n.flags&256)n.flags&=-257,n=zg(t,n,s);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(r(558));else if(Oe||lr(t,n,s,!1),c=(s&t.childLanes)!==0,Oe||c){if(l=oe,l!==null&&(p=Bn(l,s),p!==0&&p!==f.retryLane))throw f.retryLane=p,_a(t,p),Sn(l,t,p),Oh;wu(),n=zg(t,n,s)}else t=f.treeContext,he=Jn(p.nextSibling),$e=n,Qt=!0,xs=null,Xn=!1,t!==null&&Sm(n,t),n=gu(n,l),n.flags|=4096;return n}return t=Qi(t.child,{mode:l.mode,children:l.children}),t.ref=n.ref,n.child=t,t.return=n,t}function pu(t,n){var s=n.ref;if(s===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(r(284));(t===null||t.ref!==s)&&(n.flags|=4194816)}}function Mh(t,n,s,l,c){return xa(n),s=mh(t,n,s,l,void 0,c),l=gh(),t!==null&&!Oe?(ph(t,n,c),$i(t,n,c)):(Qt&&l&&Xc(n),n.flags|=1,tn(t,n,s,c),n.child)}function Ug(t,n,s,l,c,f){return xa(n),n.updateQueue=null,s=qm(n,l,s,c),Pm(t),l=gh(),t!==null&&!Oe?(ph(t,n,f),$i(t,n,f)):(Qt&&l&&Xc(n),n.flags|=1,tn(t,n,s,f),n.child)}function Bg(t,n,s,l,c){if(xa(n),n.stateNode===null){var f=ir,p=s.contextType;typeof p=="object"&&p!==null&&(f=We(p)),f=new s(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Ih,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},rh(n),p=s.contextType,f.context=typeof p=="object"&&p!==null?We(p):ir,f.state=n.memoizedState,p=s.getDerivedStateFromProps,typeof p=="function"&&(Dh(n,s,p,l),f.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(p=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),p!==f.state&&Ih.enqueueReplaceState(f,f.state,null),El(n,l,f,c),bl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var E=n.memoizedProps,D=Na(s,E);f.props=D;var q=f.context,J=s.contextType;p=ir,typeof J=="object"&&J!==null&&(p=We(J));var nt=s.getDerivedStateFromProps;J=typeof nt=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,J||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||q!==p)&&wg(n,f,l,p),ws=!1;var H=n.memoizedState;f.state=H,El(n,l,f,c),bl(),q=n.memoizedState,E||H!==q||ws?(typeof nt=="function"&&(Dh(n,s,nt,l),q=n.memoizedState),(D=ws||Ag(n,s,D,l,H,q,p))?(J||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=q),f.props=l,f.state=q,f.context=p,l=D):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,lh(t,n),p=n.memoizedProps,J=Na(s,p),f.props=J,nt=n.pendingProps,H=f.context,q=s.contextType,D=ir,typeof q=="object"&&q!==null&&(D=We(q)),E=s.getDerivedStateFromProps,(q=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(p!==nt||H!==D)&&wg(n,f,l,D),ws=!1,H=n.memoizedState,f.state=H,El(n,l,f,c),bl();var K=n.memoizedState;p!==nt||H!==K||ws||t!==null&&t.dependencies!==null&&Jo(t.dependencies)?(typeof E=="function"&&(Dh(n,s,E,l),K=n.memoizedState),(J=ws||Ag(n,s,J,l,H,K,D)||t!==null&&t.dependencies!==null&&Jo(t.dependencies))?(q||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,K,D),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,K,D)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||p===t.memoizedProps&&H===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===t.memoizedProps&&H===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=K),f.props=l,f.state=K,f.context=D,l=J):(typeof f.componentDidUpdate!="function"||p===t.memoizedProps&&H===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===t.memoizedProps&&H===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,pu(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,s=l&&typeof s.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=Ca(n,t.child,null,c),n.child=Ca(n,null,s,c)):tn(t,n,s,c),n.memoizedState=f.state,t=n.child):t=$i(t,n,c),t}function Pg(t,n,s,l){return Ea(),n.flags|=256,tn(t,n,s,l),n.child}var jh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Lh(t){return{baseLanes:t,cachePool:Dm()}}function kh(t,n,s){return t=t!==null?t.childLanes&~s:0,n&&(t|=kn),t}function qg(t,n,s){var l=n.pendingProps,c=!1,f=(n.flags&128)!==0,p;if((p=f)||(p=t!==null&&t.memoizedState===null?!1:(Ae.current&2)!==0),p&&(c=!0,n.flags&=-129),p=(n.flags&32)!==0,n.flags&=-33,t===null){if(Qt){if(c?Ns(n):Ds(),(t=he)?(t=Zp(t,Xn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Ts!==null?{id:Ni,overflow:Di}:null,retryLane:536870912,hydrationErrors:null},s=Em(t),s.return=n,n.child=s,$e=n,he=null)):t=null,t===null)throw Ss(n);return bf(t)?n.lanes=32:n.lanes=536870912,null}var E=l.children;return l=l.fallback,c?(Ds(),c=n.mode,E=yu({mode:"hidden",children:E},c),l=ba(l,c,s,null),E.return=n,l.return=n,E.sibling=l,n.child=E,l=n.child,l.memoizedState=Lh(s),l.childLanes=kh(t,p,s),n.memoizedState=jh,wl(null,l)):(Ns(n),zh(n,E))}var D=t.memoizedState;if(D!==null&&(E=D.dehydrated,E!==null)){if(f)n.flags&256?(Ns(n),n.flags&=-257,n=Uh(t,n,s)):n.memoizedState!==null?(Ds(),n.child=t.child,n.flags|=128,n=null):(Ds(),E=l.fallback,c=n.mode,l=yu({mode:"visible",children:l.children},c),E=ba(E,c,s,null),E.flags|=2,l.return=n,E.return=n,l.sibling=E,n.child=l,Ca(n,t.child,null,s),l=n.child,l.memoizedState=Lh(s),l.childLanes=kh(t,p,s),n.memoizedState=jh,n=wl(null,l));else if(Ns(n),bf(E)){if(p=E.nextSibling&&E.nextSibling.dataset,p)var q=p.dgst;p=q,l=Error(r(419)),l.stack="",l.digest=p,ml({value:l,source:null,stack:null}),n=Uh(t,n,s)}else if(Oe||lr(t,n,s,!1),p=(s&t.childLanes)!==0,Oe||p){if(p=oe,p!==null&&(l=Bn(p,s),l!==0&&l!==D.retryLane))throw D.retryLane=l,_a(t,l),Sn(p,t,l),Oh;_f(E)||wu(),n=Uh(t,n,s)}else _f(E)?(n.flags|=192,n.child=t.child,n=null):(t=D.treeContext,he=Jn(E.nextSibling),$e=n,Qt=!0,xs=null,Xn=!1,t!==null&&Sm(n,t),n=zh(n,l.children),n.flags|=4096);return n}return c?(Ds(),E=l.fallback,c=n.mode,D=t.child,q=D.sibling,l=Qi(D,{mode:"hidden",children:l.children}),l.subtreeFlags=D.subtreeFlags&65011712,q!==null?E=Qi(q,E):(E=ba(E,c,s,null),E.flags|=2),E.return=n,l.return=n,l.sibling=E,n.child=l,wl(null,l),l=n.child,E=t.child.memoizedState,E===null?E=Lh(s):(c=E.cachePool,c!==null?(D=Ie._currentValue,c=c.parent!==D?{parent:D,pool:D}:c):c=Dm(),E={baseLanes:E.baseLanes|s,cachePool:c}),l.memoizedState=E,l.childLanes=kh(t,p,s),n.memoizedState=jh,wl(t.child,l)):(Ns(n),s=t.child,t=s.sibling,s=Qi(s,{mode:"visible",children:l.children}),s.return=n,s.sibling=null,t!==null&&(p=n.deletions,p===null?(n.deletions=[t],n.flags|=16):p.push(t)),n.child=s,n.memoizedState=null,s)}function zh(t,n){return n=yu({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function yu(t,n){return t=On(22,t,null,n),t.lanes=0,t}function Uh(t,n,s){return Ca(n,t.child,null,s),t=zh(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function Hg(t,n,s){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),th(t.return,n,s)}function Bh(t,n,s,l,c,f){var p=t.memoizedState;p===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:c,treeForkCount:f}:(p.isBackwards=n,p.rendering=null,p.renderingStartTime=0,p.last=l,p.tail=s,p.tailMode=c,p.treeForkCount=f)}function Fg(t,n,s){var l=n.pendingProps,c=l.revealOrder,f=l.tail;l=l.children;var p=Ae.current,E=(p&2)!==0;if(E?(p=p&1|2,n.flags|=128):p&=1,ut(Ae,p),tn(t,n,l,s),l=Qt?dl:0,!E&&t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Hg(t,s,n);else if(t.tag===19)Hg(t,s,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(c){case"forwards":for(s=n.child,c=null;s!==null;)t=s.alternate,t!==null&&au(t)===null&&(c=s),s=s.sibling;s=c,s===null?(c=n.child,n.child=null):(c=s.sibling,s.sibling=null),Bh(n,!1,c,s,f,l);break;case"backwards":case"unstable_legacy-backwards":for(s=null,c=n.child,n.child=null;c!==null;){if(t=c.alternate,t!==null&&au(t)===null){n.child=c;break}t=c.sibling,c.sibling=s,s=c,c=t}Bh(n,!0,s,null,f,l);break;case"together":Bh(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function $i(t,n,s){if(t!==null&&(n.dependencies=t.dependencies),Os|=n.lanes,(s&n.childLanes)===0)if(t!==null){if(lr(t,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(r(153));if(n.child!==null){for(t=n.child,s=Qi(t,t.pendingProps),n.child=s,s.return=n;t.sibling!==null;)t=t.sibling,s=s.sibling=Qi(t,t.pendingProps),s.return=n;s.sibling=null}return n.child}function Ph(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Jo(t)))}function hb(t,n,s){switch(n.tag){case 3:Rt(n,n.stateNode.containerInfo),As(n,Ie,t.memoizedState.cache),Ea();break;case 27:case 5:He(n);break;case 4:Rt(n,n.stateNode.containerInfo);break;case 10:As(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,fh(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(Ns(n),n.flags|=128,null):(s&n.child.childLanes)!==0?qg(t,n,s):(Ns(n),t=$i(t,n,s),t!==null?t.sibling:null);Ns(n);break;case 19:var c=(t.flags&128)!==0;if(l=(s&n.childLanes)!==0,l||(lr(t,n,s,!1),l=(s&n.childLanes)!==0),c){if(l)return Fg(t,n,s);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),ut(Ae,Ae.current),l)break;return null;case 22:return n.lanes=0,Lg(t,n,s,n.pendingProps);case 24:As(n,Ie,t.memoizedState.cache)}return $i(t,n,s)}function Gg(t,n,s){if(t!==null)if(t.memoizedProps!==n.pendingProps)Oe=!0;else{if(!Ph(t,s)&&(n.flags&128)===0)return Oe=!1,hb(t,n,s);Oe=(t.flags&131072)!==0}else Oe=!1,Qt&&(n.flags&1048576)!==0&&xm(n,dl,n.index);switch(n.lanes=0,n.tag){case 16:t:{var l=n.pendingProps;if(t=Aa(n.elementType),n.type=t,typeof t=="function")Qc(t)?(l=Na(t,l),n.tag=1,n=Bg(null,n,t,l,s)):(n.tag=0,n=Mh(null,n,t,l,s));else{if(t!=null){var c=t.$$typeof;if(c===bt){n.tag=11,n=Og(null,n,t,l,s);break t}else if(c===N){n.tag=14,n=Mg(null,n,t,l,s);break t}}throw n=Pt(t)||t,Error(r(306,n,""))}}return n;case 0:return Mh(t,n,n.type,n.pendingProps,s);case 1:return l=n.type,c=Na(l,n.pendingProps),Bg(t,n,l,c,s);case 3:t:{if(Rt(n,n.stateNode.containerInfo),t===null)throw Error(r(387));l=n.pendingProps;var f=n.memoizedState;c=f.element,lh(t,n),El(n,l,null,s);var p=n.memoizedState;if(l=p.cache,As(n,Ie,l),l!==f.cache&&eh(n,[Ie],s,!0),bl(),l=p.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:p.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Pg(t,n,l,s);break t}else if(l!==c){c=Qn(Error(r(424)),n),ml(c),n=Pg(t,n,l,s);break t}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(he=Jn(t.firstChild),$e=n,Qt=!0,xs=null,Xn=!0,s=Lm(n,null,l,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(Ea(),l===c){n=$i(t,n,s);break t}tn(t,n,l,s)}n=n.child}return n;case 26:return pu(t,n),t===null?(s=ny(n.type,null,n.pendingProps,null))?n.memoizedState=s:Qt||(s=n.type,t=n.pendingProps,l=Ou(rt.current).createElement(s),l[Re]=n,l[Qe]=t,en(l,s,t),Ne(l),n.stateNode=l):n.memoizedState=ny(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return He(n),t===null&&Qt&&(l=n.stateNode=Wp(n.type,n.pendingProps,rt.current),$e=n,Xn=!0,c=he,zs(n.type)?(Ef=c,he=Jn(l.firstChild)):he=c),tn(t,n,n.pendingProps.children,s),pu(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Qt&&((c=l=he)&&(l=Pb(l,n.type,n.pendingProps,Xn),l!==null?(n.stateNode=l,$e=n,he=Jn(l.firstChild),Xn=!1,c=!0):c=!1),c||Ss(n)),He(n),c=n.type,f=n.pendingProps,p=t!==null?t.memoizedProps:null,l=f.children,pf(c,f)?l=null:p!==null&&pf(c,p)&&(n.flags|=32),n.memoizedState!==null&&(c=mh(t,n,nb,null,null,s),Pl._currentValue=c),pu(t,n),tn(t,n,l,s),n.child;case 6:return t===null&&Qt&&((t=s=he)&&(s=qb(s,n.pendingProps,Xn),s!==null?(n.stateNode=s,$e=n,he=null,t=!0):t=!1),t||Ss(n)),null;case 13:return qg(t,n,s);case 4:return Rt(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=Ca(n,null,l,s):tn(t,n,l,s),n.child;case 11:return Og(t,n,n.type,n.pendingProps,s);case 7:return tn(t,n,n.pendingProps,s),n.child;case 8:return tn(t,n,n.pendingProps.children,s),n.child;case 12:return tn(t,n,n.pendingProps.children,s),n.child;case 10:return l=n.pendingProps,As(n,n.type,l.value),tn(t,n,l.children,s),n.child;case 9:return c=n.type._context,l=n.pendingProps.children,xa(n),c=We(c),l=l(c),n.flags|=1,tn(t,n,l,s),n.child;case 14:return Mg(t,n,n.type,n.pendingProps,s);case 15:return jg(t,n,n.type,n.pendingProps,s);case 19:return Fg(t,n,s);case 31:return cb(t,n,s);case 22:return Lg(t,n,s,n.pendingProps);case 24:return xa(n),l=We(Ie),t===null?(c=sh(),c===null&&(c=oe,f=nh(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=s),c=f),n.memoizedState={parent:l,cache:c},rh(n),As(n,Ie,c)):((t.lanes&s)!==0&&(lh(t,n),El(n,null,null,s),bl()),c=t.memoizedState,f=n.memoizedState,c.parent!==l?(c={parent:l,cache:l},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),As(n,Ie,l)):(l=f.cache,As(n,Ie,l),l!==c.cache&&eh(n,[Ie],s,!0))),tn(t,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(r(156,n.tag))}function Wi(t){t.flags|=4}function qh(t,n,s,l,c){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(c&335544128)===c)if(t.stateNode.complete)t.flags|=8192;else if(vp())t.flags|=8192;else throw wa=eu,ah}else t.flags&=-16777217}function Qg(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!ly(n))if(vp())t.flags|=8192;else throw wa=eu,ah}function vu(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?la():536870912,t.lanes|=n,_r|=n)}function Cl(t,n){if(!Qt)switch(t.tailMode){case"hidden":n=t.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function fe(t){var n=t.alternate!==null&&t.alternate.child===t.child,s=0,l=0;if(n)for(var c=t.child;c!==null;)s|=c.lanes|c.childLanes,l|=c.subtreeFlags&65011712,l|=c.flags&65011712,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)s|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=l,t.childLanes=s,n}function fb(t,n,s){var l=n.pendingProps;switch(Zc(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return fe(n),null;case 1:return fe(n),null;case 3:return s=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Xi(Ie),mt(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(rr(n)?Wi(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,$c())),fe(n),null;case 26:var c=n.type,f=n.memoizedState;return t===null?(Wi(n),f!==null?(fe(n),Qg(n,f)):(fe(n),qh(n,c,null,l,s))):f?f!==t.memoizedState?(Wi(n),fe(n),Qg(n,f)):(fe(n),n.flags&=-16777217):(t=t.memoizedProps,t!==l&&Wi(n),fe(n),qh(n,c,t,l,s)),null;case 27:if(rn(n),s=rt.current,c=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Wi(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return fe(n),null}t=gt.current,rr(n)?Am(n):(t=Wp(c,l,s),n.stateNode=t,Wi(n))}return fe(n),null;case 5:if(rn(n),c=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Wi(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return fe(n),null}if(f=gt.current,rr(n))Am(n);else{var p=Ou(rt.current);switch(f){case 1:f=p.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:f=p.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":f=p.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":f=p.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":f=p.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?p.createElement("select",{is:l.is}):p.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?p.createElement(c,{is:l.is}):p.createElement(c)}}f[Re]=n,f[Qe]=l;t:for(p=n.child;p!==null;){if(p.tag===5||p.tag===6)f.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===n)break t;for(;p.sibling===null;){if(p.return===null||p.return===n)break t;p=p.return}p.sibling.return=p.return,p=p.sibling}n.stateNode=f;t:switch(en(f,c,l),c){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&Wi(n)}}return fe(n),qh(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,s),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&Wi(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(r(166));if(t=rt.current,rr(n)){if(t=n.stateNode,s=n.memoizedProps,l=null,c=$e,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}t[Re]=n,t=!!(t.nodeValue===s||l!==null&&l.suppressHydrationWarning===!0||qp(t.nodeValue,s)),t||Ss(n,!0)}else t=Ou(t).createTextNode(l),t[Re]=n,n.stateNode=t}return fe(n),null;case 31:if(s=n.memoizedState,t===null||t.memoizedState!==null){if(l=rr(n),s!==null){if(t===null){if(!l)throw Error(r(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(557));t[Re]=n}else Ea(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;fe(n),t=!1}else s=$c(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=s),t=!0;if(!t)return n.flags&256?(jn(n),n):(jn(n),null);if((n.flags&128)!==0)throw Error(r(558))}return fe(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=rr(n),l!==null&&l.dehydrated!==null){if(t===null){if(!c)throw Error(r(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(r(317));c[Re]=n}else Ea(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;fe(n),c=!1}else c=$c(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(jn(n),n):(jn(n),null)}return jn(n),(n.flags&128)!==0?(n.lanes=s,n):(s=l!==null,t=t!==null&&t.memoizedState!==null,s&&(l=n.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==c&&(l.flags|=2048)),s!==t&&s&&(n.child.flags|=8192),vu(n,n.updateQueue),fe(n),null);case 4:return mt(),t===null&&hf(n.stateNode.containerInfo),fe(n),null;case 10:return Xi(n.type),fe(n),null;case 19:if($(Ae),l=n.memoizedState,l===null)return fe(n),null;if(c=(n.flags&128)!==0,f=l.rendering,f===null)if(c)Cl(l,!1);else{if(Te!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=au(t),f!==null){for(n.flags|=128,Cl(l,!1),t=f.updateQueue,n.updateQueue=t,vu(n,t),n.subtreeFlags=0,t=s,s=n.child;s!==null;)bm(s,t),s=s.sibling;return ut(Ae,Ae.current&1|2),Qt&&Yi(n,l.treeForkCount),n.child}t=t.sibling}l.tail!==null&&Fe()>xu&&(n.flags|=128,c=!0,Cl(l,!1),n.lanes=4194304)}else{if(!c)if(t=au(f),t!==null){if(n.flags|=128,c=!0,t=t.updateQueue,n.updateQueue=t,vu(n,t),Cl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!Qt)return fe(n),null}else 2*Fe()-l.renderingStartTime>xu&&s!==536870912&&(n.flags|=128,c=!0,Cl(l,!1),n.lanes=4194304);l.isBackwards?(f.sibling=n.child,n.child=f):(t=l.last,t!==null?t.sibling=f:n.child=f,l.last=f)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=Fe(),t.sibling=null,s=Ae.current,ut(Ae,c?s&1|2:s&1),Qt&&Yi(n,l.treeForkCount),t):(fe(n),null);case 22:case 23:return jn(n),hh(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(s&536870912)!==0&&(n.flags&128)===0&&(fe(n),n.subtreeFlags&6&&(n.flags|=8192)):fe(n),s=n.updateQueue,s!==null&&vu(n,s.retryQueue),s=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==s&&(n.flags|=2048),t!==null&&$(Sa),null;case 24:return s=null,t!==null&&(s=t.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),Xi(Ie),fe(n),null;case 25:return null;case 30:return null}throw Error(r(156,n.tag))}function db(t,n){switch(Zc(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Xi(Ie),mt(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return rn(n),null;case 31:if(n.memoizedState!==null){if(jn(n),n.alternate===null)throw Error(r(340));Ea()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(jn(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(r(340));Ea()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return $(Ae),null;case 4:return mt(),null;case 10:return Xi(n.type),null;case 22:case 23:return jn(n),hh(),t!==null&&$(Sa),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Xi(Ie),null;case 25:return null;default:return null}}function Yg(t,n){switch(Zc(n),n.tag){case 3:Xi(Ie),mt();break;case 26:case 27:case 5:rn(n);break;case 4:mt();break;case 31:n.memoizedState!==null&&jn(n);break;case 13:jn(n);break;case 19:$(Ae);break;case 10:Xi(n.type);break;case 22:case 23:jn(n),hh(),t!==null&&$(Sa);break;case 24:Xi(Ie)}}function Rl(t,n){try{var s=n.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var c=l.next;s=c;do{if((s.tag&t)===t){l=void 0;var f=s.create,p=s.inst;l=f(),p.destroy=l}s=s.next}while(s!==c)}}catch(E){ie(n,n.return,E)}}function Is(t,n,s){try{var l=n.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var f=c.next;l=f;do{if((l.tag&t)===t){var p=l.inst,E=p.destroy;if(E!==void 0){p.destroy=void 0,c=n;var D=s,q=E;try{q()}catch(J){ie(c,D,J)}}}l=l.next}while(l!==f)}}catch(J){ie(n,n.return,J)}}function Kg(t){var n=t.updateQueue;if(n!==null){var s=t.stateNode;try{zm(n,s)}catch(l){ie(t,t.return,l)}}}function Xg(t,n,s){s.props=Na(t.type,t.memoizedProps),s.state=t.memoizedState;try{s.componentWillUnmount()}catch(l){ie(t,n,l)}}function Nl(t,n){try{var s=t.ref;if(s!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof s=="function"?t.refCleanup=s(l):s.current=l}}catch(c){ie(t,n,c)}}function Ii(t,n){var s=t.ref,l=t.refCleanup;if(s!==null)if(typeof l=="function")try{l()}catch(c){ie(t,n,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(c){ie(t,n,c)}else s.current=null}function Zg(t){var n=t.type,s=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&l.focus();break t;case"img":s.src?l.src=s.src:s.srcSet&&(l.srcset=s.srcSet)}}catch(c){ie(t,t.return,c)}}function Hh(t,n,s){try{var l=t.stateNode;jb(l,t.type,s,n),l[Qe]=n}catch(c){ie(t,t.return,c)}}function Jg(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&zs(t.type)||t.tag===4}function Fh(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||Jg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&zs(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Gh(t,n,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(t,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(t),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=si));else if(l!==4&&(l===27&&zs(t.type)&&(s=t.stateNode,n=null),t=t.child,t!==null))for(Gh(t,n,s),t=t.sibling;t!==null;)Gh(t,n,s),t=t.sibling}function _u(t,n,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?s.insertBefore(t,n):s.appendChild(t);else if(l!==4&&(l===27&&zs(t.type)&&(s=t.stateNode),t=t.child,t!==null))for(_u(t,n,s),t=t.sibling;t!==null;)_u(t,n,s),t=t.sibling}function $g(t){var n=t.stateNode,s=t.memoizedProps;try{for(var l=t.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);en(n,l,s),n[Re]=t,n[Qe]=s}catch(f){ie(t,t.return,f)}}var ts=!1,Me=!1,Qh=!1,Wg=typeof WeakSet=="function"?WeakSet:Set,Ke=null;function mb(t,n){if(t=t.containerInfo,mf=Bu,t=hm(t),Uc(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else t:{s=(s=t.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var c=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break t}var p=0,E=-1,D=-1,q=0,J=0,nt=t,H=null;e:for(;;){for(var K;nt!==s||c!==0&&nt.nodeType!==3||(E=p+c),nt!==f||l!==0&&nt.nodeType!==3||(D=p+l),nt.nodeType===3&&(p+=nt.nodeValue.length),(K=nt.firstChild)!==null;)H=nt,nt=K;for(;;){if(nt===t)break e;if(H===s&&++q===c&&(E=p),H===f&&++J===l&&(D=p),(K=nt.nextSibling)!==null)break;nt=H,H=nt.parentNode}nt=K}s=E===-1||D===-1?null:{start:E,end:D}}else s=null}s=s||{start:0,end:0}}else s=null;for(gf={focusedElem:t,selectionRange:s},Bu=!1,Ke=n;Ke!==null;)if(n=Ke,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,Ke=t;else for(;Ke!==null;){switch(n=Ke,f=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(s=0;s<t.length;s++)c=t[s],c.ref.impl=c.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,s=n,c=f.memoizedProps,f=f.memoizedState,l=s.stateNode;try{var _t=Na(s.type,c);t=l.getSnapshotBeforeUpdate(_t,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(Nt){ie(s,s.return,Nt)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,s=t.nodeType,s===9)vf(t);else if(s===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":vf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=n.sibling,t!==null){t.return=n.return,Ke=t;break}Ke=n.return}}function tp(t,n,s){var l=s.flags;switch(s.tag){case 0:case 11:case 15:ns(t,s),l&4&&Rl(5,s);break;case 1:if(ns(t,s),l&4)if(t=s.stateNode,n===null)try{t.componentDidMount()}catch(p){ie(s,s.return,p)}else{var c=Na(s.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(c,n,t.__reactInternalSnapshotBeforeUpdate)}catch(p){ie(s,s.return,p)}}l&64&&Kg(s),l&512&&Nl(s,s.return);break;case 3:if(ns(t,s),l&64&&(t=s.updateQueue,t!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{zm(t,n)}catch(p){ie(s,s.return,p)}}break;case 27:n===null&&l&4&&$g(s);case 26:case 5:ns(t,s),n===null&&l&4&&Zg(s),l&512&&Nl(s,s.return);break;case 12:ns(t,s);break;case 31:ns(t,s),l&4&&ip(t,s);break;case 13:ns(t,s),l&4&&sp(t,s),l&64&&(t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(s=xb.bind(null,s),Hb(t,s))));break;case 22:if(l=s.memoizedState!==null||ts,!l){n=n!==null&&n.memoizedState!==null||Me,c=ts;var f=Me;ts=l,(Me=n)&&!f?is(t,s,(s.subtreeFlags&8772)!==0):ns(t,s),ts=c,Me=f}break;case 30:break;default:ns(t,s)}}function ep(t){var n=t.alternate;n!==null&&(t.alternate=null,ep(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Ha(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var pe=null,bn=!1;function es(t,n,s){for(s=s.child;s!==null;)np(t,n,s),s=s.sibling}function np(t,n,s){if(ce&&typeof ce.onCommitFiberUnmount=="function")try{ce.onCommitFiberUnmount(ln,s)}catch{}switch(s.tag){case 26:Me||Ii(s,n),es(t,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Me||Ii(s,n);var l=pe,c=bn;zs(s.type)&&(pe=s.stateNode,bn=!1),es(t,n,s),zl(s.stateNode),pe=l,bn=c;break;case 5:Me||Ii(s,n);case 6:if(l=pe,c=bn,pe=null,es(t,n,s),pe=l,bn=c,pe!==null)if(bn)try{(pe.nodeType===9?pe.body:pe.nodeName==="HTML"?pe.ownerDocument.body:pe).removeChild(s.stateNode)}catch(f){ie(s,n,f)}else try{pe.removeChild(s.stateNode)}catch(f){ie(s,n,f)}break;case 18:pe!==null&&(bn?(t=pe,Kp(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,s.stateNode),Cr(t)):Kp(pe,s.stateNode));break;case 4:l=pe,c=bn,pe=s.stateNode.containerInfo,bn=!0,es(t,n,s),pe=l,bn=c;break;case 0:case 11:case 14:case 15:Is(2,s,n),Me||Is(4,s,n),es(t,n,s);break;case 1:Me||(Ii(s,n),l=s.stateNode,typeof l.componentWillUnmount=="function"&&Xg(s,n,l)),es(t,n,s);break;case 21:es(t,n,s);break;case 22:Me=(l=Me)||s.memoizedState!==null,es(t,n,s),Me=l;break;default:es(t,n,s)}}function ip(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Cr(t)}catch(s){ie(n,n.return,s)}}}function sp(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Cr(t)}catch(s){ie(n,n.return,s)}}function gb(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new Wg),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new Wg),n;default:throw Error(r(435,t.tag))}}function bu(t,n){var s=gb(t);n.forEach(function(l){if(!s.has(l)){s.add(l);var c=Sb.bind(null,t,l);l.then(c,c)}})}function En(t,n){var s=n.deletions;if(s!==null)for(var l=0;l<s.length;l++){var c=s[l],f=t,p=n,E=p;t:for(;E!==null;){switch(E.tag){case 27:if(zs(E.type)){pe=E.stateNode,bn=!1;break t}break;case 5:pe=E.stateNode,bn=!1;break t;case 3:case 4:pe=E.stateNode.containerInfo,bn=!0;break t}E=E.return}if(pe===null)throw Error(r(160));np(f,p,c),pe=null,bn=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)ap(n,t),n=n.sibling}var ci=null;function ap(t,n){var s=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:En(n,t),Tn(t),l&4&&(Is(3,t,t.return),Rl(3,t),Is(5,t,t.return));break;case 1:En(n,t),Tn(t),l&512&&(Me||s===null||Ii(s,s.return)),l&64&&ts&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(s=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=s===null?l:s.concat(l))));break;case 26:var c=ci;if(En(n,t),Tn(t),l&512&&(Me||s===null||Ii(s,s.return)),l&4){var f=s!==null?s.memoizedState:null;if(l=t.memoizedState,s===null)if(l===null)if(t.stateNode===null){t:{l=t.type,s=t.memoizedProps,c=c.ownerDocument||c;e:switch(l){case"title":f=c.getElementsByTagName("title")[0],(!f||f[yi]||f[Re]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(l),c.head.insertBefore(f,c.querySelector("head > title"))),en(f,l,s),f[Re]=t,Ne(f),l=f;break t;case"link":var p=ay("link","href",c).get(l+(s.href||""));if(p){for(var E=0;E<p.length;E++)if(f=p[E],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){p.splice(E,1);break e}}f=c.createElement(l),en(f,l,s),c.head.appendChild(f);break;case"meta":if(p=ay("meta","content",c).get(l+(s.content||""))){for(E=0;E<p.length;E++)if(f=p[E],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){p.splice(E,1);break e}}f=c.createElement(l),en(f,l,s),c.head.appendChild(f);break;default:throw Error(r(468,l))}f[Re]=t,Ne(f),l=f}t.stateNode=l}else ry(c,t.type,t.stateNode);else t.stateNode=sy(c,l,t.memoizedProps);else f!==l?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,l===null?ry(c,t.type,t.stateNode):sy(c,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Hh(t,t.memoizedProps,s.memoizedProps)}break;case 27:En(n,t),Tn(t),l&512&&(Me||s===null||Ii(s,s.return)),s!==null&&l&4&&Hh(t,t.memoizedProps,s.memoizedProps);break;case 5:if(En(n,t),Tn(t),l&512&&(Me||s===null||Ii(s,s.return)),t.flags&32){c=t.stateNode;try{_n(c,"")}catch(_t){ie(t,t.return,_t)}}l&4&&t.stateNode!=null&&(c=t.memoizedProps,Hh(t,c,s!==null?s.memoizedProps:c)),l&1024&&(Qh=!0);break;case 6:if(En(n,t),Tn(t),l&4){if(t.stateNode===null)throw Error(r(162));l=t.memoizedProps,s=t.stateNode;try{s.nodeValue=l}catch(_t){ie(t,t.return,_t)}}break;case 3:if(Lu=null,c=ci,ci=Mu(n.containerInfo),En(n,t),ci=c,Tn(t),l&4&&s!==null&&s.memoizedState.isDehydrated)try{Cr(n.containerInfo)}catch(_t){ie(t,t.return,_t)}Qh&&(Qh=!1,rp(t));break;case 4:l=ci,ci=Mu(t.stateNode.containerInfo),En(n,t),Tn(t),ci=l;break;case 12:En(n,t),Tn(t);break;case 31:En(n,t),Tn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,bu(t,l)));break;case 13:En(n,t),Tn(t),t.child.flags&8192&&t.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Tu=Fe()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,bu(t,l)));break;case 22:c=t.memoizedState!==null;var D=s!==null&&s.memoizedState!==null,q=ts,J=Me;if(ts=q||c,Me=J||D,En(n,t),Me=J,ts=q,Tn(t),l&8192)t:for(n=t.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(s===null||D||ts||Me||Da(t)),s=null,n=t;;){if(n.tag===5||n.tag===26){if(s===null){D=s=n;try{if(f=D.stateNode,c)p=f.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{E=D.stateNode;var nt=D.memoizedProps.style,H=nt!=null&&nt.hasOwnProperty("display")?nt.display:null;E.style.display=H==null||typeof H=="boolean"?"":(""+H).trim()}}catch(_t){ie(D,D.return,_t)}}}else if(n.tag===6){if(s===null){D=n;try{D.stateNode.nodeValue=c?"":D.memoizedProps}catch(_t){ie(D,D.return,_t)}}}else if(n.tag===18){if(s===null){D=n;try{var K=D.stateNode;c?Xp(K,!0):Xp(D.stateNode,!1)}catch(_t){ie(D,D.return,_t)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(s=l.retryQueue,s!==null&&(l.retryQueue=null,bu(t,s))));break;case 19:En(n,t),Tn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,bu(t,l)));break;case 30:break;case 21:break;default:En(n,t),Tn(t)}}function Tn(t){var n=t.flags;if(n&2){try{for(var s,l=t.return;l!==null;){if(Jg(l)){s=l;break}l=l.return}if(s==null)throw Error(r(160));switch(s.tag){case 27:var c=s.stateNode,f=Fh(t);_u(t,f,c);break;case 5:var p=s.stateNode;s.flags&32&&(_n(p,""),s.flags&=-33);var E=Fh(t);_u(t,E,p);break;case 3:case 4:var D=s.stateNode.containerInfo,q=Fh(t);Gh(t,q,D);break;default:throw Error(r(161))}}catch(J){ie(t,t.return,J)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function rp(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;rp(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function ns(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)tp(t,n.alternate,n),n=n.sibling}function Da(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Is(4,n,n.return),Da(n);break;case 1:Ii(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&Xg(n,n.return,s),Da(n);break;case 27:zl(n.stateNode);case 26:case 5:Ii(n,n.return),Da(n);break;case 22:n.memoizedState===null&&Da(n);break;case 30:Da(n);break;default:Da(n)}t=t.sibling}}function is(t,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,c=t,f=n,p=f.flags;switch(f.tag){case 0:case 11:case 15:is(c,f,s),Rl(4,f);break;case 1:if(is(c,f,s),l=f,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(q){ie(l,l.return,q)}if(l=f,c=l.updateQueue,c!==null){var E=l.stateNode;try{var D=c.shared.hiddenCallbacks;if(D!==null)for(c.shared.hiddenCallbacks=null,c=0;c<D.length;c++)km(D[c],E)}catch(q){ie(l,l.return,q)}}s&&p&64&&Kg(f),Nl(f,f.return);break;case 27:$g(f);case 26:case 5:is(c,f,s),s&&l===null&&p&4&&Zg(f),Nl(f,f.return);break;case 12:is(c,f,s);break;case 31:is(c,f,s),s&&p&4&&ip(c,f);break;case 13:is(c,f,s),s&&p&4&&sp(c,f);break;case 22:f.memoizedState===null&&is(c,f,s),Nl(f,f.return);break;case 30:break;default:is(c,f,s)}n=n.sibling}}function Yh(t,n){var s=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==s&&(t!=null&&t.refCount++,s!=null&&gl(s))}function Kh(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&gl(t))}function hi(t,n,s,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)lp(t,n,s,l),n=n.sibling}function lp(t,n,s,l){var c=n.flags;switch(n.tag){case 0:case 11:case 15:hi(t,n,s,l),c&2048&&Rl(9,n);break;case 1:hi(t,n,s,l);break;case 3:hi(t,n,s,l),c&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&gl(t)));break;case 12:if(c&2048){hi(t,n,s,l),t=n.stateNode;try{var f=n.memoizedProps,p=f.id,E=f.onPostCommit;typeof E=="function"&&E(p,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(D){ie(n,n.return,D)}}else hi(t,n,s,l);break;case 31:hi(t,n,s,l);break;case 13:hi(t,n,s,l);break;case 23:break;case 22:f=n.stateNode,p=n.alternate,n.memoizedState!==null?f._visibility&2?hi(t,n,s,l):Dl(t,n):f._visibility&2?hi(t,n,s,l):(f._visibility|=2,pr(t,n,s,l,(n.subtreeFlags&10256)!==0||!1)),c&2048&&Yh(p,n);break;case 24:hi(t,n,s,l),c&2048&&Kh(n.alternate,n);break;default:hi(t,n,s,l)}}function pr(t,n,s,l,c){for(c=c&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=t,p=n,E=s,D=l,q=p.flags;switch(p.tag){case 0:case 11:case 15:pr(f,p,E,D,c),Rl(8,p);break;case 23:break;case 22:var J=p.stateNode;p.memoizedState!==null?J._visibility&2?pr(f,p,E,D,c):Dl(f,p):(J._visibility|=2,pr(f,p,E,D,c)),c&&q&2048&&Yh(p.alternate,p);break;case 24:pr(f,p,E,D,c),c&&q&2048&&Kh(p.alternate,p);break;default:pr(f,p,E,D,c)}n=n.sibling}}function Dl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=t,l=n,c=l.flags;switch(l.tag){case 22:Dl(s,l),c&2048&&Yh(l.alternate,l);break;case 24:Dl(s,l),c&2048&&Kh(l.alternate,l);break;default:Dl(s,l)}n=n.sibling}}var Il=8192;function yr(t,n,s){if(t.subtreeFlags&Il)for(t=t.child;t!==null;)op(t,n,s),t=t.sibling}function op(t,n,s){switch(t.tag){case 26:yr(t,n,s),t.flags&Il&&t.memoizedState!==null&&eE(s,ci,t.memoizedState,t.memoizedProps);break;case 5:yr(t,n,s);break;case 3:case 4:var l=ci;ci=Mu(t.stateNode.containerInfo),yr(t,n,s),ci=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=Il,Il=16777216,yr(t,n,s),Il=l):yr(t,n,s));break;default:yr(t,n,s)}}function up(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function Vl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];Ke=l,hp(l,t)}up(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)cp(t),t=t.sibling}function cp(t){switch(t.tag){case 0:case 11:case 15:Vl(t),t.flags&2048&&Is(9,t,t.return);break;case 3:Vl(t);break;case 12:Vl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,Eu(t)):Vl(t);break;default:Vl(t)}}function Eu(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];Ke=l,hp(l,t)}up(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Is(8,n,n.return),Eu(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,Eu(n));break;default:Eu(n)}t=t.sibling}}function hp(t,n){for(;Ke!==null;){var s=Ke;switch(s.tag){case 0:case 11:case 15:Is(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var l=s.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:gl(s.memoizedState.cache)}if(l=s.child,l!==null)l.return=s,Ke=l;else t:for(s=t;Ke!==null;){l=Ke;var c=l.sibling,f=l.return;if(ep(l),l===s){Ke=null;break t}if(c!==null){c.return=f,Ke=c;break t}Ke=f}}}var pb={getCacheForType:function(t){var n=We(Ie),s=n.data.get(t);return s===void 0&&(s=t(),n.data.set(t,s)),s},cacheSignal:function(){return We(Ie).controller.signal}},yb=typeof WeakMap=="function"?WeakMap:Map,$t=0,oe=null,Ut=null,qt=0,ne=0,Ln=null,Vs=!1,vr=!1,Xh=!1,ss=0,Te=0,Os=0,Ia=0,Zh=0,kn=0,_r=0,Ol=null,xn=null,Jh=!1,Tu=0,fp=0,xu=1/0,Su=null,Ms=null,Ue=0,js=null,br=null,as=0,$h=0,Wh=null,dp=null,Ml=0,tf=null;function zn(){return($t&2)!==0&&qt!==0?qt&-qt:X.T!==null?lf():Ao()}function mp(){if(kn===0)if((qt&536870912)===0||Qt){var t=gi;gi<<=1,(gi&3932160)===0&&(gi=262144),kn=t}else kn=536870912;return t=Mn.current,t!==null&&(t.flags|=32),kn}function Sn(t,n,s){(t===oe&&(ne===2||ne===9)||t.cancelPendingCommit!==null)&&(Er(t,0),Ls(t,qt,kn,!1)),Ge(t,s),(($t&2)===0||t!==oe)&&(t===oe&&(($t&2)===0&&(Ia|=s),Te===4&&Ls(t,qt,kn,!1)),Vi(t))}function gp(t,n,s){if(($t&6)!==0)throw Error(r(327));var l=!s&&(n&127)===0&&(n&t.expiredLanes)===0||pn(t,n),c=l?bb(t,n):nf(t,n,!0),f=l;do{if(c===0){vr&&!l&&Ls(t,n,0,!1);break}else{if(s=t.current.alternate,f&&!vb(s)){c=nf(t,n,!1),f=!1;continue}if(c===2){if(f=n,t.errorRecoveryDisabledLanes&f)var p=0;else p=t.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){n=p;t:{var E=t;c=Ol;var D=E.current.memoizedState.isDehydrated;if(D&&(Er(E,p).flags|=256),p=nf(E,p,!1),p!==2){if(Xh&&!D){E.errorRecoveryDisabledLanes|=f,Ia|=f,c=4;break t}f=xn,xn=c,f!==null&&(xn===null?xn=f:xn.push.apply(xn,f))}c=p}if(f=!1,c!==2)continue}}if(c===1){Er(t,0),Ls(t,n,0,!0);break}t:{switch(l=t,f=c,f){case 0:case 1:throw Error(r(345));case 4:if((n&4194048)!==n)break;case 6:Ls(l,n,kn,!Vs);break t;case 2:xn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((n&62914560)===n&&(c=Tu+300-Fe(),10<c)){if(Ls(l,n,kn,!Vs),Rn(l,0,!0)!==0)break t;as=n,l.timeoutHandle=Qp(pp.bind(null,l,s,xn,Su,Jh,n,kn,Ia,_r,Vs,f,"Throttled",-0,0),c);break t}pp(l,s,xn,Su,Jh,n,kn,Ia,_r,Vs,f,null,-0,0)}}break}while(!0);Vi(t)}function pp(t,n,s,l,c,f,p,E,D,q,J,nt,H,K){if(t.timeoutHandle=-1,nt=n.subtreeFlags,nt&8192||(nt&16785408)===16785408){nt={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:si},op(n,f,nt);var _t=(f&62914560)===f?Tu-Fe():(f&4194048)===f?fp-Fe():0;if(_t=nE(nt,_t),_t!==null){as=f,t.cancelPendingCommit=_t(Sp.bind(null,t,n,f,s,l,c,p,E,D,J,nt,null,H,K)),Ls(t,f,p,!q);return}}Sp(t,n,f,s,l,c,p,E,D)}function vb(t){for(var n=t;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var l=0;l<s.length;l++){var c=s[l],f=c.getSnapshot;c=c.value;try{if(!Vn(f(),c))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Ls(t,n,s,l){n&=~Zh,n&=~Ia,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var c=n;0<c;){var f=31-me(c),p=1<<f;l[f]=-1,c&=~p}s!==0&&Wt(t,s,n)}function Au(){return($t&6)===0?(jl(0),!1):!0}function ef(){if(Ut!==null){if(ne===0)var t=Ut.return;else t=Ut,Ki=Ta=null,yh(t),hr=null,yl=0,t=Ut;for(;t!==null;)Yg(t.alternate,t),t=t.return;Ut=null}}function Er(t,n){var s=t.timeoutHandle;s!==-1&&(t.timeoutHandle=-1,zb(s)),s=t.cancelPendingCommit,s!==null&&(t.cancelPendingCommit=null,s()),as=0,ef(),oe=t,Ut=s=Qi(t.current,null),qt=n,ne=0,Ln=null,Vs=!1,vr=pn(t,n),Xh=!1,_r=kn=Zh=Ia=Os=Te=0,xn=Ol=null,Jh=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var c=31-me(l),f=1<<c;n|=t[c],l&=~f}return ss=n,Qo(),s}function yp(t,n){Lt=null,X.H=Al,n===cr||n===tu?(n=Om(),ne=3):n===ah?(n=Om(),ne=4):ne=n===Oh?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Ln=n,Ut===null&&(Te=1,mu(t,Qn(n,t.current)))}function vp(){var t=Mn.current;return t===null?!0:(qt&4194048)===qt?Zn===null:(qt&62914560)===qt||(qt&536870912)!==0?t===Zn:!1}function _p(){var t=X.H;return X.H=Al,t===null?Al:t}function bp(){var t=X.A;return X.A=pb,t}function wu(){Te=4,Vs||(qt&4194048)!==qt&&Mn.current!==null||(vr=!0),(Os&134217727)===0&&(Ia&134217727)===0||oe===null||Ls(oe,qt,kn,!1)}function nf(t,n,s){var l=$t;$t|=2;var c=_p(),f=bp();(oe!==t||qt!==n)&&(Su=null,Er(t,n)),n=!1;var p=Te;t:do try{if(ne!==0&&Ut!==null){var E=Ut,D=Ln;switch(ne){case 8:ef(),p=6;break t;case 3:case 2:case 9:case 6:Mn.current===null&&(n=!0);var q=ne;if(ne=0,Ln=null,Tr(t,E,D,q),s&&vr){p=0;break t}break;default:q=ne,ne=0,Ln=null,Tr(t,E,D,q)}}_b(),p=Te;break}catch(J){yp(t,J)}while(!0);return n&&t.shellSuspendCounter++,Ki=Ta=null,$t=l,X.H=c,X.A=f,Ut===null&&(oe=null,qt=0,Qo()),p}function _b(){for(;Ut!==null;)Ep(Ut)}function bb(t,n){var s=$t;$t|=2;var l=_p(),c=bp();oe!==t||qt!==n?(Su=null,xu=Fe()+500,Er(t,n)):vr=pn(t,n);t:do try{if(ne!==0&&Ut!==null){n=Ut;var f=Ln;e:switch(ne){case 1:ne=0,Ln=null,Tr(t,n,f,1);break;case 2:case 9:if(Im(f)){ne=0,Ln=null,Tp(n);break}n=function(){ne!==2&&ne!==9||oe!==t||(ne=7),Vi(t)},f.then(n,n);break t;case 3:ne=7;break t;case 4:ne=5;break t;case 7:Im(f)?(ne=0,Ln=null,Tp(n)):(ne=0,Ln=null,Tr(t,n,f,7));break;case 5:var p=null;switch(Ut.tag){case 26:p=Ut.memoizedState;case 5:case 27:var E=Ut;if(p?ly(p):E.stateNode.complete){ne=0,Ln=null;var D=E.sibling;if(D!==null)Ut=D;else{var q=E.return;q!==null?(Ut=q,Cu(q)):Ut=null}break e}}ne=0,Ln=null,Tr(t,n,f,5);break;case 6:ne=0,Ln=null,Tr(t,n,f,6);break;case 8:ef(),Te=6;break t;default:throw Error(r(462))}}Eb();break}catch(J){yp(t,J)}while(!0);return Ki=Ta=null,X.H=l,X.A=c,$t=s,Ut!==null?0:(oe=null,qt=0,Qo(),Te)}function Eb(){for(;Ut!==null&&!Bi();)Ep(Ut)}function Ep(t){var n=Gg(t.alternate,t,ss);t.memoizedProps=t.pendingProps,n===null?Cu(t):Ut=n}function Tp(t){var n=t,s=n.alternate;switch(n.tag){case 15:case 0:n=Ug(s,n,n.pendingProps,n.type,void 0,qt);break;case 11:n=Ug(s,n,n.pendingProps,n.type.render,n.ref,qt);break;case 5:yh(n);default:Yg(s,n),n=Ut=bm(n,ss),n=Gg(s,n,ss)}t.memoizedProps=t.pendingProps,n===null?Cu(t):Ut=n}function Tr(t,n,s,l){Ki=Ta=null,yh(n),hr=null,yl=0;var c=n.return;try{if(ub(t,c,n,s,qt)){Te=1,mu(t,Qn(s,t.current)),Ut=null;return}}catch(f){if(c!==null)throw Ut=c,f;Te=1,mu(t,Qn(s,t.current)),Ut=null;return}n.flags&32768?(Qt||l===1?t=!0:vr||(qt&536870912)!==0?t=!1:(Vs=t=!0,(l===2||l===9||l===3||l===6)&&(l=Mn.current,l!==null&&l.tag===13&&(l.flags|=16384))),xp(n,t)):Cu(n)}function Cu(t){var n=t;do{if((n.flags&32768)!==0){xp(n,Vs);return}t=n.return;var s=fb(n.alternate,n,ss);if(s!==null){Ut=s;return}if(n=n.sibling,n!==null){Ut=n;return}Ut=n=t}while(n!==null);Te===0&&(Te=5)}function xp(t,n){do{var s=db(t.alternate,t);if(s!==null){s.flags&=32767,Ut=s;return}if(s=t.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(t=t.sibling,t!==null)){Ut=t;return}Ut=t=s}while(t!==null);Te=6,Ut=null}function Sp(t,n,s,l,c,f,p,E,D){t.cancelPendingCommit=null;do Ru();while(Ue!==0);if(($t&6)!==0)throw Error(r(327));if(n!==null){if(n===t.current)throw Error(r(177));if(f=n.lanes|n.childLanes,f|=Fc,yn(t,s,f,p,E,D),t===oe&&(Ut=oe=null,qt=0),br=n,js=t,as=s,$h=f,Wh=c,dp=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,Ab(It,function(){return Np(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=X.T,X.T=null,c=ht.p,ht.p=2,p=$t,$t|=4;try{mb(t,n,s)}finally{$t=p,ht.p=c,X.T=l}}Ue=1,Ap(),wp(),Cp()}}function Ap(){if(Ue===1){Ue=0;var t=js,n=br,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=X.T,X.T=null;var l=ht.p;ht.p=2;var c=$t;$t|=4;try{ap(n,t);var f=gf,p=hm(t.containerInfo),E=f.focusedElem,D=f.selectionRange;if(p!==E&&E&&E.ownerDocument&&cm(E.ownerDocument.documentElement,E)){if(D!==null&&Uc(E)){var q=D.start,J=D.end;if(J===void 0&&(J=q),"selectionStart"in E)E.selectionStart=q,E.selectionEnd=Math.min(J,E.value.length);else{var nt=E.ownerDocument||document,H=nt&&nt.defaultView||window;if(H.getSelection){var K=H.getSelection(),_t=E.textContent.length,Nt=Math.min(D.start,_t),le=D.end===void 0?Nt:Math.min(D.end,_t);!K.extend&&Nt>le&&(p=le,le=Nt,Nt=p);var z=um(E,Nt),M=um(E,le);if(z&&M&&(K.rangeCount!==1||K.anchorNode!==z.node||K.anchorOffset!==z.offset||K.focusNode!==M.node||K.focusOffset!==M.offset)){var P=nt.createRange();P.setStart(z.node,z.offset),K.removeAllRanges(),Nt>le?(K.addRange(P),K.extend(M.node,M.offset)):(P.setEnd(M.node,M.offset),K.addRange(P))}}}}for(nt=[],K=E;K=K.parentNode;)K.nodeType===1&&nt.push({element:K,left:K.scrollLeft,top:K.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<nt.length;E++){var tt=nt[E];tt.element.scrollLeft=tt.left,tt.element.scrollTop=tt.top}}Bu=!!mf,gf=mf=null}finally{$t=c,ht.p=l,X.T=s}}t.current=n,Ue=2}}function wp(){if(Ue===2){Ue=0;var t=js,n=br,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=X.T,X.T=null;var l=ht.p;ht.p=2;var c=$t;$t|=4;try{tp(t,n.alternate,n)}finally{$t=c,ht.p=l,X.T=s}}Ue=3}}function Cp(){if(Ue===4||Ue===3){Ue=0,sa();var t=js,n=br,s=as,l=dp;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Ue=5:(Ue=0,br=js=null,Rp(t,t.pendingLanes));var c=t.pendingLanes;if(c===0&&(Ms=null),qi(s),n=n.stateNode,ce&&typeof ce.onCommitFiberRoot=="function")try{ce.onCommitFiberRoot(ln,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=X.T,c=ht.p,ht.p=2,X.T=null;try{for(var f=t.onRecoverableError,p=0;p<l.length;p++){var E=l[p];f(E.value,{componentStack:E.stack})}}finally{X.T=n,ht.p=c}}(as&3)!==0&&Ru(),Vi(t),c=t.pendingLanes,(s&261930)!==0&&(c&42)!==0?t===tf?Ml++:(Ml=0,tf=t):Ml=0,jl(0)}}function Rp(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,gl(n)))}function Ru(){return Ap(),wp(),Cp(),Np()}function Np(){if(Ue!==5)return!1;var t=js,n=$h;$h=0;var s=qi(as),l=X.T,c=ht.p;try{ht.p=32>s?32:s,X.T=null,s=Wh,Wh=null;var f=js,p=as;if(Ue=0,br=js=null,as=0,($t&6)!==0)throw Error(r(331));var E=$t;if($t|=4,cp(f.current),lp(f,f.current,p,s),$t=E,jl(0,!1),ce&&typeof ce.onPostCommitFiberRoot=="function")try{ce.onPostCommitFiberRoot(ln,f)}catch{}return!0}finally{ht.p=c,X.T=l,Rp(t,n)}}function Dp(t,n,s){n=Qn(s,n),n=Vh(t.stateNode,n,2),t=Rs(t,n,2),t!==null&&(Ge(t,2),Vi(t))}function ie(t,n,s){if(t.tag===3)Dp(t,t,s);else for(;n!==null;){if(n.tag===3){Dp(n,t,s);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Ms===null||!Ms.has(l))){t=Qn(s,t),s=Ig(2),l=Rs(n,s,2),l!==null&&(Vg(s,l,n,t),Ge(l,2),Vi(l));break}}n=n.return}}function sf(t,n,s){var l=t.pingCache;if(l===null){l=t.pingCache=new yb;var c=new Set;l.set(n,c)}else c=l.get(n),c===void 0&&(c=new Set,l.set(n,c));c.has(s)||(Xh=!0,c.add(s),t=Tb.bind(null,t,n,s),n.then(t,t))}function Tb(t,n,s){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&s,t.warmLanes&=~s,oe===t&&(qt&s)===s&&(Te===4||Te===3&&(qt&62914560)===qt&&300>Fe()-Tu?($t&2)===0&&Er(t,0):Zh|=s,_r===qt&&(_r=0)),Vi(t)}function Ip(t,n){n===0&&(n=la()),t=_a(t,n),t!==null&&(Ge(t,n),Vi(t))}function xb(t){var n=t.memoizedState,s=0;n!==null&&(s=n.retryLane),Ip(t,s)}function Sb(t,n){var s=0;switch(t.tag){case 31:case 13:var l=t.stateNode,c=t.memoizedState;c!==null&&(s=c.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(n),Ip(t,s)}function Ab(t,n){return xe(t,n)}var Nu=null,xr=null,af=!1,Du=!1,rf=!1,ks=0;function Vi(t){t!==xr&&t.next===null&&(xr===null?Nu=xr=t:xr=xr.next=t),Du=!0,af||(af=!0,Cb())}function jl(t,n){if(!rf&&Du){rf=!0;do for(var s=!1,l=Nu;l!==null;){if(t!==0){var c=l.pendingLanes;if(c===0)var f=0;else{var p=l.suspendedLanes,E=l.pingedLanes;f=(1<<31-me(42|t)+1)-1,f&=c&~(p&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,jp(l,f))}else f=qt,f=Rn(l,l===oe?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||pn(l,f)||(s=!0,jp(l,f));l=l.next}while(s);rf=!1}}function wb(){Vp()}function Vp(){Du=af=!1;var t=0;ks!==0&&kb()&&(t=ks);for(var n=Fe(),s=null,l=Nu;l!==null;){var c=l.next,f=Op(l,n);f===0?(l.next=null,s===null?Nu=c:s.next=c,c===null&&(xr=s)):(s=l,(t!==0||(f&3)!==0)&&(Du=!0)),l=c}Ue!==0&&Ue!==5||jl(t),ks!==0&&(ks=0)}function Op(t,n){for(var s=t.suspendedLanes,l=t.pingedLanes,c=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var p=31-me(f),E=1<<p,D=c[p];D===-1?((E&s)===0||(E&l)!==0)&&(c[p]=Pa(E,n)):D<=n&&(t.expiredLanes|=E),f&=~E}if(n=oe,s=qt,s=Rn(t,t===n?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,s===0||t===n&&(ne===2||ne===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&mi(l),t.callbackNode=null,t.callbackPriority=0;if((s&3)===0||pn(t,s)){if(n=s&-s,n===t.callbackPriority)return n;switch(l!==null&&mi(l),qi(s)){case 2:case 8:s=ot;break;case 32:s=It;break;case 268435456:s=ke;break;default:s=It}return l=Mp.bind(null,t),s=xe(s,l),t.callbackPriority=n,t.callbackNode=s,n}return l!==null&&l!==null&&mi(l),t.callbackPriority=2,t.callbackNode=null,2}function Mp(t,n){if(Ue!==0&&Ue!==5)return t.callbackNode=null,t.callbackPriority=0,null;var s=t.callbackNode;if(Ru()&&t.callbackNode!==s)return null;var l=qt;return l=Rn(t,t===oe?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(gp(t,l,n),Op(t,Fe()),t.callbackNode!=null&&t.callbackNode===s?Mp.bind(null,t):null)}function jp(t,n){if(Ru())return null;gp(t,n,!0)}function Cb(){Ub(function(){($t&6)!==0?xe(W,wb):Vp()})}function lf(){if(ks===0){var t=or;t===0&&(t=wn,wn<<=1,(wn&261888)===0&&(wn=256)),ks=t}return ks}function Lp(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Ya(""+t)}function kp(t,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,t.id&&s.setAttribute("form",t.id),n.parentNode.insertBefore(s,n),t=new FormData(t),s.parentNode.removeChild(s),t}function Rb(t,n,s,l,c){if(n==="submit"&&s&&s.stateNode===c){var f=Lp((c[Qe]||null).action),p=l.submitter;p&&(n=(n=p[Qe]||null)?Lp(n.formAction):p.getAttribute("formAction"),n!==null&&(f=n,p=null));var E=new Ai("action","action",null,l,c);t.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ks!==0){var D=p?kp(c,p):new FormData(c);wh(s,{pending:!0,data:D,method:c.method,action:f},null,D)}}else typeof f=="function"&&(E.preventDefault(),D=p?kp(c,p):new FormData(c),wh(s,{pending:!0,data:D,method:c.method,action:f},f,D))},currentTarget:c}]})}}for(var of=0;of<Hc.length;of++){var uf=Hc[of],Nb=uf.toLowerCase(),Db=uf[0].toUpperCase()+uf.slice(1);ui(Nb,"on"+Db)}ui(mm,"onAnimationEnd"),ui(gm,"onAnimationIteration"),ui(pm,"onAnimationStart"),ui("dblclick","onDoubleClick"),ui("focusin","onFocus"),ui("focusout","onBlur"),ui(Q_,"onTransitionRun"),ui(Y_,"onTransitionStart"),ui(K_,"onTransitionCancel"),ui(ym,"onTransitionEnd"),Ei("onMouseEnter",["mouseout","mouseover"]),Ei("onMouseLeave",["mouseout","mouseover"]),Ei("onPointerEnter",["pointerout","pointerover"]),Ei("onPointerLeave",["pointerout","pointerover"]),bi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),bi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),bi("onBeforeInput",["compositionend","keypress","textInput","paste"]),bi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),bi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),bi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ll="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ib=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ll));function zp(t,n){n=(n&4)!==0;for(var s=0;s<t.length;s++){var l=t[s],c=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var p=l.length-1;0<=p;p--){var E=l[p],D=E.instance,q=E.currentTarget;if(E=E.listener,D!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=q;try{f(c)}catch(J){Go(J)}c.currentTarget=null,f=D}else for(p=0;p<l.length;p++){if(E=l[p],D=E.instance,q=E.currentTarget,E=E.listener,D!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=q;try{f(c)}catch(J){Go(J)}c.currentTarget=null,f=D}}}}function Bt(t,n){var s=n[qa];s===void 0&&(s=n[qa]=new Set);var l=t+"__bubble";s.has(l)||(Up(n,t,2,!1),s.add(l))}function cf(t,n,s){var l=0;n&&(l|=4),Up(s,t,l,n)}var Iu="_reactListening"+Math.random().toString(36).slice(2);function hf(t){if(!t[Iu]){t[Iu]=!0,Kr.forEach(function(s){s!=="selectionchange"&&(Ib.has(s)||cf(s,!1,t),cf(s,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[Iu]||(n[Iu]=!0,cf("selectionchange",!1,n))}}function Up(t,n,s,l){switch(my(n)){case 2:var c=aE;break;case 8:c=rE;break;default:c=wf}s=c.bind(null,n,s,t),c=void 0,!ha||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),l?c!==void 0?t.addEventListener(n,s,{capture:!0,passive:c}):t.addEventListener(n,s,!0):c!==void 0?t.addEventListener(n,s,{passive:c}):t.addEventListener(n,s,!1)}function ff(t,n,s,l,c){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var p=l.tag;if(p===3||p===4){var E=l.stateNode.containerInfo;if(E===c)break;if(p===4)for(p=l.return;p!==null;){var D=p.tag;if((D===3||D===4)&&p.stateNode.containerInfo===c)return;p=p.return}for(;E!==null;){if(p=vi(E),p===null)return;if(D=p.tag,D===5||D===6||D===26||D===27){l=f=p;continue t}E=E.parentNode}}l=l.return}vs(function(){var q=f,J=qn(s),nt=[];t:{var H=vm.get(t);if(H!==void 0){var K=Ai,_t=t;switch(t){case"keypress":if(da(s)===0)break t;case"keydown":case"keyup":K=qo;break;case"focusin":_t="focus",K=ga;break;case"focusout":_t="blur",K=ga;break;case"beforeblur":case"afterblur":K=ga;break;case"click":if(s.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":K=ll;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":K=Oo;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":K=g;break;case mm:case gm:case pm:K=jo;break;case ym:K=x;break;case"scroll":case"scrollend":K=rl;break;case"wheel":K=Y;break;case"copy":case"cut":case"paste":K=Lo;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":K=Gi;break;case"toggle":case"beforetoggle":K=jt}var Nt=(n&4)!==0,le=!Nt&&(t==="scroll"||t==="scrollend"),z=Nt?H!==null?H+"Capture":null:H;Nt=[];for(var M=q,P;M!==null;){var tt=M;if(P=tt.stateNode,tt=tt.tag,tt!==5&&tt!==26&&tt!==27||P===null||z===null||(tt=ai(M,z),tt!=null&&Nt.push(kl(M,tt,P))),le)break;M=M.return}0<Nt.length&&(H=new K(H,_t,null,s,J),nt.push({event:H,listeners:Nt}))}}if((n&7)===0){t:{if(H=t==="mouseover"||t==="pointerover",K=t==="mouseout"||t==="pointerout",H&&s!==il&&(_t=s.relatedTarget||s.fromElement)&&(vi(_t)||_t[pi]))break t;if((K||H)&&(H=J.window===J?J:(H=J.ownerDocument)?H.defaultView||H.parentWindow:window,K?(_t=s.relatedTarget||s.toElement,K=q,_t=_t?vi(_t):null,_t!==null&&(le=h(_t),Nt=_t.tag,_t!==le||Nt!==5&&Nt!==27&&Nt!==6)&&(_t=null)):(K=null,_t=q),K!==_t)){if(Nt=ll,tt="onMouseLeave",z="onMouseEnter",M="mouse",(t==="pointerout"||t==="pointerover")&&(Nt=Gi,tt="onPointerLeave",z="onPointerEnter",M="pointer"),le=K==null?H:Dn(K),P=_t==null?H:Dn(_t),H=new Nt(tt,M+"leave",K,s,J),H.target=le,H.relatedTarget=P,tt=null,vi(J)===q&&(Nt=new Nt(z,M+"enter",_t,s,J),Nt.target=P,Nt.relatedTarget=le,tt=Nt),le=tt,K&&_t)e:{for(Nt=Vb,z=K,M=_t,P=0,tt=z;tt;tt=Nt(tt))P++;tt=0;for(var wt=M;wt;wt=Nt(wt))tt++;for(;0<P-tt;)z=Nt(z),P--;for(;0<tt-P;)M=Nt(M),tt--;for(;P--;){if(z===M||M!==null&&z===M.alternate){Nt=z;break e}z=Nt(z),M=Nt(M)}Nt=null}else Nt=null;K!==null&&Bp(nt,H,K,Nt,!1),_t!==null&&le!==null&&Bp(nt,le,_t,Nt,!0)}}t:{if(H=q?Dn(q):window,K=H.nodeName&&H.nodeName.toLowerCase(),K==="select"||K==="input"&&H.type==="file")var Xt=im;else if(em(H))if(sm)Xt=H_;else{Xt=P_;var Tt=B_}else K=H.nodeName,!K||K.toLowerCase()!=="input"||H.type!=="checkbox"&&H.type!=="radio"?q&&Qa(q.elementType)&&(Xt=im):Xt=q_;if(Xt&&(Xt=Xt(t,q))){nm(nt,Xt,s,J);break t}Tt&&Tt(t,H,q),t==="focusout"&&q&&H.type==="number"&&q.memoizedProps.value!=null&&tl(H,"number",H.value)}switch(Tt=q?Dn(q):window,t){case"focusin":(em(Tt)||Tt.contentEditable==="true")&&(tr=Tt,Bc=q,fl=null);break;case"focusout":fl=Bc=tr=null;break;case"mousedown":Pc=!0;break;case"contextmenu":case"mouseup":case"dragend":Pc=!1,fm(nt,s,J);break;case"selectionchange":if(G_)break;case"keydown":case"keyup":fm(nt,s,J)}var kt;if(Jt)t:{switch(t){case"compositionstart":var Ht="onCompositionStart";break t;case"compositionend":Ht="onCompositionEnd";break t;case"compositionupdate":Ht="onCompositionUpdate";break t}Ht=void 0}else Wa?pa(t,s)&&(Ht="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(Ht="onCompositionStart");Ht&&(Ri&&s.locale!=="ko"&&(Wa||Ht!=="onCompositionStart"?Ht==="onCompositionEnd"&&Wa&&(kt=al()):(Si=J,sl="value"in Si?Si.value:Si.textContent,Wa=!0)),Tt=Vu(q,Ht),0<Tt.length&&(Ht=new Ci(Ht,t,null,s,J),nt.push({event:Ht,listeners:Tt}),kt?Ht.data=kt:(kt=$a(s),kt!==null&&(Ht.data=kt)))),(kt=Fn?L_(t,s):k_(t,s))&&(Ht=Vu(q,"onBeforeInput"),0<Ht.length&&(Tt=new Ci("onBeforeInput","beforeinput",null,s,J),nt.push({event:Tt,listeners:Ht}),Tt.data=kt)),Rb(nt,t,q,s,J)}zp(nt,n)})}function kl(t,n,s){return{instance:t,listener:n,currentTarget:s}}function Vu(t,n){for(var s=n+"Capture",l=[];t!==null;){var c=t,f=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=ai(t,s),c!=null&&l.unshift(kl(t,c,f)),c=ai(t,n),c!=null&&l.push(kl(t,c,f))),t.tag===3)return l;t=t.return}return[]}function Vb(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Bp(t,n,s,l,c){for(var f=n._reactName,p=[];s!==null&&s!==l;){var E=s,D=E.alternate,q=E.stateNode;if(E=E.tag,D!==null&&D===l)break;E!==5&&E!==26&&E!==27||q===null||(D=q,c?(q=ai(s,f),q!=null&&p.unshift(kl(s,q,D))):c||(q=ai(s,f),q!=null&&p.push(kl(s,q,D)))),s=s.return}p.length!==0&&t.push({event:n,listeners:p})}var Ob=/\r\n?/g,Mb=/\u0000|\uFFFD/g;function Pp(t){return(typeof t=="string"?t:""+t).replace(Ob,`
`).replace(Mb,"")}function qp(t,n){return n=Pp(n),Pp(t)===n}function re(t,n,s,l,c,f){switch(s){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||_n(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&_n(t,""+l);break;case"className":In(t,"class",l);break;case"tabIndex":In(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":In(t,s,l);break;case"style":nl(t,l,f);break;case"data":if(n!=="object"){In(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||s!=="href")){t.removeAttribute(s);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=Ya(""+l),t.setAttribute(s,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(n!=="input"&&re(t,n,"name",c.name,c,null),re(t,n,"formEncType",c.formEncType,c,null),re(t,n,"formMethod",c.formMethod,c,null),re(t,n,"formTarget",c.formTarget,c,null)):(re(t,n,"encType",c.encType,c,null),re(t,n,"method",c.method,c,null),re(t,n,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=Ya(""+l),t.setAttribute(s,l);break;case"onClick":l!=null&&(t.onclick=si);break;case"onScroll":l!=null&&Bt("scroll",t);break;case"onScrollEnd":l!=null&&Bt("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(s=l.__html,s!=null){if(c.children!=null)throw Error(r(60));t.innerHTML=s}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}s=Ya(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""+l):t.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""):t.removeAttribute(s);break;case"capture":case"download":l===!0?t.setAttribute(s,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,l):t.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(s,l):t.removeAttribute(s);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(s):t.setAttribute(s,l);break;case"popover":Bt("beforetoggle",t),Bt("toggle",t),Fa(t,"popover",l);break;case"xlinkActuate":De(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":De(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":De(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":De(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":De(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":De(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":De(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":De(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":De(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Fa(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=Vo.get(s)||s,Fa(t,s,l))}}function df(t,n,s,l,c,f){switch(s){case"style":nl(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(s=l.__html,s!=null){if(c.children!=null)throw Error(r(60));t.innerHTML=s}}break;case"children":typeof l=="string"?_n(t,l):(typeof l=="number"||typeof l=="bigint")&&_n(t,""+l);break;case"onScroll":l!=null&&Bt("scroll",t);break;case"onScrollEnd":l!=null&&Bt("scrollend",t);break;case"onClick":l!=null&&(t.onclick=si);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Xr.hasOwnProperty(s))t:{if(s[0]==="o"&&s[1]==="n"&&(c=s.endsWith("Capture"),n=s.slice(2,c?s.length-7:void 0),f=t[Qe]||null,f=f!=null?f[s]:null,typeof f=="function"&&t.removeEventListener(n,f,c),typeof l=="function")){typeof f!="function"&&f!==null&&(s in t?t[s]=null:t.hasAttribute(s)&&t.removeAttribute(s)),t.addEventListener(n,l,c);break t}s in t?t[s]=l:l===!0?t.setAttribute(s,""):Fa(t,s,l)}}}function en(t,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Bt("error",t),Bt("load",t);var l=!1,c=!1,f;for(f in s)if(s.hasOwnProperty(f)){var p=s[f];if(p!=null)switch(f){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:re(t,n,f,p,s,null)}}c&&re(t,n,"srcSet",s.srcSet,s,null),l&&re(t,n,"src",s.src,s,null);return;case"input":Bt("invalid",t);var E=f=p=c=null,D=null,q=null;for(l in s)if(s.hasOwnProperty(l)){var J=s[l];if(J!=null)switch(l){case"name":c=J;break;case"type":p=J;break;case"checked":D=J;break;case"defaultChecked":q=J;break;case"value":f=J;break;case"defaultValue":E=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(r(137,n));break;default:re(t,n,l,J,s,null)}}No(t,f,E,D,q,p,c,!1);return;case"select":Bt("invalid",t),l=p=f=null;for(c in s)if(s.hasOwnProperty(c)&&(E=s[c],E!=null))switch(c){case"value":f=E;break;case"defaultValue":p=E;break;case"multiple":l=E;default:re(t,n,c,E,s,null)}n=f,s=p,t.multiple=!!l,n!=null?ms(t,!!l,n,!1):s!=null&&ms(t,!!l,s,!0);return;case"textarea":Bt("invalid",t),f=c=l=null;for(p in s)if(s.hasOwnProperty(p)&&(E=s[p],E!=null))switch(p){case"value":l=E;break;case"defaultValue":c=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(r(91));break;default:re(t,n,p,E,s,null)}gs(t,l,c,f);return;case"option":for(D in s)if(s.hasOwnProperty(D)&&(l=s[D],l!=null))switch(D){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:re(t,n,D,l,s,null)}return;case"dialog":Bt("beforetoggle",t),Bt("toggle",t),Bt("cancel",t),Bt("close",t);break;case"iframe":case"object":Bt("load",t);break;case"video":case"audio":for(l=0;l<Ll.length;l++)Bt(Ll[l],t);break;case"image":Bt("error",t),Bt("load",t);break;case"details":Bt("toggle",t);break;case"embed":case"source":case"link":Bt("error",t),Bt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(q in s)if(s.hasOwnProperty(q)&&(l=s[q],l!=null))switch(q){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:re(t,n,q,l,s,null)}return;default:if(Qa(n)){for(J in s)s.hasOwnProperty(J)&&(l=s[J],l!==void 0&&df(t,n,J,l,s,void 0));return}}for(E in s)s.hasOwnProperty(E)&&(l=s[E],l!=null&&re(t,n,E,l,s,null))}function jb(t,n,s,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,p=null,E=null,D=null,q=null,J=null;for(K in s){var nt=s[K];if(s.hasOwnProperty(K)&&nt!=null)switch(K){case"checked":break;case"value":break;case"defaultValue":D=nt;default:l.hasOwnProperty(K)||re(t,n,K,null,l,nt)}}for(var H in l){var K=l[H];if(nt=s[H],l.hasOwnProperty(H)&&(K!=null||nt!=null))switch(H){case"type":f=K;break;case"name":c=K;break;case"checked":q=K;break;case"defaultChecked":J=K;break;case"value":p=K;break;case"defaultValue":E=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(r(137,n));break;default:K!==nt&&re(t,n,H,K,l,nt)}}Ga(t,p,E,D,q,J,f,c);return;case"select":K=p=E=H=null;for(f in s)if(D=s[f],s.hasOwnProperty(f)&&D!=null)switch(f){case"value":break;case"multiple":K=D;default:l.hasOwnProperty(f)||re(t,n,f,null,l,D)}for(c in l)if(f=l[c],D=s[c],l.hasOwnProperty(c)&&(f!=null||D!=null))switch(c){case"value":H=f;break;case"defaultValue":E=f;break;case"multiple":p=f;default:f!==D&&re(t,n,c,f,l,D)}n=E,s=p,l=K,H!=null?ms(t,!!s,H,!1):!!l!=!!s&&(n!=null?ms(t,!!s,n,!0):ms(t,!!s,s?[]:"",!1));return;case"textarea":K=H=null;for(E in s)if(c=s[E],s.hasOwnProperty(E)&&c!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:re(t,n,E,null,l,c)}for(p in l)if(c=l[p],f=s[p],l.hasOwnProperty(p)&&(c!=null||f!=null))switch(p){case"value":H=c;break;case"defaultValue":K=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(r(91));break;default:c!==f&&re(t,n,p,c,l,f)}Do(t,H,K);return;case"option":for(var _t in s)if(H=s[_t],s.hasOwnProperty(_t)&&H!=null&&!l.hasOwnProperty(_t))switch(_t){case"selected":t.selected=!1;break;default:re(t,n,_t,null,l,H)}for(D in l)if(H=l[D],K=s[D],l.hasOwnProperty(D)&&H!==K&&(H!=null||K!=null))switch(D){case"selected":t.selected=H&&typeof H!="function"&&typeof H!="symbol";break;default:re(t,n,D,H,l,K)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Nt in s)H=s[Nt],s.hasOwnProperty(Nt)&&H!=null&&!l.hasOwnProperty(Nt)&&re(t,n,Nt,null,l,H);for(q in l)if(H=l[q],K=s[q],l.hasOwnProperty(q)&&H!==K&&(H!=null||K!=null))switch(q){case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(r(137,n));break;default:re(t,n,q,H,l,K)}return;default:if(Qa(n)){for(var le in s)H=s[le],s.hasOwnProperty(le)&&H!==void 0&&!l.hasOwnProperty(le)&&df(t,n,le,void 0,l,H);for(J in l)H=l[J],K=s[J],!l.hasOwnProperty(J)||H===K||H===void 0&&K===void 0||df(t,n,J,H,l,K);return}}for(var z in s)H=s[z],s.hasOwnProperty(z)&&H!=null&&!l.hasOwnProperty(z)&&re(t,n,z,null,l,H);for(nt in l)H=l[nt],K=s[nt],!l.hasOwnProperty(nt)||H===K||H==null&&K==null||re(t,n,nt,H,l,K)}function Hp(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Lb(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,s=performance.getEntriesByType("resource"),l=0;l<s.length;l++){var c=s[l],f=c.transferSize,p=c.initiatorType,E=c.duration;if(f&&E&&Hp(p)){for(p=0,E=c.responseEnd,l+=1;l<s.length;l++){var D=s[l],q=D.startTime;if(q>E)break;var J=D.transferSize,nt=D.initiatorType;J&&Hp(nt)&&(D=D.responseEnd,p+=J*(D<E?1:(E-q)/(D-q)))}if(--l,n+=8*(f+p)/(c.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var mf=null,gf=null;function Ou(t){return t.nodeType===9?t:t.ownerDocument}function Fp(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Gp(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function pf(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var yf=null;function kb(){var t=window.event;return t&&t.type==="popstate"?t===yf?!1:(yf=t,!0):(yf=null,!1)}var Qp=typeof setTimeout=="function"?setTimeout:void 0,zb=typeof clearTimeout=="function"?clearTimeout:void 0,Yp=typeof Promise=="function"?Promise:void 0,Ub=typeof queueMicrotask=="function"?queueMicrotask:typeof Yp<"u"?function(t){return Yp.resolve(null).then(t).catch(Bb)}:Qp;function Bb(t){setTimeout(function(){throw t})}function zs(t){return t==="head"}function Kp(t,n){var s=n,l=0;do{var c=s.nextSibling;if(t.removeChild(s),c&&c.nodeType===8)if(s=c.data,s==="/$"||s==="/&"){if(l===0){t.removeChild(c),Cr(n);return}l--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")l++;else if(s==="html")zl(t.ownerDocument.documentElement);else if(s==="head"){s=t.ownerDocument.head,zl(s);for(var f=s.firstChild;f;){var p=f.nextSibling,E=f.nodeName;f[yi]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||s.removeChild(f),f=p}}else s==="body"&&zl(t.ownerDocument.body);s=c}while(s);Cr(n)}function Xp(t,n){var s=t;t=0;do{var l=s.nextSibling;if(s.nodeType===1?n?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(n?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),l&&l.nodeType===8)if(s=l.data,s==="/$"){if(t===0)break;t--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||t++;s=l}while(s)}function vf(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":vf(s),Ha(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}t.removeChild(s)}}function Pb(t,n,s,l){for(;t.nodeType===1;){var c=s;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[yi])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==c.rel||t.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Jn(t.nextSibling),t===null)break}return null}function qb(t,n,s){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=Jn(t.nextSibling),t===null))return null;return t}function Zp(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=Jn(t.nextSibling),t===null))return null;return t}function _f(t){return t.data==="$?"||t.data==="$~"}function bf(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function Hb(t,n){var s=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||s.readyState!=="loading")n();else{var l=function(){n(),s.removeEventListener("DOMContentLoaded",l)};s.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Jn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var Ef=null;function Jp(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var s=t.data;if(s==="/$"||s==="/&"){if(n===0)return Jn(t.nextSibling);n--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||n++}t=t.nextSibling}return null}function $p(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(n===0)return t;n--}else s!=="/$"&&s!=="/&"||n++}t=t.previousSibling}return null}function Wp(t,n,s){switch(n=Ou(s),t){case"html":if(t=n.documentElement,!t)throw Error(r(452));return t;case"head":if(t=n.head,!t)throw Error(r(453));return t;case"body":if(t=n.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function zl(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Ha(t)}var $n=new Map,ty=new Set;function Mu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var rs=ht.d;ht.d={f:Fb,r:Gb,D:Qb,C:Yb,L:Kb,m:Xb,X:Jb,S:Zb,M:$b};function Fb(){var t=rs.f(),n=Au();return t||n}function Gb(t){var n=Pn(t);n!==null&&n.tag===5&&n.type==="form"?yg(n):rs.r(t)}var Sr=typeof document>"u"?null:document;function ey(t,n,s){var l=Sr;if(l&&typeof n=="string"&&n){var c=vn(n);c='link[rel="'+t+'"][href="'+c+'"]',typeof s=="string"&&(c+='[crossorigin="'+s+'"]'),ty.has(c)||(ty.add(c),t={rel:t,crossOrigin:s,href:n},l.querySelector(c)===null&&(n=l.createElement("link"),en(n,"link",t),Ne(n),l.head.appendChild(n)))}}function Qb(t){rs.D(t),ey("dns-prefetch",t,null)}function Yb(t,n){rs.C(t,n),ey("preconnect",t,n)}function Kb(t,n,s){rs.L(t,n,s);var l=Sr;if(l&&t&&n){var c='link[rel="preload"][as="'+vn(n)+'"]';n==="image"&&s&&s.imageSrcSet?(c+='[imagesrcset="'+vn(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(c+='[imagesizes="'+vn(s.imageSizes)+'"]')):c+='[href="'+vn(t)+'"]';var f=c;switch(n){case"style":f=Ar(t);break;case"script":f=wr(t)}$n.has(f)||(t=S({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:t,as:n},s),$n.set(f,t),l.querySelector(c)!==null||n==="style"&&l.querySelector(Ul(f))||n==="script"&&l.querySelector(Bl(f))||(n=l.createElement("link"),en(n,"link",t),Ne(n),l.head.appendChild(n)))}}function Xb(t,n){rs.m(t,n);var s=Sr;if(s&&t){var l=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+vn(l)+'"][href="'+vn(t)+'"]',f=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=wr(t)}if(!$n.has(f)&&(t=S({rel:"modulepreload",href:t},n),$n.set(f,t),s.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(Bl(f)))return}l=s.createElement("link"),en(l,"link",t),Ne(l),s.head.appendChild(l)}}}function Zb(t,n,s){rs.S(t,n,s);var l=Sr;if(l&&t){var c=_i(l).hoistableStyles,f=Ar(t);n=n||"default";var p=c.get(f);if(!p){var E={loading:0,preload:null};if(p=l.querySelector(Ul(f)))E.loading=5;else{t=S({rel:"stylesheet",href:t,"data-precedence":n},s),(s=$n.get(f))&&Tf(t,s);var D=p=l.createElement("link");Ne(D),en(D,"link",t),D._p=new Promise(function(q,J){D.onload=q,D.onerror=J}),D.addEventListener("load",function(){E.loading|=1}),D.addEventListener("error",function(){E.loading|=2}),E.loading|=4,ju(p,n,l)}p={type:"stylesheet",instance:p,count:1,state:E},c.set(f,p)}}}function Jb(t,n){rs.X(t,n);var s=Sr;if(s&&t){var l=_i(s).hoistableScripts,c=wr(t),f=l.get(c);f||(f=s.querySelector(Bl(c)),f||(t=S({src:t,async:!0},n),(n=$n.get(c))&&xf(t,n),f=s.createElement("script"),Ne(f),en(f,"link",t),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function $b(t,n){rs.M(t,n);var s=Sr;if(s&&t){var l=_i(s).hoistableScripts,c=wr(t),f=l.get(c);f||(f=s.querySelector(Bl(c)),f||(t=S({src:t,async:!0,type:"module"},n),(n=$n.get(c))&&xf(t,n),f=s.createElement("script"),Ne(f),en(f,"link",t),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function ny(t,n,s,l){var c=(c=rt.current)?Mu(c):null;if(!c)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=Ar(s.href),s=_i(c).hoistableStyles,l=s.get(n),l||(l={type:"style",instance:null,count:0,state:null},s.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){t=Ar(s.href);var f=_i(c).hoistableStyles,p=f.get(t);if(p||(c=c.ownerDocument||c,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,p),(f=c.querySelector(Ul(t)))&&!f._p&&(p.instance=f,p.state.loading=5),$n.has(t)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},$n.set(t,s),f||Wb(c,t,s,p.state))),n&&l===null)throw Error(r(528,""));return p}if(n&&l!==null)throw Error(r(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=wr(s),s=_i(c).hoistableScripts,l=s.get(n),l||(l={type:"script",instance:null,count:0,state:null},s.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function Ar(t){return'href="'+vn(t)+'"'}function Ul(t){return'link[rel="stylesheet"]['+t+"]"}function iy(t){return S({},t,{"data-precedence":t.precedence,precedence:null})}function Wb(t,n,s,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),en(n,"link",s),Ne(n),t.head.appendChild(n))}function wr(t){return'[src="'+vn(t)+'"]'}function Bl(t){return"script[async]"+t}function sy(t,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+vn(s.href)+'"]');if(l)return n.instance=l,Ne(l),l;var c=S({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Ne(l),en(l,"style",c),ju(l,s.precedence,t),n.instance=l;case"stylesheet":c=Ar(s.href);var f=t.querySelector(Ul(c));if(f)return n.state.loading|=4,n.instance=f,Ne(f),f;l=iy(s),(c=$n.get(c))&&Tf(l,c),f=(t.ownerDocument||t).createElement("link"),Ne(f);var p=f;return p._p=new Promise(function(E,D){p.onload=E,p.onerror=D}),en(f,"link",l),n.state.loading|=4,ju(f,s.precedence,t),n.instance=f;case"script":return f=wr(s.src),(c=t.querySelector(Bl(f)))?(n.instance=c,Ne(c),c):(l=s,(c=$n.get(f))&&(l=S({},s),xf(l,c)),t=t.ownerDocument||t,c=t.createElement("script"),Ne(c),en(c,"link",l),t.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(r(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,ju(l,s.precedence,t));return n.instance}function ju(t,n,s){for(var l=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,f=c,p=0;p<l.length;p++){var E=l[p];if(E.dataset.precedence===n)f=E;else if(f!==c)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(t,n.firstChild))}function Tf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function xf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Lu=null;function ay(t,n,s){if(Lu===null){var l=new Map,c=Lu=new Map;c.set(s,l)}else c=Lu,l=c.get(s),l||(l=new Map,c.set(s,l));if(l.has(t))return l;for(l.set(t,null),s=s.getElementsByTagName(t),c=0;c<s.length;c++){var f=s[c];if(!(f[yi]||f[Re]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var p=f.getAttribute(n)||"";p=t+p;var E=l.get(p);E?E.push(f):l.set(p,[f])}}return l}function ry(t,n,s){t=t.ownerDocument||t,t.head.insertBefore(s,n==="title"?t.querySelector("head > title"):null)}function tE(t,n,s){if(s===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function ly(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function eE(t,n,s,l){if(s.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var c=Ar(l.href),f=n.querySelector(Ul(c));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=ku.bind(t),n.then(t,t)),s.state.loading|=4,s.instance=f,Ne(f);return}f=n.ownerDocument||n,l=iy(l),(c=$n.get(c))&&Tf(l,c),f=f.createElement("link"),Ne(f);var p=f;p._p=new Promise(function(E,D){p.onload=E,p.onerror=D}),en(f,"link",l),s.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(t.count++,s=ku.bind(t),n.addEventListener("load",s),n.addEventListener("error",s))}}var Sf=0;function nE(t,n){return t.stylesheets&&t.count===0&&Uu(t,t.stylesheets),0<t.count||0<t.imgCount?function(s){var l=setTimeout(function(){if(t.stylesheets&&Uu(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+n);0<t.imgBytes&&Sf===0&&(Sf=62500*Lb());var c=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Uu(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>Sf?50:800)+n);return t.unsuspend=s,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(c)}}:null}function ku(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Uu(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var zu=null;function Uu(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,zu=new Map,n.forEach(iE,t),zu=null,ku.call(t))}function iE(t,n){if(!(n.state.loading&4)){var s=zu.get(t);if(s)var l=s.get(null);else{s=new Map,zu.set(t,s);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var p=c[f];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(s.set(p.dataset.precedence,p),l=p)}l&&s.set(null,l)}c=n.instance,p=c.getAttribute("data-precedence"),f=s.get(p)||l,f===l&&s.set(null,c),s.set(p,c),this.count++,l=ku.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),f?f.parentNode.insertBefore(c,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),n.state.loading|=4}}var Pl={$$typeof:lt,Provider:null,Consumer:null,_currentValue:Et,_currentValue2:Et,_threadCount:0};function sE(t,n,s,l,c,f,p,E,D){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Nn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Nn(0),this.hiddenUpdates=Nn(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=D,this.incompleteTransitions=new Map}function oy(t,n,s,l,c,f,p,E,D,q,J,nt){return t=new sE(t,n,s,p,D,q,J,nt,E),n=1,f===!0&&(n|=24),f=On(3,null,null,n),t.current=f,f.stateNode=t,n=nh(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:s,cache:n},rh(f),t}function uy(t){return t?(t=ir,t):ir}function cy(t,n,s,l,c,f){c=uy(c),l.context===null?l.context=c:l.pendingContext=c,l=Cs(n),l.payload={element:s},f=f===void 0?null:f,f!==null&&(l.callback=f),s=Rs(t,l,n),s!==null&&(Sn(s,t,n),_l(s,t,n))}function hy(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<n?s:n}}function Af(t,n){hy(t,n),(t=t.alternate)&&hy(t,n)}function fy(t){if(t.tag===13||t.tag===31){var n=_a(t,67108864);n!==null&&Sn(n,t,67108864),Af(t,67108864)}}function dy(t){if(t.tag===13||t.tag===31){var n=zn();n=Pi(n);var s=_a(t,n);s!==null&&Sn(s,t,n),Af(t,n)}}var Bu=!0;function aE(t,n,s,l){var c=X.T;X.T=null;var f=ht.p;try{ht.p=2,wf(t,n,s,l)}finally{ht.p=f,X.T=c}}function rE(t,n,s,l){var c=X.T;X.T=null;var f=ht.p;try{ht.p=8,wf(t,n,s,l)}finally{ht.p=f,X.T=c}}function wf(t,n,s,l){if(Bu){var c=Cf(l);if(c===null)ff(t,n,l,Pu,s),gy(t,l);else if(oE(c,t,n,s,l))l.stopPropagation();else if(gy(t,l),n&4&&-1<lE.indexOf(t)){for(;c!==null;){var f=Pn(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var p=Cn(f.pendingLanes);if(p!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;p;){var D=1<<31-me(p);E.entanglements[1]|=D,p&=~D}Vi(f),($t&6)===0&&(xu=Fe()+500,jl(0))}}break;case 31:case 13:E=_a(f,2),E!==null&&Sn(E,f,2),Au(),Af(f,2)}if(f=Cf(l),f===null&&ff(t,n,l,Pu,s),f===c)break;c=f}c!==null&&l.stopPropagation()}else ff(t,n,l,null,s)}}function Cf(t){return t=qn(t),Rf(t)}var Pu=null;function Rf(t){if(Pu=null,t=vi(t),t!==null){var n=h(t);if(n===null)t=null;else{var s=n.tag;if(s===13){if(t=d(n),t!==null)return t;t=null}else if(s===31){if(t=m(n),t!==null)return t;t=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Pu=t,null}function my(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(B()){case W:return 2;case ot:return 8;case It:case zt:return 32;case ke:return 268435456;default:return 32}default:return 32}}var Nf=!1,Us=null,Bs=null,Ps=null,ql=new Map,Hl=new Map,qs=[],lE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function gy(t,n){switch(t){case"focusin":case"focusout":Us=null;break;case"dragenter":case"dragleave":Bs=null;break;case"mouseover":case"mouseout":Ps=null;break;case"pointerover":case"pointerout":ql.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Hl.delete(n.pointerId)}}function Fl(t,n,s,l,c,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:s,eventSystemFlags:l,nativeEvent:f,targetContainers:[c]},n!==null&&(n=Pn(n),n!==null&&fy(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),t)}function oE(t,n,s,l,c){switch(n){case"focusin":return Us=Fl(Us,t,n,s,l,c),!0;case"dragenter":return Bs=Fl(Bs,t,n,s,l,c),!0;case"mouseover":return Ps=Fl(Ps,t,n,s,l,c),!0;case"pointerover":var f=c.pointerId;return ql.set(f,Fl(ql.get(f)||null,t,n,s,l,c)),!0;case"gotpointercapture":return f=c.pointerId,Hl.set(f,Fl(Hl.get(f)||null,t,n,s,l,c)),!0}return!1}function py(t){var n=vi(t.target);if(n!==null){var s=h(n);if(s!==null){if(n=s.tag,n===13){if(n=d(s),n!==null){t.blockedOn=n,ni(t.priority,function(){dy(s)});return}}else if(n===31){if(n=m(s),n!==null){t.blockedOn=n,ni(t.priority,function(){dy(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function qu(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var s=Cf(t.nativeEvent);if(s===null){s=t.nativeEvent;var l=new s.constructor(s.type,s);il=l,s.target.dispatchEvent(l),il=null}else return n=Pn(s),n!==null&&fy(n),t.blockedOn=s,!1;n.shift()}return!0}function yy(t,n,s){qu(t)&&s.delete(n)}function uE(){Nf=!1,Us!==null&&qu(Us)&&(Us=null),Bs!==null&&qu(Bs)&&(Bs=null),Ps!==null&&qu(Ps)&&(Ps=null),ql.forEach(yy),Hl.forEach(yy)}function Hu(t,n){t.blockedOn===n&&(t.blockedOn=null,Nf||(Nf=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,uE)))}var Fu=null;function vy(t){Fu!==t&&(Fu=t,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){Fu===t&&(Fu=null);for(var n=0;n<t.length;n+=3){var s=t[n],l=t[n+1],c=t[n+2];if(typeof l!="function"){if(Rf(l||s)===null)continue;break}var f=Pn(s);f!==null&&(t.splice(n,3),n-=3,wh(f,{pending:!0,data:c,method:s.method,action:l},l,c))}}))}function Cr(t){function n(D){return Hu(D,t)}Us!==null&&Hu(Us,t),Bs!==null&&Hu(Bs,t),Ps!==null&&Hu(Ps,t),ql.forEach(n),Hl.forEach(n);for(var s=0;s<qs.length;s++){var l=qs[s];l.blockedOn===t&&(l.blockedOn=null)}for(;0<qs.length&&(s=qs[0],s.blockedOn===null);)py(s),s.blockedOn===null&&qs.shift();if(s=(t.ownerDocument||t).$$reactFormReplay,s!=null)for(l=0;l<s.length;l+=3){var c=s[l],f=s[l+1],p=c[Qe]||null;if(typeof f=="function")p||vy(s);else if(p){var E=null;if(f&&f.hasAttribute("formAction")){if(c=f,p=f[Qe]||null)E=p.formAction;else if(Rf(c)!==null)continue}else E=p.action;typeof E=="function"?s[l+1]=E:(s.splice(l,3),l-=3),vy(s)}}}function _y(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(p){return c=p})},focusReset:"manual",scroll:"manual"})}function n(){c!==null&&(c(),c=null),l||setTimeout(s,20)}function s(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,c=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(s,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),c!==null&&(c(),c=null)}}}function Df(t){this._internalRoot=t}Gu.prototype.render=Df.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(r(409));var s=n.current,l=zn();cy(s,l,t,n,null,null)},Gu.prototype.unmount=Df.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;cy(t.current,2,null,t,null,null),Au(),n[pi]=null}};function Gu(t){this._internalRoot=t}Gu.prototype.unstable_scheduleHydration=function(t){if(t){var n=Ao();t={blockedOn:null,target:t,priority:n};for(var s=0;s<qs.length&&n!==0&&n<qs[s].priority;s++);qs.splice(s,0,t),s===0&&py(t)}};var by=e.version;if(by!=="19.2.3")throw Error(r(527,by,"19.2.3"));ht.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=v(n),t=t!==null?T(t):null,t=t===null?null:t.stateNode,t};var cE={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:X,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Qu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qu.isDisabled&&Qu.supportsFiber)try{ln=Qu.inject(cE),ce=Qu}catch{}}return Ql.createRoot=function(t,n){if(!o(t))throw Error(r(299));var s=!1,l="",c=Cg,f=Rg,p=Ng;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(p=n.onRecoverableError)),n=oy(t,1,!1,null,null,s,l,null,c,f,p,_y),t[pi]=n.current,hf(t),new Df(n)},Ql.hydrateRoot=function(t,n,s){if(!o(t))throw Error(r(299));var l=!1,c="",f=Cg,p=Rg,E=Ng,D=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(p=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError),s.formState!==void 0&&(D=s.formState)),n=oy(t,1,!0,n,s??null,l,c,D,f,p,E,_y),n.context=uy(null),s=n.current,l=zn(),l=Pi(l),c=Cs(l),c.callback=null,Rs(s,c,l),s=l,n.current.lanes=s,Ge(n,s),Vi(n),t[pi]=n.current,hf(t),new Gu(n)},Ql.version="19.2.3",Ql}var Dy;function bE(){if(Dy)return Of.exports;Dy=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(e){console.error(e)}}return a(),Of.exports=_E(),Of.exports}var EE=bE();const TE=F0(EE);function xE(a={}){const{nonce:e,onScriptLoadSuccess:i,onScriptLoadError:r}=a,[o,h]=at.useState(!1),d=at.useRef(i);d.current=i;const m=at.useRef(r);return m.current=r,at.useEffect(()=>{const y=document.createElement("script");return y.src="https://accounts.google.com/gsi/client",y.async=!0,y.defer=!0,y.nonce=e,y.onload=()=>{var v;h(!0),(v=d.current)===null||v===void 0||v.call(d)},y.onerror=()=>{var v;h(!1),(v=m.current)===null||v===void 0||v.call(m)},document.body.appendChild(y),()=>{document.body.removeChild(y)}},[e]),o}const Q0=at.createContext(null);function SE({clientId:a,nonce:e,onScriptLoadSuccess:i,onScriptLoadError:r,children:o}){const h=xE({nonce:e,onScriptLoadSuccess:i,onScriptLoadError:r}),d=at.useMemo(()=>({clientId:a,scriptLoadedSuccessfully:h}),[a,h]);return G0.createElement(Q0.Provider,{value:d},o)}function AE(){const a=at.useContext(Q0);if(!a)throw new Error("Google OAuth components must be used within GoogleOAuthProvider");return a}function wE({flow:a="implicit",scope:e="",onSuccess:i,onError:r,onNonOAuthError:o,overrideScope:h,state:d,...m}){const{clientId:y,scriptLoadedSuccessfully:v}=AE(),T=at.useRef(),S=at.useRef(i);S.current=i;const C=at.useRef(r);C.current=r;const j=at.useRef(o);j.current=o,at.useEffect(()=>{var V,Q;if(!v)return;const et=a==="implicit"?"initTokenClient":"initCodeClient",lt=(Q=(V=window==null?void 0:window.google)===null||V===void 0?void 0:V.accounts)===null||Q===void 0?void 0:Q.oauth2[et]({client_id:y,scope:h?e:`openid profile email ${e}`,callback:bt=>{var pt,At;if(bt.error)return(pt=C.current)===null||pt===void 0?void 0:pt.call(C,bt);(At=S.current)===null||At===void 0||At.call(S,bt)},error_callback:bt=>{var pt;(pt=j.current)===null||pt===void 0||pt.call(j,bt)},state:d,...m});T.current=lt},[y,v,a,e,d]);const G=at.useCallback(V=>{var Q;return(Q=T.current)===null||Q===void 0?void 0:Q.requestAccessToken(V)},[]),Z=at.useCallback(()=>{var V;return(V=T.current)===null||V===void 0?void 0:V.requestCode()},[]);return a==="implicit"?G:Z}const CE=()=>b.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2.5",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),RE=()=>b.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2.5",d:"M12 4v16m8-8H4"})}),ac=()=>b.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:b.jsx("path",{d:"M12 8c1.1 0 2-0.9 2-2s-0.9-2-2-2-2 0.9-2 2 0.9 2 2 2zm0 2c-1.1 0-2 0.9-2 2s0.9 2 2 2 2-0.9 2-2-0.9-2-2-2zm0 6c-1.1 0-2 0.9-2 2s0.9 2 2 2 2-0.9 2-2-0.9-2-2-2z"})}),$u=()=>b.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2.5",d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})}),NE=()=>b.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2.5",d:"M8 11V7a4 4 0 118 0m-4 8v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2z"})}),Y0=()=>b.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2.5",d:"M9 20l-5.447-2.724A1 1 0 013 16.382V5.618a1 1 0 011.447-.894L9 7m0 13l6-3m-6 3V7m6 10l4.553 2.276A1 1 0 0021 18.382V7.618a1 1 0 00-.553-.894L15 4m0 13V4m0 0L9 7"})}),Iy=/(https?:\/\/[^\s]+)|(www\.[^\s]+)/gi,Vy=/010[-\s]?\d{4}[-\s]?\d{4}/g,DE=a=>{if(!a||typeof a!="string")return[a];const e=[];let i;for(Iy.lastIndex=0;(i=Iy.exec(a))!==null;)e.push({type:"url",content:i[0],index:i.index,length:i[0].length});for(Vy.lastIndex=0;(i=Vy.exec(a))!==null;)e.some(m=>i.index>=m.index&&i.index<m.index+m.length||i.index+i[0].length>m.index&&i.index+i[0].length<=m.index+m.length)||e.push({type:"phone",content:i[0],index:i.index,length:i[0].length});e.sort((d,m)=>d.index-m.index);const r=[];let o=0,h=0;return e.forEach(d=>{if(d.index>o&&r.push(a.substring(o,d.index)),d.type==="url"){const m=d.content.startsWith("www.")?`https://${d.content}`:d.content;r.push(b.jsx("a",{href:m,target:"_blank",rel:"noopener noreferrer",onClick:y=>y.stopPropagation(),className:"text-blue-500 underline hover:text-blue-600 transition-colors",children:d.content},`url-${h++}`))}else if(d.type==="phone"){const m=d.content.replace(/[-\s]/g,"");r.push(b.jsx("a",{href:`sms:${m}`,onClick:y=>y.stopPropagation(),className:"text-green-600 underline hover:text-green-700 transition-colors",children:d.content},`phone-${h++}`))}o=d.index+d.length}),o<a.length&&r.push(a.substring(o)),r.length>0?r:[a]},Lr=({text:a,className:e=""})=>{const i=DE(a);return b.jsx("span",{className:e,children:i})},Oy=({value:a,onChange:e,placeholder:i,className:r="",textClassName:o="",rows:h=2,maxLength:d=100})=>{const[m,y]=at.useState(!1),[v,T]=at.useState(a),S=at.useRef(null);at.useEffect(()=>{var V,Q;m&&((V=S.current)==null||V.focus(),(Q=S.current)==null||Q.select())},[m]),at.useEffect(()=>{T(a)},[a]);const C=V=>{V.stopPropagation(),y(!0),T(a)},j=()=>{e(v),y(!1)},G=()=>{T(a),y(!1)},Z=V=>{V.key==="Enter"&&(V.ctrlKey||V.metaKey)&&(V.preventDefault(),j()),V.key==="Escape"&&(V.preventDefault(),G())};return m?b.jsx("textarea",{ref:S,value:v,onChange:V=>T(V.target.value.slice(0,d)),onBlur:j,onKeyDown:Z,rows:h,maxLength:d,className:`w-full p-3 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400 bg-white resize-none ${r}`}):b.jsx("div",{onDoubleClick:C,className:`cursor-pointer hover:bg-slate-50 transition-colors p-3 min-h-[4rem] rounded-lg ${o} ${r}`,children:a?b.jsx(Lr,{text:a}):b.jsx("span",{className:"text-slate-400 italic",children:i})})},IE=({goal1:a,goal2:e,onGoal1Change:i,onGoal2Change:r})=>b.jsxs("div",{className:"flex flex-row gap-3 w-full",children:[b.jsx("div",{className:"flex-1",children:b.jsx(Oy,{value:a,onChange:i,placeholder:" 1",className:"bg-white border-2 border-slate-400 shadow-sm",textClassName:"text-red-600 font-bold text-lg",rows:2,maxLength:100})}),b.jsx("div",{className:"flex-1",children:b.jsx(Oy,{value:e,onChange:r,placeholder:" 2",className:"bg-white border-2 border-slate-400 shadow-sm",textClassName:"text-blue-600 font-bold text-lg",rows:2,maxLength:100})})]}),VE=({onClearAll:a,onAddSection:e,hasAnyCompletedItems:i,onOpenNavigationMap:r,headerGoals:o,onHeaderGoalsChange:h})=>{const[d,m]=at.useState("");return at.useEffect(()=>{const y=()=>{const T=new Date,S={year:"numeric",month:"long",day:"numeric",weekday:"long"},C=T.toLocaleDateString("ko-KR",S),j=String(T.getHours()).padStart(2,"0"),G=String(T.getMinutes()).padStart(2,"0"),Z=String(T.getSeconds()).padStart(2,"0");m(`${C} ${j}:${G}:${Z}`)};y();const v=setInterval(y,1e3);return()=>clearInterval(v)},[]),b.jsxs("header",{className:"w-full px-6 flex flex-col md:flex-row md:items-end justify-between gap-4 py-6",children:[b.jsxs("div",{children:[b.jsx("h1",{className:"text-2xl font-bold text-slate-800 tracking-tight",children:" "}),b.jsxs("div",{className:"flex items-center gap-3 mt-1",children:[b.jsx("p",{className:"text-red-600 font-medium whitespace-nowrap text-sm",children:d}),b.jsxs("div",{className:"flex items-center gap-2 ml-2",children:[b.jsx("button",{onClick:r,className:"text-slate-900 hover:text-black p-1.5 rounded-lg transition-colors bg-white border border-slate-200 shadow-sm",title:"  ",children:b.jsx(Y0,{})}),b.jsx("button",{onClick:a,disabled:!i,className:"text-slate-900 hover:text-black p-1.5 rounded-lg transition-colors disabled:opacity-30 disabled:cursor-not-allowed bg-white border border-slate-200 shadow-sm",title:"   ",children:b.jsx(CE,{})}),b.jsxs("button",{onClick:e,className:"flex items-center gap-1.5 px-3 py-1.5 bg-yellow-400 border border-yellow-500 text-yellow-950 text-xs font-bold rounded-lg hover:bg-yellow-500 transition-all shadow-sm",title:" ",children:[b.jsx(RE,{}),b.jsx("span",{className:"hidden sm:inline",children:"+"})]})]})]})]}),o&&h&&b.jsx("div",{className:"flex-1 hidden lg:flex items-end justify-end",children:b.jsx("div",{className:"w-[90%]",children:b.jsx(IE,{goal1:o.goal1,goal2:o.goal2,onGoal1Change:y=>h({...o,goal1:y}),onGoal2Change:y=>h({...o,goal2:y})})})})]})},ro=({value:a,onChange:e,placeholder:i,className:r="",compact:o=!1,onEditingChange:h})=>{const[d,m]=at.useState(!1),[y,v]=at.useState(a),T=at.useRef(null);at.useEffect(()=>{var Z;d&&((Z=T.current)==null||Z.focus())},[d]);const S=Z=>{Z.stopPropagation(),m(!0),v(a),h==null||h(!0)},C=()=>{e(y),m(!1),h==null||h(!1)},j=()=>{v(a),m(!1),h==null||h(!1)},G=Z=>{Z.key==="Enter"&&C(),Z.key==="Escape"&&j()};return d?b.jsx("input",{ref:T,value:y,onChange:Z=>v(Z.target.value),onBlur:C,onKeyDown:G,className:`w-full ${o?"p-0 text-lg leading-normal":"p-1"} border border-slate-300 rounded focus:outline-none focus:ring-1 focus:ring-slate-400 bg-white ${r}`}):b.jsx("div",{onDoubleClick:S,className:`cursor-pointer hover:bg-slate-50 transition-colors ${o?"p-0 min-h-0 text-lg leading-tight":"p-1 min-h-[1.5rem]"} rounded break-words ${r}`,children:a?b.jsx(Lr,{text:a}):b.jsx("span",{className:"text-slate-400 italic text-[0.8em]",children:i})})};function Ec(a,e){at.useEffect(()=>{function i(r){a.current&&!a.current.contains(r.target)&&e()}return document.addEventListener("mousedown",i),()=>document.removeEventListener("mousedown",i)},[a,e])}const OE=({item:a,sectionId:e,memo:i,onToggle:r,onUpdateText:o,onDelete:h,onAddMemo:d,onMoveItem:m,onCopy:y,onAddToCalendar:v,dragState:T,onDragStart:S,onDragOver:C,onDrop:j,onDragEnd:G})=>{const[Z,V]=at.useState(!1),[Q,et]=at.useState(!1),[lt,bt]=at.useState(!1),[pt,At]=at.useState({left:0}),N=at.useRef(null),A=at.useRef(null);Ec(A,()=>V(!1));const w=k=>{k.stopPropagation();const R=window.innerWidth<768;if(N.current&&!R){const Pt=N.current.getBoundingClientRect();window.innerHeight-Pt.bottom>=280?At({top:Pt.bottom+8,left:Pt.right+8}):At({bottom:window.innerHeight-Pt.top+8,left:Pt.right+8})}V(!Z)},L=T.draggedItemId===a.id,O=T.dragOverItemId===a.id;return b.jsxs("div",{draggable:!lt,onDragStart:S,onDragOver:C,onDrop:j,onDragEnd:G,className:`group flex items-center gap-1 py-1.5 px-0 rounded transition-all cursor-move relative min-h-0 ${L?"opacity-50 bg-slate-100":O?"bg-blue-50 border-l-2 border-blue-400":"hover:bg-slate-50"}`,children:[b.jsx("input",{type:"checkbox",checked:a.completed,onChange:r,className:"w-5 h-5 rounded border-slate-300 text-slate-700 focus:ring-slate-500 cursor-pointer flex-shrink-0"}),b.jsxs("div",{className:"flex-1 min-w-0",children:[b.jsx("div",{className:`text-sm leading-snug font-medium ${a.completed?"line-through text-slate-400":"text-slate-700"}`,children:b.jsx(ro,{value:a.text,onChange:o,onEditingChange:bt,placeholder:" ...",className:"text-sm",compact:!0})}),i&&b.jsx("div",{onClick:k=>{k.stopPropagation(),d()},className:"text-xs text-green-600 truncate cursor-pointer hover:text-green-700 transition-colors mt-0.5 pl-1 font-medium",title:i,children:b.jsx(Lr,{text:i})})]}),b.jsxs("div",{className:"relative flex-shrink-0 -mr-3",children:[a.completed?b.jsx("button",{onClick:()=>et(!0),className:"bg-red-500 hover:bg-red-600 text-white px-3 py-1.5 rounded-md transition-colors text-sm font-medium border-2 border-black",title:"",children:""}):b.jsx("button",{ref:N,onClick:w,className:"text-slate-500 hover:text-slate-700 transition-colors p-0 rounded",title:"",children:b.jsx(ac,{})}),Z&&!a.completed&&(()=>{const k=window.innerWidth<768;return b.jsxs("div",{ref:A,className:`${k?"absolute":"fixed"} bg-white rounded-lg shadow-xl border border-slate-200 z-50 py-1.5 w-48 animate-in fade-in ${k?"slide-in-from-right-2":"slide-in-from-left-2"} duration-150`,style:{...k?{right:0,top:"100%",marginTop:"4px"}:{...pt.top!==void 0&&{top:`${pt.top}px`},...pt.bottom!==void 0&&{bottom:`${pt.bottom}px`},left:`${pt.left}px`}},onClick:R=>R.stopPropagation(),children:[b.jsx("button",{onClick:()=>{d(),V(!1)},className:"w-full text-left px-4 py-2.5 text-sm text-slate-700 hover:bg-slate-100 transition-colors",children:"  /"}),b.jsx("button",{onClick:()=>{m(),V(!1)},className:"w-full text-left px-4 py-2.5 text-sm text-slate-700 hover:bg-slate-100 transition-colors",children:" "}),b.jsx("button",{onClick:()=>{y(),V(!1)},className:"w-full text-left px-4 py-2.5 text-sm text-slate-700 hover:bg-slate-100 transition-colors",children:" "}),v&&b.jsx("button",{onClick:()=>{v(),V(!1)},className:"w-full text-left px-4 py-2.5 text-sm text-slate-700 hover:bg-slate-100 transition-colors",children:"  "}),b.jsx("button",{onClick:()=>{et(!0),V(!1)},className:"w-full text-left px-4 py-2.5 text-sm text-red-600 hover:bg-red-50 transition-colors",children:" "}),b.jsx("button",{onClick:()=>V(!1),className:"w-full text-left px-4 py-2.5 text-sm text-slate-500 hover:bg-slate-100 transition-colors border-t border-slate-200",children:""})]})})(),Q&&b.jsx("div",{className:"fixed inset-0 bg-black/40 flex items-center justify-center z-50 animate-in fade-in duration-150",children:b.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-6 max-w-sm mx-4 animate-in zoom-in duration-200",children:[b.jsx("h2",{className:"text-lg font-bold text-slate-800 mb-2",children:" ?"}),b.jsxs("p",{className:"text-sm text-slate-600 mb-6",children:['"',b.jsx("span",{className:"font-medium line-through",children:a.text}),'"() .']}),b.jsxs("div",{className:"flex gap-3 justify-end",children:[b.jsx("button",{onClick:()=>et(!1),className:"px-4 py-2 rounded-lg border-2 border-slate-300 text-slate-700 font-medium hover:bg-slate-50 transition-colors",children:""}),b.jsx("button",{onClick:()=>{h(),et(!1)},className:"px-4 py-2 rounded-lg bg-red-500 hover:bg-red-600 text-white font-medium border-2 border-black transition-colors",children:""})]})]})})]})]})},kf=({section:a,itemMemos:e,onUpdateSection:i,onDeleteSection:r,onShowItemMemo:o,onMoveItem:h,onAddToCalendar:d,dragState:m,setDragState:y,onSectionDragStart:v,onSectionDragOver:T,onSectionDrop:S,onSectionDragEnd:C,isHighlighted:j=!1,isInboxSection:G=!1,isFullHeight:Z=!1,tabColorText:V="text-slate-800",tabColorBg:Q=""})=>{const[et,lt]=at.useState(""),[bt,pt]=at.useState(!1),At=ft=>{i({...a,title:ft})},N=ft=>{if(ft.key==="Enter"){const vt=et.trim();if(vt==="")return;const I={id:Math.random().toString(36).substr(2,9),text:vt,completed:!1};i({...a,items:[I,...a.items]}),lt("")}},A=()=>{i({...a,isLocked:!a.isLocked})},w=ft=>{const vt=a.items.map(I=>I.id===ft?{...I,completed:!I.completed}:I);i({...a,items:vt})},L=(ft,vt)=>{const I=a.items.map($=>$.id===ft?{...$,text:vt}:$);i({...a,items:I})},O=ft=>{const vt=a.items.filter(I=>I.id!==ft);i({...a,items:vt})},k=ft=>{const vt=a.items.find(I=>I.id===ft);vt&&navigator.clipboard.writeText(vt.text).then(()=>{console.log(" :",vt.text)}).catch(I=>{console.error("  :",I)})};a.items.some(ft=>ft.completed);const R=(ft,vt)=>{ft.stopPropagation(),y({...m,draggedItemId:vt,sourceSectionId:a.id})},Pt=(ft,vt)=>{ft.preventDefault(),m.dragOverItemId!==vt&&y({...m,dragOverItemId:vt})},ue=(ft,vt)=>{if(ft.preventDefault(),ft.stopPropagation(),!m.draggedItemId||m.sourceSectionId!==a.id)return;const I=a.items.findIndex(F=>F.id===m.draggedItemId),$=a.items.findIndex(F=>F.id===vt);if(I===-1||$===-1)return;const ut=[...a.items],[gt]=ut.splice(I,1);ut.splice($,0,gt),i({...a,items:ut})},X=()=>{y({...m,draggedItemId:null,dragOverItemId:null,sourceSectionId:null})},ht=m.draggedSectionId===a.id,Et=m.dragOverSectionId===a.id;return b.jsxs("section",{"data-section-id":a.id,draggable:!bt,onDragStart:v,onDragOver:T,onDrop:S,onDragEnd:C,className:`bg-white px-4 py-4 transition-all flex flex-col ${G||Z?"h-full":"h-[350px]"} cursor-default ${j?"border-2 border-yellow-400 shadow-lg ring-2 ring-yellow-300/50":ht?"opacity-40 border-2 border-slate-600 shadow-sm":Et?"border-blue-500 border-2 scale-[1.01] shadow-sm":"border-2 border-black shadow-sm"}`,children:[b.jsxs("div",{className:`flex items-center justify-between mb-3 gap-2 cursor-move flex-shrink-0 px-4 py-3 -mx-4 -mt-4 mb-3 border-b-2 border-black ${Q}`,title:"  ",children:[b.jsx("div",{className:"flex-1 min-w-0",children:b.jsx(ro,{value:a.title,onChange:At,onEditingChange:pt,className:"text-xl font-bold text-black",placeholder:" "})}),b.jsxs("div",{className:"flex items-center gap-1.5",children:[!G&&b.jsx("button",{onClick:A,className:"text-red-500 hover:text-red-700 p-0.5 rounded-full transition-colors",title:a.isLocked?"  ":" ",children:a.isLocked?b.jsx($u,{}):b.jsx(NE,{})}),!G&&b.jsx("button",{disabled:a.isLocked,onClick:()=>r(a.id),className:"bg-red-500 hover:bg-red-600 text-white px-2 py-1 rounded-md transition-colors text-sm font-medium border-2 border-black disabled:opacity-30 disabled:cursor-not-allowed",title:a.isLocked?"    ":" ",children:""})]})]}),b.jsxs("div",{className:"mb-3 flex-shrink-0 flex gap-0",children:[b.jsx("input",{type:"text",value:et,onChange:ft=>lt(ft.target.value),onKeyDown:N,placeholder:"    Enter...",className:"flex-1 px-3 py-2 text-sm border-2 border-black border-r-0 rounded-l-lg bg-white focus:outline-none focus:ring-2 focus:ring-yellow-400 focus:border-yellow-400 transition-all"}),b.jsx("button",{onClick:()=>{const ft=et.trim();if(ft==="")return;const vt={id:Math.random().toString(36).substr(2,9),text:ft,completed:!1};i({...a,items:[vt,...a.items]}),lt("")},className:"px-3 py-2 text-lg font-bold bg-yellow-400 hover:bg-yellow-500 text-black border-2 border-black border-l-0 rounded-r-lg transition-colors whitespace-nowrap",title:"",children:"+"})]}),b.jsxs("div",{className:"space-y-0.5 overflow-y-auto overflow-x-hidden flex-1 pr-1",children:[[...a.items].sort((ft,vt)=>ft.completed===vt.completed?0:ft.completed?1:-1).map(ft=>b.jsx(OE,{item:ft,sectionId:a.id,memo:e[ft.id],onToggle:()=>w(ft.id),onUpdateText:vt=>L(ft.id,vt),onDelete:()=>O(ft.id),onAddMemo:()=>o(ft.id),onMoveItem:()=>h(ft.id),onCopy:()=>k(ft.id),onAddToCalendar:d?()=>d(ft.text):void 0,dragState:m,onDragStart:vt=>R(vt,ft.id),onDragOver:vt=>Pt(vt,ft.id),onDrop:vt=>ue(vt,ft.id),onDragEnd:X},ft.id)),a.items.length===0&&b.jsx("div",{className:"flex flex-col items-center justify-center h-full text-slate-400 opacity-60",children:b.jsx("p",{className:"text-[11px] italic",children:"  ."})})]})]})},ME=({isOpen:a,title:e,message:i,onConfirm:r,onCancel:o})=>a?b.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-slate-900/20 backdrop-blur-[2px]",children:b.jsxs("div",{className:"bg-white w-full max-w-sm rounded-2xl shadow-2xl border border-slate-200 overflow-hidden transform transition-all",children:[b.jsx("div",{className:"px-6 py-4 border-b border-slate-100",children:b.jsx("h2",{className:"text-lg font-bold text-slate-800",children:e})}),b.jsx("div",{className:"px-6 py-6",children:b.jsx("p",{className:"text-slate-600 text-sm leading-relaxed",children:i})}),b.jsxs("div",{className:"px-6 py-4 border-t border-slate-100 bg-slate-50 flex justify-end gap-3",children:[b.jsx("button",{onClick:o,className:"px-4 py-2 bg-slate-200 text-slate-800 text-sm font-semibold rounded-lg hover:bg-slate-300 transition-colors",children:""}),b.jsx("button",{onClick:r,className:"px-4 py-2 bg-red-500 text-white text-sm font-semibold rounded-lg hover:bg-red-600 transition-colors",children:""})]})]})}):null,jE=({info:a,onChange:e,onShowChecklistMemo:i,onShowShoppingMemo:r,onAddToCalendar:o})=>{const h=a.checklistItems||[],d=a.shoppingListItems||[],[m,y]=at.useState({draggedItemId:null,dragOverItemId:null}),[v,T]=at.useState({draggedItemId:null,dragOverItemId:null}),[S,C]=at.useState(null),[j,G]=at.useState({left:0}),[Z,V]=at.useState({isOpen:!1,itemId:null,itemText:"",type:"checklist"}),[Q,et]=at.useState(new Set),lt=(F,rt)=>{et(dt=>{const Rt=new Set(dt);return rt?Rt.add(F):Rt.delete(F),Rt})},bt=at.useRef(null),pt=at.useRef({});Ec(bt,()=>C(null));const At=(F,rt)=>{F.stopPropagation();const dt=window.innerWidth<768;if(pt.current[rt]&&!dt){const Rt=pt.current[rt].getBoundingClientRect();window.innerHeight-Rt.bottom>=240?G({top:Rt.bottom+8,left:Rt.right+8}):G({bottom:window.innerHeight-Rt.top+8,left:Rt.right+8})}C(S===rt?null:rt)},N=()=>{const F={id:Math.random().toString(36).substr(2,9),text:"",completed:!1};e({...a,checklistItems:[...h,F]})},A=F=>{const rt=h.map(dt=>dt.id===F?{...dt,completed:!dt.completed}:dt);e({...a,checklistItems:rt})},w=(F,rt)=>{const dt=h.map(Rt=>Rt.id===F?{...Rt,text:rt}:Rt);e({...a,checklistItems:dt})},L=F=>{const rt=h.filter(dt=>dt.id!==F);e({...a,checklistItems:rt})},O=F=>{const rt=h.find(dt=>dt.id===F);rt&&navigator.clipboard.writeText(rt.text).then(()=>{console.log(" :",rt.text)}).catch(dt=>{console.error("  :",dt)})},k=(F,rt)=>{F.stopPropagation(),y({draggedItemId:rt,dragOverItemId:null})},R=(F,rt)=>{F.preventDefault(),m.dragOverItemId!==rt&&y(dt=>({...dt,dragOverItemId:rt}))},Pt=(F,rt)=>{if(F.preventDefault(),F.stopPropagation(),!m.draggedItemId||m.draggedItemId===rt)return;const dt=h.findIndex(rn=>rn.id===m.draggedItemId),Rt=h.findIndex(rn=>rn.id===rt);if(dt===-1||Rt===-1)return;const mt=[...h],[He]=mt.splice(dt,1);mt.splice(Rt,0,He),e({...a,checklistItems:mt}),y({draggedItemId:null,dragOverItemId:null})},ue=()=>{y({draggedItemId:null,dragOverItemId:null})},X=()=>{const F={id:Math.random().toString(36).substr(2,9),text:"",completed:!1};e({...a,shoppingListItems:[...d,F]})},ht=F=>{const rt=d.map(dt=>dt.id===F?{...dt,completed:!dt.completed}:dt);e({...a,shoppingListItems:rt})},Et=(F,rt)=>{const dt=d.map(Rt=>Rt.id===F?{...Rt,text:rt}:Rt);e({...a,shoppingListItems:dt})},ft=F=>{const rt=d.filter(dt=>dt.id!==F);e({...a,shoppingListItems:rt})},vt=F=>{const rt=d.find(dt=>dt.id===F);rt&&navigator.clipboard.writeText(rt.text).then(()=>{console.log(" :",rt.text)}).catch(dt=>{console.error("  :",dt)})},I=(F,rt)=>{F.stopPropagation(),T({draggedItemId:rt,dragOverItemId:null})},$=(F,rt)=>{F.preventDefault(),v.dragOverItemId!==rt&&T(dt=>({...dt,dragOverItemId:rt}))},ut=(F,rt)=>{if(F.preventDefault(),F.stopPropagation(),!v.draggedItemId||v.draggedItemId===rt)return;const dt=d.findIndex(rn=>rn.id===v.draggedItemId),Rt=d.findIndex(rn=>rn.id===rt);if(dt===-1||Rt===-1)return;const mt=[...d],[He]=mt.splice(dt,1);mt.splice(Rt,0,He),e({...a,shoppingListItems:mt}),T({draggedItemId:null,dragOverItemId:null})},gt=()=>{T({draggedItemId:null,dragOverItemId:null})};return b.jsxs("div",{className:"flex flex-col h-full bg-white border-2 border-black p-4 shadow-sm",children:[b.jsx("div",{className:"flex items-center justify-between mb-3 flex-shrink-0",children:b.jsx("h2",{className:"text-sm font-bold text-slate-800",children:""})}),b.jsxs("div",{className:"mb-4",children:[b.jsx("label",{className:"block text-[9px] font-bold text-slate-500 mb-0.5 uppercase tracking-wider",children:"Location Info"}),b.jsx("input",{type:"text",value:a.text,onChange:F=>e({text:F.target.value,checklistItems:h}),placeholder:": B2 14C",className:"w-full px-2 py-1.5 bg-slate-50 border border-slate-300 rounded-lg focus:outline-none focus:ring-1 focus:ring-slate-500 text-xs text-slate-700 font-medium placeholder:text-slate-300"})]}),b.jsx("div",{className:"border-t-2 border-blue-400 mb-4"}),b.jsxs("div",{className:"flex-1 flex flex-col min-h-0",children:[b.jsxs("div",{className:"flex items-center justify-between mb-2",children:[b.jsx("label",{className:"block text-sm font-bold text-slate-800",children:""}),b.jsx("button",{onClick:N,className:"text-xs text-blue-600 hover:text-blue-700 font-medium",children:"+ "})]}),b.jsx("div",{className:"border-t border-slate-200 mb-3"}),b.jsxs("div",{className:"space-y-0 overflow-y-auto overflow-x-hidden flex-1",children:[[...h].sort((F,rt)=>F.completed===rt.completed?0:F.completed?1:-1).map(F=>{var Rt;const rt=m.draggedItemId===F.id,dt=m.dragOverItemId===F.id;return b.jsxs("div",{draggable:!Q.has(F.id),onDragStart:mt=>k(mt,F.id),onDragOver:mt=>R(mt,F.id),onDrop:mt=>Pt(mt,F.id),onDragEnd:ue,className:`flex items-center gap-1 py-1.5 px-0 rounded transition-all cursor-move relative min-h-0 ${rt?"opacity-50 bg-slate-100":dt?"bg-blue-50 border-l-2 border-blue-400":"hover:bg-slate-50"}`,children:[b.jsx("input",{type:"checkbox",checked:F.completed,onChange:()=>A(F.id),className:"w-5 h-5 rounded border-slate-300 text-slate-700 focus:ring-slate-500 cursor-pointer flex-shrink-0"}),b.jsxs("div",{className:"flex-1 min-w-0",children:[b.jsx("div",{className:`text-sm leading-snug font-medium ${F.completed?"line-through text-slate-400":"text-slate-700"}`,children:b.jsx(ro,{value:F.text,onChange:mt=>w(F.id,mt),onEditingChange:mt=>lt(F.id,mt),placeholder:" ...",className:"text-sm",compact:!0})}),((Rt=a.checklistMemos)==null?void 0:Rt[F.id])&&b.jsx("div",{onClick:mt=>{mt.stopPropagation(),i(F.id)},className:"text-xs text-green-600 truncate cursor-pointer hover:text-green-700 transition-colors mt-0.5 pl-1 font-medium",title:a.checklistMemos[F.id],children:b.jsx(Lr,{text:a.checklistMemos[F.id]})})]}),b.jsxs("div",{className:"relative flex-shrink-0 -mr-3",children:[b.jsx("button",{ref:mt=>{mt&&(pt.current[F.id]=mt)},onClick:mt=>At(mt,F.id),className:"text-slate-600 hover:text-slate-800 transition-colors p-1.5 rounded",title:"",style:{transform:"scale(1.2)"},children:b.jsx(ac,{})}),S===F.id&&(()=>{const mt=window.innerWidth<768;return b.jsxs("div",{ref:bt,className:`${mt?"absolute":"fixed"} bg-white rounded-lg shadow-xl border border-slate-200 z-50 py-1.5 w-48 animate-in fade-in ${mt?"slide-in-from-right-2":"slide-in-from-left-2"} duration-150`,style:{...mt?{right:0,top:"100%",marginTop:"4px"}:{...j.top!==void 0&&{top:`${j.top}px`},...j.bottom!==void 0&&{bottom:`${j.bottom}px`},left:`${j.left}px`}},onClick:He=>He.stopPropagation(),children:[b.jsx("button",{onClick:()=>{i(F.id),C(null)},className:"w-full text-left px-4 py-2.5 text-sm text-slate-700 hover:bg-slate-100 transition-colors",children:"  /"}),b.jsx("button",{onClick:()=>{O(F.id),C(null)},className:"w-full text-left px-4 py-2.5 text-sm text-slate-700 hover:bg-slate-100 transition-colors",children:" "}),b.jsx("button",{onClick:()=>{o(F.text),C(null)},className:"w-full text-left px-4 py-2.5 text-sm text-slate-700 hover:bg-slate-100 transition-colors",children:"  "}),b.jsx("button",{onClick:()=>{V({isOpen:!0,itemId:F.id,itemText:F.text,type:"checklist"}),C(null)},className:"w-full text-left px-4 py-2.5 text-sm text-red-600 hover:bg-red-50 transition-colors border-t border-slate-200",children:" "})]})})()]})]},F.id)}),h.length===0&&b.jsx("div",{className:"text-center py-4 text-slate-400 text-xs italic",children:" "})]})]}),b.jsx("div",{className:"border-t-2 border-blue-400 my-4"}),b.jsxs("div",{className:"flex-1 flex flex-col min-h-0",children:[b.jsxs("div",{className:"flex items-center justify-between mb-2",children:[b.jsx("label",{className:"block text-sm font-bold text-slate-800",children:""}),b.jsx("button",{onClick:X,className:"text-xs text-blue-600 hover:text-blue-700 font-medium",children:"+ "})]}),b.jsx("div",{className:"border-t border-slate-200 mb-3"}),b.jsxs("div",{className:"space-y-0 overflow-y-auto overflow-x-hidden flex-1",children:[[...d].sort((F,rt)=>F.completed===rt.completed?0:F.completed?1:-1).map(F=>{var Rt;const rt=v.draggedItemId===F.id,dt=v.dragOverItemId===F.id;return b.jsxs("div",{draggable:!Q.has(F.id),onDragStart:mt=>I(mt,F.id),onDragOver:mt=>$(mt,F.id),onDrop:mt=>ut(mt,F.id),onDragEnd:gt,className:`flex items-center gap-1 py-1.5 px-0 rounded transition-all cursor-move relative min-h-0 ${rt?"opacity-50 bg-slate-100":dt?"bg-blue-50 border-l-2 border-blue-400":"hover:bg-slate-50"}`,children:[b.jsx("input",{type:"checkbox",checked:F.completed,onChange:()=>ht(F.id),className:"w-5 h-5 rounded border-slate-300 text-slate-700 focus:ring-slate-500 cursor-pointer flex-shrink-0"}),b.jsxs("div",{className:"flex-1 min-w-0",children:[b.jsx("div",{className:`text-sm leading-snug font-medium ${F.completed?"line-through text-slate-400":"text-slate-700"}`,children:b.jsx(ro,{value:F.text,onChange:mt=>Et(F.id,mt),onEditingChange:mt=>lt(F.id,mt),placeholder:" ...",className:"text-sm",compact:!0})}),((Rt=a.shoppingListMemos)==null?void 0:Rt[F.id])&&b.jsx("div",{onClick:mt=>{mt.stopPropagation(),r(F.id)},className:"text-xs text-green-600 truncate cursor-pointer hover:text-green-700 transition-colors mt-0.5 pl-1 font-medium",title:a.shoppingListMemos[F.id],children:b.jsx(Lr,{text:a.shoppingListMemos[F.id]})})]}),b.jsxs("div",{className:"relative flex-shrink-0 -mr-3",children:[b.jsx("button",{ref:mt=>{mt&&(pt.current[F.id]=mt)},onClick:mt=>At(mt,F.id),className:"text-slate-600 hover:text-slate-800 transition-colors p-1.5 rounded",title:"",style:{transform:"scale(1.2)"},children:b.jsx(ac,{})}),S===F.id&&(()=>{const mt=window.innerWidth<768;return b.jsxs("div",{ref:bt,className:`${mt?"absolute":"fixed"} bg-white rounded-lg shadow-xl border border-slate-200 z-50 py-1.5 w-48 animate-in fade-in ${mt?"slide-in-from-right-2":"slide-in-from-left-2"} duration-150`,style:{...mt?{right:0,top:"100%",marginTop:"4px"}:{...j.top!==void 0&&{top:`${j.top}px`},...j.bottom!==void 0&&{bottom:`${j.bottom}px`},left:`${j.left}px`}},onClick:He=>He.stopPropagation(),children:[b.jsx("button",{onClick:()=>{r(F.id),C(null)},className:"w-full text-left px-4 py-2.5 text-sm text-slate-700 hover:bg-slate-100 transition-colors",children:"  /"}),b.jsx("button",{onClick:()=>{vt(F.id),C(null)},className:"w-full text-left px-4 py-2.5 text-sm text-slate-700 hover:bg-slate-100 transition-colors",children:" "}),b.jsx("button",{onClick:()=>{o(F.text),C(null)},className:"w-full text-left px-4 py-2.5 text-sm text-slate-700 hover:bg-slate-100 transition-colors",children:"  "}),b.jsx("button",{onClick:()=>{V({isOpen:!0,itemId:F.id,itemText:F.text,type:"shopping"}),C(null)},className:"w-full text-left px-4 py-2.5 text-sm text-red-600 hover:bg-red-50 transition-colors border-t border-slate-200",children:" "})]})})()]})]},F.id)}),d.length===0&&b.jsx("div",{className:"text-center py-4 text-slate-400 text-xs italic",children:" "})]})]}),Z.isOpen&&b.jsx("div",{className:"fixed inset-0 bg-black/40 flex items-center justify-center z-50 animate-in fade-in duration-150",children:b.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-6 max-w-sm mx-4 animate-in zoom-in duration-200",children:[b.jsx("h2",{className:"text-lg font-bold text-slate-800 mb-2",children:" ?"}),b.jsxs("p",{className:"text-sm text-slate-600 mb-6",children:['"',Z.itemText&&Z.itemText.length>30?Z.itemText.substring(0,30)+"...":Z.itemText,'"',Z.itemText.length>30&&"","() ."]}),b.jsxs("div",{className:"flex gap-3 justify-end",children:[b.jsx("button",{onClick:()=>V({...Z,isOpen:!1}),className:"px-4 py-2 rounded-lg border-2 border-slate-300 text-slate-700 font-medium hover:bg-slate-50 transition-colors",children:""}),b.jsx("button",{onClick:()=>{Z.type==="checklist"?L(Z.itemId):ft(Z.itemId),V({isOpen:!1,itemId:null,itemText:"",type:"checklist"})},className:"px-4 py-2 rounded-lg bg-red-500 hover:bg-red-600 text-white font-medium border-2 border-black transition-colors",children:""})]})]})})]})},My=[{bg:"bg-[#F59E0B]",bgLight:"bg-[#FEF3C7]",text:"text-[#92400E]",textLight:"text-[#D97706]",border:"border-[#F59E0B]"},{bg:"bg-[#3B82F6]",bgLight:"bg-[#DBEAFE]",text:"text-[#1E3A8A]",textLight:"text-[#3B82F6]",border:"border-[#3B82F6]"},{bg:"bg-[#9333EA]",bgLight:"bg-[#F3E8FF]",text:"text-[#581C87]",textLight:"text-[#9333EA]",border:"border-[#9333EA]"},{bg:"bg-[#10B981]",bgLight:"bg-[#D1FAE5]",text:"text-[#065F46]",textLight:"text-[#10B981]",border:"border-[#10B981]"},{bg:"bg-[#F43F5E]",bgLight:"bg-[#FFE4E6]",text:"text-[#881337]",textLight:"text-[#F43F5E]",border:"border-[#F43F5E]"},{bg:"bg-[#06B6D4]",bgLight:"bg-[#CFFAFE]",text:"text-[#164E63]",textLight:"text-[#06B6D4]",border:"border-[#06B6D4]"},{bg:"bg-[#8B5CF6]",bgLight:"bg-[#EDE9FE]",text:"text-[#4C1D95]",textLight:"text-[#8B5CF6]",border:"border-[#8B5CF6]"},{bg:"bg-[#F97316]",bgLight:"bg-[#FFEDD5]",text:"text-[#7C2D12]",textLight:"text-[#F97316]",border:"border-[#F97316]"}],Zl=a=>My[a%My.length],LE=({tab:a,onDelete:e,onToggleLock:i,canDelete:r,isActive:o,tabColor:h})=>{const[d,m]=at.useState(!1),[y,v]=at.useState({bottom:0,left:0}),T=at.useRef(null),S=at.useRef(null);Ec(S,()=>m(!1));const C=G=>{if(G.stopPropagation(),T.current){const Z=T.current.getBoundingClientRect();v({bottom:window.innerHeight-Z.top+8,left:Z.left})}m(!d)},j=r&&!a.isLocked;return b.jsxs("div",{className:"relative ml-1",children:[b.jsx("button",{ref:T,onClick:C,className:`p-1 rounded-full transition-all flex items-center justify-center ${o?`opacity-100 ${h.text} hover:bg-black/5`:`opacity-40 group-hover:opacity-100 ${h.textLight} hover:bg-black/5`}`,title:" ",children:b.jsx(ac,{})}),d&&b.jsxs("div",{ref:S,className:"fixed bg-white rounded-xl shadow-[0_10px_30px_rgba(0,0,0,0.2)] border border-slate-200 z-[999] py-1 overflow-hidden animate-in fade-in slide-in-from-bottom-2 duration-150 w-32",style:{bottom:`${y.bottom}px`,left:`${y.left}px`},onClick:G=>G.stopPropagation(),children:[b.jsxs("button",{onClick:()=>{i(a.id),m(!1)},className:"w-full text-left px-3 py-2 text-xs text-slate-700 hover:bg-slate-100 transition-colors flex items-center gap-2",children:[b.jsx("span",{className:"text-sm leading-none",children:a.isLocked?"":""}),b.jsx("span",{className:"font-bold",children:a.isLocked?" ":""})]}),b.jsxs("button",{disabled:!j,onClick:()=>{e(a.id),m(!1)},className:`w-full text-left px-3 py-2 text-xs transition-colors flex items-center gap-2 border-t border-slate-50 ${j?"text-red-600 hover:bg-red-50":"text-slate-300 cursor-not-allowed bg-slate-50"}`,children:[b.jsx("span",{className:"text-sm leading-none",children:""}),b.jsx("span",{className:"font-bold",children:""})]}),b.jsx("button",{onClick:()=>m(!1),className:"w-full text-left px-3 py-2 text-xs text-slate-500 hover:bg-slate-100 transition-colors border-t border-slate-100 font-medium",children:""})]})]})},kE=({tabs:a,activeTabId:e,onSelectTab:i,onAddTab:r,onRenameTab:o,onDeleteTab:h,onToggleLockTab:d,onReorderTabs:m,onNavigateToInbox:y,hasInbox:v})=>{const[T,S]=at.useState(null),[C,j]=at.useState(null),G=(et,lt)=>{if(a[lt].isLocked){et.preventDefault();return}S(lt),et.dataTransfer.effectAllowed="move"},Z=(et,lt)=>{et.preventDefault(),et.dataTransfer.dropEffect="move",j(lt)},V=(et,lt)=>{et.preventDefault(),T!==null&&T!==lt&&m(T,lt),S(null),j(null)},Q=()=>{S(null),j(null)};return b.jsx("div",{className:"bg-white border-t border-slate-200 z-[100] h-12 shadow-[0_-2px_15px_rgba(0,0,0,0.08)] relative",children:b.jsxs("div",{className:"w-full h-full flex items-center overflow-x-auto no-scrollbar whitespace-nowrap px-6 gap-1",children:[v&&b.jsx("button",{onClick:y,className:"flex items-center justify-center w-8 h-8 text-lg leading-none hover:bg-blue-50 rounded-lg transition-all active:scale-95 flex-shrink-0",title:"  IN-BOX  ",children:""}),a.map((et,lt)=>{const bt=Zl(lt),pt=e===et.id,At=T===lt,N=C===lt;return b.jsxs("div",{draggable:!et.isLocked,onDragStart:A=>G(A,lt),onDragOver:A=>Z(A,lt),onDrop:A=>V(A,lt),onDragEnd:Q,onClick:()=>i(et.id),className:`group flex items-center gap-1.5 px-2.5 py-1.5 rounded-lg cursor-pointer transition-all border flex-shrink-0 ${At?"opacity-50":""} ${N?"ring-2 ring-offset-1 ring-blue-400":""} ${et.isLocked?"":"hover:shadow-md"} ${pt?`${bt.bg} ${bt.text} ${bt.border} shadow-sm`:`${bt.bgLight} ${bt.textLight} border-transparent hover:${bt.border}`} ${et.isLocked?"cursor-default":""}`,children:[b.jsx("div",{draggable:!1,onDragStart:A=>A.stopPropagation(),children:b.jsx(ro,{value:et.name,onChange:A=>o(et.id,A),className:`text-xs min-w-[40px] text-center ${pt?"font-bold":"font-medium"}`,placeholder:" "})}),b.jsx(LE,{tab:et,onDelete:h,onToggleLock:d,canDelete:a.length>1,isActive:pt,tabColor:bt})]},et.id)}),b.jsx("div",{className:"flex items-center ml-2 border-l border-slate-200 pl-4 flex-shrink-0 h-8",children:b.jsxs("button",{onClick:r,className:"flex items-center gap-1.5 px-3 py-1.5 text-xs font-bold text-emerald-600 hover:bg-emerald-50 rounded-lg transition-all active:scale-95",children:[b.jsx("span",{className:"text-lg leading-none",children:"+"}),b.jsx("span",{children:" "})]})})]})})},zE=["#F1F1EF","#F4EEEE","#FBECDD","#FBF3DB","#EDF3EC","#E7F3F8","#F3F0F5","#F9F0F4","#FDEBEC","#FFFFFF","#E1E1E1","#D3D3D3","#E9E5E3","#F7F6F3","#FAF9F6","#F1F5F9","#F0FDF4","#EFF6FF","#F5F3FF","#FDF2F8","#FFFBEB","#FFF1F2","#FEFCE8","#F0FDFA"],UE=({isOpen:a,bookmark:e,onClose:i,onSave:r})=>{const[o,h]=at.useState({...e});if(at.useEffect(()=>{a&&h({...e})},[a,e]),!a)return null;const d=()=>{r(o)},m=y=>y.startsWith("#");return b.jsx("div",{className:"fixed inset-0 z-[200] flex items-center justify-center p-4 bg-black/30 backdrop-blur-[2px]",onClick:i,children:b.jsxs("div",{className:"bg-[#F7F6F3] w-full max-w-2xl rounded-xl shadow-2xl overflow-hidden animate-in fade-in zoom-in duration-200",onClick:y=>y.stopPropagation(),children:[b.jsxs("div",{className:"bg-white px-6 py-4 flex items-center justify-between border-b border-slate-200",children:[b.jsx("h2",{className:"text-lg font-bold text-slate-800",children:" "}),b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("button",{onClick:d,className:"px-4 py-1.5 bg-[#3B82F6] text-white text-sm font-bold rounded shadow-sm hover:brightness-95 active:scale-95 transition-all",children:""}),b.jsx("button",{onClick:i,className:"px-4 py-1.5 bg-[#F1B116] text-white text-sm font-bold rounded shadow-sm hover:brightness-95 active:scale-95 transition-all",children:""})]})]}),b.jsxs("div",{className:"p-8 flex flex-col md:flex-row gap-12",children:[b.jsxs("div",{className:"flex-1 space-y-6",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-bold text-slate-400 mb-2 uppercase tracking-tight",children:""}),b.jsx("input",{type:"text",value:o.label,onChange:y=>h({...o,label:y.target.value}),className:"w-full px-4 py-2.5 bg-white border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/20 text-slate-700 font-medium"})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-bold text-slate-400 mb-2 uppercase tracking-tight",children:"URL"}),b.jsx("input",{type:"text",value:o.url,onChange:y=>h({...o,url:y.target.value}),className:"w-full px-4 py-2.5 bg-white border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/20 text-slate-700 font-medium"})]})]}),b.jsxs("div",{className:"flex-1",children:[b.jsx("label",{className:"block text-sm font-bold text-slate-400 mb-4 text-center md:text-left uppercase tracking-tight",children:"  "}),b.jsx("div",{className:"grid grid-cols-6 gap-2 mb-8",children:zE.map(y=>b.jsx("button",{onClick:()=>h({...o,color:`bg-[${y}]`}),className:`w-10 h-10 rounded-lg border transition-all hover:scale-110 ${o.color===`bg-[${y}]`?"border-blue-500 shadow-md scale-110 ring-2 ring-blue-100":"border-slate-200"}`,style:{backgroundColor:y}},y))}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-bold text-slate-400 mb-2 uppercase tracking-tight",children:" "}),b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("div",{className:"w-12 h-10 rounded border border-slate-300 relative overflow-hidden",style:{backgroundColor:m(o.color.replace("bg-[","").replace("]",""))?o.color.replace("bg-[","").replace("]",""):"#FFFFFF"},children:b.jsx("input",{type:"color",className:"absolute inset-0 opacity-0 cursor-pointer w-full h-full",value:m(o.color.replace("bg-[","").replace("]",""))?o.color.replace("bg-[","").replace("]",""):"#FFFFFF",onChange:y=>h({...o,color:`bg-[${y.target.value.toUpperCase()}]`})})}),b.jsx("input",{type:"text",value:o.color.replace("bg-[","").replace("]",""),onChange:y=>h({...o,color:`bg-[${y.target.value.toUpperCase()}]`}),className:"flex-1 px-4 py-2 bg-white border border-slate-300 rounded-lg focus:outline-none text-slate-700 font-mono",placeholder:"#000000"})]})]})]})]})]})})},BE=({bookmarks:a,onUpdateBookmarks:e})=>{const[i,r]=at.useState(null),[o,h]=at.useState(null),[d,m]=at.useState(null),y=Q=>{Q&&(Q.startsWith("http")?window.open(Q,"_blank"):window.open(`https://${Q}`,"_blank"))},v=(Q,et)=>{Q.preventDefault(),r(et)},T=(Q,et)=>{h(et),Q.dataTransfer.effectAllowed="move"},S=(Q,et)=>{Q.preventDefault(),Q.dataTransfer.dropEffect="move",o&&o!==et&&m(et)},C=()=>{m(null)},j=(Q,et)=>{if(Q.preventDefault(),!o||o===et){h(null),m(null);return}const lt=a.findIndex(pt=>pt.id===o),bt=a.findIndex(pt=>pt.id===et);if(lt!==-1&&bt!==-1){const pt=[...a],[At]=pt.splice(lt,1);pt.splice(bt,0,At),e(pt)}h(null),m(null)},G=()=>{h(null),m(null)},Z=Q=>{if(!i)return;const et=a.map(lt=>lt.id===Q.id?Q:lt);e(et),r(null)},V=Q=>Q.startsWith("bg-[")?Q.replace("bg-[","").replace("]",""):Q;return b.jsxs("div",{className:"w-full bg-white border-b border-slate-200 py-2.5 px-4 overflow-hidden",children:[b.jsx("div",{className:"grid grid-cols-5 md:grid-cols-[repeat(15,minmax(0,1fr))] gap-1.5",children:a.slice(0,15).map(Q=>b.jsx("div",{className:`relative group/btn transition-all ${o===Q.id?"opacity-50":""} ${d===Q.id?"transform scale-105":""}`,draggable:!0,onDragStart:et=>T(et,Q.id),onDragOver:et=>S(et,Q.id),onDragLeave:C,onDrop:et=>j(et,Q.id),onDragEnd:G,children:b.jsx("button",{onClick:()=>y(Q.url),onContextMenu:et=>v(et,Q),className:"w-full h-11 px-2 py-1 rounded-lg border border-slate-200/60 text-[11px] font-bold transition-all active:scale-95 flex items-center justify-center hover:brightness-95 hover:shadow-sm text-slate-700 overflow-hidden leading-tight cursor-move",style:{backgroundColor:V(Q.color)},children:b.jsx("span",{className:"line-clamp-2 text-center break-all",children:Q.label||"Empty"})})},Q.id))}),i&&b.jsx(UE,{isOpen:!!i,bookmark:i,onClose:()=>r(null),onSave:Z})]})},PE=({notes:a,onChange:e})=>{const[i,r]=at.useState(null),[o,h]=at.useState(""),[d,m]=at.useState(""),y=Array.from({length:16},(j,G)=>a[G]||{title:"",content:""}),v=Array.from({length:16},(j,G)=>({note:y[G],originalIndex:G})).sort((j,G)=>{const Z=j.note.title||j.note.content,V=G.note.title||G.note.content;return Z===V?0:Z?-1:1}),T=j=>{r(j),h(y[j].title),m(y[j].content)},S=()=>{if(i!==null){const j=[...y];j[i]={title:o,content:d},e(j),r(null)}},C=()=>{if(i!==null){const j=[...y];j[i]={title:"",content:""},e(j),r(null)}};return b.jsxs("div",{className:"w-full h-full flex flex-col py-2 px-2 gap-1 overflow-hidden",children:[v.map(({note:j,originalIndex:G})=>{const Z=j.title||j.content;return b.jsx("div",{className:"flex-1 min-h-0 w-full",children:b.jsx("button",{onClick:()=>T(G),className:`w-full h-full px-2 py-1 rounded-lg border border-slate-200/60 text-[12px] font-bold transition-all active:scale-95 flex flex-col items-center justify-center hover:brightness-95 hover:shadow-sm overflow-hidden leading-tight ${Z?"bg-purple-400 text-white":"bg-[#FBF3DB] text-slate-700"}`,children:b.jsx("span",{className:"line-clamp-2 text-center break-all font-bold",children:b.jsx(Lr,{text:j.title||(j.content?j.content.substring(0,10):" ")})})})},G)}),i!==null&&b.jsx("div",{className:"fixed inset-0 z-[300] flex items-center justify-center p-4 bg-black/40 backdrop-blur-sm",onClick:()=>r(null),children:b.jsxs("div",{className:"bg-white w-full max-w-3xl h-[70vh] shadow-2xl border border-slate-200 overflow-hidden animate-in zoom-in duration-200 flex flex-col",onClick:j=>j.stopPropagation(),children:[b.jsxs("div",{className:"px-8 py-5 border-b border-black flex items-center gap-4 bg-white shrink-0",children:[b.jsxs("div",{className:"flex-1 flex items-center gap-2",children:[b.jsx("span",{className:"text-xl",children:""}),b.jsx("input",{type:"text",autoFocus:!0,value:o,onChange:j=>h(j.target.value),placeholder:"  ...",className:"w-full text-lg font-extrabold text-slate-800 placeholder:text-slate-300 focus:outline-none bg-transparent"})]}),b.jsx("button",{onClick:()=>r(null),className:"text-slate-400 hover:text-slate-600 transition-colors",children:b.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),b.jsx("div",{className:"flex-1 overflow-hidden",children:b.jsx("textarea",{value:d,onChange:j=>m(j.target.value),className:"w-full h-full p-8 bg-transparent text-slate-700 text-base resize-none focus:outline-none custom-scrollbar font-medium leading-relaxed placeholder:text-slate-200",placeholder:"  ..."})}),b.jsxs("div",{className:"px-6 py-2 bg-slate-50 border-t border-black flex justify-between gap-3 shrink-0",children:[b.jsx("button",{onClick:C,className:"px-6 py-2.5 text-sm font-bold text-white bg-red-500 hover:bg-red-600 rounded-xl transition-all active:scale-95",children:""}),b.jsxs("div",{className:"flex gap-3",children:[b.jsx("button",{onClick:()=>r(null),className:"px-6 py-2.5 text-sm font-bold text-slate-500 hover:bg-slate-200 rounded-xl transition-all",children:""}),b.jsx("button",{onClick:S,className:"px-10 py-2.5 text-sm font-bold text-white bg-blue-500 hover:bg-blue-600 rounded-xl shadow-lg shadow-blue-500/20 transition-all active:scale-95",children:""})]})]})]})})]})},zf=({isExpanded:a})=>b.jsx("span",{className:"text-slate-500 font-bold transition-transform duration-200 inline-block text-xs flex-shrink-0",style:{transform:a?"rotate(90deg)":"rotate(0deg)"},children:""}),qE=({isOpen:a,tabs:e,activeTabId:i,onClose:r,onNavigate:o})=>{const[h,d]=at.useState(new Set([i])),[m,y]=at.useState(new Set);if(at.useEffect(()=>{a&&(d(new Set([i])),y(new Set))},[a,i]),!a)return null;const v=V=>V.sections.length+(V.inboxSection?1:0),T=V=>{var Q;return V.sections.reduce((et,lt)=>et+lt.items.length,0)+(((Q=V.inboxSection)==null?void 0:Q.items.length)||0)},S=()=>e.reduce((V,Q)=>V+v(Q),0),C=()=>e.reduce((V,Q)=>V+T(Q),0),j=V=>{d(Q=>{const et=new Set(Q);if(et.has(V)){et.delete(V);const lt=e.find(bt=>bt.id===V);lt&&y(bt=>{const pt=new Set(bt);return lt.inboxSection&&pt.delete(lt.inboxSection.id),lt.sections.forEach(At=>pt.delete(At.id)),pt})}else et.add(V);return et})},G=V=>{y(Q=>{const et=new Set(Q);return et.has(V)?et.delete(V):et.add(V),et})},Z=(V,Q)=>{o(V,Q)};return b.jsx("div",{className:"fixed inset-0 z-[250] flex items-center justify-center p-4 bg-black/30 backdrop-blur-[2px]",onClick:r,children:b.jsxs("div",{className:"bg-white w-full max-w-4xl max-h-[80vh] rounded-xl shadow-2xl overflow-hidden flex flex-col",onClick:V=>V.stopPropagation(),children:[b.jsxs("div",{className:"px-6 py-4 border-b border-slate-200 flex items-center justify-between bg-slate-50",children:[b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx(Y0,{}),b.jsx("h2",{className:"text-lg font-bold text-slate-800",children:"  "})]}),b.jsx("button",{onClick:r,className:"text-slate-400 hover:text-slate-600 p-2 rounded-lg transition-colors",title:"",children:b.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),b.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar p-6",children:e.length===0?b.jsx("div",{className:"text-center py-12 text-slate-400",children:b.jsx("p",{className:"italic",children:" ."})}):e.map(V=>b.jsxs("div",{className:"mb-4",children:[b.jsx("button",{onClick:()=>j(V.id),className:`w-full text-left px-4 py-3 rounded-lg mb-2 transition-all ${V.id===i?"bg-blue-50 border-2 border-blue-400":"hover:bg-slate-100 border border-slate-200"}`,children:b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx(zf,{isExpanded:h.has(V.id)}),b.jsx("span",{className:"text-lg",children:""}),b.jsx("span",{className:"font-semibold text-slate-800",children:V.name}),V.isLocked&&b.jsx($u,{}),b.jsxs("span",{className:"text-xs text-slate-400 ml-auto",children:[v(V)," , ",T(V)," "]})]})}),h.has(V.id)&&b.jsxs("div",{className:"pl-6 space-y-2",children:[V.inboxSection&&b.jsxs("div",{children:[b.jsxs("button",{onClick:()=>G(V.inboxSection.id),className:"w-full text-left px-4 py-2 rounded-lg hover:bg-slate-100 transition-all flex items-center gap-2",children:[b.jsx(zf,{isExpanded:m.has(V.inboxSection.id)}),b.jsx("span",{className:"text-base",children:""}),b.jsx("span",{className:"text-sm font-medium text-slate-700",children:V.inboxSection.title}),V.inboxSection.isLocked&&b.jsx("div",{className:"scale-75",children:b.jsx($u,{})}),b.jsxs("span",{className:"text-xs text-slate-400 ml-auto",children:[V.inboxSection.items.length," "]})]}),m.has(V.inboxSection.id)&&b.jsx("div",{className:"pl-8 space-y-1 mt-1",children:V.inboxSection.items.map(Q=>b.jsxs("button",{onClick:()=>Z(V.id,V.inboxSection.id),className:"w-full text-left px-3 py-1.5 rounded hover:bg-blue-50 transition-all text-xs text-slate-600 hover:text-slate-800 flex items-center gap-2",children:[b.jsx("span",{className:"flex-shrink-0",children:Q.completed?"":""}),b.jsx("span",{className:`truncate ${Q.completed?"line-through text-slate-400":""}`,children:Q.text||"( )"})]},Q.id))})]}),V.sections.length===0&&!V.inboxSection?b.jsx("div",{className:"pl-10 py-2 text-xs text-slate-400 italic",children:"  "}):V.sections.map(Q=>b.jsxs("div",{children:[b.jsxs("button",{onClick:()=>G(Q.id),className:"w-full text-left px-4 py-2 rounded-lg hover:bg-slate-100 transition-all flex items-center gap-2",children:[b.jsx(zf,{isExpanded:m.has(Q.id)}),b.jsx("span",{className:"text-base",children:""}),b.jsx("span",{className:"text-sm font-medium text-slate-700",children:Q.title}),Q.isLocked&&b.jsx("div",{className:"scale-75",children:b.jsx($u,{})}),b.jsxs("span",{className:"text-xs text-slate-400 ml-auto",children:[Q.items.length," "]})]}),m.has(Q.id)&&b.jsxs("div",{className:"pl-8 space-y-1 mt-1",children:[Q.items.map(et=>b.jsxs("button",{onClick:()=>Z(V.id,Q.id),className:"w-full text-left px-3 py-1.5 rounded hover:bg-blue-50 transition-all text-xs text-slate-600 hover:text-slate-800 flex items-center gap-2",children:[b.jsx("span",{className:"flex-shrink-0",children:et.completed?"":""}),b.jsx("span",{className:`truncate ${et.completed?"line-through text-slate-400":""}`,children:et.text||"( )"})]},et.id)),Q.items.length===0&&b.jsx("div",{className:"pl-3 py-1.5 text-xs text-slate-400 italic",children:" "})]})]},Q.id))]})]},V.id))}),b.jsxs("div",{className:"px-6 py-3 border-t border-slate-200 bg-slate-50 text-xs text-slate-500 text-center",children:[" ",e.length," , ",S()," , ",C()," "]})]})})},HE=({isOpen:a,itemText:e,currentTabId:i,currentSectionId:r,tabs:o,onMove:h,onCancel:d})=>{const[m,y]=at.useState(i),[v,T]=at.useState(""),S=at.useRef(null);if(Ec(S,d),at.useEffect(()=>{if(a){const V=o.find(Q=>Q.id===m);if(V){const et=o.findIndex(lt=>lt.id===m)===0&&V.inboxSection?V.inboxSection:V.sections[0];T((et==null?void 0:et.id)||"")}}},[a,m,o]),!a)return null;const C=o.find(V=>V.id===i),j=C==null?void 0:C.sections.find(V=>V.id===r),G=o.find(V=>V.id===m),Z=v&&!(m===i&&v===r);return b.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-slate-900/20 backdrop-blur-[2px]",children:b.jsxs("div",{ref:S,className:"bg-white w-full max-w-md rounded-2xl shadow-2xl border border-slate-200 overflow-hidden",children:[b.jsxs("div",{className:"px-6 py-4 border-b border-slate-100 flex items-center justify-between",children:[b.jsx("h2",{className:"text-lg font-bold text-slate-800",children:"  "}),b.jsx("button",{onClick:d,className:"text-slate-400 hover:text-slate-600 p-1 transition-colors",children:b.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),b.jsxs("div",{className:"px-6 py-6 space-y-4",children:[b.jsxs("div",{className:"bg-slate-50 rounded-lg p-3 border border-slate-200",children:[b.jsx("p",{className:"text-xs text-slate-500 mb-1",children:" "}),b.jsxs("p",{className:"text-sm font-semibold text-slate-700",children:[C==null?void 0:C.name," > ",j==null?void 0:j.title]})]}),b.jsxs("div",{className:"bg-blue-50 rounded-lg p-3 border border-blue-200",children:[b.jsx("p",{className:"text-xs text-blue-600 mb-1",children:" "}),b.jsx("p",{className:"text-sm font-medium text-slate-800 truncate",children:e||"( )"})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:" "}),b.jsx("select",{value:m,onChange:V=>y(V.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm bg-white text-slate-800",children:o.map(V=>b.jsx("option",{value:V.id,children:V.name},V.id))})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:" "}),b.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto custom-scrollbar border border-slate-200 rounded-lg p-3",children:!(G!=null&&G.inboxSection)&&(G==null?void 0:G.sections.length)===0?b.jsx("p",{className:"text-sm text-slate-400 italic text-center py-4",children:"   "}):b.jsxs(b.Fragment,{children:[o.findIndex(Q=>Q.id===m)===0&&(G==null?void 0:G.inboxSection)&&b.jsxs("label",{className:`flex items-center gap-3 p-2.5 rounded-lg cursor-pointer transition-colors hover:bg-slate-50 ${v===G.inboxSection.id?"bg-blue-50 border border-blue-300":"border border-transparent"}`,children:[b.jsx("input",{type:"radio",name:"targetSection",value:G.inboxSection.id,checked:v===G.inboxSection.id,onChange:Q=>T(Q.target.value),className:"w-4 h-4 text-blue-600 focus:ring-blue-500 flex-shrink-0"}),b.jsxs("span",{className:"text-sm font-medium flex-1 text-slate-700",children:[" ",G.inboxSection.title]})]}),G==null?void 0:G.sections.map(V=>b.jsxs("label",{className:`flex items-center gap-3 p-2.5 rounded-lg cursor-pointer transition-colors hover:bg-slate-50 ${v===V.id?"bg-blue-50 border border-blue-300":"border border-transparent"}`,children:[b.jsx("input",{type:"radio",name:"targetSection",value:V.id,checked:v===V.id,onChange:Q=>T(Q.target.value),className:"w-4 h-4 text-blue-600 focus:ring-blue-500 flex-shrink-0"}),b.jsx("span",{className:"text-sm font-medium flex-1 text-slate-700",children:V.title})]},V.id))]})})]})]}),b.jsxs("div",{className:"px-6 py-4 border-t border-slate-100 bg-slate-50 flex justify-end gap-3",children:[b.jsx("button",{onClick:d,className:"px-4 py-2 bg-slate-200 text-slate-800 text-sm font-semibold rounded-lg hover:bg-slate-300 transition-colors",children:""}),b.jsx("button",{onClick:()=>h(m,v),disabled:!Z,className:"px-5 py-2 bg-blue-500 text-white text-sm font-semibold rounded-lg hover:bg-blue-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:bg-blue-500",children:""})]})]})})},FE=({isOpen:a,itemText:e,onClose:i,onConfirm:r})=>{const o=new Date().toISOString().split("T")[0],[h,d]=at.useState(o),[m,y]=at.useState(!0),[v,T]=at.useState("09:00"),[S,C]=at.useState("10:00");if(!a)return null;const j=()=>{if(m)r(h,h,!0);else{const G=`${h}T${v}:00`,Z=`${h}T${S}:00`;r(G,Z,!1)}i()};return b.jsx("div",{className:"fixed inset-0 z-[120] flex items-center justify-center p-4 bg-slate-900/40 backdrop-blur-sm",children:b.jsxs("div",{className:"bg-white w-full max-w-md rounded-2xl shadow-2xl p-6",children:[b.jsx("h3",{className:"text-lg font-bold text-slate-800 mb-4",children:"  "}),b.jsxs("div",{className:"mb-4",children:[b.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:" "}),b.jsx("input",{type:"text",value:e,disabled:!0,className:"w-full px-3 py-2 border border-slate-300 rounded-lg bg-slate-50"})]}),b.jsxs("div",{className:"mb-4",children:[b.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:""}),b.jsx("input",{type:"date",value:h,onChange:G=>d(G.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-lg"})]}),b.jsx("div",{className:"mb-4",children:b.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[b.jsx("input",{type:"checkbox",checked:m,onChange:G=>y(G.target.checked),className:"w-4 h-4 rounded border-slate-300 text-blue-500"}),b.jsx("span",{className:"text-sm font-medium text-slate-700",children:""})]})}),!m&&b.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-6",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:" "}),b.jsx("input",{type:"time",value:v,onChange:G=>T(G.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-lg"})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:" "}),b.jsx("input",{type:"time",value:S,onChange:G=>C(G.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-lg"})]})]}),b.jsxs("div",{className:"flex justify-end gap-3",children:[b.jsx("button",{onClick:i,className:"px-5 py-2.5 text-sm font-medium text-slate-500 hover:bg-slate-50 rounded-lg",children:""}),b.jsx("button",{onClick:j,disabled:!h,className:"px-8 py-2.5 text-sm font-bold text-white bg-blue-500 hover:bg-blue-600 rounded-lg disabled:opacity-50",children:""})]})]})})},GE=()=>{};var jy={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K0=function(a){const e=[];let i=0;for(let r=0;r<a.length;r++){let o=a.charCodeAt(r);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&r+1<a.length&&(a.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(a.charCodeAt(++r)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},QE=function(a){const e=[];let i=0,r=0;for(;i<a.length;){const o=a[i++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const h=a[i++];e[r++]=String.fromCharCode((o&31)<<6|h&63)}else if(o>239&&o<365){const h=a[i++],d=a[i++],m=a[i++],y=((o&7)<<18|(h&63)<<12|(d&63)<<6|m&63)-65536;e[r++]=String.fromCharCode(55296+(y>>10)),e[r++]=String.fromCharCode(56320+(y&1023))}else{const h=a[i++],d=a[i++];e[r++]=String.fromCharCode((o&15)<<12|(h&63)<<6|d&63)}}return e.join("")},X0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(a,e){if(!Array.isArray(a))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<a.length;o+=3){const h=a[o],d=o+1<a.length,m=d?a[o+1]:0,y=o+2<a.length,v=y?a[o+2]:0,T=h>>2,S=(h&3)<<4|m>>4;let C=(m&15)<<2|v>>6,j=v&63;y||(j=64,d||(C=64)),r.push(i[T],i[S],i[C],i[j])}return r.join("")},encodeString(a,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(a):this.encodeByteArray(K0(a),e)},decodeString(a,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(a):QE(this.decodeStringToByteArray(a,e))},decodeStringToByteArray(a,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<a.length;){const h=i[a.charAt(o++)],m=o<a.length?i[a.charAt(o)]:0;++o;const v=o<a.length?i[a.charAt(o)]:64;++o;const S=o<a.length?i[a.charAt(o)]:64;if(++o,h==null||m==null||v==null||S==null)throw new YE;const C=h<<2|m>>4;if(r.push(C),v!==64){const j=m<<4&240|v>>2;if(r.push(j),S!==64){const G=v<<6&192|S;r.push(G)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let a=0;a<this.ENCODED_VALS.length;a++)this.byteToCharMap_[a]=this.ENCODED_VALS.charAt(a),this.charToByteMap_[this.byteToCharMap_[a]]=a,this.byteToCharMapWebSafe_[a]=this.ENCODED_VALS_WEBSAFE.charAt(a),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[a]]=a,a>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(a)]=a,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(a)]=a)}}};class YE extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const KE=function(a){const e=K0(a);return X0.encodeByteArray(e,!0)},rc=function(a){return KE(a).replace(/\./g,"")},XE=function(a){try{return X0.decodeString(a,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZE(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JE=()=>ZE().__FIREBASE_DEFAULTS__,$E=()=>{if(typeof process>"u"||typeof jy>"u")return;const a=jy.__FIREBASE_DEFAULTS__;if(a)return JSON.parse(a)},WE=()=>{if(typeof document>"u")return;let a;try{a=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=a&&XE(a[1]);return e&&JSON.parse(e)},yd=()=>{try{return GE()||JE()||$E()||WE()}catch(a){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${a}`);return}},t1=a=>{var e,i;return(i=(e=yd())==null?void 0:e.emulatorHosts)==null?void 0:i[a]},e1=a=>{const e=t1(a);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),r]:[e.substring(0,i),r]},Z0=()=>{var a;return(a=yd())==null?void 0:a.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,r)=>{i?this.reject(i):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vd(a){try{return(a.startsWith("http://")||a.startsWith("https://")?new URL(a).hostname:a).endsWith(".cloudworkstations.dev")}catch{return!1}}async function i1(a){return(await fetch(a,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s1(a,e){if(a.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},r=e||"demo-project",o=a.iat||0,h=a.sub||a.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}},...a};return[rc(JSON.stringify(i)),rc(JSON.stringify(d)),""].join(".")}const eo={};function a1(){const a={prod:[],emulator:[]};for(const e of Object.keys(eo))eo[e]?a.emulator.push(e):a.prod.push(e);return a}function r1(a){let e=document.getElementById(a),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",a),i=!0),{created:i,element:e}}let Ly=!1;function l1(a,e){if(typeof window>"u"||typeof document>"u"||!vd(window.location.host)||eo[a]===e||eo[a]||Ly)return;eo[a]=e;function i(C){return`__firebase__banner__${C}`}const r="__firebase__banner",h=a1().prod.length>0;function d(){const C=document.getElementById(r);C&&C.remove()}function m(C){C.style.display="flex",C.style.background="#7faaf0",C.style.position="fixed",C.style.bottom="5px",C.style.left="5px",C.style.padding=".5em",C.style.borderRadius="5px",C.style.alignItems="center"}function y(C,j){C.setAttribute("width","24"),C.setAttribute("id",j),C.setAttribute("height","24"),C.setAttribute("viewBox","0 0 24 24"),C.setAttribute("fill","none"),C.style.marginLeft="-6px"}function v(){const C=document.createElement("span");return C.style.cursor="pointer",C.style.marginLeft="16px",C.style.fontSize="24px",C.innerHTML=" &times;",C.onclick=()=>{Ly=!0,d()},C}function T(C,j){C.setAttribute("id",j),C.innerText="Learn more",C.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",C.setAttribute("target","__blank"),C.style.paddingLeft="5px",C.style.textDecoration="underline"}function S(){const C=r1(r),j=i("text"),G=document.getElementById(j)||document.createElement("span"),Z=i("learnmore"),V=document.getElementById(Z)||document.createElement("a"),Q=i("preprendIcon"),et=document.getElementById(Q)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(C.created){const lt=C.element;m(lt),T(V,Z);const bt=v();y(et,Q),lt.append(et,G,V,bt),document.body.appendChild(lt)}h?(G.innerText="Preview backend disconnected.",et.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(et.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,G.innerText="Preview backend running in this workspace."),G.setAttribute("id",j)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o1(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function u1(){var e;const a=(e=yd())==null?void 0:e.forceEnvironment;if(a==="node")return!0;if(a==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function c1(){return!u1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function h1(){try{return typeof indexedDB=="object"}catch{return!1}}function f1(){return new Promise((a,e)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(r),a(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{var h;e(((h=o.error)==null?void 0:h.message)||"")}}catch(i){e(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d1="FirebaseError";class Hr extends Error{constructor(e,i,r){super(i),this.code=e,this.customData=r,this.name=d1,Object.setPrototypeOf(this,Hr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,J0.prototype.create)}}class J0{constructor(e,i,r){this.service=e,this.serviceName=i,this.errors=r}create(e,...i){const r=i[0]||{},o=`${this.service}/${e}`,h=this.errors[e],d=h?m1(h,r):"Error",m=`${this.serviceName}: ${d} (${o}).`;return new Hr(o,m,r)}}function m1(a,e){return a.replace(g1,(i,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const g1=/\{\$([^}]+)}/g;function lc(a,e){if(a===e)return!0;const i=Object.keys(a),r=Object.keys(e);for(const o of i){if(!r.includes(o))return!1;const h=a[o],d=e[o];if(ky(h)&&ky(d)){if(!lc(h,d))return!1}else if(h!==d)return!1}for(const o of r)if(!i.includes(o))return!1;return!0}function ky(a){return a!==null&&typeof a=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lo(a){return a&&a._delegate?a._delegate:a}class oo{constructor(e,i,r){this.name=e,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Va="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p1{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const r=new n1;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(v1(e))try{this.getOrInitializeService({instanceIdentifier:Va})}catch{}for(const[i,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const h=this.getOrInitializeService({instanceIdentifier:o});r.resolve(h)}catch{}}}}clearInstance(e=Va){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Va){return this.instances.has(e)}getOptions(e=Va){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[h,d]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(h);r===m&&d.resolve(o)}return o}onInit(e,i){const r=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(r)??new Set;o.add(e),this.onInitCallbacks.set(r,o);const h=this.instances.get(r);return h&&e(h,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,i){const r=this.onInitCallbacks.get(i);if(r)for(const o of r)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:y1(e),options:i}),this.instances.set(e,r),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Va){return this.component?this.component.multipleInstances?e:Va:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function y1(a){return a===Va?void 0:a}function v1(a){return a.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _1{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new p1(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Kt;(function(a){a[a.DEBUG=0]="DEBUG",a[a.VERBOSE=1]="VERBOSE",a[a.INFO=2]="INFO",a[a.WARN=3]="WARN",a[a.ERROR=4]="ERROR",a[a.SILENT=5]="SILENT"})(Kt||(Kt={}));const b1={debug:Kt.DEBUG,verbose:Kt.VERBOSE,info:Kt.INFO,warn:Kt.WARN,error:Kt.ERROR,silent:Kt.SILENT},E1=Kt.INFO,T1={[Kt.DEBUG]:"log",[Kt.VERBOSE]:"log",[Kt.INFO]:"info",[Kt.WARN]:"warn",[Kt.ERROR]:"error"},x1=(a,e,...i)=>{if(e<a.logLevel)return;const r=new Date().toISOString(),o=T1[e];if(o)console[o](`[${r}]  ${a.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class $0{constructor(e){this.name=e,this._logLevel=E1,this._logHandler=x1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Kt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?b1[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Kt.DEBUG,...e),this._logHandler(this,Kt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Kt.VERBOSE,...e),this._logHandler(this,Kt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Kt.INFO,...e),this._logHandler(this,Kt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Kt.WARN,...e),this._logHandler(this,Kt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Kt.ERROR,...e),this._logHandler(this,Kt.ERROR,...e)}}const S1=(a,e)=>e.some(i=>a instanceof i);let zy,Uy;function A1(){return zy||(zy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function w1(){return Uy||(Uy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const W0=new WeakMap,Kf=new WeakMap,tv=new WeakMap,Uf=new WeakMap,_d=new WeakMap;function C1(a){const e=new Promise((i,r)=>{const o=()=>{a.removeEventListener("success",h),a.removeEventListener("error",d)},h=()=>{i(Gs(a.result)),o()},d=()=>{r(a.error),o()};a.addEventListener("success",h),a.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&W0.set(i,a)}).catch(()=>{}),_d.set(e,a),e}function R1(a){if(Kf.has(a))return;const e=new Promise((i,r)=>{const o=()=>{a.removeEventListener("complete",h),a.removeEventListener("error",d),a.removeEventListener("abort",d)},h=()=>{i(),o()},d=()=>{r(a.error||new DOMException("AbortError","AbortError")),o()};a.addEventListener("complete",h),a.addEventListener("error",d),a.addEventListener("abort",d)});Kf.set(a,e)}let Xf={get(a,e,i){if(a instanceof IDBTransaction){if(e==="done")return Kf.get(a);if(e==="objectStoreNames")return a.objectStoreNames||tv.get(a);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Gs(a[e])},set(a,e,i){return a[e]=i,!0},has(a,e){return a instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in a}};function N1(a){Xf=a(Xf)}function D1(a){return a===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const r=a.call(Bf(this),e,...i);return tv.set(r,e.sort?e.sort():[e]),Gs(r)}:w1().includes(a)?function(...e){return a.apply(Bf(this),e),Gs(W0.get(this))}:function(...e){return Gs(a.apply(Bf(this),e))}}function I1(a){return typeof a=="function"?D1(a):(a instanceof IDBTransaction&&R1(a),S1(a,A1())?new Proxy(a,Xf):a)}function Gs(a){if(a instanceof IDBRequest)return C1(a);if(Uf.has(a))return Uf.get(a);const e=I1(a);return e!==a&&(Uf.set(a,e),_d.set(e,a)),e}const Bf=a=>_d.get(a);function V1(a,e,{blocked:i,upgrade:r,blocking:o,terminated:h}={}){const d=indexedDB.open(a,e),m=Gs(d);return r&&d.addEventListener("upgradeneeded",y=>{r(Gs(d.result),y.oldVersion,y.newVersion,Gs(d.transaction),y)}),i&&d.addEventListener("blocked",y=>i(y.oldVersion,y.newVersion,y)),m.then(y=>{h&&y.addEventListener("close",()=>h()),o&&y.addEventListener("versionchange",v=>o(v.oldVersion,v.newVersion,v))}).catch(()=>{}),m}const O1=["get","getKey","getAll","getAllKeys","count"],M1=["put","add","delete","clear"],Pf=new Map;function By(a,e){if(!(a instanceof IDBDatabase&&!(e in a)&&typeof e=="string"))return;if(Pf.get(e))return Pf.get(e);const i=e.replace(/FromIndex$/,""),r=e!==i,o=M1.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!(o||O1.includes(i)))return;const h=async function(d,...m){const y=this.transaction(d,o?"readwrite":"readonly");let v=y.store;return r&&(v=v.index(m.shift())),(await Promise.all([v[i](...m),o&&y.done]))[0]};return Pf.set(e,h),h}N1(a=>({...a,get:(e,i,r)=>By(e,i)||a.get(e,i,r),has:(e,i)=>!!By(e,i)||a.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j1{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(L1(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(i=>i).join(" ")}}function L1(a){const e=a.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Zf="@firebase/app",Py="0.14.7";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const os=new $0("@firebase/app"),k1="@firebase/app-compat",z1="@firebase/analytics-compat",U1="@firebase/analytics",B1="@firebase/app-check-compat",P1="@firebase/app-check",q1="@firebase/auth",H1="@firebase/auth-compat",F1="@firebase/database",G1="@firebase/data-connect",Q1="@firebase/database-compat",Y1="@firebase/functions",K1="@firebase/functions-compat",X1="@firebase/installations",Z1="@firebase/installations-compat",J1="@firebase/messaging",$1="@firebase/messaging-compat",W1="@firebase/performance",tT="@firebase/performance-compat",eT="@firebase/remote-config",nT="@firebase/remote-config-compat",iT="@firebase/storage",sT="@firebase/storage-compat",aT="@firebase/firestore",rT="@firebase/ai",lT="@firebase/firestore-compat",oT="firebase",uT="12.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jf="[DEFAULT]",cT={[Zf]:"fire-core",[k1]:"fire-core-compat",[U1]:"fire-analytics",[z1]:"fire-analytics-compat",[P1]:"fire-app-check",[B1]:"fire-app-check-compat",[q1]:"fire-auth",[H1]:"fire-auth-compat",[F1]:"fire-rtdb",[G1]:"fire-data-connect",[Q1]:"fire-rtdb-compat",[Y1]:"fire-fn",[K1]:"fire-fn-compat",[X1]:"fire-iid",[Z1]:"fire-iid-compat",[J1]:"fire-fcm",[$1]:"fire-fcm-compat",[W1]:"fire-perf",[tT]:"fire-perf-compat",[eT]:"fire-rc",[nT]:"fire-rc-compat",[iT]:"fire-gcs",[sT]:"fire-gcs-compat",[aT]:"fire-fst",[lT]:"fire-fst-compat",[rT]:"fire-vertex","fire-js":"fire-js",[oT]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oc=new Map,hT=new Map,$f=new Map;function qy(a,e){try{a.container.addComponent(e)}catch(i){os.debug(`Component ${e.name} failed to register with FirebaseApp ${a.name}`,i)}}function uc(a){const e=a.name;if($f.has(e))return os.debug(`There were multiple attempts to register component ${e}.`),!1;$f.set(e,a);for(const i of oc.values())qy(i,a);for(const i of hT.values())qy(i,a);return!0}function fT(a,e){const i=a.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),a.container.getProvider(e)}function dT(a){return a==null?!1:a.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mT={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Qs=new J0("app","Firebase",mT);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gT{constructor(e,i,r){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new oo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Qs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pT=uT;function ev(a,e={}){let i=a;typeof e!="object"&&(e={name:e});const r={name:Jf,automaticDataCollectionEnabled:!0,...e},o=r.name;if(typeof o!="string"||!o)throw Qs.create("bad-app-name",{appName:String(o)});if(i||(i=Z0()),!i)throw Qs.create("no-options");const h=oc.get(o);if(h){if(lc(i,h.options)&&lc(r,h.config))return h;throw Qs.create("duplicate-app",{appName:o})}const d=new _1(o);for(const y of $f.values())d.addComponent(y);const m=new gT(i,r,d);return oc.set(o,m),m}function yT(a=Jf){const e=oc.get(a);if(!e&&a===Jf&&Z0())return ev();if(!e)throw Qs.create("no-app",{appName:a});return e}function Vr(a,e,i){let r=cT[a]??a;i&&(r+=`-${i}`);const o=r.match(/\s|\//),h=e.match(/\s|\//);if(o||h){const d=[`Unable to register library "${r}" with version "${e}":`];o&&d.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&h&&d.push("and"),h&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),os.warn(d.join(" "));return}uc(new oo(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vT="firebase-heartbeat-database",_T=1,uo="firebase-heartbeat-store";let qf=null;function nv(){return qf||(qf=V1(vT,_T,{upgrade:(a,e)=>{switch(e){case 0:try{a.createObjectStore(uo)}catch(i){console.warn(i)}}}}).catch(a=>{throw Qs.create("idb-open",{originalErrorMessage:a.message})})),qf}async function bT(a){try{const i=(await nv()).transaction(uo),r=await i.objectStore(uo).get(iv(a));return await i.done,r}catch(e){if(e instanceof Hr)os.warn(e.message);else{const i=Qs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});os.warn(i.message)}}}async function Hy(a,e){try{const r=(await nv()).transaction(uo,"readwrite");await r.objectStore(uo).put(e,iv(a)),await r.done}catch(i){if(i instanceof Hr)os.warn(i.message);else{const r=Qs.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});os.warn(r.message)}}}function iv(a){return`${a.name}!${a.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ET=1024,TT=30;class xT{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new AT(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,i;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),h=Fy();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)==null?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===h||this._heartbeatsCache.heartbeats.some(d=>d.date===h))return;if(this._heartbeatsCache.heartbeats.push({date:h,agent:o}),this._heartbeatsCache.heartbeats.length>TT){const d=wT(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){os.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=Fy(),{heartbeatsToSend:r,unsentEntries:o}=ST(this._heartbeatsCache.heartbeats),h=rc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=i,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),h}catch(i){return os.warn(i),""}}}function Fy(){return new Date().toISOString().substring(0,10)}function ST(a,e=ET){const i=[];let r=a.slice();for(const o of a){const h=i.find(d=>d.agent===o.agent);if(h){if(h.dates.push(o.date),Gy(i)>e){h.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),Gy(i)>e){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}class AT{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return h1()?f1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await bT(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Hy(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Hy(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Gy(a){return rc(JSON.stringify({version:2,heartbeats:a})).length}function wT(a){if(a.length===0)return-1;let e=0,i=a[0].date;for(let r=1;r<a.length;r++)a[r].date<i&&(i=a[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CT(a){uc(new oo("platform-logger",e=>new j1(e),"PRIVATE")),uc(new oo("heartbeat",e=>new xT(e),"PRIVATE")),Vr(Zf,Py,a),Vr(Zf,Py,"esm2020"),Vr("fire-js","")}CT("");var Qy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ys,sv;(function(){var a;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(N,A){function w(){}w.prototype=A.prototype,N.F=A.prototype,N.prototype=new w,N.prototype.constructor=N,N.D=function(L,O,k){for(var R=Array(arguments.length-2),Pt=2;Pt<arguments.length;Pt++)R[Pt-2]=arguments[Pt];return A.prototype[O].apply(L,R)}}function i(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,i),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(N,A,w){w||(w=0);const L=Array(16);if(typeof A=="string")for(var O=0;O<16;++O)L[O]=A.charCodeAt(w++)|A.charCodeAt(w++)<<8|A.charCodeAt(w++)<<16|A.charCodeAt(w++)<<24;else for(O=0;O<16;++O)L[O]=A[w++]|A[w++]<<8|A[w++]<<16|A[w++]<<24;A=N.g[0],w=N.g[1],O=N.g[2];let k=N.g[3],R;R=A+(k^w&(O^k))+L[0]+3614090360&4294967295,A=w+(R<<7&4294967295|R>>>25),R=k+(O^A&(w^O))+L[1]+3905402710&4294967295,k=A+(R<<12&4294967295|R>>>20),R=O+(w^k&(A^w))+L[2]+606105819&4294967295,O=k+(R<<17&4294967295|R>>>15),R=w+(A^O&(k^A))+L[3]+3250441966&4294967295,w=O+(R<<22&4294967295|R>>>10),R=A+(k^w&(O^k))+L[4]+4118548399&4294967295,A=w+(R<<7&4294967295|R>>>25),R=k+(O^A&(w^O))+L[5]+1200080426&4294967295,k=A+(R<<12&4294967295|R>>>20),R=O+(w^k&(A^w))+L[6]+2821735955&4294967295,O=k+(R<<17&4294967295|R>>>15),R=w+(A^O&(k^A))+L[7]+4249261313&4294967295,w=O+(R<<22&4294967295|R>>>10),R=A+(k^w&(O^k))+L[8]+1770035416&4294967295,A=w+(R<<7&4294967295|R>>>25),R=k+(O^A&(w^O))+L[9]+2336552879&4294967295,k=A+(R<<12&4294967295|R>>>20),R=O+(w^k&(A^w))+L[10]+4294925233&4294967295,O=k+(R<<17&4294967295|R>>>15),R=w+(A^O&(k^A))+L[11]+2304563134&4294967295,w=O+(R<<22&4294967295|R>>>10),R=A+(k^w&(O^k))+L[12]+1804603682&4294967295,A=w+(R<<7&4294967295|R>>>25),R=k+(O^A&(w^O))+L[13]+4254626195&4294967295,k=A+(R<<12&4294967295|R>>>20),R=O+(w^k&(A^w))+L[14]+2792965006&4294967295,O=k+(R<<17&4294967295|R>>>15),R=w+(A^O&(k^A))+L[15]+1236535329&4294967295,w=O+(R<<22&4294967295|R>>>10),R=A+(O^k&(w^O))+L[1]+4129170786&4294967295,A=w+(R<<5&4294967295|R>>>27),R=k+(w^O&(A^w))+L[6]+3225465664&4294967295,k=A+(R<<9&4294967295|R>>>23),R=O+(A^w&(k^A))+L[11]+643717713&4294967295,O=k+(R<<14&4294967295|R>>>18),R=w+(k^A&(O^k))+L[0]+3921069994&4294967295,w=O+(R<<20&4294967295|R>>>12),R=A+(O^k&(w^O))+L[5]+3593408605&4294967295,A=w+(R<<5&4294967295|R>>>27),R=k+(w^O&(A^w))+L[10]+38016083&4294967295,k=A+(R<<9&4294967295|R>>>23),R=O+(A^w&(k^A))+L[15]+3634488961&4294967295,O=k+(R<<14&4294967295|R>>>18),R=w+(k^A&(O^k))+L[4]+3889429448&4294967295,w=O+(R<<20&4294967295|R>>>12),R=A+(O^k&(w^O))+L[9]+568446438&4294967295,A=w+(R<<5&4294967295|R>>>27),R=k+(w^O&(A^w))+L[14]+3275163606&4294967295,k=A+(R<<9&4294967295|R>>>23),R=O+(A^w&(k^A))+L[3]+4107603335&4294967295,O=k+(R<<14&4294967295|R>>>18),R=w+(k^A&(O^k))+L[8]+1163531501&4294967295,w=O+(R<<20&4294967295|R>>>12),R=A+(O^k&(w^O))+L[13]+2850285829&4294967295,A=w+(R<<5&4294967295|R>>>27),R=k+(w^O&(A^w))+L[2]+4243563512&4294967295,k=A+(R<<9&4294967295|R>>>23),R=O+(A^w&(k^A))+L[7]+1735328473&4294967295,O=k+(R<<14&4294967295|R>>>18),R=w+(k^A&(O^k))+L[12]+2368359562&4294967295,w=O+(R<<20&4294967295|R>>>12),R=A+(w^O^k)+L[5]+4294588738&4294967295,A=w+(R<<4&4294967295|R>>>28),R=k+(A^w^O)+L[8]+2272392833&4294967295,k=A+(R<<11&4294967295|R>>>21),R=O+(k^A^w)+L[11]+1839030562&4294967295,O=k+(R<<16&4294967295|R>>>16),R=w+(O^k^A)+L[14]+4259657740&4294967295,w=O+(R<<23&4294967295|R>>>9),R=A+(w^O^k)+L[1]+2763975236&4294967295,A=w+(R<<4&4294967295|R>>>28),R=k+(A^w^O)+L[4]+1272893353&4294967295,k=A+(R<<11&4294967295|R>>>21),R=O+(k^A^w)+L[7]+4139469664&4294967295,O=k+(R<<16&4294967295|R>>>16),R=w+(O^k^A)+L[10]+3200236656&4294967295,w=O+(R<<23&4294967295|R>>>9),R=A+(w^O^k)+L[13]+681279174&4294967295,A=w+(R<<4&4294967295|R>>>28),R=k+(A^w^O)+L[0]+3936430074&4294967295,k=A+(R<<11&4294967295|R>>>21),R=O+(k^A^w)+L[3]+3572445317&4294967295,O=k+(R<<16&4294967295|R>>>16),R=w+(O^k^A)+L[6]+76029189&4294967295,w=O+(R<<23&4294967295|R>>>9),R=A+(w^O^k)+L[9]+3654602809&4294967295,A=w+(R<<4&4294967295|R>>>28),R=k+(A^w^O)+L[12]+3873151461&4294967295,k=A+(R<<11&4294967295|R>>>21),R=O+(k^A^w)+L[15]+530742520&4294967295,O=k+(R<<16&4294967295|R>>>16),R=w+(O^k^A)+L[2]+3299628645&4294967295,w=O+(R<<23&4294967295|R>>>9),R=A+(O^(w|~k))+L[0]+4096336452&4294967295,A=w+(R<<6&4294967295|R>>>26),R=k+(w^(A|~O))+L[7]+1126891415&4294967295,k=A+(R<<10&4294967295|R>>>22),R=O+(A^(k|~w))+L[14]+2878612391&4294967295,O=k+(R<<15&4294967295|R>>>17),R=w+(k^(O|~A))+L[5]+4237533241&4294967295,w=O+(R<<21&4294967295|R>>>11),R=A+(O^(w|~k))+L[12]+1700485571&4294967295,A=w+(R<<6&4294967295|R>>>26),R=k+(w^(A|~O))+L[3]+2399980690&4294967295,k=A+(R<<10&4294967295|R>>>22),R=O+(A^(k|~w))+L[10]+4293915773&4294967295,O=k+(R<<15&4294967295|R>>>17),R=w+(k^(O|~A))+L[1]+2240044497&4294967295,w=O+(R<<21&4294967295|R>>>11),R=A+(O^(w|~k))+L[8]+1873313359&4294967295,A=w+(R<<6&4294967295|R>>>26),R=k+(w^(A|~O))+L[15]+4264355552&4294967295,k=A+(R<<10&4294967295|R>>>22),R=O+(A^(k|~w))+L[6]+2734768916&4294967295,O=k+(R<<15&4294967295|R>>>17),R=w+(k^(O|~A))+L[13]+1309151649&4294967295,w=O+(R<<21&4294967295|R>>>11),R=A+(O^(w|~k))+L[4]+4149444226&4294967295,A=w+(R<<6&4294967295|R>>>26),R=k+(w^(A|~O))+L[11]+3174756917&4294967295,k=A+(R<<10&4294967295|R>>>22),R=O+(A^(k|~w))+L[2]+718787259&4294967295,O=k+(R<<15&4294967295|R>>>17),R=w+(k^(O|~A))+L[9]+3951481745&4294967295,N.g[0]=N.g[0]+A&4294967295,N.g[1]=N.g[1]+(O+(R<<21&4294967295|R>>>11))&4294967295,N.g[2]=N.g[2]+O&4294967295,N.g[3]=N.g[3]+k&4294967295}r.prototype.v=function(N,A){A===void 0&&(A=N.length);const w=A-this.blockSize,L=this.C;let O=this.h,k=0;for(;k<A;){if(O==0)for(;k<=w;)o(this,N,k),k+=this.blockSize;if(typeof N=="string"){for(;k<A;)if(L[O++]=N.charCodeAt(k++),O==this.blockSize){o(this,L),O=0;break}}else for(;k<A;)if(L[O++]=N[k++],O==this.blockSize){o(this,L),O=0;break}}this.h=O,this.o+=A},r.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var A=1;A<N.length-8;++A)N[A]=0;A=this.o*8;for(var w=N.length-8;w<N.length;++w)N[w]=A&255,A/=256;for(this.v(N),N=Array(16),A=0,w=0;w<4;++w)for(let L=0;L<32;L+=8)N[A++]=this.g[w]>>>L&255;return N};function h(N,A){var w=m;return Object.prototype.hasOwnProperty.call(w,N)?w[N]:w[N]=A(N)}function d(N,A){this.h=A;const w=[];let L=!0;for(let O=N.length-1;O>=0;O--){const k=N[O]|0;L&&k==A||(w[O]=k,L=!1)}this.g=w}var m={};function y(N){return-128<=N&&N<128?h(N,function(A){return new d([A|0],A<0?-1:0)}):new d([N|0],N<0?-1:0)}function v(N){if(isNaN(N)||!isFinite(N))return S;if(N<0)return V(v(-N));const A=[];let w=1;for(let L=0;N>=w;L++)A[L]=N/w|0,w*=4294967296;return new d(A,0)}function T(N,A){if(N.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(N.charAt(0)=="-")return V(T(N.substring(1),A));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const w=v(Math.pow(A,8));let L=S;for(let k=0;k<N.length;k+=8){var O=Math.min(8,N.length-k);const R=parseInt(N.substring(k,k+O),A);O<8?(O=v(Math.pow(A,O)),L=L.j(O).add(v(R))):(L=L.j(w),L=L.add(v(R)))}return L}var S=y(0),C=y(1),j=y(16777216);a=d.prototype,a.m=function(){if(Z(this))return-V(this).m();let N=0,A=1;for(let w=0;w<this.g.length;w++){const L=this.i(w);N+=(L>=0?L:4294967296+L)*A,A*=4294967296}return N},a.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(G(this))return"0";if(Z(this))return"-"+V(this).toString(N);const A=v(Math.pow(N,6));var w=this;let L="";for(;;){const O=bt(w,A).g;w=Q(w,O.j(A));let k=((w.g.length>0?w.g[0]:w.h)>>>0).toString(N);if(w=O,G(w))return k+L;for(;k.length<6;)k="0"+k;L=k+L}},a.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function G(N){if(N.h!=0)return!1;for(let A=0;A<N.g.length;A++)if(N.g[A]!=0)return!1;return!0}function Z(N){return N.h==-1}a.l=function(N){return N=Q(this,N),Z(N)?-1:G(N)?0:1};function V(N){const A=N.g.length,w=[];for(let L=0;L<A;L++)w[L]=~N.g[L];return new d(w,~N.h).add(C)}a.abs=function(){return Z(this)?V(this):this},a.add=function(N){const A=Math.max(this.g.length,N.g.length),w=[];let L=0;for(let O=0;O<=A;O++){let k=L+(this.i(O)&65535)+(N.i(O)&65535),R=(k>>>16)+(this.i(O)>>>16)+(N.i(O)>>>16);L=R>>>16,k&=65535,R&=65535,w[O]=R<<16|k}return new d(w,w[w.length-1]&-2147483648?-1:0)};function Q(N,A){return N.add(V(A))}a.j=function(N){if(G(this)||G(N))return S;if(Z(this))return Z(N)?V(this).j(V(N)):V(V(this).j(N));if(Z(N))return V(this.j(V(N)));if(this.l(j)<0&&N.l(j)<0)return v(this.m()*N.m());const A=this.g.length+N.g.length,w=[];for(var L=0;L<2*A;L++)w[L]=0;for(L=0;L<this.g.length;L++)for(let O=0;O<N.g.length;O++){const k=this.i(L)>>>16,R=this.i(L)&65535,Pt=N.i(O)>>>16,ue=N.i(O)&65535;w[2*L+2*O]+=R*ue,et(w,2*L+2*O),w[2*L+2*O+1]+=k*ue,et(w,2*L+2*O+1),w[2*L+2*O+1]+=R*Pt,et(w,2*L+2*O+1),w[2*L+2*O+2]+=k*Pt,et(w,2*L+2*O+2)}for(N=0;N<A;N++)w[N]=w[2*N+1]<<16|w[2*N];for(N=A;N<2*A;N++)w[N]=0;return new d(w,0)};function et(N,A){for(;(N[A]&65535)!=N[A];)N[A+1]+=N[A]>>>16,N[A]&=65535,A++}function lt(N,A){this.g=N,this.h=A}function bt(N,A){if(G(A))throw Error("division by zero");if(G(N))return new lt(S,S);if(Z(N))return A=bt(V(N),A),new lt(V(A.g),V(A.h));if(Z(A))return A=bt(N,V(A)),new lt(V(A.g),A.h);if(N.g.length>30){if(Z(N)||Z(A))throw Error("slowDivide_ only works with positive integers.");for(var w=C,L=A;L.l(N)<=0;)w=pt(w),L=pt(L);var O=At(w,1),k=At(L,1);for(L=At(L,2),w=At(w,2);!G(L);){var R=k.add(L);R.l(N)<=0&&(O=O.add(w),k=R),L=At(L,1),w=At(w,1)}return A=Q(N,O.j(A)),new lt(O,A)}for(O=S;N.l(A)>=0;){for(w=Math.max(1,Math.floor(N.m()/A.m())),L=Math.ceil(Math.log(w)/Math.LN2),L=L<=48?1:Math.pow(2,L-48),k=v(w),R=k.j(A);Z(R)||R.l(N)>0;)w-=L,k=v(w),R=k.j(A);G(k)&&(k=C),O=O.add(k),N=Q(N,R)}return new lt(O,N)}a.B=function(N){return bt(this,N).h},a.and=function(N){const A=Math.max(this.g.length,N.g.length),w=[];for(let L=0;L<A;L++)w[L]=this.i(L)&N.i(L);return new d(w,this.h&N.h)},a.or=function(N){const A=Math.max(this.g.length,N.g.length),w=[];for(let L=0;L<A;L++)w[L]=this.i(L)|N.i(L);return new d(w,this.h|N.h)},a.xor=function(N){const A=Math.max(this.g.length,N.g.length),w=[];for(let L=0;L<A;L++)w[L]=this.i(L)^N.i(L);return new d(w,this.h^N.h)};function pt(N){const A=N.g.length+1,w=[];for(let L=0;L<A;L++)w[L]=N.i(L)<<1|N.i(L-1)>>>31;return new d(w,N.h)}function At(N,A){const w=A>>5;A%=32;const L=N.g.length-w,O=[];for(let k=0;k<L;k++)O[k]=A>0?N.i(k+w)>>>A|N.i(k+w+1)<<32-A:N.i(k+w);return new d(O,N.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,sv=r,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=v,d.fromString=T,Ys=d}).apply(typeof Qy<"u"?Qy:typeof self<"u"?self:typeof window<"u"?window:{});var Yu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var av,Jl,rv,Wu,Wf,lv,ov,uv;(function(){var a,e=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Yu=="object"&&Yu];for(var g=0;g<u.length;++g){var _=u[g];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var r=i(this);function o(u,g){if(g)t:{var _=r;u=u.split(".");for(var x=0;x<u.length-1;x++){var U=u[x];if(!(U in _))break t;_=_[U]}u=u[u.length-1],x=_[u],g=g(x),g!=x&&g!=null&&e(_,u,{configurable:!0,writable:!0,value:g})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(g){var _=[],x;for(x in g)Object.prototype.hasOwnProperty.call(g,x)&&_.push([x,g[x]]);return _}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},d=this||self;function m(u){var g=typeof u;return g=="object"&&u!=null||g=="function"}function y(u,g,_){return u.call.apply(u.bind,arguments)}function v(u,g,_){return v=y,v.apply(null,arguments)}function T(u,g){var _=Array.prototype.slice.call(arguments,1);return function(){var x=_.slice();return x.push.apply(x,arguments),u.apply(this,x)}}function S(u,g){function _(){}_.prototype=g.prototype,u.Z=g.prototype,u.prototype=new _,u.prototype.constructor=u,u.Ob=function(x,U,Y){for(var ct=Array(arguments.length-2),jt=2;jt<arguments.length;jt++)ct[jt-2]=arguments[jt];return g.prototype[U].apply(x,ct)}}var C=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function j(u){const g=u.length;if(g>0){const _=Array(g);for(let x=0;x<g;x++)_[x]=u[x];return _}return[]}function G(u,g){for(let x=1;x<arguments.length;x++){const U=arguments[x];var _=typeof U;if(_=_!="object"?_:U?Array.isArray(U)?"array":_:"null",_=="array"||_=="object"&&typeof U.length=="number"){_=u.length||0;const Y=U.length||0;u.length=_+Y;for(let ct=0;ct<Y;ct++)u[_+ct]=U[ct]}else u.push(U)}}class Z{constructor(g,_){this.i=g,this.j=_,this.h=0,this.g=null}get(){let g;return this.h>0?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function V(u){d.setTimeout(()=>{throw u},0)}function Q(){var u=N;let g=null;return u.g&&(g=u.g,u.g=u.g.next,u.g||(u.h=null),g.next=null),g}class et{constructor(){this.h=this.g=null}add(g,_){const x=lt.get();x.set(g,_),this.h?this.h.next=x:this.g=x,this.h=x}}var lt=new Z(()=>new bt,u=>u.reset());class bt{constructor(){this.next=this.g=this.h=null}set(g,_){this.h=g,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let pt,At=!1,N=new et,A=()=>{const u=Promise.resolve(void 0);pt=()=>{u.then(w)}};function w(){for(var u;u=Q();){try{u.h.call(u.g)}catch(_){V(_)}var g=lt;g.j(u),g.h<100&&(g.h++,u.next=g.g,g.g=u)}At=!1}function L(){this.u=this.u,this.C=this.C}L.prototype.u=!1,L.prototype.dispose=function(){this.u||(this.u=!0,this.N())},L.prototype[Symbol.dispose]=function(){this.dispose()},L.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(u,g){this.type=u,this.g=this.target=g,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var k=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,g=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const _=()=>{};d.addEventListener("test",_,g),d.removeEventListener("test",_,g)}catch{}return u})();function R(u){return/^[\s\xa0]*$/.test(u)}function Pt(u,g){O.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,g)}S(Pt,O),Pt.prototype.init=function(u,g){const _=this.type=u.type,x=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=g,g=u.relatedTarget,g||(_=="mouseover"?g=u.fromElement:_=="mouseout"&&(g=u.toElement)),this.relatedTarget=g,x?(this.clientX=x.clientX!==void 0?x.clientX:x.pageX,this.clientY=x.clientY!==void 0?x.clientY:x.pageY,this.screenX=x.screenX||0,this.screenY=x.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&Pt.Z.h.call(this)},Pt.prototype.h=function(){Pt.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var ue="closure_listenable_"+(Math.random()*1e6|0),X=0;function ht(u,g,_,x,U){this.listener=u,this.proxy=null,this.src=g,this.type=_,this.capture=!!x,this.ha=U,this.key=++X,this.da=this.fa=!1}function Et(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function ft(u,g,_){for(const x in u)g.call(_,u[x],x,u)}function vt(u,g){for(const _ in u)g.call(void 0,u[_],_,u)}function I(u){const g={};for(const _ in u)g[_]=u[_];return g}const $="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ut(u,g){let _,x;for(let U=1;U<arguments.length;U++){x=arguments[U];for(_ in x)u[_]=x[_];for(let Y=0;Y<$.length;Y++)_=$[Y],Object.prototype.hasOwnProperty.call(x,_)&&(u[_]=x[_])}}function gt(u){this.src=u,this.g={},this.h=0}gt.prototype.add=function(u,g,_,x,U){const Y=u.toString();u=this.g[Y],u||(u=this.g[Y]=[],this.h++);const ct=rt(u,g,x,U);return ct>-1?(g=u[ct],_||(g.fa=!1)):(g=new ht(g,this.src,Y,!!x,U),g.fa=_,u.push(g)),g};function F(u,g){const _=g.type;if(_ in u.g){var x=u.g[_],U=Array.prototype.indexOf.call(x,g,void 0),Y;(Y=U>=0)&&Array.prototype.splice.call(x,U,1),Y&&(Et(g),u.g[_].length==0&&(delete u.g[_],u.h--))}}function rt(u,g,_,x){for(let U=0;U<u.length;++U){const Y=u[U];if(!Y.da&&Y.listener==g&&Y.capture==!!_&&Y.ha==x)return U}return-1}var dt="closure_lm_"+(Math.random()*1e6|0),Rt={};function mt(u,g,_,x,U){if(Array.isArray(g)){for(let Y=0;Y<g.length;Y++)mt(u,g[Y],_,x,U);return null}return _=ia(_),u&&u[ue]?u.J(g,_,m(x)?!!x.capture:!1,U):He(u,g,_,!1,x,U)}function He(u,g,_,x,U,Y){if(!g)throw Error("Invalid event type");const ct=m(U)?!!U.capture:!!U;let jt=Ui(u);if(jt||(u[dt]=jt=new gt(u)),_=jt.add(g,_,x,ct,Y),_.proxy)return _;if(x=rn(),_.proxy=x,x.src=u,x.listener=_,u.addEventListener)k||(U=ct),U===void 0&&(U=!1),u.addEventListener(g.toString(),x,U);else if(u.attachEvent)u.attachEvent(Un(g.toString()),x);else if(u.addListener&&u.removeListener)u.addListener(x);else throw Error("addEventListener and attachEvent are unavailable.");return _}function rn(){function u(_){return g.call(u.src,u.listener,_)}const g=na;return u}function hs(u,g,_,x,U){if(Array.isArray(g))for(var Y=0;Y<g.length;Y++)hs(u,g[Y],_,x,U);else x=m(x)?!!x.capture:!!x,_=ia(_),u&&u[ue]?(u=u.i,Y=String(g).toString(),Y in u.g&&(g=u.g[Y],_=rt(g,_,x,U),_>-1&&(Et(g[_]),Array.prototype.splice.call(g,_,1),g.length==0&&(delete u.g[Y],u.h--)))):u&&(u=Ui(u))&&(g=u.g[g.toString()],u=-1,g&&(u=rt(g,_,x,U)),(_=u>-1?g[u]:null)&&fs(_))}function fs(u){if(typeof u!="number"&&u&&!u.da){var g=u.src;if(g&&g[ue])F(g.i,u);else{var _=u.type,x=u.proxy;g.removeEventListener?g.removeEventListener(_,x,u.capture):g.detachEvent?g.detachEvent(Un(_),x):g.addListener&&g.removeListener&&g.removeListener(x),(_=Ui(g))?(F(_,u),_.h==0&&(_.src=null,g[dt]=null)):Et(u)}}}function Un(u){return u in Rt?Rt[u]:Rt[u]="on"+u}function na(u,g){if(u.da)u=!0;else{g=new Pt(g,this);const _=u.listener,x=u.ha||u.src;u.fa&&fs(u),u=_.call(x,g)}return u}function Ui(u){return u=u[dt],u instanceof gt?u:null}var ei="__closure_events_fn_"+(Math.random()*1e9>>>0);function ia(u){return typeof u=="function"?u:(u[ei]||(u[ei]=function(g){return u.handleEvent(g)}),u[ei])}function be(){L.call(this),this.i=new gt(this),this.M=this,this.G=null}S(be,L),be.prototype[ue]=!0,be.prototype.removeEventListener=function(u,g,_,x){hs(this,u,g,_,x)};function xe(u,g){var _,x=u.G;if(x)for(_=[];x;x=x.G)_.push(x);if(u=u.M,x=g.type||g,typeof g=="string")g=new O(g,u);else if(g instanceof O)g.target=g.target||u;else{var U=g;g=new O(x,u),ut(g,U)}U=!0;let Y,ct;if(_)for(ct=_.length-1;ct>=0;ct--)Y=g.g=_[ct],U=mi(Y,x,!0,g)&&U;if(Y=g.g=u,U=mi(Y,x,!0,g)&&U,U=mi(Y,x,!1,g)&&U,_)for(ct=0;ct<_.length;ct++)Y=g.g=_[ct],U=mi(Y,x,!1,g)&&U}be.prototype.N=function(){if(be.Z.N.call(this),this.i){var u=this.i;for(const g in u.g){const _=u.g[g];for(let x=0;x<_.length;x++)Et(_[x]);delete u.g[g],u.h--}}this.G=null},be.prototype.J=function(u,g,_,x){return this.i.add(String(u),g,!1,_,x)},be.prototype.K=function(u,g,_,x){return this.i.add(String(u),g,!0,_,x)};function mi(u,g,_,x){if(g=u.i.g[String(g)],!g)return!0;g=g.concat();let U=!0;for(let Y=0;Y<g.length;++Y){const ct=g[Y];if(ct&&!ct.da&&ct.capture==_){const jt=ct.listener,Se=ct.ha||ct.src;ct.fa&&F(u.i,ct),U=jt.call(Se,x)!==!1&&U}}return U&&!x.defaultPrevented}function Bi(u,g){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=v(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(g)>2147483647?-1:d.setTimeout(u,g||0)}function sa(u){u.g=Bi(()=>{u.g=null,u.i&&(u.i=!1,sa(u))},u.l);const g=u.h;u.h=null,u.m.apply(null,g)}class Fe extends L{constructor(g,_){super(),this.m=g,this.l=_,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:sa(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function B(u){L.call(this),this.h=u,this.g={}}S(B,L);var W=[];function ot(u){ft(u.g,function(g,_){this.g.hasOwnProperty(_)&&fs(g)},u),u.g={}}B.prototype.N=function(){B.Z.N.call(this),ot(this)},B.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var It=d.JSON.stringify,zt=d.JSON.parse,ke=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function ze(){}function Ze(){}var ln={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function ce(){O.call(this,"d")}S(ce,O);function dn(){O.call(this,"c")}S(dn,O);var me={},aa=null;function xt(){return aa=aa||new be}me.Ia="serverreachability";function ra(u){O.call(this,me.Ia,u)}S(ra,O);function wn(u){const g=xt();xe(g,new ra(g))}me.STAT_EVENT="statevent";function gi(u,g){O.call(this,me.STAT_EVENT,u),this.stat=g}S(gi,O);function ye(u){const g=xt();xe(g,new gi(g,u))}me.Ja="timingevent";function Cn(u,g){O.call(this,me.Ja,u),this.size=g}S(Cn,O);function Rn(u,g){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},g)}function pn(){this.g=!0}pn.prototype.ua=function(){this.g=!1};function Pa(u,g,_,x,U,Y){u.info(function(){if(u.g)if(Y){var ct="",jt=Y.split("&");for(let Jt=0;Jt<jt.length;Jt++){var Se=jt[Jt].split("=");if(Se.length>1){const ge=Se[0];Se=Se[1];const Fn=ge.split("_");ct=Fn.length>=2&&Fn[1]=="type"?ct+(ge+"="+Se+"&"):ct+(ge+"=redacted&")}}}else ct=null;else ct=Y;return"XMLHTTP REQ ("+x+") [attempt "+U+"]: "+g+`
`+_+`
`+ct})}function la(u,g,_,x,U,Y,ct){u.info(function(){return"XMLHTTP RESP ("+x+") [ attempt "+U+"]: "+g+`
`+_+`
`+Y+" "+ct})}function Nn(u,g,_,x){u.info(function(){return"XMLHTTP TEXT ("+g+"): "+yn(u,_)+(x?" "+x:"")})}function Ge(u,g){u.info(function(){return"TIMEOUT: "+g})}pn.prototype.info=function(){};function yn(u,g){if(!u.g)return g;if(!g)return null;try{const Y=JSON.parse(g);if(Y){for(u=0;u<Y.length;u++)if(Array.isArray(Y[u])){var _=Y[u];if(!(_.length<2)){var x=_[1];if(Array.isArray(x)&&!(x.length<1)){var U=x[0];if(U!="noop"&&U!="stop"&&U!="close")for(let ct=1;ct<x.length;ct++)x[ct]=""}}}}return It(Y)}catch{return g}}var Wt={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},on={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Bn;function Pi(){}S(Pi,ze),Pi.prototype.g=function(){return new XMLHttpRequest},Bn=new Pi;function qi(u){return encodeURIComponent(String(u))}function Ao(u){var g=1;u=u.split(":");const _=[];for(;g>0&&u.length;)_.push(u.shift()),g--;return u.length&&_.push(u.join(":")),_}function ni(u,g,_,x){this.j=u,this.i=g,this.l=_,this.S=x||1,this.V=new B(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ii}function ii(){this.i=null,this.g="",this.h=!1}var Re={},Qe={};function pi(u,g,_){u.M=1,u.A=oa(De(g)),u.u=_,u.R=!0,qa(u,null)}function qa(u,g){u.F=Date.now(),yi(u),u.B=De(u.A);var _=u.B,x=u.S;Array.isArray(x)||(x=[String(x)]),Qa(_.i,"t",x),u.C=0,_=u.j.L,u.h=new ii,u.g=Bo(u.j,_?g:null,!u.u),u.P>0&&(u.O=new Fe(v(u.Y,u,u.g),u.P)),g=u.V,_=u.g,x=u.ba;var U="readystatechange";Array.isArray(U)||(U&&(W[0]=U.toString()),U=W);for(let Y=0;Y<U.length;Y++){const ct=mt(_,U[Y],x||g.handleEvent,!1,g.h||g);if(!ct)break;g.g[ct.key]=ct}g=u.J?I(u.J):{},u.u?(u.v||(u.v="POST"),g["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,g)):(u.v="GET",u.g.ea(u.B,u.v,null,g)),wn(),Pa(u.i,u.v,u.B,u.l,u.S,u.u)}ni.prototype.ba=function(u){u=u.target;const g=this.O;g&&ri(u)==3?g.j():this.Y(u)},ni.prototype.Y=function(u){try{if(u==this.g)t:{const jt=ri(this.g),Se=this.g.ya(),Jt=this.g.ca();if(!(jt<3)&&(jt!=3||this.g&&(this.h.h||this.g.la()||Je(this.g)))){this.K||jt!=4||Se==7||(Se==8||Jt<=0?wn(3):wn(2)),vi(this);var g=this.g.ca();this.X=g;var _=Lc(this);if(this.o=g==200,la(this.i,this.v,this.B,this.l,this.S,jt,g),this.o){if(this.U&&!this.L){e:{if(this.g){var x,U=this.g;if((x=U.g?U.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(x)){var Y=x;break e}}Y=null}if(u=Y)Nn(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,_i(this,u);else{this.o=!1,this.m=3,ye(12),Dn(this),Pn(this);break t}}if(this.R){u=!0;let ge;for(;!this.K&&this.C<_.length;)if(ge=Co(this,_),ge==Qe){jt==4&&(this.m=4,ye(14),u=!1),Nn(this.i,this.l,null,"[Incomplete Response]");break}else if(ge==Re){this.m=4,ye(15),Nn(this.i,this.l,_,"[Invalid Chunk]"),u=!1;break}else Nn(this.i,this.l,ge,null),_i(this,ge);if(wo(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),jt!=4||_.length!=0||this.h.h||(this.m=1,ye(16),u=!1),this.o=this.o&&u,!u)Nn(this.i,this.l,_,"[Invalid Chunked Response]"),Dn(this),Pn(this);else if(_.length>0&&!this.W){this.W=!0;var ct=this.j;ct.g==this&&ct.aa&&!ct.P&&(ct.j.info("Great, no buffering proxy detected. Bytes received: "+_.length),ol(ct),ct.P=!0,ye(11))}}else Nn(this.i,this.l,_,null),_i(this,_);jt==4&&Dn(this),this.o&&!this.K&&(jt==4?Lo(this.j,this):(this.o=!1,yi(this)))}else Fi(this.g),g==400&&_.indexOf("Unknown SID")>0?(this.m=3,ye(12)):(this.m=0,ye(13)),Dn(this),Pn(this)}}}catch{}finally{}};function Lc(u){if(!wo(u))return u.g.la();const g=Je(u.g);if(g==="")return"";let _="";const x=g.length,U=ri(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return Dn(u),Pn(u),"";u.h.i=new d.TextDecoder}for(let Y=0;Y<x;Y++)u.h.h=!0,_+=u.h.i.decode(g[Y],{stream:!(U&&Y==x-1)});return g.length=0,u.h.g+=_,u.C=0,u.h.g}function wo(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function Co(u,g){var _=u.C,x=g.indexOf(`
`,_);return x==-1?Qe:(_=Number(g.substring(_,x)),isNaN(_)?Re:(x+=1,x+_>g.length?Qe:(g=g.slice(x,x+_),u.C=x+_,g)))}ni.prototype.cancel=function(){this.K=!0,Dn(this)};function yi(u){u.T=Date.now()+u.H,Ha(u,u.H)}function Ha(u,g){if(u.D!=null)throw Error("WatchDog timer not null");u.D=Rn(v(u.aa,u),g)}function vi(u){u.D&&(d.clearTimeout(u.D),u.D=null)}ni.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(Ge(this.i,this.B),this.M!=2&&(wn(),ye(17)),Dn(this),this.m=2,Pn(this)):Ha(this,this.T-u)};function Pn(u){u.j.I==0||u.K||Lo(u.j,u)}function Dn(u){vi(u);var g=u.O;g&&typeof g.dispose=="function"&&g.dispose(),u.O=null,ot(u.V),u.g&&(g=u.g,u.g=null,g.abort(),g.dispose())}function _i(u,g){try{var _=u.j;if(_.I!=0&&(_.g==u||Ei(_.h,u))){if(!u.L&&Ei(_.h,u)&&_.I==3){try{var x=_.Ba.g.parse(g)}catch{x=null}if(Array.isArray(x)&&x.length==3){var U=x;if(U[0]==0){t:if(!_.v){if(_.g)if(_.g.F+3e3<u.F)Ja(_),bs(_);else break t;ga(_),ye(18)}}else _.xa=U[1],0<_.xa-_.K&&U[2]<37500&&_.F&&_.A==0&&!_.C&&(_.C=Rn(v(_.Va,_),6e3));bi(_.h)<=1&&_.ta&&(_.ta=void 0)}else Ci(_,11)}else if((u.L||_.g==u)&&Ja(_),!R(g))for(U=_.Ba.g.parse(g),g=0;g<U.length;g++){let Jt=U[g];const ge=Jt[0];if(!(ge<=_.K))if(_.K=ge,Jt=Jt[1],_.I==2)if(Jt[0]=="c"){_.M=Jt[1],_.ba=Jt[2];const Fn=Jt[3];Fn!=null&&(_.ka=Fn,_.j.info("VER="+_.ka));const Ri=Jt[4];Ri!=null&&(_.za=Ri,_.j.info("SVER="+_.za));const li=Jt[5];li!=null&&typeof li=="number"&&li>0&&(x=1.5*li,_.O=x,_.j.info("backChannelRequestTimeoutMs_="+x)),x=_;const oi=u.g;if(oi){const pa=oi.g?oi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(pa){var Y=x.h;Y.g||pa.indexOf("spdy")==-1&&pa.indexOf("quic")==-1&&pa.indexOf("h2")==-1||(Y.j=Y.l,Y.g=new Set,Y.h&&(Zr(Y,Y.h),Y.h=null))}if(x.G){const $a=oi.g?oi.g.getResponseHeader("X-HTTP-Session-Id"):null;$a&&(x.wa=$a,ee(x.J,x.G,$a))}}_.I=3,_.l&&_.l.ra(),_.aa&&(_.T=Date.now()-u.F,_.j.info("Handshake RTT: "+_.T+"ms")),x=_;var ct=u;if(x.na=Uo(x,x.L?x.ba:null,x.W),ct.L){Jr(x.h,ct);var jt=ct,Se=x.O;Se&&(jt.H=Se),jt.D&&(vi(jt),yi(jt)),x.g=ct}else Mo(x);_.i.length>0&&wi(_)}else Jt[0]!="stop"&&Jt[0]!="close"||Ci(_,7);else _.I==3&&(Jt[0]=="stop"||Jt[0]=="close"?Jt[0]=="stop"?Ci(_,7):rl(_):Jt[0]!="noop"&&_.l&&_.l.qa(Jt),_.A=0)}}wn(4)}catch{}}var Ne=class{constructor(u,g){this.g=u,this.map=g}};function Kr(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Xr(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function bi(u){return u.h?1:u.g?u.g.size:0}function Ei(u,g){return u.h?u.h==g:u.g?u.g.has(g):!1}function Zr(u,g){u.g?u.g.add(g):u.h=g}function Jr(u,g){u.h&&u.h==g?u.h=null:u.g&&u.g.has(g)&&u.g.delete(g)}Kr.prototype.cancel=function(){if(this.i=$r(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function $r(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let g=u.i;for(const _ of u.g.values())g=g.concat(_.G);return g}return j(u.i)}var Ro=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Fa(u,g){if(u){u=u.split("&");for(let _=0;_<u.length;_++){const x=u[_].indexOf("=");let U,Y=null;x>=0?(U=u[_].substring(0,x),Y=u[_].substring(x+1)):U=u[_],g(U,Y?decodeURIComponent(Y.replace(/\+/g," ")):"")}}}function In(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let g;u instanceof In?(this.l=u.l,Ye(this,u.j),this.o=u.o,this.g=u.g,ds(this,u.u),this.h=u.h,Wr(this,Vo(u.i)),this.m=u.m):u&&(g=String(u).match(Ro))?(this.l=!1,Ye(this,g[1]||"",!0),this.o=Ti(g[2]||""),this.g=Ti(g[3]||"",!0),ds(this,g[4]),this.h=Ti(g[5]||"",!0),Wr(this,g[6]||"",!0),this.m=Ti(g[7]||"")):(this.l=!1,this.i=new gs(null,this.l))}In.prototype.toString=function(){const u=[];var g=this.j;g&&u.push(ua(g,Ga,!0),":");var _=this.g;return(_||g=="file")&&(u.push("//"),(g=this.o)&&u.push(ua(g,Ga,!0),"@"),u.push(qi(_).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.u,_!=null&&u.push(":",String(_))),(_=this.h)&&(this.g&&_.charAt(0)!="/"&&u.push("/"),u.push(ua(_,_.charAt(0)=="/"?tl:No,!0))),(_=this.i.toString())&&u.push("?",_),(_=this.m)&&u.push("#",ua(_,Do)),u.join("")},In.prototype.resolve=function(u){const g=De(this);let _=!!u.j;_?Ye(g,u.j):_=!!u.o,_?g.o=u.o:_=!!u.g,_?g.g=u.g:_=u.u!=null;var x=u.h;if(_)ds(g,u.u);else if(_=!!u.h){if(x.charAt(0)!="/")if(this.g&&!this.h)x="/"+x;else{var U=g.h.lastIndexOf("/");U!=-1&&(x=g.h.slice(0,U+1)+x)}if(U=x,U==".."||U==".")x="";else if(U.indexOf("./")!=-1||U.indexOf("/.")!=-1){x=U.lastIndexOf("/",0)==0,U=U.split("/");const Y=[];for(let ct=0;ct<U.length;){const jt=U[ct++];jt=="."?x&&ct==U.length&&Y.push(""):jt==".."?((Y.length>1||Y.length==1&&Y[0]!="")&&Y.pop(),x&&ct==U.length&&Y.push("")):(Y.push(jt),x=!0)}x=Y.join("/")}else x=U}return _?g.h=x:_=u.i.toString()!=="",_?Wr(g,Vo(u.i)):_=!!u.m,_&&(g.m=u.m),g};function De(u){return new In(u)}function Ye(u,g,_){u.j=_?Ti(g,!0):g,u.j&&(u.j=u.j.replace(/:$/,""))}function ds(u,g){if(g){if(g=Number(g),isNaN(g)||g<0)throw Error("Bad port number "+g);u.u=g}else u.u=null}function Wr(u,g,_){g instanceof gs?(u.i=g,Ya(u.i,u.l)):(_||(g=ua(g,ms)),u.i=new gs(g,u.l))}function ee(u,g,_){u.i.set(g,_)}function oa(u){return ee(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function Ti(u,g){return u?g?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function ua(u,g,_){return typeof u=="string"?(u=encodeURI(u).replace(g,vn),_&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function vn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Ga=/[#\/\?@]/g,No=/[#\?:]/g,tl=/[#\?]/g,ms=/[#\?@]/g,Do=/#/g;function gs(u,g){this.h=this.g=null,this.i=u||null,this.j=!!g}function _n(u){u.g||(u.g=new Map,u.h=0,u.i&&Fa(u.i,function(g,_){u.add(decodeURIComponent(g.replace(/\+/g," ")),_)}))}a=gs.prototype,a.add=function(u,g){_n(this),this.i=null,u=ps(this,u);let _=this.g.get(u);return _||this.g.set(u,_=[]),_.push(g),this.h+=1,this};function Io(u,g){_n(u),g=ps(u,g),u.g.has(g)&&(u.i=null,u.h-=u.g.get(g).length,u.g.delete(g))}function el(u,g){return _n(u),g=ps(u,g),u.g.has(g)}a.forEach=function(u,g){_n(this),this.g.forEach(function(_,x){_.forEach(function(U){u.call(g,U,x,this)},this)},this)};function nl(u,g){_n(u);let _=[];if(typeof g=="string")el(u,g)&&(_=_.concat(u.g.get(ps(u,g))));else for(u=Array.from(u.g.values()),g=0;g<u.length;g++)_=_.concat(u[g]);return _}a.set=function(u,g){return _n(this),this.i=null,u=ps(this,u),el(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[g]),this.h+=1,this},a.get=function(u,g){return u?(u=nl(this,u),u.length>0?String(u[0]):g):g};function Qa(u,g,_){Io(u,g),_.length>0&&(u.i=null,u.g.set(ps(u,g),j(_)),u.h+=_.length)}a.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],g=Array.from(this.g.keys());for(let x=0;x<g.length;x++){var _=g[x];const U=qi(_);_=nl(this,_);for(let Y=0;Y<_.length;Y++){let ct=U;_[Y]!==""&&(ct+="="+qi(_[Y])),u.push(ct)}}return this.i=u.join("&")};function Vo(u){const g=new gs;return g.i=u.i,u.g&&(g.g=new Map(u.g),g.h=u.h),g}function ps(u,g){return g=String(g),u.j&&(g=g.toLowerCase()),g}function Ya(u,g){g&&!u.j&&(_n(u),u.i=null,u.g.forEach(function(_,x){const U=x.toLowerCase();x!=U&&(Io(this,x),Qa(this,U,_))},u)),u.j=g}function si(u,g){const _=new pn;if(d.Image){const x=new Image;x.onload=T(qn,_,"TestLoadImage: loaded",!0,g,x),x.onerror=T(qn,_,"TestLoadImage: error",!1,g,x),x.onabort=T(qn,_,"TestLoadImage: abort",!1,g,x),x.ontimeout=T(qn,_,"TestLoadImage: timeout",!1,g,x),d.setTimeout(function(){x.ontimeout&&x.ontimeout()},1e4),x.src=u}else g(!1)}function il(u,g){const _=new pn,x=new AbortController,U=setTimeout(()=>{x.abort(),qn(_,"TestPingServer: timeout",!1,g)},1e4);fetch(u,{signal:x.signal}).then(Y=>{clearTimeout(U),Y.ok?qn(_,"TestPingServer: ok",!0,g):qn(_,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(U),qn(_,"TestPingServer: error",!1,g)})}function qn(u,g,_,x,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),x(_)}catch{}}function ys(){this.g=new ke}function xi(u){this.i=u.Sb||null,this.h=u.ab||!1}S(xi,ze),xi.prototype.g=function(){return new ca(this.i,this.h)};function ca(u,g){be.call(this),this.H=u,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}S(ca,be),a=ca.prototype,a.open=function(u,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=g,this.readyState=1,ai(this)},a.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const g={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(g.body=u),(this.H||d).fetch(new Request(this.D,g)).then(this.Pa.bind(this),this.ga.bind(this))},a.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,vs(this)),this.readyState=0},a.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,ai(this)),this.g&&(this.readyState=3,ai(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ka(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ka(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}a.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var g=u.value?u.value:new Uint8Array(0);(g=this.B.decode(g,{stream:!u.done}))&&(this.response=this.responseText+=g)}u.done?vs(this):ai(this),this.readyState==3&&Ka(this)}},a.Oa=function(u){this.g&&(this.response=this.responseText=u,vs(this))},a.Na=function(u){this.g&&(this.response=u,vs(this))},a.ga=function(){this.g&&vs(this)};function vs(u){u.readyState=4,u.l=null,u.j=null,u.B=null,ai(u)}a.setRequestHeader=function(u,g){this.A.append(u,g)},a.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},a.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],g=this.h.entries();for(var _=g.next();!_.done;)_=_.value,u.push(_[0]+": "+_[1]),_=g.next();return u.join(`\r
`)};function ai(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(ca.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Hn(u){let g="";return ft(u,function(_,x){g+=x,g+=":",g+=_,g+=`\r
`}),g}function ha(u,g,_){t:{for(x in _){var x=!1;break t}x=!0}x||(_=Hn(_),typeof u=="string"?_!=null&&qi(_):ee(u,g,_))}function se(u){be.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}S(se,be);var Si=/^https?$/i,sl=["POST","PUT"];a=se.prototype,a.Fa=function(u){this.H=u},a.ea=function(u,g,_,x){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);g=g?g.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Bn.g(),this.g.onreadystatechange=C(v(this.Ca,this));try{this.B=!0,this.g.open(g,String(u),!0),this.B=!1}catch(Y){fa(this,Y);return}if(u=_||"",_=new Map(this.headers),x)if(Object.getPrototypeOf(x)===Object.prototype)for(var U in x)_.set(U,x[U]);else if(typeof x.keys=="function"&&typeof x.get=="function")for(const Y of x.keys())_.set(Y,x.get(Y));else throw Error("Unknown input type for opt_headers: "+String(x));x=Array.from(_.keys()).find(Y=>Y.toLowerCase()=="content-type"),U=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(sl,g,void 0)>=0)||x||U||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Y,ct]of _)this.g.setRequestHeader(Y,ct);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(Y){fa(this,Y)}};function fa(u,g){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=g,u.o=5,al(u),Hi(u)}function al(u){u.A||(u.A=!0,xe(u,"complete"),xe(u,"error"))}a.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,xe(this,"complete"),xe(this,"abort"),Hi(this))},a.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Hi(this,!0)),se.Z.N.call(this)},a.Ca=function(){this.u||(this.B||this.v||this.j?da(this):this.Xa())},a.Xa=function(){da(this)};function da(u){if(u.h&&typeof h<"u"){if(u.v&&ri(u)==4)setTimeout(u.Ca.bind(u),0);else if(xe(u,"readystatechange"),ri(u)==4){u.h=!1;try{const Y=u.ca();t:switch(Y){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break t;default:g=!1}var _;if(!(_=g)){var x;if(x=Y===0){let ct=String(u.D).match(Ro)[1]||null;!ct&&d.self&&d.self.location&&(ct=d.self.location.protocol.slice(0,-1)),x=!Si.test(ct?ct.toLowerCase():"")}_=x}if(_)xe(u,"complete"),xe(u,"success");else{u.o=6;try{var U=ri(u)>2?u.g.statusText:""}catch{U=""}u.l=U+" ["+u.ca()+"]",al(u)}}finally{Hi(u)}}}}function Hi(u,g){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const _=u.g;u.g=null,g||xe(u,"ready");try{_.onreadystatechange=null}catch{}}}a.isActive=function(){return!!this.g};function ri(u){return u.g?u.g.readyState:0}a.ca=function(){try{return ri(this)>2?this.g.status:-1}catch{return-1}},a.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},a.La=function(u){if(this.g){var g=this.g.responseText;return u&&g.indexOf(u)==0&&(g=g.substring(u.length)),zt(g)}};function Je(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Fi(u){const g={};u=(u.g&&ri(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let x=0;x<u.length;x++){if(R(u[x]))continue;var _=Ao(u[x]);const U=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const Y=g[U]||[];g[U]=Y,Y.push(_)}vt(g,function(x){return x.join(", ")})}a.ya=function(){return this.o},a.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ai(u,g,_){return _&&_.internalChannelParams&&_.internalChannelParams[u]||g}function _s(u){this.za=0,this.i=[],this.j=new pn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ai("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ai("baseRetryDelayMs",5e3,u),this.Za=Ai("retryDelaySeedMs",1e4,u),this.Ta=Ai("forwardChannelMaxRetries",2,u),this.va=Ai("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Kr(u&&u.concurrentRequestLimit),this.Ba=new ys,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}a=_s.prototype,a.ka=8,a.I=1,a.connect=function(u,g,_,x){ye(0),this.W=u,this.H=g||{},_&&x!==void 0&&(this.H.OSID=_,this.H.OAID=x),this.F=this.X,this.J=Uo(this,null,this.W),wi(this)};function rl(u){if(Xa(u),u.I==3){var g=u.V++,_=De(u.J);if(ee(_,"SID",u.M),ee(_,"RID",g),ee(_,"TYPE","terminate"),ma(u,_),g=new ni(u,u.j,g),g.M=2,g.A=oa(De(_)),_=!1,d.navigator&&d.navigator.sendBeacon)try{_=d.navigator.sendBeacon(g.A.toString(),"")}catch{}!_&&d.Image&&(new Image().src=g.A,_=!0),_||(g.g=Bo(g.j,null),g.g.ea(g.A)),g.F=Date.now(),yi(g)}zo(u)}function bs(u){u.g&&(ol(u),u.g.cancel(),u.g=null)}function Xa(u){bs(u),u.v&&(d.clearTimeout(u.v),u.v=null),Ja(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function wi(u){if(!Xr(u.h)&&!u.m){u.m=!0;var g=u.Ea;pt||A(),At||(pt(),At=!0),N.add(g,u),u.D=0}}function Za(u,g){return bi(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=g.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=Rn(v(u.Ea,u,g),ko(u,u.D)),u.D++,!0)}a.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const U=new ni(this,this.j,u);let Y=this.o;if(this.U&&(Y?(Y=I(Y),ut(Y,this.U)):Y=this.U),this.u!==null||this.R||(U.J=Y,Y=null),this.S)t:{for(var g=0,_=0;_<this.i.length;_++){e:{var x=this.i[_];if("__data__"in x.map&&(x=x.map.__data__,typeof x=="string")){x=x.length;break e}x=void 0}if(x===void 0)break;if(g+=x,g>4096){g=_;break t}if(g===4096||_===this.i.length-1){g=_+1;break t}}g=1e3}else g=1e3;g=Oo(this,U,g),_=De(this.J),ee(_,"RID",u),ee(_,"CVER",22),this.G&&ee(_,"X-HTTP-Session-Id",this.G),ma(this,_),Y&&(this.R?g="headers="+qi(Hn(Y))+"&"+g:this.u&&ha(_,this.u,Y)),Zr(this.h,U),this.Ra&&ee(_,"TYPE","init"),this.S?(ee(_,"$req",g),ee(_,"SID","null"),U.U=!0,pi(U,_,null)):pi(U,_,g),this.I=2}}else this.I==3&&(u?ll(this,u):this.i.length==0||Xr(this.h)||ll(this))};function ll(u,g){var _;g?_=g.l:_=u.V++;const x=De(u.J);ee(x,"SID",u.M),ee(x,"RID",_),ee(x,"AID",u.K),ma(u,x),u.u&&u.o&&ha(x,u.u,u.o),_=new ni(u,u.j,_,u.D+1),u.u===null&&(_.J=u.o),g&&(u.i=g.G.concat(u.i)),g=Oo(u,_,1e3),_.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Zr(u.h,_),pi(_,x,g)}function ma(u,g){u.H&&ft(u.H,function(_,x){ee(g,x,_)}),u.l&&ft({},function(_,x){ee(g,x,_)})}function Oo(u,g,_){_=Math.min(u.i.length,_);const x=u.l?v(u.l.Ka,u.l,u):null;t:{var U=u.i;let jt=-1;for(;;){const Se=["count="+_];jt==-1?_>0?(jt=U[0].g,Se.push("ofs="+jt)):jt=0:Se.push("ofs="+jt);let Jt=!0;for(let ge=0;ge<_;ge++){var Y=U[ge].g;const Fn=U[ge].map;if(Y-=jt,Y<0)jt=Math.max(0,U[ge].g-100),Jt=!1;else try{Y="req"+Y+"_"||"";try{var ct=Fn instanceof Map?Fn:Object.entries(Fn);for(const[Ri,li]of ct){let oi=li;m(li)&&(oi=It(li)),Se.push(Y+Ri+"="+encodeURIComponent(oi))}}catch(Ri){throw Se.push(Y+"type="+encodeURIComponent("_badmap")),Ri}}catch{x&&x(Fn)}}if(Jt){ct=Se.join("&");break t}}ct=void 0}return u=u.i.splice(0,_),g.G=u,ct}function Mo(u){if(!u.g&&!u.v){u.Y=1;var g=u.Da;pt||A(),At||(pt(),At=!0),N.add(g,u),u.A=0}}function ga(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=Rn(v(u.Da,u),ko(u,u.A)),u.A++,!0)}a.Da=function(){if(this.v=null,jo(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=Rn(v(this.Wa,this),u)}},a.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ye(10),bs(this),jo(this))};function ol(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function jo(u){u.g=new ni(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var g=De(u.na);ee(g,"RID","rpc"),ee(g,"SID",u.M),ee(g,"AID",u.K),ee(g,"CI",u.F?"0":"1"),!u.F&&u.ia&&ee(g,"TO",u.ia),ee(g,"TYPE","xmlhttp"),ma(u,g),u.u&&u.o&&ha(g,u.u,u.o),u.O&&(u.g.H=u.O);var _=u.g;u=u.ba,_.M=1,_.A=oa(De(g)),_.u=null,_.R=!0,qa(_,u)}a.Va=function(){this.C!=null&&(this.C=null,bs(this),ga(this),ye(19))};function Ja(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function Lo(u,g){var _=null;if(u.g==g){Ja(u),ol(u),u.g=null;var x=2}else if(Ei(u.h,g))_=g.G,Jr(u.h,g),x=1;else return;if(u.I!=0){if(g.o)if(x==1){_=g.u?g.u.length:0,g=Date.now()-g.F;var U=u.D;x=xt(),xe(x,new Cn(x,_)),wi(u)}else Mo(u);else if(U=g.m,U==3||U==0&&g.X>0||!(x==1&&Za(u,g)||x==2&&ga(u)))switch(_&&_.length>0&&(g=u.h,g.i=g.i.concat(_)),U){case 1:Ci(u,5);break;case 4:Ci(u,10);break;case 3:Ci(u,6);break;default:Ci(u,2)}}}function ko(u,g){let _=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(_*=2),_*g}function Ci(u,g){if(u.j.info("Error code "+g),g==2){var _=v(u.bb,u),x=u.Ua;const U=!x;x=new In(x||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Ye(x,"https"),oa(x),U?si(x.toString(),_):il(x.toString(),_)}else ye(2);u.I=0,u.l&&u.l.pa(g),zo(u),Xa(u)}a.bb=function(u){u?(this.j.info("Successfully pinged google.com"),ye(2)):(this.j.info("Failed to ping google.com"),ye(1))};function zo(u){if(u.I=0,u.ja=[],u.l){const g=$r(u.h);(g.length!=0||u.i.length!=0)&&(G(u.ja,g),G(u.ja,u.i),u.h.i.length=0,j(u.i),u.i.length=0),u.l.oa()}}function Uo(u,g,_){var x=_ instanceof In?De(_):new In(_);if(x.g!="")g&&(x.g=g+"."+x.g),ds(x,x.u);else{var U=d.location;x=U.protocol,g=g?g+"."+U.hostname:U.hostname,U=+U.port;const Y=new In(null);x&&Ye(Y,x),g&&(Y.g=g),U&&ds(Y,U),_&&(Y.h=_),x=Y}return _=u.G,g=u.wa,_&&g&&ee(x,_,g),ee(x,"VER",u.ka),ma(u,x),x}function Bo(u,g,_){if(g&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return g=u.Aa&&!u.ma?new se(new xi({ab:_})):new se(u.ma),g.Fa(u.L),g}a.isActive=function(){return!!this.l&&this.l.isActive(this)};function Po(){}a=Po.prototype,a.ra=function(){},a.qa=function(){},a.pa=function(){},a.oa=function(){},a.isActive=function(){return!0},a.Ka=function(){};function Es(){}Es.prototype.g=function(u,g){return new mn(u,g)};function mn(u,g){be.call(this),this.g=new _s(g),this.l=u,this.h=g&&g.messageUrlParams||null,u=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(u?u["X-WebChannel-Content-Type"]=g.messageContentType:u={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.sa&&(u?u["X-WebChannel-Client-Profile"]=g.sa:u={"X-WebChannel-Client-Profile":g.sa}),this.g.U=u,(u=g&&g.Qb)&&!R(u)&&(this.g.u=u),this.A=g&&g.supportsCrossDomainXhr||!1,this.v=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!R(g)&&(this.g.G=g,u=this.h,u!==null&&g in u&&(u=this.h,g in u&&delete u[g])),this.j=new Gi(this)}S(mn,be),mn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},mn.prototype.close=function(){rl(this.g)},mn.prototype.o=function(u){var g=this.g;if(typeof u=="string"){var _={};_.__data__=u,u=_}else this.v&&(_={},_.__data__=It(u),u=_);g.i.push(new Ne(g.Ya++,u)),g.I==3&&wi(g)},mn.prototype.N=function(){this.g.l=null,delete this.j,rl(this.g),delete this.g,mn.Z.N.call(this)};function qo(u){ce.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var g=u.__sm__;if(g){t:{for(const _ in g){u=_;break t}u=void 0}(this.i=u)&&(u=this.i,g=g!==null&&u in g?g[u]:void 0),this.data=g}else this.data=u}S(qo,ce);function Ho(){dn.call(this),this.status=1}S(Ho,dn);function Gi(u){this.g=u}S(Gi,Po),Gi.prototype.ra=function(){xe(this.g,"a")},Gi.prototype.qa=function(u){xe(this.g,new qo(u))},Gi.prototype.pa=function(u){xe(this.g,new Ho)},Gi.prototype.oa=function(){xe(this.g,"b")},Es.prototype.createWebChannel=Es.prototype.g,mn.prototype.send=mn.prototype.o,mn.prototype.open=mn.prototype.m,mn.prototype.close=mn.prototype.close,uv=function(){return new Es},ov=function(){return xt()},lv=me,Wf={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Wt.NO_ERROR=0,Wt.TIMEOUT=8,Wt.HTTP_ERROR=6,Wu=Wt,on.COMPLETE="complete",rv=on,Ze.EventType=ln,ln.OPEN="a",ln.CLOSE="b",ln.ERROR="c",ln.MESSAGE="d",be.prototype.listen=be.prototype.J,Jl=Ze,se.prototype.listenOnce=se.prototype.K,se.prototype.getLastError=se.prototype.Ha,se.prototype.getLastErrorCode=se.prototype.ya,se.prototype.getStatus=se.prototype.ca,se.prototype.getResponseJson=se.prototype.La,se.prototype.getResponseText=se.prototype.la,se.prototype.send=se.prototype.ea,se.prototype.setWithCredentials=se.prototype.Fa,av=se}).apply(typeof Yu<"u"?Yu:typeof self<"u"?self:typeof window<"u"?window:{});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}hn.UNAUTHENTICATED=new hn(null),hn.GOOGLE_CREDENTIALS=new hn("google-credentials-uid"),hn.FIRST_PARTY=new hn("first-party-uid"),hn.MOCK_USER=new hn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fr="12.8.0";function RT(a){Fr=a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ja=new $0("@firebase/firestore");function Rr(){return ja.logLevel}function yt(a,...e){if(ja.logLevel<=Kt.DEBUG){const i=e.map(bd);ja.debug(`Firestore (${Fr}): ${a}`,...i)}}function us(a,...e){if(ja.logLevel<=Kt.ERROR){const i=e.map(bd);ja.error(`Firestore (${Fr}): ${a}`,...i)}}function kr(a,...e){if(ja.logLevel<=Kt.WARN){const i=e.map(bd);ja.warn(`Firestore (${Fr}): ${a}`,...i)}}function bd(a){if(typeof a=="string")return a;try{return(function(i){return JSON.stringify(i)})(a)}catch{return a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dt(a,e,i){let r="Unexpected state";typeof e=="string"?r=e:i=e,cv(a,r,i)}function cv(a,e,i){let r=`FIRESTORE (${Fr}) INTERNAL ASSERTION FAILED: ${e} (ID: ${a.toString(16)})`;if(i!==void 0)try{r+=" CONTEXT: "+JSON.stringify(i)}catch{r+=" CONTEXT: "+i}throw us(r),new Error(r)}function te(a,e,i,r){let o="Unexpected state";typeof i=="string"?o=i:r=i,a||cv(e,o,r)}function Mt(a,e){return a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const st={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class St extends Hr{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ks{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hv{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class NT{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(hn.UNAUTHENTICATED)))}shutdown(){}}class DT{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class IT{constructor(e){this.t=e,this.currentUser=hn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){te(this.o===void 0,42304);let r=this.i;const o=y=>this.i!==r?(r=this.i,i(y)):Promise.resolve();let h=new Ks;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new Ks,e.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const y=h;e.enqueueRetryable((async()=>{await y.promise,await o(this.currentUser)}))},m=y=>{yt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((y=>m(y))),setTimeout((()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?m(y):(yt("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new Ks)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((r=>this.i!==e?(yt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(te(typeof r.accessToken=="string",31837,{l:r}),new hv(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return te(e===null||typeof e=="string",2055,{h:e}),new hn(e)}}class VT{constructor(e,i,r){this.P=e,this.T=i,this.I=r,this.type="FirstParty",this.user=hn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class OT{constructor(e,i,r){this.P=e,this.T=i,this.I=r}getToken(){return Promise.resolve(new VT(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(hn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Yy{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class MT{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,dT(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){te(this.o===void 0,3512);const r=h=>{h.error!=null&&yt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const d=h.token!==this.m;return this.m=h.token,yt("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(h.token):Promise.resolve()};this.o=h=>{e.enqueueRetryable((()=>r(h)))};const o=h=>{yt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((h=>o(h))),setTimeout((()=>{if(!this.appCheck){const h=this.V.getImmediate({optional:!0});h?o(h):yt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Yy(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(te(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new Yy(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jT(a){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(a);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let r=0;r<a;r++)i[r]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ed{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=jT(40);for(let h=0;h<o.length;++h)r.length<20&&o[h]<i&&(r+=e.charAt(o[h]%62))}return r}}function Ft(a,e){return a<e?-1:a>e?1:0}function td(a,e){const i=Math.min(a.length,e.length);for(let r=0;r<i;r++){const o=a.charAt(r),h=e.charAt(r);if(o!==h)return Hf(o)===Hf(h)?Ft(o,h):Hf(o)?1:-1}return Ft(a.length,e.length)}const LT=55296,kT=57343;function Hf(a){const e=a.charCodeAt(0);return e>=LT&&e<=kT}function zr(a,e,i){return a.length===e.length&&a.every(((r,o)=>i(r,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ky="__name__";class Oi{constructor(e,i,r){i===void 0?i=0:i>e.length&&Dt(637,{offset:i,range:e.length}),r===void 0?r=e.length-i:r>e.length-i&&Dt(1746,{length:r,range:e.length-i}),this.segments=e,this.offset=i,this.len=r}get length(){return this.len}isEqual(e){return Oi.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof Oi?e.forEach((r=>{i.push(r)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,r=this.limit();i<r;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const r=Math.min(e.length,i.length);for(let o=0;o<r;o++){const h=Oi.compareSegments(e.get(o),i.get(o));if(h!==0)return h}return Ft(e.length,i.length)}static compareSegments(e,i){const r=Oi.isNumericId(e),o=Oi.isNumericId(i);return r&&!o?-1:!r&&o?1:r&&o?Oi.extractNumericId(e).compare(Oi.extractNumericId(i)):td(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ys.fromString(e.substring(4,e.length-2))}}class ve extends Oi{construct(e,i,r){return new ve(e,i,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const r of e){if(r.indexOf("//")>=0)throw new St(st.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);i.push(...r.split("/").filter((o=>o.length>0)))}return new ve(i)}static emptyPath(){return new ve([])}}const zT=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class sn extends Oi{construct(e,i,r){return new sn(e,i,r)}static isValidIdentifier(e){return zT.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),sn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Ky}static keyField(){return new sn([Ky])}static fromServerFormat(e){const i=[];let r="",o=0;const h=()=>{if(r.length===0)throw new St(st.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(r),r=""};let d=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new St(st.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[o+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new St(st.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=y,o+=2}else m==="`"?(d=!d,o++):m!=="."||d?(r+=m,o++):(h(),o++)}if(h(),d)throw new St(st.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new sn(i)}static emptyPath(){return new sn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{constructor(e){this.path=e}static fromPath(e){return new Ct(ve.fromString(e))}static fromName(e){return new Ct(ve.fromString(e).popFirst(5))}static empty(){return new Ct(ve.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ve.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return ve.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ct(new ve(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UT(a,e,i){if(!i)throw new St(st.INVALID_ARGUMENT,`Function ${a}() cannot be called with an empty ${e}.`)}function BT(a,e,i,r){if(e===!0&&r===!0)throw new St(st.INVALID_ARGUMENT,`${a} and ${i} cannot be used together.`)}function Xy(a){if(!Ct.isDocumentKey(a))throw new St(st.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${a} has ${a.length}.`)}function fv(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}function Td(a){if(a===void 0)return"undefined";if(a===null)return"null";if(typeof a=="string")return a.length>20&&(a=`${a.substring(0,20)}...`),JSON.stringify(a);if(typeof a=="number"||typeof a=="boolean")return""+a;if(typeof a=="object"){if(a instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(a);return e?`a custom ${e} object`:"an object"}}return typeof a=="function"?"a function":Dt(12329,{type:typeof a})}function Xs(a,e){if("_delegate"in a&&(a=a._delegate),!(a instanceof e)){if(e.name===a.constructor.name)throw new St(st.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Td(a);throw new St(st.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return a}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Le(a,e){const i={typeString:a};return e&&(i.value=e),i}function bo(a,e){if(!fv(a))throw new St(st.INVALID_ARGUMENT,"JSON must be an object");let i;for(const r in e)if(e[r]){const o=e[r].typeString,h="value"in e[r]?{value:e[r].value}:void 0;if(!(r in a)){i=`JSON missing required field: '${r}'`;break}const d=a[r];if(o&&typeof d!==o){i=`JSON field '${r}' must be a ${o}.`;break}if(h!==void 0&&d!==h.value){i=`Expected '${r}' field to equal '${h.value}'`;break}}if(i)throw new St(st.INVALID_ARGUMENT,i);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zy=-62135596800,Jy=1e6;class de{static now(){return de.fromMillis(Date.now())}static fromDate(e){return de.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),r=Math.floor((e-1e3*i)*Jy);return new de(i,r)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new St(st.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new St(st.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<Zy)throw new St(st.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new St(st.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Jy}_compareTo(e){return this.seconds===e.seconds?Ft(this.nanoseconds,e.nanoseconds):Ft(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:de._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(bo(e,de._jsonSchema))return new de(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Zy;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}de._jsonSchemaVersion="firestore/timestamp/1.0",de._jsonSchema={type:Le("string",de._jsonSchemaVersion),seconds:Le("number"),nanoseconds:Le("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{static fromTimestamp(e){return new Vt(e)}static min(){return new Vt(new de(0,0))}static max(){return new Vt(new de(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const co=-1;function PT(a,e){const i=a.toTimestamp().seconds,r=a.toTimestamp().nanoseconds+1,o=Vt.fromTimestamp(r===1e9?new de(i+1,0):new de(i,r));return new Zs(o,Ct.empty(),e)}function qT(a){return new Zs(a.readTime,a.key,co)}class Zs{constructor(e,i,r){this.readTime=e,this.documentKey=i,this.largestBatchId=r}static min(){return new Zs(Vt.min(),Ct.empty(),co)}static max(){return new Zs(Vt.max(),Ct.empty(),co)}}function HT(a,e){let i=a.readTime.compareTo(e.readTime);return i!==0?i:(i=Ct.comparator(a.documentKey,e.documentKey),i!==0?i:Ft(a.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FT="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class GT{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gr(a){if(a.code!==st.FAILED_PRECONDITION||a.message!==FT)throw a;yt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class it{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&Dt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new it(((r,o)=>{this.nextCallback=h=>{this.wrapSuccess(e,h).next(r,o)},this.catchCallback=h=>{this.wrapFailure(i,h).next(r,o)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof it?i:it.resolve(i)}catch(i){return it.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):it.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):it.reject(i)}static resolve(e){return new it(((i,r)=>{i(e)}))}static reject(e){return new it(((i,r)=>{r(e)}))}static waitFor(e){return new it(((i,r)=>{let o=0,h=0,d=!1;e.forEach((m=>{++o,m.next((()=>{++h,d&&h===o&&i()}),(y=>r(y)))})),d=!0,h===o&&i()}))}static or(e){let i=it.resolve(!1);for(const r of e)i=i.next((o=>o?it.resolve(o):r()));return i}static forEach(e,i){const r=[];return e.forEach(((o,h)=>{r.push(i.call(this,o,h))})),this.waitFor(r)}static mapArray(e,i){return new it(((r,o)=>{const h=e.length,d=new Array(h);let m=0;for(let y=0;y<h;y++){const v=y;i(e[v]).next((T=>{d[v]=T,++m,m===h&&r(d)}),(T=>o(T)))}}))}static doWhile(e,i){return new it(((r,o)=>{const h=()=>{e()===!0?i().next((()=>{h()}),o):r()};h()}))}}function QT(a){const e=a.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Qr(a){return a.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tc{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>i.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Tc.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xd=-1;function xc(a){return a==null}function cc(a){return a===0&&1/a==-1/0}function YT(a){return typeof a=="number"&&Number.isInteger(a)&&!cc(a)&&a<=Number.MAX_SAFE_INTEGER&&a>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dv="";function KT(a){let e="";for(let i=0;i<a.length;i++)e.length>0&&(e=$y(e)),e=XT(a.get(i),e);return $y(e)}function XT(a,e){let i=e;const r=a.length;for(let o=0;o<r;o++){const h=a.charAt(o);switch(h){case"\0":i+="";break;case dv:i+="";break;default:i+=h}}return i}function $y(a){return a+dv+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wy(a){let e=0;for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&e++;return e}function ka(a,e){for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&e(i,a[i])}function mv(a){for(const e in a)if(Object.prototype.hasOwnProperty.call(a,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{constructor(e,i){this.comparator=e,this.root=i||nn.EMPTY}insert(e,i){return new _e(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,nn.BLACK,null,null))}remove(e){return new _e(this.comparator,this.root.remove(e,this.comparator).copy(null,null,nn.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(r===0)return i.value;r<0?i=i.left:r>0&&(i=i.right)}return null}indexOf(e){let i=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(o===0)return i+r.left.size;o<0?r=r.left:(i+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,r)=>(e(i,r),!1)))}toString(){const e=[];return this.inorderTraversal(((i,r)=>(e.push(`${i}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ku(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ku(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ku(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ku(this.root,e,this.comparator,!0)}}class Ku{constructor(e,i,r,o){this.isReverse=o,this.nodeStack=[];let h=1;for(;!e.isEmpty();)if(h=i?r(e.key,i):1,i&&o&&(h*=-1),h<0)e=this.isReverse?e.left:e.right;else{if(h===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class nn{constructor(e,i,r,o,h){this.key=e,this.value=i,this.color=r??nn.RED,this.left=o??nn.EMPTY,this.right=h??nn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,r,o,h){return new nn(e??this.key,i??this.value,r??this.color,o??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,r){let o=this;const h=r(e,o.key);return o=h<0?o.copy(null,null,null,o.left.insert(e,i,r),null):h===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return nn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let r,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return nn.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,nn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,nn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Dt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Dt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Dt(27949);return e+(this.isRed()?0:1)}}nn.EMPTY=null,nn.RED=!0,nn.BLACK=!1;nn.EMPTY=new class{constructor(){this.size=0}get key(){throw Dt(57766)}get value(){throw Dt(16141)}get color(){throw Dt(16727)}get left(){throw Dt(29726)}get right(){throw Dt(36894)}copy(e,i,r,o,h){return this}insert(e,i,r){return new nn(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qe{constructor(e){this.comparator=e,this.data=new _e(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,r)=>(e(i),!1)))}forEachInRange(e,i){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let r;for(r=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new t0(this.data.getIterator())}getIteratorFrom(e){return new t0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((r=>{i=i.add(r)})),i}isEqual(e){if(!(e instanceof qe)||this.size!==e.size)return!1;const i=this.data.getIterator(),r=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,h=r.getNext().key;if(this.comparator(o,h)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new qe(this.comparator);return i.data=e,i}}class t0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi{constructor(e){this.fields=e,e.sort(sn.comparator)}static empty(){return new fi([])}unionWith(e){let i=new qe(sn.comparator);for(const r of this.fields)i=i.add(r);for(const r of e)i=i.add(r);return new fi(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return zr(this.fields,e.fields,((i,r)=>i.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gv extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(o){try{return atob(o)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new gv("Invalid base64 string: "+h):h}})(e);return new an(i)}static fromUint8Array(e){const i=(function(o){let h="";for(let d=0;d<o.length;++d)h+=String.fromCharCode(o[d]);return h})(e);return new an(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const r=new Uint8Array(i.length);for(let o=0;o<i.length;o++)r[o]=i.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ft(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}an.EMPTY_BYTE_STRING=new an("");const ZT=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Js(a){if(te(!!a,39018),typeof a=="string"){let e=0;const i=ZT.exec(a);if(te(!!i,46558,{timestamp:a}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(a);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ce(a.seconds),nanos:Ce(a.nanos)}}function Ce(a){return typeof a=="number"?a:typeof a=="string"?Number(a):0}function $s(a){return typeof a=="string"?an.fromBase64String(a):an.fromUint8Array(a)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pv="server_timestamp",yv="__type__",vv="__previous_value__",_v="__local_write_time__";function Sd(a){var i,r;return((r=(((i=a==null?void 0:a.mapValue)==null?void 0:i.fields)||{})[yv])==null?void 0:r.stringValue)===pv}function Sc(a){const e=a.mapValue.fields[vv];return Sd(e)?Sc(e):e}function ho(a){const e=Js(a.mapValue.fields[_v].timestampValue);return new de(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JT{constructor(e,i,r,o,h,d,m,y,v,T,S){this.databaseId=e,this.appId=i,this.persistenceKey=r,this.host=o,this.ssl=h,this.forceLongPolling=d,this.autoDetectLongPolling=m,this.longPollingOptions=y,this.useFetchStreams=v,this.isUsingEmulator=T,this.apiKey=S}}const hc="(default)";class fo{constructor(e,i){this.projectId=e,this.database=i||hc}static empty(){return new fo("","")}get isDefaultDatabase(){return this.database===hc}isEqual(e){return e instanceof fo&&e.projectId===this.projectId&&e.database===this.database}}function $T(a,e){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new St(st.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new fo(a.options.projectId,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bv="__type__",WT="__max__",Xu={mapValue:{}},Ev="__vector__",fc="value";function Ws(a){return"nullValue"in a?0:"booleanValue"in a?1:"integerValue"in a||"doubleValue"in a?2:"timestampValue"in a?3:"stringValue"in a?5:"bytesValue"in a?6:"referenceValue"in a?7:"geoPointValue"in a?8:"arrayValue"in a?9:"mapValue"in a?Sd(a)?4:ex(a)?9007199254740991:tx(a)?10:11:Dt(28295,{value:a})}function ki(a,e){if(a===e)return!0;const i=Ws(a);if(i!==Ws(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return a.booleanValue===e.booleanValue;case 4:return ho(a).isEqual(ho(e));case 3:return(function(o,h){if(typeof o.timestampValue=="string"&&typeof h.timestampValue=="string"&&o.timestampValue.length===h.timestampValue.length)return o.timestampValue===h.timestampValue;const d=Js(o.timestampValue),m=Js(h.timestampValue);return d.seconds===m.seconds&&d.nanos===m.nanos})(a,e);case 5:return a.stringValue===e.stringValue;case 6:return(function(o,h){return $s(o.bytesValue).isEqual($s(h.bytesValue))})(a,e);case 7:return a.referenceValue===e.referenceValue;case 8:return(function(o,h){return Ce(o.geoPointValue.latitude)===Ce(h.geoPointValue.latitude)&&Ce(o.geoPointValue.longitude)===Ce(h.geoPointValue.longitude)})(a,e);case 2:return(function(o,h){if("integerValue"in o&&"integerValue"in h)return Ce(o.integerValue)===Ce(h.integerValue);if("doubleValue"in o&&"doubleValue"in h){const d=Ce(o.doubleValue),m=Ce(h.doubleValue);return d===m?cc(d)===cc(m):isNaN(d)&&isNaN(m)}return!1})(a,e);case 9:return zr(a.arrayValue.values||[],e.arrayValue.values||[],ki);case 10:case 11:return(function(o,h){const d=o.mapValue.fields||{},m=h.mapValue.fields||{};if(Wy(d)!==Wy(m))return!1;for(const y in d)if(d.hasOwnProperty(y)&&(m[y]===void 0||!ki(d[y],m[y])))return!1;return!0})(a,e);default:return Dt(52216,{left:a})}}function mo(a,e){return(a.values||[]).find((i=>ki(i,e)))!==void 0}function Ur(a,e){if(a===e)return 0;const i=Ws(a),r=Ws(e);if(i!==r)return Ft(i,r);switch(i){case 0:case 9007199254740991:return 0;case 1:return Ft(a.booleanValue,e.booleanValue);case 2:return(function(h,d){const m=Ce(h.integerValue||h.doubleValue),y=Ce(d.integerValue||d.doubleValue);return m<y?-1:m>y?1:m===y?0:isNaN(m)?isNaN(y)?0:-1:1})(a,e);case 3:return e0(a.timestampValue,e.timestampValue);case 4:return e0(ho(a),ho(e));case 5:return td(a.stringValue,e.stringValue);case 6:return(function(h,d){const m=$s(h),y=$s(d);return m.compareTo(y)})(a.bytesValue,e.bytesValue);case 7:return(function(h,d){const m=h.split("/"),y=d.split("/");for(let v=0;v<m.length&&v<y.length;v++){const T=Ft(m[v],y[v]);if(T!==0)return T}return Ft(m.length,y.length)})(a.referenceValue,e.referenceValue);case 8:return(function(h,d){const m=Ft(Ce(h.latitude),Ce(d.latitude));return m!==0?m:Ft(Ce(h.longitude),Ce(d.longitude))})(a.geoPointValue,e.geoPointValue);case 9:return n0(a.arrayValue,e.arrayValue);case 10:return(function(h,d){var C,j,G,Z;const m=h.fields||{},y=d.fields||{},v=(C=m[fc])==null?void 0:C.arrayValue,T=(j=y[fc])==null?void 0:j.arrayValue,S=Ft(((G=v==null?void 0:v.values)==null?void 0:G.length)||0,((Z=T==null?void 0:T.values)==null?void 0:Z.length)||0);return S!==0?S:n0(v,T)})(a.mapValue,e.mapValue);case 11:return(function(h,d){if(h===Xu.mapValue&&d===Xu.mapValue)return 0;if(h===Xu.mapValue)return 1;if(d===Xu.mapValue)return-1;const m=h.fields||{},y=Object.keys(m),v=d.fields||{},T=Object.keys(v);y.sort(),T.sort();for(let S=0;S<y.length&&S<T.length;++S){const C=td(y[S],T[S]);if(C!==0)return C;const j=Ur(m[y[S]],v[T[S]]);if(j!==0)return j}return Ft(y.length,T.length)})(a.mapValue,e.mapValue);default:throw Dt(23264,{he:i})}}function e0(a,e){if(typeof a=="string"&&typeof e=="string"&&a.length===e.length)return Ft(a,e);const i=Js(a),r=Js(e),o=Ft(i.seconds,r.seconds);return o!==0?o:Ft(i.nanos,r.nanos)}function n0(a,e){const i=a.values||[],r=e.values||[];for(let o=0;o<i.length&&o<r.length;++o){const h=Ur(i[o],r[o]);if(h)return h}return Ft(i.length,r.length)}function Br(a){return ed(a)}function ed(a){return"nullValue"in a?"null":"booleanValue"in a?""+a.booleanValue:"integerValue"in a?""+a.integerValue:"doubleValue"in a?""+a.doubleValue:"timestampValue"in a?(function(i){const r=Js(i);return`time(${r.seconds},${r.nanos})`})(a.timestampValue):"stringValue"in a?a.stringValue:"bytesValue"in a?(function(i){return $s(i).toBase64()})(a.bytesValue):"referenceValue"in a?(function(i){return Ct.fromName(i).toString()})(a.referenceValue):"geoPointValue"in a?(function(i){return`geo(${i.latitude},${i.longitude})`})(a.geoPointValue):"arrayValue"in a?(function(i){let r="[",o=!0;for(const h of i.values||[])o?o=!1:r+=",",r+=ed(h);return r+"]"})(a.arrayValue):"mapValue"in a?(function(i){const r=Object.keys(i.fields||{}).sort();let o="{",h=!0;for(const d of r)h?h=!1:o+=",",o+=`${d}:${ed(i.fields[d])}`;return o+"}"})(a.mapValue):Dt(61005,{value:a})}function tc(a){switch(Ws(a)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Sc(a);return e?16+tc(e):16;case 5:return 2*a.stringValue.length;case 6:return $s(a.bytesValue).approximateByteSize();case 7:return a.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((o,h)=>o+tc(h)),0)})(a.arrayValue);case 10:case 11:return(function(r){let o=0;return ka(r.fields,((h,d)=>{o+=h.length+tc(d)})),o})(a.mapValue);default:throw Dt(13486,{value:a})}}function nd(a){return!!a&&"integerValue"in a}function Ad(a){return!!a&&"arrayValue"in a}function i0(a){return!!a&&"nullValue"in a}function s0(a){return!!a&&"doubleValue"in a&&isNaN(Number(a.doubleValue))}function ec(a){return!!a&&"mapValue"in a}function tx(a){var i,r;return((r=(((i=a==null?void 0:a.mapValue)==null?void 0:i.fields)||{})[bv])==null?void 0:r.stringValue)===Ev}function no(a){if(a.geoPointValue)return{geoPointValue:{...a.geoPointValue}};if(a.timestampValue&&typeof a.timestampValue=="object")return{timestampValue:{...a.timestampValue}};if(a.mapValue){const e={mapValue:{fields:{}}};return ka(a.mapValue.fields,((i,r)=>e.mapValue.fields[i]=no(r))),e}if(a.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(a.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=no(a.arrayValue.values[i]);return e}return{...a}}function ex(a){return(((a.mapValue||{}).fields||{}).__type__||{}).stringValue===WT}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wn{constructor(e){this.value=e}static empty(){return new Wn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let r=0;r<e.length-1;++r)if(i=(i.mapValue.fields||{})[e.get(r)],!ec(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=no(i)}setAll(e){let i=sn.emptyPath(),r={},o=[];e.forEach(((d,m)=>{if(!i.isImmediateParentOf(m)){const y=this.getFieldsMap(i);this.applyChanges(y,r,o),r={},o=[],i=m.popLast()}d?r[m.lastSegment()]=no(d):o.push(m.lastSegment())}));const h=this.getFieldsMap(i);this.applyChanges(h,r,o)}delete(e){const i=this.field(e.popLast());ec(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return ki(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=i.mapValue.fields[e.get(r)];ec(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(r)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,r){ka(i,((o,h)=>e[o]=h));for(const o of r)delete e[o]}clone(){return new Wn(no(this.value))}}function Tv(a){const e=[];return ka(a.fields,((i,r)=>{const o=new sn([i]);if(ec(r)){const h=Tv(r.mapValue).fields;if(h.length===0)e.push(o);else for(const d of h)e.push(o.child(d))}else e.push(o)})),new fi(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e,i,r,o,h,d,m){this.key=e,this.documentType=i,this.version=r,this.readTime=o,this.createTime=h,this.data=d,this.documentState=m}static newInvalidDocument(e){return new fn(e,0,Vt.min(),Vt.min(),Vt.min(),Wn.empty(),0)}static newFoundDocument(e,i,r,o){return new fn(e,1,i,Vt.min(),r,o,0)}static newNoDocument(e,i){return new fn(e,2,i,Vt.min(),Vt.min(),Wn.empty(),0)}static newUnknownDocument(e,i){return new fn(e,3,i,Vt.min(),Vt.min(),Wn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(Vt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Wn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Wn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Vt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof fn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new fn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dc{constructor(e,i){this.position=e,this.inclusive=i}}function a0(a,e,i){let r=0;for(let o=0;o<a.position.length;o++){const h=e[o],d=a.position[o];if(h.field.isKeyField()?r=Ct.comparator(Ct.fromName(d.referenceValue),i.key):r=Ur(d,i.data.field(h.field)),h.dir==="desc"&&(r*=-1),r!==0)break}return r}function r0(a,e){if(a===null)return e===null;if(e===null||a.inclusive!==e.inclusive||a.position.length!==e.position.length)return!1;for(let i=0;i<a.position.length;i++)if(!ki(a.position[i],e.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mc{constructor(e,i="asc"){this.field=e,this.dir=i}}function nx(a,e){return a.dir===e.dir&&a.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xv{}class Be extends xv{constructor(e,i,r){super(),this.field=e,this.op=i,this.value=r}static create(e,i,r){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,r):new sx(e,i,r):i==="array-contains"?new lx(e,r):i==="in"?new ox(e,r):i==="not-in"?new ux(e,r):i==="array-contains-any"?new cx(e,r):new Be(e,i,r)}static createKeyFieldInFilter(e,i,r){return i==="in"?new ax(e,r):new rx(e,r)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Ur(i,this.value)):i!==null&&Ws(this.value)===Ws(i)&&this.matchesComparison(Ur(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Dt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class zi extends xv{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new zi(e,i)}matches(e){return Sv(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Sv(a){return a.op==="and"}function Av(a){return ix(a)&&Sv(a)}function ix(a){for(const e of a.filters)if(e instanceof zi)return!1;return!0}function id(a){if(a instanceof Be)return a.field.canonicalString()+a.op.toString()+Br(a.value);if(Av(a))return a.filters.map((e=>id(e))).join(",");{const e=a.filters.map((i=>id(i))).join(",");return`${a.op}(${e})`}}function wv(a,e){return a instanceof Be?(function(r,o){return o instanceof Be&&r.op===o.op&&r.field.isEqual(o.field)&&ki(r.value,o.value)})(a,e):a instanceof zi?(function(r,o){return o instanceof zi&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((h,d,m)=>h&&wv(d,o.filters[m])),!0):!1})(a,e):void Dt(19439)}function Cv(a){return a instanceof Be?(function(i){return`${i.field.canonicalString()} ${i.op} ${Br(i.value)}`})(a):a instanceof zi?(function(i){return i.op.toString()+" {"+i.getFilters().map(Cv).join(" ,")+"}"})(a):"Filter"}class sx extends Be{constructor(e,i,r){super(e,i,r),this.key=Ct.fromName(r.referenceValue)}matches(e){const i=Ct.comparator(e.key,this.key);return this.matchesComparison(i)}}class ax extends Be{constructor(e,i){super(e,"in",i),this.keys=Rv("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class rx extends Be{constructor(e,i){super(e,"not-in",i),this.keys=Rv("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function Rv(a,e){var i;return(((i=e.arrayValue)==null?void 0:i.values)||[]).map((r=>Ct.fromName(r.referenceValue)))}class lx extends Be{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return Ad(i)&&mo(i.arrayValue,this.value)}}class ox extends Be{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&mo(this.value.arrayValue,i)}}class ux extends Be{constructor(e,i){super(e,"not-in",i)}matches(e){if(mo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!mo(this.value.arrayValue,i)}}class cx extends Be{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!Ad(i)||!i.arrayValue.values)&&i.arrayValue.values.some((r=>mo(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hx{constructor(e,i=null,r=[],o=[],h=null,d=null,m=null){this.path=e,this.collectionGroup=i,this.orderBy=r,this.filters=o,this.limit=h,this.startAt=d,this.endAt=m,this.Te=null}}function l0(a,e=null,i=[],r=[],o=null,h=null,d=null){return new hx(a,e,i,r,o,h,d)}function wd(a){const e=Mt(a);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((r=>id(r))).join(","),i+="|ob:",i+=e.orderBy.map((r=>(function(h){return h.field.canonicalString()+h.dir})(r))).join(","),xc(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((r=>Br(r))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((r=>Br(r))).join(",")),e.Te=i}return e.Te}function Cd(a,e){if(a.limit!==e.limit||a.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<a.orderBy.length;i++)if(!nx(a.orderBy[i],e.orderBy[i]))return!1;if(a.filters.length!==e.filters.length)return!1;for(let i=0;i<a.filters.length;i++)if(!wv(a.filters[i],e.filters[i]))return!1;return a.collectionGroup===e.collectionGroup&&!!a.path.isEqual(e.path)&&!!r0(a.startAt,e.startAt)&&r0(a.endAt,e.endAt)}function sd(a){return Ct.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ac{constructor(e,i=null,r=[],o=[],h=null,d="F",m=null,y=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=r,this.filters=o,this.limit=h,this.limitType=d,this.startAt=m,this.endAt=y,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function fx(a,e,i,r,o,h,d,m){return new Ac(a,e,i,r,o,h,d,m)}function wc(a){return new Ac(a)}function o0(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.explicitOrderBy.length===0||a.explicitOrderBy.length===1&&a.explicitOrderBy[0].field.isKeyField())}function dx(a){return Ct.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}function mx(a){return a.collectionGroup!==null}function io(a){const e=Mt(a);if(e.Ie===null){e.Ie=[];const i=new Set;for(const h of e.explicitOrderBy)e.Ie.push(h),i.add(h.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let m=new qe(sn.comparator);return d.filters.forEach((y=>{y.getFlattenedFilters().forEach((v=>{v.isInequality()&&(m=m.add(v.field))}))})),m})(e).forEach((h=>{i.has(h.canonicalString())||h.isKeyField()||e.Ie.push(new mc(h,r))})),i.has(sn.keyField().canonicalString())||e.Ie.push(new mc(sn.keyField(),r))}return e.Ie}function Mi(a){const e=Mt(a);return e.Ee||(e.Ee=gx(e,io(a))),e.Ee}function gx(a,e){if(a.limitType==="F")return l0(a.path,a.collectionGroup,e,a.filters,a.limit,a.startAt,a.endAt);{e=e.map((o=>{const h=o.dir==="desc"?"asc":"desc";return new mc(o.field,h)}));const i=a.endAt?new dc(a.endAt.position,a.endAt.inclusive):null,r=a.startAt?new dc(a.startAt.position,a.startAt.inclusive):null;return l0(a.path,a.collectionGroup,e,a.filters,a.limit,i,r)}}function ad(a,e,i){return new Ac(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),e,i,a.startAt,a.endAt)}function Cc(a,e){return Cd(Mi(a),Mi(e))&&a.limitType===e.limitType}function Nv(a){return`${wd(Mi(a))}|lt:${a.limitType}`}function Nr(a){return`Query(target=${(function(i){let r=i.path.canonicalString();return i.collectionGroup!==null&&(r+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(r+=`, filters: [${i.filters.map((o=>Cv(o))).join(", ")}]`),xc(i.limit)||(r+=", limit: "+i.limit),i.orderBy.length>0&&(r+=`, orderBy: [${i.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),i.startAt&&(r+=", startAt: ",r+=i.startAt.inclusive?"b:":"a:",r+=i.startAt.position.map((o=>Br(o))).join(",")),i.endAt&&(r+=", endAt: ",r+=i.endAt.inclusive?"a:":"b:",r+=i.endAt.position.map((o=>Br(o))).join(",")),`Target(${r})`})(Mi(a))}; limitType=${a.limitType})`}function Rc(a,e){return e.isFoundDocument()&&(function(r,o){const h=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(h):Ct.isDocumentKey(r.path)?r.path.isEqual(h):r.path.isImmediateParentOf(h)})(a,e)&&(function(r,o){for(const h of io(r))if(!h.field.isKeyField()&&o.data.field(h.field)===null)return!1;return!0})(a,e)&&(function(r,o){for(const h of r.filters)if(!h.matches(o))return!1;return!0})(a,e)&&(function(r,o){return!(r.startAt&&!(function(d,m,y){const v=a0(d,m,y);return d.inclusive?v<=0:v<0})(r.startAt,io(r),o)||r.endAt&&!(function(d,m,y){const v=a0(d,m,y);return d.inclusive?v>=0:v>0})(r.endAt,io(r),o))})(a,e)}function px(a){return a.collectionGroup||(a.path.length%2==1?a.path.lastSegment():a.path.get(a.path.length-2))}function Dv(a){return(e,i)=>{let r=!1;for(const o of io(a)){const h=yx(o,e,i);if(h!==0)return h;r=r||o.field.isKeyField()}return 0}}function yx(a,e,i){const r=a.field.isKeyField()?Ct.comparator(e.key,i.key):(function(h,d,m){const y=d.data.field(h),v=m.data.field(h);return y!==null&&v!==null?Ur(y,v):Dt(42886)})(a.field,e,i);switch(a.dir){case"asc":return r;case"desc":return-1*r;default:return Dt(19790,{direction:a.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class za{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),r=this.inner[i];if(r!==void 0){for(const[o,h]of r)if(this.equalsFn(o,e))return h}}has(e){return this.get(e)!==void 0}set(e,i){const r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return this.inner[r]=[[e,i]],void this.innerSize++;for(let h=0;h<o.length;h++)if(this.equalsFn(o[h][0],e))return void(o[h]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return r.length===1?delete this.inner[i]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){ka(this.inner,((i,r)=>{for(const[o,h]of r)e(o,h)}))}isEmpty(){return mv(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vx=new _e(Ct.comparator);function cs(){return vx}const Iv=new _e(Ct.comparator);function $l(...a){let e=Iv;for(const i of a)e=e.insert(i.key,i);return e}function Vv(a){let e=Iv;return a.forEach(((i,r)=>e=e.insert(i,r.overlayedDocument))),e}function Oa(){return so()}function Ov(){return so()}function so(){return new za((a=>a.toString()),((a,e)=>a.isEqual(e)))}const _x=new _e(Ct.comparator),bx=new qe(Ct.comparator);function Gt(...a){let e=bx;for(const i of a)e=e.add(i);return e}const Ex=new qe(Ft);function Tx(){return Ex}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rd(a,e){if(a.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:cc(e)?"-0":e}}function Mv(a){return{integerValue:""+a}}function xx(a,e){return YT(e)?Mv(e):Rd(a,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nc{constructor(){this._=void 0}}function Sx(a,e,i){return a instanceof go?(function(o,h){const d={fields:{[yv]:{stringValue:pv},[_v]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return h&&Sd(h)&&(h=Sc(h)),h&&(d.fields[vv]=h),{mapValue:d}})(i,e):a instanceof po?Lv(a,e):a instanceof yo?kv(a,e):(function(o,h){const d=jv(o,h),m=u0(d)+u0(o.Ae);return nd(d)&&nd(o.Ae)?Mv(m):Rd(o.serializer,m)})(a,e)}function Ax(a,e,i){return a instanceof po?Lv(a,e):a instanceof yo?kv(a,e):i}function jv(a,e){return a instanceof gc?(function(r){return nd(r)||(function(h){return!!h&&"doubleValue"in h})(r)})(e)?e:{integerValue:0}:null}class go extends Nc{}class po extends Nc{constructor(e){super(),this.elements=e}}function Lv(a,e){const i=zv(e);for(const r of a.elements)i.some((o=>ki(o,r)))||i.push(r);return{arrayValue:{values:i}}}class yo extends Nc{constructor(e){super(),this.elements=e}}function kv(a,e){let i=zv(e);for(const r of a.elements)i=i.filter((o=>!ki(o,r)));return{arrayValue:{values:i}}}class gc extends Nc{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function u0(a){return Ce(a.integerValue||a.doubleValue)}function zv(a){return Ad(a)&&a.arrayValue.values?a.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wx{constructor(e,i){this.field=e,this.transform=i}}function Cx(a,e){return a.field.isEqual(e.field)&&(function(r,o){return r instanceof po&&o instanceof po||r instanceof yo&&o instanceof yo?zr(r.elements,o.elements,ki):r instanceof gc&&o instanceof gc?ki(r.Ae,o.Ae):r instanceof go&&o instanceof go})(a.transform,e.transform)}class Rx{constructor(e,i){this.version=e,this.transformResults=i}}class ls{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new ls}static exists(e){return new ls(void 0,e)}static updateTime(e){return new ls(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function nc(a,e){return a.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(a.updateTime):a.exists===void 0||a.exists===e.isFoundDocument()}class Dc{}function Uv(a,e){if(!a.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return a.isNoDocument()?new Pv(a.key,ls.none()):new Eo(a.key,a.data,ls.none());{const i=a.data,r=Wn.empty();let o=new qe(sn.comparator);for(let h of e.fields)if(!o.has(h)){let d=i.field(h);d===null&&h.length>1&&(h=h.popLast(),d=i.field(h)),d===null?r.delete(h):r.set(h,d),o=o.add(h)}return new Ua(a.key,r,new fi(o.toArray()),ls.none())}}function Nx(a,e,i){a instanceof Eo?(function(o,h,d){const m=o.value.clone(),y=h0(o.fieldTransforms,h,d.transformResults);m.setAll(y),h.convertToFoundDocument(d.version,m).setHasCommittedMutations()})(a,e,i):a instanceof Ua?(function(o,h,d){if(!nc(o.precondition,h))return void h.convertToUnknownDocument(d.version);const m=h0(o.fieldTransforms,h,d.transformResults),y=h.data;y.setAll(Bv(o)),y.setAll(m),h.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(a,e,i):(function(o,h,d){h.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function ao(a,e,i,r){return a instanceof Eo?(function(h,d,m,y){if(!nc(h.precondition,d))return m;const v=h.value.clone(),T=f0(h.fieldTransforms,y,d);return v.setAll(T),d.convertToFoundDocument(d.version,v).setHasLocalMutations(),null})(a,e,i,r):a instanceof Ua?(function(h,d,m,y){if(!nc(h.precondition,d))return m;const v=f0(h.fieldTransforms,y,d),T=d.data;return T.setAll(Bv(h)),T.setAll(v),d.convertToFoundDocument(d.version,T).setHasLocalMutations(),m===null?null:m.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map((S=>S.field)))})(a,e,i,r):(function(h,d,m){return nc(h.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):m})(a,e,i)}function Dx(a,e){let i=null;for(const r of a.fieldTransforms){const o=e.data.field(r.field),h=jv(r.transform,o||null);h!=null&&(i===null&&(i=Wn.empty()),i.set(r.field,h))}return i||null}function c0(a,e){return a.type===e.type&&!!a.key.isEqual(e.key)&&!!a.precondition.isEqual(e.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&zr(r,o,((h,d)=>Cx(h,d)))})(a.fieldTransforms,e.fieldTransforms)&&(a.type===0?a.value.isEqual(e.value):a.type!==1||a.data.isEqual(e.data)&&a.fieldMask.isEqual(e.fieldMask))}class Eo extends Dc{constructor(e,i,r,o=[]){super(),this.key=e,this.value=i,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Ua extends Dc{constructor(e,i,r,o,h=[]){super(),this.key=e,this.data=i,this.fieldMask=r,this.precondition=o,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function Bv(a){const e=new Map;return a.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const r=a.data.field(i);e.set(i,r)}})),e}function h0(a,e,i){const r=new Map;te(a.length===i.length,32656,{Ve:i.length,de:a.length});for(let o=0;o<i.length;o++){const h=a[o],d=h.transform,m=e.data.field(h.field);r.set(h.field,Ax(d,m,i[o]))}return r}function f0(a,e,i){const r=new Map;for(const o of a){const h=o.transform,d=i.data.field(o.field);r.set(o.field,Sx(h,d,e))}return r}class Pv extends Dc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Ix extends Dc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vx{constructor(e,i,r,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,i){const r=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const h=this.mutations[o];h.key.isEqual(e.key)&&Nx(h,e,r[o])}}applyToLocalView(e,i){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(i=ao(r,e,i,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(i=ao(r,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const r=Ov();return this.mutations.forEach((o=>{const h=e.get(o.key),d=h.overlayedDocument;let m=this.applyToLocalView(d,h.mutatedFields);m=i.has(o.key)?null:m;const y=Uv(d,m);y!==null&&r.set(o.key,y),d.isValidDocument()||d.convertToNoDocument(Vt.min())})),r}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),Gt())}isEqual(e){return this.batchId===e.batchId&&zr(this.mutations,e.mutations,((i,r)=>c0(i,r)))&&zr(this.baseMutations,e.baseMutations,((i,r)=>c0(i,r)))}}class Nd{constructor(e,i,r,o){this.batch=e,this.commitVersion=i,this.mutationResults=r,this.docVersions=o}static from(e,i,r){te(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let o=(function(){return _x})();const h=e.mutations;for(let d=0;d<h.length;d++)o=o.insert(h[d].key,r[d].version);return new Nd(e,i,r,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ox{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mx{constructor(e,i){this.count=e,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var je,Yt;function jx(a){switch(a){case st.OK:return Dt(64938);case st.CANCELLED:case st.UNKNOWN:case st.DEADLINE_EXCEEDED:case st.RESOURCE_EXHAUSTED:case st.INTERNAL:case st.UNAVAILABLE:case st.UNAUTHENTICATED:return!1;case st.INVALID_ARGUMENT:case st.NOT_FOUND:case st.ALREADY_EXISTS:case st.PERMISSION_DENIED:case st.FAILED_PRECONDITION:case st.ABORTED:case st.OUT_OF_RANGE:case st.UNIMPLEMENTED:case st.DATA_LOSS:return!0;default:return Dt(15467,{code:a})}}function qv(a){if(a===void 0)return us("GRPC error has no .code"),st.UNKNOWN;switch(a){case je.OK:return st.OK;case je.CANCELLED:return st.CANCELLED;case je.UNKNOWN:return st.UNKNOWN;case je.DEADLINE_EXCEEDED:return st.DEADLINE_EXCEEDED;case je.RESOURCE_EXHAUSTED:return st.RESOURCE_EXHAUSTED;case je.INTERNAL:return st.INTERNAL;case je.UNAVAILABLE:return st.UNAVAILABLE;case je.UNAUTHENTICATED:return st.UNAUTHENTICATED;case je.INVALID_ARGUMENT:return st.INVALID_ARGUMENT;case je.NOT_FOUND:return st.NOT_FOUND;case je.ALREADY_EXISTS:return st.ALREADY_EXISTS;case je.PERMISSION_DENIED:return st.PERMISSION_DENIED;case je.FAILED_PRECONDITION:return st.FAILED_PRECONDITION;case je.ABORTED:return st.ABORTED;case je.OUT_OF_RANGE:return st.OUT_OF_RANGE;case je.UNIMPLEMENTED:return st.UNIMPLEMENTED;case je.DATA_LOSS:return st.DATA_LOSS;default:return Dt(39323,{code:a})}}(Yt=je||(je={}))[Yt.OK=0]="OK",Yt[Yt.CANCELLED=1]="CANCELLED",Yt[Yt.UNKNOWN=2]="UNKNOWN",Yt[Yt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Yt[Yt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Yt[Yt.NOT_FOUND=5]="NOT_FOUND",Yt[Yt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Yt[Yt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Yt[Yt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Yt[Yt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Yt[Yt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Yt[Yt.ABORTED=10]="ABORTED",Yt[Yt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Yt[Yt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Yt[Yt.INTERNAL=13]="INTERNAL",Yt[Yt.UNAVAILABLE=14]="UNAVAILABLE",Yt[Yt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lx(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kx=new Ys([4294967295,4294967295],0);function d0(a){const e=Lx().encode(a),i=new sv;return i.update(e),new Uint8Array(i.digest())}function m0(a){const e=new DataView(a.buffer),i=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),h=e.getUint32(12,!0);return[new Ys([i,r],0),new Ys([o,h],0)]}class Dd{constructor(e,i,r){if(this.bitmap=e,this.padding=i,this.hashCount=r,i<0||i>=8)throw new Wl(`Invalid padding: ${i}`);if(r<0)throw new Wl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Wl(`Invalid hash count: ${r}`);if(e.length===0&&i!==0)throw new Wl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=Ys.fromNumber(this.ge)}ye(e,i,r){let o=e.add(i.multiply(Ys.fromNumber(r)));return o.compare(kx)===1&&(o=new Ys([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=d0(e),[r,o]=m0(i);for(let h=0;h<this.hashCount;h++){const d=this.ye(r,o,h);if(!this.we(d))return!1}return!0}static create(e,i,r){const o=e%8==0?0:8-e%8,h=new Uint8Array(Math.ceil(e/8)),d=new Dd(h,o,i);return r.forEach((m=>d.insert(m))),d}insert(e){if(this.ge===0)return;const i=d0(e),[r,o]=m0(i);for(let h=0;h<this.hashCount;h++){const d=this.ye(r,o,h);this.be(d)}}be(e){const i=Math.floor(e/8),r=e%8;this.bitmap[i]|=1<<r}}class Wl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ic{constructor(e,i,r,o,h){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(e,i,r){const o=new Map;return o.set(e,To.createSynthesizedTargetChangeForCurrentChange(e,i,r)),new Ic(Vt.min(),o,new _e(Ft),cs(),Gt())}}class To{constructor(e,i,r,o,h){this.resumeToken=e,this.current=i,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(e,i,r){return new To(r,i,Gt(),Gt(),Gt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ic{constructor(e,i,r,o){this.Se=e,this.removedTargetIds=i,this.key=r,this.De=o}}class Hv{constructor(e,i){this.targetId=e,this.Ce=i}}class Fv{constructor(e,i,r=an.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=r,this.cause=o}}class g0{constructor(){this.ve=0,this.Fe=p0(),this.Me=an.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Gt(),i=Gt(),r=Gt();return this.Fe.forEach(((o,h)=>{switch(h){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:r=r.add(o);break;default:Dt(38017,{changeType:h})}})),new To(this.Me,this.xe,e,i,r)}Ke(){this.Oe=!1,this.Fe=p0()}qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,te(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class zx{constructor(e){this.Ge=e,this.ze=new Map,this.je=cs(),this.He=Zu(),this.Je=Zu(),this.Ze=new _e(Ft)}Xe(e){for(const i of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const r=this.nt(i);switch(e.state){case 0:this.rt(i)&&r.Le(e.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(e.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(r.Qe(),r.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),r.Le(e.resumeToken));break;default:Dt(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((r,o)=>{this.rt(o)&&i(o)}))}st(e){const i=e.targetId,r=e.Ce.count,o=this.ot(i);if(o){const h=o.target;if(sd(h))if(r===0){const d=new Ct(h.path);this.et(i,d,fn.newNoDocument(d,Vt.min()))}else te(r===1,20013,{expectedCount:r});else{const d=this._t(i);if(d!==r){const m=this.ut(e),y=m?this.ct(m,e,d):1;if(y!==0){this.it(i);const v=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(i,v)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:h=0}=i;let d,m;try{d=$s(r).toUint8Array()}catch(y){if(y instanceof gv)return kr("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{m=new Dd(d,o,h)}catch(y){return kr(y instanceof Wl?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return m.ge===0?null:m}ct(e,i,r){return i.Ce.count===r-this.Pt(e,i.targetId)?0:2}Pt(e,i){const r=this.Ge.getRemoteKeysForTarget(i);let o=0;return r.forEach((h=>{const d=this.Ge.ht(),m=`projects/${d.projectId}/databases/${d.database}/documents/${h.path.canonicalString()}`;e.mightContain(m)||(this.et(i,h,null),o++)})),o}Tt(e){const i=new Map;this.ze.forEach(((h,d)=>{const m=this.ot(d);if(m){if(h.current&&sd(m.target)){const y=new Ct(m.target.path);this.It(y).has(d)||this.Et(d,y)||this.et(d,y,fn.newNoDocument(y,e))}h.Be&&(i.set(d,h.ke()),h.Ke())}}));let r=Gt();this.Je.forEach(((h,d)=>{let m=!0;d.forEachWhile((y=>{const v=this.ot(y);return!v||v.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(r=r.add(h))})),this.je.forEach(((h,d)=>d.setReadTime(e)));const o=new Ic(e,i,this.Ze,this.je,r);return this.je=cs(),this.He=Zu(),this.Je=Zu(),this.Ze=new _e(Ft),o}Ye(e,i){if(!this.rt(e))return;const r=this.Et(e,i.key)?2:0;this.nt(e).qe(i.key,r),this.je=this.je.insert(i.key,i),this.He=this.He.insert(i.key,this.It(i.key).add(e)),this.Je=this.Je.insert(i.key,this.Rt(i.key).add(e))}et(e,i,r){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,i)?o.qe(i,1):o.Ue(i),this.Je=this.Je.insert(i,this.Rt(i).delete(e)),this.Je=this.Je.insert(i,this.Rt(i).add(e)),r&&(this.je=this.je.insert(i,r))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let i=this.ze.get(e);return i||(i=new g0,this.ze.set(e,i)),i}Rt(e){let i=this.Je.get(e);return i||(i=new qe(Ft),this.Je=this.Je.insert(e,i)),i}It(e){let i=this.He.get(e);return i||(i=new qe(Ft),this.He=this.He.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||yt("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new g0),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function Zu(){return new _e(Ct.comparator)}function p0(){return new _e(Ct.comparator)}const Ux={asc:"ASCENDING",desc:"DESCENDING"},Bx={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Px={and:"AND",or:"OR"};class qx{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function rd(a,e){return a.useProto3Json||xc(e)?e:{value:e}}function pc(a,e){return a.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Gv(a,e){return a.useProto3Json?e.toBase64():e.toUint8Array()}function Hx(a,e){return pc(a,e.toTimestamp())}function ji(a){return te(!!a,49232),Vt.fromTimestamp((function(i){const r=Js(i);return new de(r.seconds,r.nanos)})(a))}function Id(a,e){return ld(a,e).canonicalString()}function ld(a,e){const i=(function(o){return new ve(["projects",o.projectId,"databases",o.database])})(a).child("documents");return e===void 0?i:i.child(e)}function Qv(a){const e=ve.fromString(a);return te(Jv(e),10190,{key:e.toString()}),e}function od(a,e){return Id(a.databaseId,e.path)}function Ff(a,e){const i=Qv(e);if(i.get(1)!==a.databaseId.projectId)throw new St(st.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+a.databaseId.projectId);if(i.get(3)!==a.databaseId.database)throw new St(st.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+a.databaseId.database);return new Ct(Kv(i))}function Yv(a,e){return Id(a.databaseId,e)}function Fx(a){const e=Qv(a);return e.length===4?ve.emptyPath():Kv(e)}function ud(a){return new ve(["projects",a.databaseId.projectId,"databases",a.databaseId.database]).canonicalString()}function Kv(a){return te(a.length>4&&a.get(4)==="documents",29091,{key:a.toString()}),a.popFirst(5)}function y0(a,e,i){return{name:od(a,e),fields:i.value.mapValue.fields}}function Gx(a,e){let i;if("targetChange"in e){e.targetChange;const r=(function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:Dt(39313,{state:v})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],h=(function(v,T){return v.useProto3Json?(te(T===void 0||typeof T=="string",58123),an.fromBase64String(T||"")):(te(T===void 0||T instanceof Buffer||T instanceof Uint8Array,16193),an.fromUint8Array(T||new Uint8Array))})(a,e.targetChange.resumeToken),d=e.targetChange.cause,m=d&&(function(v){const T=v.code===void 0?st.UNKNOWN:qv(v.code);return new St(T,v.message||"")})(d);i=new Fv(r,o,h,m||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const o=Ff(a,r.document.name),h=ji(r.document.updateTime),d=r.document.createTime?ji(r.document.createTime):Vt.min(),m=new Wn({mapValue:{fields:r.document.fields}}),y=fn.newFoundDocument(o,h,d,m),v=r.targetIds||[],T=r.removedTargetIds||[];i=new ic(v,T,y.key,y)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const o=Ff(a,r.document),h=r.readTime?ji(r.readTime):Vt.min(),d=fn.newNoDocument(o,h),m=r.removedTargetIds||[];i=new ic([],m,d.key,d)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const o=Ff(a,r.document),h=r.removedTargetIds||[];i=new ic([],h,o,null)}else{if(!("filter"in e))return Dt(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:o=0,unchangedNames:h}=r,d=new Mx(o,h),m=r.targetId;i=new Hv(m,d)}}return i}function Qx(a,e){let i;if(e instanceof Eo)i={update:y0(a,e.key,e.value)};else if(e instanceof Pv)i={delete:od(a,e.key)};else if(e instanceof Ua)i={update:y0(a,e.key,e.data),updateMask:eS(e.fieldMask)};else{if(!(e instanceof Ix))return Dt(16599,{dt:e.type});i={verify:od(a,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((r=>(function(h,d){const m=d.transform;if(m instanceof go)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof po)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof yo)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof gc)return{fieldPath:d.field.canonicalString(),increment:m.Ae};throw Dt(20930,{transform:d.transform})})(0,r)))),e.precondition.isNone||(i.currentDocument=(function(o,h){return h.updateTime!==void 0?{updateTime:Hx(o,h.updateTime)}:h.exists!==void 0?{exists:h.exists}:Dt(27497)})(a,e.precondition)),i}function Yx(a,e){return a&&a.length>0?(te(e!==void 0,14353),a.map((i=>(function(o,h){let d=o.updateTime?ji(o.updateTime):ji(h);return d.isEqual(Vt.min())&&(d=ji(h)),new Rx(d,o.transformResults||[])})(i,e)))):[]}function Kx(a,e){return{documents:[Yv(a,e.path)]}}function Xx(a,e){const i={structuredQuery:{}},r=e.path;let o;e.collectionGroup!==null?(o=r,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=r.popLast(),i.structuredQuery.from=[{collectionId:r.lastSegment()}]),i.parent=Yv(a,o);const h=(function(v){if(v.length!==0)return Zv(zi.create(v,"and"))})(e.filters);h&&(i.structuredQuery.where=h);const d=(function(v){if(v.length!==0)return v.map((T=>(function(C){return{field:Dr(C.field),direction:$x(C.dir)}})(T)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const m=rd(a,e.limit);return m!==null&&(i.structuredQuery.limit=m),e.startAt&&(i.structuredQuery.startAt=(function(v){return{before:v.inclusive,values:v.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(v){return{before:!v.inclusive,values:v.position}})(e.endAt)),{ft:i,parent:o}}function Zx(a){let e=Fx(a.parent);const i=a.structuredQuery,r=i.from?i.from.length:0;let o=null;if(r>0){te(r===1,65062);const T=i.from[0];T.allDescendants?o=T.collectionId:e=e.child(T.collectionId)}let h=[];i.where&&(h=(function(S){const C=Xv(S);return C instanceof zi&&Av(C)?C.getFilters():[C]})(i.where));let d=[];i.orderBy&&(d=(function(S){return S.map((C=>(function(G){return new mc(Ir(G.field),(function(V){switch(V){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(G.direction))})(C)))})(i.orderBy));let m=null;i.limit&&(m=(function(S){let C;return C=typeof S=="object"?S.value:S,xc(C)?null:C})(i.limit));let y=null;i.startAt&&(y=(function(S){const C=!!S.before,j=S.values||[];return new dc(j,C)})(i.startAt));let v=null;return i.endAt&&(v=(function(S){const C=!S.before,j=S.values||[];return new dc(j,C)})(i.endAt)),fx(e,o,d,h,m,"F",y,v)}function Jx(a,e){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Dt(28987,{purpose:o})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function Xv(a){return a.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const r=Ir(i.unaryFilter.field);return Be.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=Ir(i.unaryFilter.field);return Be.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=Ir(i.unaryFilter.field);return Be.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Ir(i.unaryFilter.field);return Be.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Dt(61313);default:return Dt(60726)}})(a):a.fieldFilter!==void 0?(function(i){return Be.create(Ir(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Dt(58110);default:return Dt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(a):a.compositeFilter!==void 0?(function(i){return zi.create(i.compositeFilter.filters.map((r=>Xv(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Dt(1026)}})(i.compositeFilter.op))})(a):Dt(30097,{filter:a})}function $x(a){return Ux[a]}function Wx(a){return Bx[a]}function tS(a){return Px[a]}function Dr(a){return{fieldPath:a.canonicalString()}}function Ir(a){return sn.fromServerFormat(a.fieldPath)}function Zv(a){return a instanceof Be?(function(i){if(i.op==="=="){if(s0(i.value))return{unaryFilter:{field:Dr(i.field),op:"IS_NAN"}};if(i0(i.value))return{unaryFilter:{field:Dr(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(s0(i.value))return{unaryFilter:{field:Dr(i.field),op:"IS_NOT_NAN"}};if(i0(i.value))return{unaryFilter:{field:Dr(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Dr(i.field),op:Wx(i.op),value:i.value}}})(a):a instanceof zi?(function(i){const r=i.getFilters().map((o=>Zv(o)));return r.length===1?r[0]:{compositeFilter:{op:tS(i.op),filters:r}}})(a):Dt(54877,{filter:a})}function eS(a){const e=[];return a.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function Jv(a){return a.length>=4&&a.get(0)==="projects"&&a.get(2)==="databases"}function $v(a){return!!a&&typeof a._toProto=="function"&&a._protoValueType==="ProtoValue"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fs{constructor(e,i,r,o,h=Vt.min(),d=Vt.min(),m=an.EMPTY_BYTE_STRING,y=null){this.target=e,this.targetId=i,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=m,this.expectedCount=y}withSequenceNumber(e){return new Fs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new Fs(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Fs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Fs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nS{constructor(e){this.yt=e}}function iS(a){const e=Zx({parent:a.parent,structuredQuery:a.structuredQuery});return a.limitType==="LAST"?ad(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sS{constructor(){this.Sn=new aS}addToCollectionParentIndex(e,i){return this.Sn.add(i),it.resolve()}getCollectionParents(e,i){return it.resolve(this.Sn.getEntries(i))}addFieldIndex(e,i){return it.resolve()}deleteFieldIndex(e,i){return it.resolve()}deleteAllFieldIndexes(e){return it.resolve()}createTargetIndexes(e,i){return it.resolve()}getDocumentsMatchingTarget(e,i){return it.resolve(null)}getIndexType(e,i){return it.resolve(0)}getFieldIndexes(e,i){return it.resolve([])}getNextCollectionGroupToUpdate(e){return it.resolve(null)}getMinOffset(e,i){return it.resolve(Zs.min())}getMinOffsetFromCollectionGroup(e,i){return it.resolve(Zs.min())}updateCollectionGroup(e,i,r){return it.resolve()}updateIndexEntries(e,i){return it.resolve()}}class aS{constructor(){this.index={}}add(e){const i=e.lastSegment(),r=e.popLast(),o=this.index[i]||new qe(ve.comparator),h=!o.has(r);return this.index[i]=o.add(r),h}has(e){const i=e.lastSegment(),r=e.popLast(),o=this.index[i];return o&&o.has(r)}getEntries(e){return(this.index[e]||new qe(ve.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Wv=41943040;class An{static withCacheSize(e){return new An(e,An.DEFAULT_COLLECTION_PERCENTILE,An.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */An.DEFAULT_COLLECTION_PERCENTILE=10,An.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,An.DEFAULT=new An(Wv,An.DEFAULT_COLLECTION_PERCENTILE,An.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),An.DISABLED=new An(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new Pr(0)}static ar(){return new Pr(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _0="LruGarbageCollector",rS=1048576;function b0([a,e],[i,r]){const o=Ft(a,i);return o===0?Ft(e,r):o}class lS{constructor(e){this.Pr=e,this.buffer=new qe(b0),this.Tr=0}Ir(){return++this.Tr}Er(e){const i=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(i);else{const r=this.buffer.last();b0(i,r)<0&&(this.buffer=this.buffer.delete(r).add(i))}}get maxValue(){return this.buffer.last()[0]}}class oS{constructor(e,i,r){this.garbageCollector=e,this.asyncQueue=i,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){yt(_0,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Qr(i)?yt(_0,"Ignoring IndexedDB error during garbage collection: ",i):await Gr(i)}await this.Ar(3e5)}))}}class uS{constructor(e,i){this.Vr=e,this.params=i}calculateTargetCount(e,i){return this.Vr.dr(e).next((r=>Math.floor(i/100*r)))}nthSequenceNumber(e,i){if(i===0)return it.resolve(Tc.ce);const r=new lS(i);return this.Vr.forEachTarget(e,(o=>r.Er(o.sequenceNumber))).next((()=>this.Vr.mr(e,(o=>r.Er(o))))).next((()=>r.maxValue))}removeTargets(e,i,r){return this.Vr.removeTargets(e,i,r)}removeOrphanedDocuments(e,i){return this.Vr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(yt("LruGarbageCollector","Garbage collection skipped; disabled"),it.resolve(v0)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(yt("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),v0):this.gr(e,i)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,i){let r,o,h,d,m,y,v;const T=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(yt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),o=this.params.maximumSequenceNumbersToCollect):o=S,d=Date.now(),this.nthSequenceNumber(e,o)))).next((S=>(r=S,m=Date.now(),this.removeTargets(e,r,i)))).next((S=>(h=S,y=Date.now(),this.removeOrphanedDocuments(e,r)))).next((S=>(v=Date.now(),Rr()<=Kt.DEBUG&&yt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-T}ms
	Determined least recently used ${o} in `+(m-d)+`ms
	Removed ${h} targets in `+(y-m)+`ms
	Removed ${S} documents in `+(v-y)+`ms
Total Duration: ${v-T}ms`),it.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:h,documentsRemoved:S}))))}}function cS(a,e){return new uS(a,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hS{constructor(){this.changes=new za((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,fn.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const r=this.changes.get(i);return r!==void 0?it.resolve(r):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fS{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dS{constructor(e,i,r,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,i){let r=null;return this.documentOverlayCache.getOverlay(e,i).next((o=>(r=o,this.remoteDocumentCache.getEntry(e,i)))).next((o=>(r!==null&&ao(r.mutation,o,fi.empty(),de.now()),o)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((r=>this.getLocalViewOfDocuments(e,r,Gt()).next((()=>r))))}getLocalViewOfDocuments(e,i,r=Gt()){const o=Oa();return this.populateOverlays(e,o,i).next((()=>this.computeViews(e,i,o,r).next((h=>{let d=$l();return h.forEach(((m,y)=>{d=d.insert(m,y.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const r=Oa();return this.populateOverlays(e,r,i).next((()=>this.computeViews(e,i,r,Gt())))}populateOverlays(e,i,r){const o=[];return r.forEach((h=>{i.has(h)||o.push(h)})),this.documentOverlayCache.getOverlays(e,o).next((h=>{h.forEach(((d,m)=>{i.set(d,m)}))}))}computeViews(e,i,r,o){let h=cs();const d=so(),m=(function(){return so()})();return i.forEach(((y,v)=>{const T=r.get(v.key);o.has(v.key)&&(T===void 0||T.mutation instanceof Ua)?h=h.insert(v.key,v):T!==void 0?(d.set(v.key,T.mutation.getFieldMask()),ao(T.mutation,v,T.mutation.getFieldMask(),de.now())):d.set(v.key,fi.empty())})),this.recalculateAndSaveOverlays(e,h).next((y=>(y.forEach(((v,T)=>d.set(v,T))),i.forEach(((v,T)=>m.set(v,new fS(T,d.get(v)??null)))),m)))}recalculateAndSaveOverlays(e,i){const r=so();let o=new _e(((d,m)=>d-m)),h=Gt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const m of d)m.keys().forEach((y=>{const v=i.get(y);if(v===null)return;let T=r.get(y)||fi.empty();T=m.applyToLocalView(v,T),r.set(y,T);const S=(o.get(m.batchId)||Gt()).add(y);o=o.insert(m.batchId,S)}))})).next((()=>{const d=[],m=o.getReverseIterator();for(;m.hasNext();){const y=m.getNext(),v=y.key,T=y.value,S=Ov();T.forEach((C=>{if(!h.has(C)){const j=Uv(i.get(C),r.get(C));j!==null&&S.set(C,j),h=h.add(C)}})),d.push(this.documentOverlayCache.saveOverlays(e,v,S))}return it.waitFor(d)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,i,r,o){return dx(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):mx(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,r,o):this.getDocumentsMatchingCollectionQuery(e,i,r,o)}getNextDocuments(e,i,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,r,o).next((h=>{const d=o-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,r.largestBatchId,o-h.size):it.resolve(Oa());let m=co,y=h;return d.next((v=>it.forEach(v,((T,S)=>(m<S.largestBatchId&&(m=S.largestBatchId),h.get(T)?it.resolve():this.remoteDocumentCache.getEntry(e,T).next((C=>{y=y.insert(T,C)}))))).next((()=>this.populateOverlays(e,v,h))).next((()=>this.computeViews(e,y,v,Gt()))).next((T=>({batchId:m,changes:Vv(T)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new Ct(i)).next((r=>{let o=$l();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(e,i,r,o){const h=i.collectionGroup;let d=$l();return this.indexManager.getCollectionParents(e,h).next((m=>it.forEach(m,(y=>{const v=(function(S,C){return new Ac(C,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(i,y.child(h));return this.getDocumentsMatchingCollectionQuery(e,v,r,o).next((T=>{T.forEach(((S,C)=>{d=d.insert(S,C)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,r,o){let h;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,r.largestBatchId).next((d=>(h=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,r,h,o)))).next((d=>{h.forEach(((y,v)=>{const T=v.getKey();d.get(T)===null&&(d=d.insert(T,fn.newInvalidDocument(T)))}));let m=$l();return d.forEach(((y,v)=>{const T=h.get(y);T!==void 0&&ao(T.mutation,v,fi.empty(),de.now()),Rc(i,v)&&(m=m.insert(y,v))})),m}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mS{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,i){return it.resolve(this.Nr.get(i))}saveBundleMetadata(e,i){return this.Nr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:ji(o.createTime)}})(i)),it.resolve()}getNamedQuery(e,i){return it.resolve(this.Br.get(i))}saveNamedQuery(e,i){return this.Br.set(i.name,(function(o){return{name:o.name,query:iS(o.bundledQuery),readTime:ji(o.readTime)}})(i)),it.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gS{constructor(){this.overlays=new _e(Ct.comparator),this.Lr=new Map}getOverlay(e,i){return it.resolve(this.overlays.get(i))}getOverlays(e,i){const r=Oa();return it.forEach(i,(o=>this.getOverlay(e,o).next((h=>{h!==null&&r.set(o,h)})))).next((()=>r))}saveOverlays(e,i,r){return r.forEach(((o,h)=>{this.bt(e,i,h)})),it.resolve()}removeOverlaysForBatchId(e,i,r){const o=this.Lr.get(r);return o!==void 0&&(o.forEach((h=>this.overlays=this.overlays.remove(h))),this.Lr.delete(r)),it.resolve()}getOverlaysForCollection(e,i,r){const o=Oa(),h=i.length+1,d=new Ct(i.child("")),m=this.overlays.getIteratorFrom(d);for(;m.hasNext();){const y=m.getNext().value,v=y.getKey();if(!i.isPrefixOf(v.path))break;v.path.length===h&&y.largestBatchId>r&&o.set(y.getKey(),y)}return it.resolve(o)}getOverlaysForCollectionGroup(e,i,r,o){let h=new _e(((v,T)=>v-T));const d=this.overlays.getIterator();for(;d.hasNext();){const v=d.getNext().value;if(v.getKey().getCollectionGroup()===i&&v.largestBatchId>r){let T=h.get(v.largestBatchId);T===null&&(T=Oa(),h=h.insert(v.largestBatchId,T)),T.set(v.getKey(),v)}}const m=Oa(),y=h.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach(((v,T)=>m.set(v,T))),!(m.size()>=o)););return it.resolve(m)}bt(e,i,r){const o=this.overlays.get(r.key);if(o!==null){const d=this.Lr.get(o.largestBatchId).delete(r.key);this.Lr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new Ox(i,r));let h=this.Lr.get(i);h===void 0&&(h=Gt(),this.Lr.set(i,h)),this.Lr.set(i,h.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pS{constructor(){this.sessionToken=an.EMPTY_BYTE_STRING}getSessionToken(e){return it.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,it.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vd{constructor(){this.kr=new qe(Xe.Kr),this.qr=new qe(Xe.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,i){const r=new Xe(e,i);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(e,i){e.forEach((r=>this.addReference(r,i)))}removeReference(e,i){this.Wr(new Xe(e,i))}Qr(e,i){e.forEach((r=>this.removeReference(r,i)))}Gr(e){const i=new Ct(new ve([])),r=new Xe(i,e),o=new Xe(i,e+1),h=[];return this.qr.forEachInRange([r,o],(d=>{this.Wr(d),h.push(d.key)})),h}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const i=new Ct(new ve([])),r=new Xe(i,e),o=new Xe(i,e+1);let h=Gt();return this.qr.forEachInRange([r,o],(d=>{h=h.add(d.key)})),h}containsKey(e){const i=new Xe(e,0),r=this.kr.firstAfterOrEqual(i);return r!==null&&e.isEqual(r.key)}}class Xe{constructor(e,i){this.key=e,this.Hr=i}static Kr(e,i){return Ct.comparator(e.key,i.key)||Ft(e.Hr,i.Hr)}static Ur(e,i){return Ft(e.Hr,i.Hr)||Ct.comparator(e.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yS{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.Yn=1,this.Jr=new qe(Xe.Kr)}checkEmpty(e){return it.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,r,o){const h=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new Vx(h,i,r,o);this.mutationQueue.push(d);for(const m of o)this.Jr=this.Jr.add(new Xe(m.key,h)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return it.resolve(d)}lookupMutationBatch(e,i){return it.resolve(this.Zr(i))}getNextMutationBatchAfterBatchId(e,i){const r=i+1,o=this.Xr(r),h=o<0?0:o;return it.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return it.resolve(this.mutationQueue.length===0?xd:this.Yn-1)}getAllMutationBatches(e){return it.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const r=new Xe(i,0),o=new Xe(i,Number.POSITIVE_INFINITY),h=[];return this.Jr.forEachInRange([r,o],(d=>{const m=this.Zr(d.Hr);h.push(m)})),it.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(e,i){let r=new qe(Ft);return i.forEach((o=>{const h=new Xe(o,0),d=new Xe(o,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([h,d],(m=>{r=r.add(m.Hr)}))})),it.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(e,i){const r=i.path,o=r.length+1;let h=r;Ct.isDocumentKey(h)||(h=h.child(""));const d=new Xe(new Ct(h),0);let m=new qe(Ft);return this.Jr.forEachWhile((y=>{const v=y.key.path;return!!r.isPrefixOf(v)&&(v.length===o&&(m=m.add(y.Hr)),!0)}),d),it.resolve(this.Yr(m))}Yr(e){const i=[];return e.forEach((r=>{const o=this.Zr(r);o!==null&&i.push(o)})),i}removeMutationBatch(e,i){te(this.ei(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return it.forEach(i.mutations,(o=>{const h=new Xe(o.key,i.batchId);return r=r.delete(h),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Jr=r}))}nr(e){}containsKey(e,i){const r=new Xe(i,0),o=this.Jr.firstAfterOrEqual(r);return it.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,it.resolve()}ei(e,i){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const i=this.Xr(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vS{constructor(e){this.ti=e,this.docs=(function(){return new _e(Ct.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const r=i.key,o=this.docs.get(r),h=o?o.size:0,d=this.ti(i);return this.docs=this.docs.insert(r,{document:i.mutableCopy(),size:d}),this.size+=d-h,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const r=this.docs.get(i);return it.resolve(r?r.document.mutableCopy():fn.newInvalidDocument(i))}getEntries(e,i){let r=cs();return i.forEach((o=>{const h=this.docs.get(o);r=r.insert(o,h?h.document.mutableCopy():fn.newInvalidDocument(o))})),it.resolve(r)}getDocumentsMatchingQuery(e,i,r,o){let h=cs();const d=i.path,m=new Ct(d.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(m);for(;y.hasNext();){const{key:v,value:{document:T}}=y.getNext();if(!d.isPrefixOf(v.path))break;v.path.length>d.length+1||HT(qT(T),r)<=0||(o.has(T.key)||Rc(i,T))&&(h=h.insert(T.key,T.mutableCopy()))}return it.resolve(h)}getAllFromCollectionGroup(e,i,r,o){Dt(9500)}ni(e,i){return it.forEach(this.docs,(r=>i(r)))}newChangeBuffer(e){return new _S(this)}getSize(e){return it.resolve(this.size)}}class _S extends hS{constructor(e){super(),this.Mr=e}applyChanges(e){const i=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?i.push(this.Mr.addEntry(e,o)):this.Mr.removeEntry(r)})),it.waitFor(i)}getFromCache(e,i){return this.Mr.getEntry(e,i)}getAllFromCache(e,i){return this.Mr.getEntries(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bS{constructor(e){this.persistence=e,this.ri=new za((i=>wd(i)),Cd),this.lastRemoteSnapshotVersion=Vt.min(),this.highestTargetId=0,this.ii=0,this.si=new Vd,this.targetCount=0,this.oi=Pr._r()}forEachTarget(e,i){return this.ri.forEach(((r,o)=>i(o))),it.resolve()}getLastRemoteSnapshotVersion(e){return it.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return it.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),it.resolve(this.highestTargetId)}setTargetsMetadata(e,i,r){return r&&(this.lastRemoteSnapshotVersion=r),i>this.ii&&(this.ii=i),it.resolve()}lr(e){this.ri.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.oi=new Pr(i),this.highestTargetId=i),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,i){return this.lr(i),this.targetCount+=1,it.resolve()}updateTargetData(e,i){return this.lr(i),it.resolve()}removeTargetData(e,i){return this.ri.delete(i.target),this.si.Gr(i.targetId),this.targetCount-=1,it.resolve()}removeTargets(e,i,r){let o=0;const h=[];return this.ri.forEach(((d,m)=>{m.sequenceNumber<=i&&r.get(m.targetId)===null&&(this.ri.delete(d),h.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),it.waitFor(h).next((()=>o))}getTargetCount(e){return it.resolve(this.targetCount)}getTargetData(e,i){const r=this.ri.get(i)||null;return it.resolve(r)}addMatchingKeys(e,i,r){return this.si.$r(i,r),it.resolve()}removeMatchingKeys(e,i,r){this.si.Qr(i,r);const o=this.persistence.referenceDelegate,h=[];return o&&i.forEach((d=>{h.push(o.markPotentiallyOrphaned(e,d))})),it.waitFor(h)}removeMatchingKeysForTargetId(e,i){return this.si.Gr(i),it.resolve()}getMatchingKeysForTargetId(e,i){const r=this.si.jr(i);return it.resolve(r)}containsKey(e,i){return it.resolve(this.si.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t_{constructor(e,i){this._i={},this.overlays={},this.ai=new Tc(0),this.ui=!1,this.ui=!0,this.ci=new pS,this.referenceDelegate=e(this),this.li=new bS(this),this.indexManager=new sS,this.remoteDocumentCache=(function(o){return new vS(o)})((r=>this.referenceDelegate.hi(r))),this.serializer=new nS(i),this.Pi=new mS(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new gS,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let r=this._i[e.toKey()];return r||(r=new yS(i,this.referenceDelegate),this._i[e.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,i,r){yt("MemoryPersistence","Starting transaction:",e);const o=new ES(this.ai.next());return this.referenceDelegate.Ti(),r(o).next((h=>this.referenceDelegate.Ii(o).next((()=>h)))).toPromise().then((h=>(o.raiseOnCommittedEvent(),h)))}Ei(e,i){return it.or(Object.values(this._i).map((r=>()=>r.containsKey(e,i))))}}class ES extends GT{constructor(e){super(),this.currentSequenceNumber=e}}class Od{constructor(e){this.persistence=e,this.Ri=new Vd,this.Ai=null}static Vi(e){return new Od(e)}get di(){if(this.Ai)return this.Ai;throw Dt(60996)}addReference(e,i,r){return this.Ri.addReference(r,i),this.di.delete(r.toString()),it.resolve()}removeReference(e,i,r){return this.Ri.removeReference(r,i),this.di.add(r.toString()),it.resolve()}markPotentiallyOrphaned(e,i){return this.di.add(i.toString()),it.resolve()}removeTarget(e,i){this.Ri.Gr(i.targetId).forEach((o=>this.di.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,i.targetId).next((o=>{o.forEach((h=>this.di.add(h.toString())))})).next((()=>r.removeTargetData(e,i)))}Ti(){this.Ai=new Set}Ii(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return it.forEach(this.di,(r=>{const o=Ct.fromPath(r);return this.mi(e,o).next((h=>{h||i.removeEntry(o,Vt.min())}))})).next((()=>(this.Ai=null,i.apply(e))))}updateLimboDocument(e,i){return this.mi(e,i).next((r=>{r?this.di.delete(i.toString()):this.di.add(i.toString())}))}hi(e){return 0}mi(e,i){return it.or([()=>it.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ei(e,i)])}}class yc{constructor(e,i){this.persistence=e,this.fi=new za((r=>KT(r.path)),((r,o)=>r.isEqual(o))),this.garbageCollector=cS(this,i)}static Vi(e,i){return new yc(e,i)}Ti(){}Ii(e){return it.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}dr(e){const i=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>i.next((o=>r+o))))}pr(e){let i=0;return this.mr(e,(r=>{i++})).next((()=>i))}mr(e,i){return it.forEach(this.fi,((r,o)=>this.wr(e,r,o).next((h=>h?it.resolve():i(o)))))}removeTargets(e,i,r){return this.persistence.getTargetCache().removeTargets(e,i,r)}removeOrphanedDocuments(e,i){let r=0;const o=this.persistence.getRemoteDocumentCache(),h=o.newChangeBuffer();return o.ni(e,(d=>this.wr(e,d,i).next((m=>{m||(r++,h.removeEntry(d,Vt.min()))})))).next((()=>h.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,i){return this.fi.set(i,e.currentSequenceNumber),it.resolve()}removeTarget(e,i){const r=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,i,r){return this.fi.set(r,e.currentSequenceNumber),it.resolve()}removeReference(e,i,r){return this.fi.set(r,e.currentSequenceNumber),it.resolve()}updateLimboDocument(e,i){return this.fi.set(i,e.currentSequenceNumber),it.resolve()}hi(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=tc(e.data.value)),i}wr(e,i,r){return it.or([()=>this.persistence.Ei(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.fi.get(i);return it.resolve(o!==void 0&&o>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Md{constructor(e,i,r,o){this.targetId=e,this.fromCache=i,this.Ts=r,this.Is=o}static Es(e,i){let r=Gt(),o=Gt();for(const h of i.docChanges)switch(h.type){case 0:r=r.add(h.doc.key);break;case 1:o=o.add(h.doc.key)}return new Md(e,i.fromCache,r,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TS{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xS{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return c1()?8:QT(o1())>0?6:4})()}initialize(e,i){this.fs=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,r,o){const h={result:null};return this.gs(e,i).next((d=>{h.result=d})).next((()=>{if(!h.result)return this.ps(e,i,o,r).next((d=>{h.result=d}))})).next((()=>{if(h.result)return;const d=new TS;return this.ys(e,i,d).next((m=>{if(h.result=m,this.As)return this.ws(e,i,d,m.size)}))})).next((()=>h.result))}ws(e,i,r,o){return r.documentReadCount<this.Vs?(Rr()<=Kt.DEBUG&&yt("QueryEngine","SDK will not create cache indexes for query:",Nr(i),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),it.resolve()):(Rr()<=Kt.DEBUG&&yt("QueryEngine","Query:",Nr(i),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.ds*o?(Rr()<=Kt.DEBUG&&yt("QueryEngine","The SDK decides to create cache indexes for query:",Nr(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Mi(i))):it.resolve())}gs(e,i){if(o0(i))return it.resolve(null);let r=Mi(i);return this.indexManager.getIndexType(e,r).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=ad(i,null,"F"),r=Mi(i)),this.indexManager.getDocumentsMatchingTarget(e,r).next((h=>{const d=Gt(...h);return this.fs.getDocuments(e,d).next((m=>this.indexManager.getMinOffset(e,r).next((y=>{const v=this.bs(i,m);return this.Ss(i,v,d,y.readTime)?this.gs(e,ad(i,null,"F")):this.Ds(e,v,i,y)}))))})))))}ps(e,i,r,o){return o0(i)||o.isEqual(Vt.min())?it.resolve(null):this.fs.getDocuments(e,r).next((h=>{const d=this.bs(i,h);return this.Ss(i,d,r,o)?it.resolve(null):(Rr()<=Kt.DEBUG&&yt("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Nr(i)),this.Ds(e,d,i,PT(o,co)).next((m=>m)))}))}bs(e,i){let r=new qe(Dv(e));return i.forEach(((o,h)=>{Rc(e,h)&&(r=r.add(h))})),r}Ss(e,i,r,o){if(e.limit===null)return!1;if(r.size!==i.size)return!0;const h=e.limitType==="F"?i.last():i.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(o)>0)}ys(e,i,r){return Rr()<=Kt.DEBUG&&yt("QueryEngine","Using full collection scan to execute query:",Nr(i)),this.fs.getDocumentsMatchingQuery(e,i,Zs.min(),r)}Ds(e,i,r,o){return this.fs.getDocumentsMatchingQuery(e,r,o).next((h=>(i.forEach((d=>{h=h.insert(d.key,d)})),h)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jd="LocalStore",SS=3e8;class AS{constructor(e,i,r,o){this.persistence=e,this.Cs=i,this.serializer=o,this.vs=new _e(Ft),this.Fs=new za((h=>wd(h)),Cd),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(r)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new dS(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.vs)))}}function wS(a,e,i,r){return new AS(a,e,i,r)}async function e_(a,e){const i=Mt(a);return await i.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return i.mutationQueue.getAllMutationBatches(r).next((h=>(o=h,i.Os(e),i.mutationQueue.getAllMutationBatches(r)))).next((h=>{const d=[],m=[];let y=Gt();for(const v of o){d.push(v.batchId);for(const T of v.mutations)y=y.add(T.key)}for(const v of h){m.push(v.batchId);for(const T of v.mutations)y=y.add(T.key)}return i.localDocuments.getDocuments(r,y).next((v=>({Ns:v,removedBatchIds:d,addedBatchIds:m})))}))}))}function CS(a,e){const i=Mt(a);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const o=e.batch.keys(),h=i.xs.newChangeBuffer({trackRemovals:!0});return(function(m,y,v,T){const S=v.batch,C=S.keys();let j=it.resolve();return C.forEach((G=>{j=j.next((()=>T.getEntry(y,G))).next((Z=>{const V=v.docVersions.get(G);te(V!==null,48541),Z.version.compareTo(V)<0&&(S.applyToRemoteDocument(Z,v),Z.isValidDocument()&&(Z.setReadTime(v.commitVersion),T.addEntry(Z)))}))})),j.next((()=>m.mutationQueue.removeMutationBatch(y,S)))})(i,r,e,h).next((()=>h.apply(r))).next((()=>i.mutationQueue.performConsistencyCheck(r))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(m){let y=Gt();for(let v=0;v<m.mutationResults.length;++v)m.mutationResults[v].transformResults.length>0&&(y=y.add(m.batch.mutations[v].key));return y})(e)))).next((()=>i.localDocuments.getDocuments(r,o)))}))}function n_(a){const e=Mt(a);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.li.getLastRemoteSnapshotVersion(i)))}function RS(a,e){const i=Mt(a),r=e.snapshotVersion;let o=i.vs;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(h=>{const d=i.xs.newChangeBuffer({trackRemovals:!0});o=i.vs;const m=[];e.targetChanges.forEach(((T,S)=>{const C=o.get(S);if(!C)return;m.push(i.li.removeMatchingKeys(h,T.removedDocuments,S).next((()=>i.li.addMatchingKeys(h,T.addedDocuments,S))));let j=C.withSequenceNumber(h.currentSequenceNumber);e.targetMismatches.get(S)!==null?j=j.withResumeToken(an.EMPTY_BYTE_STRING,Vt.min()).withLastLimboFreeSnapshotVersion(Vt.min()):T.resumeToken.approximateByteSize()>0&&(j=j.withResumeToken(T.resumeToken,r)),o=o.insert(S,j),(function(Z,V,Q){return Z.resumeToken.approximateByteSize()===0||V.snapshotVersion.toMicroseconds()-Z.snapshotVersion.toMicroseconds()>=SS?!0:Q.addedDocuments.size+Q.modifiedDocuments.size+Q.removedDocuments.size>0})(C,j,T)&&m.push(i.li.updateTargetData(h,j))}));let y=cs(),v=Gt();if(e.documentUpdates.forEach((T=>{e.resolvedLimboDocuments.has(T)&&m.push(i.persistence.referenceDelegate.updateLimboDocument(h,T))})),m.push(NS(h,d,e.documentUpdates).next((T=>{y=T.Bs,v=T.Ls}))),!r.isEqual(Vt.min())){const T=i.li.getLastRemoteSnapshotVersion(h).next((S=>i.li.setTargetsMetadata(h,h.currentSequenceNumber,r)));m.push(T)}return it.waitFor(m).next((()=>d.apply(h))).next((()=>i.localDocuments.getLocalViewOfDocuments(h,y,v))).next((()=>y))})).then((h=>(i.vs=o,h)))}function NS(a,e,i){let r=Gt(),o=Gt();return i.forEach((h=>r=r.add(h))),e.getEntries(a,r).next((h=>{let d=cs();return i.forEach(((m,y)=>{const v=h.get(m);y.isFoundDocument()!==v.isFoundDocument()&&(o=o.add(m)),y.isNoDocument()&&y.version.isEqual(Vt.min())?(e.removeEntry(m,y.readTime),d=d.insert(m,y)):!v.isValidDocument()||y.version.compareTo(v.version)>0||y.version.compareTo(v.version)===0&&v.hasPendingWrites?(e.addEntry(y),d=d.insert(m,y)):yt(jd,"Ignoring outdated watch update for ",m,". Current version:",v.version," Watch version:",y.version)})),{Bs:d,Ls:o}}))}function DS(a,e){const i=Mt(a);return i.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=xd),i.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function IS(a,e){const i=Mt(a);return i.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return i.li.getTargetData(r,e).next((h=>h?(o=h,it.resolve(o)):i.li.allocateTargetId(r).next((d=>(o=new Fs(e,d,"TargetPurposeListen",r.currentSequenceNumber),i.li.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=i.vs.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.vs=i.vs.insert(r.targetId,r),i.Fs.set(e,r.targetId)),r}))}async function cd(a,e,i){const r=Mt(a),o=r.vs.get(e),h=i?"readwrite":"readwrite-primary";try{i||await r.persistence.runTransaction("Release target",h,(d=>r.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!Qr(d))throw d;yt(jd,`Failed to update sequence numbers for target ${e}: ${d}`)}r.vs=r.vs.remove(e),r.Fs.delete(o.target)}function E0(a,e,i){const r=Mt(a);let o=Vt.min(),h=Gt();return r.persistence.runTransaction("Execute query","readwrite",(d=>(function(y,v,T){const S=Mt(y),C=S.Fs.get(T);return C!==void 0?it.resolve(S.vs.get(C)):S.li.getTargetData(v,T)})(r,d,Mi(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(d,m.targetId).next((y=>{h=y}))})).next((()=>r.Cs.getDocumentsMatchingQuery(d,e,i?o:Vt.min(),i?h:Gt()))).next((m=>(VS(r,px(e),m),{documents:m,ks:h})))))}function VS(a,e,i){let r=a.Ms.get(e)||Vt.min();i.forEach(((o,h)=>{h.readTime.compareTo(r)>0&&(r=h.readTime)})),a.Ms.set(e,r)}class T0{constructor(){this.activeTargetIds=Tx()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class OS{constructor(){this.vo=new T0,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,r){}addLocalQueryTarget(e,i=!0){return i&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,i,r){this.Fo[e]=i}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new T0,Promise.resolve()}handleUserChange(e,i,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MS{Mo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x0="ConnectivityMonitor";class S0{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){yt(x0,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){yt(x0,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ju=null;function hd(){return Ju===null?Ju=(function(){return 268435456+Math.round(2147483648*Math.random())})():Ju++,"0x"+Ju.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gf="RestConnection",jS={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class LS{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.qo=i+"://"+e.host,this.Uo=`projects/${r}/databases/${o}`,this.$o=this.databaseId.database===hc?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Wo(e,i,r,o,h){const d=hd(),m=this.Qo(e,i.toUriEncodedString());yt(Gf,`Sending RPC '${e}' ${d}:`,m,r);const y={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(y,o,h);const{host:v}=new URL(m),T=vd(v);return this.zo(e,m,y,r,T).then((S=>(yt(Gf,`Received RPC '${e}' ${d}: `,S),S)),(S=>{throw kr(Gf,`RPC '${e}' ${d} failed with error: `,S,"url: ",m,"request:",r),S}))}jo(e,i,r,o,h,d){return this.Wo(e,i,r,o,h)}Go(e,i,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Fr})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,h)=>e[h]=o)),r&&r.headers.forEach(((o,h)=>e[h]=o))}Qo(e,i){const r=jS[e];let o=`${this.qo}/v1/${i}:${r}`;return this.databaseInfo.apiKey&&(o=`${o}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),o}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kS{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cn="WebChannelConnection",Yl=(a,e,i)=>{a.listen(e,(r=>{try{i(r)}catch(o){setTimeout((()=>{throw o}),0)}}))};class Or extends LS{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!Or.c_){const e=ov();Yl(e,lv.STAT_EVENT,(i=>{i.stat===Wf.PROXY?yt(cn,"STAT_EVENT: detected buffering proxy"):i.stat===Wf.NOPROXY&&yt(cn,"STAT_EVENT: detected no buffering proxy")})),Or.c_=!0}}zo(e,i,r,o,h){const d=hd();return new Promise(((m,y)=>{const v=new av;v.setWithCredentials(!0),v.listenOnce(rv.COMPLETE,(()=>{try{switch(v.getLastErrorCode()){case Wu.NO_ERROR:const S=v.getResponseJson();yt(cn,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(S)),m(S);break;case Wu.TIMEOUT:yt(cn,`RPC '${e}' ${d} timed out`),y(new St(st.DEADLINE_EXCEEDED,"Request time out"));break;case Wu.HTTP_ERROR:const C=v.getStatus();if(yt(cn,`RPC '${e}' ${d} failed with status:`,C,"response text:",v.getResponseText()),C>0){let j=v.getResponseJson();Array.isArray(j)&&(j=j[0]);const G=j==null?void 0:j.error;if(G&&G.status&&G.message){const Z=(function(Q){const et=Q.toLowerCase().replace(/_/g,"-");return Object.values(st).indexOf(et)>=0?et:st.UNKNOWN})(G.status);y(new St(Z,G.message))}else y(new St(st.UNKNOWN,"Server responded with status "+v.getStatus()))}else y(new St(st.UNAVAILABLE,"Connection failed."));break;default:Dt(9055,{l_:e,streamId:d,h_:v.getLastErrorCode(),P_:v.getLastError()})}}finally{yt(cn,`RPC '${e}' ${d} completed.`)}}));const T=JSON.stringify(o);yt(cn,`RPC '${e}' ${d} sending request:`,o),v.send(i,"POST",T,r,15)}))}T_(e,i,r){const o=hd(),h=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=this.createWebChannelTransport(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(m.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(m.useFetchStreams=!0),this.Go(m.initMessageHeaders,i,r),m.encodeInitMessageHeaders=!0;const v=h.join("");yt(cn,`Creating RPC '${e}' stream ${o}: ${v}`,m);const T=d.createWebChannel(v,m);this.I_(T);let S=!1,C=!1;const j=new kS({Ho:G=>{C?yt(cn,`Not sending because RPC '${e}' stream ${o} is closed:`,G):(S||(yt(cn,`Opening RPC '${e}' stream ${o} transport.`),T.open(),S=!0),yt(cn,`RPC '${e}' stream ${o} sending:`,G),T.send(G))},Jo:()=>T.close()});return Yl(T,Jl.EventType.OPEN,(()=>{C||(yt(cn,`RPC '${e}' stream ${o} transport opened.`),j.i_())})),Yl(T,Jl.EventType.CLOSE,(()=>{C||(C=!0,yt(cn,`RPC '${e}' stream ${o} transport closed`),j.o_(),this.E_(T))})),Yl(T,Jl.EventType.ERROR,(G=>{C||(C=!0,kr(cn,`RPC '${e}' stream ${o} transport errored. Name:`,G.name,"Message:",G.message),j.o_(new St(st.UNAVAILABLE,"The operation could not be completed")))})),Yl(T,Jl.EventType.MESSAGE,(G=>{var Z;if(!C){const V=G.data[0];te(!!V,16349);const Q=V,et=(Q==null?void 0:Q.error)||((Z=Q[0])==null?void 0:Z.error);if(et){yt(cn,`RPC '${e}' stream ${o} received error:`,et);const lt=et.status;let bt=(function(N){const A=je[N];if(A!==void 0)return qv(A)})(lt),pt=et.message;bt===void 0&&(bt=st.INTERNAL,pt="Unknown error status: "+lt+" with message "+et.message),C=!0,j.o_(new St(bt,pt)),T.close()}else yt(cn,`RPC '${e}' stream ${o} received:`,V),j.__(V)}})),Or.u_(),setTimeout((()=>{j.s_()}),0),j}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((i=>i===e))}Go(e,i,r){super.Go(e,i,r),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return uv()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zS(a){return new Or(a)}function Qf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vc(a){return new qx(a,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Or.c_=!1;class i_{constructor(e,i,r=1e3,o=1.5,h=6e4){this.Ci=e,this.timerId=i,this.R_=r,this.A_=o,this.V_=h,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const i=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-r);o>0&&yt("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.d_} ms, delay with jitter: ${i} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A0="PersistentStream";class s_{constructor(e,i,r,o,h,d,m,y){this.Ci=e,this.b_=r,this.S_=o,this.connection=h,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=m,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new i_(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===st.RESOURCE_EXHAUSTED?(us(i.toString()),us("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===st.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(i)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.D_===i&&this.G_(r,o)}),(r=>{e((()=>{const o=new St(st.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)}))}))}G_(e,i){const r=this.Q_(this.D_);this.stream=this.j_(e,i),this.stream.Zo((()=>{r((()=>this.listener.Zo()))})),this.stream.Yo((()=>{r((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((o=>{r((()=>this.z_(o)))})),this.stream.onMessage((o=>{r((()=>++this.F_==1?this.H_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return yt(A0,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return i=>{this.Ci.enqueueAndForget((()=>this.D_===e?i():(yt(A0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class US extends s_{constructor(e,i,r,o,h,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,r,o,d),this.serializer=h}j_(e,i){return this.connection.T_("Listen",e,i)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=Gx(this.serializer,e),r=(function(h){if(!("targetChange"in h))return Vt.min();const d=h.targetChange;return d.targetIds&&d.targetIds.length?Vt.min():d.readTime?ji(d.readTime):Vt.min()})(e);return this.listener.J_(i,r)}Z_(e){const i={};i.database=ud(this.serializer),i.addTarget=(function(h,d){let m;const y=d.target;if(m=sd(y)?{documents:Kx(h,y)}:{query:Xx(h,y).ft},m.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){m.resumeToken=Gv(h,d.resumeToken);const v=rd(h,d.expectedCount);v!==null&&(m.expectedCount=v)}else if(d.snapshotVersion.compareTo(Vt.min())>0){m.readTime=pc(h,d.snapshotVersion.toTimestamp());const v=rd(h,d.expectedCount);v!==null&&(m.expectedCount=v)}return m})(this.serializer,e);const r=Jx(this.serializer,e);r&&(i.labels=r),this.K_(i)}X_(e){const i={};i.database=ud(this.serializer),i.removeTarget=e,this.K_(i)}}class BS extends s_{constructor(e,i,r,o,h,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,r,o,d),this.serializer=h}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}H_(e){return te(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,te(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){te(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=Yx(e.writeResults,e.commitTime),r=ji(e.commitTime);return this.listener.na(r,i)}ra(){const e={};e.database=ud(this.serializer),this.K_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((r=>Qx(this.serializer,r)))};this.K_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PS{}class qS extends PS{constructor(e,i,r,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new St(st.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,i,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,d])=>this.connection.Wo(e,ld(i,r),o,h,d))).catch((h=>{throw h.name==="FirebaseError"?(h.code===st.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new St(st.UNKNOWN,h.toString())}))}jo(e,i,r,o,h){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,m])=>this.connection.jo(e,ld(i,r),o,d,m,h))).catch((d=>{throw d.name==="FirebaseError"?(d.code===st.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new St(st.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function HS(a,e,i,r){return new qS(a,e,i,r)}class FS{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(us(i),this.aa=!1):yt("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const La="RemoteStore";class GS{constructor(e,i,r,o,h){this.localStore=e,this.datastore=i,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=h,this.Aa.Mo((d=>{r.enqueueAndForget((async()=>{Ba(this)&&(yt(La,"Restarting streams for network reachability change."),await(async function(y){const v=Mt(y);v.Ea.add(4),await xo(v),v.Va.set("Unknown"),v.Ea.delete(4),await Oc(v)})(this))}))})),this.Va=new FS(r,o)}}async function Oc(a){if(Ba(a))for(const e of a.Ra)await e(!0)}async function xo(a){for(const e of a.Ra)await e(!1)}function a_(a,e){const i=Mt(a);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),Ud(i)?zd(i):Yr(i).O_()&&kd(i,e))}function Ld(a,e){const i=Mt(a),r=Yr(i);i.Ia.delete(e),r.O_()&&r_(i,e),i.Ia.size===0&&(r.O_()?r.L_():Ba(i)&&i.Va.set("Unknown"))}function kd(a,e){if(a.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Vt.min())>0){const i=a.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Yr(a).Z_(e)}function r_(a,e){a.da.$e(e),Yr(a).X_(e)}function zd(a){a.da=new zx({getRemoteKeysForTarget:e=>a.remoteSyncer.getRemoteKeysForTarget(e),At:e=>a.Ia.get(e)||null,ht:()=>a.datastore.serializer.databaseId}),Yr(a).start(),a.Va.ua()}function Ud(a){return Ba(a)&&!Yr(a).x_()&&a.Ia.size>0}function Ba(a){return Mt(a).Ea.size===0}function l_(a){a.da=void 0}async function QS(a){a.Va.set("Online")}async function YS(a){a.Ia.forEach(((e,i)=>{kd(a,e)}))}async function KS(a,e){l_(a),Ud(a)?(a.Va.ha(e),zd(a)):a.Va.set("Unknown")}async function XS(a,e,i){if(a.Va.set("Online"),e instanceof Fv&&e.state===2&&e.cause)try{await(async function(o,h){const d=h.cause;for(const m of h.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,d),o.Ia.delete(m),o.da.removeTarget(m))})(a,e)}catch(r){yt(La,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await vc(a,r)}else if(e instanceof ic?a.da.Xe(e):e instanceof Hv?a.da.st(e):a.da.tt(e),!i.isEqual(Vt.min()))try{const r=await n_(a.localStore);i.compareTo(r)>=0&&await(function(h,d){const m=h.da.Tt(d);return m.targetChanges.forEach(((y,v)=>{if(y.resumeToken.approximateByteSize()>0){const T=h.Ia.get(v);T&&h.Ia.set(v,T.withResumeToken(y.resumeToken,d))}})),m.targetMismatches.forEach(((y,v)=>{const T=h.Ia.get(y);if(!T)return;h.Ia.set(y,T.withResumeToken(an.EMPTY_BYTE_STRING,T.snapshotVersion)),r_(h,y);const S=new Fs(T.target,y,v,T.sequenceNumber);kd(h,S)})),h.remoteSyncer.applyRemoteEvent(m)})(a,i)}catch(r){yt(La,"Failed to raise snapshot:",r),await vc(a,r)}}async function vc(a,e,i){if(!Qr(e))throw e;a.Ea.add(1),await xo(a),a.Va.set("Offline"),i||(i=()=>n_(a.localStore)),a.asyncQueue.enqueueRetryable((async()=>{yt(La,"Retrying IndexedDB access"),await i(),a.Ea.delete(1),await Oc(a)}))}function o_(a,e){return e().catch((i=>vc(a,i,e)))}async function Mc(a){const e=Mt(a),i=ta(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:xd;for(;ZS(e);)try{const o=await DS(e.localStore,r);if(o===null){e.Ta.length===0&&i.L_();break}r=o.batchId,JS(e,o)}catch(o){await vc(e,o)}u_(e)&&c_(e)}function ZS(a){return Ba(a)&&a.Ta.length<10}function JS(a,e){a.Ta.push(e);const i=ta(a);i.O_()&&i.Y_&&i.ea(e.mutations)}function u_(a){return Ba(a)&&!ta(a).x_()&&a.Ta.length>0}function c_(a){ta(a).start()}async function $S(a){ta(a).ra()}async function WS(a){const e=ta(a);for(const i of a.Ta)e.ea(i.mutations)}async function t2(a,e,i){const r=a.Ta.shift(),o=Nd.from(r,e,i);await o_(a,(()=>a.remoteSyncer.applySuccessfulWrite(o))),await Mc(a)}async function e2(a,e){e&&ta(a).Y_&&await(async function(r,o){if((function(d){return jx(d)&&d!==st.ABORTED})(o.code)){const h=r.Ta.shift();ta(r).B_(),await o_(r,(()=>r.remoteSyncer.rejectFailedWrite(h.batchId,o))),await Mc(r)}})(a,e),u_(a)&&c_(a)}async function w0(a,e){const i=Mt(a);i.asyncQueue.verifyOperationInProgress(),yt(La,"RemoteStore received new credentials");const r=Ba(i);i.Ea.add(3),await xo(i),r&&i.Va.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await Oc(i)}async function n2(a,e){const i=Mt(a);e?(i.Ea.delete(2),await Oc(i)):e||(i.Ea.add(2),await xo(i),i.Va.set("Unknown"))}function Yr(a){return a.ma||(a.ma=(function(i,r,o){const h=Mt(i);return h.sa(),new US(r,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,o)})(a.datastore,a.asyncQueue,{Zo:QS.bind(null,a),Yo:YS.bind(null,a),t_:KS.bind(null,a),J_:XS.bind(null,a)}),a.Ra.push((async e=>{e?(a.ma.B_(),Ud(a)?zd(a):a.Va.set("Unknown")):(await a.ma.stop(),l_(a))}))),a.ma}function ta(a){return a.fa||(a.fa=(function(i,r,o){const h=Mt(i);return h.sa(),new BS(r,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,o)})(a.datastore,a.asyncQueue,{Zo:()=>Promise.resolve(),Yo:$S.bind(null,a),t_:e2.bind(null,a),ta:WS.bind(null,a),na:t2.bind(null,a)}),a.Ra.push((async e=>{e?(a.fa.B_(),await Mc(a)):(await a.fa.stop(),a.Ta.length>0&&(yt(La,`Stopping write stream with ${a.Ta.length} pending writes`),a.Ta=[]))}))),a.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bd{constructor(e,i,r,o,h){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=r,this.op=o,this.removalCallback=h,this.deferred=new Ks,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,r,o,h){const d=Date.now()+r,m=new Bd(e,i,d,o,h);return m.start(r),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new St(st.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Pd(a,e){if(us("AsyncQueue",`${e}: ${a}`),Qr(a))return new St(st.UNAVAILABLE,`${e}: ${a}`);throw a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mr{static emptySet(e){return new Mr(e.comparator)}constructor(e){this.comparator=e?(i,r)=>e(i,r)||Ct.comparator(i.key,r.key):(i,r)=>Ct.comparator(i.key,r.key),this.keyedMap=$l(),this.sortedSet=new _e(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,r)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof Mr)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,h=r.getNext().key;if(!o.isEqual(h))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const r=new Mr;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=i,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C0{constructor(){this.ga=new _e(Ct.comparator)}track(e){const i=e.doc.key,r=this.ga.get(i);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(i,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(i,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(i):e.type===1&&r.type===2?this.ga=this.ga.insert(i,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):Dt(63341,{Vt:e,pa:r}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,r)=>{e.push(r)})),e}}class qr{constructor(e,i,r,o,h,d,m,y,v){this.query=e,this.docs=i,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=h,this.fromCache=d,this.syncStateChanged=m,this.excludesMetadataChanges=y,this.hasCachedResults=v}static fromInitialDocuments(e,i,r,o,h){const d=[];return i.forEach((m=>{d.push({type:0,doc:m})})),new qr(e,i,Mr.emptySet(i),d,r,o,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Cc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,r=e.docChanges;if(i.length!==r.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==r[o].type||!i[o].doc.isEqual(r[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i2{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class s2{constructor(){this.queries=R0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,r){const o=Mt(i),h=o.queries;o.queries=R0(),h.forEach(((d,m)=>{for(const y of m.ba)y.onError(r)}))})(this,new St(st.ABORTED,"Firestore shutting down"))}}function R0(){return new za((a=>Nv(a)),Cc)}async function h_(a,e){const i=Mt(a);let r=3;const o=e.query;let h=i.queries.get(o);h?!h.Sa()&&e.Da()&&(r=2):(h=new i2,r=e.Da()?0:1);try{switch(r){case 0:h.wa=await i.onListen(o,!0);break;case 1:h.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const m=Pd(d,`Initialization of query '${Nr(e.query)}' failed`);return void e.onError(m)}i.queries.set(o,h),h.ba.push(e),e.va(i.onlineState),h.wa&&e.Fa(h.wa)&&qd(i)}async function f_(a,e){const i=Mt(a),r=e.query;let o=3;const h=i.queries.get(r);if(h){const d=h.ba.indexOf(e);d>=0&&(h.ba.splice(d,1),h.ba.length===0?o=e.Da()?0:1:!h.Sa()&&e.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(r),i.onUnlisten(r,!0);case 1:return i.queries.delete(r),i.onUnlisten(r,!1);case 2:return i.onLastRemoteStoreUnlisten(r);default:return}}function a2(a,e){const i=Mt(a);let r=!1;for(const o of e){const h=o.query,d=i.queries.get(h);if(d){for(const m of d.ba)m.Fa(o)&&(r=!0);d.wa=o}}r&&qd(i)}function r2(a,e,i){const r=Mt(a),o=r.queries.get(e);if(o)for(const h of o.ba)h.onError(i);r.queries.delete(e)}function qd(a){a.Ca.forEach((e=>{e.next()}))}var fd,N0;(N0=fd||(fd={})).Ma="default",N0.Cache="cache";class d_{constructor(e,i,r){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)o.type!==3&&r.push(o);e=new qr(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const r=i!=="Offline";return(!this.options.Ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=qr.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==fd.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m_{constructor(e){this.key=e}}class g_{constructor(e){this.key=e}}class l2{constructor(e,i){this.query=e,this.Za=i,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Gt(),this.mutatedKeys=Gt(),this.eu=Dv(e),this.tu=new Mr(this.eu)}get nu(){return this.Za}ru(e,i){const r=i?i.iu:new C0,o=i?i.tu:this.tu;let h=i?i.mutatedKeys:this.mutatedKeys,d=o,m=!1;const y=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,v=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((T,S)=>{const C=o.get(T),j=Rc(this.query,S)?S:null,G=!!C&&this.mutatedKeys.has(C.key),Z=!!j&&(j.hasLocalMutations||this.mutatedKeys.has(j.key)&&j.hasCommittedMutations);let V=!1;C&&j?C.data.isEqual(j.data)?G!==Z&&(r.track({type:3,doc:j}),V=!0):this.su(C,j)||(r.track({type:2,doc:j}),V=!0,(y&&this.eu(j,y)>0||v&&this.eu(j,v)<0)&&(m=!0)):!C&&j?(r.track({type:0,doc:j}),V=!0):C&&!j&&(r.track({type:1,doc:C}),V=!0,(y||v)&&(m=!0)),V&&(j?(d=d.add(j),h=Z?h.add(T):h.delete(T)):(d=d.delete(T),h=h.delete(T)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const T=this.query.limitType==="F"?d.last():d.first();d=d.delete(T.key),h=h.delete(T.key),r.track({type:1,doc:T})}return{tu:d,iu:r,Ss:m,mutatedKeys:h}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,r,o){const h=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((T,S)=>(function(j,G){const Z=V=>{switch(V){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Dt(20277,{Vt:V})}};return Z(j)-Z(G)})(T.type,S.type)||this.eu(T.doc,S.doc))),this.ou(r),o=o??!1;const m=i&&!o?this._u():[],y=this.Ya.size===0&&this.current&&!o?1:0,v=y!==this.Xa;return this.Xa=y,d.length!==0||v?{snapshot:new qr(this.query,e.tu,h,d,e.mutatedKeys,y===0,v,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new C0,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Za=this.Za.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Za=this.Za.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=Gt(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))}));const i=[];return e.forEach((r=>{this.Ya.has(r)||i.push(new g_(r))})),this.Ya.forEach((r=>{e.has(r)||i.push(new m_(r))})),i}cu(e){this.Za=e.ks,this.Ya=Gt();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return qr.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const Hd="SyncEngine";class o2{constructor(e,i,r){this.query=e,this.targetId=i,this.view=r}}class u2{constructor(e){this.key=e,this.hu=!1}}class c2{constructor(e,i,r,o,h,d){this.localStore=e,this.remoteStore=i,this.eventManager=r,this.sharedClientState=o,this.currentUser=h,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new za((m=>Nv(m)),Cc),this.Iu=new Map,this.Eu=new Set,this.Ru=new _e(Ct.comparator),this.Au=new Map,this.Vu=new Vd,this.du={},this.mu=new Map,this.fu=Pr.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function h2(a,e,i=!0){const r=E_(a);let o;const h=r.Tu.get(e);return h?(r.sharedClientState.addLocalQueryTarget(h.targetId),o=h.view.lu()):o=await p_(r,e,i,!0),o}async function f2(a,e){const i=E_(a);await p_(i,e,!0,!1)}async function p_(a,e,i,r){const o=await IS(a.localStore,Mi(e)),h=o.targetId,d=a.sharedClientState.addLocalQueryTarget(h,i);let m;return r&&(m=await d2(a,e,h,d==="current",o.resumeToken)),a.isPrimaryClient&&i&&a_(a.remoteStore,o),m}async function d2(a,e,i,r,o){a.pu=(S,C,j)=>(async function(Z,V,Q,et){let lt=V.view.ru(Q);lt.Ss&&(lt=await E0(Z.localStore,V.query,!1).then((({documents:N})=>V.view.ru(N,lt))));const bt=et&&et.targetChanges.get(V.targetId),pt=et&&et.targetMismatches.get(V.targetId)!=null,At=V.view.applyChanges(lt,Z.isPrimaryClient,bt,pt);return I0(Z,V.targetId,At.au),At.snapshot})(a,S,C,j);const h=await E0(a.localStore,e,!0),d=new l2(e,h.ks),m=d.ru(h.documents),y=To.createSynthesizedTargetChangeForCurrentChange(i,r&&a.onlineState!=="Offline",o),v=d.applyChanges(m,a.isPrimaryClient,y);I0(a,i,v.au);const T=new o2(e,i,d);return a.Tu.set(e,T),a.Iu.has(i)?a.Iu.get(i).push(e):a.Iu.set(i,[e]),v.snapshot}async function m2(a,e,i){const r=Mt(a),o=r.Tu.get(e),h=r.Iu.get(o.targetId);if(h.length>1)return r.Iu.set(o.targetId,h.filter((d=>!Cc(d,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await cd(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),i&&Ld(r.remoteStore,o.targetId),dd(r,o.targetId)})).catch(Gr)):(dd(r,o.targetId),await cd(r.localStore,o.targetId,!0))}async function g2(a,e){const i=Mt(a),r=i.Tu.get(e),o=i.Iu.get(r.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(r.targetId),Ld(i.remoteStore,r.targetId))}async function p2(a,e,i){const r=x2(a);try{const o=await(function(d,m){const y=Mt(d),v=de.now(),T=m.reduce(((j,G)=>j.add(G.key)),Gt());let S,C;return y.persistence.runTransaction("Locally write mutations","readwrite",(j=>{let G=cs(),Z=Gt();return y.xs.getEntries(j,T).next((V=>{G=V,G.forEach(((Q,et)=>{et.isValidDocument()||(Z=Z.add(Q))}))})).next((()=>y.localDocuments.getOverlayedDocuments(j,G))).next((V=>{S=V;const Q=[];for(const et of m){const lt=Dx(et,S.get(et.key).overlayedDocument);lt!=null&&Q.push(new Ua(et.key,lt,Tv(lt.value.mapValue),ls.exists(!0)))}return y.mutationQueue.addMutationBatch(j,v,Q,m)})).next((V=>{C=V;const Q=V.applyToLocalDocumentSet(S,Z);return y.documentOverlayCache.saveOverlays(j,V.batchId,Q)}))})).then((()=>({batchId:C.batchId,changes:Vv(S)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),(function(d,m,y){let v=d.du[d.currentUser.toKey()];v||(v=new _e(Ft)),v=v.insert(m,y),d.du[d.currentUser.toKey()]=v})(r,o.batchId,i),await So(r,o.changes),await Mc(r.remoteStore)}catch(o){const h=Pd(o,"Failed to persist write");i.reject(h)}}async function y_(a,e){const i=Mt(a);try{const r=await RS(i.localStore,e);e.targetChanges.forEach(((o,h)=>{const d=i.Au.get(h);d&&(te(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?te(d.hu,14607):o.removedDocuments.size>0&&(te(d.hu,42227),d.hu=!1))})),await So(i,r,e)}catch(r){await Gr(r)}}function D0(a,e,i){const r=Mt(a);if(r.isPrimaryClient&&i===0||!r.isPrimaryClient&&i===1){const o=[];r.Tu.forEach(((h,d)=>{const m=d.view.va(e);m.snapshot&&o.push(m.snapshot)})),(function(d,m){const y=Mt(d);y.onlineState=m;let v=!1;y.queries.forEach(((T,S)=>{for(const C of S.ba)C.va(m)&&(v=!0)})),v&&qd(y)})(r.eventManager,e),o.length&&r.Pu.J_(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function y2(a,e,i){const r=Mt(a);r.sharedClientState.updateQueryState(e,"rejected",i);const o=r.Au.get(e),h=o&&o.key;if(h){let d=new _e(Ct.comparator);d=d.insert(h,fn.newNoDocument(h,Vt.min()));const m=Gt().add(h),y=new Ic(Vt.min(),new Map,new _e(Ft),d,m);await y_(r,y),r.Ru=r.Ru.remove(h),r.Au.delete(e),Fd(r)}else await cd(r.localStore,e,!1).then((()=>dd(r,e,i))).catch(Gr)}async function v2(a,e){const i=Mt(a),r=e.batch.batchId;try{const o=await CS(i.localStore,e);__(i,r,null),v_(i,r),i.sharedClientState.updateMutationState(r,"acknowledged"),await So(i,o)}catch(o){await Gr(o)}}async function _2(a,e,i){const r=Mt(a);try{const o=await(function(d,m){const y=Mt(d);return y.persistence.runTransaction("Reject batch","readwrite-primary",(v=>{let T;return y.mutationQueue.lookupMutationBatch(v,m).next((S=>(te(S!==null,37113),T=S.keys(),y.mutationQueue.removeMutationBatch(v,S)))).next((()=>y.mutationQueue.performConsistencyCheck(v))).next((()=>y.documentOverlayCache.removeOverlaysForBatchId(v,T,m))).next((()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,T))).next((()=>y.localDocuments.getDocuments(v,T)))}))})(r.localStore,e);__(r,e,i),v_(r,e),r.sharedClientState.updateMutationState(e,"rejected",i),await So(r,o)}catch(o){await Gr(o)}}function v_(a,e){(a.mu.get(e)||[]).forEach((i=>{i.resolve()})),a.mu.delete(e)}function __(a,e,i){const r=Mt(a);let o=r.du[r.currentUser.toKey()];if(o){const h=o.get(e);h&&(i?h.reject(i):h.resolve(),o=o.remove(e)),r.du[r.currentUser.toKey()]=o}}function dd(a,e,i=null){a.sharedClientState.removeLocalQueryTarget(e);for(const r of a.Iu.get(e))a.Tu.delete(r),i&&a.Pu.yu(r,i);a.Iu.delete(e),a.isPrimaryClient&&a.Vu.Gr(e).forEach((r=>{a.Vu.containsKey(r)||b_(a,r)}))}function b_(a,e){a.Eu.delete(e.path.canonicalString());const i=a.Ru.get(e);i!==null&&(Ld(a.remoteStore,i),a.Ru=a.Ru.remove(e),a.Au.delete(i),Fd(a))}function I0(a,e,i){for(const r of i)r instanceof m_?(a.Vu.addReference(r.key,e),b2(a,r)):r instanceof g_?(yt(Hd,"Document no longer in limbo: "+r.key),a.Vu.removeReference(r.key,e),a.Vu.containsKey(r.key)||b_(a,r.key)):Dt(19791,{wu:r})}function b2(a,e){const i=e.key,r=i.path.canonicalString();a.Ru.get(i)||a.Eu.has(r)||(yt(Hd,"New document in limbo: "+i),a.Eu.add(r),Fd(a))}function Fd(a){for(;a.Eu.size>0&&a.Ru.size<a.maxConcurrentLimboResolutions;){const e=a.Eu.values().next().value;a.Eu.delete(e);const i=new Ct(ve.fromString(e)),r=a.fu.next();a.Au.set(r,new u2(i)),a.Ru=a.Ru.insert(i,r),a_(a.remoteStore,new Fs(Mi(wc(i.path)),r,"TargetPurposeLimboResolution",Tc.ce))}}async function So(a,e,i){const r=Mt(a),o=[],h=[],d=[];r.Tu.isEmpty()||(r.Tu.forEach(((m,y)=>{d.push(r.pu(y,e,i).then((v=>{var T;if((v||i)&&r.isPrimaryClient){const S=v?!v.fromCache:(T=i==null?void 0:i.targetChanges.get(y.targetId))==null?void 0:T.current;r.sharedClientState.updateQueryState(y.targetId,S?"current":"not-current")}if(v){o.push(v);const S=Md.Es(y.targetId,v);h.push(S)}})))})),await Promise.all(d),r.Pu.J_(o),await(async function(y,v){const T=Mt(y);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>it.forEach(v,(C=>it.forEach(C.Ts,(j=>T.persistence.referenceDelegate.addReference(S,C.targetId,j))).next((()=>it.forEach(C.Is,(j=>T.persistence.referenceDelegate.removeReference(S,C.targetId,j)))))))))}catch(S){if(!Qr(S))throw S;yt(jd,"Failed to update sequence numbers: "+S)}for(const S of v){const C=S.targetId;if(!S.fromCache){const j=T.vs.get(C),G=j.snapshotVersion,Z=j.withLastLimboFreeSnapshotVersion(G);T.vs=T.vs.insert(C,Z)}}})(r.localStore,h))}async function E2(a,e){const i=Mt(a);if(!i.currentUser.isEqual(e)){yt(Hd,"User change. New user:",e.toKey());const r=await e_(i.localStore,e);i.currentUser=e,(function(h,d){h.mu.forEach((m=>{m.forEach((y=>{y.reject(new St(st.CANCELLED,d))}))})),h.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await So(i,r.Ns)}}function T2(a,e){const i=Mt(a),r=i.Au.get(e);if(r&&r.hu)return Gt().add(r.key);{let o=Gt();const h=i.Iu.get(e);if(!h)return o;for(const d of h){const m=i.Tu.get(d);o=o.unionWith(m.view.nu)}return o}}function E_(a){const e=Mt(a);return e.remoteStore.remoteSyncer.applyRemoteEvent=y_.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=T2.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=y2.bind(null,e),e.Pu.J_=a2.bind(null,e.eventManager),e.Pu.yu=r2.bind(null,e.eventManager),e}function x2(a){const e=Mt(a);return e.remoteStore.remoteSyncer.applySuccessfulWrite=v2.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=_2.bind(null,e),e}class _c{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Vc(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return wS(this.persistence,new xS,e.initialUser,this.serializer)}Cu(e){return new t_(Od.Vi,this.serializer)}Du(e){return new OS}async terminate(){var e,i;(e=this.gcScheduler)==null||e.stop(),(i=this.indexBackfillerScheduler)==null||i.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}_c.provider={build:()=>new _c};class S2 extends _c{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){te(this.persistence.referenceDelegate instanceof yc,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new oS(r,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?An.withCacheSize(this.cacheSizeBytes):An.DEFAULT;return new t_((r=>yc.Vi(r,i)),this.serializer)}}class md{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>D0(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=E2.bind(null,this.syncEngine),await n2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new s2})()}createDatastore(e){const i=Vc(e.databaseInfo.databaseId),r=zS(e.databaseInfo);return HS(e.authCredentials,e.appCheckCredentials,r,i)}createRemoteStore(e){return(function(r,o,h,d,m){return new GS(r,o,h,d,m)})(this.localStore,this.datastore,e.asyncQueue,(i=>D0(this.syncEngine,i,0)),(function(){return S0.v()?new S0:new MS})())}createSyncEngine(e,i){return(function(o,h,d,m,y,v,T){const S=new c2(o,h,d,m,y,v);return T&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){var e,i;await(async function(o){const h=Mt(o);yt(La,"RemoteStore shutting down."),h.Ea.add(5),await xo(h),h.Aa.shutdown(),h.Va.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(i=this.eventManager)==null||i.terminate()}}md.provider={build:()=>new md};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T_{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):us("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ea="FirestoreClient";class A2{constructor(e,i,r,o,h){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=r,this._databaseInfo=o,this.user=hn.UNAUTHENTICATED,this.clientId=Ed.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(r,(async d=>{yt(ea,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(r,(d=>(yt(ea,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ks;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const r=Pd(i,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Yf(a,e){a.asyncQueue.verifyOperationInProgress(),yt(ea,"Initializing OfflineComponentProvider");const i=a.configuration;await e.initialize(i);let r=i.initialUser;a.setCredentialChangeListener((async o=>{r.isEqual(o)||(await e_(e.localStore,o),r=o)})),e.persistence.setDatabaseDeletedListener((()=>a.terminate())),a._offlineComponents=e}async function V0(a,e){a.asyncQueue.verifyOperationInProgress();const i=await w2(a);yt(ea,"Initializing OnlineComponentProvider"),await e.initialize(i,a.configuration),a.setCredentialChangeListener((r=>w0(e.remoteStore,r))),a.setAppCheckTokenChangeListener(((r,o)=>w0(e.remoteStore,o))),a._onlineComponents=e}async function w2(a){if(!a._offlineComponents)if(a._uninitializedComponentsProvider){yt(ea,"Using user provided OfflineComponentProvider");try{await Yf(a,a._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(o){return o.name==="FirebaseError"?o.code===st.FAILED_PRECONDITION||o.code===st.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;kr("Error using user provided cache. Falling back to memory cache: "+i),await Yf(a,new _c)}}else yt(ea,"Using default OfflineComponentProvider"),await Yf(a,new S2(void 0));return a._offlineComponents}async function x_(a){return a._onlineComponents||(a._uninitializedComponentsProvider?(yt(ea,"Using user provided OnlineComponentProvider"),await V0(a,a._uninitializedComponentsProvider._online)):(yt(ea,"Using default OnlineComponentProvider"),await V0(a,new md))),a._onlineComponents}function C2(a){return x_(a).then((e=>e.syncEngine))}async function gd(a){const e=await x_(a),i=e.eventManager;return i.onListen=h2.bind(null,e.syncEngine),i.onUnlisten=m2.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=f2.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=g2.bind(null,e.syncEngine),i}function R2(a,e,i,r){const o=new T_(r),h=new d_(e,o,i);return a.asyncQueue.enqueueAndForget((async()=>h_(await gd(a),h))),()=>{o.Nu(),a.asyncQueue.enqueueAndForget((async()=>f_(await gd(a),h)))}}function N2(a,e,i={}){const r=new Ks;return a.asyncQueue.enqueueAndForget((async()=>(function(h,d,m,y,v){const T=new T_({next:C=>{T.Nu(),d.enqueueAndForget((()=>f_(h,S)));const j=C.docs.has(m);!j&&C.fromCache?v.reject(new St(st.UNAVAILABLE,"Failed to get document because the client is offline.")):j&&C.fromCache&&y&&y.source==="server"?v.reject(new St(st.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):v.resolve(C)},error:C=>v.reject(C)}),S=new d_(wc(m.path),T,{includeMetadataChanges:!0,Ka:!0});return h_(h,S)})(await gd(a),a.asyncQueue,e,i,r))),r.promise}function D2(a,e){const i=new Ks;return a.asyncQueue.enqueueAndForget((async()=>p2(await C2(a),e,i))),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S_(a){const e={};return a.timeoutSeconds!==void 0&&(e.timeoutSeconds=a.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I2="ComponentProvider",O0=new Map;function V2(a,e,i,r,o){return new JT(a,e,i,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,S_(o.experimentalLongPollingOptions),o.useFetchStreams,o.isUsingEmulator,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A_="firestore.googleapis.com",M0=!0;class j0{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new St(st.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=A_,this.ssl=M0}else this.host=e.host,this.ssl=e.ssl??M0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Wv;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<rS)throw new St(st.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}BT("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=S_(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new St(st.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new St(st.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new St(st.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Gd{constructor(e,i,r,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new j0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new St(st.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new St(st.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new j0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new NT;switch(r.type){case"firstParty":return new OT(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new St(st.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const r=O0.get(i);r&&(yt(I2,"Removing Datastore"),O0.delete(i),r.terminate())})(this),Promise.resolve()}}function O2(a,e,i,r={}){var v;a=Xs(a,Gd);const o=vd(e),h=a._getSettings(),d={...h,emulatorOptions:a._getEmulatorOptions()},m=`${e}:${i}`;o&&(i1(`https://${m}`),l1("Firestore",!0)),h.host!==A_&&h.host!==m&&kr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...h,host:m,ssl:o,emulatorOptions:r};if(!lc(y,d)&&(a._setSettings(y),r.mockUserToken)){let T,S;if(typeof r.mockUserToken=="string")T=r.mockUserToken,S=hn.MOCK_USER;else{T=s1(r.mockUserToken,(v=a._app)==null?void 0:v.options.projectId);const C=r.mockUserToken.sub||r.mockUserToken.user_id;if(!C)throw new St(st.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");S=new hn(C)}a._authCredentials=new DT(new hv(T,S))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jc{constructor(e,i,r){this.converter=i,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new jc(this.firestore,e,this._query)}}class Pe{constructor(e,i,r){this.converter=i,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new vo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Pe(this.firestore,e,this._key)}toJSON(){return{type:Pe._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,r){if(bo(i,Pe._jsonSchema))return new Pe(e,r||null,new Ct(ve.fromString(i.referencePath)))}}Pe._jsonSchemaVersion="firestore/documentReference/1.0",Pe._jsonSchema={type:Le("string",Pe._jsonSchemaVersion),referencePath:Le("string")};class vo extends jc{constructor(e,i,r){super(e,i,wc(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Pe(this.firestore,null,new Ct(e))}withConverter(e){return new vo(this.firestore,e,this._path)}}function Qd(a,e,...i){if(a=lo(a),arguments.length===1&&(e=Ed.newId()),UT("doc","path",e),a instanceof Gd){const r=ve.fromString(e,...i);return Xy(r),new Pe(a,null,new Ct(r))}{if(!(a instanceof Pe||a instanceof vo))throw new St(st.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=a._path.child(ve.fromString(e,...i));return Xy(r),new Pe(a.firestore,a instanceof vo?a.converter:null,new Ct(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L0="AsyncQueue";class k0{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new i_(this,"async_queue_retry"),this._c=()=>{const r=Qf();r&&yt(L0,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const i=Qf();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=Qf();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Ks;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!Qr(e))throw e;yt(L0,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,us("INTERNAL UNHANDLED ERROR: ",z0(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=i,i}enqueueAfterDelay(e,i,r){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const o=Bd.createAndSchedule(this,e,i,r,(h=>this.hc(h)));return this.tc.push(o),o}uc(){this.nc&&Dt(47125,{Pc:z0(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,r)=>i.targetTimeMs-r.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function z0(a){let e=a.message||"";return a.stack&&(e=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),e}class _o extends Gd{constructor(e,i,r,o){super(e,i,r,o),this.type="firestore",this._queue=new k0,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new k0(e),this._firestoreClient=void 0,await e}}}function M2(a,e){const i=typeof a=="object"?a:yT(),r=typeof a=="string"?a:hc,o=fT(i,"firestore").getImmediate({identifier:r});if(!o._initialized){const h=e1("firestore");h&&O2(o,...h)}return o}function Yd(a){if(a._terminated)throw new St(st.FAILED_PRECONDITION,"The client has already been terminated.");return a._firestoreClient||j2(a),a._firestoreClient}function j2(a){var r,o,h,d;const e=a._freezeSettings(),i=V2(a._databaseId,((r=a._app)==null?void 0:r.options.appId)||"",a._persistenceKey,(o=a._app)==null?void 0:o.options.apiKey,e);a._componentsProvider||(h=e.localCache)!=null&&h._offlineComponentProvider&&((d=e.localCache)!=null&&d._onlineComponentProvider)&&(a._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),a._firestoreClient=new A2(a._authCredentials,a._appCheckCredentials,a._queue,i,a._componentsProvider&&(function(y){const v=y==null?void 0:y._online.build();return{_offline:y==null?void 0:y._offline.build(v),_online:v}})(a._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ti{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ti(an.fromBase64String(e))}catch(i){throw new St(st.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new ti(an.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ti._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(bo(e,ti._jsonSchema))return ti.fromBase64String(e.bytes)}}ti._jsonSchemaVersion="firestore/bytes/1.0",ti._jsonSchema={type:Le("string",ti._jsonSchemaVersion),bytes:Le("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w_{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new St(st.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new sn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kd{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Li{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new St(st.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new St(st.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ft(this._lat,e._lat)||Ft(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Li._jsonSchemaVersion}}static fromJSON(e){if(bo(e,Li._jsonSchema))return new Li(e.latitude,e.longitude)}}Li._jsonSchemaVersion="firestore/geoPoint/1.0",Li._jsonSchema={type:Le("string",Li._jsonSchemaVersion),latitude:Le("number"),longitude:Le("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,o){if(r.length!==o.length)return!1;for(let h=0;h<r.length;++h)if(r[h]!==o[h])return!1;return!0})(this._values,e._values)}toJSON(){return{type:di._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(bo(e,di._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new di(e.vectorValues);throw new St(st.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}di._jsonSchemaVersion="firestore/vectorValue/1.0",di._jsonSchema={type:Le("string",di._jsonSchemaVersion),vectorValues:Le("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L2=/^__.*__$/;class k2{constructor(e,i,r){this.data=e,this.fieldMask=i,this.fieldTransforms=r}toMutation(e,i){return this.fieldMask!==null?new Ua(e,this.data,this.fieldMask,i,this.fieldTransforms):new Eo(e,this.data,i,this.fieldTransforms)}}function C_(a){switch(a){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Dt(40011,{dataSource:a})}}class Xd{constructor(e,i,r,o,h,d){this.settings=e,this.databaseId=i,this.serializer=r,this.ignoreUndefinedProperties=o,h===void 0&&this.validatePath(),this.fieldTransforms=h||[],this.fieldMask=d||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new Xd({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){var o;const i=(o=this.path)==null?void 0:o.child(e),r=this.contextWith({path:i,arrayElement:!1});return r.validatePathSegment(e),r}childContextForFieldPath(e){var o;const i=(o=this.path)==null?void 0:o.child(e),r=this.contextWith({path:i,arrayElement:!1});return r.validatePath(),r}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return bc(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(C_(this.dataSource)&&L2.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class z2{constructor(e,i,r){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=r||Vc(e)}createContext(e,i,r,o=!1){return new Xd({dataSource:e,methodName:i,targetDoc:r,path:sn.emptyPath(),arrayElement:!1,hasConverter:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function U2(a){const e=a._freezeSettings(),i=Vc(a._databaseId);return new z2(a._databaseId,!!e.ignoreUndefinedProperties,i)}function B2(a,e,i,r,o,h={}){const d=a.createContext(h.merge||h.mergeFields?2:0,e,i,o);I_("Data must be an object, but it was:",d,r);const m=N_(r,d);let y,v;if(h.merge)y=new fi(d.fieldMask),v=d.fieldTransforms;else if(h.mergeFields){const T=[];for(const S of h.mergeFields){const C=Jd(e,S,i);if(!d.contains(C))throw new St(st.INVALID_ARGUMENT,`Field '${C}' is specified in your field mask but missing from your input data.`);H2(T,C)||T.push(C)}y=new fi(T),v=d.fieldTransforms.filter((S=>y.covers(S.field)))}else y=null,v=d.fieldTransforms;return new k2(new Wn(m),y,v)}class Zd extends Kd{_toFieldTransform(e){return new wx(e.path,new go)}isEqual(e){return e instanceof Zd}}function R_(a,e){if(D_(a=lo(a)))return I_("Unsupported field value:",e,a),N_(a,e);if(a instanceof Kd)return(function(r,o){if(!C_(o.dataSource))throw o.createError(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.createError(`${r._methodName}() is not currently supported inside arrays`);const h=r._toFieldTransform(o);h&&o.fieldTransforms.push(h)})(a,e),null;if(a===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),a instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(r,o){const h=[];let d=0;for(const m of r){let y=R_(m,o.childContextForArray(d));y==null&&(y={nullValue:"NULL_VALUE"}),h.push(y),d++}return{arrayValue:{values:h}}})(a,e)}return(function(r,o){if((r=lo(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return xx(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const h=de.fromDate(r);return{timestampValue:pc(o.serializer,h)}}if(r instanceof de){const h=new de(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:pc(o.serializer,h)}}if(r instanceof Li)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ti)return{bytesValue:Gv(o.serializer,r._byteString)};if(r instanceof Pe){const h=o.databaseId,d=r.firestore._databaseId;if(!d.isEqual(h))throw o.createError(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:Id(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof di)return(function(d,m){const y=d instanceof di?d.toArray():d;return{mapValue:{fields:{[bv]:{stringValue:Ev},[fc]:{arrayValue:{values:y.map((T=>{if(typeof T!="number")throw m.createError("VectorValues must only contain numeric values.");return Rd(m.serializer,T)}))}}}}}})(r,o);if($v(r))return r._toProto(o.serializer);throw o.createError(`Unsupported field value: ${Td(r)}`)})(a,e)}function N_(a,e){const i={};return mv(a)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ka(a,((r,o)=>{const h=R_(o,e.childContextForField(r));h!=null&&(i[r]=h)})),{mapValue:{fields:i}}}function D_(a){return!(typeof a!="object"||a===null||a instanceof Array||a instanceof Date||a instanceof de||a instanceof Li||a instanceof ti||a instanceof Pe||a instanceof Kd||a instanceof di||$v(a))}function I_(a,e,i){if(!D_(i)||!fv(i)){const r=Td(i);throw r==="an object"?e.createError(a+" a custom object"):e.createError(a+" "+r)}}function Jd(a,e,i){if((e=lo(e))instanceof w_)return e._internalPath;if(typeof e=="string")return q2(a,e);throw bc("Field path arguments must be of type string or ",a,!1,void 0,i)}const P2=new RegExp("[~\\*/\\[\\]]");function q2(a,e,i){if(e.search(P2)>=0)throw bc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,a,!1,void 0,i);try{return new w_(...e.split("."))._internalPath}catch{throw bc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,a,!1,void 0,i)}}function bc(a,e,i,r,o){const h=r&&!r.isEmpty(),d=o!==void 0;let m=`Function ${e}() called with invalid data`;i&&(m+=" (via `toFirestore()`)"),m+=". ";let y="";return(h||d)&&(y+=" (found",h&&(y+=` in field ${r}`),d&&(y+=` in document ${o}`),y+=")"),new St(st.INVALID_ARGUMENT,m+a+y)}function H2(a,e){return a.some((i=>i.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F2{convertValue(e,i="none"){switch(Ws(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ce(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes($s(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw Dt(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const r={};return ka(e,((o,h)=>{r[o]=this.convertValue(h,i)})),r}convertVectorValue(e){var r,o,h;const i=(h=(o=(r=e.fields)==null?void 0:r[fc].arrayValue)==null?void 0:o.values)==null?void 0:h.map((d=>Ce(d.doubleValue)));return new di(i)}convertGeoPoint(e){return new Li(Ce(e.latitude),Ce(e.longitude))}convertArray(e,i){return(e.values||[]).map((r=>this.convertValue(r,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const r=Sc(e);return r==null?null:this.convertValue(r,i);case"estimate":return this.convertTimestamp(ho(e));default:return null}}convertTimestamp(e){const i=Js(e);return new de(i.seconds,i.nanos)}convertDocumentKey(e,i){const r=ve.fromString(e);te(Jv(r),9688,{name:e});const o=new fo(r.get(1),r.get(3)),h=new Ct(r.popFirst(5));return o.isEqual(i)||us(`Document ${h} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),h}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V_ extends F2{constructor(e){super(),this.firestore=e}convertBytes(e){return new ti(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new Pe(this.firestore,null,i)}}function G2(){return new Zd("serverTimestamp")}const U0="@firebase/firestore",B0="4.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P0(a){return(function(i,r){if(typeof i!="object"||i===null)return!1;const o=i;for(const h of r)if(h in o&&typeof o[h]=="function")return!0;return!1})(a,["next","error","complete"])}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O_{constructor(e,i,r,o,h){this._firestore=e,this._userDataWriter=i,this._key=r,this._document=o,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new Pe(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Q2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){var e;return((e=this._document)==null?void 0:e.data.clone().value.mapValue.fields)??void 0}get(e){if(this._document){const i=this._document.data.field(Jd("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class Q2 extends O_{data(){return super.data()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y2(a){if(a.limitType==="L"&&a.explicitOrderBy.length===0)throw new St(st.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}function K2(a,e,i){let r;return r=a?i&&(i.merge||i.mergeFields)?a.toFirestore(e,i):a.toFirestore(e):e,r}class to{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ma extends O_{constructor(e,i,r,o,h,d){super(e,i,r,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=h}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new sc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const r=this._document.data.field(Jd("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new St(st.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=Ma._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Ma._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ma._jsonSchema={type:Le("string",Ma._jsonSchemaVersion),bundleSource:Le("string","DocumentSnapshot"),bundleName:Le("string"),bundle:Le("string")};class sc extends Ma{data(e={}){return super.data(e)}}class jr{constructor(e,i,r,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new to(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((r=>{e.call(i,new sc(this._firestore,this._userDataWriter,r.key,r,new to(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new St(st.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,h){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((m=>{const y=new sc(o._firestore,o._userDataWriter,m.doc.key,m.doc,new to(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:y,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>h||m.type!==3)).map((m=>{const y=new sc(o._firestore,o._userDataWriter,m.doc.key,m.doc,new to(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let v=-1,T=-1;return m.type!==0&&(v=d.indexOf(m.doc.key),d=d.delete(m.doc.key)),m.type!==1&&(d=d.add(m.doc),T=d.indexOf(m.doc.key)),{type:X2(m.type),doc:y,oldIndex:v,newIndex:T}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new St(st.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=jr._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Ed.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],r=[],o=[];return this.docs.forEach((h=>{h._document!==null&&(i.push(h._document),r.push(this._userDataWriter.convertObjectMap(h._document.data.value.mapValue.fields,"previous")),o.push(h.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function X2(a){switch(a){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Dt(61501,{type:a})}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */jr._jsonSchemaVersion="firestore/querySnapshot/1.0",jr._jsonSchema={type:Le("string",jr._jsonSchemaVersion),bundleSource:Le("string","QuerySnapshot"),bundleName:Le("string"),bundle:Le("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z2(a){a=Xs(a,Pe);const e=Xs(a.firestore,_o),i=Yd(e);return N2(i,a._key).then((r=>M_(e,a,r)))}function J2(a,e,i){a=Xs(a,Pe);const r=Xs(a.firestore,_o),o=K2(a.converter,e,i),h=U2(r);return W2(r,[B2(h,"setDoc",a._key,o,a.converter!==null,i).toMutation(a._key,ls.none())])}function $2(a,...e){var v,T,S;a=lo(a);let i={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||P0(e[r])||(i=e[r++]);const o={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(P0(e[r])){const C=e[r];e[r]=(v=C.next)==null?void 0:v.bind(C),e[r+1]=(T=C.error)==null?void 0:T.bind(C),e[r+2]=(S=C.complete)==null?void 0:S.bind(C)}let h,d,m;if(a instanceof Pe)d=Xs(a.firestore,_o),m=wc(a._key.path),h={next:C=>{e[r]&&e[r](M_(d,a,C))},error:e[r+1],complete:e[r+2]};else{const C=Xs(a,jc);d=Xs(C.firestore,_o),m=C._query;const j=new V_(d);h={next:G=>{e[r]&&e[r](new jr(d,j,C,G))},error:e[r+1],complete:e[r+2]},Y2(a._query)}const y=Yd(d);return R2(y,m,o,h)}function W2(a,e){const i=Yd(a);return D2(i,e)}function M_(a,e,i){const r=i.docs.get(e._key),o=new V_(a);return new Ma(a,o,e._key,r,new to(i.hasPendingWrites,i.fromCache),e.converter)}(function(e,i=!0){RT(pT),uc(new oo("firestore",((r,{instanceIdentifier:o,options:h})=>{const d=r.getProvider("app").getImmediate(),m=new _o(new IT(r.getProvider("auth-internal")),new MT(d,r.getProvider("app-check-internal")),$T(d,o),d);return h={useFetchStreams:i,...h},m._setSettings(h),m}),"PUBLIC").setMultipleInstances(!0)),Vr(U0,B0,e),Vr(U0,B0,"esm2020")})();var tA="firebase",eA="12.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Vr(tA,eA,"app");const nA={apiKey:"AIzaSyAZBf9fUWZoXnYJyBvBGEvpiu7DbHkG5Iw",authDomain:"crm-ver2.firebaseapp.com",projectId:"crm-ver2",storageBucket:"crm-ver2.firebasestorage.app",messagingSenderId:"993359540287",appId:"1:993359540287:web:5469df3e5d22c4b480088a"},iA=ev(nA),$d=M2(iA),Wd="default",tm="workspaces";function sA(a){return{...a,tabs:a.tabs.map(e=>{const i={...e};return i.inboxSection===void 0&&delete i.inboxSection,i})}}async function aA(){try{const a=Qd($d,tm,Wd),e=await Z2(a);if(e.exists()){const i=e.data();return{tabs:i.tabs||[],activeTabId:i.activeTabId||"",bookmarks:i.bookmarks||[]}}return null}catch(a){throw console.error("Error fetching workspace data:",a),a}}async function q0(a){try{const e=Qd($d,tm,Wd),i=sA(a);await J2(e,{...i,updatedAt:G2()},{merge:!0})}catch(e){throw console.error("Error saving workspace data:",e),e}}function rA(a,e){const i=Qd($d,tm,Wd);return $2(i,r=>{if(r.exists()){const o=r.data();a({tabs:o.tabs||[],activeTabId:o.activeTabId||"",bookmarks:o.bookmarks||[]})}},r=>{console.error("Firestore snapshot error:",r),e(r)})}function lA(a){const[e,i]=at.useState(null),[r,o]=at.useState(!0),[h,d]=at.useState(null),m=at.useRef(!1),y=at.useRef(null);at.useEffect(()=>{let T=null;async function S(){try{const C=await aA();C&&C.tabs.length>0?i(C):(await q0(a),i(a)),T=rA(j=>{m.current=!0,i(j),setTimeout(()=>{m.current=!1},0)},j=>{d(j)}),o(!1)}catch(C){d(C),o(!1)}}return S(),()=>{T&&T(),y.current&&clearTimeout(y.current)}},[]);const v=at.useCallback(async T=>{m.current||(i(T),y.current&&clearTimeout(y.current),y.current=setTimeout(async()=>{try{await q0(T)}catch(S){d(S),console.error("Failed to save to Firestore:",S)}},300))},[]);return{data:e,loading:r,error:h,updateData:v}}function oA(a){const e=at.useRef(null),i=at.useRef({x:0,y:0,time:0});return at.useEffect(()=>{const r=e.current;if(!r)return;const o=d=>{i.current={x:d.touches[0].clientX,y:d.touches[0].clientY,time:Date.now()}},h=d=>{const{x:m,y,time:v}=i.current,T=d.changedTouches[0].clientX,S=d.changedTouches[0].clientY,C=Date.now(),j=T-m,G=S-y,Z=C-v,V=a.minSwipeDistance??50,Q=a.minSwipeVelocity??.3,et=a.maxVerticalMovement??80,lt=Math.abs(j)>Math.abs(G),bt=Math.abs(j)>V,pt=Math.abs(G)<et,N=Math.abs(j)/Z>Q;lt&&bt&&pt&&N&&(j<0&&a.onSwipeLeft?a.onSwipeLeft():j>0&&a.onSwipeRight&&a.onSwipeRight())};return r.addEventListener("touchstart",o,{passive:!0}),r.addEventListener("touchend",h,{passive:!0}),()=>{r.removeEventListener("touchstart",o),r.removeEventListener("touchend",h)}},[a]),e}const uA="https://www.googleapis.com/auth/calendar.events https://www.googleapis.com/auth/calendar",H0="1",Kl="google_access_token",Xl="google_token_version",cA=()=>{const[a,e]=at.useState(!1),[i,r]=at.useState(null);at.useEffect(()=>{const m=localStorage.getItem(Kl),y=localStorage.getItem(Xl);m&&y===H0?(r(m),e(!0)):(localStorage.removeItem(Kl),localStorage.removeItem(Xl))},[]);const o=wE({scope:uA,onSuccess:m=>{r(m.access_token),e(!0),localStorage.setItem(Kl,m.access_token),localStorage.setItem(Xl,H0)},onError:()=>{console.error("Google  ")}});return{isAuthorized:a,login:o,logout:()=>{localStorage.removeItem(Kl),localStorage.removeItem(Xl),r(null),e(!1)},createCalendarEvent:async m=>{var T,S,C;if(!i)throw new Error("Google  ");const y={summary:m.summary,description:m.description||""};m.isAllDay?(y.start={date:m.start},y.end={date:m.end}):(y.start={dateTime:m.start,timeZone:"Asia/Seoul"},y.end={dateTime:m.end,timeZone:"Asia/Seoul"});const v=await fetch("https://www.googleapis.com/calendar/v3/calendars/primary/events",{method:"POST",headers:{Authorization:`Bearer ${i}`,"Content-Type":"application/json"},body:JSON.stringify(y)});if(!v.ok){const j=await v.json();throw(S=(T=j.error)==null?void 0:T.message)!=null&&S.includes("insufficient authentication scopes")?(localStorage.removeItem(Kl),localStorage.removeItem(Xl),r(null),e(!1),new Error(" .  .")):new Error(`   : ${((C=j.error)==null?void 0:C.message)||"   "}`)}return await v.json()}}},hA=[{id:"b1",label:"",url:"",color:"bg-[#B89F1F]"},{id:"b2",label:"",url:"",color:"bg-[#B89F1F]"},{id:"b3",label:"",url:"",color:"bg-[#B89F1F]"},{id:"b4",label:"",url:"",color:"bg-[#B89F1F]"},{id:"b5",label:"",url:"",color:"bg-[#0F5A9F]"},{id:"b6",label:"24",url:"",color:"bg-[#0F5A9F]"},{id:"b7",label:"",url:"",color:"bg-[#0F5A9F]"},{id:"b8",label:"",url:"",color:"bg-[#0F5A9F]"},{id:"b9",label:"",url:"",color:"bg-[#724C8F]"},{id:"b10",label:"",url:"",color:"bg-[#724C8F]"},{id:"b11",label:"",url:"",color:"bg-[#724C8F]"},{id:"b12",label:"()",url:"",color:"bg-[#724C8F]"},{id:"b13",label:"",url:"",color:"bg-[#369D47]"},{id:"b14",label:"AI",url:"",color:"bg-[#369D47]"},{id:"b15",label:"",url:"",color:"bg-[#369D47]"}],fA=()=>{var sa,Fe;const a=at.useMemo(()=>{const B=Math.random().toString(36).substr(2,9),W=Math.random().toString(36).substr(2,9),ot=Math.random().toString(36).substr(2,9);return{tabs:[{id:B,name:"",sections:[],memos:{},sideNotes:[],parkingInfo:{text:"",checklistItems:[],shoppingListItems:[],checklistMemos:{},shoppingListMemos:{}},inboxSection:{id:W,title:"IN-BOX",items:[],color:"slate",isLocked:!1},quotesSection:{id:ot,title:"",items:[],color:"slate",isLocked:!1},isLocked:!1,headerGoals:{goal1:"",goal2:""}}],activeTabId:B,bookmarks:hA}},[]),{data:e,loading:i,error:r,updateData:o}=lA(a),h=at.useRef(null),d=at.useRef(!1),m=at.useMemo(()=>e?{...e,tabs:e.tabs.map((B,W)=>({...B,inboxSection:W===0?B.inboxSection||{id:Math.random().toString(36).substr(2,9),title:"IN-BOX",items:[],color:"slate",isLocked:!1}:void 0,quotesSection:B.quotesSection||{id:Math.random().toString(36).substr(2,9),title:"",items:[],color:"slate",isLocked:!1},headerGoals:B.headerGoals||{goal1:"",goal2:""}}))}:a,[e,a]),[y,v]=at.useState(navigator.onLine);at.useEffect(()=>{const B=()=>{v(!0),console.log("[App] Network restored - Firestore will auto-sync")},W=()=>{v(!1),console.log("[App] Network lost - app is now offline")};return window.addEventListener("online",B),window.addEventListener("offline",W),()=>{window.removeEventListener("online",B),window.removeEventListener("offline",W)}},[]),at.useEffect(()=>{const B=new URLSearchParams(window.location.search),W=B.get("shared")==="true",ot=B.get("text");W&&ot&&(console.log("[App] Web Share Target - URL  :",ot.substring(0,50)+"..."),h.current={text:ot},window.history.replaceState({},"",window.location.pathname),console.log("[App] Web Share Target - URL   "))},[]),at.useEffect(()=>{if(!h.current||d.current||i)return;const B=h.current.text;if(!m||!m.tabs||m.tabs.length===0){console.warn("[App] Web Share Target - safeData   ");return}const W=m.tabs[0];if(!(W!=null&&W.inboxSection)){console.error("[App] Web Share Target -    IN-BOX    ");return}console.log("[App] Web Share Target -    :",B.substring(0,50)+"..."),d.current=!0;const ot={id:Math.random().toString(36).substr(2,9),text:B,completed:!1},It={...W.inboxSection,items:[...W.inboxSection.items,ot]};o({...m,tabs:m.tabs.map((zt,ke)=>ke===0?{...zt,inboxSection:It}:zt),activeTabId:W.id}),h.current=null,setTimeout(()=>{const zt=document.querySelector('[data-section-id="'+W.inboxSection.id+'"]');zt&&(zt.scrollIntoView({behavior:"smooth",block:"start"}),zt.classList.add("ring-2","ring-yellow-400","ring-opacity-50"),setTimeout(()=>{zt.classList.remove("ring-2","ring-yellow-400","ring-opacity-50")},3e3))},300),console.log("[App] Web Share Target - IN-BOX  ")},[m,i,o]);const[T,S]=at.useState({draggedItemId:null,dragOverItemId:null,sourceSectionId:null,draggedSectionId:null,dragOverSectionId:null}),[C,j]=at.useState({isOpen:!1,itemId:null,itemText:"",sourceTabId:"",sourceSectionId:""}),[G,Z]=at.useState({isOpen:!1,title:"",message:"",onConfirm:()=>{}}),[V,Q]=at.useState({id:null,value:"",type:"section",isEditing:!1}),[et,lt]=at.useState(!1),[bt,pt]=at.useState(null),At=cA(),[N,A]=at.useState({isOpen:!1,itemText:""}),w=at.useMemo(()=>m.tabs.find(W=>W.id===m.activeTabId)||m.tabs[0],[m.tabs,m.activeTabId]),L=at.useMemo(()=>m.tabs.findIndex(B=>B.id===m.activeTabId),[m.tabs,m.activeTabId]),O=B=>{o({...m,bookmarks:B})},k=()=>{const B=Math.random().toString(36).substr(2,9),W=Math.random().toString(36).substr(2,9),ot={id:B,name:`  ${m.tabs.length+1}`,sections:[],memos:{},sideNotes:[],parkingInfo:{text:"",checklistItems:[],shoppingListItems:[],checklistMemos:{},shoppingListMemos:{}},quotesSection:{id:W,title:"",items:[],color:"slate",isLocked:!1},isLocked:!1,headerGoals:{goal1:"",goal2:""}};o({...m,tabs:[...m.tabs,ot],activeTabId:B})},R=(B,W)=>{o({...m,tabs:m.tabs.map(ot=>ot.id===B?{...ot,name:W}:ot)})},Pt=B=>{o({...m,tabs:m.tabs.map(W=>W.id===B?{...W,isLocked:!W.isLocked}:W)})},ue=(B,W)=>{const ot=[...m.tabs],[It]=ot.splice(B,1);ot.splice(W,0,It),o({...m,tabs:ot})},X=(B,W)=>{var zt;let ot=w.sections.find(ke=>ke.id===W);!ot&&((zt=w.inboxSection)==null?void 0:zt.id)===W&&(ot=w.inboxSection);const It=ot==null?void 0:ot.items.find(ke=>ke.id===B);!It||!ot||j({isOpen:!0,itemId:It.id,itemText:It.text,sourceTabId:m.activeTabId,sourceSectionId:ot.id})},ht=(B,W)=>{var me,aa;const{itemId:ot,sourceTabId:It,sourceSectionId:zt}=C;if(!ot)return;if(It===B&&zt===W){j(xt=>({...xt,isOpen:!1}));return}const ke=m.tabs.find(xt=>xt.id===It);if(!ke)return;let ze=ke.sections.find(xt=>xt.id===zt);!ze&&((me=ke.inboxSection)==null?void 0:me.id)===zt&&(ze=ke.inboxSection);const Ze=ze==null?void 0:ze.items.find(xt=>xt.id===ot);if(!Ze||!ze)return;const ln=m.tabs.find(xt=>xt.id===B);if(!ln)return;let ce=ln.sections.find(xt=>xt.id===W);if(!ce&&((aa=ln.inboxSection)==null?void 0:aa.id)===W&&(ce=ln.inboxSection),!ce)return;const dn=ke.memos[ot];o({...m,tabs:m.tabs.map(xt=>{var ra,wn,gi,ye,Cn,Rn,pn,Pa,la,Nn;if(It===B&&xt.id===It){let Ge=xt.sections,yn=xt.inboxSection;return ze.id!==((ra=xt.inboxSection)==null?void 0:ra.id)&&ce.id!==((wn=xt.inboxSection)==null?void 0:wn.id)?Ge=xt.sections.map(Wt=>Wt.id===zt?{...Wt,items:Wt.items.filter(on=>on.id!==ot)}:Wt.id===W?{...Wt,items:[...Wt.items,Ze]}:Wt):ze.id!==((gi=xt.inboxSection)==null?void 0:gi.id)&&ce.id===((ye=xt.inboxSection)==null?void 0:ye.id)?(Ge=xt.sections.map(Wt=>Wt.id===zt?{...Wt,items:Wt.items.filter(on=>on.id!==ot)}:Wt),yn={...xt.inboxSection,items:[...xt.inboxSection.items,Ze]}):ze.id===((Cn=xt.inboxSection)==null?void 0:Cn.id)&&ce.id!==((Rn=xt.inboxSection)==null?void 0:Rn.id)?(Ge=xt.sections.map(Wt=>Wt.id===W?{...Wt,items:[...Wt.items,Ze]}:Wt),yn={...xt.inboxSection,items:xt.inboxSection.items.filter(Wt=>Wt.id!==ot)}):ze.id===((pn=xt.inboxSection)==null?void 0:pn.id)&&ce.id===((Pa=xt.inboxSection)==null?void 0:Pa.id)&&(yn=xt.inboxSection),{...xt,sections:Ge,inboxSection:yn}}else if(It!==B&&xt.id===It){let Ge=xt.sections,yn=xt.inboxSection;ze.id!==((la=xt.inboxSection)==null?void 0:la.id)?Ge=xt.sections.map(Bn=>Bn.id===zt?{...Bn,items:Bn.items.filter(Pi=>Pi.id!==ot)}:Bn):yn={...xt.inboxSection,items:xt.inboxSection.items.filter(Bn=>Bn.id!==ot)};const{[ot]:Wt,...on}=xt.memos;return{...xt,sections:Ge,inboxSection:yn,memos:on}}else if(It!==B&&xt.id===B){let Ge=xt.sections,yn=xt.inboxSection;ce.id!==((Nn=xt.inboxSection)==null?void 0:Nn.id)?Ge=xt.sections.map(on=>on.id===W?{...on,items:[...on.items,Ze]}:on):yn={...xt.inboxSection,items:[...xt.inboxSection.items,Ze]};const Wt=dn?{...xt.memos,[ot]:dn}:xt.memos;return{...xt,sections:Ge,inboxSection:yn,memos:Wt}}return xt})}),j({isOpen:!1,itemId:null,itemText:"",sourceTabId:"",sourceSectionId:""})},Et=B=>{if(!At.isAuthorized){At.login();return}A({isOpen:!0,itemText:B})},ft=async(B,W,ot)=>{var It;try{await At.createCalendarEvent({summary:N.itemText,start:B,end:W,isAllDay:ot}),alert(" !"),A({isOpen:!1,itemText:""})}catch(zt){console.error("  :",zt),(It=zt.message)!=null&&It.includes(" ")?(alert(" .  ."),At.login()):alert("  .")}},vt=B=>{const W=m.tabs.find(ot=>ot.id===B);!W||W.isLocked||m.tabs.length<=1||Z({isOpen:!0,title:" ",message:`'${W.name}'     . ?`,onConfirm:()=>{const ot=m.tabs.filter(zt=>zt.id!==B),It=m.activeTabId===B?ot[0].id:m.activeTabId;o({...m,tabs:ot,activeTabId:It}),Z(zt=>({...zt,isOpen:!1}))}})},I=B=>{o({...m,activeTabId:B})},$=()=>{const B=L+1;B<m.tabs.length&&I(m.tabs[B].id)},ut=()=>{const B=L-1;B>=0&&I(m.tabs[B].id)},gt=oA({onSwipeLeft:V.id||G.isOpen?void 0:$,onSwipeRight:V.id||G.isOpen?void 0:ut,minSwipeDistance:50,minSwipeVelocity:.3,maxVerticalMovement:80}),F=B=>{o({...m,tabs:m.tabs.map(W=>W.id===m.activeTabId?{...W,parkingInfo:B}:W)})},rt=B=>{o({...m,tabs:m.tabs.map(W=>W.id===m.activeTabId?{...W,sideNotes:B}:W)})},dt=()=>{const B={id:Math.random().toString(36).substr(2,9),title:" ",items:[],color:"slate",isLocked:!1};o({...m,tabs:m.tabs.map(W=>W.id===m.activeTabId?{...W,sections:[...W.sections,B]}:W)})},Rt=B=>{o({...m,tabs:m.tabs.map(W=>W.id===m.activeTabId?{...W,sections:W.sections.map(ot=>ot.id===B.id?B:ot)}:W)})},mt=B=>{o({...m,tabs:m.tabs.map(W=>W.id===m.activeTabId?{...W,inboxSection:B}:W)})},He=B=>{o({...m,tabs:m.tabs.map(W=>W.id===m.activeTabId?{...W,quotesSection:B}:W)})},rn=B=>{const W=w==null?void 0:w.sections.find(ot=>ot.id===B);W!=null&&W.isLocked||Z({isOpen:!0,title:" ",message:"  ?",onConfirm:()=>{o({...m,tabs:m.tabs.map(ot=>ot.id===m.activeTabId?{...ot,sections:ot.sections.filter(It=>It.id!==B)}:ot)}),Z(ot=>({...ot,isOpen:!1}))}})},hs=B=>{S(W=>({...W,draggedSectionId:B}))},fs=(B,W)=>{B.preventDefault(),T.draggedSectionId&&T.draggedSectionId!==W&&S(ot=>({...ot,dragOverSectionId:W}))},Un=(B,W)=>{B.preventDefault();const{draggedSectionId:ot}=T;!ot||ot===W||o({...m,tabs:m.tabs.map(It=>{if(It.id!==m.activeTabId)return It;const zt=[...It.sections],ke=zt.findIndex(Ze=>Ze.id===ot),ze=zt.findIndex(Ze=>Ze.id===W);if(ke!==-1&&ze!==-1){const[Ze]=zt.splice(ke,1);zt.splice(ze,0,Ze)}return{...It,sections:zt}})})},na=()=>{S(B=>({...B,draggedSectionId:null,dragOverSectionId:null}))},Ui=()=>{w.sections.some(B=>B.items.some(W=>W.completed))&&o({...m,tabs:m.tabs.map(B=>B.id===m.activeTabId?{...B,sections:B.sections.map(W=>({...W,items:W.items.map(ot=>({...ot,completed:!1}))}))}:B)})},ei=(B,W)=>{var It,zt;let ot="";W==="checklist"?ot=((It=w.parkingInfo.checklistMemos)==null?void 0:It[B])||"":W==="shopping"?ot=((zt=w.parkingInfo.shoppingListMemos)==null?void 0:zt[B])||"":ot=w.memos[B]||"",Q({id:B,value:ot,type:W||"section",isEditing:ot===""})},ia=()=>{V.id&&(V.type==="checklist"?o({...m,tabs:m.tabs.map(B=>B.id===m.activeTabId?{...B,parkingInfo:{...B.parkingInfo,checklistMemos:{...B.parkingInfo.checklistMemos,[V.id]:V.value}}}:B)}):V.type==="shopping"?o({...m,tabs:m.tabs.map(B=>B.id===m.activeTabId?{...B,parkingInfo:{...B.parkingInfo,shoppingListMemos:{...B.parkingInfo.shoppingListMemos,[V.id]:V.value}}}:B)}):o({...m,tabs:m.tabs.map(B=>B.id===m.activeTabId?{...B,memos:{...B.memos,[V.id]:V.value}}:B)})),V.value.trim()?Q({...V,isEditing:!1}):Q({id:null,value:"",type:"section",isEditing:!1})},be=(B,W)=>{B!==m.activeTabId&&I(B),W&&(setTimeout(()=>{const ot=document.querySelector(`[data-section-id="${W}"]`);ot&&ot.scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"})},100),pt(W),setTimeout(()=>{pt(null)},3e3)),lt(!1)},xe=()=>{const B=m.tabs[0];if(!(B!=null&&B.inboxSection))return;const W=B.id,ot=B.inboxSection.id;W!==m.activeTabId&&I(W),setTimeout(()=>{const It=document.querySelector(`[data-section-id="${ot}"]`);It&&It.scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"})},100),pt(ot),setTimeout(()=>{pt(null)},3e3)},mi=w.sections.some(B=>B.items.some(W=>W.completed)),Bi=w.id===(((sa=m.tabs[0])==null?void 0:sa.id)||"");return i?b.jsx("div",{className:"h-screen flex items-center justify-center bg-[#F8FAFC]",children:b.jsxs("div",{className:"text-center",children:[b.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto mb-4"}),b.jsx("p",{className:"text-slate-600",children:"  ..."})]})}):r?b.jsx("div",{className:"h-screen flex items-center justify-center bg-[#F8FAFC]",children:b.jsxs("div",{className:"text-center max-w-md",children:[b.jsx("div",{className:"flex justify-center mb-4",children:b.jsx("svg",{className:"w-16 h-16 text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),b.jsx("h2",{className:"text-xl font-bold text-slate-800 mb-2",children:"  "}),b.jsx("p",{className:"text-sm text-slate-600 mb-4",children:r.message}),b.jsx("p",{className:"text-xs text-slate-500 mb-6",children:"    ."}),b.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-2 bg-blue-500 text-white rounded-lg font-medium hover:bg-blue-600 transition-colors",children:" "})]})}):b.jsxs("div",{className:"h-screen flex flex-col bg-[#F8FAFC] overflow-hidden text-slate-900",children:[!y&&b.jsx("div",{className:"flex-none bg-yellow-500 text-white px-4 py-2 text-center text-sm font-medium",children:b.jsxs("div",{className:"flex items-center justify-center gap-2",children:[b.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),b.jsx("span",{children:"  -   "})]})}),b.jsx("div",{className:"flex-none hidden md:block",children:b.jsx(BE,{bookmarks:m.bookmarks,onUpdateBookmarks:O})}),b.jsxs("div",{className:"flex-1 flex flex-row overflow-hidden",children:[b.jsxs("div",{ref:gt,className:"flex-1 flex flex-col overflow-hidden",children:[b.jsx("div",{className:"flex-none bg-[#F8FAFC]",children:b.jsx(VE,{onClearAll:Ui,onAddSection:dt,hasAnyCompletedItems:mi,onOpenNavigationMap:()=>lt(!0),headerGoals:w.headerGoals,onHeaderGoalsChange:B=>{o({...m,tabs:m.tabs.map(W=>W.id===m.activeTabId?{...W,headerGoals:B}:W)})}})}),b.jsx("main",{className:"flex-1 overflow-y-auto custom-scrollbar px-0 md:px-6 pb-20",children:b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-3 md:gap-6 h-full",style:{gridAutoRows:"auto"},children:[Bi&&b.jsxs(b.Fragment,{children:[b.jsx("div",{className:"h-[600px] md:h-auto md:row-span-2",children:b.jsx(jE,{info:w.parkingInfo,onChange:F,onShowChecklistMemo:B=>ei(B,"checklist"),onShowShoppingMemo:B=>ei(B,"shopping"),onAddToCalendar:Et})}),b.jsx("div",{className:"h-[600px] md:h-auto md:row-span-2",children:b.jsx(kf,{section:w.inboxSection,itemMemos:w.memos,onUpdateSection:mt,onDeleteSection:()=>{},onShowItemMemo:ei,onMoveItem:B=>X(B,w.inboxSection.id),onAddToCalendar:Et,dragState:T,setDragState:S,onSectionDragStart:()=>{},onSectionDragOver:()=>{},onSectionDrop:()=>{},onSectionDragEnd:()=>{},isHighlighted:w.inboxSection.id===bt,isInboxSection:!0,tabColorBg:Zl(0).bgLight})}),b.jsx("div",{className:"h-[600px] md:h-auto md:row-span-2",children:b.jsx(kf,{section:w.quotesSection,itemMemos:w.memos,onUpdateSection:He,onDeleteSection:()=>{},onShowItemMemo:ei,onMoveItem:B=>X(B,w.quotesSection.id),onAddToCalendar:Et,dragState:T,setDragState:S,onSectionDragStart:()=>{},onSectionDragOver:()=>{},onSectionDrop:()=>{},onSectionDragEnd:()=>{},isHighlighted:w.quotesSection.id===bt,isInboxSection:!0,tabColorBg:Zl(0).bgLight})})]}),w.sections.map(B=>b.jsx("div",{className:Bi?"":"h-screen md:h-full md:row-span-2",children:b.jsx(kf,{section:B,itemMemos:w.memos,onUpdateSection:Rt,onDeleteSection:rn,onShowItemMemo:ei,onMoveItem:W=>X(W,B.id),onAddToCalendar:Et,dragState:T,setDragState:S,onSectionDragStart:()=>hs(B.id),onSectionDragOver:W=>fs(W,B.id),onSectionDrop:W=>Un(W,B.id),onSectionDragEnd:na,isHighlighted:B.id===bt,isFullHeight:!Bi,tabColorText:Zl(L).text,tabColorBg:Zl(L).bgLight})},B.id)),w.sections.length===0&&(!Bi||w.sections.length===0)&&b.jsx("div",{className:"col-span-full text-center py-16 text-slate-400",children:b.jsx("p",{className:"text-sm italic",children:Bi&&w.sections.length===0?'  . "+"    .':w.sections.length===0?"  .    .":""})})]})})]}),b.jsx("aside",{className:"flex-none hidden lg:block w-48 border-l border-slate-200 bg-white/40",children:b.jsx(PE,{notes:w.sideNotes||[],onChange:rt})})]}),b.jsx("div",{className:"flex-none",children:b.jsx(kE,{tabs:e.tabs,activeTabId:e.activeTabId,onSelectTab:I,onAddTab:k,onRenameTab:R,onDeleteTab:vt,onToggleLockTab:Pt,onReorderTabs:ue,onNavigateToInbox:xe,hasInbox:!!((Fe=m.tabs[0])!=null&&Fe.inboxSection)})}),V.id&&b.jsx("div",{onClick:()=>Q({id:null,value:"",type:"section",isEditing:!1}),className:"fixed inset-0 z-[110] flex items-center justify-center p-4 bg-slate-900/40 backdrop-blur-sm",children:b.jsxs("div",{onClick:B=>B.stopPropagation(),className:"bg-white w-full max-w-2xl h-[80vh] rounded-2xl shadow-2xl border border-slate-200 p-6 flex flex-col",children:[b.jsxs("div",{className:"flex items-center justify-between mb-4",children:[b.jsx("h3",{className:"text-lg font-bold text-slate-800",children:" "}),b.jsx("button",{onClick:()=>Q({id:null,value:"",type:"section",isEditing:!1}),className:"text-slate-400 hover:text-slate-600 p-2",children:b.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),!V.isEditing&&b.jsxs(b.Fragment,{children:[b.jsx("div",{className:"flex-1 w-full p-4 border border-slate-200 rounded-xl text-slate-700 text-base overflow-y-auto custom-scrollbar bg-slate-50 whitespace-pre-wrap break-words",children:V.value?b.jsx("div",{className:"prose prose-sm max-w-none",children:V.value}):b.jsx("p",{className:"text-slate-400 italic",children:" ."})}),b.jsxs("div",{className:"mt-4 flex justify-end gap-3",children:[b.jsx("button",{onClick:()=>Q({...V,id:null}),className:"px-4 py-2 rounded-lg border-2 border-slate-300 text-slate-700 font-medium hover:bg-slate-50 transition-colors",children:""}),b.jsx("button",{onClick:()=>Q({...V,isEditing:!0}),className:"px-4 py-2 rounded-lg bg-blue-500 hover:bg-blue-600 text-white font-medium border-2 border-black transition-colors",children:" "}),b.jsx("button",{onClick:()=>{navigator.clipboard.writeText(V.value)},className:"px-4 py-2 rounded-lg bg-slate-500 hover:bg-slate-600 text-white font-medium border-2 border-black transition-colors",children:" "})]})]}),V.isEditing&&b.jsxs(b.Fragment,{children:[b.jsx("textarea",{autoFocus:!0,value:V.value,onChange:B=>Q({...V,value:B.target.value}),className:"flex-1 w-full p-4 border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-100 text-slate-700 text-base resize-none custom-scrollbar",placeholder:"  ..."}),b.jsxs("div",{className:"mt-4 flex justify-end gap-3",children:[b.jsx("button",{onClick:()=>{var W,ot,It;let B="";V.type==="checklist"?B=((W=w.parkingInfo.checklistMemos)==null?void 0:W[V.id])||"":V.type==="shopping"?B=((ot=w.parkingInfo.shoppingListMemos)==null?void 0:ot[V.id])||"":B=((It=w.memos)==null?void 0:It[V.id])||"",Q(B?{...V,value:B,isEditing:!1}:{id:null,value:"",type:"section",isEditing:!1})},className:"px-4 py-2 rounded-lg border-2 border-slate-300 text-slate-700 font-medium hover:bg-slate-50 transition-colors",children:""}),b.jsx("button",{onClick:ia,className:"px-4 py-2 rounded-lg bg-green-500 hover:bg-green-600 text-white font-medium border-2 border-black transition-colors",children:" "}),b.jsx("button",{onClick:()=>{navigator.clipboard.writeText(V.value)},className:"px-4 py-2 rounded-lg bg-slate-500 hover:bg-slate-600 text-white font-medium border-2 border-black transition-colors",children:" "})]})]})]})}),b.jsx(HE,{isOpen:C.isOpen,itemText:C.itemText,currentTabId:C.sourceTabId,currentSectionId:C.sourceSectionId,tabs:m.tabs,onMove:ht,onCancel:()=>j(B=>({...B,isOpen:!1}))}),b.jsx(ME,{isOpen:G.isOpen,title:G.title,message:G.message,onConfirm:G.onConfirm,onCancel:()=>Z(B=>({...B,isOpen:!1}))}),b.jsx(qE,{isOpen:et,tabs:m.tabs,activeTabId:m.activeTabId,onClose:()=>lt(!1),onNavigate:be}),b.jsx(FE,{isOpen:N.isOpen,itemText:N.itemText,onClose:()=>A({isOpen:!1,itemText:""}),onConfirm:ft})]})},j_=document.getElementById("root");if(!j_)throw new Error("Could not find root element to mount to");const dA=TE.createRoot(j_);dA.render(b.jsx(G0.StrictMode,{children:b.jsx(SE,{clientId:"616885689767-lh1pp7kjs94vlq862kmq9fgq746cnbfg.apps.googleusercontent.com",children:b.jsx(fA,{})})}));
