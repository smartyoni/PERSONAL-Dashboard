(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const h of o)if(h.type==="childList")for(const d of h.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const h={};return o.integrity&&(h.integrity=o.integrity),o.referrerPolicy&&(h.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?h.credentials="include":o.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function r(o){if(o.ep)return;o.ep=!0;const h=i(o);fetch(o.href,h)}})();function P0(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var Df={exports:{}},Fl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _y;function lE(){if(_y)return Fl;_y=1;var a=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(r,o,h){var d=null;if(h!==void 0&&(d=""+h),o.key!==void 0&&(d=""+o.key),"key"in o){h={};for(var p in o)p!=="key"&&(h[p]=o[p])}else h=o;return o=h.ref,{$$typeof:a,type:r,key:d,ref:o!==void 0?o:null,props:h}}return Fl.Fragment=e,Fl.jsx=i,Fl.jsxs=i,Fl}var by;function oE(){return by||(by=1,Df.exports=lE()),Df.exports}var b=oE(),If={exports:{}},Rt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ey;function uE(){if(Ey)return Rt;Ey=1;var a=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),C=Symbol.iterator;function j(w){return w===null||typeof w!="object"?null:(w=C&&w[C]||w["@@iterator"],typeof w=="function"?w:null)}var H={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},it=Object.assign,k={};function X(w,G,$){this.props=w,this.context=G,this.refs=k,this.updater=$||H}X.prototype.isReactComponent={},X.prototype.setState=function(w,G){if(typeof w!="object"&&typeof w!="function"&&w!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,w,G,"setState")},X.prototype.forceUpdate=function(w){this.updater.enqueueForceUpdate(this,w,"forceUpdate")};function et(){}et.prototype=X.prototype;function ot(w,G,$){this.props=w,this.context=G,this.refs=k,this.updater=$||H}var ct=ot.prototype=new et;ct.constructor=ot,it(ct,X.prototype),ct.isPureReactComponent=!0;var Tt=Array.isArray;function wt(){}var I={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function R(w,G,$){var ft=$.ref;return{$$typeof:a,type:w,key:G,ref:ft!==void 0?ft:null,props:$}}function O(w,G){return R(w.type,G,w.props)}function V(w){return typeof w=="object"&&w!==null&&w.$$typeof===a}function L(w){var G={"=":"=0",":":"=2"};return"$"+w.replace(/[=:]/g,function($){return G[$]})}var D=/\/+/g;function Ht(w,G){return typeof w=="object"&&w!==null&&w.key!=null?L(""+w.key):G.toString(36)}function ce(w){switch(w.status){case"fulfilled":return w.value;case"rejected":throw w.reason;default:switch(typeof w.status=="string"?w.then(wt,wt):(w.status="pending",w.then(function(G){w.status==="pending"&&(w.status="fulfilled",w.value=G)},function(G){w.status==="pending"&&(w.status="rejected",w.reason=G)})),w.status){case"fulfilled":return w.value;case"rejected":throw w.reason}}throw w}function U(w,G,$,ft,bt){var It=typeof w;(It==="undefined"||It==="boolean")&&(w=null);var zt=!1;if(w===null)zt=!0;else switch(It){case"bigint":case"string":case"number":zt=!0;break;case"object":switch(w.$$typeof){case a:case e:zt=!0;break;case S:return zt=w._init,U(zt(w._payload),G,$,ft,bt)}}if(zt)return bt=bt(w),zt=ft===""?"."+Ht(w,0):ft,Tt(bt)?($="",zt!=null&&($=zt.replace(D,"$&/")+"/"),U(bt,G,$,"",function(bn){return bn})):bt!=null&&(V(bt)&&(bt=O(bt,$+(bt.key==null||w&&w.key===bt.key?"":(""+bt.key).replace(D,"$&/")+"/")+zt)),G.push(bt)),1;zt=0;var Te=ft===""?".":ft+":";if(Tt(w))for(var oe=0;oe<w.length;oe++)ft=w[oe],It=Te+Ht(ft,oe),zt+=U(ft,G,$,It,bt);else if(oe=j(w),typeof oe=="function")for(w=oe.call(w),oe=0;!(ft=w.next()).done;)ft=ft.value,It=Te+Ht(ft,oe++),zt+=U(ft,G,$,It,bt);else if(It==="object"){if(typeof w.then=="function")return U(ce(w),G,$,ft,bt);throw G=String(w),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(w).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.")}return zt}function at(w,G,$){if(w==null)return w;var ft=[],bt=0;return U(w,ft,"","",function(It){return G.call($,It,bt++)}),ft}function dt(w){if(w._status===-1){var G=w._result;G=G(),G.then(function($){(w._status===0||w._status===-1)&&(w._status=1,w._result=$)},function($){(w._status===0||w._status===-1)&&(w._status=2,w._result=$)}),w._status===-1&&(w._status=0,w._result=G)}if(w._status===1)return w._result.default;throw w._result}var Z=typeof reportError=="function"?reportError:function(w){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var G=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof w=="object"&&w!==null&&typeof w.message=="string"?String(w.message):String(w),error:w});if(!window.dispatchEvent(G))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",w);return}console.error(w)},ut={map:at,forEach:function(w,G,$){at(w,function(){G.apply(this,arguments)},$)},count:function(w){var G=0;return at(w,function(){G++}),G},toArray:function(w){return at(w,function(G){return G})||[]},only:function(w){if(!V(w))throw Error("React.Children.only expected to receive a single React element child.");return w}};return Rt.Activity=x,Rt.Children=ut,Rt.Component=X,Rt.Fragment=i,Rt.Profiler=o,Rt.PureComponent=ot,Rt.StrictMode=r,Rt.Suspense=y,Rt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,Rt.__COMPILER_RUNTIME={__proto__:null,c:function(w){return I.H.useMemoCache(w)}},Rt.cache=function(w){return function(){return w.apply(null,arguments)}},Rt.cacheSignal=function(){return null},Rt.cloneElement=function(w,G,$){if(w==null)throw Error("The argument must be a React element, but you passed "+w+".");var ft=it({},w.props),bt=w.key;if(G!=null)for(It in G.key!==void 0&&(bt=""+G.key),G)!A.call(G,It)||It==="key"||It==="__self"||It==="__source"||It==="ref"&&G.ref===void 0||(ft[It]=G[It]);var It=arguments.length-2;if(It===1)ft.children=$;else if(1<It){for(var zt=Array(It),Te=0;Te<It;Te++)zt[Te]=arguments[Te+2];ft.children=zt}return R(w.type,bt,ft)},Rt.createContext=function(w){return w={$$typeof:d,_currentValue:w,_currentValue2:w,_threadCount:0,Provider:null,Consumer:null},w.Provider=w,w.Consumer={$$typeof:h,_context:w},w},Rt.createElement=function(w,G,$){var ft,bt={},It=null;if(G!=null)for(ft in G.key!==void 0&&(It=""+G.key),G)A.call(G,ft)&&ft!=="key"&&ft!=="__self"&&ft!=="__source"&&(bt[ft]=G[ft]);var zt=arguments.length-2;if(zt===1)bt.children=$;else if(1<zt){for(var Te=Array(zt),oe=0;oe<zt;oe++)Te[oe]=arguments[oe+2];bt.children=Te}if(w&&w.defaultProps)for(ft in zt=w.defaultProps,zt)bt[ft]===void 0&&(bt[ft]=zt[ft]);return R(w,It,bt)},Rt.createRef=function(){return{current:null}},Rt.forwardRef=function(w){return{$$typeof:p,render:w}},Rt.isValidElement=V,Rt.lazy=function(w){return{$$typeof:S,_payload:{_status:-1,_result:w},_init:dt}},Rt.memo=function(w,G){return{$$typeof:_,type:w,compare:G===void 0?null:G}},Rt.startTransition=function(w){var G=I.T,$={};I.T=$;try{var ft=w(),bt=I.S;bt!==null&&bt($,ft),typeof ft=="object"&&ft!==null&&typeof ft.then=="function"&&ft.then(wt,Z)}catch(It){Z(It)}finally{G!==null&&$.types!==null&&(G.types=$.types),I.T=G}},Rt.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},Rt.use=function(w){return I.H.use(w)},Rt.useActionState=function(w,G,$){return I.H.useActionState(w,G,$)},Rt.useCallback=function(w,G){return I.H.useCallback(w,G)},Rt.useContext=function(w){return I.H.useContext(w)},Rt.useDebugValue=function(){},Rt.useDeferredValue=function(w,G){return I.H.useDeferredValue(w,G)},Rt.useEffect=function(w,G){return I.H.useEffect(w,G)},Rt.useEffectEvent=function(w){return I.H.useEffectEvent(w)},Rt.useId=function(){return I.H.useId()},Rt.useImperativeHandle=function(w,G,$){return I.H.useImperativeHandle(w,G,$)},Rt.useInsertionEffect=function(w,G){return I.H.useInsertionEffect(w,G)},Rt.useLayoutEffect=function(w,G){return I.H.useLayoutEffect(w,G)},Rt.useMemo=function(w,G){return I.H.useMemo(w,G)},Rt.useOptimistic=function(w,G){return I.H.useOptimistic(w,G)},Rt.useReducer=function(w,G,$){return I.H.useReducer(w,G,$)},Rt.useRef=function(w){return I.H.useRef(w)},Rt.useState=function(w){return I.H.useState(w)},Rt.useSyncExternalStore=function(w,G,$){return I.H.useSyncExternalStore(w,G,$)},Rt.useTransition=function(){return I.H.useTransition()},Rt.version="19.2.3",Rt}var Ty;function md(){return Ty||(Ty=1,If.exports=uE()),If.exports}var gt=md();const cE=P0(gt);var Nf={exports:{}},Gl={},Vf={exports:{}},Mf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sy;function hE(){return Sy||(Sy=1,(function(a){function e(U,at){var dt=U.length;U.push(at);t:for(;0<dt;){var Z=dt-1>>>1,ut=U[Z];if(0<o(ut,at))U[Z]=at,U[dt]=ut,dt=Z;else break t}}function i(U){return U.length===0?null:U[0]}function r(U){if(U.length===0)return null;var at=U[0],dt=U.pop();if(dt!==at){U[0]=dt;t:for(var Z=0,ut=U.length,w=ut>>>1;Z<w;){var G=2*(Z+1)-1,$=U[G],ft=G+1,bt=U[ft];if(0>o($,dt))ft<ut&&0>o(bt,$)?(U[Z]=bt,U[ft]=dt,Z=ft):(U[Z]=$,U[G]=dt,Z=G);else if(ft<ut&&0>o(bt,dt))U[Z]=bt,U[ft]=dt,Z=ft;else break t}}return at}function o(U,at){var dt=U.sortIndex-at.sortIndex;return dt!==0?dt:U.id-at.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;a.unstable_now=function(){return h.now()}}else{var d=Date,p=d.now();a.unstable_now=function(){return d.now()-p}}var y=[],_=[],S=1,x=null,C=3,j=!1,H=!1,it=!1,k=!1,X=typeof setTimeout=="function"?setTimeout:null,et=typeof clearTimeout=="function"?clearTimeout:null,ot=typeof setImmediate<"u"?setImmediate:null;function ct(U){for(var at=i(_);at!==null;){if(at.callback===null)r(_);else if(at.startTime<=U)r(_),at.sortIndex=at.expirationTime,e(y,at);else break;at=i(_)}}function Tt(U){if(it=!1,ct(U),!H)if(i(y)!==null)H=!0,wt||(wt=!0,L());else{var at=i(_);at!==null&&ce(Tt,at.startTime-U)}}var wt=!1,I=-1,A=5,R=-1;function O(){return k?!0:!(a.unstable_now()-R<A)}function V(){if(k=!1,wt){var U=a.unstable_now();R=U;var at=!0;try{t:{H=!1,it&&(it=!1,et(I),I=-1),j=!0;var dt=C;try{e:{for(ct(U),x=i(y);x!==null&&!(x.expirationTime>U&&O());){var Z=x.callback;if(typeof Z=="function"){x.callback=null,C=x.priorityLevel;var ut=Z(x.expirationTime<=U);if(U=a.unstable_now(),typeof ut=="function"){x.callback=ut,ct(U),at=!0;break e}x===i(y)&&r(y),ct(U)}else r(y);x=i(y)}if(x!==null)at=!0;else{var w=i(_);w!==null&&ce(Tt,w.startTime-U),at=!1}}break t}finally{x=null,C=dt,j=!1}at=void 0}}finally{at?L():wt=!1}}}var L;if(typeof ot=="function")L=function(){ot(V)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,Ht=D.port2;D.port1.onmessage=V,L=function(){Ht.postMessage(null)}}else L=function(){X(V,0)};function ce(U,at){I=X(function(){U(a.unstable_now())},at)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(U){U.callback=null},a.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<U?Math.floor(1e3/U):5},a.unstable_getCurrentPriorityLevel=function(){return C},a.unstable_next=function(U){switch(C){case 1:case 2:case 3:var at=3;break;default:at=C}var dt=C;C=at;try{return U()}finally{C=dt}},a.unstable_requestPaint=function(){k=!0},a.unstable_runWithPriority=function(U,at){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var dt=C;C=U;try{return at()}finally{C=dt}},a.unstable_scheduleCallback=function(U,at,dt){var Z=a.unstable_now();switch(typeof dt=="object"&&dt!==null?(dt=dt.delay,dt=typeof dt=="number"&&0<dt?Z+dt:Z):dt=Z,U){case 1:var ut=-1;break;case 2:ut=250;break;case 5:ut=1073741823;break;case 4:ut=1e4;break;default:ut=5e3}return ut=dt+ut,U={id:S++,callback:at,priorityLevel:U,startTime:dt,expirationTime:ut,sortIndex:-1},dt>Z?(U.sortIndex=dt,e(_,U),i(y)===null&&U===i(_)&&(it?(et(I),I=-1):it=!0,ce(Tt,dt-Z))):(U.sortIndex=ut,e(y,U),H||j||(H=!0,wt||(wt=!0,L()))),U},a.unstable_shouldYield=O,a.unstable_wrapCallback=function(U){var at=C;return function(){var dt=C;C=at;try{return U.apply(this,arguments)}finally{C=dt}}}})(Mf)),Mf}var xy;function fE(){return xy||(xy=1,Vf.exports=hE()),Vf.exports}var Of={exports:{}},nn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ay;function dE(){if(Ay)return nn;Ay=1;var a=md();function e(y){var _="https://react.dev/errors/"+y;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var S=2;S<arguments.length;S++)_+="&args[]="+encodeURIComponent(arguments[S])}return"Minified React error #"+y+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function h(y,_,S){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:x==null?null:""+x,children:y,containerInfo:_,implementation:S}}var d=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(y,_){if(y==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return nn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,nn.createPortal=function(y,_){var S=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(e(299));return h(y,_,null,S)},nn.flushSync=function(y){var _=d.T,S=r.p;try{if(d.T=null,r.p=2,y)return y()}finally{d.T=_,r.p=S,r.d.f()}},nn.preconnect=function(y,_){typeof y=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,r.d.C(y,_))},nn.prefetchDNS=function(y){typeof y=="string"&&r.d.D(y)},nn.preinit=function(y,_){if(typeof y=="string"&&_&&typeof _.as=="string"){var S=_.as,x=p(S,_.crossOrigin),C=typeof _.integrity=="string"?_.integrity:void 0,j=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;S==="style"?r.d.S(y,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:x,integrity:C,fetchPriority:j}):S==="script"&&r.d.X(y,{crossOrigin:x,integrity:C,fetchPriority:j,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},nn.preinitModule=function(y,_){if(typeof y=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var S=p(_.as,_.crossOrigin);r.d.M(y,{crossOrigin:S,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&r.d.M(y)},nn.preload=function(y,_){if(typeof y=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var S=_.as,x=p(S,_.crossOrigin);r.d.L(y,S,{crossOrigin:x,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},nn.preloadModule=function(y,_){if(typeof y=="string")if(_){var S=p(_.as,_.crossOrigin);r.d.m(y,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:S,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else r.d.m(y)},nn.requestFormReset=function(y){r.d.r(y)},nn.unstable_batchedUpdates=function(y,_){return y(_)},nn.useFormState=function(y,_,S){return d.H.useFormState(y,_,S)},nn.useFormStatus=function(){return d.H.useHostTransitionStatus()},nn.version="19.2.3",nn}var wy;function mE(){if(wy)return Of.exports;wy=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(e){console.error(e)}}return a(),Of.exports=dE(),Of.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cy;function gE(){if(Cy)return Gl;Cy=1;var a=fE(),e=md(),i=mE();function r(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function h(t){var n=t,s=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(s=n.return),t=n.return;while(t)}return n.tag===3?s:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function p(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function y(t){if(h(t)!==t)throw Error(r(188))}function _(t){var n=t.alternate;if(!n){if(n=h(t),n===null)throw Error(r(188));return n!==t?null:t}for(var s=t,l=n;;){var c=s.return;if(c===null)break;var f=c.alternate;if(f===null){if(l=c.return,l!==null){s=l;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===s)return y(c),t;if(f===l)return y(c),n;f=f.sibling}throw Error(r(188))}if(s.return!==l.return)s=c,l=f;else{for(var g=!1,E=c.child;E;){if(E===s){g=!0,s=c,l=f;break}if(E===l){g=!0,l=c,s=f;break}E=E.sibling}if(!g){for(E=f.child;E;){if(E===s){g=!0,s=f,l=c;break}if(E===l){g=!0,l=f,s=c;break}E=E.sibling}if(!g)throw Error(r(189))}}if(s.alternate!==l)throw Error(r(190))}if(s.tag!==3)throw Error(r(188));return s.stateNode.current===s?t:n}function S(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=S(t),n!==null)return n;t=t.sibling}return null}var x=Object.assign,C=Symbol.for("react.element"),j=Symbol.for("react.transitional.element"),H=Symbol.for("react.portal"),it=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),X=Symbol.for("react.profiler"),et=Symbol.for("react.consumer"),ot=Symbol.for("react.context"),ct=Symbol.for("react.forward_ref"),Tt=Symbol.for("react.suspense"),wt=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function L(t){return t===null||typeof t!="object"?null:(t=V&&t[V]||t["@@iterator"],typeof t=="function"?t:null)}var D=Symbol.for("react.client.reference");function Ht(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===D?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case it:return"Fragment";case X:return"Profiler";case k:return"StrictMode";case Tt:return"Suspense";case wt:return"SuspenseList";case R:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case H:return"Portal";case ot:return t.displayName||"Context";case et:return(t._context.displayName||"Context")+".Consumer";case ct:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case I:return n=t.displayName||null,n!==null?n:Ht(t.type)||"Memo";case A:n=t._payload,t=t._init;try{return Ht(t(n))}catch{}}return null}var ce=Array.isArray,U=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,at=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,dt={pending:!1,data:null,method:null,action:null},Z=[],ut=-1;function w(t){return{current:t}}function G(t){0>ut||(t.current=Z[ut],Z[ut]=null,ut--)}function $(t,n){ut++,Z[ut]=t.current,t.current=n}var ft=w(null),bt=w(null),It=w(null),zt=w(null);function Te(t,n){switch($(It,n),$(bt,t),$(ft,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?qp(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=qp(n),t=Hp(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}G(ft),$(ft,t)}function oe(){G(ft),G(bt),G(It)}function bn(t){t.memoizedState!==null&&$(zt,t);var n=ft.current,s=Hp(n,t.type);n!==s&&($(bt,t),$(ft,s))}function ss(t){bt.current===t&&(G(ft),G(bt)),zt.current===t&&(G(zt),Bl._currentValue=dt)}var as,rs;function Nn(t){if(as===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);as=n&&n[1]||"",rs=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+as+t+rs}var Qn=!1;function ri(t,n){if(!t||Qn)return"";Qn=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var nt=function(){throw Error()};if(Object.defineProperty(nt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(nt,[])}catch(K){var F=K}Reflect.construct(t,[],nt)}else{try{nt.call()}catch(K){F=K}t.call(nt.prototype)}}else{try{throw Error()}catch(K){F=K}(nt=t())&&typeof nt.catch=="function"&&nt.catch(function(){})}}catch(K){if(K&&F&&typeof K.stack=="string")return[K.stack,F.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),g=f[0],E=f[1];if(g&&E){var N=g.split(`
`),q=E.split(`
`);for(c=l=0;l<N.length&&!N[l].includes("DetermineComponentFrameRoot");)l++;for(;c<q.length&&!q[c].includes("DetermineComponentFrameRoot");)c++;if(l===N.length||c===q.length)for(l=N.length-1,c=q.length-1;1<=l&&0<=c&&N[l]!==q[c];)c--;for(;1<=l&&0<=c;l--,c--)if(N[l]!==q[c]){if(l!==1||c!==1)do if(l--,c--,0>c||N[l]!==q[c]){var J=`
`+N[l].replace(" at new "," at ");return t.displayName&&J.includes("<anonymous>")&&(J=J.replace("<anonymous>",t.displayName)),J}while(1<=l&&0<=c);break}}}finally{Qn=!1,Error.prepareStackTrace=s}return(s=t?t.displayName||t.name:"")?Nn(s):""}function ls(t,n){switch(t.tag){case 26:case 27:case 5:return Nn(t.type);case 16:return Nn("Lazy");case 13:return t.child!==n&&n!==null?Nn("Suspense Fallback"):Nn("Suspense");case 19:return Nn("SuspenseList");case 0:case 15:return ri(t.type,!1);case 11:return ri(t.type.render,!1);case 1:return ri(t.type,!0);case 31:return Nn("Activity");default:return""}}function Q(t){try{var n="",s=null;do n+=ls(t,s),s=t,t=t.return;while(t);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var W=Object.prototype.hasOwnProperty,lt=a.unstable_scheduleCallback,Ot=a.unstable_cancelCallback,ue=a.unstable_shouldYield,Ye=a.unstable_requestPaint,$t=a.unstable_now,Re=a.unstable_getCurrentPriorityLevel,li=a.unstable_ImmediatePriority,cn=a.unstable_UserBlockingPriority,Yn=a.unstable_NormalPriority,za=a.unstable_LowPriority,Js=a.unstable_IdlePriority,_t=a.log,$s=a.unstable_setDisableYieldValue,hn=null,De=null;function ln(t){if(typeof _t=="function"&&$s(t),De&&typeof De.setStrictMode=="function")try{De.setStrictMode(hn,t)}catch{}}var me=Math.clz32?Math.clz32:ta,Ws=Math.log,Oi=Math.LN2;function ta(t){return t>>>=0,t===0?32:31-(Ws(t)/Oi|0)|0}var En=256,oi=262144,Xt=4194304;function Se(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Qt(t,n,s){var l=t.pendingLanes;if(l===0)return 0;var c=0,f=t.suspendedLanes,g=t.pingedLanes;t=t.warmLanes;var E=l&134217727;return E!==0?(l=E&~f,l!==0?c=Se(l):(g&=E,g!==0?c=Se(g):s||(s=E&~t,s!==0&&(c=Se(s))))):(E=l&~f,E!==0?c=Se(E):g!==0?c=Se(g):s||(s=l&~t,s!==0&&(c=Se(s)))),c===0?0:n!==0&&n!==c&&(n&f)===0&&(f=c&-c,s=n&-n,f>=s||f===32&&(s&4194048)!==0)?n:c}function _e(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function ui(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ka(){var t=Xt;return Xt<<=1,(Xt&62914560)===0&&(Xt=4194304),t}function ci(t){for(var n=[],s=0;31>s;s++)n.push(t);return n}function ea(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Mc(t,n,s,l,c,f){var g=t.pendingLanes;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=s,t.entangledLanes&=s,t.errorRecoveryDisabledLanes&=s,t.shellSuspendCounter=0;var E=t.entanglements,N=t.expirationTimes,q=t.hiddenUpdates;for(s=g&~s;0<s;){var J=31-me(s),nt=1<<J;E[J]=0,N[J]=-1;var F=q[J];if(F!==null)for(q[J]=null,J=0;J<F.length;J++){var K=F[J];K!==null&&(K.lane&=-536870913)}s&=~nt}l!==0&&na(t,l,0),f!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=f&~(g&~n))}function na(t,n,s){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-me(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|s&261930}function Gr(t,n){var s=t.entangledLanes|=n;for(t=t.entanglements;s;){var l=31-me(s),c=1<<l;c&n|t[l]&n&&(t[l]|=n),s&=~c}}function Qr(t,n){var s=n&-n;return s=(s&42)!==0?1:ia(s),(s&(t.suspendedLanes|n))!==0?0:s}function ia(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function ji(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function To(){var t=at.p;return t!==0?t:(t=window.event,t===void 0?32:fy(t.type))}function Kn(t,n){var s=at.p;try{return at.p=t,n()}finally{at.p=s}}var Xn=Math.random().toString(36).slice(2),Ie="__reactFiber$"+Xn,He="__reactProps$"+Xn,hi="__reactContainer$"+Xn,Ua="__reactEvents$"+Xn,Oc="__reactListeners$"+Xn,So="__reactHandles$"+Xn,xo="__reactResources$"+Xn,fi="__reactMarker$"+Xn;function Ba(t){delete t[Ie],delete t[He],delete t[Ua],delete t[Oc],delete t[So]}function di(t){var n=t[Ie];if(n)return n;for(var s=t.parentNode;s;){if(n=s[hi]||s[Ie]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(t=Zp(t);t!==null;){if(s=t[Ie])return s;t=Zp(t)}return n}t=s,s=t.parentNode}return null}function Vn(t){if(t=t[Ie]||t[hi]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function Tn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(r(33))}function mi(t){var n=t[xo];return n||(n=t[xo]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Ne(t){t[fi]=!0}var Yr=new Set,Kr={};function gi(t,n){pi(t,n),pi(t+"Capture",n)}function pi(t,n){for(Kr[t]=n,t=0;t<n.length;t++)Yr.add(n[t])}var Xr=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Zr={},Jr={};function Ao(t){return W.call(Jr,t)?!0:W.call(Zr,t)?!1:Xr.test(t)?Jr[t]=!0:(Zr[t]=!0,!1)}function Pa(t,n,s){if(Ao(n))if(s===null)t.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+s)}}function Sn(t,n,s){if(s===null)t.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+s)}}function Ve(t,n,s,l){if(l===null)t.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttributeNS(n,s,""+l)}}function Fe(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function os(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function $r(t,n,s){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var c=l.get,f=l.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return c.call(this)},set:function(g){s=""+g,f.call(this,g)}}),Object.defineProperty(t,n,{enumerable:l.enumerable}),{getValue:function(){return s},setValue:function(g){s=""+g},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function te(t){if(!t._valueTracker){var n=os(t)?"checked":"value";t._valueTracker=$r(t,n,""+t[n])}}function sa(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var s=n.getValue(),l="";return t&&(l=os(t)?t.checked?"true":"false":t.value),t=l,t!==s?(n.setValue(t),!0):!1}function yi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var aa=/[\n"\\]/g;function fn(t){return t.replace(aa,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function qa(t,n,s,l,c,f,g,E){t.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?t.type=g:t.removeAttribute("type"),n!=null?g==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Fe(n)):t.value!==""+Fe(n)&&(t.value=""+Fe(n)):g!=="submit"&&g!=="reset"||t.removeAttribute("value"),n!=null?Wr(t,g,Fe(n)):s!=null?Wr(t,g,Fe(s)):l!=null&&t.removeAttribute("value"),c==null&&f!=null&&(t.defaultChecked=!!f),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+Fe(E):t.removeAttribute("name")}function wo(t,n,s,l,c,f,g,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){te(t);return}s=s!=null?""+Fe(s):"",n=n!=null?""+Fe(n):s,E||n===t.value||(t.value=n),t.defaultValue=n}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=E?t.checked:!!l,t.defaultChecked=!!l,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(t.name=g),te(t)}function Wr(t,n,s){n==="number"&&yi(t.ownerDocument)===t||t.defaultValue===""+s||(t.defaultValue=""+s)}function us(t,n,s,l){if(t=t.options,n){n={};for(var c=0;c<s.length;c++)n["$"+s[c]]=!0;for(s=0;s<t.length;s++)c=n.hasOwnProperty("$"+t[s].value),t[s].selected!==c&&(t[s].selected=c),c&&l&&(t[s].defaultSelected=!0)}else{for(s=""+Fe(s),n=null,c=0;c<t.length;c++){if(t[c].value===s){t[c].selected=!0,l&&(t[c].defaultSelected=!0);return}n!==null||t[c].disabled||(n=t[c])}n!==null&&(n.selected=!0)}}function Co(t,n,s){if(n!=null&&(n=""+Fe(n),n!==t.value&&(t.value=n),s==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=s!=null?""+Fe(s):""}function cs(t,n,s,l){if(n==null){if(l!=null){if(s!=null)throw Error(r(92));if(ce(l)){if(1<l.length)throw Error(r(93));l=l[0]}s=l}s==null&&(s=""),n=s}s=Fe(n),t.defaultValue=s,l=t.textContent,l===s&&l!==""&&l!==null&&(t.value=l),te(t)}function dn(t,n){if(n){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=n;return}}t.textContent=n}var Ro=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function tl(t,n,s){var l=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,s):typeof s!="number"||s===0||Ro.has(n)?n==="float"?t.cssFloat=s:t[n]=(""+s).trim():t[n]=s+"px"}function el(t,n,s){if(n!=null&&typeof n!="object")throw Error(r(62));if(t=t.style,s!=null){for(var l in s)!s.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var c in n)l=n[c],n.hasOwnProperty(c)&&s[c]!==l&&tl(t,c,l)}else for(var f in n)n.hasOwnProperty(f)&&tl(t,f,n[f])}function Ha(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Do=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),hs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Fa(t){return hs.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Zn(){}var nl=null;function Mn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var fs=null,vi=null;function ra(t){var n=Vn(t);if(n&&(t=n.stateNode)){var s=t[He]||null;t:switch(t=n.stateNode,n.type){case"input":if(qa(t,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+fn(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var l=s[n];if(l!==t&&l.form===t.form){var c=l[He]||null;if(!c)throw Error(r(90));qa(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<s.length;n++)l=s[n],l.form===t.form&&sa(l)}break t;case"textarea":Co(t,s.value,s.defaultValue);break t;case"select":n=s.value,n!=null&&us(t,!!s.multiple,n,!1)}}}var Ga=!1;function ds(t,n,s){if(Ga)return t(n,s);Ga=!0;try{var l=t(n);return l}finally{if(Ga=!1,(fs!==null||vi!==null)&&(Tu(),fs&&(n=fs,t=vi,vi=fs=null,ra(n),t)))for(n=0;n<t.length;n++)ra(t[n])}}function Jn(t,n){var s=t.stateNode;if(s===null)return null;var l=s[He]||null;if(l===null)return null;s=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(r(231,n,typeof s));return s}var On=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),la=!1;if(On)try{var ie={};Object.defineProperty(ie,"passive",{get:function(){la=!0}}),window.addEventListener("test",ie,ie),window.removeEventListener("test",ie,ie)}catch{la=!1}var _i=null,il=null,oa=null;function sl(){if(oa)return oa;var t,n=il,s=n.length,l,c="value"in _i?_i.value:_i.textContent,f=c.length;for(t=0;t<s&&n[t]===c[t];t++);var g=s-t;for(l=1;l<=g&&n[s-l]===c[f-l];l++);return oa=c.slice(t,1<l?1-l:void 0)}function ua(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Li(){return!0}function $n(){return!1}function Ke(t){function n(s,l,c,f,g){this._reactName=s,this._targetInst=c,this.type=l,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(s=t[E],this[E]=s?s(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Li:$n,this.isPropagationStopped=$n,this}return x(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Li)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Li)},persist:function(){},isPersistent:Li}),n}var zi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},bi=Ke(zi),ms=x({},zi,{view:0,detail:0}),al=Ke(ms),gs,Qa,Ei,Ya=x({},ms,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ps,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ei&&(Ei&&t.type==="mousemove"?(gs=t.screenX-Ei.screenX,Qa=t.screenY-Ei.screenY):Qa=gs=0,Ei=t),gs)},movementY:function(t){return"movementY"in t?t.movementY:Qa}}),rl=Ke(Ya),ca=x({},Ya,{dataTransfer:0}),Io=Ke(ca),No=x({},ms,{relatedTarget:0}),ha=Ke(No),ll=x({},zi,{animationName:0,elapsedTime:0,pseudoElement:0}),Vo=Ke(ll),Ka=x({},zi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Mo=Ke(Ka),Oo=x({},zi,{data:0}),Ti=Ke(Oo),jo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Lo={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},zo={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ko(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=zo[t])?!!n[t]:!1}function ps(){return ko}var on=x({},ms,{key:function(t){if(t.key){var n=jo[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=ua(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Lo[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ps,charCode:function(t){return t.type==="keypress"?ua(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ua(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Uo=Ke(on),Bo=x({},Ya,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ki=Ke(Bo),u=x({},ms,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ps}),m=Ke(u),v=x({},zi,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=Ke(v),B=x({},Ya,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Y=Ke(B),ht=x({},zi,{newState:0,oldState:0}),Nt=Ke(ht),xe=[9,13,27,32],Zt=On&&"CompositionEvent"in window,ge=null;On&&"documentMode"in document&&(ge=document.documentMode);var jn=On&&"TextEvent"in window&&!ge,Si=On&&(!Zt||ge&&8<ge&&11>=ge),Wn=" ",ti=!1;function fa(t,n){switch(t){case"keyup":return xe.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Xa(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Za=!1;function N_(t,n){switch(t){case"compositionend":return Xa(n);case"keypress":return n.which!==32?null:(ti=!0,Wn);case"textInput":return t=n.data,t===Wn&&ti?null:t;default:return null}}function V_(t,n){if(Za)return t==="compositionend"||!Zt&&fa(t,n)?(t=sl(),oa=il=_i=null,Za=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Si&&n.locale!=="ko"?null:n.data;default:return null}}var M_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wd(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!M_[t.type]:n==="textarea"}function tm(t,n,s,l){fs?vi?vi.push(l):vi=[l]:fs=l,n=Du(n,"onChange"),0<n.length&&(s=new bi("onChange","change",null,s,l),t.push({event:s,listeners:n}))}var ol=null,ul=null;function O_(t){Lp(t,0)}function Po(t){var n=Tn(t);if(sa(n))return t}function em(t,n){if(t==="change")return n}var nm=!1;if(On){var jc;if(On){var Lc="oninput"in document;if(!Lc){var im=document.createElement("div");im.setAttribute("oninput","return;"),Lc=typeof im.oninput=="function"}jc=Lc}else jc=!1;nm=jc&&(!document.documentMode||9<document.documentMode)}function sm(){ol&&(ol.detachEvent("onpropertychange",am),ul=ol=null)}function am(t){if(t.propertyName==="value"&&Po(ul)){var n=[];tm(n,ul,t,Mn(t)),ds(O_,n)}}function j_(t,n,s){t==="focusin"?(sm(),ol=n,ul=s,ol.attachEvent("onpropertychange",am)):t==="focusout"&&sm()}function L_(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Po(ul)}function z_(t,n){if(t==="click")return Po(n)}function k_(t,n){if(t==="input"||t==="change")return Po(n)}function U_(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var xn=typeof Object.is=="function"?Object.is:U_;function cl(t,n){if(xn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var s=Object.keys(t),l=Object.keys(n);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var c=s[l];if(!W.call(n,c)||!xn(t[c],n[c]))return!1}return!0}function rm(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function lm(t,n){var s=rm(t);t=0;for(var l;s;){if(s.nodeType===3){if(l=t+s.textContent.length,t<=n&&l>=n)return{node:s,offset:n-t};t=l}t:{for(;s;){if(s.nextSibling){s=s.nextSibling;break t}s=s.parentNode}s=void 0}s=rm(s)}}function om(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?om(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function um(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=yi(t.document);n instanceof t.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)t=n.contentWindow;else break;n=yi(t.document)}return n}function zc(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var B_=On&&"documentMode"in document&&11>=document.documentMode,Ja=null,kc=null,hl=null,Uc=!1;function cm(t,n,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Uc||Ja==null||Ja!==yi(l)||(l=Ja,"selectionStart"in l&&zc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),hl&&cl(hl,l)||(hl=l,l=Du(kc,"onSelect"),0<l.length&&(n=new bi("onSelect","select",null,n,s),t.push({event:n,listeners:l}),n.target=Ja)))}function da(t,n){var s={};return s[t.toLowerCase()]=n.toLowerCase(),s["Webkit"+t]="webkit"+n,s["Moz"+t]="moz"+n,s}var $a={animationend:da("Animation","AnimationEnd"),animationiteration:da("Animation","AnimationIteration"),animationstart:da("Animation","AnimationStart"),transitionrun:da("Transition","TransitionRun"),transitionstart:da("Transition","TransitionStart"),transitioncancel:da("Transition","TransitionCancel"),transitionend:da("Transition","TransitionEnd")},Bc={},hm={};On&&(hm=document.createElement("div").style,"AnimationEvent"in window||(delete $a.animationend.animation,delete $a.animationiteration.animation,delete $a.animationstart.animation),"TransitionEvent"in window||delete $a.transitionend.transition);function ma(t){if(Bc[t])return Bc[t];if(!$a[t])return t;var n=$a[t],s;for(s in n)if(n.hasOwnProperty(s)&&s in hm)return Bc[t]=n[s];return t}var fm=ma("animationend"),dm=ma("animationiteration"),mm=ma("animationstart"),P_=ma("transitionrun"),q_=ma("transitionstart"),H_=ma("transitioncancel"),gm=ma("transitionend"),pm=new Map,Pc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Pc.push("scrollEnd");function ei(t,n){pm.set(t,n),gi(n,[t])}var qo=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Ln=[],Wa=0,qc=0;function Ho(){for(var t=Wa,n=qc=Wa=0;n<t;){var s=Ln[n];Ln[n++]=null;var l=Ln[n];Ln[n++]=null;var c=Ln[n];Ln[n++]=null;var f=Ln[n];if(Ln[n++]=null,l!==null&&c!==null){var g=l.pending;g===null?c.next=c:(c.next=g.next,g.next=c),l.pending=c}f!==0&&ym(s,c,f)}}function Fo(t,n,s,l){Ln[Wa++]=t,Ln[Wa++]=n,Ln[Wa++]=s,Ln[Wa++]=l,qc|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Hc(t,n,s,l){return Fo(t,n,s,l),Go(t)}function ga(t,n){return Fo(t,null,null,n),Go(t)}function ym(t,n,s){t.lanes|=s;var l=t.alternate;l!==null&&(l.lanes|=s);for(var c=!1,f=t.return;f!==null;)f.childLanes|=s,l=f.alternate,l!==null&&(l.childLanes|=s),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(c=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,c&&n!==null&&(c=31-me(s),t=f.hiddenUpdates,l=t[c],l===null?t[c]=[n]:l.push(n),n.lane=s|536870912),f):null}function Go(t){if(50<Ml)throw Ml=0,$h=null,Error(r(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var tr={};function F_(t,n,s,l){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function An(t,n,s,l){return new F_(t,n,s,l)}function Fc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ui(t,n){var s=t.alternate;return s===null?(s=An(t.tag,n,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=n,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&65011712,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,n=t.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s.refCleanup=t.refCleanup,s}function vm(t,n){t.flags&=65011714;var s=t.alternate;return s===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=s.childLanes,t.lanes=s.lanes,t.child=s.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=s.memoizedProps,t.memoizedState=s.memoizedState,t.updateQueue=s.updateQueue,t.type=s.type,n=s.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Qo(t,n,s,l,c,f){var g=0;if(l=t,typeof t=="function")Fc(t)&&(g=1);else if(typeof t=="string")g=Xb(t,s,ft.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case R:return t=An(31,s,n,c),t.elementType=R,t.lanes=f,t;case it:return pa(s.children,c,f,n);case k:g=8,c|=24;break;case X:return t=An(12,s,n,c|2),t.elementType=X,t.lanes=f,t;case Tt:return t=An(13,s,n,c),t.elementType=Tt,t.lanes=f,t;case wt:return t=An(19,s,n,c),t.elementType=wt,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ot:g=10;break t;case et:g=9;break t;case ct:g=11;break t;case I:g=14;break t;case A:g=16,l=null;break t}g=29,s=Error(r(130,t===null?"null":typeof t,"")),l=null}return n=An(g,s,n,c),n.elementType=t,n.type=l,n.lanes=f,n}function pa(t,n,s,l){return t=An(7,t,l,n),t.lanes=s,t}function Gc(t,n,s){return t=An(6,t,null,n),t.lanes=s,t}function _m(t){var n=An(18,null,null,0);return n.stateNode=t,n}function Qc(t,n,s){return n=An(4,t.children!==null?t.children:[],t.key,n),n.lanes=s,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var bm=new WeakMap;function zn(t,n){if(typeof t=="object"&&t!==null){var s=bm.get(t);return s!==void 0?s:(n={value:t,source:n,stack:Q(n)},bm.set(t,n),n)}return{value:t,source:n,stack:Q(n)}}var er=[],nr=0,Yo=null,fl=0,kn=[],Un=0,ys=null,xi=1,Ai="";function Bi(t,n){er[nr++]=fl,er[nr++]=Yo,Yo=t,fl=n}function Em(t,n,s){kn[Un++]=xi,kn[Un++]=Ai,kn[Un++]=ys,ys=t;var l=xi;t=Ai;var c=32-me(l)-1;l&=~(1<<c),s+=1;var f=32-me(n)+c;if(30<f){var g=c-c%5;f=(l&(1<<g)-1).toString(32),l>>=g,c-=g,xi=1<<32-me(n)+c|s<<c|l,Ai=f+t}else xi=1<<f|s<<c|l,Ai=t}function Yc(t){t.return!==null&&(Bi(t,1),Em(t,1,0))}function Kc(t){for(;t===Yo;)Yo=er[--nr],er[nr]=null,fl=er[--nr],er[nr]=null;for(;t===ys;)ys=kn[--Un],kn[Un]=null,Ai=kn[--Un],kn[Un]=null,xi=kn[--Un],kn[Un]=null}function Tm(t,n){kn[Un++]=xi,kn[Un++]=Ai,kn[Un++]=ys,xi=n.id,Ai=n.overflow,ys=t}var Xe=null,he=null,qt=!1,vs=null,Bn=!1,Xc=Error(r(519));function _s(t){var n=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw dl(zn(n,t)),Xc}function Sm(t){var n=t.stateNode,s=t.type,l=t.memoizedProps;switch(n[Ie]=t,n[He]=l,s){case"dialog":Lt("cancel",n),Lt("close",n);break;case"iframe":case"object":case"embed":Lt("load",n);break;case"video":case"audio":for(s=0;s<jl.length;s++)Lt(jl[s],n);break;case"source":Lt("error",n);break;case"img":case"image":case"link":Lt("error",n),Lt("load",n);break;case"details":Lt("toggle",n);break;case"input":Lt("invalid",n),wo(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Lt("invalid",n);break;case"textarea":Lt("invalid",n),cs(n,l.value,l.defaultValue,l.children)}s=l.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||l.suppressHydrationWarning===!0||Bp(n.textContent,s)?(l.popover!=null&&(Lt("beforetoggle",n),Lt("toggle",n)),l.onScroll!=null&&Lt("scroll",n),l.onScrollEnd!=null&&Lt("scrollend",n),l.onClick!=null&&(n.onclick=Zn),n=!0):n=!1,n||_s(t,!0)}function xm(t){for(Xe=t.return;Xe;)switch(Xe.tag){case 5:case 31:case 13:Bn=!1;return;case 27:case 3:Bn=!0;return;default:Xe=Xe.return}}function ir(t){if(t!==Xe)return!1;if(!qt)return xm(t),qt=!0,!1;var n=t.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=t.type,s=!(s!=="form"&&s!=="button")||mf(t.type,t.memoizedProps)),s=!s),s&&he&&_s(t),xm(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));he=Xp(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));he=Xp(t)}else n===27?(n=he,Ms(t.type)?(t=_f,_f=null,he=t):he=n):he=Xe?qn(t.stateNode.nextSibling):null;return!0}function ya(){he=Xe=null,qt=!1}function Zc(){var t=vs;return t!==null&&(yn===null?yn=t:yn.push.apply(yn,t),vs=null),t}function dl(t){vs===null?vs=[t]:vs.push(t)}var Jc=w(null),va=null,Pi=null;function bs(t,n,s){$(Jc,n._currentValue),n._currentValue=s}function qi(t){t._currentValue=Jc.current,G(Jc)}function $c(t,n,s){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===s)break;t=t.return}}function Wc(t,n,s,l){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var f=c.dependencies;if(f!==null){var g=c.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=c;for(var N=0;N<n.length;N++)if(E.context===n[N]){f.lanes|=s,E=f.alternate,E!==null&&(E.lanes|=s),$c(f.return,s,t),l||(g=null);break t}f=E.next}}else if(c.tag===18){if(g=c.return,g===null)throw Error(r(341));g.lanes|=s,f=g.alternate,f!==null&&(f.lanes|=s),$c(g,s,t),g=null}else g=c.child;if(g!==null)g.return=c;else for(g=c;g!==null;){if(g===t){g=null;break}if(c=g.sibling,c!==null){c.return=g.return,g=c;break}g=g.return}c=g}}function sr(t,n,s,l){t=null;for(var c=n,f=!1;c!==null;){if(!f){if((c.flags&524288)!==0)f=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var g=c.alternate;if(g===null)throw Error(r(387));if(g=g.memoizedProps,g!==null){var E=c.type;xn(c.pendingProps.value,g.value)||(t!==null?t.push(E):t=[E])}}else if(c===zt.current){if(g=c.alternate,g===null)throw Error(r(387));g.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(Bl):t=[Bl])}c=c.return}t!==null&&Wc(n,t,s,l),n.flags|=262144}function Ko(t){for(t=t.firstContext;t!==null;){if(!xn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function _a(t){va=t,Pi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Ze(t){return Am(va,t)}function Xo(t,n){return va===null&&_a(t),Am(t,n)}function Am(t,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},Pi===null){if(t===null)throw Error(r(308));Pi=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Pi=Pi.next=n;return s}var G_=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(s,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(s){return s()})}},Q_=a.unstable_scheduleCallback,Y_=a.unstable_NormalPriority,Me={$$typeof:ot,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function th(){return{controller:new G_,data:new Map,refCount:0}}function ml(t){t.refCount--,t.refCount===0&&Q_(Y_,function(){t.controller.abort()})}var gl=null,eh=0,ar=0,rr=null;function K_(t,n){if(gl===null){var s=gl=[];eh=0,ar=af(),rr={status:"pending",value:void 0,then:function(l){s.push(l)}}}return eh++,n.then(wm,wm),n}function wm(){if(--eh===0&&gl!==null){rr!==null&&(rr.status="fulfilled");var t=gl;gl=null,ar=0,rr=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function X_(t,n){var s=[],l={status:"pending",value:null,reason:null,then:function(c){s.push(c)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var c=0;c<s.length;c++)(0,s[c])(n)},function(c){for(l.status="rejected",l.reason=c,c=0;c<s.length;c++)(0,s[c])(void 0)}),l}var Cm=U.S;U.S=function(t,n){cp=$t(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&K_(t,n),Cm!==null&&Cm(t,n)};var ba=w(null);function nh(){var t=ba.current;return t!==null?t:le.pooledCache}function Zo(t,n){n===null?$(ba,ba.current):$(ba,n.pool)}function Rm(){var t=nh();return t===null?null:{parent:Me._currentValue,pool:t}}var lr=Error(r(460)),ih=Error(r(474)),Jo=Error(r(542)),$o={then:function(){}};function Dm(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Im(t,n,s){switch(s=t[s],s===void 0?t.push(n):s!==n&&(n.then(Zn,Zn),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Vm(t),t;default:if(typeof n.status=="string")n.then(Zn,Zn);else{if(t=le,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=l}},function(l){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Vm(t),t}throw Ta=n,lr}}function Ea(t){try{var n=t._init;return n(t._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(Ta=s,lr):s}}var Ta=null;function Nm(){if(Ta===null)throw Error(r(459));var t=Ta;return Ta=null,t}function Vm(t){if(t===lr||t===Jo)throw Error(r(483))}var or=null,pl=0;function Wo(t){var n=pl;return pl+=1,or===null&&(or=[]),Im(or,t,n)}function yl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function tu(t,n){throw n.$$typeof===C?Error(r(525)):(t=Object.prototype.toString.call(n),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function Mm(t){function n(z,M){if(t){var P=z.deletions;P===null?(z.deletions=[M],z.flags|=16):P.push(M)}}function s(z,M){if(!t)return null;for(;M!==null;)n(z,M),M=M.sibling;return null}function l(z){for(var M=new Map;z!==null;)z.key!==null?M.set(z.key,z):M.set(z.index,z),z=z.sibling;return M}function c(z,M){return z=Ui(z,M),z.index=0,z.sibling=null,z}function f(z,M,P){return z.index=P,t?(P=z.alternate,P!==null?(P=P.index,P<M?(z.flags|=67108866,M):P):(z.flags|=67108866,M)):(z.flags|=1048576,M)}function g(z){return t&&z.alternate===null&&(z.flags|=67108866),z}function E(z,M,P,tt){return M===null||M.tag!==6?(M=Gc(P,z.mode,tt),M.return=z,M):(M=c(M,P),M.return=z,M)}function N(z,M,P,tt){var Et=P.type;return Et===it?J(z,M,P.props.children,tt,P.key):M!==null&&(M.elementType===Et||typeof Et=="object"&&Et!==null&&Et.$$typeof===A&&Ea(Et)===M.type)?(M=c(M,P.props),yl(M,P),M.return=z,M):(M=Qo(P.type,P.key,P.props,null,z.mode,tt),yl(M,P),M.return=z,M)}function q(z,M,P,tt){return M===null||M.tag!==4||M.stateNode.containerInfo!==P.containerInfo||M.stateNode.implementation!==P.implementation?(M=Qc(P,z.mode,tt),M.return=z,M):(M=c(M,P.children||[]),M.return=z,M)}function J(z,M,P,tt,Et){return M===null||M.tag!==7?(M=pa(P,z.mode,tt,Et),M.return=z,M):(M=c(M,P),M.return=z,M)}function nt(z,M,P){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=Gc(""+M,z.mode,P),M.return=z,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case j:return P=Qo(M.type,M.key,M.props,null,z.mode,P),yl(P,M),P.return=z,P;case H:return M=Qc(M,z.mode,P),M.return=z,M;case A:return M=Ea(M),nt(z,M,P)}if(ce(M)||L(M))return M=pa(M,z.mode,P,null),M.return=z,M;if(typeof M.then=="function")return nt(z,Wo(M),P);if(M.$$typeof===ot)return nt(z,Xo(z,M),P);tu(z,M)}return null}function F(z,M,P,tt){var Et=M!==null?M.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return Et!==null?null:E(z,M,""+P,tt);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case j:return P.key===Et?N(z,M,P,tt):null;case H:return P.key===Et?q(z,M,P,tt):null;case A:return P=Ea(P),F(z,M,P,tt)}if(ce(P)||L(P))return Et!==null?null:J(z,M,P,tt,null);if(typeof P.then=="function")return F(z,M,Wo(P),tt);if(P.$$typeof===ot)return F(z,M,Xo(z,P),tt);tu(z,P)}return null}function K(z,M,P,tt,Et){if(typeof tt=="string"&&tt!==""||typeof tt=="number"||typeof tt=="bigint")return z=z.get(P)||null,E(M,z,""+tt,Et);if(typeof tt=="object"&&tt!==null){switch(tt.$$typeof){case j:return z=z.get(tt.key===null?P:tt.key)||null,N(M,z,tt,Et);case H:return z=z.get(tt.key===null?P:tt.key)||null,q(M,z,tt,Et);case A:return tt=Ea(tt),K(z,M,P,tt,Et)}if(ce(tt)||L(tt))return z=z.get(P)||null,J(M,z,tt,Et,null);if(typeof tt.then=="function")return K(z,M,P,Wo(tt),Et);if(tt.$$typeof===ot)return K(z,M,P,Xo(M,tt),Et);tu(M,tt)}return null}function pt(z,M,P,tt){for(var Et=null,Yt=null,yt=M,Mt=M=0,Ut=null;yt!==null&&Mt<P.length;Mt++){yt.index>Mt?(Ut=yt,yt=null):Ut=yt.sibling;var Kt=F(z,yt,P[Mt],tt);if(Kt===null){yt===null&&(yt=Ut);break}t&&yt&&Kt.alternate===null&&n(z,yt),M=f(Kt,M,Mt),Yt===null?Et=Kt:Yt.sibling=Kt,Yt=Kt,yt=Ut}if(Mt===P.length)return s(z,yt),qt&&Bi(z,Mt),Et;if(yt===null){for(;Mt<P.length;Mt++)yt=nt(z,P[Mt],tt),yt!==null&&(M=f(yt,M,Mt),Yt===null?Et=yt:Yt.sibling=yt,Yt=yt);return qt&&Bi(z,Mt),Et}for(yt=l(yt);Mt<P.length;Mt++)Ut=K(yt,z,Mt,P[Mt],tt),Ut!==null&&(t&&Ut.alternate!==null&&yt.delete(Ut.key===null?Mt:Ut.key),M=f(Ut,M,Mt),Yt===null?Et=Ut:Yt.sibling=Ut,Yt=Ut);return t&&yt.forEach(function(ks){return n(z,ks)}),qt&&Bi(z,Mt),Et}function xt(z,M,P,tt){if(P==null)throw Error(r(151));for(var Et=null,Yt=null,yt=M,Mt=M=0,Ut=null,Kt=P.next();yt!==null&&!Kt.done;Mt++,Kt=P.next()){yt.index>Mt?(Ut=yt,yt=null):Ut=yt.sibling;var ks=F(z,yt,Kt.value,tt);if(ks===null){yt===null&&(yt=Ut);break}t&&yt&&ks.alternate===null&&n(z,yt),M=f(ks,M,Mt),Yt===null?Et=ks:Yt.sibling=ks,Yt=ks,yt=Ut}if(Kt.done)return s(z,yt),qt&&Bi(z,Mt),Et;if(yt===null){for(;!Kt.done;Mt++,Kt=P.next())Kt=nt(z,Kt.value,tt),Kt!==null&&(M=f(Kt,M,Mt),Yt===null?Et=Kt:Yt.sibling=Kt,Yt=Kt);return qt&&Bi(z,Mt),Et}for(yt=l(yt);!Kt.done;Mt++,Kt=P.next())Kt=K(yt,z,Mt,Kt.value,tt),Kt!==null&&(t&&Kt.alternate!==null&&yt.delete(Kt.key===null?Mt:Kt.key),M=f(Kt,M,Mt),Yt===null?Et=Kt:Yt.sibling=Kt,Yt=Kt);return t&&yt.forEach(function(rE){return n(z,rE)}),qt&&Bi(z,Mt),Et}function re(z,M,P,tt){if(typeof P=="object"&&P!==null&&P.type===it&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case j:t:{for(var Et=P.key;M!==null;){if(M.key===Et){if(Et=P.type,Et===it){if(M.tag===7){s(z,M.sibling),tt=c(M,P.props.children),tt.return=z,z=tt;break t}}else if(M.elementType===Et||typeof Et=="object"&&Et!==null&&Et.$$typeof===A&&Ea(Et)===M.type){s(z,M.sibling),tt=c(M,P.props),yl(tt,P),tt.return=z,z=tt;break t}s(z,M);break}else n(z,M);M=M.sibling}P.type===it?(tt=pa(P.props.children,z.mode,tt,P.key),tt.return=z,z=tt):(tt=Qo(P.type,P.key,P.props,null,z.mode,tt),yl(tt,P),tt.return=z,z=tt)}return g(z);case H:t:{for(Et=P.key;M!==null;){if(M.key===Et)if(M.tag===4&&M.stateNode.containerInfo===P.containerInfo&&M.stateNode.implementation===P.implementation){s(z,M.sibling),tt=c(M,P.children||[]),tt.return=z,z=tt;break t}else{s(z,M);break}else n(z,M);M=M.sibling}tt=Qc(P,z.mode,tt),tt.return=z,z=tt}return g(z);case A:return P=Ea(P),re(z,M,P,tt)}if(ce(P))return pt(z,M,P,tt);if(L(P)){if(Et=L(P),typeof Et!="function")throw Error(r(150));return P=Et.call(P),xt(z,M,P,tt)}if(typeof P.then=="function")return re(z,M,Wo(P),tt);if(P.$$typeof===ot)return re(z,M,Xo(z,P),tt);tu(z,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,M!==null&&M.tag===6?(s(z,M.sibling),tt=c(M,P),tt.return=z,z=tt):(s(z,M),tt=Gc(P,z.mode,tt),tt.return=z,z=tt),g(z)):s(z,M)}return function(z,M,P,tt){try{pl=0;var Et=re(z,M,P,tt);return or=null,Et}catch(yt){if(yt===lr||yt===Jo)throw yt;var Yt=An(29,yt,null,z.mode);return Yt.lanes=tt,Yt.return=z,Yt}finally{}}}var Sa=Mm(!0),Om=Mm(!1),Es=!1;function sh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ah(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Ts(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Ss(t,n,s){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Jt&2)!==0){var c=l.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),l.pending=n,n=Go(t),ym(t,null,s),n}return Fo(t,l,n,s),Go(t)}function vl(t,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,s|=l,n.lanes=s,Gr(t,s)}}function rh(t,n){var s=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var c=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var g={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?c=f=g:f=f.next=g,s=s.next}while(s!==null);f===null?c=f=n:f=f.next=n}else c=f=n;s={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=n:t.next=n,s.lastBaseUpdate=n}var lh=!1;function _l(){if(lh){var t=rr;if(t!==null)throw t}}function bl(t,n,s,l){lh=!1;var c=t.updateQueue;Es=!1;var f=c.firstBaseUpdate,g=c.lastBaseUpdate,E=c.shared.pending;if(E!==null){c.shared.pending=null;var N=E,q=N.next;N.next=null,g===null?f=q:g.next=q,g=N;var J=t.alternate;J!==null&&(J=J.updateQueue,E=J.lastBaseUpdate,E!==g&&(E===null?J.firstBaseUpdate=q:E.next=q,J.lastBaseUpdate=N))}if(f!==null){var nt=c.baseState;g=0,J=q=N=null,E=f;do{var F=E.lane&-536870913,K=F!==E.lane;if(K?(kt&F)===F:(l&F)===F){F!==0&&F===ar&&(lh=!0),J!==null&&(J=J.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var pt=t,xt=E;F=n;var re=s;switch(xt.tag){case 1:if(pt=xt.payload,typeof pt=="function"){nt=pt.call(re,nt,F);break t}nt=pt;break t;case 3:pt.flags=pt.flags&-65537|128;case 0:if(pt=xt.payload,F=typeof pt=="function"?pt.call(re,nt,F):pt,F==null)break t;nt=x({},nt,F);break t;case 2:Es=!0}}F=E.callback,F!==null&&(t.flags|=64,K&&(t.flags|=8192),K=c.callbacks,K===null?c.callbacks=[F]:K.push(F))}else K={lane:F,tag:E.tag,payload:E.payload,callback:E.callback,next:null},J===null?(q=J=K,N=nt):J=J.next=K,g|=F;if(E=E.next,E===null){if(E=c.shared.pending,E===null)break;K=E,E=K.next,K.next=null,c.lastBaseUpdate=K,c.shared.pending=null}}while(!0);J===null&&(N=nt),c.baseState=N,c.firstBaseUpdate=q,c.lastBaseUpdate=J,f===null&&(c.shared.lanes=0),Rs|=g,t.lanes=g,t.memoizedState=nt}}function jm(t,n){if(typeof t!="function")throw Error(r(191,t));t.call(n)}function Lm(t,n){var s=t.callbacks;if(s!==null)for(t.callbacks=null,t=0;t<s.length;t++)jm(s[t],n)}var ur=w(null),eu=w(0);function zm(t,n){t=Ji,$(eu,t),$(ur,n),Ji=t|n.baseLanes}function oh(){$(eu,Ji),$(ur,ur.current)}function uh(){Ji=eu.current,G(ur),G(eu)}var wn=w(null),Pn=null;function xs(t){var n=t.alternate;$(Ae,Ae.current&1),$(wn,t),Pn===null&&(n===null||ur.current!==null||n.memoizedState!==null)&&(Pn=t)}function ch(t){$(Ae,Ae.current),$(wn,t),Pn===null&&(Pn=t)}function km(t){t.tag===22?($(Ae,Ae.current),$(wn,t),Pn===null&&(Pn=t)):As()}function As(){$(Ae,Ae.current),$(wn,wn.current)}function Cn(t){G(wn),Pn===t&&(Pn=null),G(Ae)}var Ae=w(0);function nu(t){for(var n=t;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||yf(s)||vf(s)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Hi=0,Vt=null,se=null,Oe=null,iu=!1,cr=!1,xa=!1,su=0,El=0,hr=null,Z_=0;function be(){throw Error(r(321))}function hh(t,n){if(n===null)return!1;for(var s=0;s<n.length&&s<t.length;s++)if(!xn(t[s],n[s]))return!1;return!0}function fh(t,n,s,l,c,f){return Hi=f,Vt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,U.H=t===null||t.memoizedState===null?Eg:Ch,xa=!1,f=s(l,c),xa=!1,cr&&(f=Bm(n,s,l,c)),Um(t),f}function Um(t){U.H=xl;var n=se!==null&&se.next!==null;if(Hi=0,Oe=se=Vt=null,iu=!1,El=0,hr=null,n)throw Error(r(300));t===null||je||(t=t.dependencies,t!==null&&Ko(t)&&(je=!0))}function Bm(t,n,s,l){Vt=t;var c=0;do{if(cr&&(hr=null),El=0,cr=!1,25<=c)throw Error(r(301));if(c+=1,Oe=se=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}U.H=Tg,f=n(s,l)}while(cr);return f}function J_(){var t=U.H,n=t.useState()[0];return n=typeof n.then=="function"?Tl(n):n,t=t.useState()[0],(se!==null?se.memoizedState:null)!==t&&(Vt.flags|=1024),n}function dh(){var t=su!==0;return su=0,t}function mh(t,n,s){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~s}function gh(t){if(iu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}iu=!1}Hi=0,Oe=se=Vt=null,cr=!1,El=su=0,hr=null}function un(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Oe===null?Vt.memoizedState=Oe=t:Oe=Oe.next=t,Oe}function we(){if(se===null){var t=Vt.alternate;t=t!==null?t.memoizedState:null}else t=se.next;var n=Oe===null?Vt.memoizedState:Oe.next;if(n!==null)Oe=n,se=t;else{if(t===null)throw Vt.alternate===null?Error(r(467)):Error(r(310));se=t,t={memoizedState:se.memoizedState,baseState:se.baseState,baseQueue:se.baseQueue,queue:se.queue,next:null},Oe===null?Vt.memoizedState=Oe=t:Oe=Oe.next=t}return Oe}function au(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Tl(t){var n=El;return El+=1,hr===null&&(hr=[]),t=Im(hr,t,n),n=Vt,(Oe===null?n.memoizedState:Oe.next)===null&&(n=n.alternate,U.H=n===null||n.memoizedState===null?Eg:Ch),t}function ru(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Tl(t);if(t.$$typeof===ot)return Ze(t)}throw Error(r(438,String(t)))}function ph(t){var n=null,s=Vt.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var l=Vt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=au(),Vt.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(t),l=0;l<t;l++)s[l]=O;return n.index++,s}function Fi(t,n){return typeof n=="function"?n(t):n}function lu(t){var n=we();return yh(n,se,t)}function yh(t,n,s){var l=t.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=s;var c=t.baseQueue,f=l.pending;if(f!==null){if(c!==null){var g=c.next;c.next=f.next,f.next=g}n.baseQueue=c=f,l.pending=null}if(f=t.baseState,c===null)t.memoizedState=f;else{n=c.next;var E=g=null,N=null,q=n,J=!1;do{var nt=q.lane&-536870913;if(nt!==q.lane?(kt&nt)===nt:(Hi&nt)===nt){var F=q.revertLane;if(F===0)N!==null&&(N=N.next={lane:0,revertLane:0,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),nt===ar&&(J=!0);else if((Hi&F)===F){q=q.next,F===ar&&(J=!0);continue}else nt={lane:0,revertLane:q.revertLane,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},N===null?(E=N=nt,g=f):N=N.next=nt,Vt.lanes|=F,Rs|=F;nt=q.action,xa&&s(f,nt),f=q.hasEagerState?q.eagerState:s(f,nt)}else F={lane:nt,revertLane:q.revertLane,gesture:q.gesture,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},N===null?(E=N=F,g=f):N=N.next=F,Vt.lanes|=nt,Rs|=nt;q=q.next}while(q!==null&&q!==n);if(N===null?g=f:N.next=E,!xn(f,t.memoizedState)&&(je=!0,J&&(s=rr,s!==null)))throw s;t.memoizedState=f,t.baseState=g,t.baseQueue=N,l.lastRenderedState=f}return c===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function vh(t){var n=we(),s=n.queue;if(s===null)throw Error(r(311));s.lastRenderedReducer=t;var l=s.dispatch,c=s.pending,f=n.memoizedState;if(c!==null){s.pending=null;var g=c=c.next;do f=t(f,g.action),g=g.next;while(g!==c);xn(f,n.memoizedState)||(je=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),s.lastRenderedState=f}return[f,l]}function Pm(t,n,s){var l=Vt,c=we(),f=qt;if(f){if(s===void 0)throw Error(r(407));s=s()}else s=n();var g=!xn((se||c).memoizedState,s);if(g&&(c.memoizedState=s,je=!0),c=c.queue,Eh(Fm.bind(null,l,c,t),[t]),c.getSnapshot!==n||g||Oe!==null&&Oe.memoizedState.tag&1){if(l.flags|=2048,fr(9,{destroy:void 0},Hm.bind(null,l,c,s,n),null),le===null)throw Error(r(349));f||(Hi&127)!==0||qm(l,n,s)}return s}function qm(t,n,s){t.flags|=16384,t={getSnapshot:n,value:s},n=Vt.updateQueue,n===null?(n=au(),Vt.updateQueue=n,n.stores=[t]):(s=n.stores,s===null?n.stores=[t]:s.push(t))}function Hm(t,n,s,l){n.value=s,n.getSnapshot=l,Gm(n)&&Qm(t)}function Fm(t,n,s){return s(function(){Gm(n)&&Qm(t)})}function Gm(t){var n=t.getSnapshot;t=t.value;try{var s=n();return!xn(t,s)}catch{return!0}}function Qm(t){var n=ga(t,2);n!==null&&vn(n,t,2)}function _h(t){var n=un();if(typeof t=="function"){var s=t;if(t=s(),xa){ln(!0);try{s()}finally{ln(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fi,lastRenderedState:t},n}function Ym(t,n,s,l){return t.baseState=s,yh(t,se,typeof l=="function"?l:Fi)}function $_(t,n,s,l,c){if(cu(t))throw Error(r(485));if(t=n.action,t!==null){var f={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};U.T!==null?s(!0):f.isTransition=!1,l(f),s=n.pending,s===null?(f.next=n.pending=f,Km(n,f)):(f.next=s.next,n.pending=s.next=f)}}function Km(t,n){var s=n.action,l=n.payload,c=t.state;if(n.isTransition){var f=U.T,g={};U.T=g;try{var E=s(c,l),N=U.S;N!==null&&N(g,E),Xm(t,n,E)}catch(q){bh(t,n,q)}finally{f!==null&&g.types!==null&&(f.types=g.types),U.T=f}}else try{f=s(c,l),Xm(t,n,f)}catch(q){bh(t,n,q)}}function Xm(t,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(l){Zm(t,n,l)},function(l){return bh(t,n,l)}):Zm(t,n,s)}function Zm(t,n,s){n.status="fulfilled",n.value=s,Jm(n),t.state=s,n=t.pending,n!==null&&(s=n.next,s===n?t.pending=null:(s=s.next,n.next=s,Km(t,s)))}function bh(t,n,s){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=s,Jm(n),n=n.next;while(n!==l)}t.action=null}function Jm(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function $m(t,n){return n}function Wm(t,n){if(qt){var s=le.formState;if(s!==null){t:{var l=Vt;if(qt){if(he){e:{for(var c=he,f=Bn;c.nodeType!==8;){if(!f){c=null;break e}if(c=qn(c.nextSibling),c===null){c=null;break e}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){he=qn(c.nextSibling),l=c.data==="F!";break t}}_s(l)}l=!1}l&&(n=s[0])}}return s=un(),s.memoizedState=s.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:$m,lastRenderedState:n},s.queue=l,s=vg.bind(null,Vt,l),l.dispatch=s,l=_h(!1),f=wh.bind(null,Vt,!1,l.queue),l=un(),c={state:n,dispatch:null,action:t,pending:null},l.queue=c,s=$_.bind(null,Vt,c,f,s),c.dispatch=s,l.memoizedState=t,[n,s,!1]}function tg(t){var n=we();return eg(n,se,t)}function eg(t,n,s){if(n=yh(t,n,$m)[0],t=lu(Fi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=Tl(n)}catch(g){throw g===lr?Jo:g}else l=n;n=we();var c=n.queue,f=c.dispatch;return s!==n.memoizedState&&(Vt.flags|=2048,fr(9,{destroy:void 0},W_.bind(null,c,s),null)),[l,f,t]}function W_(t,n){t.action=n}function ng(t){var n=we(),s=se;if(s!==null)return eg(n,s,t);we(),n=n.memoizedState,s=we();var l=s.queue.dispatch;return s.memoizedState=t,[n,l,!1]}function fr(t,n,s,l){return t={tag:t,create:s,deps:l,inst:n,next:null},n=Vt.updateQueue,n===null&&(n=au(),Vt.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=t.next=t:(l=s.next,s.next=t,t.next=l,n.lastEffect=t),t}function ig(){return we().memoizedState}function ou(t,n,s,l){var c=un();Vt.flags|=t,c.memoizedState=fr(1|n,{destroy:void 0},s,l===void 0?null:l)}function uu(t,n,s,l){var c=we();l=l===void 0?null:l;var f=c.memoizedState.inst;se!==null&&l!==null&&hh(l,se.memoizedState.deps)?c.memoizedState=fr(n,f,s,l):(Vt.flags|=t,c.memoizedState=fr(1|n,f,s,l))}function sg(t,n){ou(8390656,8,t,n)}function Eh(t,n){uu(2048,8,t,n)}function tb(t){Vt.flags|=4;var n=Vt.updateQueue;if(n===null)n=au(),Vt.updateQueue=n,n.events=[t];else{var s=n.events;s===null?n.events=[t]:s.push(t)}}function ag(t){var n=we().memoizedState;return tb({ref:n,nextImpl:t}),function(){if((Jt&2)!==0)throw Error(r(440));return n.impl.apply(void 0,arguments)}}function rg(t,n){return uu(4,2,t,n)}function lg(t,n){return uu(4,4,t,n)}function og(t,n){if(typeof n=="function"){t=t();var s=n(t);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function ug(t,n,s){s=s!=null?s.concat([t]):null,uu(4,4,og.bind(null,n,t),s)}function Th(){}function cg(t,n){var s=we();n=n===void 0?null:n;var l=s.memoizedState;return n!==null&&hh(n,l[1])?l[0]:(s.memoizedState=[t,n],t)}function hg(t,n){var s=we();n=n===void 0?null:n;var l=s.memoizedState;if(n!==null&&hh(n,l[1]))return l[0];if(l=t(),xa){ln(!0);try{t()}finally{ln(!1)}}return s.memoizedState=[l,n],l}function Sh(t,n,s){return s===void 0||(Hi&1073741824)!==0&&(kt&261930)===0?t.memoizedState=n:(t.memoizedState=s,t=fp(),Vt.lanes|=t,Rs|=t,s)}function fg(t,n,s,l){return xn(s,n)?s:ur.current!==null?(t=Sh(t,s,l),xn(t,n)||(je=!0),t):(Hi&42)===0||(Hi&1073741824)!==0&&(kt&261930)===0?(je=!0,t.memoizedState=s):(t=fp(),Vt.lanes|=t,Rs|=t,n)}function dg(t,n,s,l,c){var f=at.p;at.p=f!==0&&8>f?f:8;var g=U.T,E={};U.T=E,wh(t,!1,n,s);try{var N=c(),q=U.S;if(q!==null&&q(E,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var J=X_(N,l);Sl(t,n,J,In(t))}else Sl(t,n,l,In(t))}catch(nt){Sl(t,n,{then:function(){},status:"rejected",reason:nt},In())}finally{at.p=f,g!==null&&E.types!==null&&(g.types=E.types),U.T=g}}function eb(){}function xh(t,n,s,l){if(t.tag!==5)throw Error(r(476));var c=mg(t).queue;dg(t,c,n,dt,s===null?eb:function(){return gg(t),s(l)})}function mg(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:dt,baseState:dt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fi,lastRenderedState:dt},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fi,lastRenderedState:s},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function gg(t){var n=mg(t);n.next===null&&(n=t.alternate.memoizedState),Sl(t,n.next.queue,{},In())}function Ah(){return Ze(Bl)}function pg(){return we().memoizedState}function yg(){return we().memoizedState}function nb(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var s=In();t=Ts(s);var l=Ss(n,t,s);l!==null&&(vn(l,n,s),vl(l,n,s)),n={cache:th()},t.payload=n;return}n=n.return}}function ib(t,n,s){var l=In();s={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},cu(t)?_g(n,s):(s=Hc(t,n,s,l),s!==null&&(vn(s,t,l),bg(s,n,l)))}function vg(t,n,s){var l=In();Sl(t,n,s,l)}function Sl(t,n,s,l){var c={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(cu(t))_g(n,c);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,E=f(g,s);if(c.hasEagerState=!0,c.eagerState=E,xn(E,g))return Fo(t,n,c,0),le===null&&Ho(),!1}catch{}finally{}if(s=Hc(t,n,c,l),s!==null)return vn(s,t,l),bg(s,n,l),!0}return!1}function wh(t,n,s,l){if(l={lane:2,revertLane:af(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},cu(t)){if(n)throw Error(r(479))}else n=Hc(t,s,l,2),n!==null&&vn(n,t,2)}function cu(t){var n=t.alternate;return t===Vt||n!==null&&n===Vt}function _g(t,n){cr=iu=!0;var s=t.pending;s===null?n.next=n:(n.next=s.next,s.next=n),t.pending=n}function bg(t,n,s){if((s&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,s|=l,n.lanes=s,Gr(t,s)}}var xl={readContext:Ze,use:ru,useCallback:be,useContext:be,useEffect:be,useImperativeHandle:be,useLayoutEffect:be,useInsertionEffect:be,useMemo:be,useReducer:be,useRef:be,useState:be,useDebugValue:be,useDeferredValue:be,useTransition:be,useSyncExternalStore:be,useId:be,useHostTransitionStatus:be,useFormState:be,useActionState:be,useOptimistic:be,useMemoCache:be,useCacheRefresh:be};xl.useEffectEvent=be;var Eg={readContext:Ze,use:ru,useCallback:function(t,n){return un().memoizedState=[t,n===void 0?null:n],t},useContext:Ze,useEffect:sg,useImperativeHandle:function(t,n,s){s=s!=null?s.concat([t]):null,ou(4194308,4,og.bind(null,n,t),s)},useLayoutEffect:function(t,n){return ou(4194308,4,t,n)},useInsertionEffect:function(t,n){ou(4,2,t,n)},useMemo:function(t,n){var s=un();n=n===void 0?null:n;var l=t();if(xa){ln(!0);try{t()}finally{ln(!1)}}return s.memoizedState=[l,n],l},useReducer:function(t,n,s){var l=un();if(s!==void 0){var c=s(n);if(xa){ln(!0);try{s(n)}finally{ln(!1)}}}else c=n;return l.memoizedState=l.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},l.queue=t,t=t.dispatch=ib.bind(null,Vt,t),[l.memoizedState,t]},useRef:function(t){var n=un();return t={current:t},n.memoizedState=t},useState:function(t){t=_h(t);var n=t.queue,s=vg.bind(null,Vt,n);return n.dispatch=s,[t.memoizedState,s]},useDebugValue:Th,useDeferredValue:function(t,n){var s=un();return Sh(s,t,n)},useTransition:function(){var t=_h(!1);return t=dg.bind(null,Vt,t.queue,!0,!1),un().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,s){var l=Vt,c=un();if(qt){if(s===void 0)throw Error(r(407));s=s()}else{if(s=n(),le===null)throw Error(r(349));(kt&127)!==0||qm(l,n,s)}c.memoizedState=s;var f={value:s,getSnapshot:n};return c.queue=f,sg(Fm.bind(null,l,f,t),[t]),l.flags|=2048,fr(9,{destroy:void 0},Hm.bind(null,l,f,s,n),null),s},useId:function(){var t=un(),n=le.identifierPrefix;if(qt){var s=Ai,l=xi;s=(l&~(1<<32-me(l)-1)).toString(32)+s,n="_"+n+"R_"+s,s=su++,0<s&&(n+="H"+s.toString(32)),n+="_"}else s=Z_++,n="_"+n+"r_"+s.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:Ah,useFormState:Wm,useActionState:Wm,useOptimistic:function(t){var n=un();n.memoizedState=n.baseState=t;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=wh.bind(null,Vt,!0,s),s.dispatch=n,[t,n]},useMemoCache:ph,useCacheRefresh:function(){return un().memoizedState=nb.bind(null,Vt)},useEffectEvent:function(t){var n=un(),s={impl:t};return n.memoizedState=s,function(){if((Jt&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}},Ch={readContext:Ze,use:ru,useCallback:cg,useContext:Ze,useEffect:Eh,useImperativeHandle:ug,useInsertionEffect:rg,useLayoutEffect:lg,useMemo:hg,useReducer:lu,useRef:ig,useState:function(){return lu(Fi)},useDebugValue:Th,useDeferredValue:function(t,n){var s=we();return fg(s,se.memoizedState,t,n)},useTransition:function(){var t=lu(Fi)[0],n=we().memoizedState;return[typeof t=="boolean"?t:Tl(t),n]},useSyncExternalStore:Pm,useId:pg,useHostTransitionStatus:Ah,useFormState:tg,useActionState:tg,useOptimistic:function(t,n){var s=we();return Ym(s,se,t,n)},useMemoCache:ph,useCacheRefresh:yg};Ch.useEffectEvent=ag;var Tg={readContext:Ze,use:ru,useCallback:cg,useContext:Ze,useEffect:Eh,useImperativeHandle:ug,useInsertionEffect:rg,useLayoutEffect:lg,useMemo:hg,useReducer:vh,useRef:ig,useState:function(){return vh(Fi)},useDebugValue:Th,useDeferredValue:function(t,n){var s=we();return se===null?Sh(s,t,n):fg(s,se.memoizedState,t,n)},useTransition:function(){var t=vh(Fi)[0],n=we().memoizedState;return[typeof t=="boolean"?t:Tl(t),n]},useSyncExternalStore:Pm,useId:pg,useHostTransitionStatus:Ah,useFormState:ng,useActionState:ng,useOptimistic:function(t,n){var s=we();return se!==null?Ym(s,se,t,n):(s.baseState=t,[t,s.queue.dispatch])},useMemoCache:ph,useCacheRefresh:yg};Tg.useEffectEvent=ag;function Rh(t,n,s,l){n=t.memoizedState,s=s(l,n),s=s==null?n:x({},n,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var Dh={enqueueSetState:function(t,n,s){t=t._reactInternals;var l=In(),c=Ts(l);c.payload=n,s!=null&&(c.callback=s),n=Ss(t,c,l),n!==null&&(vn(n,t,l),vl(n,t,l))},enqueueReplaceState:function(t,n,s){t=t._reactInternals;var l=In(),c=Ts(l);c.tag=1,c.payload=n,s!=null&&(c.callback=s),n=Ss(t,c,l),n!==null&&(vn(n,t,l),vl(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var s=In(),l=Ts(s);l.tag=2,n!=null&&(l.callback=n),n=Ss(t,l,s),n!==null&&(vn(n,t,s),vl(n,t,s))}};function Sg(t,n,s,l,c,f,g){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,g):n.prototype&&n.prototype.isPureReactComponent?!cl(s,l)||!cl(c,f):!0}function xg(t,n,s,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,l),n.state!==t&&Dh.enqueueReplaceState(n,n.state,null)}function Aa(t,n){var s=n;if("ref"in n){s={};for(var l in n)l!=="ref"&&(s[l]=n[l])}if(t=t.defaultProps){s===n&&(s=x({},s));for(var c in t)s[c]===void 0&&(s[c]=t[c])}return s}function Ag(t){qo(t)}function wg(t){console.error(t)}function Cg(t){qo(t)}function hu(t,n){try{var s=t.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Rg(t,n,s){try{var l=t.onCaughtError;l(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function Ih(t,n,s){return s=Ts(s),s.tag=3,s.payload={element:null},s.callback=function(){hu(t,n)},s}function Dg(t){return t=Ts(t),t.tag=3,t}function Ig(t,n,s,l){var c=s.type.getDerivedStateFromError;if(typeof c=="function"){var f=l.value;t.payload=function(){return c(f)},t.callback=function(){Rg(n,s,l)}}var g=s.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(t.callback=function(){Rg(n,s,l),typeof c!="function"&&(Ds===null?Ds=new Set([this]):Ds.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function sb(t,n,s,l,c){if(s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=s.alternate,n!==null&&sr(n,s,c,!0),s=wn.current,s!==null){switch(s.tag){case 31:case 13:return Pn===null?Su():s.alternate===null&&Ee===0&&(Ee=3),s.flags&=-257,s.flags|=65536,s.lanes=c,l===$o?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([l]):n.add(l),ef(t,l,c)),!1;case 22:return s.flags|=65536,l===$o?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([l]):s.add(l)),ef(t,l,c)),!1}throw Error(r(435,s.tag))}return ef(t,l,c),Su(),!1}if(qt)return n=wn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,l!==Xc&&(t=Error(r(422),{cause:l}),dl(zn(t,s)))):(l!==Xc&&(n=Error(r(423),{cause:l}),dl(zn(n,s))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,l=zn(l,s),c=Ih(t.stateNode,l,c),rh(t,c),Ee!==4&&(Ee=2)),!1;var f=Error(r(520),{cause:l});if(f=zn(f,s),Vl===null?Vl=[f]:Vl.push(f),Ee!==4&&(Ee=2),n===null)return!0;l=zn(l,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,t=c&-c,s.lanes|=t,t=Ih(s.stateNode,l,t),rh(s,t),!1;case 1:if(n=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Ds===null||!Ds.has(f))))return s.flags|=65536,c&=-c,s.lanes|=c,c=Dg(c),Ig(c,t,s,l),rh(s,c),!1}s=s.return}while(s!==null);return!1}var Nh=Error(r(461)),je=!1;function Je(t,n,s,l){n.child=t===null?Om(n,null,s,l):Sa(n,t.child,s,l)}function Ng(t,n,s,l,c){s=s.render;var f=n.ref;if("ref"in l){var g={};for(var E in l)E!=="ref"&&(g[E]=l[E])}else g=l;return _a(n),l=fh(t,n,s,g,f,c),E=dh(),t!==null&&!je?(mh(t,n,c),Gi(t,n,c)):(qt&&E&&Yc(n),n.flags|=1,Je(t,n,l,c),n.child)}function Vg(t,n,s,l,c){if(t===null){var f=s.type;return typeof f=="function"&&!Fc(f)&&f.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=f,Mg(t,n,f,l,c)):(t=Qo(s.type,null,l,n,n.mode,c),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!Uh(t,c)){var g=f.memoizedProps;if(s=s.compare,s=s!==null?s:cl,s(g,l)&&t.ref===n.ref)return Gi(t,n,c)}return n.flags|=1,t=Ui(f,l),t.ref=n.ref,t.return=n,n.child=t}function Mg(t,n,s,l,c){if(t!==null){var f=t.memoizedProps;if(cl(f,l)&&t.ref===n.ref)if(je=!1,n.pendingProps=l=f,Uh(t,c))(t.flags&131072)!==0&&(je=!0);else return n.lanes=t.lanes,Gi(t,n,c)}return Vh(t,n,s,l,c)}function Og(t,n,s,l){var c=l.children,f=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|s:s,t!==null){for(l=n.child=t.child,c=0;l!==null;)c=c|l.lanes|l.childLanes,l=l.sibling;l=c&~f}else l=0,n.child=null;return jg(t,n,f,s,l)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Zo(n,f!==null?f.cachePool:null),f!==null?zm(n,f):oh(),km(n);else return l=n.lanes=536870912,jg(t,n,f!==null?f.baseLanes|s:s,s,l)}else f!==null?(Zo(n,f.cachePool),zm(n,f),As(),n.memoizedState=null):(t!==null&&Zo(n,null),oh(),As());return Je(t,n,c,s),n.child}function Al(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function jg(t,n,s,l,c){var f=nh();return f=f===null?null:{parent:Me._currentValue,pool:f},n.memoizedState={baseLanes:s,cachePool:f},t!==null&&Zo(n,null),oh(),km(n),t!==null&&sr(t,n,l,!0),n.childLanes=c,null}function fu(t,n){return n=mu({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function Lg(t,n,s){return Sa(n,t.child,null,s),t=fu(n,n.pendingProps),t.flags|=2,Cn(n),n.memoizedState=null,t}function ab(t,n,s){var l=n.pendingProps,c=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(qt){if(l.mode==="hidden")return t=fu(n,l),n.lanes=536870912,Al(null,t);if(ch(n),(t=he)?(t=Kp(t,Bn),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:ys!==null?{id:xi,overflow:Ai}:null,retryLane:536870912,hydrationErrors:null},s=_m(t),s.return=n,n.child=s,Xe=n,he=null)):t=null,t===null)throw _s(n);return n.lanes=536870912,null}return fu(n,l)}var f=t.memoizedState;if(f!==null){var g=f.dehydrated;if(ch(n),c)if(n.flags&256)n.flags&=-257,n=Lg(t,n,s);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(r(558));else if(je||sr(t,n,s,!1),c=(s&t.childLanes)!==0,je||c){if(l=le,l!==null&&(g=Qr(l,s),g!==0&&g!==f.retryLane))throw f.retryLane=g,ga(t,g),vn(l,t,g),Nh;Su(),n=Lg(t,n,s)}else t=f.treeContext,he=qn(g.nextSibling),Xe=n,qt=!0,vs=null,Bn=!1,t!==null&&Tm(n,t),n=fu(n,l),n.flags|=4096;return n}return t=Ui(t.child,{mode:l.mode,children:l.children}),t.ref=n.ref,n.child=t,t.return=n,t}function du(t,n){var s=n.ref;if(s===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(r(284));(t===null||t.ref!==s)&&(n.flags|=4194816)}}function Vh(t,n,s,l,c){return _a(n),s=fh(t,n,s,l,void 0,c),l=dh(),t!==null&&!je?(mh(t,n,c),Gi(t,n,c)):(qt&&l&&Yc(n),n.flags|=1,Je(t,n,s,c),n.child)}function zg(t,n,s,l,c,f){return _a(n),n.updateQueue=null,s=Bm(n,l,s,c),Um(t),l=dh(),t!==null&&!je?(mh(t,n,f),Gi(t,n,f)):(qt&&l&&Yc(n),n.flags|=1,Je(t,n,s,f),n.child)}function kg(t,n,s,l,c){if(_a(n),n.stateNode===null){var f=tr,g=s.contextType;typeof g=="object"&&g!==null&&(f=Ze(g)),f=new s(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Dh,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},sh(n),g=s.contextType,f.context=typeof g=="object"&&g!==null?Ze(g):tr,f.state=n.memoizedState,g=s.getDerivedStateFromProps,typeof g=="function"&&(Rh(n,s,g,l),f.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&Dh.enqueueReplaceState(f,f.state,null),bl(n,l,f,c),_l(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var E=n.memoizedProps,N=Aa(s,E);f.props=N;var q=f.context,J=s.contextType;g=tr,typeof J=="object"&&J!==null&&(g=Ze(J));var nt=s.getDerivedStateFromProps;J=typeof nt=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,J||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||q!==g)&&xg(n,f,l,g),Es=!1;var F=n.memoizedState;f.state=F,bl(n,l,f,c),_l(),q=n.memoizedState,E||F!==q||Es?(typeof nt=="function"&&(Rh(n,s,nt,l),q=n.memoizedState),(N=Es||Sg(n,s,N,l,F,q,g))?(J||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=q),f.props=l,f.state=q,f.context=g,l=N):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,ah(t,n),g=n.memoizedProps,J=Aa(s,g),f.props=J,nt=n.pendingProps,F=f.context,q=s.contextType,N=tr,typeof q=="object"&&q!==null&&(N=Ze(q)),E=s.getDerivedStateFromProps,(q=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==nt||F!==N)&&xg(n,f,l,N),Es=!1,F=n.memoizedState,f.state=F,bl(n,l,f,c),_l();var K=n.memoizedState;g!==nt||F!==K||Es||t!==null&&t.dependencies!==null&&Ko(t.dependencies)?(typeof E=="function"&&(Rh(n,s,E,l),K=n.memoizedState),(J=Es||Sg(n,s,J,l,F,K,N)||t!==null&&t.dependencies!==null&&Ko(t.dependencies))?(q||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,K,N),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,K,N)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&F===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&F===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=K),f.props=l,f.state=K,f.context=N,l=J):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&F===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&F===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,du(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,s=l&&typeof s.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=Sa(n,t.child,null,c),n.child=Sa(n,null,s,c)):Je(t,n,s,c),n.memoizedState=f.state,t=n.child):t=Gi(t,n,c),t}function Ug(t,n,s,l){return ya(),n.flags|=256,Je(t,n,s,l),n.child}var Mh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Oh(t){return{baseLanes:t,cachePool:Rm()}}function jh(t,n,s){return t=t!==null?t.childLanes&~s:0,n&&(t|=Dn),t}function Bg(t,n,s){var l=n.pendingProps,c=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=t!==null&&t.memoizedState===null?!1:(Ae.current&2)!==0),g&&(c=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,t===null){if(qt){if(c?xs(n):As(),(t=he)?(t=Kp(t,Bn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:ys!==null?{id:xi,overflow:Ai}:null,retryLane:536870912,hydrationErrors:null},s=_m(t),s.return=n,n.child=s,Xe=n,he=null)):t=null,t===null)throw _s(n);return vf(t)?n.lanes=32:n.lanes=536870912,null}var E=l.children;return l=l.fallback,c?(As(),c=n.mode,E=mu({mode:"hidden",children:E},c),l=pa(l,c,s,null),E.return=n,l.return=n,E.sibling=l,n.child=E,l=n.child,l.memoizedState=Oh(s),l.childLanes=jh(t,g,s),n.memoizedState=Mh,Al(null,l)):(xs(n),Lh(n,E))}var N=t.memoizedState;if(N!==null&&(E=N.dehydrated,E!==null)){if(f)n.flags&256?(xs(n),n.flags&=-257,n=zh(t,n,s)):n.memoizedState!==null?(As(),n.child=t.child,n.flags|=128,n=null):(As(),E=l.fallback,c=n.mode,l=mu({mode:"visible",children:l.children},c),E=pa(E,c,s,null),E.flags|=2,l.return=n,E.return=n,l.sibling=E,n.child=l,Sa(n,t.child,null,s),l=n.child,l.memoizedState=Oh(s),l.childLanes=jh(t,g,s),n.memoizedState=Mh,n=Al(null,l));else if(xs(n),vf(E)){if(g=E.nextSibling&&E.nextSibling.dataset,g)var q=g.dgst;g=q,l=Error(r(419)),l.stack="",l.digest=g,dl({value:l,source:null,stack:null}),n=zh(t,n,s)}else if(je||sr(t,n,s,!1),g=(s&t.childLanes)!==0,je||g){if(g=le,g!==null&&(l=Qr(g,s),l!==0&&l!==N.retryLane))throw N.retryLane=l,ga(t,l),vn(g,t,l),Nh;yf(E)||Su(),n=zh(t,n,s)}else yf(E)?(n.flags|=192,n.child=t.child,n=null):(t=N.treeContext,he=qn(E.nextSibling),Xe=n,qt=!0,vs=null,Bn=!1,t!==null&&Tm(n,t),n=Lh(n,l.children),n.flags|=4096);return n}return c?(As(),E=l.fallback,c=n.mode,N=t.child,q=N.sibling,l=Ui(N,{mode:"hidden",children:l.children}),l.subtreeFlags=N.subtreeFlags&65011712,q!==null?E=Ui(q,E):(E=pa(E,c,s,null),E.flags|=2),E.return=n,l.return=n,l.sibling=E,n.child=l,Al(null,l),l=n.child,E=t.child.memoizedState,E===null?E=Oh(s):(c=E.cachePool,c!==null?(N=Me._currentValue,c=c.parent!==N?{parent:N,pool:N}:c):c=Rm(),E={baseLanes:E.baseLanes|s,cachePool:c}),l.memoizedState=E,l.childLanes=jh(t,g,s),n.memoizedState=Mh,Al(t.child,l)):(xs(n),s=t.child,t=s.sibling,s=Ui(s,{mode:"visible",children:l.children}),s.return=n,s.sibling=null,t!==null&&(g=n.deletions,g===null?(n.deletions=[t],n.flags|=16):g.push(t)),n.child=s,n.memoizedState=null,s)}function Lh(t,n){return n=mu({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function mu(t,n){return t=An(22,t,null,n),t.lanes=0,t}function zh(t,n,s){return Sa(n,t.child,null,s),t=Lh(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function Pg(t,n,s){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),$c(t.return,n,s)}function kh(t,n,s,l,c,f){var g=t.memoizedState;g===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:c,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=l,g.tail=s,g.tailMode=c,g.treeForkCount=f)}function qg(t,n,s){var l=n.pendingProps,c=l.revealOrder,f=l.tail;l=l.children;var g=Ae.current,E=(g&2)!==0;if(E?(g=g&1|2,n.flags|=128):g&=1,$(Ae,g),Je(t,n,l,s),l=qt?fl:0,!E&&t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Pg(t,s,n);else if(t.tag===19)Pg(t,s,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(c){case"forwards":for(s=n.child,c=null;s!==null;)t=s.alternate,t!==null&&nu(t)===null&&(c=s),s=s.sibling;s=c,s===null?(c=n.child,n.child=null):(c=s.sibling,s.sibling=null),kh(n,!1,c,s,f,l);break;case"backwards":case"unstable_legacy-backwards":for(s=null,c=n.child,n.child=null;c!==null;){if(t=c.alternate,t!==null&&nu(t)===null){n.child=c;break}t=c.sibling,c.sibling=s,s=c,c=t}kh(n,!0,s,null,f,l);break;case"together":kh(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function Gi(t,n,s){if(t!==null&&(n.dependencies=t.dependencies),Rs|=n.lanes,(s&n.childLanes)===0)if(t!==null){if(sr(t,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(r(153));if(n.child!==null){for(t=n.child,s=Ui(t,t.pendingProps),n.child=s,s.return=n;t.sibling!==null;)t=t.sibling,s=s.sibling=Ui(t,t.pendingProps),s.return=n;s.sibling=null}return n.child}function Uh(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Ko(t)))}function rb(t,n,s){switch(n.tag){case 3:Te(n,n.stateNode.containerInfo),bs(n,Me,t.memoizedState.cache),ya();break;case 27:case 5:bn(n);break;case 4:Te(n,n.stateNode.containerInfo);break;case 10:bs(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,ch(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(xs(n),n.flags|=128,null):(s&n.child.childLanes)!==0?Bg(t,n,s):(xs(n),t=Gi(t,n,s),t!==null?t.sibling:null);xs(n);break;case 19:var c=(t.flags&128)!==0;if(l=(s&n.childLanes)!==0,l||(sr(t,n,s,!1),l=(s&n.childLanes)!==0),c){if(l)return qg(t,n,s);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),$(Ae,Ae.current),l)break;return null;case 22:return n.lanes=0,Og(t,n,s,n.pendingProps);case 24:bs(n,Me,t.memoizedState.cache)}return Gi(t,n,s)}function Hg(t,n,s){if(t!==null)if(t.memoizedProps!==n.pendingProps)je=!0;else{if(!Uh(t,s)&&(n.flags&128)===0)return je=!1,rb(t,n,s);je=(t.flags&131072)!==0}else je=!1,qt&&(n.flags&1048576)!==0&&Em(n,fl,n.index);switch(n.lanes=0,n.tag){case 16:t:{var l=n.pendingProps;if(t=Ea(n.elementType),n.type=t,typeof t=="function")Fc(t)?(l=Aa(t,l),n.tag=1,n=kg(null,n,t,l,s)):(n.tag=0,n=Vh(null,n,t,l,s));else{if(t!=null){var c=t.$$typeof;if(c===ct){n.tag=11,n=Ng(null,n,t,l,s);break t}else if(c===I){n.tag=14,n=Vg(null,n,t,l,s);break t}}throw n=Ht(t)||t,Error(r(306,n,""))}}return n;case 0:return Vh(t,n,n.type,n.pendingProps,s);case 1:return l=n.type,c=Aa(l,n.pendingProps),kg(t,n,l,c,s);case 3:t:{if(Te(n,n.stateNode.containerInfo),t===null)throw Error(r(387));l=n.pendingProps;var f=n.memoizedState;c=f.element,ah(t,n),bl(n,l,null,s);var g=n.memoizedState;if(l=g.cache,bs(n,Me,l),l!==f.cache&&Wc(n,[Me],s,!0),_l(),l=g.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Ug(t,n,l,s);break t}else if(l!==c){c=zn(Error(r(424)),n),dl(c),n=Ug(t,n,l,s);break t}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(he=qn(t.firstChild),Xe=n,qt=!0,vs=null,Bn=!0,s=Om(n,null,l,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(ya(),l===c){n=Gi(t,n,s);break t}Je(t,n,l,s)}n=n.child}return n;case 26:return du(t,n),t===null?(s=ty(n.type,null,n.pendingProps,null))?n.memoizedState=s:qt||(s=n.type,t=n.pendingProps,l=Iu(It.current).createElement(s),l[Ie]=n,l[He]=t,$e(l,s,t),Ne(l),n.stateNode=l):n.memoizedState=ty(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return bn(n),t===null&&qt&&(l=n.stateNode=Jp(n.type,n.pendingProps,It.current),Xe=n,Bn=!0,c=he,Ms(n.type)?(_f=c,he=qn(l.firstChild)):he=c),Je(t,n,n.pendingProps.children,s),du(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&qt&&((c=l=he)&&(l=Lb(l,n.type,n.pendingProps,Bn),l!==null?(n.stateNode=l,Xe=n,he=qn(l.firstChild),Bn=!1,c=!0):c=!1),c||_s(n)),bn(n),c=n.type,f=n.pendingProps,g=t!==null?t.memoizedProps:null,l=f.children,mf(c,f)?l=null:g!==null&&mf(c,g)&&(n.flags|=32),n.memoizedState!==null&&(c=fh(t,n,J_,null,null,s),Bl._currentValue=c),du(t,n),Je(t,n,l,s),n.child;case 6:return t===null&&qt&&((t=s=he)&&(s=zb(s,n.pendingProps,Bn),s!==null?(n.stateNode=s,Xe=n,he=null,t=!0):t=!1),t||_s(n)),null;case 13:return Bg(t,n,s);case 4:return Te(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=Sa(n,null,l,s):Je(t,n,l,s),n.child;case 11:return Ng(t,n,n.type,n.pendingProps,s);case 7:return Je(t,n,n.pendingProps,s),n.child;case 8:return Je(t,n,n.pendingProps.children,s),n.child;case 12:return Je(t,n,n.pendingProps.children,s),n.child;case 10:return l=n.pendingProps,bs(n,n.type,l.value),Je(t,n,l.children,s),n.child;case 9:return c=n.type._context,l=n.pendingProps.children,_a(n),c=Ze(c),l=l(c),n.flags|=1,Je(t,n,l,s),n.child;case 14:return Vg(t,n,n.type,n.pendingProps,s);case 15:return Mg(t,n,n.type,n.pendingProps,s);case 19:return qg(t,n,s);case 31:return ab(t,n,s);case 22:return Og(t,n,s,n.pendingProps);case 24:return _a(n),l=Ze(Me),t===null?(c=nh(),c===null&&(c=le,f=th(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=s),c=f),n.memoizedState={parent:l,cache:c},sh(n),bs(n,Me,c)):((t.lanes&s)!==0&&(ah(t,n),bl(n,null,null,s),_l()),c=t.memoizedState,f=n.memoizedState,c.parent!==l?(c={parent:l,cache:l},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),bs(n,Me,l)):(l=f.cache,bs(n,Me,l),l!==c.cache&&Wc(n,[Me],s,!0))),Je(t,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(r(156,n.tag))}function Qi(t){t.flags|=4}function Bh(t,n,s,l,c){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(c&335544128)===c)if(t.stateNode.complete)t.flags|=8192;else if(pp())t.flags|=8192;else throw Ta=$o,ih}else t.flags&=-16777217}function Fg(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!ay(n))if(pp())t.flags|=8192;else throw Ta=$o,ih}function gu(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?ka():536870912,t.lanes|=n,pr|=n)}function wl(t,n){if(!qt)switch(t.tailMode){case"hidden":n=t.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function fe(t){var n=t.alternate!==null&&t.alternate.child===t.child,s=0,l=0;if(n)for(var c=t.child;c!==null;)s|=c.lanes|c.childLanes,l|=c.subtreeFlags&65011712,l|=c.flags&65011712,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)s|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=l,t.childLanes=s,n}function lb(t,n,s){var l=n.pendingProps;switch(Kc(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return fe(n),null;case 1:return fe(n),null;case 3:return s=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),qi(Me),oe(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(ir(n)?Qi(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Zc())),fe(n),null;case 26:var c=n.type,f=n.memoizedState;return t===null?(Qi(n),f!==null?(fe(n),Fg(n,f)):(fe(n),Bh(n,c,null,l,s))):f?f!==t.memoizedState?(Qi(n),fe(n),Fg(n,f)):(fe(n),n.flags&=-16777217):(t=t.memoizedProps,t!==l&&Qi(n),fe(n),Bh(n,c,t,l,s)),null;case 27:if(ss(n),s=It.current,c=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Qi(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return fe(n),null}t=ft.current,ir(n)?Sm(n):(t=Jp(c,l,s),n.stateNode=t,Qi(n))}return fe(n),null;case 5:if(ss(n),c=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Qi(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return fe(n),null}if(f=ft.current,ir(n))Sm(n);else{var g=Iu(It.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?g.createElement("select",{is:l.is}):g.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?g.createElement(c,{is:l.is}):g.createElement(c)}}f[Ie]=n,f[He]=l;t:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break t;for(;g.sibling===null;){if(g.return===null||g.return===n)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;t:switch($e(f,c,l),c){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&Qi(n)}}return fe(n),Bh(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,s),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&Qi(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(r(166));if(t=It.current,ir(n)){if(t=n.stateNode,s=n.memoizedProps,l=null,c=Xe,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}t[Ie]=n,t=!!(t.nodeValue===s||l!==null&&l.suppressHydrationWarning===!0||Bp(t.nodeValue,s)),t||_s(n,!0)}else t=Iu(t).createTextNode(l),t[Ie]=n,n.stateNode=t}return fe(n),null;case 31:if(s=n.memoizedState,t===null||t.memoizedState!==null){if(l=ir(n),s!==null){if(t===null){if(!l)throw Error(r(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(557));t[Ie]=n}else ya(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;fe(n),t=!1}else s=Zc(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=s),t=!0;if(!t)return n.flags&256?(Cn(n),n):(Cn(n),null);if((n.flags&128)!==0)throw Error(r(558))}return fe(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=ir(n),l!==null&&l.dehydrated!==null){if(t===null){if(!c)throw Error(r(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(r(317));c[Ie]=n}else ya(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;fe(n),c=!1}else c=Zc(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(Cn(n),n):(Cn(n),null)}return Cn(n),(n.flags&128)!==0?(n.lanes=s,n):(s=l!==null,t=t!==null&&t.memoizedState!==null,s&&(l=n.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==c&&(l.flags|=2048)),s!==t&&s&&(n.child.flags|=8192),gu(n,n.updateQueue),fe(n),null);case 4:return oe(),t===null&&uf(n.stateNode.containerInfo),fe(n),null;case 10:return qi(n.type),fe(n),null;case 19:if(G(Ae),l=n.memoizedState,l===null)return fe(n),null;if(c=(n.flags&128)!==0,f=l.rendering,f===null)if(c)wl(l,!1);else{if(Ee!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=nu(t),f!==null){for(n.flags|=128,wl(l,!1),t=f.updateQueue,n.updateQueue=t,gu(n,t),n.subtreeFlags=0,t=s,s=n.child;s!==null;)vm(s,t),s=s.sibling;return $(Ae,Ae.current&1|2),qt&&Bi(n,l.treeForkCount),n.child}t=t.sibling}l.tail!==null&&$t()>bu&&(n.flags|=128,c=!0,wl(l,!1),n.lanes=4194304)}else{if(!c)if(t=nu(f),t!==null){if(n.flags|=128,c=!0,t=t.updateQueue,n.updateQueue=t,gu(n,t),wl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!qt)return fe(n),null}else 2*$t()-l.renderingStartTime>bu&&s!==536870912&&(n.flags|=128,c=!0,wl(l,!1),n.lanes=4194304);l.isBackwards?(f.sibling=n.child,n.child=f):(t=l.last,t!==null?t.sibling=f:n.child=f,l.last=f)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=$t(),t.sibling=null,s=Ae.current,$(Ae,c?s&1|2:s&1),qt&&Bi(n,l.treeForkCount),t):(fe(n),null);case 22:case 23:return Cn(n),uh(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(s&536870912)!==0&&(n.flags&128)===0&&(fe(n),n.subtreeFlags&6&&(n.flags|=8192)):fe(n),s=n.updateQueue,s!==null&&gu(n,s.retryQueue),s=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==s&&(n.flags|=2048),t!==null&&G(ba),null;case 24:return s=null,t!==null&&(s=t.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),qi(Me),fe(n),null;case 25:return null;case 30:return null}throw Error(r(156,n.tag))}function ob(t,n){switch(Kc(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return qi(Me),oe(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return ss(n),null;case 31:if(n.memoizedState!==null){if(Cn(n),n.alternate===null)throw Error(r(340));ya()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(Cn(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(r(340));ya()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return G(Ae),null;case 4:return oe(),null;case 10:return qi(n.type),null;case 22:case 23:return Cn(n),uh(),t!==null&&G(ba),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return qi(Me),null;case 25:return null;default:return null}}function Gg(t,n){switch(Kc(n),n.tag){case 3:qi(Me),oe();break;case 26:case 27:case 5:ss(n);break;case 4:oe();break;case 31:n.memoizedState!==null&&Cn(n);break;case 13:Cn(n);break;case 19:G(Ae);break;case 10:qi(n.type);break;case 22:case 23:Cn(n),uh(),t!==null&&G(ba);break;case 24:qi(Me)}}function Cl(t,n){try{var s=n.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var c=l.next;s=c;do{if((s.tag&t)===t){l=void 0;var f=s.create,g=s.inst;l=f(),g.destroy=l}s=s.next}while(s!==c)}}catch(E){ne(n,n.return,E)}}function ws(t,n,s){try{var l=n.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var f=c.next;l=f;do{if((l.tag&t)===t){var g=l.inst,E=g.destroy;if(E!==void 0){g.destroy=void 0,c=n;var N=s,q=E;try{q()}catch(J){ne(c,N,J)}}}l=l.next}while(l!==f)}}catch(J){ne(n,n.return,J)}}function Qg(t){var n=t.updateQueue;if(n!==null){var s=t.stateNode;try{Lm(n,s)}catch(l){ne(t,t.return,l)}}}function Yg(t,n,s){s.props=Aa(t.type,t.memoizedProps),s.state=t.memoizedState;try{s.componentWillUnmount()}catch(l){ne(t,n,l)}}function Rl(t,n){try{var s=t.ref;if(s!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof s=="function"?t.refCleanup=s(l):s.current=l}}catch(c){ne(t,n,c)}}function wi(t,n){var s=t.ref,l=t.refCleanup;if(s!==null)if(typeof l=="function")try{l()}catch(c){ne(t,n,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(c){ne(t,n,c)}else s.current=null}function Kg(t){var n=t.type,s=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&l.focus();break t;case"img":s.src?l.src=s.src:s.srcSet&&(l.srcset=s.srcSet)}}catch(c){ne(t,t.return,c)}}function Ph(t,n,s){try{var l=t.stateNode;Ib(l,t.type,s,n),l[He]=n}catch(c){ne(t,t.return,c)}}function Xg(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Ms(t.type)||t.tag===4}function qh(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||Xg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Ms(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Hh(t,n,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(t,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(t),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=Zn));else if(l!==4&&(l===27&&Ms(t.type)&&(s=t.stateNode,n=null),t=t.child,t!==null))for(Hh(t,n,s),t=t.sibling;t!==null;)Hh(t,n,s),t=t.sibling}function pu(t,n,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?s.insertBefore(t,n):s.appendChild(t);else if(l!==4&&(l===27&&Ms(t.type)&&(s=t.stateNode),t=t.child,t!==null))for(pu(t,n,s),t=t.sibling;t!==null;)pu(t,n,s),t=t.sibling}function Zg(t){var n=t.stateNode,s=t.memoizedProps;try{for(var l=t.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);$e(n,l,s),n[Ie]=t,n[He]=s}catch(f){ne(t,t.return,f)}}var Yi=!1,Le=!1,Fh=!1,Jg=typeof WeakSet=="function"?WeakSet:Set,Ge=null;function ub(t,n){if(t=t.containerInfo,ff=zu,t=um(t),zc(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else t:{s=(s=t.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var c=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break t}var g=0,E=-1,N=-1,q=0,J=0,nt=t,F=null;e:for(;;){for(var K;nt!==s||c!==0&&nt.nodeType!==3||(E=g+c),nt!==f||l!==0&&nt.nodeType!==3||(N=g+l),nt.nodeType===3&&(g+=nt.nodeValue.length),(K=nt.firstChild)!==null;)F=nt,nt=K;for(;;){if(nt===t)break e;if(F===s&&++q===c&&(E=g),F===f&&++J===l&&(N=g),(K=nt.nextSibling)!==null)break;nt=F,F=nt.parentNode}nt=K}s=E===-1||N===-1?null:{start:E,end:N}}else s=null}s=s||{start:0,end:0}}else s=null;for(df={focusedElem:t,selectionRange:s},zu=!1,Ge=n;Ge!==null;)if(n=Ge,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,Ge=t;else for(;Ge!==null;){switch(n=Ge,f=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(s=0;s<t.length;s++)c=t[s],c.ref.impl=c.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,s=n,c=f.memoizedProps,f=f.memoizedState,l=s.stateNode;try{var pt=Aa(s.type,c);t=l.getSnapshotBeforeUpdate(pt,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(xt){ne(s,s.return,xt)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,s=t.nodeType,s===9)pf(t);else if(s===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":pf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=n.sibling,t!==null){t.return=n.return,Ge=t;break}Ge=n.return}}function $g(t,n,s){var l=s.flags;switch(s.tag){case 0:case 11:case 15:Xi(t,s),l&4&&Cl(5,s);break;case 1:if(Xi(t,s),l&4)if(t=s.stateNode,n===null)try{t.componentDidMount()}catch(g){ne(s,s.return,g)}else{var c=Aa(s.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(c,n,t.__reactInternalSnapshotBeforeUpdate)}catch(g){ne(s,s.return,g)}}l&64&&Qg(s),l&512&&Rl(s,s.return);break;case 3:if(Xi(t,s),l&64&&(t=s.updateQueue,t!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{Lm(t,n)}catch(g){ne(s,s.return,g)}}break;case 27:n===null&&l&4&&Zg(s);case 26:case 5:Xi(t,s),n===null&&l&4&&Kg(s),l&512&&Rl(s,s.return);break;case 12:Xi(t,s);break;case 31:Xi(t,s),l&4&&ep(t,s);break;case 13:Xi(t,s),l&4&&np(t,s),l&64&&(t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(s=vb.bind(null,s),kb(t,s))));break;case 22:if(l=s.memoizedState!==null||Yi,!l){n=n!==null&&n.memoizedState!==null||Le,c=Yi;var f=Le;Yi=l,(Le=n)&&!f?Zi(t,s,(s.subtreeFlags&8772)!==0):Xi(t,s),Yi=c,Le=f}break;case 30:break;default:Xi(t,s)}}function Wg(t){var n=t.alternate;n!==null&&(t.alternate=null,Wg(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Ba(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var pe=null,mn=!1;function Ki(t,n,s){for(s=s.child;s!==null;)tp(t,n,s),s=s.sibling}function tp(t,n,s){if(De&&typeof De.onCommitFiberUnmount=="function")try{De.onCommitFiberUnmount(hn,s)}catch{}switch(s.tag){case 26:Le||wi(s,n),Ki(t,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Le||wi(s,n);var l=pe,c=mn;Ms(s.type)&&(pe=s.stateNode,mn=!1),Ki(t,n,s),zl(s.stateNode),pe=l,mn=c;break;case 5:Le||wi(s,n);case 6:if(l=pe,c=mn,pe=null,Ki(t,n,s),pe=l,mn=c,pe!==null)if(mn)try{(pe.nodeType===9?pe.body:pe.nodeName==="HTML"?pe.ownerDocument.body:pe).removeChild(s.stateNode)}catch(f){ne(s,n,f)}else try{pe.removeChild(s.stateNode)}catch(f){ne(s,n,f)}break;case 18:pe!==null&&(mn?(t=pe,Qp(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,s.stateNode),xr(t)):Qp(pe,s.stateNode));break;case 4:l=pe,c=mn,pe=s.stateNode.containerInfo,mn=!0,Ki(t,n,s),pe=l,mn=c;break;case 0:case 11:case 14:case 15:ws(2,s,n),Le||ws(4,s,n),Ki(t,n,s);break;case 1:Le||(wi(s,n),l=s.stateNode,typeof l.componentWillUnmount=="function"&&Yg(s,n,l)),Ki(t,n,s);break;case 21:Ki(t,n,s);break;case 22:Le=(l=Le)||s.memoizedState!==null,Ki(t,n,s),Le=l;break;default:Ki(t,n,s)}}function ep(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{xr(t)}catch(s){ne(n,n.return,s)}}}function np(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{xr(t)}catch(s){ne(n,n.return,s)}}function cb(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new Jg),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new Jg),n;default:throw Error(r(435,t.tag))}}function yu(t,n){var s=cb(t);n.forEach(function(l){if(!s.has(l)){s.add(l);var c=_b.bind(null,t,l);l.then(c,c)}})}function gn(t,n){var s=n.deletions;if(s!==null)for(var l=0;l<s.length;l++){var c=s[l],f=t,g=n,E=g;t:for(;E!==null;){switch(E.tag){case 27:if(Ms(E.type)){pe=E.stateNode,mn=!1;break t}break;case 5:pe=E.stateNode,mn=!1;break t;case 3:case 4:pe=E.stateNode.containerInfo,mn=!0;break t}E=E.return}if(pe===null)throw Error(r(160));tp(f,g,c),pe=null,mn=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)ip(n,t),n=n.sibling}var ni=null;function ip(t,n){var s=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:gn(n,t),pn(t),l&4&&(ws(3,t,t.return),Cl(3,t),ws(5,t,t.return));break;case 1:gn(n,t),pn(t),l&512&&(Le||s===null||wi(s,s.return)),l&64&&Yi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(s=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=s===null?l:s.concat(l))));break;case 26:var c=ni;if(gn(n,t),pn(t),l&512&&(Le||s===null||wi(s,s.return)),l&4){var f=s!==null?s.memoizedState:null;if(l=t.memoizedState,s===null)if(l===null)if(t.stateNode===null){t:{l=t.type,s=t.memoizedProps,c=c.ownerDocument||c;e:switch(l){case"title":f=c.getElementsByTagName("title")[0],(!f||f[fi]||f[Ie]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(l),c.head.insertBefore(f,c.querySelector("head > title"))),$e(f,l,s),f[Ie]=t,Ne(f),l=f;break t;case"link":var g=iy("link","href",c).get(l+(s.href||""));if(g){for(var E=0;E<g.length;E++)if(f=g[E],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){g.splice(E,1);break e}}f=c.createElement(l),$e(f,l,s),c.head.appendChild(f);break;case"meta":if(g=iy("meta","content",c).get(l+(s.content||""))){for(E=0;E<g.length;E++)if(f=g[E],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){g.splice(E,1);break e}}f=c.createElement(l),$e(f,l,s),c.head.appendChild(f);break;default:throw Error(r(468,l))}f[Ie]=t,Ne(f),l=f}t.stateNode=l}else sy(c,t.type,t.stateNode);else t.stateNode=ny(c,l,t.memoizedProps);else f!==l?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,l===null?sy(c,t.type,t.stateNode):ny(c,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Ph(t,t.memoizedProps,s.memoizedProps)}break;case 27:gn(n,t),pn(t),l&512&&(Le||s===null||wi(s,s.return)),s!==null&&l&4&&Ph(t,t.memoizedProps,s.memoizedProps);break;case 5:if(gn(n,t),pn(t),l&512&&(Le||s===null||wi(s,s.return)),t.flags&32){c=t.stateNode;try{dn(c,"")}catch(pt){ne(t,t.return,pt)}}l&4&&t.stateNode!=null&&(c=t.memoizedProps,Ph(t,c,s!==null?s.memoizedProps:c)),l&1024&&(Fh=!0);break;case 6:if(gn(n,t),pn(t),l&4){if(t.stateNode===null)throw Error(r(162));l=t.memoizedProps,s=t.stateNode;try{s.nodeValue=l}catch(pt){ne(t,t.return,pt)}}break;case 3:if(Mu=null,c=ni,ni=Nu(n.containerInfo),gn(n,t),ni=c,pn(t),l&4&&s!==null&&s.memoizedState.isDehydrated)try{xr(n.containerInfo)}catch(pt){ne(t,t.return,pt)}Fh&&(Fh=!1,sp(t));break;case 4:l=ni,ni=Nu(t.stateNode.containerInfo),gn(n,t),pn(t),ni=l;break;case 12:gn(n,t),pn(t);break;case 31:gn(n,t),pn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,yu(t,l)));break;case 13:gn(n,t),pn(t),t.child.flags&8192&&t.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(_u=$t()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,yu(t,l)));break;case 22:c=t.memoizedState!==null;var N=s!==null&&s.memoizedState!==null,q=Yi,J=Le;if(Yi=q||c,Le=J||N,gn(n,t),Le=J,Yi=q,pn(t),l&8192)t:for(n=t.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(s===null||N||Yi||Le||wa(t)),s=null,n=t;;){if(n.tag===5||n.tag===26){if(s===null){N=s=n;try{if(f=N.stateNode,c)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{E=N.stateNode;var nt=N.memoizedProps.style,F=nt!=null&&nt.hasOwnProperty("display")?nt.display:null;E.style.display=F==null||typeof F=="boolean"?"":(""+F).trim()}}catch(pt){ne(N,N.return,pt)}}}else if(n.tag===6){if(s===null){N=n;try{N.stateNode.nodeValue=c?"":N.memoizedProps}catch(pt){ne(N,N.return,pt)}}}else if(n.tag===18){if(s===null){N=n;try{var K=N.stateNode;c?Yp(K,!0):Yp(N.stateNode,!1)}catch(pt){ne(N,N.return,pt)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(s=l.retryQueue,s!==null&&(l.retryQueue=null,yu(t,s))));break;case 19:gn(n,t),pn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,yu(t,l)));break;case 30:break;case 21:break;default:gn(n,t),pn(t)}}function pn(t){var n=t.flags;if(n&2){try{for(var s,l=t.return;l!==null;){if(Xg(l)){s=l;break}l=l.return}if(s==null)throw Error(r(160));switch(s.tag){case 27:var c=s.stateNode,f=qh(t);pu(t,f,c);break;case 5:var g=s.stateNode;s.flags&32&&(dn(g,""),s.flags&=-33);var E=qh(t);pu(t,E,g);break;case 3:case 4:var N=s.stateNode.containerInfo,q=qh(t);Hh(t,q,N);break;default:throw Error(r(161))}}catch(J){ne(t,t.return,J)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function sp(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;sp(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function Xi(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)$g(t,n.alternate,n),n=n.sibling}function wa(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:ws(4,n,n.return),wa(n);break;case 1:wi(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&Yg(n,n.return,s),wa(n);break;case 27:zl(n.stateNode);case 26:case 5:wi(n,n.return),wa(n);break;case 22:n.memoizedState===null&&wa(n);break;case 30:wa(n);break;default:wa(n)}t=t.sibling}}function Zi(t,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,c=t,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:Zi(c,f,s),Cl(4,f);break;case 1:if(Zi(c,f,s),l=f,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(q){ne(l,l.return,q)}if(l=f,c=l.updateQueue,c!==null){var E=l.stateNode;try{var N=c.shared.hiddenCallbacks;if(N!==null)for(c.shared.hiddenCallbacks=null,c=0;c<N.length;c++)jm(N[c],E)}catch(q){ne(l,l.return,q)}}s&&g&64&&Qg(f),Rl(f,f.return);break;case 27:Zg(f);case 26:case 5:Zi(c,f,s),s&&l===null&&g&4&&Kg(f),Rl(f,f.return);break;case 12:Zi(c,f,s);break;case 31:Zi(c,f,s),s&&g&4&&ep(c,f);break;case 13:Zi(c,f,s),s&&g&4&&np(c,f);break;case 22:f.memoizedState===null&&Zi(c,f,s),Rl(f,f.return);break;case 30:break;default:Zi(c,f,s)}n=n.sibling}}function Gh(t,n){var s=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==s&&(t!=null&&t.refCount++,s!=null&&ml(s))}function Qh(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&ml(t))}function ii(t,n,s,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)ap(t,n,s,l),n=n.sibling}function ap(t,n,s,l){var c=n.flags;switch(n.tag){case 0:case 11:case 15:ii(t,n,s,l),c&2048&&Cl(9,n);break;case 1:ii(t,n,s,l);break;case 3:ii(t,n,s,l),c&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&ml(t)));break;case 12:if(c&2048){ii(t,n,s,l),t=n.stateNode;try{var f=n.memoizedProps,g=f.id,E=f.onPostCommit;typeof E=="function"&&E(g,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(N){ne(n,n.return,N)}}else ii(t,n,s,l);break;case 31:ii(t,n,s,l);break;case 13:ii(t,n,s,l);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?ii(t,n,s,l):Dl(t,n):f._visibility&2?ii(t,n,s,l):(f._visibility|=2,dr(t,n,s,l,(n.subtreeFlags&10256)!==0||!1)),c&2048&&Gh(g,n);break;case 24:ii(t,n,s,l),c&2048&&Qh(n.alternate,n);break;default:ii(t,n,s,l)}}function dr(t,n,s,l,c){for(c=c&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=t,g=n,E=s,N=l,q=g.flags;switch(g.tag){case 0:case 11:case 15:dr(f,g,E,N,c),Cl(8,g);break;case 23:break;case 22:var J=g.stateNode;g.memoizedState!==null?J._visibility&2?dr(f,g,E,N,c):Dl(f,g):(J._visibility|=2,dr(f,g,E,N,c)),c&&q&2048&&Gh(g.alternate,g);break;case 24:dr(f,g,E,N,c),c&&q&2048&&Qh(g.alternate,g);break;default:dr(f,g,E,N,c)}n=n.sibling}}function Dl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=t,l=n,c=l.flags;switch(l.tag){case 22:Dl(s,l),c&2048&&Gh(l.alternate,l);break;case 24:Dl(s,l),c&2048&&Qh(l.alternate,l);break;default:Dl(s,l)}n=n.sibling}}var Il=8192;function mr(t,n,s){if(t.subtreeFlags&Il)for(t=t.child;t!==null;)rp(t,n,s),t=t.sibling}function rp(t,n,s){switch(t.tag){case 26:mr(t,n,s),t.flags&Il&&t.memoizedState!==null&&Zb(s,ni,t.memoizedState,t.memoizedProps);break;case 5:mr(t,n,s);break;case 3:case 4:var l=ni;ni=Nu(t.stateNode.containerInfo),mr(t,n,s),ni=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=Il,Il=16777216,mr(t,n,s),Il=l):mr(t,n,s));break;default:mr(t,n,s)}}function lp(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function Nl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];Ge=l,up(l,t)}lp(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)op(t),t=t.sibling}function op(t){switch(t.tag){case 0:case 11:case 15:Nl(t),t.flags&2048&&ws(9,t,t.return);break;case 3:Nl(t);break;case 12:Nl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,vu(t)):Nl(t);break;default:Nl(t)}}function vu(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];Ge=l,up(l,t)}lp(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:ws(8,n,n.return),vu(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,vu(n));break;default:vu(n)}t=t.sibling}}function up(t,n){for(;Ge!==null;){var s=Ge;switch(s.tag){case 0:case 11:case 15:ws(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var l=s.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:ml(s.memoizedState.cache)}if(l=s.child,l!==null)l.return=s,Ge=l;else t:for(s=t;Ge!==null;){l=Ge;var c=l.sibling,f=l.return;if(Wg(l),l===s){Ge=null;break t}if(c!==null){c.return=f,Ge=c;break t}Ge=f}}}var hb={getCacheForType:function(t){var n=Ze(Me),s=n.data.get(t);return s===void 0&&(s=t(),n.data.set(t,s)),s},cacheSignal:function(){return Ze(Me).controller.signal}},fb=typeof WeakMap=="function"?WeakMap:Map,Jt=0,le=null,jt=null,kt=0,ee=0,Rn=null,Cs=!1,gr=!1,Yh=!1,Ji=0,Ee=0,Rs=0,Ca=0,Kh=0,Dn=0,pr=0,Vl=null,yn=null,Xh=!1,_u=0,cp=0,bu=1/0,Eu=null,Ds=null,Ue=0,Is=null,yr=null,$i=0,Zh=0,Jh=null,hp=null,Ml=0,$h=null;function In(){return(Jt&2)!==0&&kt!==0?kt&-kt:U.T!==null?af():To()}function fp(){if(Dn===0)if((kt&536870912)===0||qt){var t=oi;oi<<=1,(oi&3932160)===0&&(oi=262144),Dn=t}else Dn=536870912;return t=wn.current,t!==null&&(t.flags|=32),Dn}function vn(t,n,s){(t===le&&(ee===2||ee===9)||t.cancelPendingCommit!==null)&&(vr(t,0),Ns(t,kt,Dn,!1)),ea(t,s),((Jt&2)===0||t!==le)&&(t===le&&((Jt&2)===0&&(Ca|=s),Ee===4&&Ns(t,kt,Dn,!1)),Ci(t))}function dp(t,n,s){if((Jt&6)!==0)throw Error(r(327));var l=!s&&(n&127)===0&&(n&t.expiredLanes)===0||_e(t,n),c=l?gb(t,n):tf(t,n,!0),f=l;do{if(c===0){gr&&!l&&Ns(t,n,0,!1);break}else{if(s=t.current.alternate,f&&!db(s)){c=tf(t,n,!1),f=!1;continue}if(c===2){if(f=n,t.errorRecoveryDisabledLanes&f)var g=0;else g=t.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;t:{var E=t;c=Vl;var N=E.current.memoizedState.isDehydrated;if(N&&(vr(E,g).flags|=256),g=tf(E,g,!1),g!==2){if(Yh&&!N){E.errorRecoveryDisabledLanes|=f,Ca|=f,c=4;break t}f=yn,yn=c,f!==null&&(yn===null?yn=f:yn.push.apply(yn,f))}c=g}if(f=!1,c!==2)continue}}if(c===1){vr(t,0),Ns(t,n,0,!0);break}t:{switch(l=t,f=c,f){case 0:case 1:throw Error(r(345));case 4:if((n&4194048)!==n)break;case 6:Ns(l,n,Dn,!Cs);break t;case 2:yn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((n&62914560)===n&&(c=_u+300-$t(),10<c)){if(Ns(l,n,Dn,!Cs),Qt(l,0,!0)!==0)break t;$i=n,l.timeoutHandle=Fp(mp.bind(null,l,s,yn,Eu,Xh,n,Dn,Ca,pr,Cs,f,"Throttled",-0,0),c);break t}mp(l,s,yn,Eu,Xh,n,Dn,Ca,pr,Cs,f,null,-0,0)}}break}while(!0);Ci(t)}function mp(t,n,s,l,c,f,g,E,N,q,J,nt,F,K){if(t.timeoutHandle=-1,nt=n.subtreeFlags,nt&8192||(nt&16785408)===16785408){nt={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Zn},rp(n,f,nt);var pt=(f&62914560)===f?_u-$t():(f&4194048)===f?cp-$t():0;if(pt=Jb(nt,pt),pt!==null){$i=f,t.cancelPendingCommit=pt(Tp.bind(null,t,n,f,s,l,c,g,E,N,J,nt,null,F,K)),Ns(t,f,g,!q);return}}Tp(t,n,f,s,l,c,g,E,N)}function db(t){for(var n=t;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var l=0;l<s.length;l++){var c=s[l],f=c.getSnapshot;c=c.value;try{if(!xn(f(),c))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Ns(t,n,s,l){n&=~Kh,n&=~Ca,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var c=n;0<c;){var f=31-me(c),g=1<<f;l[f]=-1,c&=~g}s!==0&&na(t,s,n)}function Tu(){return(Jt&6)===0?(Ol(0),!1):!0}function Wh(){if(jt!==null){if(ee===0)var t=jt.return;else t=jt,Pi=va=null,gh(t),or=null,pl=0,t=jt;for(;t!==null;)Gg(t.alternate,t),t=t.return;jt=null}}function vr(t,n){var s=t.timeoutHandle;s!==-1&&(t.timeoutHandle=-1,Mb(s)),s=t.cancelPendingCommit,s!==null&&(t.cancelPendingCommit=null,s()),$i=0,Wh(),le=t,jt=s=Ui(t.current,null),kt=n,ee=0,Rn=null,Cs=!1,gr=_e(t,n),Yh=!1,pr=Dn=Kh=Ca=Rs=Ee=0,yn=Vl=null,Xh=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var c=31-me(l),f=1<<c;n|=t[c],l&=~f}return Ji=n,Ho(),s}function gp(t,n){Vt=null,U.H=xl,n===lr||n===Jo?(n=Nm(),ee=3):n===ih?(n=Nm(),ee=4):ee=n===Nh?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Rn=n,jt===null&&(Ee=1,hu(t,zn(n,t.current)))}function pp(){var t=wn.current;return t===null?!0:(kt&4194048)===kt?Pn===null:(kt&62914560)===kt||(kt&536870912)!==0?t===Pn:!1}function yp(){var t=U.H;return U.H=xl,t===null?xl:t}function vp(){var t=U.A;return U.A=hb,t}function Su(){Ee=4,Cs||(kt&4194048)!==kt&&wn.current!==null||(gr=!0),(Rs&134217727)===0&&(Ca&134217727)===0||le===null||Ns(le,kt,Dn,!1)}function tf(t,n,s){var l=Jt;Jt|=2;var c=yp(),f=vp();(le!==t||kt!==n)&&(Eu=null,vr(t,n)),n=!1;var g=Ee;t:do try{if(ee!==0&&jt!==null){var E=jt,N=Rn;switch(ee){case 8:Wh(),g=6;break t;case 3:case 2:case 9:case 6:wn.current===null&&(n=!0);var q=ee;if(ee=0,Rn=null,_r(t,E,N,q),s&&gr){g=0;break t}break;default:q=ee,ee=0,Rn=null,_r(t,E,N,q)}}mb(),g=Ee;break}catch(J){gp(t,J)}while(!0);return n&&t.shellSuspendCounter++,Pi=va=null,Jt=l,U.H=c,U.A=f,jt===null&&(le=null,kt=0,Ho()),g}function mb(){for(;jt!==null;)_p(jt)}function gb(t,n){var s=Jt;Jt|=2;var l=yp(),c=vp();le!==t||kt!==n?(Eu=null,bu=$t()+500,vr(t,n)):gr=_e(t,n);t:do try{if(ee!==0&&jt!==null){n=jt;var f=Rn;e:switch(ee){case 1:ee=0,Rn=null,_r(t,n,f,1);break;case 2:case 9:if(Dm(f)){ee=0,Rn=null,bp(n);break}n=function(){ee!==2&&ee!==9||le!==t||(ee=7),Ci(t)},f.then(n,n);break t;case 3:ee=7;break t;case 4:ee=5;break t;case 7:Dm(f)?(ee=0,Rn=null,bp(n)):(ee=0,Rn=null,_r(t,n,f,7));break;case 5:var g=null;switch(jt.tag){case 26:g=jt.memoizedState;case 5:case 27:var E=jt;if(g?ay(g):E.stateNode.complete){ee=0,Rn=null;var N=E.sibling;if(N!==null)jt=N;else{var q=E.return;q!==null?(jt=q,xu(q)):jt=null}break e}}ee=0,Rn=null,_r(t,n,f,5);break;case 6:ee=0,Rn=null,_r(t,n,f,6);break;case 8:Wh(),Ee=6;break t;default:throw Error(r(462))}}pb();break}catch(J){gp(t,J)}while(!0);return Pi=va=null,U.H=l,U.A=c,Jt=s,jt!==null?0:(le=null,kt=0,Ho(),Ee)}function pb(){for(;jt!==null&&!ue();)_p(jt)}function _p(t){var n=Hg(t.alternate,t,Ji);t.memoizedProps=t.pendingProps,n===null?xu(t):jt=n}function bp(t){var n=t,s=n.alternate;switch(n.tag){case 15:case 0:n=zg(s,n,n.pendingProps,n.type,void 0,kt);break;case 11:n=zg(s,n,n.pendingProps,n.type.render,n.ref,kt);break;case 5:gh(n);default:Gg(s,n),n=jt=vm(n,Ji),n=Hg(s,n,Ji)}t.memoizedProps=t.pendingProps,n===null?xu(t):jt=n}function _r(t,n,s,l){Pi=va=null,gh(n),or=null,pl=0;var c=n.return;try{if(sb(t,c,n,s,kt)){Ee=1,hu(t,zn(s,t.current)),jt=null;return}}catch(f){if(c!==null)throw jt=c,f;Ee=1,hu(t,zn(s,t.current)),jt=null;return}n.flags&32768?(qt||l===1?t=!0:gr||(kt&536870912)!==0?t=!1:(Cs=t=!0,(l===2||l===9||l===3||l===6)&&(l=wn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Ep(n,t)):xu(n)}function xu(t){var n=t;do{if((n.flags&32768)!==0){Ep(n,Cs);return}t=n.return;var s=lb(n.alternate,n,Ji);if(s!==null){jt=s;return}if(n=n.sibling,n!==null){jt=n;return}jt=n=t}while(n!==null);Ee===0&&(Ee=5)}function Ep(t,n){do{var s=ob(t.alternate,t);if(s!==null){s.flags&=32767,jt=s;return}if(s=t.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(t=t.sibling,t!==null)){jt=t;return}jt=t=s}while(t!==null);Ee=6,jt=null}function Tp(t,n,s,l,c,f,g,E,N){t.cancelPendingCommit=null;do Au();while(Ue!==0);if((Jt&6)!==0)throw Error(r(327));if(n!==null){if(n===t.current)throw Error(r(177));if(f=n.lanes|n.childLanes,f|=qc,Mc(t,s,f,g,E,N),t===le&&(jt=le=null,kt=0),yr=n,Is=t,$i=s,Zh=f,Jh=c,hp=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,bb(Yn,function(){return Cp(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=U.T,U.T=null,c=at.p,at.p=2,g=Jt,Jt|=4;try{ub(t,n,s)}finally{Jt=g,at.p=c,U.T=l}}Ue=1,Sp(),xp(),Ap()}}function Sp(){if(Ue===1){Ue=0;var t=Is,n=yr,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=U.T,U.T=null;var l=at.p;at.p=2;var c=Jt;Jt|=4;try{ip(n,t);var f=df,g=um(t.containerInfo),E=f.focusedElem,N=f.selectionRange;if(g!==E&&E&&E.ownerDocument&&om(E.ownerDocument.documentElement,E)){if(N!==null&&zc(E)){var q=N.start,J=N.end;if(J===void 0&&(J=q),"selectionStart"in E)E.selectionStart=q,E.selectionEnd=Math.min(J,E.value.length);else{var nt=E.ownerDocument||document,F=nt&&nt.defaultView||window;if(F.getSelection){var K=F.getSelection(),pt=E.textContent.length,xt=Math.min(N.start,pt),re=N.end===void 0?xt:Math.min(N.end,pt);!K.extend&&xt>re&&(g=re,re=xt,xt=g);var z=lm(E,xt),M=lm(E,re);if(z&&M&&(K.rangeCount!==1||K.anchorNode!==z.node||K.anchorOffset!==z.offset||K.focusNode!==M.node||K.focusOffset!==M.offset)){var P=nt.createRange();P.setStart(z.node,z.offset),K.removeAllRanges(),xt>re?(K.addRange(P),K.extend(M.node,M.offset)):(P.setEnd(M.node,M.offset),K.addRange(P))}}}}for(nt=[],K=E;K=K.parentNode;)K.nodeType===1&&nt.push({element:K,left:K.scrollLeft,top:K.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<nt.length;E++){var tt=nt[E];tt.element.scrollLeft=tt.left,tt.element.scrollTop=tt.top}}zu=!!ff,df=ff=null}finally{Jt=c,at.p=l,U.T=s}}t.current=n,Ue=2}}function xp(){if(Ue===2){Ue=0;var t=Is,n=yr,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=U.T,U.T=null;var l=at.p;at.p=2;var c=Jt;Jt|=4;try{$g(t,n.alternate,n)}finally{Jt=c,at.p=l,U.T=s}}Ue=3}}function Ap(){if(Ue===4||Ue===3){Ue=0,Ye();var t=Is,n=yr,s=$i,l=hp;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Ue=5:(Ue=0,yr=Is=null,wp(t,t.pendingLanes));var c=t.pendingLanes;if(c===0&&(Ds=null),ji(s),n=n.stateNode,De&&typeof De.onCommitFiberRoot=="function")try{De.onCommitFiberRoot(hn,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=U.T,c=at.p,at.p=2,U.T=null;try{for(var f=t.onRecoverableError,g=0;g<l.length;g++){var E=l[g];f(E.value,{componentStack:E.stack})}}finally{U.T=n,at.p=c}}($i&3)!==0&&Au(),Ci(t),c=t.pendingLanes,(s&261930)!==0&&(c&42)!==0?t===$h?Ml++:(Ml=0,$h=t):Ml=0,Ol(0)}}function wp(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,ml(n)))}function Au(){return Sp(),xp(),Ap(),Cp()}function Cp(){if(Ue!==5)return!1;var t=Is,n=Zh;Zh=0;var s=ji($i),l=U.T,c=at.p;try{at.p=32>s?32:s,U.T=null,s=Jh,Jh=null;var f=Is,g=$i;if(Ue=0,yr=Is=null,$i=0,(Jt&6)!==0)throw Error(r(331));var E=Jt;if(Jt|=4,op(f.current),ap(f,f.current,g,s),Jt=E,Ol(0,!1),De&&typeof De.onPostCommitFiberRoot=="function")try{De.onPostCommitFiberRoot(hn,f)}catch{}return!0}finally{at.p=c,U.T=l,wp(t,n)}}function Rp(t,n,s){n=zn(s,n),n=Ih(t.stateNode,n,2),t=Ss(t,n,2),t!==null&&(ea(t,2),Ci(t))}function ne(t,n,s){if(t.tag===3)Rp(t,t,s);else for(;n!==null;){if(n.tag===3){Rp(n,t,s);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Ds===null||!Ds.has(l))){t=zn(s,t),s=Dg(2),l=Ss(n,s,2),l!==null&&(Ig(s,l,n,t),ea(l,2),Ci(l));break}}n=n.return}}function ef(t,n,s){var l=t.pingCache;if(l===null){l=t.pingCache=new fb;var c=new Set;l.set(n,c)}else c=l.get(n),c===void 0&&(c=new Set,l.set(n,c));c.has(s)||(Yh=!0,c.add(s),t=yb.bind(null,t,n,s),n.then(t,t))}function yb(t,n,s){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&s,t.warmLanes&=~s,le===t&&(kt&s)===s&&(Ee===4||Ee===3&&(kt&62914560)===kt&&300>$t()-_u?(Jt&2)===0&&vr(t,0):Kh|=s,pr===kt&&(pr=0)),Ci(t)}function Dp(t,n){n===0&&(n=ka()),t=ga(t,n),t!==null&&(ea(t,n),Ci(t))}function vb(t){var n=t.memoizedState,s=0;n!==null&&(s=n.retryLane),Dp(t,s)}function _b(t,n){var s=0;switch(t.tag){case 31:case 13:var l=t.stateNode,c=t.memoizedState;c!==null&&(s=c.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(n),Dp(t,s)}function bb(t,n){return lt(t,n)}var wu=null,br=null,nf=!1,Cu=!1,sf=!1,Vs=0;function Ci(t){t!==br&&t.next===null&&(br===null?wu=br=t:br=br.next=t),Cu=!0,nf||(nf=!0,Tb())}function Ol(t,n){if(!sf&&Cu){sf=!0;do for(var s=!1,l=wu;l!==null;){if(t!==0){var c=l.pendingLanes;if(c===0)var f=0;else{var g=l.suspendedLanes,E=l.pingedLanes;f=(1<<31-me(42|t)+1)-1,f&=c&~(g&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,Mp(l,f))}else f=kt,f=Qt(l,l===le?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||_e(l,f)||(s=!0,Mp(l,f));l=l.next}while(s);sf=!1}}function Eb(){Ip()}function Ip(){Cu=nf=!1;var t=0;Vs!==0&&Vb()&&(t=Vs);for(var n=$t(),s=null,l=wu;l!==null;){var c=l.next,f=Np(l,n);f===0?(l.next=null,s===null?wu=c:s.next=c,c===null&&(br=s)):(s=l,(t!==0||(f&3)!==0)&&(Cu=!0)),l=c}Ue!==0&&Ue!==5||Ol(t),Vs!==0&&(Vs=0)}function Np(t,n){for(var s=t.suspendedLanes,l=t.pingedLanes,c=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var g=31-me(f),E=1<<g,N=c[g];N===-1?((E&s)===0||(E&l)!==0)&&(c[g]=ui(E,n)):N<=n&&(t.expiredLanes|=E),f&=~E}if(n=le,s=kt,s=Qt(t,t===n?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,s===0||t===n&&(ee===2||ee===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Ot(l),t.callbackNode=null,t.callbackPriority=0;if((s&3)===0||_e(t,s)){if(n=s&-s,n===t.callbackPriority)return n;switch(l!==null&&Ot(l),ji(s)){case 2:case 8:s=cn;break;case 32:s=Yn;break;case 268435456:s=Js;break;default:s=Yn}return l=Vp.bind(null,t),s=lt(s,l),t.callbackPriority=n,t.callbackNode=s,n}return l!==null&&l!==null&&Ot(l),t.callbackPriority=2,t.callbackNode=null,2}function Vp(t,n){if(Ue!==0&&Ue!==5)return t.callbackNode=null,t.callbackPriority=0,null;var s=t.callbackNode;if(Au()&&t.callbackNode!==s)return null;var l=kt;return l=Qt(t,t===le?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(dp(t,l,n),Np(t,$t()),t.callbackNode!=null&&t.callbackNode===s?Vp.bind(null,t):null)}function Mp(t,n){if(Au())return null;dp(t,n,!0)}function Tb(){Ob(function(){(Jt&6)!==0?lt(li,Eb):Ip()})}function af(){if(Vs===0){var t=ar;t===0&&(t=En,En<<=1,(En&261888)===0&&(En=256)),Vs=t}return Vs}function Op(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Fa(""+t)}function jp(t,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,t.id&&s.setAttribute("form",t.id),n.parentNode.insertBefore(s,n),t=new FormData(t),s.parentNode.removeChild(s),t}function Sb(t,n,s,l,c){if(n==="submit"&&s&&s.stateNode===c){var f=Op((c[He]||null).action),g=l.submitter;g&&(n=(n=g[He]||null)?Op(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var E=new bi("action","action",null,l,c);t.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Vs!==0){var N=g?jp(c,g):new FormData(c);xh(s,{pending:!0,data:N,method:c.method,action:f},null,N)}}else typeof f=="function"&&(E.preventDefault(),N=g?jp(c,g):new FormData(c),xh(s,{pending:!0,data:N,method:c.method,action:f},f,N))},currentTarget:c}]})}}for(var rf=0;rf<Pc.length;rf++){var lf=Pc[rf],xb=lf.toLowerCase(),Ab=lf[0].toUpperCase()+lf.slice(1);ei(xb,"on"+Ab)}ei(fm,"onAnimationEnd"),ei(dm,"onAnimationIteration"),ei(mm,"onAnimationStart"),ei("dblclick","onDoubleClick"),ei("focusin","onFocus"),ei("focusout","onBlur"),ei(P_,"onTransitionRun"),ei(q_,"onTransitionStart"),ei(H_,"onTransitionCancel"),ei(gm,"onTransitionEnd"),pi("onMouseEnter",["mouseout","mouseover"]),pi("onMouseLeave",["mouseout","mouseover"]),pi("onPointerEnter",["pointerout","pointerover"]),pi("onPointerLeave",["pointerout","pointerover"]),gi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),gi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),gi("onBeforeInput",["compositionend","keypress","textInput","paste"]),gi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),gi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),gi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var jl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),wb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(jl));function Lp(t,n){n=(n&4)!==0;for(var s=0;s<t.length;s++){var l=t[s],c=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var g=l.length-1;0<=g;g--){var E=l[g],N=E.instance,q=E.currentTarget;if(E=E.listener,N!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=q;try{f(c)}catch(J){qo(J)}c.currentTarget=null,f=N}else for(g=0;g<l.length;g++){if(E=l[g],N=E.instance,q=E.currentTarget,E=E.listener,N!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=q;try{f(c)}catch(J){qo(J)}c.currentTarget=null,f=N}}}}function Lt(t,n){var s=n[Ua];s===void 0&&(s=n[Ua]=new Set);var l=t+"__bubble";s.has(l)||(zp(n,t,2,!1),s.add(l))}function of(t,n,s){var l=0;n&&(l|=4),zp(s,t,l,n)}var Ru="_reactListening"+Math.random().toString(36).slice(2);function uf(t){if(!t[Ru]){t[Ru]=!0,Yr.forEach(function(s){s!=="selectionchange"&&(wb.has(s)||of(s,!1,t),of(s,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[Ru]||(n[Ru]=!0,of("selectionchange",!1,n))}}function zp(t,n,s,l){switch(fy(n)){case 2:var c=tE;break;case 8:c=eE;break;default:c=xf}s=c.bind(null,n,s,t),c=void 0,!la||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),l?c!==void 0?t.addEventListener(n,s,{capture:!0,passive:c}):t.addEventListener(n,s,!0):c!==void 0?t.addEventListener(n,s,{passive:c}):t.addEventListener(n,s,!1)}function cf(t,n,s,l,c){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var g=l.tag;if(g===3||g===4){var E=l.stateNode.containerInfo;if(E===c)break;if(g===4)for(g=l.return;g!==null;){var N=g.tag;if((N===3||N===4)&&g.stateNode.containerInfo===c)return;g=g.return}for(;E!==null;){if(g=di(E),g===null)return;if(N=g.tag,N===5||N===6||N===26||N===27){l=f=g;continue t}E=E.parentNode}}l=l.return}ds(function(){var q=f,J=Mn(s),nt=[];t:{var F=pm.get(t);if(F!==void 0){var K=bi,pt=t;switch(t){case"keypress":if(ua(s)===0)break t;case"keydown":case"keyup":K=Uo;break;case"focusin":pt="focus",K=ha;break;case"focusout":pt="blur",K=ha;break;case"beforeblur":case"afterblur":K=ha;break;case"click":if(s.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":K=rl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":K=Io;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":K=m;break;case fm:case dm:case mm:K=Vo;break;case gm:K=T;break;case"scroll":case"scrollend":K=al;break;case"wheel":K=Y;break;case"copy":case"cut":case"paste":K=Mo;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":K=ki;break;case"toggle":case"beforetoggle":K=Nt}var xt=(n&4)!==0,re=!xt&&(t==="scroll"||t==="scrollend"),z=xt?F!==null?F+"Capture":null:F;xt=[];for(var M=q,P;M!==null;){var tt=M;if(P=tt.stateNode,tt=tt.tag,tt!==5&&tt!==26&&tt!==27||P===null||z===null||(tt=Jn(M,z),tt!=null&&xt.push(Ll(M,tt,P))),re)break;M=M.return}0<xt.length&&(F=new K(F,pt,null,s,J),nt.push({event:F,listeners:xt}))}}if((n&7)===0){t:{if(F=t==="mouseover"||t==="pointerover",K=t==="mouseout"||t==="pointerout",F&&s!==nl&&(pt=s.relatedTarget||s.fromElement)&&(di(pt)||pt[hi]))break t;if((K||F)&&(F=J.window===J?J:(F=J.ownerDocument)?F.defaultView||F.parentWindow:window,K?(pt=s.relatedTarget||s.toElement,K=q,pt=pt?di(pt):null,pt!==null&&(re=h(pt),xt=pt.tag,pt!==re||xt!==5&&xt!==27&&xt!==6)&&(pt=null)):(K=null,pt=q),K!==pt)){if(xt=rl,tt="onMouseLeave",z="onMouseEnter",M="mouse",(t==="pointerout"||t==="pointerover")&&(xt=ki,tt="onPointerLeave",z="onPointerEnter",M="pointer"),re=K==null?F:Tn(K),P=pt==null?F:Tn(pt),F=new xt(tt,M+"leave",K,s,J),F.target=re,F.relatedTarget=P,tt=null,di(J)===q&&(xt=new xt(z,M+"enter",pt,s,J),xt.target=P,xt.relatedTarget=re,tt=xt),re=tt,K&&pt)e:{for(xt=Cb,z=K,M=pt,P=0,tt=z;tt;tt=xt(tt))P++;tt=0;for(var Et=M;Et;Et=xt(Et))tt++;for(;0<P-tt;)z=xt(z),P--;for(;0<tt-P;)M=xt(M),tt--;for(;P--;){if(z===M||M!==null&&z===M.alternate){xt=z;break e}z=xt(z),M=xt(M)}xt=null}else xt=null;K!==null&&kp(nt,F,K,xt,!1),pt!==null&&re!==null&&kp(nt,re,pt,xt,!0)}}t:{if(F=q?Tn(q):window,K=F.nodeName&&F.nodeName.toLowerCase(),K==="select"||K==="input"&&F.type==="file")var Yt=em;else if(Wd(F))if(nm)Yt=k_;else{Yt=L_;var yt=j_}else K=F.nodeName,!K||K.toLowerCase()!=="input"||F.type!=="checkbox"&&F.type!=="radio"?q&&Ha(q.elementType)&&(Yt=em):Yt=z_;if(Yt&&(Yt=Yt(t,q))){tm(nt,Yt,s,J);break t}yt&&yt(t,F,q),t==="focusout"&&q&&F.type==="number"&&q.memoizedProps.value!=null&&Wr(F,"number",F.value)}switch(yt=q?Tn(q):window,t){case"focusin":(Wd(yt)||yt.contentEditable==="true")&&(Ja=yt,kc=q,hl=null);break;case"focusout":hl=kc=Ja=null;break;case"mousedown":Uc=!0;break;case"contextmenu":case"mouseup":case"dragend":Uc=!1,cm(nt,s,J);break;case"selectionchange":if(B_)break;case"keydown":case"keyup":cm(nt,s,J)}var Mt;if(Zt)t:{switch(t){case"compositionstart":var Ut="onCompositionStart";break t;case"compositionend":Ut="onCompositionEnd";break t;case"compositionupdate":Ut="onCompositionUpdate";break t}Ut=void 0}else Za?fa(t,s)&&(Ut="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(Ut="onCompositionStart");Ut&&(Si&&s.locale!=="ko"&&(Za||Ut!=="onCompositionStart"?Ut==="onCompositionEnd"&&Za&&(Mt=sl()):(_i=J,il="value"in _i?_i.value:_i.textContent,Za=!0)),yt=Du(q,Ut),0<yt.length&&(Ut=new Ti(Ut,t,null,s,J),nt.push({event:Ut,listeners:yt}),Mt?Ut.data=Mt:(Mt=Xa(s),Mt!==null&&(Ut.data=Mt)))),(Mt=jn?N_(t,s):V_(t,s))&&(Ut=Du(q,"onBeforeInput"),0<Ut.length&&(yt=new Ti("onBeforeInput","beforeinput",null,s,J),nt.push({event:yt,listeners:Ut}),yt.data=Mt)),Sb(nt,t,q,s,J)}Lp(nt,n)})}function Ll(t,n,s){return{instance:t,listener:n,currentTarget:s}}function Du(t,n){for(var s=n+"Capture",l=[];t!==null;){var c=t,f=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=Jn(t,s),c!=null&&l.unshift(Ll(t,c,f)),c=Jn(t,n),c!=null&&l.push(Ll(t,c,f))),t.tag===3)return l;t=t.return}return[]}function Cb(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function kp(t,n,s,l,c){for(var f=n._reactName,g=[];s!==null&&s!==l;){var E=s,N=E.alternate,q=E.stateNode;if(E=E.tag,N!==null&&N===l)break;E!==5&&E!==26&&E!==27||q===null||(N=q,c?(q=Jn(s,f),q!=null&&g.unshift(Ll(s,q,N))):c||(q=Jn(s,f),q!=null&&g.push(Ll(s,q,N)))),s=s.return}g.length!==0&&t.push({event:n,listeners:g})}var Rb=/\r\n?/g,Db=/\u0000|\uFFFD/g;function Up(t){return(typeof t=="string"?t:""+t).replace(Rb,`
`).replace(Db,"")}function Bp(t,n){return n=Up(n),Up(t)===n}function ae(t,n,s,l,c,f){switch(s){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||dn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&dn(t,""+l);break;case"className":Sn(t,"class",l);break;case"tabIndex":Sn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Sn(t,s,l);break;case"style":el(t,l,f);break;case"data":if(n!=="object"){Sn(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||s!=="href")){t.removeAttribute(s);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=Fa(""+l),t.setAttribute(s,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(n!=="input"&&ae(t,n,"name",c.name,c,null),ae(t,n,"formEncType",c.formEncType,c,null),ae(t,n,"formMethod",c.formMethod,c,null),ae(t,n,"formTarget",c.formTarget,c,null)):(ae(t,n,"encType",c.encType,c,null),ae(t,n,"method",c.method,c,null),ae(t,n,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=Fa(""+l),t.setAttribute(s,l);break;case"onClick":l!=null&&(t.onclick=Zn);break;case"onScroll":l!=null&&Lt("scroll",t);break;case"onScrollEnd":l!=null&&Lt("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(s=l.__html,s!=null){if(c.children!=null)throw Error(r(60));t.innerHTML=s}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}s=Fa(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""+l):t.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""):t.removeAttribute(s);break;case"capture":case"download":l===!0?t.setAttribute(s,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,l):t.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(s,l):t.removeAttribute(s);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(s):t.setAttribute(s,l);break;case"popover":Lt("beforetoggle",t),Lt("toggle",t),Pa(t,"popover",l);break;case"xlinkActuate":Ve(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Ve(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Ve(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Ve(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Ve(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Ve(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Ve(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Ve(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Ve(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Pa(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=Do.get(s)||s,Pa(t,s,l))}}function hf(t,n,s,l,c,f){switch(s){case"style":el(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(s=l.__html,s!=null){if(c.children!=null)throw Error(r(60));t.innerHTML=s}}break;case"children":typeof l=="string"?dn(t,l):(typeof l=="number"||typeof l=="bigint")&&dn(t,""+l);break;case"onScroll":l!=null&&Lt("scroll",t);break;case"onScrollEnd":l!=null&&Lt("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Zn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Kr.hasOwnProperty(s))t:{if(s[0]==="o"&&s[1]==="n"&&(c=s.endsWith("Capture"),n=s.slice(2,c?s.length-7:void 0),f=t[He]||null,f=f!=null?f[s]:null,typeof f=="function"&&t.removeEventListener(n,f,c),typeof l=="function")){typeof f!="function"&&f!==null&&(s in t?t[s]=null:t.hasAttribute(s)&&t.removeAttribute(s)),t.addEventListener(n,l,c);break t}s in t?t[s]=l:l===!0?t.setAttribute(s,""):Pa(t,s,l)}}}function $e(t,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Lt("error",t),Lt("load",t);var l=!1,c=!1,f;for(f in s)if(s.hasOwnProperty(f)){var g=s[f];if(g!=null)switch(f){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:ae(t,n,f,g,s,null)}}c&&ae(t,n,"srcSet",s.srcSet,s,null),l&&ae(t,n,"src",s.src,s,null);return;case"input":Lt("invalid",t);var E=f=g=c=null,N=null,q=null;for(l in s)if(s.hasOwnProperty(l)){var J=s[l];if(J!=null)switch(l){case"name":c=J;break;case"type":g=J;break;case"checked":N=J;break;case"defaultChecked":q=J;break;case"value":f=J;break;case"defaultValue":E=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(r(137,n));break;default:ae(t,n,l,J,s,null)}}wo(t,f,E,N,q,g,c,!1);return;case"select":Lt("invalid",t),l=g=f=null;for(c in s)if(s.hasOwnProperty(c)&&(E=s[c],E!=null))switch(c){case"value":f=E;break;case"defaultValue":g=E;break;case"multiple":l=E;default:ae(t,n,c,E,s,null)}n=f,s=g,t.multiple=!!l,n!=null?us(t,!!l,n,!1):s!=null&&us(t,!!l,s,!0);return;case"textarea":Lt("invalid",t),f=c=l=null;for(g in s)if(s.hasOwnProperty(g)&&(E=s[g],E!=null))switch(g){case"value":l=E;break;case"defaultValue":c=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(r(91));break;default:ae(t,n,g,E,s,null)}cs(t,l,c,f);return;case"option":for(N in s)if(s.hasOwnProperty(N)&&(l=s[N],l!=null))switch(N){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:ae(t,n,N,l,s,null)}return;case"dialog":Lt("beforetoggle",t),Lt("toggle",t),Lt("cancel",t),Lt("close",t);break;case"iframe":case"object":Lt("load",t);break;case"video":case"audio":for(l=0;l<jl.length;l++)Lt(jl[l],t);break;case"image":Lt("error",t),Lt("load",t);break;case"details":Lt("toggle",t);break;case"embed":case"source":case"link":Lt("error",t),Lt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(q in s)if(s.hasOwnProperty(q)&&(l=s[q],l!=null))switch(q){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:ae(t,n,q,l,s,null)}return;default:if(Ha(n)){for(J in s)s.hasOwnProperty(J)&&(l=s[J],l!==void 0&&hf(t,n,J,l,s,void 0));return}}for(E in s)s.hasOwnProperty(E)&&(l=s[E],l!=null&&ae(t,n,E,l,s,null))}function Ib(t,n,s,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,g=null,E=null,N=null,q=null,J=null;for(K in s){var nt=s[K];if(s.hasOwnProperty(K)&&nt!=null)switch(K){case"checked":break;case"value":break;case"defaultValue":N=nt;default:l.hasOwnProperty(K)||ae(t,n,K,null,l,nt)}}for(var F in l){var K=l[F];if(nt=s[F],l.hasOwnProperty(F)&&(K!=null||nt!=null))switch(F){case"type":f=K;break;case"name":c=K;break;case"checked":q=K;break;case"defaultChecked":J=K;break;case"value":g=K;break;case"defaultValue":E=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(r(137,n));break;default:K!==nt&&ae(t,n,F,K,l,nt)}}qa(t,g,E,N,q,J,f,c);return;case"select":K=g=E=F=null;for(f in s)if(N=s[f],s.hasOwnProperty(f)&&N!=null)switch(f){case"value":break;case"multiple":K=N;default:l.hasOwnProperty(f)||ae(t,n,f,null,l,N)}for(c in l)if(f=l[c],N=s[c],l.hasOwnProperty(c)&&(f!=null||N!=null))switch(c){case"value":F=f;break;case"defaultValue":E=f;break;case"multiple":g=f;default:f!==N&&ae(t,n,c,f,l,N)}n=E,s=g,l=K,F!=null?us(t,!!s,F,!1):!!l!=!!s&&(n!=null?us(t,!!s,n,!0):us(t,!!s,s?[]:"",!1));return;case"textarea":K=F=null;for(E in s)if(c=s[E],s.hasOwnProperty(E)&&c!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:ae(t,n,E,null,l,c)}for(g in l)if(c=l[g],f=s[g],l.hasOwnProperty(g)&&(c!=null||f!=null))switch(g){case"value":F=c;break;case"defaultValue":K=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(r(91));break;default:c!==f&&ae(t,n,g,c,l,f)}Co(t,F,K);return;case"option":for(var pt in s)if(F=s[pt],s.hasOwnProperty(pt)&&F!=null&&!l.hasOwnProperty(pt))switch(pt){case"selected":t.selected=!1;break;default:ae(t,n,pt,null,l,F)}for(N in l)if(F=l[N],K=s[N],l.hasOwnProperty(N)&&F!==K&&(F!=null||K!=null))switch(N){case"selected":t.selected=F&&typeof F!="function"&&typeof F!="symbol";break;default:ae(t,n,N,F,l,K)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var xt in s)F=s[xt],s.hasOwnProperty(xt)&&F!=null&&!l.hasOwnProperty(xt)&&ae(t,n,xt,null,l,F);for(q in l)if(F=l[q],K=s[q],l.hasOwnProperty(q)&&F!==K&&(F!=null||K!=null))switch(q){case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(r(137,n));break;default:ae(t,n,q,F,l,K)}return;default:if(Ha(n)){for(var re in s)F=s[re],s.hasOwnProperty(re)&&F!==void 0&&!l.hasOwnProperty(re)&&hf(t,n,re,void 0,l,F);for(J in l)F=l[J],K=s[J],!l.hasOwnProperty(J)||F===K||F===void 0&&K===void 0||hf(t,n,J,F,l,K);return}}for(var z in s)F=s[z],s.hasOwnProperty(z)&&F!=null&&!l.hasOwnProperty(z)&&ae(t,n,z,null,l,F);for(nt in l)F=l[nt],K=s[nt],!l.hasOwnProperty(nt)||F===K||F==null&&K==null||ae(t,n,nt,F,l,K)}function Pp(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Nb(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,s=performance.getEntriesByType("resource"),l=0;l<s.length;l++){var c=s[l],f=c.transferSize,g=c.initiatorType,E=c.duration;if(f&&E&&Pp(g)){for(g=0,E=c.responseEnd,l+=1;l<s.length;l++){var N=s[l],q=N.startTime;if(q>E)break;var J=N.transferSize,nt=N.initiatorType;J&&Pp(nt)&&(N=N.responseEnd,g+=J*(N<E?1:(E-q)/(N-q)))}if(--l,n+=8*(f+g)/(c.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var ff=null,df=null;function Iu(t){return t.nodeType===9?t:t.ownerDocument}function qp(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Hp(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function mf(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var gf=null;function Vb(){var t=window.event;return t&&t.type==="popstate"?t===gf?!1:(gf=t,!0):(gf=null,!1)}var Fp=typeof setTimeout=="function"?setTimeout:void 0,Mb=typeof clearTimeout=="function"?clearTimeout:void 0,Gp=typeof Promise=="function"?Promise:void 0,Ob=typeof queueMicrotask=="function"?queueMicrotask:typeof Gp<"u"?function(t){return Gp.resolve(null).then(t).catch(jb)}:Fp;function jb(t){setTimeout(function(){throw t})}function Ms(t){return t==="head"}function Qp(t,n){var s=n,l=0;do{var c=s.nextSibling;if(t.removeChild(s),c&&c.nodeType===8)if(s=c.data,s==="/$"||s==="/&"){if(l===0){t.removeChild(c),xr(n);return}l--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")l++;else if(s==="html")zl(t.ownerDocument.documentElement);else if(s==="head"){s=t.ownerDocument.head,zl(s);for(var f=s.firstChild;f;){var g=f.nextSibling,E=f.nodeName;f[fi]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||s.removeChild(f),f=g}}else s==="body"&&zl(t.ownerDocument.body);s=c}while(s);xr(n)}function Yp(t,n){var s=t;t=0;do{var l=s.nextSibling;if(s.nodeType===1?n?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(n?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),l&&l.nodeType===8)if(s=l.data,s==="/$"){if(t===0)break;t--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||t++;s=l}while(s)}function pf(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":pf(s),Ba(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}t.removeChild(s)}}function Lb(t,n,s,l){for(;t.nodeType===1;){var c=s;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[fi])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==c.rel||t.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=qn(t.nextSibling),t===null)break}return null}function zb(t,n,s){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=qn(t.nextSibling),t===null))return null;return t}function Kp(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=qn(t.nextSibling),t===null))return null;return t}function yf(t){return t.data==="$?"||t.data==="$~"}function vf(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function kb(t,n){var s=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||s.readyState!=="loading")n();else{var l=function(){n(),s.removeEventListener("DOMContentLoaded",l)};s.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function qn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var _f=null;function Xp(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var s=t.data;if(s==="/$"||s==="/&"){if(n===0)return qn(t.nextSibling);n--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||n++}t=t.nextSibling}return null}function Zp(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(n===0)return t;n--}else s!=="/$"&&s!=="/&"||n++}t=t.previousSibling}return null}function Jp(t,n,s){switch(n=Iu(s),t){case"html":if(t=n.documentElement,!t)throw Error(r(452));return t;case"head":if(t=n.head,!t)throw Error(r(453));return t;case"body":if(t=n.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function zl(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Ba(t)}var Hn=new Map,$p=new Set;function Nu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Wi=at.d;at.d={f:Ub,r:Bb,D:Pb,C:qb,L:Hb,m:Fb,X:Qb,S:Gb,M:Yb};function Ub(){var t=Wi.f(),n=Tu();return t||n}function Bb(t){var n=Vn(t);n!==null&&n.tag===5&&n.type==="form"?gg(n):Wi.r(t)}var Er=typeof document>"u"?null:document;function Wp(t,n,s){var l=Er;if(l&&typeof n=="string"&&n){var c=fn(n);c='link[rel="'+t+'"][href="'+c+'"]',typeof s=="string"&&(c+='[crossorigin="'+s+'"]'),$p.has(c)||($p.add(c),t={rel:t,crossOrigin:s,href:n},l.querySelector(c)===null&&(n=l.createElement("link"),$e(n,"link",t),Ne(n),l.head.appendChild(n)))}}function Pb(t){Wi.D(t),Wp("dns-prefetch",t,null)}function qb(t,n){Wi.C(t,n),Wp("preconnect",t,n)}function Hb(t,n,s){Wi.L(t,n,s);var l=Er;if(l&&t&&n){var c='link[rel="preload"][as="'+fn(n)+'"]';n==="image"&&s&&s.imageSrcSet?(c+='[imagesrcset="'+fn(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(c+='[imagesizes="'+fn(s.imageSizes)+'"]')):c+='[href="'+fn(t)+'"]';var f=c;switch(n){case"style":f=Tr(t);break;case"script":f=Sr(t)}Hn.has(f)||(t=x({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:t,as:n},s),Hn.set(f,t),l.querySelector(c)!==null||n==="style"&&l.querySelector(kl(f))||n==="script"&&l.querySelector(Ul(f))||(n=l.createElement("link"),$e(n,"link",t),Ne(n),l.head.appendChild(n)))}}function Fb(t,n){Wi.m(t,n);var s=Er;if(s&&t){var l=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+fn(l)+'"][href="'+fn(t)+'"]',f=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Sr(t)}if(!Hn.has(f)&&(t=x({rel:"modulepreload",href:t},n),Hn.set(f,t),s.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(Ul(f)))return}l=s.createElement("link"),$e(l,"link",t),Ne(l),s.head.appendChild(l)}}}function Gb(t,n,s){Wi.S(t,n,s);var l=Er;if(l&&t){var c=mi(l).hoistableStyles,f=Tr(t);n=n||"default";var g=c.get(f);if(!g){var E={loading:0,preload:null};if(g=l.querySelector(kl(f)))E.loading=5;else{t=x({rel:"stylesheet",href:t,"data-precedence":n},s),(s=Hn.get(f))&&bf(t,s);var N=g=l.createElement("link");Ne(N),$e(N,"link",t),N._p=new Promise(function(q,J){N.onload=q,N.onerror=J}),N.addEventListener("load",function(){E.loading|=1}),N.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Vu(g,n,l)}g={type:"stylesheet",instance:g,count:1,state:E},c.set(f,g)}}}function Qb(t,n){Wi.X(t,n);var s=Er;if(s&&t){var l=mi(s).hoistableScripts,c=Sr(t),f=l.get(c);f||(f=s.querySelector(Ul(c)),f||(t=x({src:t,async:!0},n),(n=Hn.get(c))&&Ef(t,n),f=s.createElement("script"),Ne(f),$e(f,"link",t),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function Yb(t,n){Wi.M(t,n);var s=Er;if(s&&t){var l=mi(s).hoistableScripts,c=Sr(t),f=l.get(c);f||(f=s.querySelector(Ul(c)),f||(t=x({src:t,async:!0,type:"module"},n),(n=Hn.get(c))&&Ef(t,n),f=s.createElement("script"),Ne(f),$e(f,"link",t),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function ty(t,n,s,l){var c=(c=It.current)?Nu(c):null;if(!c)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=Tr(s.href),s=mi(c).hoistableStyles,l=s.get(n),l||(l={type:"style",instance:null,count:0,state:null},s.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){t=Tr(s.href);var f=mi(c).hoistableStyles,g=f.get(t);if(g||(c=c.ownerDocument||c,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,g),(f=c.querySelector(kl(t)))&&!f._p&&(g.instance=f,g.state.loading=5),Hn.has(t)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Hn.set(t,s),f||Kb(c,t,s,g.state))),n&&l===null)throw Error(r(528,""));return g}if(n&&l!==null)throw Error(r(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Sr(s),s=mi(c).hoistableScripts,l=s.get(n),l||(l={type:"script",instance:null,count:0,state:null},s.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function Tr(t){return'href="'+fn(t)+'"'}function kl(t){return'link[rel="stylesheet"]['+t+"]"}function ey(t){return x({},t,{"data-precedence":t.precedence,precedence:null})}function Kb(t,n,s,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),$e(n,"link",s),Ne(n),t.head.appendChild(n))}function Sr(t){return'[src="'+fn(t)+'"]'}function Ul(t){return"script[async]"+t}function ny(t,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+fn(s.href)+'"]');if(l)return n.instance=l,Ne(l),l;var c=x({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Ne(l),$e(l,"style",c),Vu(l,s.precedence,t),n.instance=l;case"stylesheet":c=Tr(s.href);var f=t.querySelector(kl(c));if(f)return n.state.loading|=4,n.instance=f,Ne(f),f;l=ey(s),(c=Hn.get(c))&&bf(l,c),f=(t.ownerDocument||t).createElement("link"),Ne(f);var g=f;return g._p=new Promise(function(E,N){g.onload=E,g.onerror=N}),$e(f,"link",l),n.state.loading|=4,Vu(f,s.precedence,t),n.instance=f;case"script":return f=Sr(s.src),(c=t.querySelector(Ul(f)))?(n.instance=c,Ne(c),c):(l=s,(c=Hn.get(f))&&(l=x({},s),Ef(l,c)),t=t.ownerDocument||t,c=t.createElement("script"),Ne(c),$e(c,"link",l),t.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(r(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,Vu(l,s.precedence,t));return n.instance}function Vu(t,n,s){for(var l=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,f=c,g=0;g<l.length;g++){var E=l[g];if(E.dataset.precedence===n)f=E;else if(f!==c)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(t,n.firstChild))}function bf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Ef(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Mu=null;function iy(t,n,s){if(Mu===null){var l=new Map,c=Mu=new Map;c.set(s,l)}else c=Mu,l=c.get(s),l||(l=new Map,c.set(s,l));if(l.has(t))return l;for(l.set(t,null),s=s.getElementsByTagName(t),c=0;c<s.length;c++){var f=s[c];if(!(f[fi]||f[Ie]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=t+g;var E=l.get(g);E?E.push(f):l.set(g,[f])}}return l}function sy(t,n,s){t=t.ownerDocument||t,t.head.insertBefore(s,n==="title"?t.querySelector("head > title"):null)}function Xb(t,n,s){if(s===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function ay(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function Zb(t,n,s,l){if(s.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var c=Tr(l.href),f=n.querySelector(kl(c));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=Ou.bind(t),n.then(t,t)),s.state.loading|=4,s.instance=f,Ne(f);return}f=n.ownerDocument||n,l=ey(l),(c=Hn.get(c))&&bf(l,c),f=f.createElement("link"),Ne(f);var g=f;g._p=new Promise(function(E,N){g.onload=E,g.onerror=N}),$e(f,"link",l),s.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(t.count++,s=Ou.bind(t),n.addEventListener("load",s),n.addEventListener("error",s))}}var Tf=0;function Jb(t,n){return t.stylesheets&&t.count===0&&Lu(t,t.stylesheets),0<t.count||0<t.imgCount?function(s){var l=setTimeout(function(){if(t.stylesheets&&Lu(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+n);0<t.imgBytes&&Tf===0&&(Tf=62500*Nb());var c=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Lu(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>Tf?50:800)+n);return t.unsuspend=s,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(c)}}:null}function Ou(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Lu(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var ju=null;function Lu(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,ju=new Map,n.forEach($b,t),ju=null,Ou.call(t))}function $b(t,n){if(!(n.state.loading&4)){var s=ju.get(t);if(s)var l=s.get(null);else{s=new Map,ju.set(t,s);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var g=c[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(s.set(g.dataset.precedence,g),l=g)}l&&s.set(null,l)}c=n.instance,g=c.getAttribute("data-precedence"),f=s.get(g)||l,f===l&&s.set(null,c),s.set(g,c),this.count++,l=Ou.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),f?f.parentNode.insertBefore(c,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),n.state.loading|=4}}var Bl={$$typeof:ot,Provider:null,Consumer:null,_currentValue:dt,_currentValue2:dt,_threadCount:0};function Wb(t,n,s,l,c,f,g,E,N){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ci(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ci(0),this.hiddenUpdates=ci(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=N,this.incompleteTransitions=new Map}function ry(t,n,s,l,c,f,g,E,N,q,J,nt){return t=new Wb(t,n,s,g,N,q,J,nt,E),n=1,f===!0&&(n|=24),f=An(3,null,null,n),t.current=f,f.stateNode=t,n=th(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:s,cache:n},sh(f),t}function ly(t){return t?(t=tr,t):tr}function oy(t,n,s,l,c,f){c=ly(c),l.context===null?l.context=c:l.pendingContext=c,l=Ts(n),l.payload={element:s},f=f===void 0?null:f,f!==null&&(l.callback=f),s=Ss(t,l,n),s!==null&&(vn(s,t,n),vl(s,t,n))}function uy(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<n?s:n}}function Sf(t,n){uy(t,n),(t=t.alternate)&&uy(t,n)}function cy(t){if(t.tag===13||t.tag===31){var n=ga(t,67108864);n!==null&&vn(n,t,67108864),Sf(t,67108864)}}function hy(t){if(t.tag===13||t.tag===31){var n=In();n=ia(n);var s=ga(t,n);s!==null&&vn(s,t,n),Sf(t,n)}}var zu=!0;function tE(t,n,s,l){var c=U.T;U.T=null;var f=at.p;try{at.p=2,xf(t,n,s,l)}finally{at.p=f,U.T=c}}function eE(t,n,s,l){var c=U.T;U.T=null;var f=at.p;try{at.p=8,xf(t,n,s,l)}finally{at.p=f,U.T=c}}function xf(t,n,s,l){if(zu){var c=Af(l);if(c===null)cf(t,n,l,ku,s),dy(t,l);else if(iE(c,t,n,s,l))l.stopPropagation();else if(dy(t,l),n&4&&-1<nE.indexOf(t)){for(;c!==null;){var f=Vn(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=Se(f.pendingLanes);if(g!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;g;){var N=1<<31-me(g);E.entanglements[1]|=N,g&=~N}Ci(f),(Jt&6)===0&&(bu=$t()+500,Ol(0))}}break;case 31:case 13:E=ga(f,2),E!==null&&vn(E,f,2),Tu(),Sf(f,2)}if(f=Af(l),f===null&&cf(t,n,l,ku,s),f===c)break;c=f}c!==null&&l.stopPropagation()}else cf(t,n,l,null,s)}}function Af(t){return t=Mn(t),wf(t)}var ku=null;function wf(t){if(ku=null,t=di(t),t!==null){var n=h(t);if(n===null)t=null;else{var s=n.tag;if(s===13){if(t=d(n),t!==null)return t;t=null}else if(s===31){if(t=p(n),t!==null)return t;t=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return ku=t,null}function fy(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Re()){case li:return 2;case cn:return 8;case Yn:case za:return 32;case Js:return 268435456;default:return 32}default:return 32}}var Cf=!1,Os=null,js=null,Ls=null,Pl=new Map,ql=new Map,zs=[],nE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function dy(t,n){switch(t){case"focusin":case"focusout":Os=null;break;case"dragenter":case"dragleave":js=null;break;case"mouseover":case"mouseout":Ls=null;break;case"pointerover":case"pointerout":Pl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":ql.delete(n.pointerId)}}function Hl(t,n,s,l,c,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:s,eventSystemFlags:l,nativeEvent:f,targetContainers:[c]},n!==null&&(n=Vn(n),n!==null&&cy(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),t)}function iE(t,n,s,l,c){switch(n){case"focusin":return Os=Hl(Os,t,n,s,l,c),!0;case"dragenter":return js=Hl(js,t,n,s,l,c),!0;case"mouseover":return Ls=Hl(Ls,t,n,s,l,c),!0;case"pointerover":var f=c.pointerId;return Pl.set(f,Hl(Pl.get(f)||null,t,n,s,l,c)),!0;case"gotpointercapture":return f=c.pointerId,ql.set(f,Hl(ql.get(f)||null,t,n,s,l,c)),!0}return!1}function my(t){var n=di(t.target);if(n!==null){var s=h(n);if(s!==null){if(n=s.tag,n===13){if(n=d(s),n!==null){t.blockedOn=n,Kn(t.priority,function(){hy(s)});return}}else if(n===31){if(n=p(s),n!==null){t.blockedOn=n,Kn(t.priority,function(){hy(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Uu(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var s=Af(t.nativeEvent);if(s===null){s=t.nativeEvent;var l=new s.constructor(s.type,s);nl=l,s.target.dispatchEvent(l),nl=null}else return n=Vn(s),n!==null&&cy(n),t.blockedOn=s,!1;n.shift()}return!0}function gy(t,n,s){Uu(t)&&s.delete(n)}function sE(){Cf=!1,Os!==null&&Uu(Os)&&(Os=null),js!==null&&Uu(js)&&(js=null),Ls!==null&&Uu(Ls)&&(Ls=null),Pl.forEach(gy),ql.forEach(gy)}function Bu(t,n){t.blockedOn===n&&(t.blockedOn=null,Cf||(Cf=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,sE)))}var Pu=null;function py(t){Pu!==t&&(Pu=t,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){Pu===t&&(Pu=null);for(var n=0;n<t.length;n+=3){var s=t[n],l=t[n+1],c=t[n+2];if(typeof l!="function"){if(wf(l||s)===null)continue;break}var f=Vn(s);f!==null&&(t.splice(n,3),n-=3,xh(f,{pending:!0,data:c,method:s.method,action:l},l,c))}}))}function xr(t){function n(N){return Bu(N,t)}Os!==null&&Bu(Os,t),js!==null&&Bu(js,t),Ls!==null&&Bu(Ls,t),Pl.forEach(n),ql.forEach(n);for(var s=0;s<zs.length;s++){var l=zs[s];l.blockedOn===t&&(l.blockedOn=null)}for(;0<zs.length&&(s=zs[0],s.blockedOn===null);)my(s),s.blockedOn===null&&zs.shift();if(s=(t.ownerDocument||t).$$reactFormReplay,s!=null)for(l=0;l<s.length;l+=3){var c=s[l],f=s[l+1],g=c[He]||null;if(typeof f=="function")g||py(s);else if(g){var E=null;if(f&&f.hasAttribute("formAction")){if(c=f,g=f[He]||null)E=g.formAction;else if(wf(c)!==null)continue}else E=g.action;typeof E=="function"?s[l+1]=E:(s.splice(l,3),l-=3),py(s)}}}function yy(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return c=g})},focusReset:"manual",scroll:"manual"})}function n(){c!==null&&(c(),c=null),l||setTimeout(s,20)}function s(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,c=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(s,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),c!==null&&(c(),c=null)}}}function Rf(t){this._internalRoot=t}qu.prototype.render=Rf.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(r(409));var s=n.current,l=In();oy(s,l,t,n,null,null)},qu.prototype.unmount=Rf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;oy(t.current,2,null,t,null,null),Tu(),n[hi]=null}};function qu(t){this._internalRoot=t}qu.prototype.unstable_scheduleHydration=function(t){if(t){var n=To();t={blockedOn:null,target:t,priority:n};for(var s=0;s<zs.length&&n!==0&&n<zs[s].priority;s++);zs.splice(s,0,t),s===0&&my(t)}};var vy=e.version;if(vy!=="19.2.3")throw Error(r(527,vy,"19.2.3"));at.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=_(n),t=t!==null?S(t):null,t=t===null?null:t.stateNode,t};var aE={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:U,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Hu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Hu.isDisabled&&Hu.supportsFiber)try{hn=Hu.inject(aE),De=Hu}catch{}}return Gl.createRoot=function(t,n){if(!o(t))throw Error(r(299));var s=!1,l="",c=Ag,f=wg,g=Cg;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=ry(t,1,!1,null,null,s,l,null,c,f,g,yy),t[hi]=n.current,uf(t),new Rf(n)},Gl.hydrateRoot=function(t,n,s){if(!o(t))throw Error(r(299));var l=!1,c="",f=Ag,g=wg,E=Cg,N=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError),s.formState!==void 0&&(N=s.formState)),n=ry(t,1,!0,n,s??null,l,c,N,f,g,E,yy),n.context=ly(null),s=n.current,l=In(),l=ia(l),c=Ts(l),c.callback=null,Ss(s,c,l),s=l,n.current.lanes=s,ea(n,s),Ci(n),t[hi]=n.current,uf(t),new qu(n)},Gl.version="19.2.3",Gl}var Ry;function pE(){if(Ry)return Nf.exports;Ry=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(e){console.error(e)}}return a(),Nf.exports=gE(),Nf.exports}var yE=pE();const vE=P0(yE),_E=()=>b.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2.5",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),bE=()=>b.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2.5",d:"M12 4v16m8-8H4"})}),nc=()=>b.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:b.jsx("path",{d:"M12 8c1.1 0 2-0.9 2-2s-0.9-2-2-2-2 0.9-2 2 0.9 2 2 2zm0 2c-1.1 0-2 0.9-2 2s0.9 2 2 2 2-0.9 2-2-0.9-2-2-2zm0 6c-1.1 0-2 0.9-2 2s0.9 2 2 2 2-0.9 2-2-0.9-2-2-2z"})}),Xu=()=>b.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2.5",d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})}),EE=()=>b.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2.5",d:"M8 11V7a4 4 0 118 0m-4 8v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2z"})}),q0=()=>b.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2.5",d:"M9 20l-5.447-2.724A1 1 0 013 16.382V5.618a1 1 0 011.447-.894L9 7m0 13l6-3m-6 3V7m6 10l4.553 2.276A1 1 0 0021 18.382V7.618a1 1 0 00-.553-.894L15 4m0 13V4m0 0L9 7"})}),Dy=/(https?:\/\/[^\s]+)|(www\.[^\s]+)/gi,Iy=/010[-\s]?\d{4}[-\s]?\d{4}/g,TE=a=>{if(!a||typeof a!="string")return[a];const e=[];let i;for(Dy.lastIndex=0;(i=Dy.exec(a))!==null;)e.push({type:"url",content:i[0],index:i.index,length:i[0].length});for(Iy.lastIndex=0;(i=Iy.exec(a))!==null;)e.some(p=>i.index>=p.index&&i.index<p.index+p.length||i.index+i[0].length>p.index&&i.index+i[0].length<=p.index+p.length)||e.push({type:"phone",content:i[0],index:i.index,length:i[0].length});e.sort((d,p)=>d.index-p.index);const r=[];let o=0,h=0;return e.forEach(d=>{if(d.index>o&&r.push(a.substring(o,d.index)),d.type==="url"){const p=d.content.startsWith("www.")?`https://${d.content}`:d.content;r.push(b.jsx("a",{href:p,target:"_blank",rel:"noopener noreferrer",onClick:y=>y.stopPropagation(),className:"text-blue-500 underline hover:text-blue-600 transition-colors",children:d.content},`url-${h++}`))}else if(d.type==="phone"){const p=d.content.replace(/[-\s]/g,"");r.push(b.jsx("a",{href:`sms:${p}`,onClick:y=>y.stopPropagation(),className:"text-green-600 underline hover:text-green-700 transition-colors",children:d.content},`phone-${h++}`))}o=d.index+d.length}),o<a.length&&r.push(a.substring(o)),r.length>0?r:[a]},Mr=({text:a,className:e=""})=>{const i=TE(a);return b.jsx("span",{className:e,children:i})},Ny=({value:a,onChange:e,placeholder:i,className:r="",textClassName:o="",rows:h=2,maxLength:d=100})=>{const[p,y]=gt.useState(!1),[_,S]=gt.useState(a),x=gt.useRef(null);gt.useEffect(()=>{var k,X;p&&((k=x.current)==null||k.focus(),(X=x.current)==null||X.select())},[p]),gt.useEffect(()=>{S(a)},[a]);const C=k=>{k.stopPropagation(),y(!0),S(a)},j=()=>{e(_),y(!1)},H=()=>{S(a),y(!1)},it=k=>{k.key==="Enter"&&(k.ctrlKey||k.metaKey)&&(k.preventDefault(),j()),k.key==="Escape"&&(k.preventDefault(),H())};return p?b.jsx("textarea",{ref:x,value:_,onChange:k=>S(k.target.value.slice(0,d)),onBlur:j,onKeyDown:it,rows:h,maxLength:d,className:`w-full p-3 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400 bg-white resize-none ${r}`}):b.jsx("div",{onDoubleClick:C,className:`cursor-pointer hover:bg-slate-50 transition-colors p-3 min-h-[4rem] rounded-lg ${o} ${r}`,children:a?b.jsx(Mr,{text:a}):b.jsx("span",{className:"text-slate-400 italic",children:i})})},SE=({goal1:a,goal2:e,onGoal1Change:i,onGoal2Change:r})=>b.jsxs("div",{className:"flex flex-row gap-3 w-full",children:[b.jsx("div",{className:"flex-1",children:b.jsx(Ny,{value:a,onChange:i,placeholder:" 1",className:"bg-white border-2 border-slate-400 shadow-sm",textClassName:"text-red-600 font-bold text-lg",rows:2,maxLength:100})}),b.jsx("div",{className:"flex-1",children:b.jsx(Ny,{value:e,onChange:r,placeholder:" 2",className:"bg-white border-2 border-slate-400 shadow-sm",textClassName:"text-blue-600 font-bold text-lg",rows:2,maxLength:100})})]}),xE=({onClearAll:a,onAddSection:e,hasAnyCompletedItems:i,onOpenNavigationMap:r,headerGoals:o,onHeaderGoalsChange:h})=>{const[d,p]=gt.useState("");return gt.useEffect(()=>{const y=()=>{const S=new Date,x={year:"numeric",month:"long",day:"numeric",weekday:"long"},C=S.toLocaleDateString("ko-KR",x),j=String(S.getHours()).padStart(2,"0"),H=String(S.getMinutes()).padStart(2,"0"),it=String(S.getSeconds()).padStart(2,"0");p(`${C} ${j}:${H}:${it}`)};y();const _=setInterval(y,1e3);return()=>clearInterval(_)},[]),b.jsxs("header",{className:"w-full px-6 flex flex-col md:flex-row md:items-end justify-between gap-4 py-6",children:[b.jsxs("div",{children:[b.jsx("h1",{className:"text-2xl font-bold text-slate-800 tracking-tight",children:" "}),b.jsxs("div",{className:"flex items-center gap-3 mt-1",children:[b.jsx("p",{className:"text-red-600 font-medium whitespace-nowrap text-sm",children:d}),b.jsxs("div",{className:"flex items-center gap-2 ml-2",children:[b.jsx("button",{onClick:r,className:"text-slate-900 hover:text-black p-1.5 rounded-lg transition-colors bg-white border border-slate-200 shadow-sm",title:"  ",children:b.jsx(q0,{})}),b.jsx("button",{onClick:a,disabled:!i,className:"text-slate-900 hover:text-black p-1.5 rounded-lg transition-colors disabled:opacity-30 disabled:cursor-not-allowed bg-white border border-slate-200 shadow-sm",title:"   ",children:b.jsx(_E,{})}),b.jsxs("button",{onClick:e,className:"flex items-center gap-1.5 px-3 py-1.5 bg-yellow-400 border border-yellow-500 text-yellow-950 text-xs font-bold rounded-lg hover:bg-yellow-500 transition-all shadow-sm",title:" ",children:[b.jsx(bE,{}),b.jsx("span",{className:"hidden sm:inline",children:"+"})]})]})]})]}),o&&h&&b.jsx("div",{className:"flex-1 hidden lg:flex items-end justify-end",children:b.jsx("div",{className:"w-[90%]",children:b.jsx(SE,{goal1:o.goal1,goal2:o.goal2,onGoal1Change:y=>h({...o,goal1:y}),onGoal2Change:y=>h({...o,goal2:y})})})})]})},io=({value:a,onChange:e,placeholder:i,className:r="",compact:o=!1})=>{const[h,d]=gt.useState(!1),[p,y]=gt.useState(a),_=gt.useRef(null);gt.useEffect(()=>{var H;h&&((H=_.current)==null||H.focus())},[h]);const S=H=>{H.stopPropagation(),d(!0),y(a)},x=()=>{e(p),d(!1)},C=()=>{y(a),d(!1)},j=H=>{H.key==="Enter"&&x(),H.key==="Escape"&&C()};return h?b.jsx("input",{ref:_,value:p,onChange:H=>y(H.target.value),onBlur:x,onKeyDown:j,className:`w-full ${o?"p-0 text-lg leading-normal":"p-1"} border border-slate-300 rounded focus:outline-none focus:ring-1 focus:ring-slate-400 bg-white ${r}`}):b.jsx("div",{onDoubleClick:S,className:`cursor-pointer hover:bg-slate-50 transition-colors ${o?"p-0 min-h-0 text-lg leading-tight":"p-1 min-h-[1.5rem]"} rounded break-words ${r}`,children:a?b.jsx(Mr,{text:a}):b.jsx("span",{className:"text-slate-400 italic text-[0.8em]",children:i})})};function vc(a,e){gt.useEffect(()=>{function i(r){a.current&&!a.current.contains(r.target)&&e()}return document.addEventListener("mousedown",i),()=>document.removeEventListener("mousedown",i)},[a,e])}const AE=({item:a,sectionId:e,memo:i,onToggle:r,onUpdateText:o,onDelete:h,onAddMemo:d,onMoveItem:p,onCopy:y,dragState:_,onDragStart:S,onDragOver:x,onDrop:C,onDragEnd:j})=>{const[H,it]=gt.useState(!1),[k,X]=gt.useState(!1),[et,ot]=gt.useState({left:0}),ct=gt.useRef(null),Tt=gt.useRef(null);vc(Tt,()=>it(!1));const wt=R=>{R.stopPropagation();const O=window.innerWidth<768;if(ct.current&&!O){const V=ct.current.getBoundingClientRect();window.innerHeight-V.bottom>=230?ot({top:V.bottom+8,left:V.right+8}):ot({bottom:window.innerHeight-V.top+8,left:V.right+8})}it(!H)},I=_.draggedItemId===a.id,A=_.dragOverItemId===a.id;return b.jsxs("div",{draggable:!0,onDragStart:S,onDragOver:x,onDrop:C,onDragEnd:j,className:`group flex items-center gap-1 py-1.5 px-0 rounded transition-all cursor-move relative min-h-0 ${I?"opacity-50 bg-slate-100":A?"bg-blue-50 border-l-2 border-blue-400":"hover:bg-slate-50"}`,children:[b.jsx("input",{type:"checkbox",checked:a.completed,onChange:r,className:"w-5 h-5 rounded border-slate-300 text-slate-700 focus:ring-slate-500 cursor-pointer flex-shrink-0"}),b.jsxs("div",{className:"flex-1 min-w-0",children:[b.jsx("div",{className:`text-sm leading-snug font-medium ${a.completed?"line-through text-slate-400":"text-slate-700"}`,children:b.jsx(io,{value:a.text,onChange:o,placeholder:" ...",className:"text-sm",compact:!0})}),i&&b.jsx("div",{onClick:R=>{R.stopPropagation(),d()},className:"text-xs text-green-600 truncate cursor-pointer hover:text-green-700 transition-colors mt-0.5 pl-1 font-medium",title:i,children:b.jsx(Mr,{text:i})})]}),b.jsxs("div",{className:"relative flex-shrink-0 -mr-3",children:[a.completed?b.jsx("button",{onClick:()=>X(!0),className:"bg-red-500 hover:bg-red-600 text-white px-3 py-1.5 rounded-md transition-colors text-sm font-medium border-2 border-black",title:"",children:""}):b.jsx("button",{ref:ct,onClick:wt,className:"text-slate-500 hover:text-slate-700 transition-colors p-0 rounded",title:"",children:b.jsx(nc,{})}),H&&!a.completed&&(()=>{const R=window.innerWidth<768;return b.jsxs("div",{ref:Tt,className:`${R?"absolute":"fixed"} bg-white rounded-lg shadow-xl border border-slate-200 z-50 py-1.5 w-48 animate-in fade-in ${R?"slide-in-from-right-2":"slide-in-from-left-2"} duration-150`,style:{...R?{right:0,top:"100%",marginTop:"4px"}:{...et.top!==void 0&&{top:`${et.top}px`},...et.bottom!==void 0&&{bottom:`${et.bottom}px`},left:`${et.left}px`}},onClick:O=>O.stopPropagation(),children:[b.jsx("button",{onClick:()=>{d(),it(!1)},className:"w-full text-left px-4 py-2.5 text-sm text-slate-700 hover:bg-slate-100 transition-colors",children:"  /"}),b.jsx("button",{onClick:()=>{p(),it(!1)},className:"w-full text-left px-4 py-2.5 text-sm text-slate-700 hover:bg-slate-100 transition-colors",children:" "}),b.jsx("button",{onClick:()=>{y(),it(!1)},className:"w-full text-left px-4 py-2.5 text-sm text-slate-700 hover:bg-slate-100 transition-colors",children:" "}),b.jsx("button",{onClick:()=>{h(),it(!1)},className:"w-full text-left px-4 py-2.5 text-sm text-red-600 hover:bg-red-50 transition-colors",children:" "}),b.jsx("button",{onClick:()=>it(!1),className:"w-full text-left px-4 py-2.5 text-sm text-slate-500 hover:bg-slate-100 transition-colors border-t border-slate-200",children:""})]})})(),k&&b.jsx("div",{className:"fixed inset-0 bg-black/40 flex items-center justify-center z-50 animate-in fade-in duration-150",children:b.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-6 max-w-sm mx-4 animate-in zoom-in duration-200",children:[b.jsx("h2",{className:"text-lg font-bold text-slate-800 mb-2",children:" ?"}),b.jsxs("p",{className:"text-sm text-slate-600 mb-6",children:['"',b.jsx("span",{className:"font-medium line-through",children:a.text}),'"() .']}),b.jsxs("div",{className:"flex gap-3 justify-end",children:[b.jsx("button",{onClick:()=>X(!1),className:"px-4 py-2 rounded-lg border-2 border-slate-300 text-slate-700 font-medium hover:bg-slate-50 transition-colors",children:""}),b.jsx("button",{onClick:()=>{h(),X(!1)},className:"px-4 py-2 rounded-lg bg-red-500 hover:bg-red-600 text-white font-medium border-2 border-black transition-colors",children:""})]})]})})]})]})},jf=({section:a,itemMemos:e,onUpdateSection:i,onDeleteSection:r,onShowItemMemo:o,onMoveItem:h,dragState:d,setDragState:p,onSectionDragStart:y,onSectionDragOver:_,onSectionDrop:S,onSectionDragEnd:x,isHighlighted:C=!1,isInboxSection:j=!1,isFullHeight:H=!1,tabColorText:it="text-slate-800",tabColorBg:k=""})=>{const[X,et]=gt.useState(""),ot=U=>{i({...a,title:U})},ct=U=>{if(U.key==="Enter"){const at=X.trim();if(at==="")return;const dt={id:Math.random().toString(36).substr(2,9),text:at,completed:!1};i({...a,items:[dt,...a.items]}),et("")}},Tt=()=>{i({...a,isLocked:!a.isLocked})},wt=U=>{const at=a.items.map(dt=>dt.id===U?{...dt,completed:!dt.completed}:dt);i({...a,items:at})},I=(U,at)=>{const dt=a.items.map(Z=>Z.id===U?{...Z,text:at}:Z);i({...a,items:dt})},A=U=>{const at=a.items.filter(dt=>dt.id!==U);i({...a,items:at})},R=U=>{const at=a.items.find(dt=>dt.id===U);at&&navigator.clipboard.writeText(at.text).then(()=>{console.log(" :",at.text)}).catch(dt=>{console.error("  :",dt)})};a.items.some(U=>U.completed);const O=(U,at)=>{U.stopPropagation(),p({...d,draggedItemId:at,sourceSectionId:a.id})},V=(U,at)=>{U.preventDefault(),d.dragOverItemId!==at&&p({...d,dragOverItemId:at})},L=(U,at)=>{if(U.preventDefault(),U.stopPropagation(),!d.draggedItemId||d.sourceSectionId!==a.id)return;const dt=a.items.findIndex(G=>G.id===d.draggedItemId),Z=a.items.findIndex(G=>G.id===at);if(dt===-1||Z===-1)return;const ut=[...a.items],[w]=ut.splice(dt,1);ut.splice(Z,0,w),i({...a,items:ut})},D=()=>{p({...d,draggedItemId:null,dragOverItemId:null,sourceSectionId:null})},Ht=d.draggedSectionId===a.id,ce=d.dragOverSectionId===a.id;return b.jsxs("section",{"data-section-id":a.id,draggable:!0,onDragStart:y,onDragOver:_,onDrop:S,onDragEnd:x,className:`bg-white px-4 py-4 transition-all flex flex-col ${j||H?"h-full":"h-[350px]"} cursor-default ${C?"border-2 border-yellow-400 shadow-lg ring-2 ring-yellow-300/50":Ht?"opacity-40 border-2 border-slate-600 shadow-sm":ce?"border-blue-500 border-2 scale-[1.01] shadow-sm":"border-2 border-black shadow-sm"}`,children:[b.jsxs("div",{className:`flex items-center justify-between mb-3 gap-2 cursor-move flex-shrink-0 px-4 py-3 -mx-4 -mt-4 mb-3 border-b-2 border-black ${k}`,title:"  ",children:[b.jsx("div",{className:"flex-1 min-w-0",children:b.jsx(io,{value:a.title,onChange:ot,className:"text-xl font-bold text-black",placeholder:" "})}),b.jsxs("div",{className:"flex items-center gap-1.5",children:[!j&&b.jsx("button",{onClick:Tt,className:"text-red-500 hover:text-red-700 p-0.5 rounded-full transition-colors",title:a.isLocked?"  ":" ",children:a.isLocked?b.jsx(Xu,{}):b.jsx(EE,{})}),!j&&b.jsx("button",{disabled:a.isLocked,onClick:()=>r(a.id),className:"bg-red-500 hover:bg-red-600 text-white px-2 py-1 rounded-md transition-colors text-sm font-medium border-2 border-black disabled:opacity-30 disabled:cursor-not-allowed",title:a.isLocked?"    ":" ",children:""})]})]}),b.jsx("div",{className:"mb-3 flex-shrink-0",children:b.jsx("input",{type:"text",value:X,onChange:U=>et(U.target.value),onKeyDown:ct,placeholder:"    Enter...",className:"w-full px-3 py-2 text-sm border-2 border-black rounded-lg bg-white focus:outline-none focus:ring-2 focus:ring-yellow-400 focus:border-yellow-400 transition-all"})}),b.jsxs("div",{className:"space-y-0.5 overflow-y-auto overflow-x-hidden flex-1 pr-1",children:[[...a.items].sort((U,at)=>U.completed===at.completed?0:U.completed?1:-1).map(U=>b.jsx(AE,{item:U,sectionId:a.id,memo:e[U.id],onToggle:()=>wt(U.id),onUpdateText:at=>I(U.id,at),onDelete:()=>A(U.id),onAddMemo:()=>o(U.id),onMoveItem:()=>h(U.id),onCopy:()=>R(U.id),dragState:d,onDragStart:at=>O(at,U.id),onDragOver:at=>V(at,U.id),onDrop:at=>L(at,U.id),onDragEnd:D},U.id)),a.items.length===0&&b.jsx("div",{className:"flex flex-col items-center justify-center h-full text-slate-400 opacity-60",children:b.jsx("p",{className:"text-[11px] italic",children:"  ."})})]})]})},wE=({isOpen:a,title:e,message:i,onConfirm:r,onCancel:o})=>a?b.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-slate-900/20 backdrop-blur-[2px]",children:b.jsxs("div",{className:"bg-white w-full max-w-sm rounded-2xl shadow-2xl border border-slate-200 overflow-hidden transform transition-all",children:[b.jsx("div",{className:"px-6 py-4 border-b border-slate-100",children:b.jsx("h2",{className:"text-lg font-bold text-slate-800",children:e})}),b.jsx("div",{className:"px-6 py-6",children:b.jsx("p",{className:"text-slate-600 text-sm leading-relaxed",children:i})}),b.jsxs("div",{className:"px-6 py-4 border-t border-slate-100 bg-slate-50 flex justify-end gap-3",children:[b.jsx("button",{onClick:o,className:"px-4 py-2 bg-slate-200 text-slate-800 text-sm font-semibold rounded-lg hover:bg-slate-300 transition-colors",children:""}),b.jsx("button",{onClick:r,className:"px-4 py-2 bg-red-500 text-white text-sm font-semibold rounded-lg hover:bg-red-600 transition-colors",children:""})]})]})}):null,CE=({info:a,onChange:e,onShowChecklistMemo:i,onShowShoppingMemo:r})=>{const o=a.checklistItems||[],h=a.shoppingListItems||[],[d,p]=gt.useState({draggedItemId:null,dragOverItemId:null}),[y,_]=gt.useState({draggedItemId:null,dragOverItemId:null}),[S,x]=gt.useState(null),[C,j]=gt.useState({left:0}),H=gt.useRef(null),it=gt.useRef({});vc(H,()=>x(null));const k=(Z,ut)=>{Z.stopPropagation();const w=window.innerWidth<768;if(it.current[ut]&&!w){const G=it.current[ut].getBoundingClientRect();window.innerHeight-G.bottom>=190?j({top:G.bottom+8,left:G.right+8}):j({bottom:window.innerHeight-G.top+8,left:G.right+8})}x(S===ut?null:ut)},X=()=>{const Z={id:Math.random().toString(36).substr(2,9),text:"",completed:!1};e({...a,checklistItems:[...o,Z]})},et=Z=>{const ut=o.map(w=>w.id===Z?{...w,completed:!w.completed}:w);e({...a,checklistItems:ut})},ot=(Z,ut)=>{const w=o.map(G=>G.id===Z?{...G,text:ut}:G);e({...a,checklistItems:w})},ct=Z=>{const ut=o.filter(w=>w.id!==Z);e({...a,checklistItems:ut})},Tt=Z=>{const ut=o.find(w=>w.id===Z);ut&&navigator.clipboard.writeText(ut.text).then(()=>{console.log(" :",ut.text)}).catch(w=>{console.error("  :",w)})},wt=(Z,ut)=>{Z.stopPropagation(),p({draggedItemId:ut,dragOverItemId:null})},I=(Z,ut)=>{Z.preventDefault(),d.dragOverItemId!==ut&&p(w=>({...w,dragOverItemId:ut}))},A=(Z,ut)=>{if(Z.preventDefault(),Z.stopPropagation(),!d.draggedItemId||d.draggedItemId===ut)return;const w=o.findIndex(bt=>bt.id===d.draggedItemId),G=o.findIndex(bt=>bt.id===ut);if(w===-1||G===-1)return;const $=[...o],[ft]=$.splice(w,1);$.splice(G,0,ft),e({...a,checklistItems:$}),p({draggedItemId:null,dragOverItemId:null})},R=()=>{p({draggedItemId:null,dragOverItemId:null})},O=()=>{const Z={id:Math.random().toString(36).substr(2,9),text:"",completed:!1};e({...a,shoppingListItems:[...h,Z]})},V=Z=>{const ut=h.map(w=>w.id===Z?{...w,completed:!w.completed}:w);e({...a,shoppingListItems:ut})},L=(Z,ut)=>{const w=h.map(G=>G.id===Z?{...G,text:ut}:G);e({...a,shoppingListItems:w})},D=Z=>{const ut=h.filter(w=>w.id!==Z);e({...a,shoppingListItems:ut})},Ht=Z=>{const ut=h.find(w=>w.id===Z);ut&&navigator.clipboard.writeText(ut.text).then(()=>{console.log(" :",ut.text)}).catch(w=>{console.error("  :",w)})},ce=(Z,ut)=>{Z.stopPropagation(),_({draggedItemId:ut,dragOverItemId:null})},U=(Z,ut)=>{Z.preventDefault(),y.dragOverItemId!==ut&&_(w=>({...w,dragOverItemId:ut}))},at=(Z,ut)=>{if(Z.preventDefault(),Z.stopPropagation(),!y.draggedItemId||y.draggedItemId===ut)return;const w=h.findIndex(bt=>bt.id===y.draggedItemId),G=h.findIndex(bt=>bt.id===ut);if(w===-1||G===-1)return;const $=[...h],[ft]=$.splice(w,1);$.splice(G,0,ft),e({...a,shoppingListItems:$}),_({draggedItemId:null,dragOverItemId:null})},dt=()=>{_({draggedItemId:null,dragOverItemId:null})};return b.jsxs("div",{className:"flex flex-col h-full bg-white border-2 border-black p-4 shadow-sm",children:[b.jsx("div",{className:"flex items-center justify-between mb-3 flex-shrink-0",children:b.jsx("h2",{className:"text-sm font-bold text-slate-800",children:""})}),b.jsxs("div",{className:"mb-4",children:[b.jsx("label",{className:"block text-[9px] font-bold text-slate-500 mb-0.5 uppercase tracking-wider",children:"Location Info"}),b.jsx("input",{type:"text",value:a.text,onChange:Z=>e({text:Z.target.value,checklistItems:o}),placeholder:": B2 14C",className:"w-full px-2 py-1.5 bg-slate-50 border border-slate-300 rounded-lg focus:outline-none focus:ring-1 focus:ring-slate-500 text-xs text-slate-700 font-medium placeholder:text-slate-300"})]}),b.jsx("div",{className:"border-t-2 border-blue-400 mb-4"}),b.jsxs("div",{className:"flex-1 flex flex-col min-h-0",children:[b.jsxs("div",{className:"flex items-center justify-between mb-2",children:[b.jsx("label",{className:"block text-sm font-bold text-slate-800",children:""}),b.jsx("button",{onClick:X,className:"text-xs text-blue-600 hover:text-blue-700 font-medium",children:"+ "})]}),b.jsx("div",{className:"border-t border-slate-200 mb-3"}),b.jsxs("div",{className:"space-y-0 overflow-y-auto overflow-x-hidden flex-1",children:[[...o].sort((Z,ut)=>Z.completed===ut.completed?0:Z.completed?1:-1).map(Z=>{var G;const ut=d.draggedItemId===Z.id,w=d.dragOverItemId===Z.id;return b.jsxs("div",{draggable:!0,onDragStart:$=>wt($,Z.id),onDragOver:$=>I($,Z.id),onDrop:$=>A($,Z.id),onDragEnd:R,className:`flex items-center gap-1 py-1.5 px-0 rounded transition-all cursor-move relative min-h-0 ${ut?"opacity-50 bg-slate-100":w?"bg-blue-50 border-l-2 border-blue-400":"hover:bg-slate-50"}`,children:[b.jsx("input",{type:"checkbox",checked:Z.completed,onChange:()=>et(Z.id),className:"w-5 h-5 rounded border-slate-300 text-slate-700 focus:ring-slate-500 cursor-pointer flex-shrink-0"}),b.jsxs("div",{className:"flex-1 min-w-0",children:[b.jsx("div",{className:`text-sm leading-snug font-medium ${Z.completed?"line-through text-slate-400":"text-slate-700"}`,children:b.jsx(io,{value:Z.text,onChange:$=>ot(Z.id,$),placeholder:" ...",className:"text-sm",compact:!0})}),((G=a.checklistMemos)==null?void 0:G[Z.id])&&b.jsx("div",{onClick:$=>{$.stopPropagation(),i(Z.id)},className:"text-xs text-green-600 truncate cursor-pointer hover:text-green-700 transition-colors mt-0.5 pl-1 font-medium",title:a.checklistMemos[Z.id],children:b.jsx(Mr,{text:a.checklistMemos[Z.id]})})]}),b.jsxs("div",{className:"relative flex-shrink-0 -mr-3",children:[b.jsx("button",{ref:$=>{$&&(it.current[Z.id]=$)},onClick:$=>k($,Z.id),className:"text-slate-600 hover:text-slate-800 transition-colors p-1.5 rounded",title:"",style:{transform:"scale(1.2)"},children:b.jsx(nc,{})}),S===Z.id&&(()=>{const $=window.innerWidth<768;return b.jsxs("div",{ref:H,className:`${$?"absolute":"fixed"} bg-white rounded-lg shadow-xl border border-slate-200 z-50 py-1.5 w-48 animate-in fade-in ${$?"slide-in-from-right-2":"slide-in-from-left-2"} duration-150`,style:{...$?{right:0,top:"100%",marginTop:"4px"}:{...C.top!==void 0&&{top:`${C.top}px`},...C.bottom!==void 0&&{bottom:`${C.bottom}px`},left:`${C.left}px`}},onClick:ft=>ft.stopPropagation(),children:[b.jsx("button",{onClick:()=>{i(Z.id),x(null)},className:"w-full text-left px-4 py-2.5 text-sm text-slate-700 hover:bg-slate-100 transition-colors",children:"  /"}),b.jsx("button",{onClick:()=>{Tt(Z.id),x(null)},className:"w-full text-left px-4 py-2.5 text-sm text-slate-700 hover:bg-slate-100 transition-colors",children:" "}),b.jsx("button",{onClick:()=>{ct(Z.id),x(null)},className:"w-full text-left px-4 py-2.5 text-sm text-red-600 hover:bg-red-50 transition-colors border-t border-slate-200",children:" "})]})})()]})]},Z.id)}),o.length===0&&b.jsx("div",{className:"text-center py-4 text-slate-400 text-xs italic",children:" "})]})]}),b.jsx("div",{className:"border-t-2 border-blue-400 my-4"}),b.jsxs("div",{className:"flex-1 flex flex-col min-h-0",children:[b.jsxs("div",{className:"flex items-center justify-between mb-2",children:[b.jsx("label",{className:"block text-sm font-bold text-slate-800",children:""}),b.jsx("button",{onClick:O,className:"text-xs text-blue-600 hover:text-blue-700 font-medium",children:"+ "})]}),b.jsx("div",{className:"border-t border-slate-200 mb-3"}),b.jsxs("div",{className:"space-y-0 overflow-y-auto overflow-x-hidden flex-1",children:[[...h].sort((Z,ut)=>Z.completed===ut.completed?0:Z.completed?1:-1).map(Z=>{var G;const ut=y.draggedItemId===Z.id,w=y.dragOverItemId===Z.id;return b.jsxs("div",{draggable:!0,onDragStart:$=>ce($,Z.id),onDragOver:$=>U($,Z.id),onDrop:$=>at($,Z.id),onDragEnd:dt,className:`flex items-center gap-1 py-1.5 px-0 rounded transition-all cursor-move relative min-h-0 ${ut?"opacity-50 bg-slate-100":w?"bg-blue-50 border-l-2 border-blue-400":"hover:bg-slate-50"}`,children:[b.jsx("input",{type:"checkbox",checked:Z.completed,onChange:()=>V(Z.id),className:"w-5 h-5 rounded border-slate-300 text-slate-700 focus:ring-slate-500 cursor-pointer flex-shrink-0"}),b.jsxs("div",{className:"flex-1 min-w-0",children:[b.jsx("div",{className:`text-sm leading-snug font-medium ${Z.completed?"line-through text-slate-400":"text-slate-700"}`,children:b.jsx(io,{value:Z.text,onChange:$=>L(Z.id,$),placeholder:" ...",className:"text-sm",compact:!0})}),((G=a.shoppingListMemos)==null?void 0:G[Z.id])&&b.jsx("div",{onClick:$=>{$.stopPropagation(),r(Z.id)},className:"text-xs text-green-600 truncate cursor-pointer hover:text-green-700 transition-colors mt-0.5 pl-1 font-medium",title:a.shoppingListMemos[Z.id],children:b.jsx(Mr,{text:a.shoppingListMemos[Z.id]})})]}),b.jsxs("div",{className:"relative flex-shrink-0 -mr-3",children:[b.jsx("button",{ref:$=>{$&&(it.current[Z.id]=$)},onClick:$=>k($,Z.id),className:"text-slate-600 hover:text-slate-800 transition-colors p-1.5 rounded",title:"",style:{transform:"scale(1.2)"},children:b.jsx(nc,{})}),S===Z.id&&(()=>{const $=window.innerWidth<768;return b.jsxs("div",{ref:H,className:`${$?"absolute":"fixed"} bg-white rounded-lg shadow-xl border border-slate-200 z-50 py-1.5 w-48 animate-in fade-in ${$?"slide-in-from-right-2":"slide-in-from-left-2"} duration-150`,style:{...$?{right:0,top:"100%",marginTop:"4px"}:{...C.top!==void 0&&{top:`${C.top}px`},...C.bottom!==void 0&&{bottom:`${C.bottom}px`},left:`${C.left}px`}},onClick:ft=>ft.stopPropagation(),children:[b.jsx("button",{onClick:()=>{r(Z.id),x(null)},className:"w-full text-left px-4 py-2.5 text-sm text-slate-700 hover:bg-slate-100 transition-colors",children:"  /"}),b.jsx("button",{onClick:()=>{Ht(Z.id),x(null)},className:"w-full text-left px-4 py-2.5 text-sm text-slate-700 hover:bg-slate-100 transition-colors",children:" "}),b.jsx("button",{onClick:()=>{D(Z.id),x(null)},className:"w-full text-left px-4 py-2.5 text-sm text-red-600 hover:bg-red-50 transition-colors border-t border-slate-200",children:" "})]})})()]})]},Z.id)}),h.length===0&&b.jsx("div",{className:"text-center py-4 text-slate-400 text-xs italic",children:" "})]})]})]})},Vy=[{bg:"bg-[#F59E0B]",bgLight:"bg-[#FEF3C7]",text:"text-[#92400E]",textLight:"text-[#D97706]",border:"border-[#F59E0B]"},{bg:"bg-[#3B82F6]",bgLight:"bg-[#DBEAFE]",text:"text-[#1E3A8A]",textLight:"text-[#3B82F6]",border:"border-[#3B82F6]"},{bg:"bg-[#9333EA]",bgLight:"bg-[#F3E8FF]",text:"text-[#581C87]",textLight:"text-[#9333EA]",border:"border-[#9333EA]"},{bg:"bg-[#10B981]",bgLight:"bg-[#D1FAE5]",text:"text-[#065F46]",textLight:"text-[#10B981]",border:"border-[#10B981]"},{bg:"bg-[#F43F5E]",bgLight:"bg-[#FFE4E6]",text:"text-[#881337]",textLight:"text-[#F43F5E]",border:"border-[#F43F5E]"},{bg:"bg-[#06B6D4]",bgLight:"bg-[#CFFAFE]",text:"text-[#164E63]",textLight:"text-[#06B6D4]",border:"border-[#06B6D4]"},{bg:"bg-[#8B5CF6]",bgLight:"bg-[#EDE9FE]",text:"text-[#4C1D95]",textLight:"text-[#8B5CF6]",border:"border-[#8B5CF6]"},{bg:"bg-[#F97316]",bgLight:"bg-[#FFEDD5]",text:"text-[#7C2D12]",textLight:"text-[#F97316]",border:"border-[#F97316]"}],Yl=a=>Vy[a%Vy.length],RE=({tab:a,onDelete:e,onToggleLock:i,canDelete:r,isActive:o,tabColor:h})=>{const[d,p]=gt.useState(!1),[y,_]=gt.useState({bottom:0,left:0}),S=gt.useRef(null),x=gt.useRef(null);vc(x,()=>p(!1));const C=H=>{if(H.stopPropagation(),S.current){const it=S.current.getBoundingClientRect();_({bottom:window.innerHeight-it.top+8,left:it.left})}p(!d)},j=r&&!a.isLocked;return b.jsxs("div",{className:"relative ml-1",children:[b.jsx("button",{ref:S,onClick:C,className:`p-1 rounded-full transition-all flex items-center justify-center ${o?`opacity-100 ${h.text} hover:bg-black/5`:`opacity-40 group-hover:opacity-100 ${h.textLight} hover:bg-black/5`}`,title:" ",children:b.jsx(nc,{})}),d&&b.jsxs("div",{ref:x,className:"fixed bg-white rounded-xl shadow-[0_10px_30px_rgba(0,0,0,0.2)] border border-slate-200 z-[999] py-1 overflow-hidden animate-in fade-in slide-in-from-bottom-2 duration-150 w-32",style:{bottom:`${y.bottom}px`,left:`${y.left}px`},onClick:H=>H.stopPropagation(),children:[b.jsxs("button",{onClick:()=>{i(a.id),p(!1)},className:"w-full text-left px-3 py-2 text-xs text-slate-700 hover:bg-slate-100 transition-colors flex items-center gap-2",children:[b.jsx("span",{className:"text-sm leading-none",children:a.isLocked?"":""}),b.jsx("span",{className:"font-bold",children:a.isLocked?" ":""})]}),b.jsxs("button",{disabled:!j,onClick:()=>{e(a.id),p(!1)},className:`w-full text-left px-3 py-2 text-xs transition-colors flex items-center gap-2 border-t border-slate-50 ${j?"text-red-600 hover:bg-red-50":"text-slate-300 cursor-not-allowed bg-slate-50"}`,children:[b.jsx("span",{className:"text-sm leading-none",children:""}),b.jsx("span",{className:"font-bold",children:""})]}),b.jsx("button",{onClick:()=>p(!1),className:"w-full text-left px-3 py-2 text-xs text-slate-500 hover:bg-slate-100 transition-colors border-t border-slate-100 font-medium",children:""})]})]})},DE=({tabs:a,activeTabId:e,onSelectTab:i,onAddTab:r,onRenameTab:o,onDeleteTab:h,onToggleLockTab:d,onReorderTabs:p,onNavigateToInbox:y,hasInbox:_})=>{const[S,x]=gt.useState(null),[C,j]=gt.useState(null),H=(et,ot)=>{if(a[ot].isLocked){et.preventDefault();return}x(ot),et.dataTransfer.effectAllowed="move"},it=(et,ot)=>{et.preventDefault(),et.dataTransfer.dropEffect="move",j(ot)},k=(et,ot)=>{et.preventDefault(),S!==null&&S!==ot&&p(S,ot),x(null),j(null)},X=()=>{x(null),j(null)};return b.jsx("div",{className:"bg-white border-t border-slate-200 z-[100] h-12 shadow-[0_-2px_15px_rgba(0,0,0,0.08)] relative",children:b.jsxs("div",{className:"w-full h-full flex items-center overflow-x-auto no-scrollbar whitespace-nowrap px-6 gap-1",children:[_&&b.jsx("button",{onClick:y,className:"flex items-center justify-center w-8 h-8 text-lg leading-none hover:bg-blue-50 rounded-lg transition-all active:scale-95 flex-shrink-0",title:"  IN-BOX  ",children:""}),a.map((et,ot)=>{const ct=Yl(ot),Tt=e===et.id,wt=S===ot,I=C===ot;return b.jsxs("div",{draggable:!et.isLocked,onDragStart:A=>H(A,ot),onDragOver:A=>it(A,ot),onDrop:A=>k(A,ot),onDragEnd:X,onClick:()=>i(et.id),className:`group flex items-center gap-1.5 px-2.5 py-1.5 rounded-lg cursor-pointer transition-all border flex-shrink-0 ${wt?"opacity-50":""} ${I?"ring-2 ring-offset-1 ring-blue-400":""} ${et.isLocked?"":"hover:shadow-md"} ${Tt?`${ct.bg} ${ct.text} ${ct.border} shadow-sm`:`${ct.bgLight} ${ct.textLight} border-transparent hover:${ct.border}`} ${et.isLocked?"cursor-default":""}`,children:[b.jsx("div",{draggable:!1,onDragStart:A=>A.stopPropagation(),children:b.jsx(io,{value:et.name,onChange:A=>o(et.id,A),className:`text-xs min-w-[40px] text-center ${Tt?"font-bold":"font-medium"}`,placeholder:" "})}),b.jsx(RE,{tab:et,onDelete:h,onToggleLock:d,canDelete:a.length>1,isActive:Tt,tabColor:ct})]},et.id)}),b.jsx("div",{className:"flex items-center ml-2 border-l border-slate-200 pl-4 flex-shrink-0 h-8",children:b.jsxs("button",{onClick:r,className:"flex items-center gap-1.5 px-3 py-1.5 text-xs font-bold text-emerald-600 hover:bg-emerald-50 rounded-lg transition-all active:scale-95",children:[b.jsx("span",{className:"text-lg leading-none",children:"+"}),b.jsx("span",{children:" "})]})})]})})},IE=["#F1F1EF","#F4EEEE","#FBECDD","#FBF3DB","#EDF3EC","#E7F3F8","#F3F0F5","#F9F0F4","#FDEBEC","#FFFFFF","#E1E1E1","#D3D3D3","#E9E5E3","#F7F6F3","#FAF9F6","#F1F5F9","#F0FDF4","#EFF6FF","#F5F3FF","#FDF2F8","#FFFBEB","#FFF1F2","#FEFCE8","#F0FDFA"],NE=({isOpen:a,bookmark:e,onClose:i,onSave:r})=>{const[o,h]=gt.useState({...e});if(gt.useEffect(()=>{a&&h({...e})},[a,e]),!a)return null;const d=()=>{r(o)},p=y=>y.startsWith("#");return b.jsx("div",{className:"fixed inset-0 z-[200] flex items-center justify-center p-4 bg-black/30 backdrop-blur-[2px]",onClick:i,children:b.jsxs("div",{className:"bg-[#F7F6F3] w-full max-w-2xl rounded-xl shadow-2xl overflow-hidden animate-in fade-in zoom-in duration-200",onClick:y=>y.stopPropagation(),children:[b.jsxs("div",{className:"bg-white px-6 py-4 flex items-center justify-between border-b border-slate-200",children:[b.jsx("h2",{className:"text-lg font-bold text-slate-800",children:" "}),b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("button",{onClick:d,className:"px-4 py-1.5 bg-[#3B82F6] text-white text-sm font-bold rounded shadow-sm hover:brightness-95 active:scale-95 transition-all",children:""}),b.jsx("button",{onClick:i,className:"px-4 py-1.5 bg-[#F1B116] text-white text-sm font-bold rounded shadow-sm hover:brightness-95 active:scale-95 transition-all",children:""})]})]}),b.jsxs("div",{className:"p-8 flex flex-col md:flex-row gap-12",children:[b.jsxs("div",{className:"flex-1 space-y-6",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-bold text-slate-400 mb-2 uppercase tracking-tight",children:""}),b.jsx("input",{type:"text",value:o.label,onChange:y=>h({...o,label:y.target.value}),className:"w-full px-4 py-2.5 bg-white border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/20 text-slate-700 font-medium"})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-bold text-slate-400 mb-2 uppercase tracking-tight",children:"URL"}),b.jsx("input",{type:"text",value:o.url,onChange:y=>h({...o,url:y.target.value}),className:"w-full px-4 py-2.5 bg-white border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/20 text-slate-700 font-medium"})]})]}),b.jsxs("div",{className:"flex-1",children:[b.jsx("label",{className:"block text-sm font-bold text-slate-400 mb-4 text-center md:text-left uppercase tracking-tight",children:"  "}),b.jsx("div",{className:"grid grid-cols-6 gap-2 mb-8",children:IE.map(y=>b.jsx("button",{onClick:()=>h({...o,color:`bg-[${y}]`}),className:`w-10 h-10 rounded-lg border transition-all hover:scale-110 ${o.color===`bg-[${y}]`?"border-blue-500 shadow-md scale-110 ring-2 ring-blue-100":"border-slate-200"}`,style:{backgroundColor:y}},y))}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-bold text-slate-400 mb-2 uppercase tracking-tight",children:" "}),b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("div",{className:"w-12 h-10 rounded border border-slate-300 relative overflow-hidden",style:{backgroundColor:p(o.color.replace("bg-[","").replace("]",""))?o.color.replace("bg-[","").replace("]",""):"#FFFFFF"},children:b.jsx("input",{type:"color",className:"absolute inset-0 opacity-0 cursor-pointer w-full h-full",value:p(o.color.replace("bg-[","").replace("]",""))?o.color.replace("bg-[","").replace("]",""):"#FFFFFF",onChange:y=>h({...o,color:`bg-[${y.target.value.toUpperCase()}]`})})}),b.jsx("input",{type:"text",value:o.color.replace("bg-[","").replace("]",""),onChange:y=>h({...o,color:`bg-[${y.target.value.toUpperCase()}]`}),className:"flex-1 px-4 py-2 bg-white border border-slate-300 rounded-lg focus:outline-none text-slate-700 font-mono",placeholder:"#000000"})]})]})]})]})]})})},VE=({bookmarks:a,onUpdateBookmarks:e})=>{const[i,r]=gt.useState(null),[o,h]=gt.useState(null),[d,p]=gt.useState(null),y=X=>{X&&(X.startsWith("http")?window.open(X,"_blank"):window.open(`https://${X}`,"_blank"))},_=(X,et)=>{X.preventDefault(),r(et)},S=(X,et)=>{h(et),X.dataTransfer.effectAllowed="move"},x=(X,et)=>{X.preventDefault(),X.dataTransfer.dropEffect="move",o&&o!==et&&p(et)},C=()=>{p(null)},j=(X,et)=>{if(X.preventDefault(),!o||o===et){h(null),p(null);return}const ot=a.findIndex(Tt=>Tt.id===o),ct=a.findIndex(Tt=>Tt.id===et);if(ot!==-1&&ct!==-1){const Tt=[...a],[wt]=Tt.splice(ot,1);Tt.splice(ct,0,wt),e(Tt)}h(null),p(null)},H=()=>{h(null),p(null)},it=X=>{if(!i)return;const et=a.map(ot=>ot.id===X.id?X:ot);e(et),r(null)},k=X=>X.startsWith("bg-[")?X.replace("bg-[","").replace("]",""):X;return b.jsxs("div",{className:"w-full bg-white border-b border-slate-200 py-2.5 px-4 overflow-hidden",children:[b.jsx("div",{className:"grid grid-cols-5 md:grid-cols-[repeat(15,minmax(0,1fr))] gap-1.5",children:a.slice(0,15).map(X=>b.jsx("div",{className:`relative group/btn transition-all ${o===X.id?"opacity-50":""} ${d===X.id?"transform scale-105":""}`,draggable:!0,onDragStart:et=>S(et,X.id),onDragOver:et=>x(et,X.id),onDragLeave:C,onDrop:et=>j(et,X.id),onDragEnd:H,children:b.jsx("button",{onClick:()=>y(X.url),onContextMenu:et=>_(et,X),className:"w-full h-11 px-2 py-1 rounded-lg border border-slate-200/60 text-[11px] font-bold transition-all active:scale-95 flex items-center justify-center hover:brightness-95 hover:shadow-sm text-slate-700 overflow-hidden leading-tight cursor-move",style:{backgroundColor:k(X.color)},children:b.jsx("span",{className:"line-clamp-2 text-center break-all",children:X.label||"Empty"})})},X.id))}),i&&b.jsx(NE,{isOpen:!!i,bookmark:i,onClose:()=>r(null),onSave:it})]})},ME=({notes:a,onChange:e})=>{const[i,r]=gt.useState(null),[o,h]=gt.useState(""),[d,p]=gt.useState(""),y=Array.from({length:16},(j,H)=>a[H]||{title:"",content:""}),_=Array.from({length:16},(j,H)=>({note:y[H],originalIndex:H})).sort((j,H)=>{const it=j.note.title||j.note.content,k=H.note.title||H.note.content;return it===k?0:it?-1:1}),S=j=>{r(j),h(y[j].title),p(y[j].content)},x=()=>{if(i!==null){const j=[...y];j[i]={title:o,content:d},e(j),r(null)}},C=()=>{if(i!==null){const j=[...y];j[i]={title:"",content:""},e(j),r(null)}};return b.jsxs("div",{className:"w-full h-full flex flex-col py-2 px-2 gap-1 overflow-hidden",children:[_.map(({note:j,originalIndex:H})=>{const it=j.title||j.content;return b.jsx("div",{className:"flex-1 min-h-0 w-full",children:b.jsx("button",{onClick:()=>S(H),className:`w-full h-full px-2 py-1 rounded-lg border border-slate-200/60 text-[12px] font-bold transition-all active:scale-95 flex flex-col items-center justify-center hover:brightness-95 hover:shadow-sm overflow-hidden leading-tight ${it?"bg-purple-400 text-white":"bg-[#FBF3DB] text-slate-700"}`,children:b.jsx("span",{className:"line-clamp-2 text-center break-all font-bold",children:b.jsx(Mr,{text:j.title||(j.content?j.content.substring(0,10):" ")})})})},H)}),i!==null&&b.jsx("div",{className:"fixed inset-0 z-[300] flex items-center justify-center p-4 bg-black/40 backdrop-blur-sm",onClick:()=>r(null),children:b.jsxs("div",{className:"bg-white w-full max-w-3xl h-[70vh] shadow-2xl border border-slate-200 overflow-hidden animate-in zoom-in duration-200 flex flex-col",onClick:j=>j.stopPropagation(),children:[b.jsxs("div",{className:"px-8 py-5 border-b border-black flex items-center gap-4 bg-white shrink-0",children:[b.jsxs("div",{className:"flex-1 flex items-center gap-2",children:[b.jsx("span",{className:"text-xl",children:""}),b.jsx("input",{type:"text",autoFocus:!0,value:o,onChange:j=>h(j.target.value),placeholder:"  ...",className:"w-full text-lg font-extrabold text-slate-800 placeholder:text-slate-300 focus:outline-none bg-transparent"})]}),b.jsx("button",{onClick:()=>r(null),className:"text-slate-400 hover:text-slate-600 transition-colors",children:b.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),b.jsx("div",{className:"flex-1 overflow-hidden",children:b.jsx("textarea",{value:d,onChange:j=>p(j.target.value),className:"w-full h-full p-8 bg-transparent text-slate-700 text-base resize-none focus:outline-none custom-scrollbar font-medium leading-relaxed placeholder:text-slate-200",placeholder:"  ..."})}),b.jsxs("div",{className:"px-6 py-2 bg-slate-50 border-t border-black flex justify-between gap-3 shrink-0",children:[b.jsx("button",{onClick:C,className:"px-6 py-2.5 text-sm font-bold text-white bg-red-500 hover:bg-red-600 rounded-xl transition-all active:scale-95",children:""}),b.jsxs("div",{className:"flex gap-3",children:[b.jsx("button",{onClick:()=>r(null),className:"px-6 py-2.5 text-sm font-bold text-slate-500 hover:bg-slate-200 rounded-xl transition-all",children:""}),b.jsx("button",{onClick:x,className:"px-10 py-2.5 text-sm font-bold text-white bg-blue-500 hover:bg-blue-600 rounded-xl shadow-lg shadow-blue-500/20 transition-all active:scale-95",children:""})]})]})]})})]})},Lf=({isExpanded:a})=>b.jsx("span",{className:"text-slate-500 font-bold transition-transform duration-200 inline-block text-xs flex-shrink-0",style:{transform:a?"rotate(90deg)":"rotate(0deg)"},children:""}),OE=({isOpen:a,tabs:e,activeTabId:i,onClose:r,onNavigate:o})=>{const[h,d]=gt.useState(new Set([i])),[p,y]=gt.useState(new Set);if(gt.useEffect(()=>{a&&(d(new Set([i])),y(new Set))},[a,i]),!a)return null;const _=k=>k.sections.length+(k.inboxSection?1:0),S=k=>{var X;return k.sections.reduce((et,ot)=>et+ot.items.length,0)+(((X=k.inboxSection)==null?void 0:X.items.length)||0)},x=()=>e.reduce((k,X)=>k+_(X),0),C=()=>e.reduce((k,X)=>k+S(X),0),j=k=>{d(X=>{const et=new Set(X);if(et.has(k)){et.delete(k);const ot=e.find(ct=>ct.id===k);ot&&y(ct=>{const Tt=new Set(ct);return ot.inboxSection&&Tt.delete(ot.inboxSection.id),ot.sections.forEach(wt=>Tt.delete(wt.id)),Tt})}else et.add(k);return et})},H=k=>{y(X=>{const et=new Set(X);return et.has(k)?et.delete(k):et.add(k),et})},it=(k,X)=>{o(k,X)};return b.jsx("div",{className:"fixed inset-0 z-[250] flex items-center justify-center p-4 bg-black/30 backdrop-blur-[2px]",onClick:r,children:b.jsxs("div",{className:"bg-white w-full max-w-4xl max-h-[80vh] rounded-xl shadow-2xl overflow-hidden flex flex-col",onClick:k=>k.stopPropagation(),children:[b.jsxs("div",{className:"px-6 py-4 border-b border-slate-200 flex items-center justify-between bg-slate-50",children:[b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx(q0,{}),b.jsx("h2",{className:"text-lg font-bold text-slate-800",children:"  "})]}),b.jsx("button",{onClick:r,className:"text-slate-400 hover:text-slate-600 p-2 rounded-lg transition-colors",title:"",children:b.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),b.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar p-6",children:e.length===0?b.jsx("div",{className:"text-center py-12 text-slate-400",children:b.jsx("p",{className:"italic",children:" ."})}):e.map(k=>b.jsxs("div",{className:"mb-4",children:[b.jsx("button",{onClick:()=>j(k.id),className:`w-full text-left px-4 py-3 rounded-lg mb-2 transition-all ${k.id===i?"bg-blue-50 border-2 border-blue-400":"hover:bg-slate-100 border border-slate-200"}`,children:b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx(Lf,{isExpanded:h.has(k.id)}),b.jsx("span",{className:"text-lg",children:""}),b.jsx("span",{className:"font-semibold text-slate-800",children:k.name}),k.isLocked&&b.jsx(Xu,{}),b.jsxs("span",{className:"text-xs text-slate-400 ml-auto",children:[_(k)," , ",S(k)," "]})]})}),h.has(k.id)&&b.jsxs("div",{className:"pl-6 space-y-2",children:[k.inboxSection&&b.jsxs("div",{children:[b.jsxs("button",{onClick:()=>H(k.inboxSection.id),className:"w-full text-left px-4 py-2 rounded-lg hover:bg-slate-100 transition-all flex items-center gap-2",children:[b.jsx(Lf,{isExpanded:p.has(k.inboxSection.id)}),b.jsx("span",{className:"text-base",children:""}),b.jsx("span",{className:"text-sm font-medium text-slate-700",children:k.inboxSection.title}),k.inboxSection.isLocked&&b.jsx("div",{className:"scale-75",children:b.jsx(Xu,{})}),b.jsxs("span",{className:"text-xs text-slate-400 ml-auto",children:[k.inboxSection.items.length," "]})]}),p.has(k.inboxSection.id)&&b.jsx("div",{className:"pl-8 space-y-1 mt-1",children:k.inboxSection.items.map(X=>b.jsxs("button",{onClick:()=>it(k.id,k.inboxSection.id),className:"w-full text-left px-3 py-1.5 rounded hover:bg-blue-50 transition-all text-xs text-slate-600 hover:text-slate-800 flex items-center gap-2",children:[b.jsx("span",{className:"flex-shrink-0",children:X.completed?"":""}),b.jsx("span",{className:`truncate ${X.completed?"line-through text-slate-400":""}`,children:X.text||"( )"})]},X.id))})]}),k.sections.length===0&&!k.inboxSection?b.jsx("div",{className:"pl-10 py-2 text-xs text-slate-400 italic",children:"  "}):k.sections.map(X=>b.jsxs("div",{children:[b.jsxs("button",{onClick:()=>H(X.id),className:"w-full text-left px-4 py-2 rounded-lg hover:bg-slate-100 transition-all flex items-center gap-2",children:[b.jsx(Lf,{isExpanded:p.has(X.id)}),b.jsx("span",{className:"text-base",children:""}),b.jsx("span",{className:"text-sm font-medium text-slate-700",children:X.title}),X.isLocked&&b.jsx("div",{className:"scale-75",children:b.jsx(Xu,{})}),b.jsxs("span",{className:"text-xs text-slate-400 ml-auto",children:[X.items.length," "]})]}),p.has(X.id)&&b.jsxs("div",{className:"pl-8 space-y-1 mt-1",children:[X.items.map(et=>b.jsxs("button",{onClick:()=>it(k.id,X.id),className:"w-full text-left px-3 py-1.5 rounded hover:bg-blue-50 transition-all text-xs text-slate-600 hover:text-slate-800 flex items-center gap-2",children:[b.jsx("span",{className:"flex-shrink-0",children:et.completed?"":""}),b.jsx("span",{className:`truncate ${et.completed?"line-through text-slate-400":""}`,children:et.text||"( )"})]},et.id)),X.items.length===0&&b.jsx("div",{className:"pl-3 py-1.5 text-xs text-slate-400 italic",children:" "})]})]},X.id))]})]},k.id))}),b.jsxs("div",{className:"px-6 py-3 border-t border-slate-200 bg-slate-50 text-xs text-slate-500 text-center",children:[" ",e.length," , ",x()," , ",C()," "]})]})})},jE=({isOpen:a,itemText:e,currentTabId:i,currentSectionId:r,tabs:o,onMove:h,onCancel:d})=>{const[p,y]=gt.useState(i),[_,S]=gt.useState(""),x=gt.useRef(null);if(vc(x,d),gt.useEffect(()=>{if(a){const k=o.find(X=>X.id===p);if(k){const et=o.findIndex(ot=>ot.id===p)===0&&k.inboxSection?k.inboxSection:k.sections[0];S((et==null?void 0:et.id)||"")}}},[a,p,o]),!a)return null;const C=o.find(k=>k.id===i),j=C==null?void 0:C.sections.find(k=>k.id===r),H=o.find(k=>k.id===p),it=_&&!(p===i&&_===r);return b.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-slate-900/20 backdrop-blur-[2px]",children:b.jsxs("div",{ref:x,className:"bg-white w-full max-w-md rounded-2xl shadow-2xl border border-slate-200 overflow-hidden",children:[b.jsxs("div",{className:"px-6 py-4 border-b border-slate-100 flex items-center justify-between",children:[b.jsx("h2",{className:"text-lg font-bold text-slate-800",children:"  "}),b.jsx("button",{onClick:d,className:"text-slate-400 hover:text-slate-600 p-1 transition-colors",children:b.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),b.jsxs("div",{className:"px-6 py-6 space-y-4",children:[b.jsxs("div",{className:"bg-slate-50 rounded-lg p-3 border border-slate-200",children:[b.jsx("p",{className:"text-xs text-slate-500 mb-1",children:" "}),b.jsxs("p",{className:"text-sm font-semibold text-slate-700",children:[C==null?void 0:C.name," > ",j==null?void 0:j.title]})]}),b.jsxs("div",{className:"bg-blue-50 rounded-lg p-3 border border-blue-200",children:[b.jsx("p",{className:"text-xs text-blue-600 mb-1",children:" "}),b.jsx("p",{className:"text-sm font-medium text-slate-800 truncate",children:e||"( )"})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:" "}),b.jsx("select",{value:p,onChange:k=>y(k.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm bg-white text-slate-800",children:o.map(k=>b.jsx("option",{value:k.id,children:k.name},k.id))})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:" "}),b.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto custom-scrollbar border border-slate-200 rounded-lg p-3",children:!(H!=null&&H.inboxSection)&&(H==null?void 0:H.sections.length)===0?b.jsx("p",{className:"text-sm text-slate-400 italic text-center py-4",children:"   "}):b.jsxs(b.Fragment,{children:[o.findIndex(X=>X.id===p)===0&&(H==null?void 0:H.inboxSection)&&b.jsxs("label",{className:`flex items-center gap-3 p-2.5 rounded-lg cursor-pointer transition-colors hover:bg-slate-50 ${_===H.inboxSection.id?"bg-blue-50 border border-blue-300":"border border-transparent"}`,children:[b.jsx("input",{type:"radio",name:"targetSection",value:H.inboxSection.id,checked:_===H.inboxSection.id,onChange:X=>S(X.target.value),className:"w-4 h-4 text-blue-600 focus:ring-blue-500 flex-shrink-0"}),b.jsxs("span",{className:"text-sm font-medium flex-1 text-slate-700",children:[" ",H.inboxSection.title]})]}),H==null?void 0:H.sections.map(k=>b.jsxs("label",{className:`flex items-center gap-3 p-2.5 rounded-lg cursor-pointer transition-colors hover:bg-slate-50 ${_===k.id?"bg-blue-50 border border-blue-300":"border border-transparent"}`,children:[b.jsx("input",{type:"radio",name:"targetSection",value:k.id,checked:_===k.id,onChange:X=>S(X.target.value),className:"w-4 h-4 text-blue-600 focus:ring-blue-500 flex-shrink-0"}),b.jsx("span",{className:"text-sm font-medium flex-1 text-slate-700",children:k.title})]},k.id))]})})]})]}),b.jsxs("div",{className:"px-6 py-4 border-t border-slate-100 bg-slate-50 flex justify-end gap-3",children:[b.jsx("button",{onClick:d,className:"px-4 py-2 bg-slate-200 text-slate-800 text-sm font-semibold rounded-lg hover:bg-slate-300 transition-colors",children:""}),b.jsx("button",{onClick:()=>h(p,_),disabled:!it,className:"px-5 py-2 bg-blue-500 text-white text-sm font-semibold rounded-lg hover:bg-blue-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:bg-blue-500",children:""})]})]})})},LE=()=>{};var My={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H0=function(a){const e=[];let i=0;for(let r=0;r<a.length;r++){let o=a.charCodeAt(r);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&r+1<a.length&&(a.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(a.charCodeAt(++r)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},zE=function(a){const e=[];let i=0,r=0;for(;i<a.length;){const o=a[i++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const h=a[i++];e[r++]=String.fromCharCode((o&31)<<6|h&63)}else if(o>239&&o<365){const h=a[i++],d=a[i++],p=a[i++],y=((o&7)<<18|(h&63)<<12|(d&63)<<6|p&63)-65536;e[r++]=String.fromCharCode(55296+(y>>10)),e[r++]=String.fromCharCode(56320+(y&1023))}else{const h=a[i++],d=a[i++];e[r++]=String.fromCharCode((o&15)<<12|(h&63)<<6|d&63)}}return e.join("")},F0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(a,e){if(!Array.isArray(a))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<a.length;o+=3){const h=a[o],d=o+1<a.length,p=d?a[o+1]:0,y=o+2<a.length,_=y?a[o+2]:0,S=h>>2,x=(h&3)<<4|p>>4;let C=(p&15)<<2|_>>6,j=_&63;y||(j=64,d||(C=64)),r.push(i[S],i[x],i[C],i[j])}return r.join("")},encodeString(a,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(a):this.encodeByteArray(H0(a),e)},decodeString(a,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(a):zE(this.decodeStringToByteArray(a,e))},decodeStringToByteArray(a,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<a.length;){const h=i[a.charAt(o++)],p=o<a.length?i[a.charAt(o)]:0;++o;const _=o<a.length?i[a.charAt(o)]:64;++o;const x=o<a.length?i[a.charAt(o)]:64;if(++o,h==null||p==null||_==null||x==null)throw new kE;const C=h<<2|p>>4;if(r.push(C),_!==64){const j=p<<4&240|_>>2;if(r.push(j),x!==64){const H=_<<6&192|x;r.push(H)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let a=0;a<this.ENCODED_VALS.length;a++)this.byteToCharMap_[a]=this.ENCODED_VALS.charAt(a),this.charToByteMap_[this.byteToCharMap_[a]]=a,this.byteToCharMapWebSafe_[a]=this.ENCODED_VALS_WEBSAFE.charAt(a),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[a]]=a,a>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(a)]=a,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(a)]=a)}}};class kE extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const UE=function(a){const e=H0(a);return F0.encodeByteArray(e,!0)},ic=function(a){return UE(a).replace(/\./g,"")},BE=function(a){try{return F0.decodeString(a,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PE(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qE=()=>PE().__FIREBASE_DEFAULTS__,HE=()=>{if(typeof process>"u"||typeof My>"u")return;const a=My.__FIREBASE_DEFAULTS__;if(a)return JSON.parse(a)},FE=()=>{if(typeof document>"u")return;let a;try{a=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=a&&BE(a[1]);return e&&JSON.parse(e)},gd=()=>{try{return LE()||qE()||HE()||FE()}catch(a){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${a}`);return}},GE=a=>{var e,i;return(i=(e=gd())==null?void 0:e.emulatorHosts)==null?void 0:i[a]},QE=a=>{const e=GE(a);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),r]:[e.substring(0,i),r]},G0=()=>{var a;return(a=gd())==null?void 0:a.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YE{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,r)=>{i?this.reject(i):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pd(a){try{return(a.startsWith("http://")||a.startsWith("https://")?new URL(a).hostname:a).endsWith(".cloudworkstations.dev")}catch{return!1}}async function KE(a){return(await fetch(a,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XE(a,e){if(a.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},r=e||"demo-project",o=a.iat||0,h=a.sub||a.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}},...a};return[ic(JSON.stringify(i)),ic(JSON.stringify(d)),""].join(".")}const $l={};function ZE(){const a={prod:[],emulator:[]};for(const e of Object.keys($l))$l[e]?a.emulator.push(e):a.prod.push(e);return a}function JE(a){let e=document.getElementById(a),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",a),i=!0),{created:i,element:e}}let Oy=!1;function $E(a,e){if(typeof window>"u"||typeof document>"u"||!pd(window.location.host)||$l[a]===e||$l[a]||Oy)return;$l[a]=e;function i(C){return`__firebase__banner__${C}`}const r="__firebase__banner",h=ZE().prod.length>0;function d(){const C=document.getElementById(r);C&&C.remove()}function p(C){C.style.display="flex",C.style.background="#7faaf0",C.style.position="fixed",C.style.bottom="5px",C.style.left="5px",C.style.padding=".5em",C.style.borderRadius="5px",C.style.alignItems="center"}function y(C,j){C.setAttribute("width","24"),C.setAttribute("id",j),C.setAttribute("height","24"),C.setAttribute("viewBox","0 0 24 24"),C.setAttribute("fill","none"),C.style.marginLeft="-6px"}function _(){const C=document.createElement("span");return C.style.cursor="pointer",C.style.marginLeft="16px",C.style.fontSize="24px",C.innerHTML=" &times;",C.onclick=()=>{Oy=!0,d()},C}function S(C,j){C.setAttribute("id",j),C.innerText="Learn more",C.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",C.setAttribute("target","__blank"),C.style.paddingLeft="5px",C.style.textDecoration="underline"}function x(){const C=JE(r),j=i("text"),H=document.getElementById(j)||document.createElement("span"),it=i("learnmore"),k=document.getElementById(it)||document.createElement("a"),X=i("preprendIcon"),et=document.getElementById(X)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(C.created){const ot=C.element;p(ot),S(k,it);const ct=_();y(et,X),ot.append(et,H,k,ct),document.body.appendChild(ot)}h?(H.innerText="Preview backend disconnected.",et.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(et.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,H.innerText="Preview backend running in this workspace."),H.setAttribute("id",j)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",x):x()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WE(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function t1(){var e;const a=(e=gd())==null?void 0:e.forceEnvironment;if(a==="node")return!0;if(a==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function e1(){return!t1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function n1(){try{return typeof indexedDB=="object"}catch{return!1}}function i1(){return new Promise((a,e)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(r),a(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{var h;e(((h=o.error)==null?void 0:h.message)||"")}}catch(i){e(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s1="FirebaseError";class Br extends Error{constructor(e,i,r){super(i),this.code=e,this.customData=r,this.name=s1,Object.setPrototypeOf(this,Br.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Q0.prototype.create)}}class Q0{constructor(e,i,r){this.service=e,this.serviceName=i,this.errors=r}create(e,...i){const r=i[0]||{},o=`${this.service}/${e}`,h=this.errors[e],d=h?a1(h,r):"Error",p=`${this.serviceName}: ${d} (${o}).`;return new Br(o,p,r)}}function a1(a,e){return a.replace(r1,(i,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const r1=/\{\$([^}]+)}/g;function sc(a,e){if(a===e)return!0;const i=Object.keys(a),r=Object.keys(e);for(const o of i){if(!r.includes(o))return!1;const h=a[o],d=e[o];if(jy(h)&&jy(d)){if(!sc(h,d))return!1}else if(h!==d)return!1}for(const o of r)if(!i.includes(o))return!1;return!0}function jy(a){return a!==null&&typeof a=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function so(a){return a&&a._delegate?a._delegate:a}class ao{constructor(e,i,r){this.name=e,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ra="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l1{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const r=new YE;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(u1(e))try{this.getOrInitializeService({instanceIdentifier:Ra})}catch{}for(const[i,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const h=this.getOrInitializeService({instanceIdentifier:o});r.resolve(h)}catch{}}}}clearInstance(e=Ra){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ra){return this.instances.has(e)}getOptions(e=Ra){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[h,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(h);r===p&&d.resolve(o)}return o}onInit(e,i){const r=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(r)??new Set;o.add(e),this.onInitCallbacks.set(r,o);const h=this.instances.get(r);return h&&e(h,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,i){const r=this.onInitCallbacks.get(i);if(r)for(const o of r)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:o1(e),options:i}),this.instances.set(e,r),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ra){return this.component?this.component.multipleInstances?e:Ra:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function o1(a){return a===Ra?void 0:a}function u1(a){return a.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c1{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new l1(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Gt;(function(a){a[a.DEBUG=0]="DEBUG",a[a.VERBOSE=1]="VERBOSE",a[a.INFO=2]="INFO",a[a.WARN=3]="WARN",a[a.ERROR=4]="ERROR",a[a.SILENT=5]="SILENT"})(Gt||(Gt={}));const h1={debug:Gt.DEBUG,verbose:Gt.VERBOSE,info:Gt.INFO,warn:Gt.WARN,error:Gt.ERROR,silent:Gt.SILENT},f1=Gt.INFO,d1={[Gt.DEBUG]:"log",[Gt.VERBOSE]:"log",[Gt.INFO]:"info",[Gt.WARN]:"warn",[Gt.ERROR]:"error"},m1=(a,e,...i)=>{if(e<a.logLevel)return;const r=new Date().toISOString(),o=d1[e];if(o)console[o](`[${r}]  ${a.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Y0{constructor(e){this.name=e,this._logLevel=f1,this._logHandler=m1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Gt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?h1[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Gt.DEBUG,...e),this._logHandler(this,Gt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Gt.VERBOSE,...e),this._logHandler(this,Gt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Gt.INFO,...e),this._logHandler(this,Gt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Gt.WARN,...e),this._logHandler(this,Gt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Gt.ERROR,...e),this._logHandler(this,Gt.ERROR,...e)}}const g1=(a,e)=>e.some(i=>a instanceof i);let Ly,zy;function p1(){return Ly||(Ly=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function y1(){return zy||(zy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const K0=new WeakMap,Qf=new WeakMap,X0=new WeakMap,zf=new WeakMap,yd=new WeakMap;function v1(a){const e=new Promise((i,r)=>{const o=()=>{a.removeEventListener("success",h),a.removeEventListener("error",d)},h=()=>{i(Bs(a.result)),o()},d=()=>{r(a.error),o()};a.addEventListener("success",h),a.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&K0.set(i,a)}).catch(()=>{}),yd.set(e,a),e}function _1(a){if(Qf.has(a))return;const e=new Promise((i,r)=>{const o=()=>{a.removeEventListener("complete",h),a.removeEventListener("error",d),a.removeEventListener("abort",d)},h=()=>{i(),o()},d=()=>{r(a.error||new DOMException("AbortError","AbortError")),o()};a.addEventListener("complete",h),a.addEventListener("error",d),a.addEventListener("abort",d)});Qf.set(a,e)}let Yf={get(a,e,i){if(a instanceof IDBTransaction){if(e==="done")return Qf.get(a);if(e==="objectStoreNames")return a.objectStoreNames||X0.get(a);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Bs(a[e])},set(a,e,i){return a[e]=i,!0},has(a,e){return a instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in a}};function b1(a){Yf=a(Yf)}function E1(a){return a===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const r=a.call(kf(this),e,...i);return X0.set(r,e.sort?e.sort():[e]),Bs(r)}:y1().includes(a)?function(...e){return a.apply(kf(this),e),Bs(K0.get(this))}:function(...e){return Bs(a.apply(kf(this),e))}}function T1(a){return typeof a=="function"?E1(a):(a instanceof IDBTransaction&&_1(a),g1(a,p1())?new Proxy(a,Yf):a)}function Bs(a){if(a instanceof IDBRequest)return v1(a);if(zf.has(a))return zf.get(a);const e=T1(a);return e!==a&&(zf.set(a,e),yd.set(e,a)),e}const kf=a=>yd.get(a);function S1(a,e,{blocked:i,upgrade:r,blocking:o,terminated:h}={}){const d=indexedDB.open(a,e),p=Bs(d);return r&&d.addEventListener("upgradeneeded",y=>{r(Bs(d.result),y.oldVersion,y.newVersion,Bs(d.transaction),y)}),i&&d.addEventListener("blocked",y=>i(y.oldVersion,y.newVersion,y)),p.then(y=>{h&&y.addEventListener("close",()=>h()),o&&y.addEventListener("versionchange",_=>o(_.oldVersion,_.newVersion,_))}).catch(()=>{}),p}const x1=["get","getKey","getAll","getAllKeys","count"],A1=["put","add","delete","clear"],Uf=new Map;function ky(a,e){if(!(a instanceof IDBDatabase&&!(e in a)&&typeof e=="string"))return;if(Uf.get(e))return Uf.get(e);const i=e.replace(/FromIndex$/,""),r=e!==i,o=A1.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!(o||x1.includes(i)))return;const h=async function(d,...p){const y=this.transaction(d,o?"readwrite":"readonly");let _=y.store;return r&&(_=_.index(p.shift())),(await Promise.all([_[i](...p),o&&y.done]))[0]};return Uf.set(e,h),h}b1(a=>({...a,get:(e,i,r)=>ky(e,i)||a.get(e,i,r),has:(e,i)=>!!ky(e,i)||a.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w1{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(C1(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(i=>i).join(" ")}}function C1(a){const e=a.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Kf="@firebase/app",Uy="0.14.7";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const es=new Y0("@firebase/app"),R1="@firebase/app-compat",D1="@firebase/analytics-compat",I1="@firebase/analytics",N1="@firebase/app-check-compat",V1="@firebase/app-check",M1="@firebase/auth",O1="@firebase/auth-compat",j1="@firebase/database",L1="@firebase/data-connect",z1="@firebase/database-compat",k1="@firebase/functions",U1="@firebase/functions-compat",B1="@firebase/installations",P1="@firebase/installations-compat",q1="@firebase/messaging",H1="@firebase/messaging-compat",F1="@firebase/performance",G1="@firebase/performance-compat",Q1="@firebase/remote-config",Y1="@firebase/remote-config-compat",K1="@firebase/storage",X1="@firebase/storage-compat",Z1="@firebase/firestore",J1="@firebase/ai",$1="@firebase/firestore-compat",W1="firebase",tT="12.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xf="[DEFAULT]",eT={[Kf]:"fire-core",[R1]:"fire-core-compat",[I1]:"fire-analytics",[D1]:"fire-analytics-compat",[V1]:"fire-app-check",[N1]:"fire-app-check-compat",[M1]:"fire-auth",[O1]:"fire-auth-compat",[j1]:"fire-rtdb",[L1]:"fire-data-connect",[z1]:"fire-rtdb-compat",[k1]:"fire-fn",[U1]:"fire-fn-compat",[B1]:"fire-iid",[P1]:"fire-iid-compat",[q1]:"fire-fcm",[H1]:"fire-fcm-compat",[F1]:"fire-perf",[G1]:"fire-perf-compat",[Q1]:"fire-rc",[Y1]:"fire-rc-compat",[K1]:"fire-gcs",[X1]:"fire-gcs-compat",[Z1]:"fire-fst",[$1]:"fire-fst-compat",[J1]:"fire-vertex","fire-js":"fire-js",[W1]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ac=new Map,nT=new Map,Zf=new Map;function By(a,e){try{a.container.addComponent(e)}catch(i){es.debug(`Component ${e.name} failed to register with FirebaseApp ${a.name}`,i)}}function rc(a){const e=a.name;if(Zf.has(e))return es.debug(`There were multiple attempts to register component ${e}.`),!1;Zf.set(e,a);for(const i of ac.values())By(i,a);for(const i of nT.values())By(i,a);return!0}function iT(a,e){const i=a.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),a.container.getProvider(e)}function sT(a){return a==null?!1:a.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aT={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ps=new Q0("app","Firebase",aT);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rT{constructor(e,i,r){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ao("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ps.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lT=tT;function Z0(a,e={}){let i=a;typeof e!="object"&&(e={name:e});const r={name:Xf,automaticDataCollectionEnabled:!0,...e},o=r.name;if(typeof o!="string"||!o)throw Ps.create("bad-app-name",{appName:String(o)});if(i||(i=G0()),!i)throw Ps.create("no-options");const h=ac.get(o);if(h){if(sc(i,h.options)&&sc(r,h.config))return h;throw Ps.create("duplicate-app",{appName:o})}const d=new c1(o);for(const y of Zf.values())d.addComponent(y);const p=new rT(i,r,d);return ac.set(o,p),p}function oT(a=Xf){const e=ac.get(a);if(!e&&a===Xf&&G0())return Z0();if(!e)throw Ps.create("no-app",{appName:a});return e}function Dr(a,e,i){let r=eT[a]??a;i&&(r+=`-${i}`);const o=r.match(/\s|\//),h=e.match(/\s|\//);if(o||h){const d=[`Unable to register library "${r}" with version "${e}":`];o&&d.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&h&&d.push("and"),h&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),es.warn(d.join(" "));return}rc(new ao(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uT="firebase-heartbeat-database",cT=1,ro="firebase-heartbeat-store";let Bf=null;function J0(){return Bf||(Bf=S1(uT,cT,{upgrade:(a,e)=>{switch(e){case 0:try{a.createObjectStore(ro)}catch(i){console.warn(i)}}}}).catch(a=>{throw Ps.create("idb-open",{originalErrorMessage:a.message})})),Bf}async function hT(a){try{const i=(await J0()).transaction(ro),r=await i.objectStore(ro).get($0(a));return await i.done,r}catch(e){if(e instanceof Br)es.warn(e.message);else{const i=Ps.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});es.warn(i.message)}}}async function Py(a,e){try{const r=(await J0()).transaction(ro,"readwrite");await r.objectStore(ro).put(e,$0(a)),await r.done}catch(i){if(i instanceof Br)es.warn(i.message);else{const r=Ps.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});es.warn(r.message)}}}function $0(a){return`${a.name}!${a.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fT=1024,dT=30;class mT{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new pT(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,i;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),h=qy();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)==null?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===h||this._heartbeatsCache.heartbeats.some(d=>d.date===h))return;if(this._heartbeatsCache.heartbeats.push({date:h,agent:o}),this._heartbeatsCache.heartbeats.length>dT){const d=yT(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){es.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=qy(),{heartbeatsToSend:r,unsentEntries:o}=gT(this._heartbeatsCache.heartbeats),h=ic(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=i,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),h}catch(i){return es.warn(i),""}}}function qy(){return new Date().toISOString().substring(0,10)}function gT(a,e=fT){const i=[];let r=a.slice();for(const o of a){const h=i.find(d=>d.agent===o.agent);if(h){if(h.dates.push(o.date),Hy(i)>e){h.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),Hy(i)>e){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}class pT{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return n1()?i1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await hT(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Py(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Py(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Hy(a){return ic(JSON.stringify({version:2,heartbeats:a})).length}function yT(a){if(a.length===0)return-1;let e=0,i=a[0].date;for(let r=1;r<a.length;r++)a[r].date<i&&(i=a[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vT(a){rc(new ao("platform-logger",e=>new w1(e),"PRIVATE")),rc(new ao("heartbeat",e=>new mT(e),"PRIVATE")),Dr(Kf,Uy,a),Dr(Kf,Uy,"esm2020"),Dr("fire-js","")}vT("");var Fy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var qs,W0;(function(){var a;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,A){function R(){}R.prototype=A.prototype,I.F=A.prototype,I.prototype=new R,I.prototype.constructor=I,I.D=function(O,V,L){for(var D=Array(arguments.length-2),Ht=2;Ht<arguments.length;Ht++)D[Ht-2]=arguments[Ht];return A.prototype[V].apply(O,D)}}function i(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,i),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(I,A,R){R||(R=0);const O=Array(16);if(typeof A=="string")for(var V=0;V<16;++V)O[V]=A.charCodeAt(R++)|A.charCodeAt(R++)<<8|A.charCodeAt(R++)<<16|A.charCodeAt(R++)<<24;else for(V=0;V<16;++V)O[V]=A[R++]|A[R++]<<8|A[R++]<<16|A[R++]<<24;A=I.g[0],R=I.g[1],V=I.g[2];let L=I.g[3],D;D=A+(L^R&(V^L))+O[0]+3614090360&4294967295,A=R+(D<<7&4294967295|D>>>25),D=L+(V^A&(R^V))+O[1]+3905402710&4294967295,L=A+(D<<12&4294967295|D>>>20),D=V+(R^L&(A^R))+O[2]+606105819&4294967295,V=L+(D<<17&4294967295|D>>>15),D=R+(A^V&(L^A))+O[3]+3250441966&4294967295,R=V+(D<<22&4294967295|D>>>10),D=A+(L^R&(V^L))+O[4]+4118548399&4294967295,A=R+(D<<7&4294967295|D>>>25),D=L+(V^A&(R^V))+O[5]+1200080426&4294967295,L=A+(D<<12&4294967295|D>>>20),D=V+(R^L&(A^R))+O[6]+2821735955&4294967295,V=L+(D<<17&4294967295|D>>>15),D=R+(A^V&(L^A))+O[7]+4249261313&4294967295,R=V+(D<<22&4294967295|D>>>10),D=A+(L^R&(V^L))+O[8]+1770035416&4294967295,A=R+(D<<7&4294967295|D>>>25),D=L+(V^A&(R^V))+O[9]+2336552879&4294967295,L=A+(D<<12&4294967295|D>>>20),D=V+(R^L&(A^R))+O[10]+4294925233&4294967295,V=L+(D<<17&4294967295|D>>>15),D=R+(A^V&(L^A))+O[11]+2304563134&4294967295,R=V+(D<<22&4294967295|D>>>10),D=A+(L^R&(V^L))+O[12]+1804603682&4294967295,A=R+(D<<7&4294967295|D>>>25),D=L+(V^A&(R^V))+O[13]+4254626195&4294967295,L=A+(D<<12&4294967295|D>>>20),D=V+(R^L&(A^R))+O[14]+2792965006&4294967295,V=L+(D<<17&4294967295|D>>>15),D=R+(A^V&(L^A))+O[15]+1236535329&4294967295,R=V+(D<<22&4294967295|D>>>10),D=A+(V^L&(R^V))+O[1]+4129170786&4294967295,A=R+(D<<5&4294967295|D>>>27),D=L+(R^V&(A^R))+O[6]+3225465664&4294967295,L=A+(D<<9&4294967295|D>>>23),D=V+(A^R&(L^A))+O[11]+643717713&4294967295,V=L+(D<<14&4294967295|D>>>18),D=R+(L^A&(V^L))+O[0]+3921069994&4294967295,R=V+(D<<20&4294967295|D>>>12),D=A+(V^L&(R^V))+O[5]+3593408605&4294967295,A=R+(D<<5&4294967295|D>>>27),D=L+(R^V&(A^R))+O[10]+38016083&4294967295,L=A+(D<<9&4294967295|D>>>23),D=V+(A^R&(L^A))+O[15]+3634488961&4294967295,V=L+(D<<14&4294967295|D>>>18),D=R+(L^A&(V^L))+O[4]+3889429448&4294967295,R=V+(D<<20&4294967295|D>>>12),D=A+(V^L&(R^V))+O[9]+568446438&4294967295,A=R+(D<<5&4294967295|D>>>27),D=L+(R^V&(A^R))+O[14]+3275163606&4294967295,L=A+(D<<9&4294967295|D>>>23),D=V+(A^R&(L^A))+O[3]+4107603335&4294967295,V=L+(D<<14&4294967295|D>>>18),D=R+(L^A&(V^L))+O[8]+1163531501&4294967295,R=V+(D<<20&4294967295|D>>>12),D=A+(V^L&(R^V))+O[13]+2850285829&4294967295,A=R+(D<<5&4294967295|D>>>27),D=L+(R^V&(A^R))+O[2]+4243563512&4294967295,L=A+(D<<9&4294967295|D>>>23),D=V+(A^R&(L^A))+O[7]+1735328473&4294967295,V=L+(D<<14&4294967295|D>>>18),D=R+(L^A&(V^L))+O[12]+2368359562&4294967295,R=V+(D<<20&4294967295|D>>>12),D=A+(R^V^L)+O[5]+4294588738&4294967295,A=R+(D<<4&4294967295|D>>>28),D=L+(A^R^V)+O[8]+2272392833&4294967295,L=A+(D<<11&4294967295|D>>>21),D=V+(L^A^R)+O[11]+1839030562&4294967295,V=L+(D<<16&4294967295|D>>>16),D=R+(V^L^A)+O[14]+4259657740&4294967295,R=V+(D<<23&4294967295|D>>>9),D=A+(R^V^L)+O[1]+2763975236&4294967295,A=R+(D<<4&4294967295|D>>>28),D=L+(A^R^V)+O[4]+1272893353&4294967295,L=A+(D<<11&4294967295|D>>>21),D=V+(L^A^R)+O[7]+4139469664&4294967295,V=L+(D<<16&4294967295|D>>>16),D=R+(V^L^A)+O[10]+3200236656&4294967295,R=V+(D<<23&4294967295|D>>>9),D=A+(R^V^L)+O[13]+681279174&4294967295,A=R+(D<<4&4294967295|D>>>28),D=L+(A^R^V)+O[0]+3936430074&4294967295,L=A+(D<<11&4294967295|D>>>21),D=V+(L^A^R)+O[3]+3572445317&4294967295,V=L+(D<<16&4294967295|D>>>16),D=R+(V^L^A)+O[6]+76029189&4294967295,R=V+(D<<23&4294967295|D>>>9),D=A+(R^V^L)+O[9]+3654602809&4294967295,A=R+(D<<4&4294967295|D>>>28),D=L+(A^R^V)+O[12]+3873151461&4294967295,L=A+(D<<11&4294967295|D>>>21),D=V+(L^A^R)+O[15]+530742520&4294967295,V=L+(D<<16&4294967295|D>>>16),D=R+(V^L^A)+O[2]+3299628645&4294967295,R=V+(D<<23&4294967295|D>>>9),D=A+(V^(R|~L))+O[0]+4096336452&4294967295,A=R+(D<<6&4294967295|D>>>26),D=L+(R^(A|~V))+O[7]+1126891415&4294967295,L=A+(D<<10&4294967295|D>>>22),D=V+(A^(L|~R))+O[14]+2878612391&4294967295,V=L+(D<<15&4294967295|D>>>17),D=R+(L^(V|~A))+O[5]+4237533241&4294967295,R=V+(D<<21&4294967295|D>>>11),D=A+(V^(R|~L))+O[12]+1700485571&4294967295,A=R+(D<<6&4294967295|D>>>26),D=L+(R^(A|~V))+O[3]+2399980690&4294967295,L=A+(D<<10&4294967295|D>>>22),D=V+(A^(L|~R))+O[10]+4293915773&4294967295,V=L+(D<<15&4294967295|D>>>17),D=R+(L^(V|~A))+O[1]+2240044497&4294967295,R=V+(D<<21&4294967295|D>>>11),D=A+(V^(R|~L))+O[8]+1873313359&4294967295,A=R+(D<<6&4294967295|D>>>26),D=L+(R^(A|~V))+O[15]+4264355552&4294967295,L=A+(D<<10&4294967295|D>>>22),D=V+(A^(L|~R))+O[6]+2734768916&4294967295,V=L+(D<<15&4294967295|D>>>17),D=R+(L^(V|~A))+O[13]+1309151649&4294967295,R=V+(D<<21&4294967295|D>>>11),D=A+(V^(R|~L))+O[4]+4149444226&4294967295,A=R+(D<<6&4294967295|D>>>26),D=L+(R^(A|~V))+O[11]+3174756917&4294967295,L=A+(D<<10&4294967295|D>>>22),D=V+(A^(L|~R))+O[2]+718787259&4294967295,V=L+(D<<15&4294967295|D>>>17),D=R+(L^(V|~A))+O[9]+3951481745&4294967295,I.g[0]=I.g[0]+A&4294967295,I.g[1]=I.g[1]+(V+(D<<21&4294967295|D>>>11))&4294967295,I.g[2]=I.g[2]+V&4294967295,I.g[3]=I.g[3]+L&4294967295}r.prototype.v=function(I,A){A===void 0&&(A=I.length);const R=A-this.blockSize,O=this.C;let V=this.h,L=0;for(;L<A;){if(V==0)for(;L<=R;)o(this,I,L),L+=this.blockSize;if(typeof I=="string"){for(;L<A;)if(O[V++]=I.charCodeAt(L++),V==this.blockSize){o(this,O),V=0;break}}else for(;L<A;)if(O[V++]=I[L++],V==this.blockSize){o(this,O),V=0;break}}this.h=V,this.o+=A},r.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var A=1;A<I.length-8;++A)I[A]=0;A=this.o*8;for(var R=I.length-8;R<I.length;++R)I[R]=A&255,A/=256;for(this.v(I),I=Array(16),A=0,R=0;R<4;++R)for(let O=0;O<32;O+=8)I[A++]=this.g[R]>>>O&255;return I};function h(I,A){var R=p;return Object.prototype.hasOwnProperty.call(R,I)?R[I]:R[I]=A(I)}function d(I,A){this.h=A;const R=[];let O=!0;for(let V=I.length-1;V>=0;V--){const L=I[V]|0;O&&L==A||(R[V]=L,O=!1)}this.g=R}var p={};function y(I){return-128<=I&&I<128?h(I,function(A){return new d([A|0],A<0?-1:0)}):new d([I|0],I<0?-1:0)}function _(I){if(isNaN(I)||!isFinite(I))return x;if(I<0)return k(_(-I));const A=[];let R=1;for(let O=0;I>=R;O++)A[O]=I/R|0,R*=4294967296;return new d(A,0)}function S(I,A){if(I.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(I.charAt(0)=="-")return k(S(I.substring(1),A));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=_(Math.pow(A,8));let O=x;for(let L=0;L<I.length;L+=8){var V=Math.min(8,I.length-L);const D=parseInt(I.substring(L,L+V),A);V<8?(V=_(Math.pow(A,V)),O=O.j(V).add(_(D))):(O=O.j(R),O=O.add(_(D)))}return O}var x=y(0),C=y(1),j=y(16777216);a=d.prototype,a.m=function(){if(it(this))return-k(this).m();let I=0,A=1;for(let R=0;R<this.g.length;R++){const O=this.i(R);I+=(O>=0?O:4294967296+O)*A,A*=4294967296}return I},a.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(H(this))return"0";if(it(this))return"-"+k(this).toString(I);const A=_(Math.pow(I,6));var R=this;let O="";for(;;){const V=ct(R,A).g;R=X(R,V.j(A));let L=((R.g.length>0?R.g[0]:R.h)>>>0).toString(I);if(R=V,H(R))return L+O;for(;L.length<6;)L="0"+L;O=L+O}},a.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function H(I){if(I.h!=0)return!1;for(let A=0;A<I.g.length;A++)if(I.g[A]!=0)return!1;return!0}function it(I){return I.h==-1}a.l=function(I){return I=X(this,I),it(I)?-1:H(I)?0:1};function k(I){const A=I.g.length,R=[];for(let O=0;O<A;O++)R[O]=~I.g[O];return new d(R,~I.h).add(C)}a.abs=function(){return it(this)?k(this):this},a.add=function(I){const A=Math.max(this.g.length,I.g.length),R=[];let O=0;for(let V=0;V<=A;V++){let L=O+(this.i(V)&65535)+(I.i(V)&65535),D=(L>>>16)+(this.i(V)>>>16)+(I.i(V)>>>16);O=D>>>16,L&=65535,D&=65535,R[V]=D<<16|L}return new d(R,R[R.length-1]&-2147483648?-1:0)};function X(I,A){return I.add(k(A))}a.j=function(I){if(H(this)||H(I))return x;if(it(this))return it(I)?k(this).j(k(I)):k(k(this).j(I));if(it(I))return k(this.j(k(I)));if(this.l(j)<0&&I.l(j)<0)return _(this.m()*I.m());const A=this.g.length+I.g.length,R=[];for(var O=0;O<2*A;O++)R[O]=0;for(O=0;O<this.g.length;O++)for(let V=0;V<I.g.length;V++){const L=this.i(O)>>>16,D=this.i(O)&65535,Ht=I.i(V)>>>16,ce=I.i(V)&65535;R[2*O+2*V]+=D*ce,et(R,2*O+2*V),R[2*O+2*V+1]+=L*ce,et(R,2*O+2*V+1),R[2*O+2*V+1]+=D*Ht,et(R,2*O+2*V+1),R[2*O+2*V+2]+=L*Ht,et(R,2*O+2*V+2)}for(I=0;I<A;I++)R[I]=R[2*I+1]<<16|R[2*I];for(I=A;I<2*A;I++)R[I]=0;return new d(R,0)};function et(I,A){for(;(I[A]&65535)!=I[A];)I[A+1]+=I[A]>>>16,I[A]&=65535,A++}function ot(I,A){this.g=I,this.h=A}function ct(I,A){if(H(A))throw Error("division by zero");if(H(I))return new ot(x,x);if(it(I))return A=ct(k(I),A),new ot(k(A.g),k(A.h));if(it(A))return A=ct(I,k(A)),new ot(k(A.g),A.h);if(I.g.length>30){if(it(I)||it(A))throw Error("slowDivide_ only works with positive integers.");for(var R=C,O=A;O.l(I)<=0;)R=Tt(R),O=Tt(O);var V=wt(R,1),L=wt(O,1);for(O=wt(O,2),R=wt(R,2);!H(O);){var D=L.add(O);D.l(I)<=0&&(V=V.add(R),L=D),O=wt(O,1),R=wt(R,1)}return A=X(I,V.j(A)),new ot(V,A)}for(V=x;I.l(A)>=0;){for(R=Math.max(1,Math.floor(I.m()/A.m())),O=Math.ceil(Math.log(R)/Math.LN2),O=O<=48?1:Math.pow(2,O-48),L=_(R),D=L.j(A);it(D)||D.l(I)>0;)R-=O,L=_(R),D=L.j(A);H(L)&&(L=C),V=V.add(L),I=X(I,D)}return new ot(V,I)}a.B=function(I){return ct(this,I).h},a.and=function(I){const A=Math.max(this.g.length,I.g.length),R=[];for(let O=0;O<A;O++)R[O]=this.i(O)&I.i(O);return new d(R,this.h&I.h)},a.or=function(I){const A=Math.max(this.g.length,I.g.length),R=[];for(let O=0;O<A;O++)R[O]=this.i(O)|I.i(O);return new d(R,this.h|I.h)},a.xor=function(I){const A=Math.max(this.g.length,I.g.length),R=[];for(let O=0;O<A;O++)R[O]=this.i(O)^I.i(O);return new d(R,this.h^I.h)};function Tt(I){const A=I.g.length+1,R=[];for(let O=0;O<A;O++)R[O]=I.i(O)<<1|I.i(O-1)>>>31;return new d(R,I.h)}function wt(I,A){const R=A>>5;A%=32;const O=I.g.length-R,V=[];for(let L=0;L<O;L++)V[L]=A>0?I.i(L+R)>>>A|I.i(L+R+1)<<32-A:I.i(L+R);return new d(V,I.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,W0=r,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=S,qs=d}).apply(typeof Fy<"u"?Fy:typeof self<"u"?self:typeof window<"u"?window:{});var Fu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var tv,Kl,ev,Zu,Jf,nv,iv,sv;(function(){var a,e=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Fu=="object"&&Fu];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var r=i(this);function o(u,m){if(m)t:{var v=r;u=u.split(".");for(var T=0;T<u.length-1;T++){var B=u[T];if(!(B in v))break t;v=v[B]}u=u[u.length-1],T=v[u],m=m(T),m!=T&&m!=null&&e(v,u,{configurable:!0,writable:!0,value:m})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(m){var v=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&v.push([T,m[T]]);return v}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},d=this||self;function p(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function y(u,m,v){return u.call.apply(u.bind,arguments)}function _(u,m,v){return _=y,_.apply(null,arguments)}function S(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var T=v.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function x(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(T,B,Y){for(var ht=Array(arguments.length-2),Nt=2;Nt<arguments.length;Nt++)ht[Nt-2]=arguments[Nt];return m.prototype[B].apply(T,ht)}}var C=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function j(u){const m=u.length;if(m>0){const v=Array(m);for(let T=0;T<m;T++)v[T]=u[T];return v}return[]}function H(u,m){for(let T=1;T<arguments.length;T++){const B=arguments[T];var v=typeof B;if(v=v!="object"?v:B?Array.isArray(B)?"array":v:"null",v=="array"||v=="object"&&typeof B.length=="number"){v=u.length||0;const Y=B.length||0;u.length=v+Y;for(let ht=0;ht<Y;ht++)u[v+ht]=B[ht]}else u.push(B)}}class it{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function k(u){d.setTimeout(()=>{throw u},0)}function X(){var u=I;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class et{constructor(){this.h=this.g=null}add(m,v){const T=ot.get();T.set(m,v),this.h?this.h.next=T:this.g=T,this.h=T}}var ot=new it(()=>new ct,u=>u.reset());class ct{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Tt,wt=!1,I=new et,A=()=>{const u=Promise.resolve(void 0);Tt=()=>{u.then(R)}};function R(){for(var u;u=X();){try{u.h.call(u.g)}catch(v){k(v)}var m=ot;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}wt=!1}function O(){this.u=this.u,this.C=this.C}O.prototype.u=!1,O.prototype.dispose=function(){this.u||(this.u=!0,this.N())},O.prototype[Symbol.dispose]=function(){this.dispose()},O.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function V(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}V.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function D(u){return/^[\s\xa0]*$/.test(u)}function Ht(u,m){V.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}x(Ht,V),Ht.prototype.init=function(u,m){const v=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&Ht.Z.h.call(this)},Ht.prototype.h=function(){Ht.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var ce="closure_listenable_"+(Math.random()*1e6|0),U=0;function at(u,m,v,T,B){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!T,this.ha=B,this.key=++U,this.da=this.fa=!1}function dt(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Z(u,m,v){for(const T in u)m.call(v,u[T],T,u)}function ut(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function w(u){const m={};for(const v in u)m[v]=u[v];return m}const G="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function $(u,m){let v,T;for(let B=1;B<arguments.length;B++){T=arguments[B];for(v in T)u[v]=T[v];for(let Y=0;Y<G.length;Y++)v=G[Y],Object.prototype.hasOwnProperty.call(T,v)&&(u[v]=T[v])}}function ft(u){this.src=u,this.g={},this.h=0}ft.prototype.add=function(u,m,v,T,B){const Y=u.toString();u=this.g[Y],u||(u=this.g[Y]=[],this.h++);const ht=It(u,m,T,B);return ht>-1?(m=u[ht],v||(m.fa=!1)):(m=new at(m,this.src,Y,!!T,B),m.fa=v,u.push(m)),m};function bt(u,m){const v=m.type;if(v in u.g){var T=u.g[v],B=Array.prototype.indexOf.call(T,m,void 0),Y;(Y=B>=0)&&Array.prototype.splice.call(T,B,1),Y&&(dt(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function It(u,m,v,T){for(let B=0;B<u.length;++B){const Y=u[B];if(!Y.da&&Y.listener==m&&Y.capture==!!v&&Y.ha==T)return B}return-1}var zt="closure_lm_"+(Math.random()*1e6|0),Te={};function oe(u,m,v,T,B){if(Array.isArray(m)){for(let Y=0;Y<m.length;Y++)oe(u,m[Y],v,T,B);return null}return v=Q(v),u&&u[ce]?u.J(m,v,p(T)?!!T.capture:!1,B):bn(u,m,v,!1,T,B)}function bn(u,m,v,T,B,Y){if(!m)throw Error("Invalid event type");const ht=p(B)?!!B.capture:!!B;let Nt=ri(u);if(Nt||(u[zt]=Nt=new ft(u)),v=Nt.add(m,v,T,ht,Y),v.proxy)return v;if(T=ss(),v.proxy=T,T.src=u,T.listener=v,u.addEventListener)L||(B=ht),B===void 0&&(B=!1),u.addEventListener(m.toString(),T,B);else if(u.attachEvent)u.attachEvent(Nn(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return v}function ss(){function u(v){return m.call(u.src,u.listener,v)}const m=Qn;return u}function as(u,m,v,T,B){if(Array.isArray(m))for(var Y=0;Y<m.length;Y++)as(u,m[Y],v,T,B);else T=p(T)?!!T.capture:!!T,v=Q(v),u&&u[ce]?(u=u.i,Y=String(m).toString(),Y in u.g&&(m=u.g[Y],v=It(m,v,T,B),v>-1&&(dt(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[Y],u.h--)))):u&&(u=ri(u))&&(m=u.g[m.toString()],u=-1,m&&(u=It(m,v,T,B)),(v=u>-1?m[u]:null)&&rs(v))}function rs(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[ce])bt(m.i,u);else{var v=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(v,T,u.capture):m.detachEvent?m.detachEvent(Nn(v),T):m.addListener&&m.removeListener&&m.removeListener(T),(v=ri(m))?(bt(v,u),v.h==0&&(v.src=null,m[zt]=null)):dt(u)}}}function Nn(u){return u in Te?Te[u]:Te[u]="on"+u}function Qn(u,m){if(u.da)u=!0;else{m=new Ht(m,this);const v=u.listener,T=u.ha||u.src;u.fa&&rs(u),u=v.call(T,m)}return u}function ri(u){return u=u[zt],u instanceof ft?u:null}var ls="__closure_events_fn_"+(Math.random()*1e9>>>0);function Q(u){return typeof u=="function"?u:(u[ls]||(u[ls]=function(m){return u.handleEvent(m)}),u[ls])}function W(){O.call(this),this.i=new ft(this),this.M=this,this.G=null}x(W,O),W.prototype[ce]=!0,W.prototype.removeEventListener=function(u,m,v,T){as(this,u,m,v,T)};function lt(u,m){var v,T=u.G;if(T)for(v=[];T;T=T.G)v.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new V(m,u);else if(m instanceof V)m.target=m.target||u;else{var B=m;m=new V(T,u),$(m,B)}B=!0;let Y,ht;if(v)for(ht=v.length-1;ht>=0;ht--)Y=m.g=v[ht],B=Ot(Y,T,!0,m)&&B;if(Y=m.g=u,B=Ot(Y,T,!0,m)&&B,B=Ot(Y,T,!1,m)&&B,v)for(ht=0;ht<v.length;ht++)Y=m.g=v[ht],B=Ot(Y,T,!1,m)&&B}W.prototype.N=function(){if(W.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let T=0;T<v.length;T++)dt(v[T]);delete u.g[m],u.h--}}this.G=null},W.prototype.J=function(u,m,v,T){return this.i.add(String(u),m,!1,v,T)},W.prototype.K=function(u,m,v,T){return this.i.add(String(u),m,!0,v,T)};function Ot(u,m,v,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let B=!0;for(let Y=0;Y<m.length;++Y){const ht=m[Y];if(ht&&!ht.da&&ht.capture==v){const Nt=ht.listener,xe=ht.ha||ht.src;ht.fa&&bt(u.i,ht),B=Nt.call(xe,T)!==!1&&B}}return B&&!T.defaultPrevented}function ue(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=_(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function Ye(u){u.g=ue(()=>{u.g=null,u.i&&(u.i=!1,Ye(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class $t extends O{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Ye(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Re(u){O.call(this),this.h=u,this.g={}}x(Re,O);var li=[];function cn(u){Z(u.g,function(m,v){this.g.hasOwnProperty(v)&&rs(m)},u),u.g={}}Re.prototype.N=function(){Re.Z.N.call(this),cn(this)},Re.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Yn=d.JSON.stringify,za=d.JSON.parse,Js=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function _t(){}function $s(){}var hn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function De(){V.call(this,"d")}x(De,V);function ln(){V.call(this,"c")}x(ln,V);var me={},Ws=null;function Oi(){return Ws=Ws||new W}me.Ia="serverreachability";function ta(u){V.call(this,me.Ia,u)}x(ta,V);function En(u){const m=Oi();lt(m,new ta(m))}me.STAT_EVENT="statevent";function oi(u,m){V.call(this,me.STAT_EVENT,u),this.stat=m}x(oi,V);function Xt(u){const m=Oi();lt(m,new oi(m,u))}me.Ja="timingevent";function Se(u,m){V.call(this,me.Ja,u),this.size=m}x(Se,V);function Qt(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function _e(){this.g=!0}_e.prototype.ua=function(){this.g=!1};function ui(u,m,v,T,B,Y){u.info(function(){if(u.g)if(Y){var ht="",Nt=Y.split("&");for(let Zt=0;Zt<Nt.length;Zt++){var xe=Nt[Zt].split("=");if(xe.length>1){const ge=xe[0];xe=xe[1];const jn=ge.split("_");ht=jn.length>=2&&jn[1]=="type"?ht+(ge+"="+xe+"&"):ht+(ge+"=redacted&")}}}else ht=null;else ht=Y;return"XMLHTTP REQ ("+T+") [attempt "+B+"]: "+m+`
`+v+`
`+ht})}function ka(u,m,v,T,B,Y,ht){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+B+"]: "+m+`
`+v+`
`+Y+" "+ht})}function ci(u,m,v,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Mc(u,v)+(T?" "+T:"")})}function ea(u,m){u.info(function(){return"TIMEOUT: "+m})}_e.prototype.info=function(){};function Mc(u,m){if(!u.g)return m;if(!m)return null;try{const Y=JSON.parse(m);if(Y){for(u=0;u<Y.length;u++)if(Array.isArray(Y[u])){var v=Y[u];if(!(v.length<2)){var T=v[1];if(Array.isArray(T)&&!(T.length<1)){var B=T[0];if(B!="noop"&&B!="stop"&&B!="close")for(let ht=1;ht<T.length;ht++)T[ht]=""}}}}return Yn(Y)}catch{return m}}var na={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Gr={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Qr;function ia(){}x(ia,_t),ia.prototype.g=function(){return new XMLHttpRequest},Qr=new ia;function ji(u){return encodeURIComponent(String(u))}function To(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function Kn(u,m,v,T){this.j=u,this.i=m,this.l=v,this.S=T||1,this.V=new Re(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Xn}function Xn(){this.i=null,this.g="",this.h=!1}var Ie={},He={};function hi(u,m,v){u.M=1,u.A=sa(Ve(m)),u.u=v,u.R=!0,Ua(u,null)}function Ua(u,m){u.F=Date.now(),fi(u),u.B=Ve(u.A);var v=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),Ha(v.i,"t",T),u.C=0,v=u.j.L,u.h=new Xn,u.g=zo(u.j,v?m:null,!u.u),u.P>0&&(u.O=new $t(_(u.Y,u,u.g),u.P)),m=u.V,v=u.g,T=u.ba;var B="readystatechange";Array.isArray(B)||(B&&(li[0]=B.toString()),B=li);for(let Y=0;Y<B.length;Y++){const ht=oe(v,B[Y],T||m.handleEvent,!1,m.h||m);if(!ht)break;m.g[ht.key]=ht}m=u.J?w(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),En(),ui(u.i,u.v,u.B,u.l,u.S,u.u)}Kn.prototype.ba=function(u){u=u.target;const m=this.O;m&&$n(u)==3?m.j():this.Y(u)},Kn.prototype.Y=function(u){try{if(u==this.g)t:{const Nt=$n(this.g),xe=this.g.ya(),Zt=this.g.ca();if(!(Nt<3)&&(Nt!=3||this.g&&(this.h.h||this.g.la()||Ke(this.g)))){this.K||Nt!=4||xe==7||(xe==8||Zt<=0?En(3):En(2)),di(this);var m=this.g.ca();this.X=m;var v=Oc(this);if(this.o=m==200,ka(this.i,this.v,this.B,this.l,this.S,Nt,m),this.o){if(this.U&&!this.L){e:{if(this.g){var T,B=this.g;if((T=B.g?B.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!D(T)){var Y=T;break e}}Y=null}if(u=Y)ci(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,mi(this,u);else{this.o=!1,this.m=3,Xt(12),Tn(this),Vn(this);break t}}if(this.R){u=!0;let ge;for(;!this.K&&this.C<v.length;)if(ge=xo(this,v),ge==He){Nt==4&&(this.m=4,Xt(14),u=!1),ci(this.i,this.l,null,"[Incomplete Response]");break}else if(ge==Ie){this.m=4,Xt(15),ci(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else ci(this.i,this.l,ge,null),mi(this,ge);if(So(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Nt!=4||v.length!=0||this.h.h||(this.m=1,Xt(16),u=!1),this.o=this.o&&u,!u)ci(this.i,this.l,v,"[Invalid Chunked Response]"),Tn(this),Vn(this);else if(v.length>0&&!this.W){this.W=!0;var ht=this.j;ht.g==this&&ht.aa&&!ht.P&&(ht.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),ll(ht),ht.P=!0,Xt(11))}}else ci(this.i,this.l,v,null),mi(this,v);Nt==4&&Tn(this),this.o&&!this.K&&(Nt==4?Mo(this.j,this):(this.o=!1,fi(this)))}else zi(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,Xt(12)):(this.m=0,Xt(13)),Tn(this),Vn(this)}}}catch{}finally{}};function Oc(u){if(!So(u))return u.g.la();const m=Ke(u.g);if(m==="")return"";let v="";const T=m.length,B=$n(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return Tn(u),Vn(u),"";u.h.i=new d.TextDecoder}for(let Y=0;Y<T;Y++)u.h.h=!0,v+=u.h.i.decode(m[Y],{stream:!(B&&Y==T-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function So(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function xo(u,m){var v=u.C,T=m.indexOf(`
`,v);return T==-1?He:(v=Number(m.substring(v,T)),isNaN(v)?Ie:(T+=1,T+v>m.length?He:(m=m.slice(T,T+v),u.C=T+v,m)))}Kn.prototype.cancel=function(){this.K=!0,Tn(this)};function fi(u){u.T=Date.now()+u.H,Ba(u,u.H)}function Ba(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=Qt(_(u.aa,u),m)}function di(u){u.D&&(d.clearTimeout(u.D),u.D=null)}Kn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(ea(this.i,this.B),this.M!=2&&(En(),Xt(17)),Tn(this),this.m=2,Vn(this)):Ba(this,this.T-u)};function Vn(u){u.j.I==0||u.K||Mo(u.j,u)}function Tn(u){di(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,cn(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function mi(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||pi(v.h,u))){if(!u.L&&pi(v.h,u)&&v.I==3){try{var T=v.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var B=T;if(B[0]==0){t:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)Ka(v),gs(v);else break t;ha(v),Xt(18)}}else v.xa=B[1],0<v.xa-v.K&&B[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=Qt(_(v.Va,v),6e3));gi(v.h)<=1&&v.ta&&(v.ta=void 0)}else Ti(v,11)}else if((u.L||v.g==u)&&Ka(v),!D(m))for(B=v.Ba.g.parse(m),m=0;m<B.length;m++){let Zt=B[m];const ge=Zt[0];if(!(ge<=v.K))if(v.K=ge,Zt=Zt[1],v.I==2)if(Zt[0]=="c"){v.M=Zt[1],v.ba=Zt[2];const jn=Zt[3];jn!=null&&(v.ka=jn,v.j.info("VER="+v.ka));const Si=Zt[4];Si!=null&&(v.za=Si,v.j.info("SVER="+v.za));const Wn=Zt[5];Wn!=null&&typeof Wn=="number"&&Wn>0&&(T=1.5*Wn,v.O=T,v.j.info("backChannelRequestTimeoutMs_="+T)),T=v;const ti=u.g;if(ti){const fa=ti.g?ti.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(fa){var Y=T.h;Y.g||fa.indexOf("spdy")==-1&&fa.indexOf("quic")==-1&&fa.indexOf("h2")==-1||(Y.j=Y.l,Y.g=new Set,Y.h&&(Xr(Y,Y.h),Y.h=null))}if(T.G){const Xa=ti.g?ti.g.getResponseHeader("X-HTTP-Session-Id"):null;Xa&&(T.wa=Xa,te(T.J,T.G,Xa))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),T=v;var ht=u;if(T.na=Lo(T,T.L?T.ba:null,T.W),ht.L){Zr(T.h,ht);var Nt=ht,xe=T.O;xe&&(Nt.H=xe),Nt.D&&(di(Nt),fi(Nt)),T.g=ht}else No(T);v.i.length>0&&Ei(v)}else Zt[0]!="stop"&&Zt[0]!="close"||Ti(v,7);else v.I==3&&(Zt[0]=="stop"||Zt[0]=="close"?Zt[0]=="stop"?Ti(v,7):al(v):Zt[0]!="noop"&&v.l&&v.l.qa(Zt),v.A=0)}}En(4)}catch{}}var Ne=class{constructor(u,m){this.g=u,this.map=m}};function Yr(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Kr(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function gi(u){return u.h?1:u.g?u.g.size:0}function pi(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Xr(u,m){u.g?u.g.add(m):u.h=m}function Zr(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Yr.prototype.cancel=function(){if(this.i=Jr(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Jr(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return j(u.i)}var Ao=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Pa(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const T=u[v].indexOf("=");let B,Y=null;T>=0?(B=u[v].substring(0,T),Y=u[v].substring(T+1)):B=u[v],m(B,Y?decodeURIComponent(Y.replace(/\+/g," ")):"")}}}function Sn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof Sn?(this.l=u.l,Fe(this,u.j),this.o=u.o,this.g=u.g,os(this,u.u),this.h=u.h,$r(this,Do(u.i)),this.m=u.m):u&&(m=String(u).match(Ao))?(this.l=!1,Fe(this,m[1]||"",!0),this.o=yi(m[2]||""),this.g=yi(m[3]||"",!0),os(this,m[4]),this.h=yi(m[5]||"",!0),$r(this,m[6]||"",!0),this.m=yi(m[7]||"")):(this.l=!1,this.i=new cs(null,this.l))}Sn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(aa(m,qa,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(aa(m,qa,!0),"@"),u.push(ji(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(aa(v,v.charAt(0)=="/"?Wr:wo,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",aa(v,Co)),u.join("")},Sn.prototype.resolve=function(u){const m=Ve(this);let v=!!u.j;v?Fe(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var T=u.h;if(v)os(m,u.u);else if(v=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var B=m.h.lastIndexOf("/");B!=-1&&(T=m.h.slice(0,B+1)+T)}if(B=T,B==".."||B==".")T="";else if(B.indexOf("./")!=-1||B.indexOf("/.")!=-1){T=B.lastIndexOf("/",0)==0,B=B.split("/");const Y=[];for(let ht=0;ht<B.length;){const Nt=B[ht++];Nt=="."?T&&ht==B.length&&Y.push(""):Nt==".."?((Y.length>1||Y.length==1&&Y[0]!="")&&Y.pop(),T&&ht==B.length&&Y.push("")):(Y.push(Nt),T=!0)}T=Y.join("/")}else T=B}return v?m.h=T:v=u.i.toString()!=="",v?$r(m,Do(u.i)):v=!!u.m,v&&(m.m=u.m),m};function Ve(u){return new Sn(u)}function Fe(u,m,v){u.j=v?yi(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function os(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function $r(u,m,v){m instanceof cs?(u.i=m,Fa(u.i,u.l)):(v||(m=aa(m,us)),u.i=new cs(m,u.l))}function te(u,m,v){u.i.set(m,v)}function sa(u){return te(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function yi(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function aa(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,fn),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function fn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var qa=/[#\/\?@]/g,wo=/[#\?:]/g,Wr=/[#\?]/g,us=/[#\?@]/g,Co=/#/g;function cs(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function dn(u){u.g||(u.g=new Map,u.h=0,u.i&&Pa(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}a=cs.prototype,a.add=function(u,m){dn(this),this.i=null,u=hs(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function Ro(u,m){dn(u),m=hs(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function tl(u,m){return dn(u),m=hs(u,m),u.g.has(m)}a.forEach=function(u,m){dn(this),this.g.forEach(function(v,T){v.forEach(function(B){u.call(m,B,T,this)},this)},this)};function el(u,m){dn(u);let v=[];if(typeof m=="string")tl(u,m)&&(v=v.concat(u.g.get(hs(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}a.set=function(u,m){return dn(this),this.i=null,u=hs(this,u),tl(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},a.get=function(u,m){return u?(u=el(this,u),u.length>0?String(u[0]):m):m};function Ha(u,m,v){Ro(u,m),v.length>0&&(u.i=null,u.g.set(hs(u,m),j(v)),u.h+=v.length)}a.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var v=m[T];const B=ji(v);v=el(this,v);for(let Y=0;Y<v.length;Y++){let ht=B;v[Y]!==""&&(ht+="="+ji(v[Y])),u.push(ht)}}return this.i=u.join("&")};function Do(u){const m=new cs;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function hs(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Fa(u,m){m&&!u.j&&(dn(u),u.i=null,u.g.forEach(function(v,T){const B=T.toLowerCase();T!=B&&(Ro(this,T),Ha(this,B,v))},u)),u.j=m}function Zn(u,m){const v=new _e;if(d.Image){const T=new Image;T.onload=S(Mn,v,"TestLoadImage: loaded",!0,m,T),T.onerror=S(Mn,v,"TestLoadImage: error",!1,m,T),T.onabort=S(Mn,v,"TestLoadImage: abort",!1,m,T),T.ontimeout=S(Mn,v,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function nl(u,m){const v=new _e,T=new AbortController,B=setTimeout(()=>{T.abort(),Mn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(Y=>{clearTimeout(B),Y.ok?Mn(v,"TestPingServer: ok",!0,m):Mn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(B),Mn(v,"TestPingServer: error",!1,m)})}function Mn(u,m,v,T,B){try{B&&(B.onload=null,B.onerror=null,B.onabort=null,B.ontimeout=null),T(v)}catch{}}function fs(){this.g=new Js}function vi(u){this.i=u.Sb||null,this.h=u.ab||!1}x(vi,_t),vi.prototype.g=function(){return new ra(this.i,this.h)};function ra(u,m){W.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}x(ra,W),a=ra.prototype,a.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,Jn(this)},a.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},a.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ds(this)),this.readyState=0},a.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Jn(this)),this.g&&(this.readyState=3,Jn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ga(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ga(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}a.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?ds(this):Jn(this),this.readyState==3&&Ga(this)}},a.Oa=function(u){this.g&&(this.response=this.responseText=u,ds(this))},a.Na=function(u){this.g&&(this.response=u,ds(this))},a.ga=function(){this.g&&ds(this)};function ds(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Jn(u)}a.setRequestHeader=function(u,m){this.A.append(u,m)},a.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},a.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function Jn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(ra.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function On(u){let m="";return Z(u,function(v,T){m+=T,m+=":",m+=v,m+=`\r
`}),m}function la(u,m,v){t:{for(T in v){var T=!1;break t}T=!0}T||(v=On(v),typeof u=="string"?v!=null&&ji(v):te(u,m,v))}function ie(u){W.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}x(ie,W);var _i=/^https?$/i,il=["POST","PUT"];a=ie.prototype,a.Fa=function(u){this.H=u},a.ea=function(u,m,v,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Qr.g(),this.g.onreadystatechange=C(_(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(Y){oa(this,Y);return}if(u=v||"",v=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var B in T)v.set(B,T[B]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const Y of T.keys())v.set(Y,T.get(Y));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(v.keys()).find(Y=>Y.toLowerCase()=="content-type"),B=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(il,m,void 0)>=0)||T||B||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Y,ht]of v)this.g.setRequestHeader(Y,ht);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(Y){oa(this,Y)}};function oa(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,sl(u),Li(u)}function sl(u){u.A||(u.A=!0,lt(u,"complete"),lt(u,"error"))}a.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,lt(this,"complete"),lt(this,"abort"),Li(this))},a.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Li(this,!0)),ie.Z.N.call(this)},a.Ca=function(){this.u||(this.B||this.v||this.j?ua(this):this.Xa())},a.Xa=function(){ua(this)};function ua(u){if(u.h&&typeof h<"u"){if(u.v&&$n(u)==4)setTimeout(u.Ca.bind(u),0);else if(lt(u,"readystatechange"),$n(u)==4){u.h=!1;try{const Y=u.ca();t:switch(Y){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var v;if(!(v=m)){var T;if(T=Y===0){let ht=String(u.D).match(Ao)[1]||null;!ht&&d.self&&d.self.location&&(ht=d.self.location.protocol.slice(0,-1)),T=!_i.test(ht?ht.toLowerCase():"")}v=T}if(v)lt(u,"complete"),lt(u,"success");else{u.o=6;try{var B=$n(u)>2?u.g.statusText:""}catch{B=""}u.l=B+" ["+u.ca()+"]",sl(u)}}finally{Li(u)}}}}function Li(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||lt(u,"ready");try{v.onreadystatechange=null}catch{}}}a.isActive=function(){return!!this.g};function $n(u){return u.g?u.g.readyState:0}a.ca=function(){try{return $n(this)>2?this.g.status:-1}catch{return-1}},a.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},a.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),za(m)}};function Ke(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function zi(u){const m={};u=(u.g&&$n(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(D(u[T]))continue;var v=To(u[T]);const B=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const Y=m[B]||[];m[B]=Y,Y.push(v)}ut(m,function(T){return T.join(", ")})}a.ya=function(){return this.o},a.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function bi(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function ms(u){this.za=0,this.i=[],this.j=new _e,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=bi("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=bi("baseRetryDelayMs",5e3,u),this.Za=bi("retryDelaySeedMs",1e4,u),this.Ta=bi("forwardChannelMaxRetries",2,u),this.va=bi("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Yr(u&&u.concurrentRequestLimit),this.Ba=new fs,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}a=ms.prototype,a.ka=8,a.I=1,a.connect=function(u,m,v,T){Xt(0),this.W=u,this.H=m||{},v&&T!==void 0&&(this.H.OSID=v,this.H.OAID=T),this.F=this.X,this.J=Lo(this,null,this.W),Ei(this)};function al(u){if(Qa(u),u.I==3){var m=u.V++,v=Ve(u.J);if(te(v,"SID",u.M),te(v,"RID",m),te(v,"TYPE","terminate"),ca(u,v),m=new Kn(u,u.j,m),m.M=2,m.A=sa(Ve(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=zo(m.j,null),m.g.ea(m.A)),m.F=Date.now(),fi(m)}jo(u)}function gs(u){u.g&&(ll(u),u.g.cancel(),u.g=null)}function Qa(u){gs(u),u.v&&(d.clearTimeout(u.v),u.v=null),Ka(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function Ei(u){if(!Kr(u.h)&&!u.m){u.m=!0;var m=u.Ea;Tt||A(),wt||(Tt(),wt=!0),I.add(m,u),u.D=0}}function Ya(u,m){return gi(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=Qt(_(u.Ea,u,m),Oo(u,u.D)),u.D++,!0)}a.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const B=new Kn(this,this.j,u);let Y=this.o;if(this.U&&(Y?(Y=w(Y),$(Y,this.U)):Y=this.U),this.u!==null||this.R||(B.J=Y,Y=null),this.S)t:{for(var m=0,v=0;v<this.i.length;v++){e:{var T=this.i[v];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=v;break t}if(m===4096||v===this.i.length-1){m=v+1;break t}}m=1e3}else m=1e3;m=Io(this,B,m),v=Ve(this.J),te(v,"RID",u),te(v,"CVER",22),this.G&&te(v,"X-HTTP-Session-Id",this.G),ca(this,v),Y&&(this.R?m="headers="+ji(On(Y))+"&"+m:this.u&&la(v,this.u,Y)),Xr(this.h,B),this.Ra&&te(v,"TYPE","init"),this.S?(te(v,"$req",m),te(v,"SID","null"),B.U=!0,hi(B,v,null)):hi(B,v,m),this.I=2}}else this.I==3&&(u?rl(this,u):this.i.length==0||Kr(this.h)||rl(this))};function rl(u,m){var v;m?v=m.l:v=u.V++;const T=Ve(u.J);te(T,"SID",u.M),te(T,"RID",v),te(T,"AID",u.K),ca(u,T),u.u&&u.o&&la(T,u.u,u.o),v=new Kn(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=Io(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Xr(u.h,v),hi(v,T,m)}function ca(u,m){u.H&&Z(u.H,function(v,T){te(m,T,v)}),u.l&&Z({},function(v,T){te(m,T,v)})}function Io(u,m,v){v=Math.min(u.i.length,v);const T=u.l?_(u.l.Ka,u.l,u):null;t:{var B=u.i;let Nt=-1;for(;;){const xe=["count="+v];Nt==-1?v>0?(Nt=B[0].g,xe.push("ofs="+Nt)):Nt=0:xe.push("ofs="+Nt);let Zt=!0;for(let ge=0;ge<v;ge++){var Y=B[ge].g;const jn=B[ge].map;if(Y-=Nt,Y<0)Nt=Math.max(0,B[ge].g-100),Zt=!1;else try{Y="req"+Y+"_"||"";try{var ht=jn instanceof Map?jn:Object.entries(jn);for(const[Si,Wn]of ht){let ti=Wn;p(Wn)&&(ti=Yn(Wn)),xe.push(Y+Si+"="+encodeURIComponent(ti))}}catch(Si){throw xe.push(Y+"type="+encodeURIComponent("_badmap")),Si}}catch{T&&T(jn)}}if(Zt){ht=xe.join("&");break t}}ht=void 0}return u=u.i.splice(0,v),m.G=u,ht}function No(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;Tt||A(),wt||(Tt(),wt=!0),I.add(m,u),u.A=0}}function ha(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=Qt(_(u.Da,u),Oo(u,u.A)),u.A++,!0)}a.Da=function(){if(this.v=null,Vo(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=Qt(_(this.Wa,this),u)}},a.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Xt(10),gs(this),Vo(this))};function ll(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function Vo(u){u.g=new Kn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Ve(u.na);te(m,"RID","rpc"),te(m,"SID",u.M),te(m,"AID",u.K),te(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&te(m,"TO",u.ia),te(m,"TYPE","xmlhttp"),ca(u,m),u.u&&u.o&&la(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=sa(Ve(m)),v.u=null,v.R=!0,Ua(v,u)}a.Va=function(){this.C!=null&&(this.C=null,gs(this),ha(this),Xt(19))};function Ka(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function Mo(u,m){var v=null;if(u.g==m){Ka(u),ll(u),u.g=null;var T=2}else if(pi(u.h,m))v=m.G,Zr(u.h,m),T=1;else return;if(u.I!=0){if(m.o)if(T==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var B=u.D;T=Oi(),lt(T,new Se(T,v)),Ei(u)}else No(u);else if(B=m.m,B==3||B==0&&m.X>0||!(T==1&&Ya(u,m)||T==2&&ha(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),B){case 1:Ti(u,5);break;case 4:Ti(u,10);break;case 3:Ti(u,6);break;default:Ti(u,2)}}}function Oo(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function Ti(u,m){if(u.j.info("Error code "+m),m==2){var v=_(u.bb,u),T=u.Ua;const B=!T;T=new Sn(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Fe(T,"https"),sa(T),B?Zn(T.toString(),v):nl(T.toString(),v)}else Xt(2);u.I=0,u.l&&u.l.pa(m),jo(u),Qa(u)}a.bb=function(u){u?(this.j.info("Successfully pinged google.com"),Xt(2)):(this.j.info("Failed to ping google.com"),Xt(1))};function jo(u){if(u.I=0,u.ja=[],u.l){const m=Jr(u.h);(m.length!=0||u.i.length!=0)&&(H(u.ja,m),H(u.ja,u.i),u.h.i.length=0,j(u.i),u.i.length=0),u.l.oa()}}function Lo(u,m,v){var T=v instanceof Sn?Ve(v):new Sn(v);if(T.g!="")m&&(T.g=m+"."+T.g),os(T,T.u);else{var B=d.location;T=B.protocol,m=m?m+"."+B.hostname:B.hostname,B=+B.port;const Y=new Sn(null);T&&Fe(Y,T),m&&(Y.g=m),B&&os(Y,B),v&&(Y.h=v),T=Y}return v=u.G,m=u.wa,v&&m&&te(T,v,m),te(T,"VER",u.ka),ca(u,T),T}function zo(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new ie(new vi({ab:v})):new ie(u.ma),m.Fa(u.L),m}a.isActive=function(){return!!this.l&&this.l.isActive(this)};function ko(){}a=ko.prototype,a.ra=function(){},a.qa=function(){},a.pa=function(){},a.oa=function(){},a.isActive=function(){return!0},a.Ka=function(){};function ps(){}ps.prototype.g=function(u,m){return new on(u,m)};function on(u,m){W.call(this),this.g=new ms(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!D(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!D(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new ki(this)}x(on,W),on.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},on.prototype.close=function(){al(this.g)},on.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=Yn(u),u=v);m.i.push(new Ne(m.Ya++,u)),m.I==3&&Ei(m)},on.prototype.N=function(){this.g.l=null,delete this.j,al(this.g),delete this.g,on.Z.N.call(this)};function Uo(u){De.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const v in m){u=v;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}x(Uo,De);function Bo(){ln.call(this),this.status=1}x(Bo,ln);function ki(u){this.g=u}x(ki,ko),ki.prototype.ra=function(){lt(this.g,"a")},ki.prototype.qa=function(u){lt(this.g,new Uo(u))},ki.prototype.pa=function(u){lt(this.g,new Bo)},ki.prototype.oa=function(){lt(this.g,"b")},ps.prototype.createWebChannel=ps.prototype.g,on.prototype.send=on.prototype.o,on.prototype.open=on.prototype.m,on.prototype.close=on.prototype.close,sv=function(){return new ps},iv=function(){return Oi()},nv=me,Jf={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},na.NO_ERROR=0,na.TIMEOUT=8,na.HTTP_ERROR=6,Zu=na,Gr.COMPLETE="complete",ev=Gr,$s.EventType=hn,hn.OPEN="a",hn.CLOSE="b",hn.ERROR="c",hn.MESSAGE="d",W.prototype.listen=W.prototype.J,Kl=$s,ie.prototype.listenOnce=ie.prototype.K,ie.prototype.getLastError=ie.prototype.Ha,ie.prototype.getLastErrorCode=ie.prototype.ya,ie.prototype.getStatus=ie.prototype.ca,ie.prototype.getResponseJson=ie.prototype.La,ie.prototype.getResponseText=ie.prototype.la,ie.prototype.send=ie.prototype.ea,ie.prototype.setWithCredentials=ie.prototype.Fa,tv=ie}).apply(typeof Fu<"u"?Fu:typeof self<"u"?self:typeof window<"u"?window:{});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}an.UNAUTHENTICATED=new an(null),an.GOOGLE_CREDENTIALS=new an("google-credentials-uid"),an.FIRST_PARTY=new an("first-party-uid"),an.MOCK_USER=new an("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pr="12.8.0";function _T(a){Pr=a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Na=new Y0("@firebase/firestore");function Ar(){return Na.logLevel}function mt(a,...e){if(Na.logLevel<=Gt.DEBUG){const i=e.map(vd);Na.debug(`Firestore (${Pr}): ${a}`,...i)}}function ns(a,...e){if(Na.logLevel<=Gt.ERROR){const i=e.map(vd);Na.error(`Firestore (${Pr}): ${a}`,...i)}}function Or(a,...e){if(Na.logLevel<=Gt.WARN){const i=e.map(vd);Na.warn(`Firestore (${Pr}): ${a}`,...i)}}function vd(a){if(typeof a=="string")return a;try{return(function(i){return JSON.stringify(i)})(a)}catch{return a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function At(a,e,i){let r="Unexpected state";typeof e=="string"?r=e:i=e,av(a,r,i)}function av(a,e,i){let r=`FIRESTORE (${Pr}) INTERNAL ASSERTION FAILED: ${e} (ID: ${a.toString(16)})`;if(i!==void 0)try{r+=" CONTEXT: "+JSON.stringify(i)}catch{r+=" CONTEXT: "+i}throw ns(r),new Error(r)}function Wt(a,e,i,r){let o="Unexpected state";typeof i=="string"?o=i:r=i,a||av(e,o,r)}function Dt(a,e){return a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class vt extends Br{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hs{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rv{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class bT{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(an.UNAUTHENTICATED)))}shutdown(){}}class ET{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class TT{constructor(e){this.t=e,this.currentUser=an.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){Wt(this.o===void 0,42304);let r=this.i;const o=y=>this.i!==r?(r=this.i,i(y)):Promise.resolve();let h=new Hs;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new Hs,e.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const y=h;e.enqueueRetryable((async()=>{await y.promise,await o(this.currentUser)}))},p=y=>{mt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((y=>p(y))),setTimeout((()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?p(y):(mt("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new Hs)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((r=>this.i!==e?(mt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Wt(typeof r.accessToken=="string",31837,{l:r}),new rv(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Wt(e===null||typeof e=="string",2055,{h:e}),new an(e)}}class ST{constructor(e,i,r){this.P=e,this.T=i,this.I=r,this.type="FirstParty",this.user=an.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class xT{constructor(e,i,r){this.P=e,this.T=i,this.I=r}getToken(){return Promise.resolve(new ST(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(an.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Gy{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class AT{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,sT(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){Wt(this.o===void 0,3512);const r=h=>{h.error!=null&&mt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const d=h.token!==this.m;return this.m=h.token,mt("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(h.token):Promise.resolve()};this.o=h=>{e.enqueueRetryable((()=>r(h)))};const o=h=>{mt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((h=>o(h))),setTimeout((()=>{if(!this.appCheck){const h=this.V.getImmediate({optional:!0});h?o(h):mt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Gy(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(Wt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new Gy(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wT(a){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(a);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let r=0;r<a;r++)i[r]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _d{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=wT(40);for(let h=0;h<o.length;++h)r.length<20&&o[h]<i&&(r+=e.charAt(o[h]%62))}return r}}function Bt(a,e){return a<e?-1:a>e?1:0}function $f(a,e){const i=Math.min(a.length,e.length);for(let r=0;r<i;r++){const o=a.charAt(r),h=e.charAt(r);if(o!==h)return Pf(o)===Pf(h)?Bt(o,h):Pf(o)?1:-1}return Bt(a.length,e.length)}const CT=55296,RT=57343;function Pf(a){const e=a.charCodeAt(0);return e>=CT&&e<=RT}function jr(a,e,i){return a.length===e.length&&a.every(((r,o)=>i(r,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qy="__name__";class Ri{constructor(e,i,r){i===void 0?i=0:i>e.length&&At(637,{offset:i,range:e.length}),r===void 0?r=e.length-i:r>e.length-i&&At(1746,{length:r,range:e.length-i}),this.segments=e,this.offset=i,this.len=r}get length(){return this.len}isEqual(e){return Ri.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof Ri?e.forEach((r=>{i.push(r)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,r=this.limit();i<r;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const r=Math.min(e.length,i.length);for(let o=0;o<r;o++){const h=Ri.compareSegments(e.get(o),i.get(o));if(h!==0)return h}return Bt(e.length,i.length)}static compareSegments(e,i){const r=Ri.isNumericId(e),o=Ri.isNumericId(i);return r&&!o?-1:!r&&o?1:r&&o?Ri.extractNumericId(e).compare(Ri.extractNumericId(i)):$f(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return qs.fromString(e.substring(4,e.length-2))}}class ye extends Ri{construct(e,i,r){return new ye(e,i,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const r of e){if(r.indexOf("//")>=0)throw new vt(rt.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);i.push(...r.split("/").filter((o=>o.length>0)))}return new ye(i)}static emptyPath(){return new ye([])}}const DT=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class tn extends Ri{construct(e,i,r){return new tn(e,i,r)}static isValidIdentifier(e){return DT.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),tn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Qy}static keyField(){return new tn([Qy])}static fromServerFormat(e){const i=[];let r="",o=0;const h=()=>{if(r.length===0)throw new vt(rt.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(r),r=""};let d=!1;for(;o<e.length;){const p=e[o];if(p==="\\"){if(o+1===e.length)throw new vt(rt.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[o+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new vt(rt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=y,o+=2}else p==="`"?(d=!d,o++):p!=="."||d?(r+=p,o++):(h(),o++)}if(h(),d)throw new vt(rt.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new tn(i)}static emptyPath(){return new tn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{constructor(e){this.path=e}static fromPath(e){return new St(ye.fromString(e))}static fromName(e){return new St(ye.fromString(e).popFirst(5))}static empty(){return new St(ye.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ye.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return ye.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new St(new ye(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IT(a,e,i){if(!i)throw new vt(rt.INVALID_ARGUMENT,`Function ${a}() cannot be called with an empty ${e}.`)}function NT(a,e,i,r){if(e===!0&&r===!0)throw new vt(rt.INVALID_ARGUMENT,`${a} and ${i} cannot be used together.`)}function Yy(a){if(!St.isDocumentKey(a))throw new vt(rt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${a} has ${a.length}.`)}function lv(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}function bd(a){if(a===void 0)return"undefined";if(a===null)return"null";if(typeof a=="string")return a.length>20&&(a=`${a.substring(0,20)}...`),JSON.stringify(a);if(typeof a=="number"||typeof a=="boolean")return""+a;if(typeof a=="object"){if(a instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(a);return e?`a custom ${e} object`:"an object"}}return typeof a=="function"?"a function":At(12329,{type:typeof a})}function Fs(a,e){if("_delegate"in a&&(a=a._delegate),!(a instanceof e)){if(e.name===a.constructor.name)throw new vt(rt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=bd(a);throw new vt(rt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return a}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ke(a,e){const i={typeString:a};return e&&(i.value=e),i}function yo(a,e){if(!lv(a))throw new vt(rt.INVALID_ARGUMENT,"JSON must be an object");let i;for(const r in e)if(e[r]){const o=e[r].typeString,h="value"in e[r]?{value:e[r].value}:void 0;if(!(r in a)){i=`JSON missing required field: '${r}'`;break}const d=a[r];if(o&&typeof d!==o){i=`JSON field '${r}' must be a ${o}.`;break}if(h!==void 0&&d!==h.value){i=`Expected '${r}' field to equal '${h.value}'`;break}}if(i)throw new vt(rt.INVALID_ARGUMENT,i);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ky=-62135596800,Xy=1e6;class de{static now(){return de.fromMillis(Date.now())}static fromDate(e){return de.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),r=Math.floor((e-1e3*i)*Xy);return new de(i,r)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new vt(rt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new vt(rt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<Ky)throw new vt(rt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new vt(rt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Xy}_compareTo(e){return this.seconds===e.seconds?Bt(this.nanoseconds,e.nanoseconds):Bt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:de._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(yo(e,de._jsonSchema))return new de(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Ky;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}de._jsonSchemaVersion="firestore/timestamp/1.0",de._jsonSchema={type:ke("string",de._jsonSchemaVersion),seconds:ke("number"),nanoseconds:ke("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{static fromTimestamp(e){return new Ct(e)}static min(){return new Ct(new de(0,0))}static max(){return new Ct(new de(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lo=-1;function VT(a,e){const i=a.toTimestamp().seconds,r=a.toTimestamp().nanoseconds+1,o=Ct.fromTimestamp(r===1e9?new de(i+1,0):new de(i,r));return new Gs(o,St.empty(),e)}function MT(a){return new Gs(a.readTime,a.key,lo)}class Gs{constructor(e,i,r){this.readTime=e,this.documentKey=i,this.largestBatchId=r}static min(){return new Gs(Ct.min(),St.empty(),lo)}static max(){return new Gs(Ct.max(),St.empty(),lo)}}function OT(a,e){let i=a.readTime.compareTo(e.readTime);return i!==0?i:(i=St.comparator(a.documentKey,e.documentKey),i!==0?i:Bt(a.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jT="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class LT{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qr(a){if(a.code!==rt.FAILED_PRECONDITION||a.message!==jT)throw a;mt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class st{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&At(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new st(((r,o)=>{this.nextCallback=h=>{this.wrapSuccess(e,h).next(r,o)},this.catchCallback=h=>{this.wrapFailure(i,h).next(r,o)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof st?i:st.resolve(i)}catch(i){return st.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):st.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):st.reject(i)}static resolve(e){return new st(((i,r)=>{i(e)}))}static reject(e){return new st(((i,r)=>{r(e)}))}static waitFor(e){return new st(((i,r)=>{let o=0,h=0,d=!1;e.forEach((p=>{++o,p.next((()=>{++h,d&&h===o&&i()}),(y=>r(y)))})),d=!0,h===o&&i()}))}static or(e){let i=st.resolve(!1);for(const r of e)i=i.next((o=>o?st.resolve(o):r()));return i}static forEach(e,i){const r=[];return e.forEach(((o,h)=>{r.push(i.call(this,o,h))})),this.waitFor(r)}static mapArray(e,i){return new st(((r,o)=>{const h=e.length,d=new Array(h);let p=0;for(let y=0;y<h;y++){const _=y;i(e[_]).next((S=>{d[_]=S,++p,p===h&&r(d)}),(S=>o(S)))}}))}static doWhile(e,i){return new st(((r,o)=>{const h=()=>{e()===!0?i().next((()=>{h()}),o):r()};h()}))}}function zT(a){const e=a.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Hr(a){return a.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _c{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>i.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}_c.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ed=-1;function bc(a){return a==null}function lc(a){return a===0&&1/a==-1/0}function kT(a){return typeof a=="number"&&Number.isInteger(a)&&!lc(a)&&a<=Number.MAX_SAFE_INTEGER&&a>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ov="";function UT(a){let e="";for(let i=0;i<a.length;i++)e.length>0&&(e=Zy(e)),e=BT(a.get(i),e);return Zy(e)}function BT(a,e){let i=e;const r=a.length;for(let o=0;o<r;o++){const h=a.charAt(o);switch(h){case"\0":i+="";break;case ov:i+="";break;default:i+=h}}return i}function Zy(a){return a+ov+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jy(a){let e=0;for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&e++;return e}function Ma(a,e){for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&e(i,a[i])}function uv(a){for(const e in a)if(Object.prototype.hasOwnProperty.call(a,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ve{constructor(e,i){this.comparator=e,this.root=i||We.EMPTY}insert(e,i){return new ve(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,We.BLACK,null,null))}remove(e){return new ve(this.comparator,this.root.remove(e,this.comparator).copy(null,null,We.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(r===0)return i.value;r<0?i=i.left:r>0&&(i=i.right)}return null}indexOf(e){let i=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(o===0)return i+r.left.size;o<0?r=r.left:(i+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,r)=>(e(i,r),!1)))}toString(){const e=[];return this.inorderTraversal(((i,r)=>(e.push(`${i}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Gu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Gu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Gu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Gu(this.root,e,this.comparator,!0)}}class Gu{constructor(e,i,r,o){this.isReverse=o,this.nodeStack=[];let h=1;for(;!e.isEmpty();)if(h=i?r(e.key,i):1,i&&o&&(h*=-1),h<0)e=this.isReverse?e.left:e.right;else{if(h===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class We{constructor(e,i,r,o,h){this.key=e,this.value=i,this.color=r??We.RED,this.left=o??We.EMPTY,this.right=h??We.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,r,o,h){return new We(e??this.key,i??this.value,r??this.color,o??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,r){let o=this;const h=r(e,o.key);return o=h<0?o.copy(null,null,null,o.left.insert(e,i,r),null):h===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return We.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let r,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return We.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,We.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,We.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw At(43730,{key:this.key,value:this.value});if(this.right.isRed())throw At(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw At(27949);return e+(this.isRed()?0:1)}}We.EMPTY=null,We.RED=!0,We.BLACK=!1;We.EMPTY=new class{constructor(){this.size=0}get key(){throw At(57766)}get value(){throw At(16141)}get color(){throw At(16727)}get left(){throw At(29726)}get right(){throw At(36894)}copy(e,i,r,o,h){return this}insert(e,i,r){return new We(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qe{constructor(e){this.comparator=e,this.data=new ve(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,r)=>(e(i),!1)))}forEachInRange(e,i){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let r;for(r=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new $y(this.data.getIterator())}getIteratorFrom(e){return new $y(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((r=>{i=i.add(r)})),i}isEqual(e){if(!(e instanceof qe)||this.size!==e.size)return!1;const i=this.data.getIterator(),r=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,h=r.getNext().key;if(this.comparator(o,h)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new qe(this.comparator);return i.data=e,i}}class $y{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class si{constructor(e){this.fields=e,e.sort(tn.comparator)}static empty(){return new si([])}unionWith(e){let i=new qe(tn.comparator);for(const r of this.fields)i=i.add(r);for(const r of e)i=i.add(r);return new si(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return jr(this.fields,e.fields,((i,r)=>i.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cv extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(o){try{return atob(o)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new cv("Invalid base64 string: "+h):h}})(e);return new en(i)}static fromUint8Array(e){const i=(function(o){let h="";for(let d=0;d<o.length;++d)h+=String.fromCharCode(o[d]);return h})(e);return new en(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const r=new Uint8Array(i.length);for(let o=0;o<i.length;o++)r[o]=i.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Bt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}en.EMPTY_BYTE_STRING=new en("");const PT=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Qs(a){if(Wt(!!a,39018),typeof a=="string"){let e=0;const i=PT.exec(a);if(Wt(!!i,46558,{timestamp:a}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(a);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ce(a.seconds),nanos:Ce(a.nanos)}}function Ce(a){return typeof a=="number"?a:typeof a=="string"?Number(a):0}function Ys(a){return typeof a=="string"?en.fromBase64String(a):en.fromUint8Array(a)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hv="server_timestamp",fv="__type__",dv="__previous_value__",mv="__local_write_time__";function Td(a){var i,r;return((r=(((i=a==null?void 0:a.mapValue)==null?void 0:i.fields)||{})[fv])==null?void 0:r.stringValue)===hv}function Ec(a){const e=a.mapValue.fields[dv];return Td(e)?Ec(e):e}function oo(a){const e=Qs(a.mapValue.fields[mv].timestampValue);return new de(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qT{constructor(e,i,r,o,h,d,p,y,_,S,x){this.databaseId=e,this.appId=i,this.persistenceKey=r,this.host=o,this.ssl=h,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=y,this.useFetchStreams=_,this.isUsingEmulator=S,this.apiKey=x}}const oc="(default)";class uo{constructor(e,i){this.projectId=e,this.database=i||oc}static empty(){return new uo("","")}get isDefaultDatabase(){return this.database===oc}isEqual(e){return e instanceof uo&&e.projectId===this.projectId&&e.database===this.database}}function HT(a,e){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new vt(rt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new uo(a.options.projectId,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gv="__type__",FT="__max__",Qu={mapValue:{}},pv="__vector__",uc="value";function Ks(a){return"nullValue"in a?0:"booleanValue"in a?1:"integerValue"in a||"doubleValue"in a?2:"timestampValue"in a?3:"stringValue"in a?5:"bytesValue"in a?6:"referenceValue"in a?7:"geoPointValue"in a?8:"arrayValue"in a?9:"mapValue"in a?Td(a)?4:QT(a)?9007199254740991:GT(a)?10:11:At(28295,{value:a})}function Vi(a,e){if(a===e)return!0;const i=Ks(a);if(i!==Ks(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return a.booleanValue===e.booleanValue;case 4:return oo(a).isEqual(oo(e));case 3:return(function(o,h){if(typeof o.timestampValue=="string"&&typeof h.timestampValue=="string"&&o.timestampValue.length===h.timestampValue.length)return o.timestampValue===h.timestampValue;const d=Qs(o.timestampValue),p=Qs(h.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(a,e);case 5:return a.stringValue===e.stringValue;case 6:return(function(o,h){return Ys(o.bytesValue).isEqual(Ys(h.bytesValue))})(a,e);case 7:return a.referenceValue===e.referenceValue;case 8:return(function(o,h){return Ce(o.geoPointValue.latitude)===Ce(h.geoPointValue.latitude)&&Ce(o.geoPointValue.longitude)===Ce(h.geoPointValue.longitude)})(a,e);case 2:return(function(o,h){if("integerValue"in o&&"integerValue"in h)return Ce(o.integerValue)===Ce(h.integerValue);if("doubleValue"in o&&"doubleValue"in h){const d=Ce(o.doubleValue),p=Ce(h.doubleValue);return d===p?lc(d)===lc(p):isNaN(d)&&isNaN(p)}return!1})(a,e);case 9:return jr(a.arrayValue.values||[],e.arrayValue.values||[],Vi);case 10:case 11:return(function(o,h){const d=o.mapValue.fields||{},p=h.mapValue.fields||{};if(Jy(d)!==Jy(p))return!1;for(const y in d)if(d.hasOwnProperty(y)&&(p[y]===void 0||!Vi(d[y],p[y])))return!1;return!0})(a,e);default:return At(52216,{left:a})}}function co(a,e){return(a.values||[]).find((i=>Vi(i,e)))!==void 0}function Lr(a,e){if(a===e)return 0;const i=Ks(a),r=Ks(e);if(i!==r)return Bt(i,r);switch(i){case 0:case 9007199254740991:return 0;case 1:return Bt(a.booleanValue,e.booleanValue);case 2:return(function(h,d){const p=Ce(h.integerValue||h.doubleValue),y=Ce(d.integerValue||d.doubleValue);return p<y?-1:p>y?1:p===y?0:isNaN(p)?isNaN(y)?0:-1:1})(a,e);case 3:return Wy(a.timestampValue,e.timestampValue);case 4:return Wy(oo(a),oo(e));case 5:return $f(a.stringValue,e.stringValue);case 6:return(function(h,d){const p=Ys(h),y=Ys(d);return p.compareTo(y)})(a.bytesValue,e.bytesValue);case 7:return(function(h,d){const p=h.split("/"),y=d.split("/");for(let _=0;_<p.length&&_<y.length;_++){const S=Bt(p[_],y[_]);if(S!==0)return S}return Bt(p.length,y.length)})(a.referenceValue,e.referenceValue);case 8:return(function(h,d){const p=Bt(Ce(h.latitude),Ce(d.latitude));return p!==0?p:Bt(Ce(h.longitude),Ce(d.longitude))})(a.geoPointValue,e.geoPointValue);case 9:return t0(a.arrayValue,e.arrayValue);case 10:return(function(h,d){var C,j,H,it;const p=h.fields||{},y=d.fields||{},_=(C=p[uc])==null?void 0:C.arrayValue,S=(j=y[uc])==null?void 0:j.arrayValue,x=Bt(((H=_==null?void 0:_.values)==null?void 0:H.length)||0,((it=S==null?void 0:S.values)==null?void 0:it.length)||0);return x!==0?x:t0(_,S)})(a.mapValue,e.mapValue);case 11:return(function(h,d){if(h===Qu.mapValue&&d===Qu.mapValue)return 0;if(h===Qu.mapValue)return 1;if(d===Qu.mapValue)return-1;const p=h.fields||{},y=Object.keys(p),_=d.fields||{},S=Object.keys(_);y.sort(),S.sort();for(let x=0;x<y.length&&x<S.length;++x){const C=$f(y[x],S[x]);if(C!==0)return C;const j=Lr(p[y[x]],_[S[x]]);if(j!==0)return j}return Bt(y.length,S.length)})(a.mapValue,e.mapValue);default:throw At(23264,{he:i})}}function Wy(a,e){if(typeof a=="string"&&typeof e=="string"&&a.length===e.length)return Bt(a,e);const i=Qs(a),r=Qs(e),o=Bt(i.seconds,r.seconds);return o!==0?o:Bt(i.nanos,r.nanos)}function t0(a,e){const i=a.values||[],r=e.values||[];for(let o=0;o<i.length&&o<r.length;++o){const h=Lr(i[o],r[o]);if(h)return h}return Bt(i.length,r.length)}function zr(a){return Wf(a)}function Wf(a){return"nullValue"in a?"null":"booleanValue"in a?""+a.booleanValue:"integerValue"in a?""+a.integerValue:"doubleValue"in a?""+a.doubleValue:"timestampValue"in a?(function(i){const r=Qs(i);return`time(${r.seconds},${r.nanos})`})(a.timestampValue):"stringValue"in a?a.stringValue:"bytesValue"in a?(function(i){return Ys(i).toBase64()})(a.bytesValue):"referenceValue"in a?(function(i){return St.fromName(i).toString()})(a.referenceValue):"geoPointValue"in a?(function(i){return`geo(${i.latitude},${i.longitude})`})(a.geoPointValue):"arrayValue"in a?(function(i){let r="[",o=!0;for(const h of i.values||[])o?o=!1:r+=",",r+=Wf(h);return r+"]"})(a.arrayValue):"mapValue"in a?(function(i){const r=Object.keys(i.fields||{}).sort();let o="{",h=!0;for(const d of r)h?h=!1:o+=",",o+=`${d}:${Wf(i.fields[d])}`;return o+"}"})(a.mapValue):At(61005,{value:a})}function Ju(a){switch(Ks(a)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Ec(a);return e?16+Ju(e):16;case 5:return 2*a.stringValue.length;case 6:return Ys(a.bytesValue).approximateByteSize();case 7:return a.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((o,h)=>o+Ju(h)),0)})(a.arrayValue);case 10:case 11:return(function(r){let o=0;return Ma(r.fields,((h,d)=>{o+=h.length+Ju(d)})),o})(a.mapValue);default:throw At(13486,{value:a})}}function td(a){return!!a&&"integerValue"in a}function Sd(a){return!!a&&"arrayValue"in a}function e0(a){return!!a&&"nullValue"in a}function n0(a){return!!a&&"doubleValue"in a&&isNaN(Number(a.doubleValue))}function $u(a){return!!a&&"mapValue"in a}function GT(a){var i,r;return((r=(((i=a==null?void 0:a.mapValue)==null?void 0:i.fields)||{})[gv])==null?void 0:r.stringValue)===pv}function Wl(a){if(a.geoPointValue)return{geoPointValue:{...a.geoPointValue}};if(a.timestampValue&&typeof a.timestampValue=="object")return{timestampValue:{...a.timestampValue}};if(a.mapValue){const e={mapValue:{fields:{}}};return Ma(a.mapValue.fields,((i,r)=>e.mapValue.fields[i]=Wl(r))),e}if(a.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(a.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Wl(a.arrayValue.values[i]);return e}return{...a}}function QT(a){return(((a.mapValue||{}).fields||{}).__type__||{}).stringValue===FT}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fn{constructor(e){this.value=e}static empty(){return new Fn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let r=0;r<e.length-1;++r)if(i=(i.mapValue.fields||{})[e.get(r)],!$u(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Wl(i)}setAll(e){let i=tn.emptyPath(),r={},o=[];e.forEach(((d,p)=>{if(!i.isImmediateParentOf(p)){const y=this.getFieldsMap(i);this.applyChanges(y,r,o),r={},o=[],i=p.popLast()}d?r[p.lastSegment()]=Wl(d):o.push(p.lastSegment())}));const h=this.getFieldsMap(i);this.applyChanges(h,r,o)}delete(e){const i=this.field(e.popLast());$u(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return Vi(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=i.mapValue.fields[e.get(r)];$u(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(r)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,r){Ma(i,((o,h)=>e[o]=h));for(const o of r)delete e[o]}clone(){return new Fn(Wl(this.value))}}function yv(a){const e=[];return Ma(a.fields,((i,r)=>{const o=new tn([i]);if($u(r)){const h=yv(r.mapValue).fields;if(h.length===0)e.push(o);else for(const d of h)e.push(o.child(d))}else e.push(o)})),new si(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e,i,r,o,h,d,p){this.key=e,this.documentType=i,this.version=r,this.readTime=o,this.createTime=h,this.data=d,this.documentState=p}static newInvalidDocument(e){return new rn(e,0,Ct.min(),Ct.min(),Ct.min(),Fn.empty(),0)}static newFoundDocument(e,i,r,o){return new rn(e,1,i,Ct.min(),r,o,0)}static newNoDocument(e,i){return new rn(e,2,i,Ct.min(),Ct.min(),Fn.empty(),0)}static newUnknownDocument(e,i){return new rn(e,3,i,Ct.min(),Ct.min(),Fn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(Ct.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Fn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Fn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ct.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof rn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new rn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cc{constructor(e,i){this.position=e,this.inclusive=i}}function i0(a,e,i){let r=0;for(let o=0;o<a.position.length;o++){const h=e[o],d=a.position[o];if(h.field.isKeyField()?r=St.comparator(St.fromName(d.referenceValue),i.key):r=Lr(d,i.data.field(h.field)),h.dir==="desc"&&(r*=-1),r!==0)break}return r}function s0(a,e){if(a===null)return e===null;if(e===null||a.inclusive!==e.inclusive||a.position.length!==e.position.length)return!1;for(let i=0;i<a.position.length;i++)if(!Vi(a.position[i],e.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hc{constructor(e,i="asc"){this.field=e,this.dir=i}}function YT(a,e){return a.dir===e.dir&&a.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vv{}class Be extends vv{constructor(e,i,r){super(),this.field=e,this.op=i,this.value=r}static create(e,i,r){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,r):new XT(e,i,r):i==="array-contains"?new $T(e,r):i==="in"?new WT(e,r):i==="not-in"?new tS(e,r):i==="array-contains-any"?new eS(e,r):new Be(e,i,r)}static createKeyFieldInFilter(e,i,r){return i==="in"?new ZT(e,r):new JT(e,r)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Lr(i,this.value)):i!==null&&Ks(this.value)===Ks(i)&&this.matchesComparison(Lr(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return At(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Mi extends vv{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new Mi(e,i)}matches(e){return _v(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function _v(a){return a.op==="and"}function bv(a){return KT(a)&&_v(a)}function KT(a){for(const e of a.filters)if(e instanceof Mi)return!1;return!0}function ed(a){if(a instanceof Be)return a.field.canonicalString()+a.op.toString()+zr(a.value);if(bv(a))return a.filters.map((e=>ed(e))).join(",");{const e=a.filters.map((i=>ed(i))).join(",");return`${a.op}(${e})`}}function Ev(a,e){return a instanceof Be?(function(r,o){return o instanceof Be&&r.op===o.op&&r.field.isEqual(o.field)&&Vi(r.value,o.value)})(a,e):a instanceof Mi?(function(r,o){return o instanceof Mi&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((h,d,p)=>h&&Ev(d,o.filters[p])),!0):!1})(a,e):void At(19439)}function Tv(a){return a instanceof Be?(function(i){return`${i.field.canonicalString()} ${i.op} ${zr(i.value)}`})(a):a instanceof Mi?(function(i){return i.op.toString()+" {"+i.getFilters().map(Tv).join(" ,")+"}"})(a):"Filter"}class XT extends Be{constructor(e,i,r){super(e,i,r),this.key=St.fromName(r.referenceValue)}matches(e){const i=St.comparator(e.key,this.key);return this.matchesComparison(i)}}class ZT extends Be{constructor(e,i){super(e,"in",i),this.keys=Sv("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class JT extends Be{constructor(e,i){super(e,"not-in",i),this.keys=Sv("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function Sv(a,e){var i;return(((i=e.arrayValue)==null?void 0:i.values)||[]).map((r=>St.fromName(r.referenceValue)))}class $T extends Be{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return Sd(i)&&co(i.arrayValue,this.value)}}class WT extends Be{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&co(this.value.arrayValue,i)}}class tS extends Be{constructor(e,i){super(e,"not-in",i)}matches(e){if(co(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!co(this.value.arrayValue,i)}}class eS extends Be{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!Sd(i)||!i.arrayValue.values)&&i.arrayValue.values.some((r=>co(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nS{constructor(e,i=null,r=[],o=[],h=null,d=null,p=null){this.path=e,this.collectionGroup=i,this.orderBy=r,this.filters=o,this.limit=h,this.startAt=d,this.endAt=p,this.Te=null}}function a0(a,e=null,i=[],r=[],o=null,h=null,d=null){return new nS(a,e,i,r,o,h,d)}function xd(a){const e=Dt(a);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((r=>ed(r))).join(","),i+="|ob:",i+=e.orderBy.map((r=>(function(h){return h.field.canonicalString()+h.dir})(r))).join(","),bc(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((r=>zr(r))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((r=>zr(r))).join(",")),e.Te=i}return e.Te}function Ad(a,e){if(a.limit!==e.limit||a.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<a.orderBy.length;i++)if(!YT(a.orderBy[i],e.orderBy[i]))return!1;if(a.filters.length!==e.filters.length)return!1;for(let i=0;i<a.filters.length;i++)if(!Ev(a.filters[i],e.filters[i]))return!1;return a.collectionGroup===e.collectionGroup&&!!a.path.isEqual(e.path)&&!!s0(a.startAt,e.startAt)&&s0(a.endAt,e.endAt)}function nd(a){return St.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tc{constructor(e,i=null,r=[],o=[],h=null,d="F",p=null,y=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=r,this.filters=o,this.limit=h,this.limitType=d,this.startAt=p,this.endAt=y,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function iS(a,e,i,r,o,h,d,p){return new Tc(a,e,i,r,o,h,d,p)}function Sc(a){return new Tc(a)}function r0(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.explicitOrderBy.length===0||a.explicitOrderBy.length===1&&a.explicitOrderBy[0].field.isKeyField())}function sS(a){return St.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}function aS(a){return a.collectionGroup!==null}function to(a){const e=Dt(a);if(e.Ie===null){e.Ie=[];const i=new Set;for(const h of e.explicitOrderBy)e.Ie.push(h),i.add(h.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new qe(tn.comparator);return d.filters.forEach((y=>{y.getFlattenedFilters().forEach((_=>{_.isInequality()&&(p=p.add(_.field))}))})),p})(e).forEach((h=>{i.has(h.canonicalString())||h.isKeyField()||e.Ie.push(new hc(h,r))})),i.has(tn.keyField().canonicalString())||e.Ie.push(new hc(tn.keyField(),r))}return e.Ie}function Di(a){const e=Dt(a);return e.Ee||(e.Ee=rS(e,to(a))),e.Ee}function rS(a,e){if(a.limitType==="F")return a0(a.path,a.collectionGroup,e,a.filters,a.limit,a.startAt,a.endAt);{e=e.map((o=>{const h=o.dir==="desc"?"asc":"desc";return new hc(o.field,h)}));const i=a.endAt?new cc(a.endAt.position,a.endAt.inclusive):null,r=a.startAt?new cc(a.startAt.position,a.startAt.inclusive):null;return a0(a.path,a.collectionGroup,e,a.filters,a.limit,i,r)}}function id(a,e,i){return new Tc(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),e,i,a.startAt,a.endAt)}function xc(a,e){return Ad(Di(a),Di(e))&&a.limitType===e.limitType}function xv(a){return`${xd(Di(a))}|lt:${a.limitType}`}function wr(a){return`Query(target=${(function(i){let r=i.path.canonicalString();return i.collectionGroup!==null&&(r+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(r+=`, filters: [${i.filters.map((o=>Tv(o))).join(", ")}]`),bc(i.limit)||(r+=", limit: "+i.limit),i.orderBy.length>0&&(r+=`, orderBy: [${i.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),i.startAt&&(r+=", startAt: ",r+=i.startAt.inclusive?"b:":"a:",r+=i.startAt.position.map((o=>zr(o))).join(",")),i.endAt&&(r+=", endAt: ",r+=i.endAt.inclusive?"a:":"b:",r+=i.endAt.position.map((o=>zr(o))).join(",")),`Target(${r})`})(Di(a))}; limitType=${a.limitType})`}function Ac(a,e){return e.isFoundDocument()&&(function(r,o){const h=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(h):St.isDocumentKey(r.path)?r.path.isEqual(h):r.path.isImmediateParentOf(h)})(a,e)&&(function(r,o){for(const h of to(r))if(!h.field.isKeyField()&&o.data.field(h.field)===null)return!1;return!0})(a,e)&&(function(r,o){for(const h of r.filters)if(!h.matches(o))return!1;return!0})(a,e)&&(function(r,o){return!(r.startAt&&!(function(d,p,y){const _=i0(d,p,y);return d.inclusive?_<=0:_<0})(r.startAt,to(r),o)||r.endAt&&!(function(d,p,y){const _=i0(d,p,y);return d.inclusive?_>=0:_>0})(r.endAt,to(r),o))})(a,e)}function lS(a){return a.collectionGroup||(a.path.length%2==1?a.path.lastSegment():a.path.get(a.path.length-2))}function Av(a){return(e,i)=>{let r=!1;for(const o of to(a)){const h=oS(o,e,i);if(h!==0)return h;r=r||o.field.isKeyField()}return 0}}function oS(a,e,i){const r=a.field.isKeyField()?St.comparator(e.key,i.key):(function(h,d,p){const y=d.data.field(h),_=p.data.field(h);return y!==null&&_!==null?Lr(y,_):At(42886)})(a.field,e,i);switch(a.dir){case"asc":return r;case"desc":return-1*r;default:return At(19790,{direction:a.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oa{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),r=this.inner[i];if(r!==void 0){for(const[o,h]of r)if(this.equalsFn(o,e))return h}}has(e){return this.get(e)!==void 0}set(e,i){const r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return this.inner[r]=[[e,i]],void this.innerSize++;for(let h=0;h<o.length;h++)if(this.equalsFn(o[h][0],e))return void(o[h]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return r.length===1?delete this.inner[i]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Ma(this.inner,((i,r)=>{for(const[o,h]of r)e(o,h)}))}isEmpty(){return uv(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uS=new ve(St.comparator);function is(){return uS}const wv=new ve(St.comparator);function Xl(...a){let e=wv;for(const i of a)e=e.insert(i.key,i);return e}function Cv(a){let e=wv;return a.forEach(((i,r)=>e=e.insert(i,r.overlayedDocument))),e}function Da(){return eo()}function Rv(){return eo()}function eo(){return new Oa((a=>a.toString()),((a,e)=>a.isEqual(e)))}const cS=new ve(St.comparator),hS=new qe(St.comparator);function Pt(...a){let e=hS;for(const i of a)e=e.add(i);return e}const fS=new qe(Bt);function dS(){return fS}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wd(a,e){if(a.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:lc(e)?"-0":e}}function Dv(a){return{integerValue:""+a}}function mS(a,e){return kT(e)?Dv(e):wd(a,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wc{constructor(){this._=void 0}}function gS(a,e,i){return a instanceof ho?(function(o,h){const d={fields:{[fv]:{stringValue:hv},[mv]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return h&&Td(h)&&(h=Ec(h)),h&&(d.fields[dv]=h),{mapValue:d}})(i,e):a instanceof fo?Nv(a,e):a instanceof mo?Vv(a,e):(function(o,h){const d=Iv(o,h),p=l0(d)+l0(o.Ae);return td(d)&&td(o.Ae)?Dv(p):wd(o.serializer,p)})(a,e)}function pS(a,e,i){return a instanceof fo?Nv(a,e):a instanceof mo?Vv(a,e):i}function Iv(a,e){return a instanceof fc?(function(r){return td(r)||(function(h){return!!h&&"doubleValue"in h})(r)})(e)?e:{integerValue:0}:null}class ho extends wc{}class fo extends wc{constructor(e){super(),this.elements=e}}function Nv(a,e){const i=Mv(e);for(const r of a.elements)i.some((o=>Vi(o,r)))||i.push(r);return{arrayValue:{values:i}}}class mo extends wc{constructor(e){super(),this.elements=e}}function Vv(a,e){let i=Mv(e);for(const r of a.elements)i=i.filter((o=>!Vi(o,r)));return{arrayValue:{values:i}}}class fc extends wc{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function l0(a){return Ce(a.integerValue||a.doubleValue)}function Mv(a){return Sd(a)&&a.arrayValue.values?a.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yS{constructor(e,i){this.field=e,this.transform=i}}function vS(a,e){return a.field.isEqual(e.field)&&(function(r,o){return r instanceof fo&&o instanceof fo||r instanceof mo&&o instanceof mo?jr(r.elements,o.elements,Vi):r instanceof fc&&o instanceof fc?Vi(r.Ae,o.Ae):r instanceof ho&&o instanceof ho})(a.transform,e.transform)}class _S{constructor(e,i){this.version=e,this.transformResults=i}}class ts{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new ts}static exists(e){return new ts(void 0,e)}static updateTime(e){return new ts(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Wu(a,e){return a.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(a.updateTime):a.exists===void 0||a.exists===e.isFoundDocument()}class Cc{}function Ov(a,e){if(!a.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return a.isNoDocument()?new Lv(a.key,ts.none()):new vo(a.key,a.data,ts.none());{const i=a.data,r=Fn.empty();let o=new qe(tn.comparator);for(let h of e.fields)if(!o.has(h)){let d=i.field(h);d===null&&h.length>1&&(h=h.popLast(),d=i.field(h)),d===null?r.delete(h):r.set(h,d),o=o.add(h)}return new ja(a.key,r,new si(o.toArray()),ts.none())}}function bS(a,e,i){a instanceof vo?(function(o,h,d){const p=o.value.clone(),y=u0(o.fieldTransforms,h,d.transformResults);p.setAll(y),h.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(a,e,i):a instanceof ja?(function(o,h,d){if(!Wu(o.precondition,h))return void h.convertToUnknownDocument(d.version);const p=u0(o.fieldTransforms,h,d.transformResults),y=h.data;y.setAll(jv(o)),y.setAll(p),h.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(a,e,i):(function(o,h,d){h.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function no(a,e,i,r){return a instanceof vo?(function(h,d,p,y){if(!Wu(h.precondition,d))return p;const _=h.value.clone(),S=c0(h.fieldTransforms,y,d);return _.setAll(S),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(a,e,i,r):a instanceof ja?(function(h,d,p,y){if(!Wu(h.precondition,d))return p;const _=c0(h.fieldTransforms,y,d),S=d.data;return S.setAll(jv(h)),S.setAll(_),d.convertToFoundDocument(d.version,S).setHasLocalMutations(),p===null?null:p.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map((x=>x.field)))})(a,e,i,r):(function(h,d,p){return Wu(h.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(a,e,i)}function ES(a,e){let i=null;for(const r of a.fieldTransforms){const o=e.data.field(r.field),h=Iv(r.transform,o||null);h!=null&&(i===null&&(i=Fn.empty()),i.set(r.field,h))}return i||null}function o0(a,e){return a.type===e.type&&!!a.key.isEqual(e.key)&&!!a.precondition.isEqual(e.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&jr(r,o,((h,d)=>vS(h,d)))})(a.fieldTransforms,e.fieldTransforms)&&(a.type===0?a.value.isEqual(e.value):a.type!==1||a.data.isEqual(e.data)&&a.fieldMask.isEqual(e.fieldMask))}class vo extends Cc{constructor(e,i,r,o=[]){super(),this.key=e,this.value=i,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ja extends Cc{constructor(e,i,r,o,h=[]){super(),this.key=e,this.data=i,this.fieldMask=r,this.precondition=o,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function jv(a){const e=new Map;return a.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const r=a.data.field(i);e.set(i,r)}})),e}function u0(a,e,i){const r=new Map;Wt(a.length===i.length,32656,{Ve:i.length,de:a.length});for(let o=0;o<i.length;o++){const h=a[o],d=h.transform,p=e.data.field(h.field);r.set(h.field,pS(d,p,i[o]))}return r}function c0(a,e,i){const r=new Map;for(const o of a){const h=o.transform,d=i.data.field(o.field);r.set(o.field,gS(h,d,e))}return r}class Lv extends Cc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class TS extends Cc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SS{constructor(e,i,r,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,i){const r=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const h=this.mutations[o];h.key.isEqual(e.key)&&bS(h,e,r[o])}}applyToLocalView(e,i){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(i=no(r,e,i,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(i=no(r,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const r=Rv();return this.mutations.forEach((o=>{const h=e.get(o.key),d=h.overlayedDocument;let p=this.applyToLocalView(d,h.mutatedFields);p=i.has(o.key)?null:p;const y=Ov(d,p);y!==null&&r.set(o.key,y),d.isValidDocument()||d.convertToNoDocument(Ct.min())})),r}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),Pt())}isEqual(e){return this.batchId===e.batchId&&jr(this.mutations,e.mutations,((i,r)=>o0(i,r)))&&jr(this.baseMutations,e.baseMutations,((i,r)=>o0(i,r)))}}class Cd{constructor(e,i,r,o){this.batch=e,this.commitVersion=i,this.mutationResults=r,this.docVersions=o}static from(e,i,r){Wt(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let o=(function(){return cS})();const h=e.mutations;for(let d=0;d<h.length;d++)o=o.insert(h[d].key,r[d].version);return new Cd(e,i,r,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xS{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AS{constructor(e,i){this.count=e,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ze,Ft;function wS(a){switch(a){case rt.OK:return At(64938);case rt.CANCELLED:case rt.UNKNOWN:case rt.DEADLINE_EXCEEDED:case rt.RESOURCE_EXHAUSTED:case rt.INTERNAL:case rt.UNAVAILABLE:case rt.UNAUTHENTICATED:return!1;case rt.INVALID_ARGUMENT:case rt.NOT_FOUND:case rt.ALREADY_EXISTS:case rt.PERMISSION_DENIED:case rt.FAILED_PRECONDITION:case rt.ABORTED:case rt.OUT_OF_RANGE:case rt.UNIMPLEMENTED:case rt.DATA_LOSS:return!0;default:return At(15467,{code:a})}}function zv(a){if(a===void 0)return ns("GRPC error has no .code"),rt.UNKNOWN;switch(a){case ze.OK:return rt.OK;case ze.CANCELLED:return rt.CANCELLED;case ze.UNKNOWN:return rt.UNKNOWN;case ze.DEADLINE_EXCEEDED:return rt.DEADLINE_EXCEEDED;case ze.RESOURCE_EXHAUSTED:return rt.RESOURCE_EXHAUSTED;case ze.INTERNAL:return rt.INTERNAL;case ze.UNAVAILABLE:return rt.UNAVAILABLE;case ze.UNAUTHENTICATED:return rt.UNAUTHENTICATED;case ze.INVALID_ARGUMENT:return rt.INVALID_ARGUMENT;case ze.NOT_FOUND:return rt.NOT_FOUND;case ze.ALREADY_EXISTS:return rt.ALREADY_EXISTS;case ze.PERMISSION_DENIED:return rt.PERMISSION_DENIED;case ze.FAILED_PRECONDITION:return rt.FAILED_PRECONDITION;case ze.ABORTED:return rt.ABORTED;case ze.OUT_OF_RANGE:return rt.OUT_OF_RANGE;case ze.UNIMPLEMENTED:return rt.UNIMPLEMENTED;case ze.DATA_LOSS:return rt.DATA_LOSS;default:return At(39323,{code:a})}}(Ft=ze||(ze={}))[Ft.OK=0]="OK",Ft[Ft.CANCELLED=1]="CANCELLED",Ft[Ft.UNKNOWN=2]="UNKNOWN",Ft[Ft.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ft[Ft.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ft[Ft.NOT_FOUND=5]="NOT_FOUND",Ft[Ft.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ft[Ft.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ft[Ft.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ft[Ft.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ft[Ft.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ft[Ft.ABORTED=10]="ABORTED",Ft[Ft.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ft[Ft.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ft[Ft.INTERNAL=13]="INTERNAL",Ft[Ft.UNAVAILABLE=14]="UNAVAILABLE",Ft[Ft.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CS(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RS=new qs([4294967295,4294967295],0);function h0(a){const e=CS().encode(a),i=new W0;return i.update(e),new Uint8Array(i.digest())}function f0(a){const e=new DataView(a.buffer),i=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),h=e.getUint32(12,!0);return[new qs([i,r],0),new qs([o,h],0)]}class Rd{constructor(e,i,r){if(this.bitmap=e,this.padding=i,this.hashCount=r,i<0||i>=8)throw new Zl(`Invalid padding: ${i}`);if(r<0)throw new Zl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Zl(`Invalid hash count: ${r}`);if(e.length===0&&i!==0)throw new Zl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=qs.fromNumber(this.ge)}ye(e,i,r){let o=e.add(i.multiply(qs.fromNumber(r)));return o.compare(RS)===1&&(o=new qs([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=h0(e),[r,o]=f0(i);for(let h=0;h<this.hashCount;h++){const d=this.ye(r,o,h);if(!this.we(d))return!1}return!0}static create(e,i,r){const o=e%8==0?0:8-e%8,h=new Uint8Array(Math.ceil(e/8)),d=new Rd(h,o,i);return r.forEach((p=>d.insert(p))),d}insert(e){if(this.ge===0)return;const i=h0(e),[r,o]=f0(i);for(let h=0;h<this.hashCount;h++){const d=this.ye(r,o,h);this.be(d)}}be(e){const i=Math.floor(e/8),r=e%8;this.bitmap[i]|=1<<r}}class Zl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rc{constructor(e,i,r,o,h){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(e,i,r){const o=new Map;return o.set(e,_o.createSynthesizedTargetChangeForCurrentChange(e,i,r)),new Rc(Ct.min(),o,new ve(Bt),is(),Pt())}}class _o{constructor(e,i,r,o,h){this.resumeToken=e,this.current=i,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(e,i,r){return new _o(r,i,Pt(),Pt(),Pt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tc{constructor(e,i,r,o){this.Se=e,this.removedTargetIds=i,this.key=r,this.De=o}}class kv{constructor(e,i){this.targetId=e,this.Ce=i}}class Uv{constructor(e,i,r=en.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=r,this.cause=o}}class d0{constructor(){this.ve=0,this.Fe=m0(),this.Me=en.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Pt(),i=Pt(),r=Pt();return this.Fe.forEach(((o,h)=>{switch(h){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:r=r.add(o);break;default:At(38017,{changeType:h})}})),new _o(this.Me,this.xe,e,i,r)}Ke(){this.Oe=!1,this.Fe=m0()}qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,Wt(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class DS{constructor(e){this.Ge=e,this.ze=new Map,this.je=is(),this.He=Yu(),this.Je=Yu(),this.Ze=new ve(Bt)}Xe(e){for(const i of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const r=this.nt(i);switch(e.state){case 0:this.rt(i)&&r.Le(e.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(e.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(r.Qe(),r.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),r.Le(e.resumeToken));break;default:At(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((r,o)=>{this.rt(o)&&i(o)}))}st(e){const i=e.targetId,r=e.Ce.count,o=this.ot(i);if(o){const h=o.target;if(nd(h))if(r===0){const d=new St(h.path);this.et(i,d,rn.newNoDocument(d,Ct.min()))}else Wt(r===1,20013,{expectedCount:r});else{const d=this._t(i);if(d!==r){const p=this.ut(e),y=p?this.ct(p,e,d):1;if(y!==0){this.it(i);const _=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(i,_)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:h=0}=i;let d,p;try{d=Ys(r).toUint8Array()}catch(y){if(y instanceof cv)return Or("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{p=new Rd(d,o,h)}catch(y){return Or(y instanceof Zl?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return p.ge===0?null:p}ct(e,i,r){return i.Ce.count===r-this.Pt(e,i.targetId)?0:2}Pt(e,i){const r=this.Ge.getRemoteKeysForTarget(i);let o=0;return r.forEach((h=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${h.path.canonicalString()}`;e.mightContain(p)||(this.et(i,h,null),o++)})),o}Tt(e){const i=new Map;this.ze.forEach(((h,d)=>{const p=this.ot(d);if(p){if(h.current&&nd(p.target)){const y=new St(p.target.path);this.It(y).has(d)||this.Et(d,y)||this.et(d,y,rn.newNoDocument(y,e))}h.Be&&(i.set(d,h.ke()),h.Ke())}}));let r=Pt();this.Je.forEach(((h,d)=>{let p=!0;d.forEachWhile((y=>{const _=this.ot(y);return!_||_.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(r=r.add(h))})),this.je.forEach(((h,d)=>d.setReadTime(e)));const o=new Rc(e,i,this.Ze,this.je,r);return this.je=is(),this.He=Yu(),this.Je=Yu(),this.Ze=new ve(Bt),o}Ye(e,i){if(!this.rt(e))return;const r=this.Et(e,i.key)?2:0;this.nt(e).qe(i.key,r),this.je=this.je.insert(i.key,i),this.He=this.He.insert(i.key,this.It(i.key).add(e)),this.Je=this.Je.insert(i.key,this.Rt(i.key).add(e))}et(e,i,r){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,i)?o.qe(i,1):o.Ue(i),this.Je=this.Je.insert(i,this.Rt(i).delete(e)),this.Je=this.Je.insert(i,this.Rt(i).add(e)),r&&(this.je=this.je.insert(i,r))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let i=this.ze.get(e);return i||(i=new d0,this.ze.set(e,i)),i}Rt(e){let i=this.Je.get(e);return i||(i=new qe(Bt),this.Je=this.Je.insert(e,i)),i}It(e){let i=this.He.get(e);return i||(i=new qe(Bt),this.He=this.He.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||mt("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new d0),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function Yu(){return new ve(St.comparator)}function m0(){return new ve(St.comparator)}const IS={asc:"ASCENDING",desc:"DESCENDING"},NS={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},VS={and:"AND",or:"OR"};class MS{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function sd(a,e){return a.useProto3Json||bc(e)?e:{value:e}}function dc(a,e){return a.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Bv(a,e){return a.useProto3Json?e.toBase64():e.toUint8Array()}function OS(a,e){return dc(a,e.toTimestamp())}function Ii(a){return Wt(!!a,49232),Ct.fromTimestamp((function(i){const r=Qs(i);return new de(r.seconds,r.nanos)})(a))}function Dd(a,e){return ad(a,e).canonicalString()}function ad(a,e){const i=(function(o){return new ye(["projects",o.projectId,"databases",o.database])})(a).child("documents");return e===void 0?i:i.child(e)}function Pv(a){const e=ye.fromString(a);return Wt(Qv(e),10190,{key:e.toString()}),e}function rd(a,e){return Dd(a.databaseId,e.path)}function qf(a,e){const i=Pv(e);if(i.get(1)!==a.databaseId.projectId)throw new vt(rt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+a.databaseId.projectId);if(i.get(3)!==a.databaseId.database)throw new vt(rt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+a.databaseId.database);return new St(Hv(i))}function qv(a,e){return Dd(a.databaseId,e)}function jS(a){const e=Pv(a);return e.length===4?ye.emptyPath():Hv(e)}function ld(a){return new ye(["projects",a.databaseId.projectId,"databases",a.databaseId.database]).canonicalString()}function Hv(a){return Wt(a.length>4&&a.get(4)==="documents",29091,{key:a.toString()}),a.popFirst(5)}function g0(a,e,i){return{name:rd(a,e),fields:i.value.mapValue.fields}}function LS(a,e){let i;if("targetChange"in e){e.targetChange;const r=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:At(39313,{state:_})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],h=(function(_,S){return _.useProto3Json?(Wt(S===void 0||typeof S=="string",58123),en.fromBase64String(S||"")):(Wt(S===void 0||S instanceof Buffer||S instanceof Uint8Array,16193),en.fromUint8Array(S||new Uint8Array))})(a,e.targetChange.resumeToken),d=e.targetChange.cause,p=d&&(function(_){const S=_.code===void 0?rt.UNKNOWN:zv(_.code);return new vt(S,_.message||"")})(d);i=new Uv(r,o,h,p||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const o=qf(a,r.document.name),h=Ii(r.document.updateTime),d=r.document.createTime?Ii(r.document.createTime):Ct.min(),p=new Fn({mapValue:{fields:r.document.fields}}),y=rn.newFoundDocument(o,h,d,p),_=r.targetIds||[],S=r.removedTargetIds||[];i=new tc(_,S,y.key,y)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const o=qf(a,r.document),h=r.readTime?Ii(r.readTime):Ct.min(),d=rn.newNoDocument(o,h),p=r.removedTargetIds||[];i=new tc([],p,d.key,d)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const o=qf(a,r.document),h=r.removedTargetIds||[];i=new tc([],h,o,null)}else{if(!("filter"in e))return At(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:o=0,unchangedNames:h}=r,d=new AS(o,h),p=r.targetId;i=new kv(p,d)}}return i}function zS(a,e){let i;if(e instanceof vo)i={update:g0(a,e.key,e.value)};else if(e instanceof Lv)i={delete:rd(a,e.key)};else if(e instanceof ja)i={update:g0(a,e.key,e.data),updateMask:QS(e.fieldMask)};else{if(!(e instanceof TS))return At(16599,{dt:e.type});i={verify:rd(a,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((r=>(function(h,d){const p=d.transform;if(p instanceof ho)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof fo)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof mo)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof fc)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw At(20930,{transform:d.transform})})(0,r)))),e.precondition.isNone||(i.currentDocument=(function(o,h){return h.updateTime!==void 0?{updateTime:OS(o,h.updateTime)}:h.exists!==void 0?{exists:h.exists}:At(27497)})(a,e.precondition)),i}function kS(a,e){return a&&a.length>0?(Wt(e!==void 0,14353),a.map((i=>(function(o,h){let d=o.updateTime?Ii(o.updateTime):Ii(h);return d.isEqual(Ct.min())&&(d=Ii(h)),new _S(d,o.transformResults||[])})(i,e)))):[]}function US(a,e){return{documents:[qv(a,e.path)]}}function BS(a,e){const i={structuredQuery:{}},r=e.path;let o;e.collectionGroup!==null?(o=r,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=r.popLast(),i.structuredQuery.from=[{collectionId:r.lastSegment()}]),i.parent=qv(a,o);const h=(function(_){if(_.length!==0)return Gv(Mi.create(_,"and"))})(e.filters);h&&(i.structuredQuery.where=h);const d=(function(_){if(_.length!==0)return _.map((S=>(function(C){return{field:Cr(C.field),direction:HS(C.dir)}})(S)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const p=sd(a,e.limit);return p!==null&&(i.structuredQuery.limit=p),e.startAt&&(i.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(e.endAt)),{ft:i,parent:o}}function PS(a){let e=jS(a.parent);const i=a.structuredQuery,r=i.from?i.from.length:0;let o=null;if(r>0){Wt(r===1,65062);const S=i.from[0];S.allDescendants?o=S.collectionId:e=e.child(S.collectionId)}let h=[];i.where&&(h=(function(x){const C=Fv(x);return C instanceof Mi&&bv(C)?C.getFilters():[C]})(i.where));let d=[];i.orderBy&&(d=(function(x){return x.map((C=>(function(H){return new hc(Rr(H.field),(function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(H.direction))})(C)))})(i.orderBy));let p=null;i.limit&&(p=(function(x){let C;return C=typeof x=="object"?x.value:x,bc(C)?null:C})(i.limit));let y=null;i.startAt&&(y=(function(x){const C=!!x.before,j=x.values||[];return new cc(j,C)})(i.startAt));let _=null;return i.endAt&&(_=(function(x){const C=!x.before,j=x.values||[];return new cc(j,C)})(i.endAt)),iS(e,o,d,h,p,"F",y,_)}function qS(a,e){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return At(28987,{purpose:o})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function Fv(a){return a.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const r=Rr(i.unaryFilter.field);return Be.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=Rr(i.unaryFilter.field);return Be.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=Rr(i.unaryFilter.field);return Be.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Rr(i.unaryFilter.field);return Be.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return At(61313);default:return At(60726)}})(a):a.fieldFilter!==void 0?(function(i){return Be.create(Rr(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return At(58110);default:return At(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(a):a.compositeFilter!==void 0?(function(i){return Mi.create(i.compositeFilter.filters.map((r=>Fv(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return At(1026)}})(i.compositeFilter.op))})(a):At(30097,{filter:a})}function HS(a){return IS[a]}function FS(a){return NS[a]}function GS(a){return VS[a]}function Cr(a){return{fieldPath:a.canonicalString()}}function Rr(a){return tn.fromServerFormat(a.fieldPath)}function Gv(a){return a instanceof Be?(function(i){if(i.op==="=="){if(n0(i.value))return{unaryFilter:{field:Cr(i.field),op:"IS_NAN"}};if(e0(i.value))return{unaryFilter:{field:Cr(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(n0(i.value))return{unaryFilter:{field:Cr(i.field),op:"IS_NOT_NAN"}};if(e0(i.value))return{unaryFilter:{field:Cr(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Cr(i.field),op:FS(i.op),value:i.value}}})(a):a instanceof Mi?(function(i){const r=i.getFilters().map((o=>Gv(o)));return r.length===1?r[0]:{compositeFilter:{op:GS(i.op),filters:r}}})(a):At(54877,{filter:a})}function QS(a){const e=[];return a.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function Qv(a){return a.length>=4&&a.get(0)==="projects"&&a.get(2)==="databases"}function Yv(a){return!!a&&typeof a._toProto=="function"&&a._protoValueType==="ProtoValue"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Us{constructor(e,i,r,o,h=Ct.min(),d=Ct.min(),p=en.EMPTY_BYTE_STRING,y=null){this.target=e,this.targetId=i,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=y}withSequenceNumber(e){return new Us(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new Us(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Us(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Us(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YS{constructor(e){this.yt=e}}function KS(a){const e=PS({parent:a.parent,structuredQuery:a.structuredQuery});return a.limitType==="LAST"?id(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XS{constructor(){this.Sn=new ZS}addToCollectionParentIndex(e,i){return this.Sn.add(i),st.resolve()}getCollectionParents(e,i){return st.resolve(this.Sn.getEntries(i))}addFieldIndex(e,i){return st.resolve()}deleteFieldIndex(e,i){return st.resolve()}deleteAllFieldIndexes(e){return st.resolve()}createTargetIndexes(e,i){return st.resolve()}getDocumentsMatchingTarget(e,i){return st.resolve(null)}getIndexType(e,i){return st.resolve(0)}getFieldIndexes(e,i){return st.resolve([])}getNextCollectionGroupToUpdate(e){return st.resolve(null)}getMinOffset(e,i){return st.resolve(Gs.min())}getMinOffsetFromCollectionGroup(e,i){return st.resolve(Gs.min())}updateCollectionGroup(e,i,r){return st.resolve()}updateIndexEntries(e,i){return st.resolve()}}class ZS{constructor(){this.index={}}add(e){const i=e.lastSegment(),r=e.popLast(),o=this.index[i]||new qe(ye.comparator),h=!o.has(r);return this.index[i]=o.add(r),h}has(e){const i=e.lastSegment(),r=e.popLast(),o=this.index[i];return o&&o.has(r)}getEntries(e){return(this.index[e]||new qe(ye.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Kv=41943040;class _n{static withCacheSize(e){return new _n(e,_n.DEFAULT_COLLECTION_PERCENTILE,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */_n.DEFAULT_COLLECTION_PERCENTILE=10,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,_n.DEFAULT=new _n(Kv,_n.DEFAULT_COLLECTION_PERCENTILE,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),_n.DISABLED=new _n(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new kr(0)}static ar(){return new kr(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y0="LruGarbageCollector",JS=1048576;function v0([a,e],[i,r]){const o=Bt(a,i);return o===0?Bt(e,r):o}class $S{constructor(e){this.Pr=e,this.buffer=new qe(v0),this.Tr=0}Ir(){return++this.Tr}Er(e){const i=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(i);else{const r=this.buffer.last();v0(i,r)<0&&(this.buffer=this.buffer.delete(r).add(i))}}get maxValue(){return this.buffer.last()[0]}}class WS{constructor(e,i,r){this.garbageCollector=e,this.asyncQueue=i,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){mt(y0,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Hr(i)?mt(y0,"Ignoring IndexedDB error during garbage collection: ",i):await qr(i)}await this.Ar(3e5)}))}}class tx{constructor(e,i){this.Vr=e,this.params=i}calculateTargetCount(e,i){return this.Vr.dr(e).next((r=>Math.floor(i/100*r)))}nthSequenceNumber(e,i){if(i===0)return st.resolve(_c.ce);const r=new $S(i);return this.Vr.forEachTarget(e,(o=>r.Er(o.sequenceNumber))).next((()=>this.Vr.mr(e,(o=>r.Er(o))))).next((()=>r.maxValue))}removeTargets(e,i,r){return this.Vr.removeTargets(e,i,r)}removeOrphanedDocuments(e,i){return this.Vr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(mt("LruGarbageCollector","Garbage collection skipped; disabled"),st.resolve(p0)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(mt("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),p0):this.gr(e,i)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,i){let r,o,h,d,p,y,_;const S=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((x=>(x>this.params.maximumSequenceNumbersToCollect?(mt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${x}`),o=this.params.maximumSequenceNumbersToCollect):o=x,d=Date.now(),this.nthSequenceNumber(e,o)))).next((x=>(r=x,p=Date.now(),this.removeTargets(e,r,i)))).next((x=>(h=x,y=Date.now(),this.removeOrphanedDocuments(e,r)))).next((x=>(_=Date.now(),Ar()<=Gt.DEBUG&&mt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-S}ms
	Determined least recently used ${o} in `+(p-d)+`ms
	Removed ${h} targets in `+(y-p)+`ms
	Removed ${x} documents in `+(_-y)+`ms
Total Duration: ${_-S}ms`),st.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:h,documentsRemoved:x}))))}}function ex(a,e){return new tx(a,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nx{constructor(){this.changes=new Oa((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,rn.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const r=this.changes.get(i);return r!==void 0?st.resolve(r):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ix{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sx{constructor(e,i,r,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,i){let r=null;return this.documentOverlayCache.getOverlay(e,i).next((o=>(r=o,this.remoteDocumentCache.getEntry(e,i)))).next((o=>(r!==null&&no(r.mutation,o,si.empty(),de.now()),o)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((r=>this.getLocalViewOfDocuments(e,r,Pt()).next((()=>r))))}getLocalViewOfDocuments(e,i,r=Pt()){const o=Da();return this.populateOverlays(e,o,i).next((()=>this.computeViews(e,i,o,r).next((h=>{let d=Xl();return h.forEach(((p,y)=>{d=d.insert(p,y.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const r=Da();return this.populateOverlays(e,r,i).next((()=>this.computeViews(e,i,r,Pt())))}populateOverlays(e,i,r){const o=[];return r.forEach((h=>{i.has(h)||o.push(h)})),this.documentOverlayCache.getOverlays(e,o).next((h=>{h.forEach(((d,p)=>{i.set(d,p)}))}))}computeViews(e,i,r,o){let h=is();const d=eo(),p=(function(){return eo()})();return i.forEach(((y,_)=>{const S=r.get(_.key);o.has(_.key)&&(S===void 0||S.mutation instanceof ja)?h=h.insert(_.key,_):S!==void 0?(d.set(_.key,S.mutation.getFieldMask()),no(S.mutation,_,S.mutation.getFieldMask(),de.now())):d.set(_.key,si.empty())})),this.recalculateAndSaveOverlays(e,h).next((y=>(y.forEach(((_,S)=>d.set(_,S))),i.forEach(((_,S)=>p.set(_,new ix(S,d.get(_)??null)))),p)))}recalculateAndSaveOverlays(e,i){const r=eo();let o=new ve(((d,p)=>d-p)),h=Pt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const p of d)p.keys().forEach((y=>{const _=i.get(y);if(_===null)return;let S=r.get(y)||si.empty();S=p.applyToLocalView(_,S),r.set(y,S);const x=(o.get(p.batchId)||Pt()).add(y);o=o.insert(p.batchId,x)}))})).next((()=>{const d=[],p=o.getReverseIterator();for(;p.hasNext();){const y=p.getNext(),_=y.key,S=y.value,x=Rv();S.forEach((C=>{if(!h.has(C)){const j=Ov(i.get(C),r.get(C));j!==null&&x.set(C,j),h=h.add(C)}})),d.push(this.documentOverlayCache.saveOverlays(e,_,x))}return st.waitFor(d)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,i,r,o){return sS(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):aS(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,r,o):this.getDocumentsMatchingCollectionQuery(e,i,r,o)}getNextDocuments(e,i,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,r,o).next((h=>{const d=o-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,r.largestBatchId,o-h.size):st.resolve(Da());let p=lo,y=h;return d.next((_=>st.forEach(_,((S,x)=>(p<x.largestBatchId&&(p=x.largestBatchId),h.get(S)?st.resolve():this.remoteDocumentCache.getEntry(e,S).next((C=>{y=y.insert(S,C)}))))).next((()=>this.populateOverlays(e,_,h))).next((()=>this.computeViews(e,y,_,Pt()))).next((S=>({batchId:p,changes:Cv(S)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new St(i)).next((r=>{let o=Xl();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(e,i,r,o){const h=i.collectionGroup;let d=Xl();return this.indexManager.getCollectionParents(e,h).next((p=>st.forEach(p,(y=>{const _=(function(x,C){return new Tc(C,null,x.explicitOrderBy.slice(),x.filters.slice(),x.limit,x.limitType,x.startAt,x.endAt)})(i,y.child(h));return this.getDocumentsMatchingCollectionQuery(e,_,r,o).next((S=>{S.forEach(((x,C)=>{d=d.insert(x,C)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,r,o){let h;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,r.largestBatchId).next((d=>(h=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,r,h,o)))).next((d=>{h.forEach(((y,_)=>{const S=_.getKey();d.get(S)===null&&(d=d.insert(S,rn.newInvalidDocument(S)))}));let p=Xl();return d.forEach(((y,_)=>{const S=h.get(y);S!==void 0&&no(S.mutation,_,si.empty(),de.now()),Ac(i,_)&&(p=p.insert(y,_))})),p}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ax{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,i){return st.resolve(this.Nr.get(i))}saveBundleMetadata(e,i){return this.Nr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:Ii(o.createTime)}})(i)),st.resolve()}getNamedQuery(e,i){return st.resolve(this.Br.get(i))}saveNamedQuery(e,i){return this.Br.set(i.name,(function(o){return{name:o.name,query:KS(o.bundledQuery),readTime:Ii(o.readTime)}})(i)),st.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rx{constructor(){this.overlays=new ve(St.comparator),this.Lr=new Map}getOverlay(e,i){return st.resolve(this.overlays.get(i))}getOverlays(e,i){const r=Da();return st.forEach(i,(o=>this.getOverlay(e,o).next((h=>{h!==null&&r.set(o,h)})))).next((()=>r))}saveOverlays(e,i,r){return r.forEach(((o,h)=>{this.bt(e,i,h)})),st.resolve()}removeOverlaysForBatchId(e,i,r){const o=this.Lr.get(r);return o!==void 0&&(o.forEach((h=>this.overlays=this.overlays.remove(h))),this.Lr.delete(r)),st.resolve()}getOverlaysForCollection(e,i,r){const o=Da(),h=i.length+1,d=new St(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const y=p.getNext().value,_=y.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===h&&y.largestBatchId>r&&o.set(y.getKey(),y)}return st.resolve(o)}getOverlaysForCollectionGroup(e,i,r,o){let h=new ve(((_,S)=>_-S));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>r){let S=h.get(_.largestBatchId);S===null&&(S=Da(),h=h.insert(_.largestBatchId,S)),S.set(_.getKey(),_)}}const p=Da(),y=h.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach(((_,S)=>p.set(_,S))),!(p.size()>=o)););return st.resolve(p)}bt(e,i,r){const o=this.overlays.get(r.key);if(o!==null){const d=this.Lr.get(o.largestBatchId).delete(r.key);this.Lr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new xS(i,r));let h=this.Lr.get(i);h===void 0&&(h=Pt(),this.Lr.set(i,h)),this.Lr.set(i,h.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lx{constructor(){this.sessionToken=en.EMPTY_BYTE_STRING}getSessionToken(e){return st.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,st.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Id{constructor(){this.kr=new qe(Qe.Kr),this.qr=new qe(Qe.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,i){const r=new Qe(e,i);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(e,i){e.forEach((r=>this.addReference(r,i)))}removeReference(e,i){this.Wr(new Qe(e,i))}Qr(e,i){e.forEach((r=>this.removeReference(r,i)))}Gr(e){const i=new St(new ye([])),r=new Qe(i,e),o=new Qe(i,e+1),h=[];return this.qr.forEachInRange([r,o],(d=>{this.Wr(d),h.push(d.key)})),h}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const i=new St(new ye([])),r=new Qe(i,e),o=new Qe(i,e+1);let h=Pt();return this.qr.forEachInRange([r,o],(d=>{h=h.add(d.key)})),h}containsKey(e){const i=new Qe(e,0),r=this.kr.firstAfterOrEqual(i);return r!==null&&e.isEqual(r.key)}}class Qe{constructor(e,i){this.key=e,this.Hr=i}static Kr(e,i){return St.comparator(e.key,i.key)||Bt(e.Hr,i.Hr)}static Ur(e,i){return Bt(e.Hr,i.Hr)||St.comparator(e.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ox{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.Yn=1,this.Jr=new qe(Qe.Kr)}checkEmpty(e){return st.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,r,o){const h=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new SS(h,i,r,o);this.mutationQueue.push(d);for(const p of o)this.Jr=this.Jr.add(new Qe(p.key,h)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return st.resolve(d)}lookupMutationBatch(e,i){return st.resolve(this.Zr(i))}getNextMutationBatchAfterBatchId(e,i){const r=i+1,o=this.Xr(r),h=o<0?0:o;return st.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return st.resolve(this.mutationQueue.length===0?Ed:this.Yn-1)}getAllMutationBatches(e){return st.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const r=new Qe(i,0),o=new Qe(i,Number.POSITIVE_INFINITY),h=[];return this.Jr.forEachInRange([r,o],(d=>{const p=this.Zr(d.Hr);h.push(p)})),st.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(e,i){let r=new qe(Bt);return i.forEach((o=>{const h=new Qe(o,0),d=new Qe(o,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([h,d],(p=>{r=r.add(p.Hr)}))})),st.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(e,i){const r=i.path,o=r.length+1;let h=r;St.isDocumentKey(h)||(h=h.child(""));const d=new Qe(new St(h),0);let p=new qe(Bt);return this.Jr.forEachWhile((y=>{const _=y.key.path;return!!r.isPrefixOf(_)&&(_.length===o&&(p=p.add(y.Hr)),!0)}),d),st.resolve(this.Yr(p))}Yr(e){const i=[];return e.forEach((r=>{const o=this.Zr(r);o!==null&&i.push(o)})),i}removeMutationBatch(e,i){Wt(this.ei(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return st.forEach(i.mutations,(o=>{const h=new Qe(o.key,i.batchId);return r=r.delete(h),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Jr=r}))}nr(e){}containsKey(e,i){const r=new Qe(i,0),o=this.Jr.firstAfterOrEqual(r);return st.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,st.resolve()}ei(e,i){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const i=this.Xr(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ux{constructor(e){this.ti=e,this.docs=(function(){return new ve(St.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const r=i.key,o=this.docs.get(r),h=o?o.size:0,d=this.ti(i);return this.docs=this.docs.insert(r,{document:i.mutableCopy(),size:d}),this.size+=d-h,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const r=this.docs.get(i);return st.resolve(r?r.document.mutableCopy():rn.newInvalidDocument(i))}getEntries(e,i){let r=is();return i.forEach((o=>{const h=this.docs.get(o);r=r.insert(o,h?h.document.mutableCopy():rn.newInvalidDocument(o))})),st.resolve(r)}getDocumentsMatchingQuery(e,i,r,o){let h=is();const d=i.path,p=new St(d.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(p);for(;y.hasNext();){const{key:_,value:{document:S}}=y.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||OT(MT(S),r)<=0||(o.has(S.key)||Ac(i,S))&&(h=h.insert(S.key,S.mutableCopy()))}return st.resolve(h)}getAllFromCollectionGroup(e,i,r,o){At(9500)}ni(e,i){return st.forEach(this.docs,(r=>i(r)))}newChangeBuffer(e){return new cx(this)}getSize(e){return st.resolve(this.size)}}class cx extends nx{constructor(e){super(),this.Mr=e}applyChanges(e){const i=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?i.push(this.Mr.addEntry(e,o)):this.Mr.removeEntry(r)})),st.waitFor(i)}getFromCache(e,i){return this.Mr.getEntry(e,i)}getAllFromCache(e,i){return this.Mr.getEntries(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hx{constructor(e){this.persistence=e,this.ri=new Oa((i=>xd(i)),Ad),this.lastRemoteSnapshotVersion=Ct.min(),this.highestTargetId=0,this.ii=0,this.si=new Id,this.targetCount=0,this.oi=kr._r()}forEachTarget(e,i){return this.ri.forEach(((r,o)=>i(o))),st.resolve()}getLastRemoteSnapshotVersion(e){return st.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return st.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),st.resolve(this.highestTargetId)}setTargetsMetadata(e,i,r){return r&&(this.lastRemoteSnapshotVersion=r),i>this.ii&&(this.ii=i),st.resolve()}lr(e){this.ri.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.oi=new kr(i),this.highestTargetId=i),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,i){return this.lr(i),this.targetCount+=1,st.resolve()}updateTargetData(e,i){return this.lr(i),st.resolve()}removeTargetData(e,i){return this.ri.delete(i.target),this.si.Gr(i.targetId),this.targetCount-=1,st.resolve()}removeTargets(e,i,r){let o=0;const h=[];return this.ri.forEach(((d,p)=>{p.sequenceNumber<=i&&r.get(p.targetId)===null&&(this.ri.delete(d),h.push(this.removeMatchingKeysForTargetId(e,p.targetId)),o++)})),st.waitFor(h).next((()=>o))}getTargetCount(e){return st.resolve(this.targetCount)}getTargetData(e,i){const r=this.ri.get(i)||null;return st.resolve(r)}addMatchingKeys(e,i,r){return this.si.$r(i,r),st.resolve()}removeMatchingKeys(e,i,r){this.si.Qr(i,r);const o=this.persistence.referenceDelegate,h=[];return o&&i.forEach((d=>{h.push(o.markPotentiallyOrphaned(e,d))})),st.waitFor(h)}removeMatchingKeysForTargetId(e,i){return this.si.Gr(i),st.resolve()}getMatchingKeysForTargetId(e,i){const r=this.si.jr(i);return st.resolve(r)}containsKey(e,i){return st.resolve(this.si.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xv{constructor(e,i){this._i={},this.overlays={},this.ai=new _c(0),this.ui=!1,this.ui=!0,this.ci=new lx,this.referenceDelegate=e(this),this.li=new hx(this),this.indexManager=new XS,this.remoteDocumentCache=(function(o){return new ux(o)})((r=>this.referenceDelegate.hi(r))),this.serializer=new YS(i),this.Pi=new ax(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new rx,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let r=this._i[e.toKey()];return r||(r=new ox(i,this.referenceDelegate),this._i[e.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,i,r){mt("MemoryPersistence","Starting transaction:",e);const o=new fx(this.ai.next());return this.referenceDelegate.Ti(),r(o).next((h=>this.referenceDelegate.Ii(o).next((()=>h)))).toPromise().then((h=>(o.raiseOnCommittedEvent(),h)))}Ei(e,i){return st.or(Object.values(this._i).map((r=>()=>r.containsKey(e,i))))}}class fx extends LT{constructor(e){super(),this.currentSequenceNumber=e}}class Nd{constructor(e){this.persistence=e,this.Ri=new Id,this.Ai=null}static Vi(e){return new Nd(e)}get di(){if(this.Ai)return this.Ai;throw At(60996)}addReference(e,i,r){return this.Ri.addReference(r,i),this.di.delete(r.toString()),st.resolve()}removeReference(e,i,r){return this.Ri.removeReference(r,i),this.di.add(r.toString()),st.resolve()}markPotentiallyOrphaned(e,i){return this.di.add(i.toString()),st.resolve()}removeTarget(e,i){this.Ri.Gr(i.targetId).forEach((o=>this.di.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,i.targetId).next((o=>{o.forEach((h=>this.di.add(h.toString())))})).next((()=>r.removeTargetData(e,i)))}Ti(){this.Ai=new Set}Ii(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return st.forEach(this.di,(r=>{const o=St.fromPath(r);return this.mi(e,o).next((h=>{h||i.removeEntry(o,Ct.min())}))})).next((()=>(this.Ai=null,i.apply(e))))}updateLimboDocument(e,i){return this.mi(e,i).next((r=>{r?this.di.delete(i.toString()):this.di.add(i.toString())}))}hi(e){return 0}mi(e,i){return st.or([()=>st.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ei(e,i)])}}class mc{constructor(e,i){this.persistence=e,this.fi=new Oa((r=>UT(r.path)),((r,o)=>r.isEqual(o))),this.garbageCollector=ex(this,i)}static Vi(e,i){return new mc(e,i)}Ti(){}Ii(e){return st.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}dr(e){const i=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>i.next((o=>r+o))))}pr(e){let i=0;return this.mr(e,(r=>{i++})).next((()=>i))}mr(e,i){return st.forEach(this.fi,((r,o)=>this.wr(e,r,o).next((h=>h?st.resolve():i(o)))))}removeTargets(e,i,r){return this.persistence.getTargetCache().removeTargets(e,i,r)}removeOrphanedDocuments(e,i){let r=0;const o=this.persistence.getRemoteDocumentCache(),h=o.newChangeBuffer();return o.ni(e,(d=>this.wr(e,d,i).next((p=>{p||(r++,h.removeEntry(d,Ct.min()))})))).next((()=>h.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,i){return this.fi.set(i,e.currentSequenceNumber),st.resolve()}removeTarget(e,i){const r=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,i,r){return this.fi.set(r,e.currentSequenceNumber),st.resolve()}removeReference(e,i,r){return this.fi.set(r,e.currentSequenceNumber),st.resolve()}updateLimboDocument(e,i){return this.fi.set(i,e.currentSequenceNumber),st.resolve()}hi(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Ju(e.data.value)),i}wr(e,i,r){return st.or([()=>this.persistence.Ei(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.fi.get(i);return st.resolve(o!==void 0&&o>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vd{constructor(e,i,r,o){this.targetId=e,this.fromCache=i,this.Ts=r,this.Is=o}static Es(e,i){let r=Pt(),o=Pt();for(const h of i.docChanges)switch(h.type){case 0:r=r.add(h.doc.key);break;case 1:o=o.add(h.doc.key)}return new Vd(e,i.fromCache,r,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dx{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mx{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return e1()?8:zT(WE())>0?6:4})()}initialize(e,i){this.fs=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,r,o){const h={result:null};return this.gs(e,i).next((d=>{h.result=d})).next((()=>{if(!h.result)return this.ps(e,i,o,r).next((d=>{h.result=d}))})).next((()=>{if(h.result)return;const d=new dx;return this.ys(e,i,d).next((p=>{if(h.result=p,this.As)return this.ws(e,i,d,p.size)}))})).next((()=>h.result))}ws(e,i,r,o){return r.documentReadCount<this.Vs?(Ar()<=Gt.DEBUG&&mt("QueryEngine","SDK will not create cache indexes for query:",wr(i),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),st.resolve()):(Ar()<=Gt.DEBUG&&mt("QueryEngine","Query:",wr(i),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.ds*o?(Ar()<=Gt.DEBUG&&mt("QueryEngine","The SDK decides to create cache indexes for query:",wr(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Di(i))):st.resolve())}gs(e,i){if(r0(i))return st.resolve(null);let r=Di(i);return this.indexManager.getIndexType(e,r).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=id(i,null,"F"),r=Di(i)),this.indexManager.getDocumentsMatchingTarget(e,r).next((h=>{const d=Pt(...h);return this.fs.getDocuments(e,d).next((p=>this.indexManager.getMinOffset(e,r).next((y=>{const _=this.bs(i,p);return this.Ss(i,_,d,y.readTime)?this.gs(e,id(i,null,"F")):this.Ds(e,_,i,y)}))))})))))}ps(e,i,r,o){return r0(i)||o.isEqual(Ct.min())?st.resolve(null):this.fs.getDocuments(e,r).next((h=>{const d=this.bs(i,h);return this.Ss(i,d,r,o)?st.resolve(null):(Ar()<=Gt.DEBUG&&mt("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),wr(i)),this.Ds(e,d,i,VT(o,lo)).next((p=>p)))}))}bs(e,i){let r=new qe(Av(e));return i.forEach(((o,h)=>{Ac(e,h)&&(r=r.add(h))})),r}Ss(e,i,r,o){if(e.limit===null)return!1;if(r.size!==i.size)return!0;const h=e.limitType==="F"?i.last():i.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(o)>0)}ys(e,i,r){return Ar()<=Gt.DEBUG&&mt("QueryEngine","Using full collection scan to execute query:",wr(i)),this.fs.getDocumentsMatchingQuery(e,i,Gs.min(),r)}Ds(e,i,r,o){return this.fs.getDocumentsMatchingQuery(e,r,o).next((h=>(i.forEach((d=>{h=h.insert(d.key,d)})),h)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Md="LocalStore",gx=3e8;class px{constructor(e,i,r,o){this.persistence=e,this.Cs=i,this.serializer=o,this.vs=new ve(Bt),this.Fs=new Oa((h=>xd(h)),Ad),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(r)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new sx(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.vs)))}}function yx(a,e,i,r){return new px(a,e,i,r)}async function Zv(a,e){const i=Dt(a);return await i.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return i.mutationQueue.getAllMutationBatches(r).next((h=>(o=h,i.Os(e),i.mutationQueue.getAllMutationBatches(r)))).next((h=>{const d=[],p=[];let y=Pt();for(const _ of o){d.push(_.batchId);for(const S of _.mutations)y=y.add(S.key)}for(const _ of h){p.push(_.batchId);for(const S of _.mutations)y=y.add(S.key)}return i.localDocuments.getDocuments(r,y).next((_=>({Ns:_,removedBatchIds:d,addedBatchIds:p})))}))}))}function vx(a,e){const i=Dt(a);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const o=e.batch.keys(),h=i.xs.newChangeBuffer({trackRemovals:!0});return(function(p,y,_,S){const x=_.batch,C=x.keys();let j=st.resolve();return C.forEach((H=>{j=j.next((()=>S.getEntry(y,H))).next((it=>{const k=_.docVersions.get(H);Wt(k!==null,48541),it.version.compareTo(k)<0&&(x.applyToRemoteDocument(it,_),it.isValidDocument()&&(it.setReadTime(_.commitVersion),S.addEntry(it)))}))})),j.next((()=>p.mutationQueue.removeMutationBatch(y,x)))})(i,r,e,h).next((()=>h.apply(r))).next((()=>i.mutationQueue.performConsistencyCheck(r))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(p){let y=Pt();for(let _=0;_<p.mutationResults.length;++_)p.mutationResults[_].transformResults.length>0&&(y=y.add(p.batch.mutations[_].key));return y})(e)))).next((()=>i.localDocuments.getDocuments(r,o)))}))}function Jv(a){const e=Dt(a);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.li.getLastRemoteSnapshotVersion(i)))}function _x(a,e){const i=Dt(a),r=e.snapshotVersion;let o=i.vs;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(h=>{const d=i.xs.newChangeBuffer({trackRemovals:!0});o=i.vs;const p=[];e.targetChanges.forEach(((S,x)=>{const C=o.get(x);if(!C)return;p.push(i.li.removeMatchingKeys(h,S.removedDocuments,x).next((()=>i.li.addMatchingKeys(h,S.addedDocuments,x))));let j=C.withSequenceNumber(h.currentSequenceNumber);e.targetMismatches.get(x)!==null?j=j.withResumeToken(en.EMPTY_BYTE_STRING,Ct.min()).withLastLimboFreeSnapshotVersion(Ct.min()):S.resumeToken.approximateByteSize()>0&&(j=j.withResumeToken(S.resumeToken,r)),o=o.insert(x,j),(function(it,k,X){return it.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-it.snapshotVersion.toMicroseconds()>=gx?!0:X.addedDocuments.size+X.modifiedDocuments.size+X.removedDocuments.size>0})(C,j,S)&&p.push(i.li.updateTargetData(h,j))}));let y=is(),_=Pt();if(e.documentUpdates.forEach((S=>{e.resolvedLimboDocuments.has(S)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(h,S))})),p.push(bx(h,d,e.documentUpdates).next((S=>{y=S.Bs,_=S.Ls}))),!r.isEqual(Ct.min())){const S=i.li.getLastRemoteSnapshotVersion(h).next((x=>i.li.setTargetsMetadata(h,h.currentSequenceNumber,r)));p.push(S)}return st.waitFor(p).next((()=>d.apply(h))).next((()=>i.localDocuments.getLocalViewOfDocuments(h,y,_))).next((()=>y))})).then((h=>(i.vs=o,h)))}function bx(a,e,i){let r=Pt(),o=Pt();return i.forEach((h=>r=r.add(h))),e.getEntries(a,r).next((h=>{let d=is();return i.forEach(((p,y)=>{const _=h.get(p);y.isFoundDocument()!==_.isFoundDocument()&&(o=o.add(p)),y.isNoDocument()&&y.version.isEqual(Ct.min())?(e.removeEntry(p,y.readTime),d=d.insert(p,y)):!_.isValidDocument()||y.version.compareTo(_.version)>0||y.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(y),d=d.insert(p,y)):mt(Md,"Ignoring outdated watch update for ",p,". Current version:",_.version," Watch version:",y.version)})),{Bs:d,Ls:o}}))}function Ex(a,e){const i=Dt(a);return i.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Ed),i.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function Tx(a,e){const i=Dt(a);return i.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return i.li.getTargetData(r,e).next((h=>h?(o=h,st.resolve(o)):i.li.allocateTargetId(r).next((d=>(o=new Us(e,d,"TargetPurposeListen",r.currentSequenceNumber),i.li.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=i.vs.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.vs=i.vs.insert(r.targetId,r),i.Fs.set(e,r.targetId)),r}))}async function od(a,e,i){const r=Dt(a),o=r.vs.get(e),h=i?"readwrite":"readwrite-primary";try{i||await r.persistence.runTransaction("Release target",h,(d=>r.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!Hr(d))throw d;mt(Md,`Failed to update sequence numbers for target ${e}: ${d}`)}r.vs=r.vs.remove(e),r.Fs.delete(o.target)}function _0(a,e,i){const r=Dt(a);let o=Ct.min(),h=Pt();return r.persistence.runTransaction("Execute query","readwrite",(d=>(function(y,_,S){const x=Dt(y),C=x.Fs.get(S);return C!==void 0?st.resolve(x.vs.get(C)):x.li.getTargetData(_,S)})(r,d,Di(e)).next((p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(d,p.targetId).next((y=>{h=y}))})).next((()=>r.Cs.getDocumentsMatchingQuery(d,e,i?o:Ct.min(),i?h:Pt()))).next((p=>(Sx(r,lS(e),p),{documents:p,ks:h})))))}function Sx(a,e,i){let r=a.Ms.get(e)||Ct.min();i.forEach(((o,h)=>{h.readTime.compareTo(r)>0&&(r=h.readTime)})),a.Ms.set(e,r)}class b0{constructor(){this.activeTargetIds=dS()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class xx{constructor(){this.vo=new b0,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,r){}addLocalQueryTarget(e,i=!0){return i&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,i,r){this.Fo[e]=i}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new b0,Promise.resolve()}handleUserChange(e,i,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ax{Mo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E0="ConnectivityMonitor";class T0{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){mt(E0,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){mt(E0,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ku=null;function ud(){return Ku===null?Ku=(function(){return 268435456+Math.round(2147483648*Math.random())})():Ku++,"0x"+Ku.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hf="RestConnection",wx={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class Cx{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.qo=i+"://"+e.host,this.Uo=`projects/${r}/databases/${o}`,this.$o=this.databaseId.database===oc?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Wo(e,i,r,o,h){const d=ud(),p=this.Qo(e,i.toUriEncodedString());mt(Hf,`Sending RPC '${e}' ${d}:`,p,r);const y={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(y,o,h);const{host:_}=new URL(p),S=pd(_);return this.zo(e,p,y,r,S).then((x=>(mt(Hf,`Received RPC '${e}' ${d}: `,x),x)),(x=>{throw Or(Hf,`RPC '${e}' ${d} failed with error: `,x,"url: ",p,"request:",r),x}))}jo(e,i,r,o,h,d){return this.Wo(e,i,r,o,h)}Go(e,i,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Pr})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,h)=>e[h]=o)),r&&r.headers.forEach(((o,h)=>e[h]=o))}Qo(e,i){const r=wx[e];let o=`${this.qo}/v1/${i}:${r}`;return this.databaseInfo.apiKey&&(o=`${o}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),o}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rx{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sn="WebChannelConnection",Ql=(a,e,i)=>{a.listen(e,(r=>{try{i(r)}catch(o){setTimeout((()=>{throw o}),0)}}))};class Ir extends Cx{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!Ir.c_){const e=iv();Ql(e,nv.STAT_EVENT,(i=>{i.stat===Jf.PROXY?mt(sn,"STAT_EVENT: detected buffering proxy"):i.stat===Jf.NOPROXY&&mt(sn,"STAT_EVENT: detected no buffering proxy")})),Ir.c_=!0}}zo(e,i,r,o,h){const d=ud();return new Promise(((p,y)=>{const _=new tv;_.setWithCredentials(!0),_.listenOnce(ev.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case Zu.NO_ERROR:const x=_.getResponseJson();mt(sn,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(x)),p(x);break;case Zu.TIMEOUT:mt(sn,`RPC '${e}' ${d} timed out`),y(new vt(rt.DEADLINE_EXCEEDED,"Request time out"));break;case Zu.HTTP_ERROR:const C=_.getStatus();if(mt(sn,`RPC '${e}' ${d} failed with status:`,C,"response text:",_.getResponseText()),C>0){let j=_.getResponseJson();Array.isArray(j)&&(j=j[0]);const H=j==null?void 0:j.error;if(H&&H.status&&H.message){const it=(function(X){const et=X.toLowerCase().replace(/_/g,"-");return Object.values(rt).indexOf(et)>=0?et:rt.UNKNOWN})(H.status);y(new vt(it,H.message))}else y(new vt(rt.UNKNOWN,"Server responded with status "+_.getStatus()))}else y(new vt(rt.UNAVAILABLE,"Connection failed."));break;default:At(9055,{l_:e,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{mt(sn,`RPC '${e}' ${d} completed.`)}}));const S=JSON.stringify(o);mt(sn,`RPC '${e}' ${d} sending request:`,o),_.send(i,"POST",S,r,15)}))}T_(e,i,r){const o=ud(),h=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=this.createWebChannelTransport(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(p.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Go(p.initMessageHeaders,i,r),p.encodeInitMessageHeaders=!0;const _=h.join("");mt(sn,`Creating RPC '${e}' stream ${o}: ${_}`,p);const S=d.createWebChannel(_,p);this.I_(S);let x=!1,C=!1;const j=new Rx({Ho:H=>{C?mt(sn,`Not sending because RPC '${e}' stream ${o} is closed:`,H):(x||(mt(sn,`Opening RPC '${e}' stream ${o} transport.`),S.open(),x=!0),mt(sn,`RPC '${e}' stream ${o} sending:`,H),S.send(H))},Jo:()=>S.close()});return Ql(S,Kl.EventType.OPEN,(()=>{C||(mt(sn,`RPC '${e}' stream ${o} transport opened.`),j.i_())})),Ql(S,Kl.EventType.CLOSE,(()=>{C||(C=!0,mt(sn,`RPC '${e}' stream ${o} transport closed`),j.o_(),this.E_(S))})),Ql(S,Kl.EventType.ERROR,(H=>{C||(C=!0,Or(sn,`RPC '${e}' stream ${o} transport errored. Name:`,H.name,"Message:",H.message),j.o_(new vt(rt.UNAVAILABLE,"The operation could not be completed")))})),Ql(S,Kl.EventType.MESSAGE,(H=>{var it;if(!C){const k=H.data[0];Wt(!!k,16349);const X=k,et=(X==null?void 0:X.error)||((it=X[0])==null?void 0:it.error);if(et){mt(sn,`RPC '${e}' stream ${o} received error:`,et);const ot=et.status;let ct=(function(I){const A=ze[I];if(A!==void 0)return zv(A)})(ot),Tt=et.message;ct===void 0&&(ct=rt.INTERNAL,Tt="Unknown error status: "+ot+" with message "+et.message),C=!0,j.o_(new vt(ct,Tt)),S.close()}else mt(sn,`RPC '${e}' stream ${o} received:`,k),j.__(k)}})),Ir.u_(),setTimeout((()=>{j.s_()}),0),j}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((i=>i===e))}Go(e,i,r){super.Go(e,i,r),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return sv()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dx(a){return new Ir(a)}function Ff(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dc(a){return new MS(a,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ir.c_=!1;class $v{constructor(e,i,r=1e3,o=1.5,h=6e4){this.Ci=e,this.timerId=i,this.R_=r,this.A_=o,this.V_=h,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const i=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-r);o>0&&mt("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.d_} ms, delay with jitter: ${i} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S0="PersistentStream";class Wv{constructor(e,i,r,o,h,d,p,y){this.Ci=e,this.b_=r,this.S_=o,this.connection=h,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new $v(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===rt.RESOURCE_EXHAUSTED?(ns(i.toString()),ns("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===rt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(i)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.D_===i&&this.G_(r,o)}),(r=>{e((()=>{const o=new vt(rt.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)}))}))}G_(e,i){const r=this.Q_(this.D_);this.stream=this.j_(e,i),this.stream.Zo((()=>{r((()=>this.listener.Zo()))})),this.stream.Yo((()=>{r((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((o=>{r((()=>this.z_(o)))})),this.stream.onMessage((o=>{r((()=>++this.F_==1?this.H_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return mt(S0,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return i=>{this.Ci.enqueueAndForget((()=>this.D_===e?i():(mt(S0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Ix extends Wv{constructor(e,i,r,o,h,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,r,o,d),this.serializer=h}j_(e,i){return this.connection.T_("Listen",e,i)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=LS(this.serializer,e),r=(function(h){if(!("targetChange"in h))return Ct.min();const d=h.targetChange;return d.targetIds&&d.targetIds.length?Ct.min():d.readTime?Ii(d.readTime):Ct.min()})(e);return this.listener.J_(i,r)}Z_(e){const i={};i.database=ld(this.serializer),i.addTarget=(function(h,d){let p;const y=d.target;if(p=nd(y)?{documents:US(h,y)}:{query:BS(h,y).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=Bv(h,d.resumeToken);const _=sd(h,d.expectedCount);_!==null&&(p.expectedCount=_)}else if(d.snapshotVersion.compareTo(Ct.min())>0){p.readTime=dc(h,d.snapshotVersion.toTimestamp());const _=sd(h,d.expectedCount);_!==null&&(p.expectedCount=_)}return p})(this.serializer,e);const r=qS(this.serializer,e);r&&(i.labels=r),this.K_(i)}X_(e){const i={};i.database=ld(this.serializer),i.removeTarget=e,this.K_(i)}}class Nx extends Wv{constructor(e,i,r,o,h,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,r,o,d),this.serializer=h}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}H_(e){return Wt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Wt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Wt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=kS(e.writeResults,e.commitTime),r=Ii(e.commitTime);return this.listener.na(r,i)}ra(){const e={};e.database=ld(this.serializer),this.K_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((r=>zS(this.serializer,r)))};this.K_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vx{}class Mx extends Vx{constructor(e,i,r,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new vt(rt.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,i,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,d])=>this.connection.Wo(e,ad(i,r),o,h,d))).catch((h=>{throw h.name==="FirebaseError"?(h.code===rt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new vt(rt.UNKNOWN,h.toString())}))}jo(e,i,r,o,h){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.jo(e,ad(i,r),o,d,p,h))).catch((d=>{throw d.name==="FirebaseError"?(d.code===rt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new vt(rt.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function Ox(a,e,i,r){return new Mx(a,e,i,r)}class jx{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ns(i),this.aa=!1):mt("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Va="RemoteStore";class Lx{constructor(e,i,r,o,h){this.localStore=e,this.datastore=i,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=h,this.Aa.Mo((d=>{r.enqueueAndForget((async()=>{La(this)&&(mt(Va,"Restarting streams for network reachability change."),await(async function(y){const _=Dt(y);_.Ea.add(4),await bo(_),_.Va.set("Unknown"),_.Ea.delete(4),await Ic(_)})(this))}))})),this.Va=new jx(r,o)}}async function Ic(a){if(La(a))for(const e of a.Ra)await e(!0)}async function bo(a){for(const e of a.Ra)await e(!1)}function t_(a,e){const i=Dt(a);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),zd(i)?Ld(i):Fr(i).O_()&&jd(i,e))}function Od(a,e){const i=Dt(a),r=Fr(i);i.Ia.delete(e),r.O_()&&e_(i,e),i.Ia.size===0&&(r.O_()?r.L_():La(i)&&i.Va.set("Unknown"))}function jd(a,e){if(a.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ct.min())>0){const i=a.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Fr(a).Z_(e)}function e_(a,e){a.da.$e(e),Fr(a).X_(e)}function Ld(a){a.da=new DS({getRemoteKeysForTarget:e=>a.remoteSyncer.getRemoteKeysForTarget(e),At:e=>a.Ia.get(e)||null,ht:()=>a.datastore.serializer.databaseId}),Fr(a).start(),a.Va.ua()}function zd(a){return La(a)&&!Fr(a).x_()&&a.Ia.size>0}function La(a){return Dt(a).Ea.size===0}function n_(a){a.da=void 0}async function zx(a){a.Va.set("Online")}async function kx(a){a.Ia.forEach(((e,i)=>{jd(a,e)}))}async function Ux(a,e){n_(a),zd(a)?(a.Va.ha(e),Ld(a)):a.Va.set("Unknown")}async function Bx(a,e,i){if(a.Va.set("Online"),e instanceof Uv&&e.state===2&&e.cause)try{await(async function(o,h){const d=h.cause;for(const p of h.targetIds)o.Ia.has(p)&&(await o.remoteSyncer.rejectListen(p,d),o.Ia.delete(p),o.da.removeTarget(p))})(a,e)}catch(r){mt(Va,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await gc(a,r)}else if(e instanceof tc?a.da.Xe(e):e instanceof kv?a.da.st(e):a.da.tt(e),!i.isEqual(Ct.min()))try{const r=await Jv(a.localStore);i.compareTo(r)>=0&&await(function(h,d){const p=h.da.Tt(d);return p.targetChanges.forEach(((y,_)=>{if(y.resumeToken.approximateByteSize()>0){const S=h.Ia.get(_);S&&h.Ia.set(_,S.withResumeToken(y.resumeToken,d))}})),p.targetMismatches.forEach(((y,_)=>{const S=h.Ia.get(y);if(!S)return;h.Ia.set(y,S.withResumeToken(en.EMPTY_BYTE_STRING,S.snapshotVersion)),e_(h,y);const x=new Us(S.target,y,_,S.sequenceNumber);jd(h,x)})),h.remoteSyncer.applyRemoteEvent(p)})(a,i)}catch(r){mt(Va,"Failed to raise snapshot:",r),await gc(a,r)}}async function gc(a,e,i){if(!Hr(e))throw e;a.Ea.add(1),await bo(a),a.Va.set("Offline"),i||(i=()=>Jv(a.localStore)),a.asyncQueue.enqueueRetryable((async()=>{mt(Va,"Retrying IndexedDB access"),await i(),a.Ea.delete(1),await Ic(a)}))}function i_(a,e){return e().catch((i=>gc(a,i,e)))}async function Nc(a){const e=Dt(a),i=Xs(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Ed;for(;Px(e);)try{const o=await Ex(e.localStore,r);if(o===null){e.Ta.length===0&&i.L_();break}r=o.batchId,qx(e,o)}catch(o){await gc(e,o)}s_(e)&&a_(e)}function Px(a){return La(a)&&a.Ta.length<10}function qx(a,e){a.Ta.push(e);const i=Xs(a);i.O_()&&i.Y_&&i.ea(e.mutations)}function s_(a){return La(a)&&!Xs(a).x_()&&a.Ta.length>0}function a_(a){Xs(a).start()}async function Hx(a){Xs(a).ra()}async function Fx(a){const e=Xs(a);for(const i of a.Ta)e.ea(i.mutations)}async function Gx(a,e,i){const r=a.Ta.shift(),o=Cd.from(r,e,i);await i_(a,(()=>a.remoteSyncer.applySuccessfulWrite(o))),await Nc(a)}async function Qx(a,e){e&&Xs(a).Y_&&await(async function(r,o){if((function(d){return wS(d)&&d!==rt.ABORTED})(o.code)){const h=r.Ta.shift();Xs(r).B_(),await i_(r,(()=>r.remoteSyncer.rejectFailedWrite(h.batchId,o))),await Nc(r)}})(a,e),s_(a)&&a_(a)}async function x0(a,e){const i=Dt(a);i.asyncQueue.verifyOperationInProgress(),mt(Va,"RemoteStore received new credentials");const r=La(i);i.Ea.add(3),await bo(i),r&&i.Va.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await Ic(i)}async function Yx(a,e){const i=Dt(a);e?(i.Ea.delete(2),await Ic(i)):e||(i.Ea.add(2),await bo(i),i.Va.set("Unknown"))}function Fr(a){return a.ma||(a.ma=(function(i,r,o){const h=Dt(i);return h.sa(),new Ix(r,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,o)})(a.datastore,a.asyncQueue,{Zo:zx.bind(null,a),Yo:kx.bind(null,a),t_:Ux.bind(null,a),J_:Bx.bind(null,a)}),a.Ra.push((async e=>{e?(a.ma.B_(),zd(a)?Ld(a):a.Va.set("Unknown")):(await a.ma.stop(),n_(a))}))),a.ma}function Xs(a){return a.fa||(a.fa=(function(i,r,o){const h=Dt(i);return h.sa(),new Nx(r,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,o)})(a.datastore,a.asyncQueue,{Zo:()=>Promise.resolve(),Yo:Hx.bind(null,a),t_:Qx.bind(null,a),ta:Fx.bind(null,a),na:Gx.bind(null,a)}),a.Ra.push((async e=>{e?(a.fa.B_(),await Nc(a)):(await a.fa.stop(),a.Ta.length>0&&(mt(Va,`Stopping write stream with ${a.Ta.length} pending writes`),a.Ta=[]))}))),a.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kd{constructor(e,i,r,o,h){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=r,this.op=o,this.removalCallback=h,this.deferred=new Hs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,r,o,h){const d=Date.now()+r,p=new kd(e,i,d,o,h);return p.start(r),p}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new vt(rt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ud(a,e){if(ns("AsyncQueue",`${e}: ${a}`),Hr(a))return new vt(rt.UNAVAILABLE,`${e}: ${a}`);throw a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr{static emptySet(e){return new Nr(e.comparator)}constructor(e){this.comparator=e?(i,r)=>e(i,r)||St.comparator(i.key,r.key):(i,r)=>St.comparator(i.key,r.key),this.keyedMap=Xl(),this.sortedSet=new ve(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,r)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof Nr)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,h=r.getNext().key;if(!o.isEqual(h))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const r=new Nr;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=i,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A0{constructor(){this.ga=new ve(St.comparator)}track(e){const i=e.doc.key,r=this.ga.get(i);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(i,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(i,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(i):e.type===1&&r.type===2?this.ga=this.ga.insert(i,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):At(63341,{Vt:e,pa:r}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,r)=>{e.push(r)})),e}}class Ur{constructor(e,i,r,o,h,d,p,y,_){this.query=e,this.docs=i,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=h,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=y,this.hasCachedResults=_}static fromInitialDocuments(e,i,r,o,h){const d=[];return i.forEach((p=>{d.push({type:0,doc:p})})),new Ur(e,i,Nr.emptySet(i),d,r,o,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&xc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,r=e.docChanges;if(i.length!==r.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==r[o].type||!i[o].doc.isEqual(r[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kx{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class Xx{constructor(){this.queries=w0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,r){const o=Dt(i),h=o.queries;o.queries=w0(),h.forEach(((d,p)=>{for(const y of p.ba)y.onError(r)}))})(this,new vt(rt.ABORTED,"Firestore shutting down"))}}function w0(){return new Oa((a=>xv(a)),xc)}async function r_(a,e){const i=Dt(a);let r=3;const o=e.query;let h=i.queries.get(o);h?!h.Sa()&&e.Da()&&(r=2):(h=new Kx,r=e.Da()?0:1);try{switch(r){case 0:h.wa=await i.onListen(o,!0);break;case 1:h.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const p=Ud(d,`Initialization of query '${wr(e.query)}' failed`);return void e.onError(p)}i.queries.set(o,h),h.ba.push(e),e.va(i.onlineState),h.wa&&e.Fa(h.wa)&&Bd(i)}async function l_(a,e){const i=Dt(a),r=e.query;let o=3;const h=i.queries.get(r);if(h){const d=h.ba.indexOf(e);d>=0&&(h.ba.splice(d,1),h.ba.length===0?o=e.Da()?0:1:!h.Sa()&&e.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(r),i.onUnlisten(r,!0);case 1:return i.queries.delete(r),i.onUnlisten(r,!1);case 2:return i.onLastRemoteStoreUnlisten(r);default:return}}function Zx(a,e){const i=Dt(a);let r=!1;for(const o of e){const h=o.query,d=i.queries.get(h);if(d){for(const p of d.ba)p.Fa(o)&&(r=!0);d.wa=o}}r&&Bd(i)}function Jx(a,e,i){const r=Dt(a),o=r.queries.get(e);if(o)for(const h of o.ba)h.onError(i);r.queries.delete(e)}function Bd(a){a.Ca.forEach((e=>{e.next()}))}var cd,C0;(C0=cd||(cd={})).Ma="default",C0.Cache="cache";class o_{constructor(e,i,r){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)o.type!==3&&r.push(o);e=new Ur(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const r=i!=="Offline";return(!this.options.Ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=Ur.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==cd.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u_{constructor(e){this.key=e}}class c_{constructor(e){this.key=e}}class $x{constructor(e,i){this.query=e,this.Za=i,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Pt(),this.mutatedKeys=Pt(),this.eu=Av(e),this.tu=new Nr(this.eu)}get nu(){return this.Za}ru(e,i){const r=i?i.iu:new A0,o=i?i.tu:this.tu;let h=i?i.mutatedKeys:this.mutatedKeys,d=o,p=!1;const y=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,_=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((S,x)=>{const C=o.get(S),j=Ac(this.query,x)?x:null,H=!!C&&this.mutatedKeys.has(C.key),it=!!j&&(j.hasLocalMutations||this.mutatedKeys.has(j.key)&&j.hasCommittedMutations);let k=!1;C&&j?C.data.isEqual(j.data)?H!==it&&(r.track({type:3,doc:j}),k=!0):this.su(C,j)||(r.track({type:2,doc:j}),k=!0,(y&&this.eu(j,y)>0||_&&this.eu(j,_)<0)&&(p=!0)):!C&&j?(r.track({type:0,doc:j}),k=!0):C&&!j&&(r.track({type:1,doc:C}),k=!0,(y||_)&&(p=!0)),k&&(j?(d=d.add(j),h=it?h.add(S):h.delete(S)):(d=d.delete(S),h=h.delete(S)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const S=this.query.limitType==="F"?d.last():d.first();d=d.delete(S.key),h=h.delete(S.key),r.track({type:1,doc:S})}return{tu:d,iu:r,Ss:p,mutatedKeys:h}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,r,o){const h=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((S,x)=>(function(j,H){const it=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return At(20277,{Vt:k})}};return it(j)-it(H)})(S.type,x.type)||this.eu(S.doc,x.doc))),this.ou(r),o=o??!1;const p=i&&!o?this._u():[],y=this.Ya.size===0&&this.current&&!o?1:0,_=y!==this.Xa;return this.Xa=y,d.length!==0||_?{snapshot:new Ur(this.query,e.tu,h,d,e.mutatedKeys,y===0,_,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new A0,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Za=this.Za.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Za=this.Za.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=Pt(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))}));const i=[];return e.forEach((r=>{this.Ya.has(r)||i.push(new c_(r))})),this.Ya.forEach((r=>{e.has(r)||i.push(new u_(r))})),i}cu(e){this.Za=e.ks,this.Ya=Pt();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return Ur.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const Pd="SyncEngine";class Wx{constructor(e,i,r){this.query=e,this.targetId=i,this.view=r}}class t2{constructor(e){this.key=e,this.hu=!1}}class e2{constructor(e,i,r,o,h,d){this.localStore=e,this.remoteStore=i,this.eventManager=r,this.sharedClientState=o,this.currentUser=h,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Oa((p=>xv(p)),xc),this.Iu=new Map,this.Eu=new Set,this.Ru=new ve(St.comparator),this.Au=new Map,this.Vu=new Id,this.du={},this.mu=new Map,this.fu=kr.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function n2(a,e,i=!0){const r=p_(a);let o;const h=r.Tu.get(e);return h?(r.sharedClientState.addLocalQueryTarget(h.targetId),o=h.view.lu()):o=await h_(r,e,i,!0),o}async function i2(a,e){const i=p_(a);await h_(i,e,!0,!1)}async function h_(a,e,i,r){const o=await Tx(a.localStore,Di(e)),h=o.targetId,d=a.sharedClientState.addLocalQueryTarget(h,i);let p;return r&&(p=await s2(a,e,h,d==="current",o.resumeToken)),a.isPrimaryClient&&i&&t_(a.remoteStore,o),p}async function s2(a,e,i,r,o){a.pu=(x,C,j)=>(async function(it,k,X,et){let ot=k.view.ru(X);ot.Ss&&(ot=await _0(it.localStore,k.query,!1).then((({documents:I})=>k.view.ru(I,ot))));const ct=et&&et.targetChanges.get(k.targetId),Tt=et&&et.targetMismatches.get(k.targetId)!=null,wt=k.view.applyChanges(ot,it.isPrimaryClient,ct,Tt);return D0(it,k.targetId,wt.au),wt.snapshot})(a,x,C,j);const h=await _0(a.localStore,e,!0),d=new $x(e,h.ks),p=d.ru(h.documents),y=_o.createSynthesizedTargetChangeForCurrentChange(i,r&&a.onlineState!=="Offline",o),_=d.applyChanges(p,a.isPrimaryClient,y);D0(a,i,_.au);const S=new Wx(e,i,d);return a.Tu.set(e,S),a.Iu.has(i)?a.Iu.get(i).push(e):a.Iu.set(i,[e]),_.snapshot}async function a2(a,e,i){const r=Dt(a),o=r.Tu.get(e),h=r.Iu.get(o.targetId);if(h.length>1)return r.Iu.set(o.targetId,h.filter((d=>!xc(d,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await od(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),i&&Od(r.remoteStore,o.targetId),hd(r,o.targetId)})).catch(qr)):(hd(r,o.targetId),await od(r.localStore,o.targetId,!0))}async function r2(a,e){const i=Dt(a),r=i.Tu.get(e),o=i.Iu.get(r.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(r.targetId),Od(i.remoteStore,r.targetId))}async function l2(a,e,i){const r=m2(a);try{const o=await(function(d,p){const y=Dt(d),_=de.now(),S=p.reduce(((j,H)=>j.add(H.key)),Pt());let x,C;return y.persistence.runTransaction("Locally write mutations","readwrite",(j=>{let H=is(),it=Pt();return y.xs.getEntries(j,S).next((k=>{H=k,H.forEach(((X,et)=>{et.isValidDocument()||(it=it.add(X))}))})).next((()=>y.localDocuments.getOverlayedDocuments(j,H))).next((k=>{x=k;const X=[];for(const et of p){const ot=ES(et,x.get(et.key).overlayedDocument);ot!=null&&X.push(new ja(et.key,ot,yv(ot.value.mapValue),ts.exists(!0)))}return y.mutationQueue.addMutationBatch(j,_,X,p)})).next((k=>{C=k;const X=k.applyToLocalDocumentSet(x,it);return y.documentOverlayCache.saveOverlays(j,k.batchId,X)}))})).then((()=>({batchId:C.batchId,changes:Cv(x)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),(function(d,p,y){let _=d.du[d.currentUser.toKey()];_||(_=new ve(Bt)),_=_.insert(p,y),d.du[d.currentUser.toKey()]=_})(r,o.batchId,i),await Eo(r,o.changes),await Nc(r.remoteStore)}catch(o){const h=Ud(o,"Failed to persist write");i.reject(h)}}async function f_(a,e){const i=Dt(a);try{const r=await _x(i.localStore,e);e.targetChanges.forEach(((o,h)=>{const d=i.Au.get(h);d&&(Wt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?Wt(d.hu,14607):o.removedDocuments.size>0&&(Wt(d.hu,42227),d.hu=!1))})),await Eo(i,r,e)}catch(r){await qr(r)}}function R0(a,e,i){const r=Dt(a);if(r.isPrimaryClient&&i===0||!r.isPrimaryClient&&i===1){const o=[];r.Tu.forEach(((h,d)=>{const p=d.view.va(e);p.snapshot&&o.push(p.snapshot)})),(function(d,p){const y=Dt(d);y.onlineState=p;let _=!1;y.queries.forEach(((S,x)=>{for(const C of x.ba)C.va(p)&&(_=!0)})),_&&Bd(y)})(r.eventManager,e),o.length&&r.Pu.J_(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function o2(a,e,i){const r=Dt(a);r.sharedClientState.updateQueryState(e,"rejected",i);const o=r.Au.get(e),h=o&&o.key;if(h){let d=new ve(St.comparator);d=d.insert(h,rn.newNoDocument(h,Ct.min()));const p=Pt().add(h),y=new Rc(Ct.min(),new Map,new ve(Bt),d,p);await f_(r,y),r.Ru=r.Ru.remove(h),r.Au.delete(e),qd(r)}else await od(r.localStore,e,!1).then((()=>hd(r,e,i))).catch(qr)}async function u2(a,e){const i=Dt(a),r=e.batch.batchId;try{const o=await vx(i.localStore,e);m_(i,r,null),d_(i,r),i.sharedClientState.updateMutationState(r,"acknowledged"),await Eo(i,o)}catch(o){await qr(o)}}async function c2(a,e,i){const r=Dt(a);try{const o=await(function(d,p){const y=Dt(d);return y.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let S;return y.mutationQueue.lookupMutationBatch(_,p).next((x=>(Wt(x!==null,37113),S=x.keys(),y.mutationQueue.removeMutationBatch(_,x)))).next((()=>y.mutationQueue.performConsistencyCheck(_))).next((()=>y.documentOverlayCache.removeOverlaysForBatchId(_,S,p))).next((()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,S))).next((()=>y.localDocuments.getDocuments(_,S)))}))})(r.localStore,e);m_(r,e,i),d_(r,e),r.sharedClientState.updateMutationState(e,"rejected",i),await Eo(r,o)}catch(o){await qr(o)}}function d_(a,e){(a.mu.get(e)||[]).forEach((i=>{i.resolve()})),a.mu.delete(e)}function m_(a,e,i){const r=Dt(a);let o=r.du[r.currentUser.toKey()];if(o){const h=o.get(e);h&&(i?h.reject(i):h.resolve(),o=o.remove(e)),r.du[r.currentUser.toKey()]=o}}function hd(a,e,i=null){a.sharedClientState.removeLocalQueryTarget(e);for(const r of a.Iu.get(e))a.Tu.delete(r),i&&a.Pu.yu(r,i);a.Iu.delete(e),a.isPrimaryClient&&a.Vu.Gr(e).forEach((r=>{a.Vu.containsKey(r)||g_(a,r)}))}function g_(a,e){a.Eu.delete(e.path.canonicalString());const i=a.Ru.get(e);i!==null&&(Od(a.remoteStore,i),a.Ru=a.Ru.remove(e),a.Au.delete(i),qd(a))}function D0(a,e,i){for(const r of i)r instanceof u_?(a.Vu.addReference(r.key,e),h2(a,r)):r instanceof c_?(mt(Pd,"Document no longer in limbo: "+r.key),a.Vu.removeReference(r.key,e),a.Vu.containsKey(r.key)||g_(a,r.key)):At(19791,{wu:r})}function h2(a,e){const i=e.key,r=i.path.canonicalString();a.Ru.get(i)||a.Eu.has(r)||(mt(Pd,"New document in limbo: "+i),a.Eu.add(r),qd(a))}function qd(a){for(;a.Eu.size>0&&a.Ru.size<a.maxConcurrentLimboResolutions;){const e=a.Eu.values().next().value;a.Eu.delete(e);const i=new St(ye.fromString(e)),r=a.fu.next();a.Au.set(r,new t2(i)),a.Ru=a.Ru.insert(i,r),t_(a.remoteStore,new Us(Di(Sc(i.path)),r,"TargetPurposeLimboResolution",_c.ce))}}async function Eo(a,e,i){const r=Dt(a),o=[],h=[],d=[];r.Tu.isEmpty()||(r.Tu.forEach(((p,y)=>{d.push(r.pu(y,e,i).then((_=>{var S;if((_||i)&&r.isPrimaryClient){const x=_?!_.fromCache:(S=i==null?void 0:i.targetChanges.get(y.targetId))==null?void 0:S.current;r.sharedClientState.updateQueryState(y.targetId,x?"current":"not-current")}if(_){o.push(_);const x=Vd.Es(y.targetId,_);h.push(x)}})))})),await Promise.all(d),r.Pu.J_(o),await(async function(y,_){const S=Dt(y);try{await S.persistence.runTransaction("notifyLocalViewChanges","readwrite",(x=>st.forEach(_,(C=>st.forEach(C.Ts,(j=>S.persistence.referenceDelegate.addReference(x,C.targetId,j))).next((()=>st.forEach(C.Is,(j=>S.persistence.referenceDelegate.removeReference(x,C.targetId,j)))))))))}catch(x){if(!Hr(x))throw x;mt(Md,"Failed to update sequence numbers: "+x)}for(const x of _){const C=x.targetId;if(!x.fromCache){const j=S.vs.get(C),H=j.snapshotVersion,it=j.withLastLimboFreeSnapshotVersion(H);S.vs=S.vs.insert(C,it)}}})(r.localStore,h))}async function f2(a,e){const i=Dt(a);if(!i.currentUser.isEqual(e)){mt(Pd,"User change. New user:",e.toKey());const r=await Zv(i.localStore,e);i.currentUser=e,(function(h,d){h.mu.forEach((p=>{p.forEach((y=>{y.reject(new vt(rt.CANCELLED,d))}))})),h.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Eo(i,r.Ns)}}function d2(a,e){const i=Dt(a),r=i.Au.get(e);if(r&&r.hu)return Pt().add(r.key);{let o=Pt();const h=i.Iu.get(e);if(!h)return o;for(const d of h){const p=i.Tu.get(d);o=o.unionWith(p.view.nu)}return o}}function p_(a){const e=Dt(a);return e.remoteStore.remoteSyncer.applyRemoteEvent=f_.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=d2.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=o2.bind(null,e),e.Pu.J_=Zx.bind(null,e.eventManager),e.Pu.yu=Jx.bind(null,e.eventManager),e}function m2(a){const e=Dt(a);return e.remoteStore.remoteSyncer.applySuccessfulWrite=u2.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=c2.bind(null,e),e}class pc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Dc(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return yx(this.persistence,new mx,e.initialUser,this.serializer)}Cu(e){return new Xv(Nd.Vi,this.serializer)}Du(e){return new xx}async terminate(){var e,i;(e=this.gcScheduler)==null||e.stop(),(i=this.indexBackfillerScheduler)==null||i.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}pc.provider={build:()=>new pc};class g2 extends pc{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){Wt(this.persistence.referenceDelegate instanceof mc,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new WS(r,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?_n.withCacheSize(this.cacheSizeBytes):_n.DEFAULT;return new Xv((r=>mc.Vi(r,i)),this.serializer)}}class fd{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>R0(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=f2.bind(null,this.syncEngine),await Yx(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new Xx})()}createDatastore(e){const i=Dc(e.databaseInfo.databaseId),r=Dx(e.databaseInfo);return Ox(e.authCredentials,e.appCheckCredentials,r,i)}createRemoteStore(e){return(function(r,o,h,d,p){return new Lx(r,o,h,d,p)})(this.localStore,this.datastore,e.asyncQueue,(i=>R0(this.syncEngine,i,0)),(function(){return T0.v()?new T0:new Ax})())}createSyncEngine(e,i){return(function(o,h,d,p,y,_,S){const x=new e2(o,h,d,p,y,_);return S&&(x.gu=!0),x})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){var e,i;await(async function(o){const h=Dt(o);mt(Va,"RemoteStore shutting down."),h.Ea.add(5),await bo(h),h.Aa.shutdown(),h.Va.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(i=this.eventManager)==null||i.terminate()}}fd.provider={build:()=>new fd};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y_{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ns("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zs="FirestoreClient";class p2{constructor(e,i,r,o,h){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=r,this._databaseInfo=o,this.user=an.UNAUTHENTICATED,this.clientId=_d.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(r,(async d=>{mt(Zs,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(r,(d=>(mt(Zs,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Hs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const r=Ud(i,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Gf(a,e){a.asyncQueue.verifyOperationInProgress(),mt(Zs,"Initializing OfflineComponentProvider");const i=a.configuration;await e.initialize(i);let r=i.initialUser;a.setCredentialChangeListener((async o=>{r.isEqual(o)||(await Zv(e.localStore,o),r=o)})),e.persistence.setDatabaseDeletedListener((()=>a.terminate())),a._offlineComponents=e}async function I0(a,e){a.asyncQueue.verifyOperationInProgress();const i=await y2(a);mt(Zs,"Initializing OnlineComponentProvider"),await e.initialize(i,a.configuration),a.setCredentialChangeListener((r=>x0(e.remoteStore,r))),a.setAppCheckTokenChangeListener(((r,o)=>x0(e.remoteStore,o))),a._onlineComponents=e}async function y2(a){if(!a._offlineComponents)if(a._uninitializedComponentsProvider){mt(Zs,"Using user provided OfflineComponentProvider");try{await Gf(a,a._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(o){return o.name==="FirebaseError"?o.code===rt.FAILED_PRECONDITION||o.code===rt.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;Or("Error using user provided cache. Falling back to memory cache: "+i),await Gf(a,new pc)}}else mt(Zs,"Using default OfflineComponentProvider"),await Gf(a,new g2(void 0));return a._offlineComponents}async function v_(a){return a._onlineComponents||(a._uninitializedComponentsProvider?(mt(Zs,"Using user provided OnlineComponentProvider"),await I0(a,a._uninitializedComponentsProvider._online)):(mt(Zs,"Using default OnlineComponentProvider"),await I0(a,new fd))),a._onlineComponents}function v2(a){return v_(a).then((e=>e.syncEngine))}async function dd(a){const e=await v_(a),i=e.eventManager;return i.onListen=n2.bind(null,e.syncEngine),i.onUnlisten=a2.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=i2.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=r2.bind(null,e.syncEngine),i}function _2(a,e,i,r){const o=new y_(r),h=new o_(e,o,i);return a.asyncQueue.enqueueAndForget((async()=>r_(await dd(a),h))),()=>{o.Nu(),a.asyncQueue.enqueueAndForget((async()=>l_(await dd(a),h)))}}function b2(a,e,i={}){const r=new Hs;return a.asyncQueue.enqueueAndForget((async()=>(function(h,d,p,y,_){const S=new y_({next:C=>{S.Nu(),d.enqueueAndForget((()=>l_(h,x)));const j=C.docs.has(p);!j&&C.fromCache?_.reject(new vt(rt.UNAVAILABLE,"Failed to get document because the client is offline.")):j&&C.fromCache&&y&&y.source==="server"?_.reject(new vt(rt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(C)},error:C=>_.reject(C)}),x=new o_(Sc(p.path),S,{includeMetadataChanges:!0,Ka:!0});return r_(h,x)})(await dd(a),a.asyncQueue,e,i,r))),r.promise}function E2(a,e){const i=new Hs;return a.asyncQueue.enqueueAndForget((async()=>l2(await v2(a),e,i))),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __(a){const e={};return a.timeoutSeconds!==void 0&&(e.timeoutSeconds=a.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T2="ComponentProvider",N0=new Map;function S2(a,e,i,r,o){return new qT(a,e,i,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,__(o.experimentalLongPollingOptions),o.useFetchStreams,o.isUsingEmulator,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b_="firestore.googleapis.com",V0=!0;class M0{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new vt(rt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=b_,this.ssl=V0}else this.host=e.host,this.ssl=e.ssl??V0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Kv;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<JS)throw new vt(rt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}NT("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=__(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new vt(rt.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new vt(rt.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new vt(rt.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Hd{constructor(e,i,r,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new M0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new vt(rt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new vt(rt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new M0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new bT;switch(r.type){case"firstParty":return new xT(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new vt(rt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const r=N0.get(i);r&&(mt(T2,"Removing Datastore"),N0.delete(i),r.terminate())})(this),Promise.resolve()}}function x2(a,e,i,r={}){var _;a=Fs(a,Hd);const o=pd(e),h=a._getSettings(),d={...h,emulatorOptions:a._getEmulatorOptions()},p=`${e}:${i}`;o&&(KE(`https://${p}`),$E("Firestore",!0)),h.host!==b_&&h.host!==p&&Or("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...h,host:p,ssl:o,emulatorOptions:r};if(!sc(y,d)&&(a._setSettings(y),r.mockUserToken)){let S,x;if(typeof r.mockUserToken=="string")S=r.mockUserToken,x=an.MOCK_USER;else{S=XE(r.mockUserToken,(_=a._app)==null?void 0:_.options.projectId);const C=r.mockUserToken.sub||r.mockUserToken.user_id;if(!C)throw new vt(rt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");x=new an(C)}a._authCredentials=new ET(new rv(S,x))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vc{constructor(e,i,r){this.converter=i,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Vc(this.firestore,e,this._query)}}class Pe{constructor(e,i,r){this.converter=i,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new go(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Pe(this.firestore,e,this._key)}toJSON(){return{type:Pe._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,r){if(yo(i,Pe._jsonSchema))return new Pe(e,r||null,new St(ye.fromString(i.referencePath)))}}Pe._jsonSchemaVersion="firestore/documentReference/1.0",Pe._jsonSchema={type:ke("string",Pe._jsonSchemaVersion),referencePath:ke("string")};class go extends Vc{constructor(e,i,r){super(e,i,Sc(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Pe(this.firestore,null,new St(e))}withConverter(e){return new go(this.firestore,e,this._path)}}function Fd(a,e,...i){if(a=so(a),arguments.length===1&&(e=_d.newId()),IT("doc","path",e),a instanceof Hd){const r=ye.fromString(e,...i);return Yy(r),new Pe(a,null,new St(r))}{if(!(a instanceof Pe||a instanceof go))throw new vt(rt.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=a._path.child(ye.fromString(e,...i));return Yy(r),new Pe(a.firestore,a instanceof go?a.converter:null,new St(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O0="AsyncQueue";class j0{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new $v(this,"async_queue_retry"),this._c=()=>{const r=Ff();r&&mt(O0,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const i=Ff();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=Ff();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Hs;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!Hr(e))throw e;mt(O0,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,ns("INTERNAL UNHANDLED ERROR: ",L0(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=i,i}enqueueAfterDelay(e,i,r){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const o=kd.createAndSchedule(this,e,i,r,(h=>this.hc(h)));return this.tc.push(o),o}uc(){this.nc&&At(47125,{Pc:L0(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,r)=>i.targetTimeMs-r.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function L0(a){let e=a.message||"";return a.stack&&(e=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),e}class po extends Hd{constructor(e,i,r,o){super(e,i,r,o),this.type="firestore",this._queue=new j0,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new j0(e),this._firestoreClient=void 0,await e}}}function A2(a,e){const i=typeof a=="object"?a:oT(),r=typeof a=="string"?a:oc,o=iT(i,"firestore").getImmediate({identifier:r});if(!o._initialized){const h=QE("firestore");h&&x2(o,...h)}return o}function Gd(a){if(a._terminated)throw new vt(rt.FAILED_PRECONDITION,"The client has already been terminated.");return a._firestoreClient||w2(a),a._firestoreClient}function w2(a){var r,o,h,d;const e=a._freezeSettings(),i=S2(a._databaseId,((r=a._app)==null?void 0:r.options.appId)||"",a._persistenceKey,(o=a._app)==null?void 0:o.options.apiKey,e);a._componentsProvider||(h=e.localCache)!=null&&h._offlineComponentProvider&&((d=e.localCache)!=null&&d._onlineComponentProvider)&&(a._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),a._firestoreClient=new p2(a._authCredentials,a._appCheckCredentials,a._queue,i,a._componentsProvider&&(function(y){const _=y==null?void 0:y._online.build();return{_offline:y==null?void 0:y._offline.build(_),_online:_}})(a._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Gn(en.fromBase64String(e))}catch(i){throw new vt(rt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new Gn(en.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Gn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(yo(e,Gn._jsonSchema))return Gn.fromBase64String(e.bytes)}}Gn._jsonSchemaVersion="firestore/bytes/1.0",Gn._jsonSchema={type:ke("string",Gn._jsonSchemaVersion),bytes:ke("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E_{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new vt(rt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new tn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qd{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new vt(rt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new vt(rt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Bt(this._lat,e._lat)||Bt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ni._jsonSchemaVersion}}static fromJSON(e){if(yo(e,Ni._jsonSchema))return new Ni(e.latitude,e.longitude)}}Ni._jsonSchemaVersion="firestore/geoPoint/1.0",Ni._jsonSchema={type:ke("string",Ni._jsonSchemaVersion),latitude:ke("number"),longitude:ke("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ai{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,o){if(r.length!==o.length)return!1;for(let h=0;h<r.length;++h)if(r[h]!==o[h])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ai._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(yo(e,ai._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new ai(e.vectorValues);throw new vt(rt.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ai._jsonSchemaVersion="firestore/vectorValue/1.0",ai._jsonSchema={type:ke("string",ai._jsonSchemaVersion),vectorValues:ke("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C2=/^__.*__$/;class R2{constructor(e,i,r){this.data=e,this.fieldMask=i,this.fieldTransforms=r}toMutation(e,i){return this.fieldMask!==null?new ja(e,this.data,this.fieldMask,i,this.fieldTransforms):new vo(e,this.data,i,this.fieldTransforms)}}function T_(a){switch(a){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw At(40011,{dataSource:a})}}class Yd{constructor(e,i,r,o,h,d){this.settings=e,this.databaseId=i,this.serializer=r,this.ignoreUndefinedProperties=o,h===void 0&&this.validatePath(),this.fieldTransforms=h||[],this.fieldMask=d||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new Yd({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){var o;const i=(o=this.path)==null?void 0:o.child(e),r=this.contextWith({path:i,arrayElement:!1});return r.validatePathSegment(e),r}childContextForFieldPath(e){var o;const i=(o=this.path)==null?void 0:o.child(e),r=this.contextWith({path:i,arrayElement:!1});return r.validatePath(),r}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return yc(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(T_(this.dataSource)&&C2.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class D2{constructor(e,i,r){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=r||Dc(e)}createContext(e,i,r,o=!1){return new Yd({dataSource:e,methodName:i,targetDoc:r,path:tn.emptyPath(),arrayElement:!1,hasConverter:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function I2(a){const e=a._freezeSettings(),i=Dc(a._databaseId);return new D2(a._databaseId,!!e.ignoreUndefinedProperties,i)}function N2(a,e,i,r,o,h={}){const d=a.createContext(h.merge||h.mergeFields?2:0,e,i,o);w_("Data must be an object, but it was:",d,r);const p=x_(r,d);let y,_;if(h.merge)y=new si(d.fieldMask),_=d.fieldTransforms;else if(h.mergeFields){const S=[];for(const x of h.mergeFields){const C=Xd(e,x,i);if(!d.contains(C))throw new vt(rt.INVALID_ARGUMENT,`Field '${C}' is specified in your field mask but missing from your input data.`);O2(S,C)||S.push(C)}y=new si(S),_=d.fieldTransforms.filter((x=>y.covers(x.field)))}else y=null,_=d.fieldTransforms;return new R2(new Fn(p),y,_)}class Kd extends Qd{_toFieldTransform(e){return new yS(e.path,new ho)}isEqual(e){return e instanceof Kd}}function S_(a,e){if(A_(a=so(a)))return w_("Unsupported field value:",e,a),x_(a,e);if(a instanceof Qd)return(function(r,o){if(!T_(o.dataSource))throw o.createError(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.createError(`${r._methodName}() is not currently supported inside arrays`);const h=r._toFieldTransform(o);h&&o.fieldTransforms.push(h)})(a,e),null;if(a===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),a instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(r,o){const h=[];let d=0;for(const p of r){let y=S_(p,o.childContextForArray(d));y==null&&(y={nullValue:"NULL_VALUE"}),h.push(y),d++}return{arrayValue:{values:h}}})(a,e)}return(function(r,o){if((r=so(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return mS(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const h=de.fromDate(r);return{timestampValue:dc(o.serializer,h)}}if(r instanceof de){const h=new de(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:dc(o.serializer,h)}}if(r instanceof Ni)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Gn)return{bytesValue:Bv(o.serializer,r._byteString)};if(r instanceof Pe){const h=o.databaseId,d=r.firestore._databaseId;if(!d.isEqual(h))throw o.createError(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:Dd(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof ai)return(function(d,p){const y=d instanceof ai?d.toArray():d;return{mapValue:{fields:{[gv]:{stringValue:pv},[uc]:{arrayValue:{values:y.map((S=>{if(typeof S!="number")throw p.createError("VectorValues must only contain numeric values.");return wd(p.serializer,S)}))}}}}}})(r,o);if(Yv(r))return r._toProto(o.serializer);throw o.createError(`Unsupported field value: ${bd(r)}`)})(a,e)}function x_(a,e){const i={};return uv(a)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ma(a,((r,o)=>{const h=S_(o,e.childContextForField(r));h!=null&&(i[r]=h)})),{mapValue:{fields:i}}}function A_(a){return!(typeof a!="object"||a===null||a instanceof Array||a instanceof Date||a instanceof de||a instanceof Ni||a instanceof Gn||a instanceof Pe||a instanceof Qd||a instanceof ai||Yv(a))}function w_(a,e,i){if(!A_(i)||!lv(i)){const r=bd(i);throw r==="an object"?e.createError(a+" a custom object"):e.createError(a+" "+r)}}function Xd(a,e,i){if((e=so(e))instanceof E_)return e._internalPath;if(typeof e=="string")return M2(a,e);throw yc("Field path arguments must be of type string or ",a,!1,void 0,i)}const V2=new RegExp("[~\\*/\\[\\]]");function M2(a,e,i){if(e.search(V2)>=0)throw yc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,a,!1,void 0,i);try{return new E_(...e.split("."))._internalPath}catch{throw yc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,a,!1,void 0,i)}}function yc(a,e,i,r,o){const h=r&&!r.isEmpty(),d=o!==void 0;let p=`Function ${e}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let y="";return(h||d)&&(y+=" (found",h&&(y+=` in field ${r}`),d&&(y+=` in document ${o}`),y+=")"),new vt(rt.INVALID_ARGUMENT,p+a+y)}function O2(a,e){return a.some((i=>i.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j2{convertValue(e,i="none"){switch(Ks(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ce(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(Ys(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw At(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const r={};return Ma(e,((o,h)=>{r[o]=this.convertValue(h,i)})),r}convertVectorValue(e){var r,o,h;const i=(h=(o=(r=e.fields)==null?void 0:r[uc].arrayValue)==null?void 0:o.values)==null?void 0:h.map((d=>Ce(d.doubleValue)));return new ai(i)}convertGeoPoint(e){return new Ni(Ce(e.latitude),Ce(e.longitude))}convertArray(e,i){return(e.values||[]).map((r=>this.convertValue(r,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const r=Ec(e);return r==null?null:this.convertValue(r,i);case"estimate":return this.convertTimestamp(oo(e));default:return null}}convertTimestamp(e){const i=Qs(e);return new de(i.seconds,i.nanos)}convertDocumentKey(e,i){const r=ye.fromString(e);Wt(Qv(r),9688,{name:e});const o=new uo(r.get(1),r.get(3)),h=new St(r.popFirst(5));return o.isEqual(i)||ns(`Document ${h} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),h}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C_ extends j2{constructor(e){super(),this.firestore=e}convertBytes(e){return new Gn(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new Pe(this.firestore,null,i)}}function L2(){return new Kd("serverTimestamp")}const z0="@firebase/firestore",k0="4.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U0(a){return(function(i,r){if(typeof i!="object"||i===null)return!1;const o=i;for(const h of r)if(h in o&&typeof o[h]=="function")return!0;return!1})(a,["next","error","complete"])}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R_{constructor(e,i,r,o,h){this._firestore=e,this._userDataWriter=i,this._key=r,this._document=o,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new Pe(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new z2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){var e;return((e=this._document)==null?void 0:e.data.clone().value.mapValue.fields)??void 0}get(e){if(this._document){const i=this._document.data.field(Xd("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class z2 extends R_{data(){return super.data()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k2(a){if(a.limitType==="L"&&a.explicitOrderBy.length===0)throw new vt(rt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}function U2(a,e,i){let r;return r=a?i&&(i.merge||i.mergeFields)?a.toFirestore(e,i):a.toFirestore(e):e,r}class Jl{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ia extends R_{constructor(e,i,r,o,h,d){super(e,i,r,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=h}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new ec(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const r=this._document.data.field(Xd("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new vt(rt.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=Ia._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Ia._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ia._jsonSchema={type:ke("string",Ia._jsonSchemaVersion),bundleSource:ke("string","DocumentSnapshot"),bundleName:ke("string"),bundle:ke("string")};class ec extends Ia{data(e={}){return super.data(e)}}class Vr{constructor(e,i,r,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new Jl(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((r=>{e.call(i,new ec(this._firestore,this._userDataWriter,r.key,r,new Jl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new vt(rt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,h){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((p=>{const y=new ec(o._firestore,o._userDataWriter,p.doc.key,p.doc,new Jl(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);return p.doc,{type:"added",doc:y,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((p=>h||p.type!==3)).map((p=>{const y=new ec(o._firestore,o._userDataWriter,p.doc.key,p.doc,new Jl(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let _=-1,S=-1;return p.type!==0&&(_=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),S=d.indexOf(p.doc.key)),{type:B2(p.type),doc:y,oldIndex:_,newIndex:S}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new vt(rt.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Vr._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=_d.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],r=[],o=[];return this.docs.forEach((h=>{h._document!==null&&(i.push(h._document),r.push(this._userDataWriter.convertObjectMap(h._document.data.value.mapValue.fields,"previous")),o.push(h.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function B2(a){switch(a){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return At(61501,{type:a})}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Vr._jsonSchemaVersion="firestore/querySnapshot/1.0",Vr._jsonSchema={type:ke("string",Vr._jsonSchemaVersion),bundleSource:ke("string","QuerySnapshot"),bundleName:ke("string"),bundle:ke("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P2(a){a=Fs(a,Pe);const e=Fs(a.firestore,po),i=Gd(e);return b2(i,a._key).then((r=>D_(e,a,r)))}function q2(a,e,i){a=Fs(a,Pe);const r=Fs(a.firestore,po),o=U2(a.converter,e,i),h=I2(r);return F2(r,[N2(h,"setDoc",a._key,o,a.converter!==null,i).toMutation(a._key,ts.none())])}function H2(a,...e){var _,S,x;a=so(a);let i={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||U0(e[r])||(i=e[r++]);const o={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(U0(e[r])){const C=e[r];e[r]=(_=C.next)==null?void 0:_.bind(C),e[r+1]=(S=C.error)==null?void 0:S.bind(C),e[r+2]=(x=C.complete)==null?void 0:x.bind(C)}let h,d,p;if(a instanceof Pe)d=Fs(a.firestore,po),p=Sc(a._key.path),h={next:C=>{e[r]&&e[r](D_(d,a,C))},error:e[r+1],complete:e[r+2]};else{const C=Fs(a,Vc);d=Fs(C.firestore,po),p=C._query;const j=new C_(d);h={next:H=>{e[r]&&e[r](new Vr(d,j,C,H))},error:e[r+1],complete:e[r+2]},k2(a._query)}const y=Gd(d);return _2(y,p,o,h)}function F2(a,e){const i=Gd(a);return E2(i,e)}function D_(a,e,i){const r=i.docs.get(e._key),o=new C_(a);return new Ia(a,o,e._key,r,new Jl(i.hasPendingWrites,i.fromCache),e.converter)}(function(e,i=!0){_T(lT),rc(new ao("firestore",((r,{instanceIdentifier:o,options:h})=>{const d=r.getProvider("app").getImmediate(),p=new po(new TT(r.getProvider("auth-internal")),new AT(d,r.getProvider("app-check-internal")),HT(d,o),d);return h={useFetchStreams:i,...h},p._setSettings(h),p}),"PUBLIC").setMultipleInstances(!0)),Dr(z0,k0,e),Dr(z0,k0,"esm2020")})();var G2="firebase",Q2="12.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Dr(G2,Q2,"app");const Y2={apiKey:"AIzaSyAZBf9fUWZoXnYJyBvBGEvpiu7DbHkG5Iw",authDomain:"crm-ver2.firebaseapp.com",projectId:"crm-ver2",storageBucket:"crm-ver2.firebasestorage.app",messagingSenderId:"993359540287",appId:"1:993359540287:web:5469df3e5d22c4b480088a"},K2=Z0(Y2),Zd=A2(K2),Jd="default",$d="workspaces";function X2(a){return{...a,tabs:a.tabs.map(e=>{const i={...e};return i.inboxSection===void 0&&delete i.inboxSection,i})}}async function Z2(){try{const a=Fd(Zd,$d,Jd),e=await P2(a);if(e.exists()){const i=e.data();return{tabs:i.tabs||[],activeTabId:i.activeTabId||"",bookmarks:i.bookmarks||[]}}return null}catch(a){throw console.error("Error fetching workspace data:",a),a}}async function B0(a){try{const e=Fd(Zd,$d,Jd),i=X2(a);await q2(e,{...i,updatedAt:L2()},{merge:!0})}catch(e){throw console.error("Error saving workspace data:",e),e}}function J2(a,e){const i=Fd(Zd,$d,Jd);return H2(i,r=>{if(r.exists()){const o=r.data();a({tabs:o.tabs||[],activeTabId:o.activeTabId||"",bookmarks:o.bookmarks||[]})}},r=>{console.error("Firestore snapshot error:",r),e(r)})}function $2(a){const[e,i]=gt.useState(null),[r,o]=gt.useState(!0),[h,d]=gt.useState(null),p=gt.useRef(!1),y=gt.useRef(null);gt.useEffect(()=>{let S=null;async function x(){try{const C=await Z2();C&&C.tabs.length>0?i(C):(await B0(a),i(a)),S=J2(j=>{p.current=!0,i(j),setTimeout(()=>{p.current=!1},0)},j=>{d(j)}),o(!1)}catch(C){d(C),o(!1)}}return x(),()=>{S&&S(),y.current&&clearTimeout(y.current)}},[]);const _=gt.useCallback(async S=>{p.current||(i(S),y.current&&clearTimeout(y.current),y.current=setTimeout(async()=>{try{await B0(S)}catch(x){d(x),console.error("Failed to save to Firestore:",x)}},300))},[]);return{data:e,loading:r,error:h,updateData:_}}function W2(a){const e=gt.useRef(null),i=gt.useRef({x:0,y:0,time:0});return gt.useEffect(()=>{const r=e.current;if(!r)return;const o=d=>{i.current={x:d.touches[0].clientX,y:d.touches[0].clientY,time:Date.now()}},h=d=>{const{x:p,y,time:_}=i.current,S=d.changedTouches[0].clientX,x=d.changedTouches[0].clientY,C=Date.now(),j=S-p,H=x-y,it=C-_,k=a.minSwipeDistance??50,X=a.minSwipeVelocity??.3,et=a.maxVerticalMovement??80,ot=Math.abs(j)>Math.abs(H),ct=Math.abs(j)>k,Tt=Math.abs(H)<et,I=Math.abs(j)/it>X;ot&&ct&&Tt&&I&&(j<0&&a.onSwipeLeft?a.onSwipeLeft():j>0&&a.onSwipeRight&&a.onSwipeRight())};return r.addEventListener("touchstart",o,{passive:!0}),r.addEventListener("touchend",h,{passive:!0}),()=>{r.removeEventListener("touchstart",o),r.removeEventListener("touchend",h)}},[a]),e}const tA=[{id:"b1",label:"",url:"",color:"bg-[#B89F1F]"},{id:"b2",label:"",url:"",color:"bg-[#B89F1F]"},{id:"b3",label:"",url:"",color:"bg-[#B89F1F]"},{id:"b4",label:"",url:"",color:"bg-[#B89F1F]"},{id:"b5",label:"",url:"",color:"bg-[#0F5A9F]"},{id:"b6",label:"24",url:"",color:"bg-[#0F5A9F]"},{id:"b7",label:"",url:"",color:"bg-[#0F5A9F]"},{id:"b8",label:"",url:"",color:"bg-[#0F5A9F]"},{id:"b9",label:"",url:"",color:"bg-[#724C8F]"},{id:"b10",label:"",url:"",color:"bg-[#724C8F]"},{id:"b11",label:"",url:"",color:"bg-[#724C8F]"},{id:"b12",label:"()",url:"",color:"bg-[#724C8F]"},{id:"b13",label:"",url:"",color:"bg-[#369D47]"},{id:"b14",label:"AI",url:"",color:"bg-[#369D47]"},{id:"b15",label:"",url:"",color:"bg-[#369D47]"}],eA=()=>{var ri,ls;const a=gt.useMemo(()=>{const Q=Math.random().toString(36).substr(2,9),W=Math.random().toString(36).substr(2,9),lt=Math.random().toString(36).substr(2,9);return{tabs:[{id:Q,name:"",sections:[],memos:{},sideNotes:[],parkingInfo:{text:"",checklistItems:[],shoppingListItems:[],checklistMemos:{},shoppingListMemos:{}},inboxSection:{id:W,title:"IN-BOX",items:[],color:"slate",isLocked:!1},quotesSection:{id:lt,title:"",items:[],color:"slate",isLocked:!1},isLocked:!1,headerGoals:{goal1:"",goal2:""}}],activeTabId:Q,bookmarks:tA}},[]),{data:e,loading:i,error:r,updateData:o}=$2(a),h=gt.useMemo(()=>e?{...e,tabs:e.tabs.map((Q,W)=>({...Q,inboxSection:W===0?Q.inboxSection||{id:Math.random().toString(36).substr(2,9),title:"IN-BOX",items:[],color:"slate",isLocked:!1}:void 0,quotesSection:Q.quotesSection||{id:Math.random().toString(36).substr(2,9),title:"",items:[],color:"slate",isLocked:!1},headerGoals:Q.headerGoals||{goal1:"",goal2:""}}))}:a,[e,a]),[d,p]=gt.useState(navigator.onLine);gt.useEffect(()=>{const Q=()=>{p(!0),console.log("[App] Network restored - Firestore will auto-sync")},W=()=>{p(!1),console.log("[App] Network lost - app is now offline")};return window.addEventListener("online",Q),window.addEventListener("offline",W),()=>{window.removeEventListener("online",Q),window.removeEventListener("offline",W)}},[]);const[y,_]=gt.useState({draggedItemId:null,dragOverItemId:null,sourceSectionId:null,draggedSectionId:null,dragOverSectionId:null}),[S,x]=gt.useState({isOpen:!1,itemId:null,itemText:"",sourceTabId:"",sourceSectionId:""}),[C,j]=gt.useState({isOpen:!1,title:"",message:"",onConfirm:()=>{}}),[H,it]=gt.useState({id:null,value:"",type:"section"}),[k,X]=gt.useState(!1),[et,ot]=gt.useState(null),ct=gt.useMemo(()=>h.tabs.find(W=>W.id===h.activeTabId)||h.tabs[0],[h.tabs,h.activeTabId]),Tt=gt.useMemo(()=>h.tabs.findIndex(Q=>Q.id===h.activeTabId),[h.tabs,h.activeTabId]),wt=Q=>{o({...h,bookmarks:Q})},I=()=>{const Q=Math.random().toString(36).substr(2,9),W=Math.random().toString(36).substr(2,9),lt={id:Q,name:`  ${h.tabs.length+1}`,sections:[],memos:{},sideNotes:[],parkingInfo:{text:"",checklistItems:[],shoppingListItems:[],checklistMemos:{},shoppingListMemos:{}},quotesSection:{id:W,title:"",items:[],color:"slate",isLocked:!1},isLocked:!1,headerGoals:{goal1:"",goal2:""}};o({...h,tabs:[...h.tabs,lt],activeTabId:Q})},A=(Q,W)=>{o({...h,tabs:h.tabs.map(lt=>lt.id===Q?{...lt,name:W}:lt)})},R=Q=>{o({...h,tabs:h.tabs.map(W=>W.id===Q?{...W,isLocked:!W.isLocked}:W)})},O=(Q,W)=>{const lt=[...h.tabs],[Ot]=lt.splice(Q,1);lt.splice(W,0,Ot),o({...h,tabs:lt})},V=(Q,W)=>{var ue;let lt=ct.sections.find(Ye=>Ye.id===W);!lt&&((ue=ct.inboxSection)==null?void 0:ue.id)===W&&(lt=ct.inboxSection);const Ot=lt==null?void 0:lt.items.find(Ye=>Ye.id===Q);!Ot||!lt||x({isOpen:!0,itemId:Ot.id,itemText:Ot.text,sourceTabId:h.activeTabId,sourceSectionId:lt.id})},L=(Q,W)=>{var za,Js;const{itemId:lt,sourceTabId:Ot,sourceSectionId:ue}=S;if(!lt)return;if(Ot===Q&&ue===W){x(_t=>({..._t,isOpen:!1}));return}const Ye=h.tabs.find(_t=>_t.id===Ot);if(!Ye)return;let $t=Ye.sections.find(_t=>_t.id===ue);!$t&&((za=Ye.inboxSection)==null?void 0:za.id)===ue&&($t=Ye.inboxSection);const Re=$t==null?void 0:$t.items.find(_t=>_t.id===lt);if(!Re||!$t)return;const li=h.tabs.find(_t=>_t.id===Q);if(!li)return;let cn=li.sections.find(_t=>_t.id===W);if(!cn&&((Js=li.inboxSection)==null?void 0:Js.id)===W&&(cn=li.inboxSection),!cn)return;const Yn=Ye.memos[lt];o({...h,tabs:h.tabs.map(_t=>{var $s,hn,De,ln,me,Ws,Oi,ta,En,oi;if(Ot===Q&&_t.id===Ot){let Xt=_t.sections,Se=_t.inboxSection;return $t.id!==(($s=_t.inboxSection)==null?void 0:$s.id)&&cn.id!==((hn=_t.inboxSection)==null?void 0:hn.id)?Xt=_t.sections.map(Qt=>Qt.id===ue?{...Qt,items:Qt.items.filter(_e=>_e.id!==lt)}:Qt.id===W?{...Qt,items:[...Qt.items,Re]}:Qt):$t.id!==((De=_t.inboxSection)==null?void 0:De.id)&&cn.id===((ln=_t.inboxSection)==null?void 0:ln.id)?(Xt=_t.sections.map(Qt=>Qt.id===ue?{...Qt,items:Qt.items.filter(_e=>_e.id!==lt)}:Qt),Se={..._t.inboxSection,items:[..._t.inboxSection.items,Re]}):$t.id===((me=_t.inboxSection)==null?void 0:me.id)&&cn.id!==((Ws=_t.inboxSection)==null?void 0:Ws.id)?(Xt=_t.sections.map(Qt=>Qt.id===W?{...Qt,items:[...Qt.items,Re]}:Qt),Se={..._t.inboxSection,items:_t.inboxSection.items.filter(Qt=>Qt.id!==lt)}):$t.id===((Oi=_t.inboxSection)==null?void 0:Oi.id)&&cn.id===((ta=_t.inboxSection)==null?void 0:ta.id)&&(Se=_t.inboxSection),{..._t,sections:Xt,inboxSection:Se}}else if(Ot!==Q&&_t.id===Ot){let Xt=_t.sections,Se=_t.inboxSection;$t.id!==((En=_t.inboxSection)==null?void 0:En.id)?Xt=_t.sections.map(ui=>ui.id===ue?{...ui,items:ui.items.filter(ka=>ka.id!==lt)}:ui):Se={..._t.inboxSection,items:_t.inboxSection.items.filter(ui=>ui.id!==lt)};const{[lt]:Qt,..._e}=_t.memos;return{..._t,sections:Xt,inboxSection:Se,memos:_e}}else if(Ot!==Q&&_t.id===Q){let Xt=_t.sections,Se=_t.inboxSection;cn.id!==((oi=_t.inboxSection)==null?void 0:oi.id)?Xt=_t.sections.map(_e=>_e.id===W?{..._e,items:[..._e.items,Re]}:_e):Se={..._t.inboxSection,items:[..._t.inboxSection.items,Re]};const Qt=Yn?{..._t.memos,[lt]:Yn}:_t.memos;return{..._t,sections:Xt,inboxSection:Se,memos:Qt}}return _t})}),x({isOpen:!1,itemId:null,itemText:"",sourceTabId:"",sourceSectionId:""})},D=Q=>{const W=h.tabs.find(lt=>lt.id===Q);!W||W.isLocked||h.tabs.length<=1||j({isOpen:!0,title:" ",message:`'${W.name}'     . ?`,onConfirm:()=>{const lt=h.tabs.filter(ue=>ue.id!==Q),Ot=h.activeTabId===Q?lt[0].id:h.activeTabId;o({...h,tabs:lt,activeTabId:Ot}),j(ue=>({...ue,isOpen:!1}))}})},Ht=Q=>{o({...h,activeTabId:Q})},ce=()=>{const Q=Tt+1;Q<h.tabs.length&&Ht(h.tabs[Q].id)},U=()=>{const Q=Tt-1;Q>=0&&Ht(h.tabs[Q].id)},at=W2({onSwipeLeft:H.id||C.isOpen?void 0:ce,onSwipeRight:H.id||C.isOpen?void 0:U,minSwipeDistance:50,minSwipeVelocity:.3,maxVerticalMovement:80}),dt=Q=>{o({...h,tabs:h.tabs.map(W=>W.id===h.activeTabId?{...W,parkingInfo:Q}:W)})},Z=Q=>{o({...h,tabs:h.tabs.map(W=>W.id===h.activeTabId?{...W,sideNotes:Q}:W)})},ut=()=>{const Q={id:Math.random().toString(36).substr(2,9),title:" ",items:[],color:"slate",isLocked:!1};o({...h,tabs:h.tabs.map(W=>W.id===h.activeTabId?{...W,sections:[...W.sections,Q]}:W)})},w=Q=>{o({...h,tabs:h.tabs.map(W=>W.id===h.activeTabId?{...W,sections:W.sections.map(lt=>lt.id===Q.id?Q:lt)}:W)})},G=Q=>{o({...h,tabs:h.tabs.map(W=>W.id===h.activeTabId?{...W,inboxSection:Q}:W)})},$=Q=>{o({...h,tabs:h.tabs.map(W=>W.id===h.activeTabId?{...W,quotesSection:Q}:W)})},ft=Q=>{const W=ct==null?void 0:ct.sections.find(lt=>lt.id===Q);W!=null&&W.isLocked||j({isOpen:!0,title:" ",message:"  ?",onConfirm:()=>{o({...h,tabs:h.tabs.map(lt=>lt.id===h.activeTabId?{...lt,sections:lt.sections.filter(Ot=>Ot.id!==Q)}:lt)}),j(lt=>({...lt,isOpen:!1}))}})},bt=Q=>{_(W=>({...W,draggedSectionId:Q}))},It=(Q,W)=>{Q.preventDefault(),y.draggedSectionId&&y.draggedSectionId!==W&&_(lt=>({...lt,dragOverSectionId:W}))},zt=(Q,W)=>{Q.preventDefault();const{draggedSectionId:lt}=y;!lt||lt===W||o({...h,tabs:h.tabs.map(Ot=>{if(Ot.id!==h.activeTabId)return Ot;const ue=[...Ot.sections],Ye=ue.findIndex(Re=>Re.id===lt),$t=ue.findIndex(Re=>Re.id===W);if(Ye!==-1&&$t!==-1){const[Re]=ue.splice(Ye,1);ue.splice($t,0,Re)}return{...Ot,sections:ue}})})},Te=()=>{_(Q=>({...Q,draggedSectionId:null,dragOverSectionId:null}))},oe=()=>{ct.sections.some(Q=>Q.items.some(W=>W.completed))&&o({...h,tabs:h.tabs.map(Q=>Q.id===h.activeTabId?{...Q,sections:Q.sections.map(W=>({...W,items:W.items.map(lt=>({...lt,completed:!1}))}))}:Q)})},bn=(Q,W)=>{var Ot,ue;let lt="";W==="checklist"?lt=((Ot=ct.parkingInfo.checklistMemos)==null?void 0:Ot[Q])||"":W==="shopping"?lt=((ue=ct.parkingInfo.shoppingListMemos)==null?void 0:ue[Q])||"":lt=ct.memos[Q]||"",it({id:Q,value:lt,type:W||"section"})},ss=()=>{H.id&&(H.type==="checklist"?o({...h,tabs:h.tabs.map(Q=>Q.id===h.activeTabId?{...Q,parkingInfo:{...Q.parkingInfo,checklistMemos:{...Q.parkingInfo.checklistMemos,[H.id]:H.value}}}:Q)}):H.type==="shopping"?o({...h,tabs:h.tabs.map(Q=>Q.id===h.activeTabId?{...Q,parkingInfo:{...Q.parkingInfo,shoppingListMemos:{...Q.parkingInfo.shoppingListMemos,[H.id]:H.value}}}:Q)}):o({...h,tabs:h.tabs.map(Q=>Q.id===h.activeTabId?{...Q,memos:{...Q.memos,[H.id]:H.value}}:Q)})),it({id:null,value:"",type:"section"})},as=(Q,W)=>{Q!==h.activeTabId&&Ht(Q),W&&(setTimeout(()=>{const lt=document.querySelector(`[data-section-id="${W}"]`);lt&&lt.scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"})},100),ot(W),setTimeout(()=>{ot(null)},3e3)),X(!1)},rs=()=>{const Q=h.tabs[0];if(!(Q!=null&&Q.inboxSection))return;const W=Q.id,lt=Q.inboxSection.id;W!==h.activeTabId&&Ht(W),setTimeout(()=>{const Ot=document.querySelector(`[data-section-id="${lt}"]`);Ot&&Ot.scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"})},100),ot(lt),setTimeout(()=>{ot(null)},3e3)},Nn=ct.sections.some(Q=>Q.items.some(W=>W.completed)),Qn=ct.id===(((ri=h.tabs[0])==null?void 0:ri.id)||"");return i?b.jsx("div",{className:"h-screen flex items-center justify-center bg-[#F8FAFC]",children:b.jsxs("div",{className:"text-center",children:[b.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto mb-4"}),b.jsx("p",{className:"text-slate-600",children:"  ..."})]})}):r?b.jsx("div",{className:"h-screen flex items-center justify-center bg-[#F8FAFC]",children:b.jsxs("div",{className:"text-center max-w-md",children:[b.jsx("div",{className:"flex justify-center mb-4",children:b.jsx("svg",{className:"w-16 h-16 text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),b.jsx("h2",{className:"text-xl font-bold text-slate-800 mb-2",children:"  "}),b.jsx("p",{className:"text-sm text-slate-600 mb-4",children:r.message}),b.jsx("p",{className:"text-xs text-slate-500 mb-6",children:"    ."}),b.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-2 bg-blue-500 text-white rounded-lg font-medium hover:bg-blue-600 transition-colors",children:" "})]})}):b.jsxs("div",{className:"h-screen flex flex-col bg-[#F8FAFC] overflow-hidden text-slate-900",children:[!d&&b.jsx("div",{className:"flex-none bg-yellow-500 text-white px-4 py-2 text-center text-sm font-medium",children:b.jsxs("div",{className:"flex items-center justify-center gap-2",children:[b.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),b.jsx("span",{children:"  -   "})]})}),b.jsx("div",{className:"flex-none hidden md:block",children:b.jsx(VE,{bookmarks:h.bookmarks,onUpdateBookmarks:wt})}),b.jsxs("div",{className:"flex-1 flex flex-row overflow-hidden",children:[b.jsxs("div",{ref:at,className:"flex-1 flex flex-col overflow-hidden",children:[b.jsx("div",{className:"flex-none bg-[#F8FAFC]",children:b.jsx(xE,{onClearAll:oe,onAddSection:ut,hasAnyCompletedItems:Nn,onOpenNavigationMap:()=>X(!0),headerGoals:ct.headerGoals,onHeaderGoalsChange:Q=>{o({...h,tabs:h.tabs.map(W=>W.id===h.activeTabId?{...W,headerGoals:Q}:W)})}})}),b.jsx("main",{className:"flex-1 overflow-y-auto custom-scrollbar px-0 md:px-6 pb-20",children:b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-3 md:gap-6 h-full",style:{gridAutoRows:"auto"},children:[Qn&&b.jsxs(b.Fragment,{children:[b.jsx("div",{className:"h-[600px] md:h-auto md:row-span-2",children:b.jsx(CE,{info:ct.parkingInfo,onChange:dt,onShowChecklistMemo:Q=>bn(Q,"checklist"),onShowShoppingMemo:Q=>bn(Q,"shopping")})}),b.jsx("div",{className:"h-[600px] md:h-auto md:row-span-2",children:b.jsx(jf,{section:ct.inboxSection,itemMemos:ct.memos,onUpdateSection:G,onDeleteSection:()=>{},onShowItemMemo:bn,onMoveItem:Q=>V(Q,ct.inboxSection.id),dragState:y,setDragState:_,onSectionDragStart:()=>{},onSectionDragOver:()=>{},onSectionDrop:()=>{},onSectionDragEnd:()=>{},isHighlighted:ct.inboxSection.id===et,isInboxSection:!0,tabColorBg:Yl(0).bgLight})}),b.jsx("div",{className:"h-[600px] md:h-auto md:row-span-2",children:b.jsx(jf,{section:ct.quotesSection,itemMemos:ct.memos,onUpdateSection:$,onDeleteSection:()=>{},onShowItemMemo:bn,onMoveItem:Q=>V(Q,ct.quotesSection.id),dragState:y,setDragState:_,onSectionDragStart:()=>{},onSectionDragOver:()=>{},onSectionDrop:()=>{},onSectionDragEnd:()=>{},isHighlighted:ct.quotesSection.id===et,isInboxSection:!0,tabColorBg:Yl(0).bgLight})})]}),ct.sections.map(Q=>b.jsx("div",{className:Qn?"":"h-screen md:h-full md:row-span-2",children:b.jsx(jf,{section:Q,itemMemos:ct.memos,onUpdateSection:w,onDeleteSection:ft,onShowItemMemo:bn,onMoveItem:W=>V(W,Q.id),dragState:y,setDragState:_,onSectionDragStart:()=>bt(Q.id),onSectionDragOver:W=>It(W,Q.id),onSectionDrop:W=>zt(W,Q.id),onSectionDragEnd:Te,isHighlighted:Q.id===et,isFullHeight:!Qn,tabColorText:Yl(Tt).text,tabColorBg:Yl(Tt).bgLight})},Q.id)),ct.sections.length===0&&(!Qn||ct.sections.length===0)&&b.jsx("div",{className:"col-span-full text-center py-16 text-slate-400",children:b.jsx("p",{className:"text-sm italic",children:Qn&&ct.sections.length===0?'  . "+"    .':ct.sections.length===0?"  .    .":""})})]})})]}),b.jsx("aside",{className:"flex-none hidden lg:block w-48 border-l border-slate-200 bg-white/40",children:b.jsx(ME,{notes:ct.sideNotes||[],onChange:Z})})]}),b.jsx("div",{className:"flex-none",children:b.jsx(DE,{tabs:e.tabs,activeTabId:e.activeTabId,onSelectTab:Ht,onAddTab:I,onRenameTab:A,onDeleteTab:D,onToggleLockTab:R,onReorderTabs:O,onNavigateToInbox:rs,hasInbox:!!((ls=h.tabs[0])!=null&&ls.inboxSection)})}),H.id&&b.jsx("div",{onClick:()=>it({id:null,value:"",type:"section"}),className:"fixed inset-0 z-[110] flex items-center justify-center p-4 bg-slate-900/40 backdrop-blur-sm",children:b.jsxs("div",{onClick:Q=>Q.stopPropagation(),className:"bg-white w-full max-w-2xl h-[80vh] rounded-2xl shadow-2xl border border-slate-200 p-6 flex flex-col",children:[b.jsxs("div",{className:"flex items-center justify-between mb-4",children:[b.jsx("h3",{className:"text-lg font-bold text-slate-800",children:"  "}),b.jsx("button",{onClick:()=>it({id:null,value:"",type:"section"}),className:"text-slate-400 hover:text-slate-600 p-2",children:b.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),b.jsx("textarea",{autoFocus:!0,value:H.value,onChange:Q=>it({...H,value:Q.target.value}),className:"flex-1 w-full p-4 border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-100 text-slate-700 text-base resize-none custom-scrollbar",placeholder:"  ..."}),b.jsxs("div",{className:"mt-4 flex justify-end gap-3",children:[b.jsx("button",{onClick:()=>it({id:null,value:"",type:"section"}),className:"px-5 py-2.5 text-sm font-medium text-slate-500 hover:bg-slate-50 rounded-lg transition-colors",children:""}),b.jsx("button",{onClick:ss,className:"px-8 py-2.5 text-sm font-bold text-white bg-blue-500 hover:bg-blue-600 rounded-lg shadow-md transition-all active:scale-95",children:""}),b.jsx("button",{onClick:()=>{H.value&&navigator.clipboard.writeText(H.value).then(()=>{console.log("  ")}).catch(Q=>{console.error("  :",Q)})},className:"px-8 py-2.5 text-sm font-bold text-slate-700 bg-slate-100 hover:bg-slate-200 rounded-lg transition-colors",children:" "})]})]})}),b.jsx(jE,{isOpen:S.isOpen,itemText:S.itemText,currentTabId:S.sourceTabId,currentSectionId:S.sourceSectionId,tabs:h.tabs,onMove:L,onCancel:()=>x(Q=>({...Q,isOpen:!1}))}),b.jsx(wE,{isOpen:C.isOpen,title:C.title,message:C.message,onConfirm:C.onConfirm,onCancel:()=>j(Q=>({...Q,isOpen:!1}))}),b.jsx(OE,{isOpen:k,tabs:h.tabs,activeTabId:h.activeTabId,onClose:()=>X(!1),onNavigate:as})]})},I_=document.getElementById("root");if(!I_)throw new Error("Could not find root element to mount to");const nA=vE.createRoot(I_);nA.render(b.jsx(cE.StrictMode,{children:b.jsx(eA,{})}));
