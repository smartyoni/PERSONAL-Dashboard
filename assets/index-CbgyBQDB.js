(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const h of o)if(h.type==="childList")for(const d of h.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const h={};return o.integrity&&(h.integrity=o.integrity),o.referrerPolicy&&(h.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?h.credentials="include":o.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function r(o){if(o.ep)return;o.ep=!0;const h=i(o);fetch(o.href,h)}})();function Q0(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var Df={exports:{}},Yl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ty;function dE(){if(Ty)return Yl;Ty=1;var a=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(r,o,h){var d=null;if(h!==void 0&&(d=""+h),o.key!==void 0&&(d=""+o.key),"key"in o){h={};for(var p in o)p!=="key"&&(h[p]=o[p])}else h=o;return o=h.ref,{$$typeof:a,type:r,key:d,ref:o!==void 0?o:null,props:h}}return Yl.Fragment=e,Yl.jsx=i,Yl.jsxs=i,Yl}var xy;function mE(){return xy||(xy=1,Df.exports=dE()),Df.exports}var b=mE(),Nf={exports:{}},Lt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sy;function gE(){if(Sy)return Lt;Sy=1;var a=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),C=Symbol.iterator;function N(O){return O===null||typeof O!="object"?null:(O=C&&O[C]||O["@@iterator"],typeof O=="function"?O:null)}var F={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},it=Object.assign,B={};function J(O,tt,mt){this.props=O,this.context=tt,this.refs=B,this.updater=mt||F}J.prototype.isReactComponent={},J.prototype.setState=function(O,tt){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,tt,"setState")},J.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function Z(){}Z.prototype=J.prototype;function G(O,tt,mt){this.props=O,this.context=tt,this.refs=B,this.updater=mt||F}var ct=G.prototype=new Z;ct.constructor=G,it(ct,J.prototype),ct.isPureReactComponent=!0;var _t=Array.isArray;function Ct(){}var R={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function I(O,tt,mt){var yt=mt.ref;return{$$typeof:a,type:O,key:tt,ref:yt!==void 0?yt:null,props:mt}}function j(O,tt){return I(O.type,tt,O.props)}function V(O){return typeof O=="object"&&O!==null&&O.$$typeof===a}function k(O){var tt={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(mt){return tt[mt]})}var w=/\/+/g;function zt(O,tt){return typeof O=="object"&&O!==null&&O.key!=null?k(""+O.key):tt.toString(36)}function Tt(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(Ct,Ct):(O.status="pending",O.then(function(tt){O.status==="pending"&&(O.status="fulfilled",O.value=tt)},function(tt){O.status==="pending"&&(O.status="rejected",O.reason=tt)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function $(O,tt,mt,yt,q){var ot=typeof O;(ot==="undefined"||ot==="boolean")&&(O=null);var ht=!1;if(O===null)ht=!0;else switch(ot){case"bigint":case"string":case"number":ht=!0;break;case"object":switch(O.$$typeof){case a:case e:ht=!0;break;case T:return ht=O._init,$(ht(O._payload),tt,mt,yt,q)}}if(ht)return q=q(O),ht=yt===""?"."+zt(O,0):yt,_t(q)?(mt="",ht!=null&&(mt=ht.replace(w,"$&/")+"/"),$(q,tt,mt,"",function(je){return je})):q!=null&&(V(q)&&(q=j(q,mt+(q.key==null||O&&O.key===q.key?"":(""+q.key).replace(w,"$&/")+"/")+ht)),tt.push(q)),1;ht=0;var Dt=yt===""?".":yt+":";if(_t(O))for(var ut=0;ut<O.length;ut++)yt=O[ut],ot=Dt+zt(yt,ut),ht+=$(yt,tt,mt,ot,q);else if(ut=N(O),typeof ut=="function")for(O=ut.call(O),ut=0;!(yt=O.next()).done;)yt=yt.value,ot=Dt+zt(yt,ut++),ht+=$(yt,tt,mt,ot,q);else if(ot==="object"){if(typeof O.then=="function")return $(Tt(O),tt,mt,yt,q);throw tt=String(O),Error("Objects are not valid as a React child (found: "+(tt==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":tt)+"). If you meant to render a collection of children, use an array instead.")}return ht}function ft(O,tt,mt){if(O==null)return O;var yt=[],q=0;return $(O,yt,"","",function(ot){return tt.call(mt,ot,q++)}),yt}function At(O){if(O._status===-1){var tt=O._result;tt=tt(),tt.then(function(mt){(O._status===0||O._status===-1)&&(O._status=1,O._result=mt)},function(mt){(O._status===0||O._status===-1)&&(O._status=2,O._result=mt)}),O._status===-1&&(O._status=0,O._result=tt)}if(O._status===1)return O._result.default;throw O._result}var Ft=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var tt=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(tt))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},$t={map:ft,forEach:function(O,tt,mt){ft(O,function(){tt.apply(this,arguments)},mt)},count:function(O){var tt=0;return ft(O,function(){tt++}),tt},toArray:function(O){return ft(O,function(tt){return tt})||[]},only:function(O){if(!V(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return Lt.Activity=S,Lt.Children=$t,Lt.Component=J,Lt.Fragment=i,Lt.Profiler=o,Lt.PureComponent=G,Lt.StrictMode=r,Lt.Suspense=g,Lt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,Lt.__COMPILER_RUNTIME={__proto__:null,c:function(O){return R.H.useMemoCache(O)}},Lt.cache=function(O){return function(){return O.apply(null,arguments)}},Lt.cacheSignal=function(){return null},Lt.cloneElement=function(O,tt,mt){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var yt=it({},O.props),q=O.key;if(tt!=null)for(ot in tt.key!==void 0&&(q=""+tt.key),tt)!A.call(tt,ot)||ot==="key"||ot==="__self"||ot==="__source"||ot==="ref"&&tt.ref===void 0||(yt[ot]=tt[ot]);var ot=arguments.length-2;if(ot===1)yt.children=mt;else if(1<ot){for(var ht=Array(ot),Dt=0;Dt<ot;Dt++)ht[Dt]=arguments[Dt+2];yt.children=ht}return I(O.type,q,yt)},Lt.createContext=function(O){return O={$$typeof:d,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:h,_context:O},O},Lt.createElement=function(O,tt,mt){var yt,q={},ot=null;if(tt!=null)for(yt in tt.key!==void 0&&(ot=""+tt.key),tt)A.call(tt,yt)&&yt!=="key"&&yt!=="__self"&&yt!=="__source"&&(q[yt]=tt[yt]);var ht=arguments.length-2;if(ht===1)q.children=mt;else if(1<ht){for(var Dt=Array(ht),ut=0;ut<ht;ut++)Dt[ut]=arguments[ut+2];q.children=Dt}if(O&&O.defaultProps)for(yt in ht=O.defaultProps,ht)q[yt]===void 0&&(q[yt]=ht[yt]);return I(O,ot,q)},Lt.createRef=function(){return{current:null}},Lt.forwardRef=function(O){return{$$typeof:p,render:O}},Lt.isValidElement=V,Lt.lazy=function(O){return{$$typeof:T,_payload:{_status:-1,_result:O},_init:At}},Lt.memo=function(O,tt){return{$$typeof:v,type:O,compare:tt===void 0?null:tt}},Lt.startTransition=function(O){var tt=R.T,mt={};R.T=mt;try{var yt=O(),q=R.S;q!==null&&q(mt,yt),typeof yt=="object"&&yt!==null&&typeof yt.then=="function"&&yt.then(Ct,Ft)}catch(ot){Ft(ot)}finally{tt!==null&&mt.types!==null&&(tt.types=mt.types),R.T=tt}},Lt.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},Lt.use=function(O){return R.H.use(O)},Lt.useActionState=function(O,tt,mt){return R.H.useActionState(O,tt,mt)},Lt.useCallback=function(O,tt){return R.H.useCallback(O,tt)},Lt.useContext=function(O){return R.H.useContext(O)},Lt.useDebugValue=function(){},Lt.useDeferredValue=function(O,tt){return R.H.useDeferredValue(O,tt)},Lt.useEffect=function(O,tt){return R.H.useEffect(O,tt)},Lt.useEffectEvent=function(O){return R.H.useEffectEvent(O)},Lt.useId=function(){return R.H.useId()},Lt.useImperativeHandle=function(O,tt,mt){return R.H.useImperativeHandle(O,tt,mt)},Lt.useInsertionEffect=function(O,tt){return R.H.useInsertionEffect(O,tt)},Lt.useLayoutEffect=function(O,tt){return R.H.useLayoutEffect(O,tt)},Lt.useMemo=function(O,tt){return R.H.useMemo(O,tt)},Lt.useOptimistic=function(O,tt){return R.H.useOptimistic(O,tt)},Lt.useReducer=function(O,tt,mt){return R.H.useReducer(O,tt,mt)},Lt.useRef=function(O){return R.H.useRef(O)},Lt.useState=function(O){return R.H.useState(O)},Lt.useSyncExternalStore=function(O,tt,mt){return R.H.useSyncExternalStore(O,tt,mt)},Lt.useTransition=function(){return R.H.useTransition()},Lt.version="19.2.3",Lt}var Ay;function pd(){return Ay||(Ay=1,Nf.exports=gE()),Nf.exports}var rt=pd();const sc=Q0(rt);var Vf={exports:{}},Kl={},Of={exports:{}},Mf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wy;function pE(){return wy||(wy=1,(function(a){function e($,ft){var At=$.length;$.push(ft);t:for(;0<At;){var Ft=At-1>>>1,$t=$[Ft];if(0<o($t,ft))$[Ft]=ft,$[At]=$t,At=Ft;else break t}}function i($){return $.length===0?null:$[0]}function r($){if($.length===0)return null;var ft=$[0],At=$.pop();if(At!==ft){$[0]=At;t:for(var Ft=0,$t=$.length,O=$t>>>1;Ft<O;){var tt=2*(Ft+1)-1,mt=$[tt],yt=tt+1,q=$[yt];if(0>o(mt,At))yt<$t&&0>o(q,mt)?($[Ft]=q,$[yt]=At,Ft=yt):($[Ft]=mt,$[tt]=At,Ft=tt);else if(yt<$t&&0>o(q,At))$[Ft]=q,$[yt]=At,Ft=yt;else break t}}return ft}function o($,ft){var At=$.sortIndex-ft.sortIndex;return At!==0?At:$.id-ft.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;a.unstable_now=function(){return h.now()}}else{var d=Date,p=d.now();a.unstable_now=function(){return d.now()-p}}var g=[],v=[],T=1,S=null,C=3,N=!1,F=!1,it=!1,B=!1,J=typeof setTimeout=="function"?setTimeout:null,Z=typeof clearTimeout=="function"?clearTimeout:null,G=typeof setImmediate<"u"?setImmediate:null;function ct($){for(var ft=i(v);ft!==null;){if(ft.callback===null)r(v);else if(ft.startTime<=$)r(v),ft.sortIndex=ft.expirationTime,e(g,ft);else break;ft=i(v)}}function _t($){if(it=!1,ct($),!F)if(i(g)!==null)F=!0,Ct||(Ct=!0,k());else{var ft=i(v);ft!==null&&Tt(_t,ft.startTime-$)}}var Ct=!1,R=-1,A=5,I=-1;function j(){return B?!0:!(a.unstable_now()-I<A)}function V(){if(B=!1,Ct){var $=a.unstable_now();I=$;var ft=!0;try{t:{F=!1,it&&(it=!1,Z(R),R=-1),N=!0;var At=C;try{e:{for(ct($),S=i(g);S!==null&&!(S.expirationTime>$&&j());){var Ft=S.callback;if(typeof Ft=="function"){S.callback=null,C=S.priorityLevel;var $t=Ft(S.expirationTime<=$);if($=a.unstable_now(),typeof $t=="function"){S.callback=$t,ct($),ft=!0;break e}S===i(g)&&r(g),ct($)}else r(g);S=i(g)}if(S!==null)ft=!0;else{var O=i(v);O!==null&&Tt(_t,O.startTime-$),ft=!1}}break t}finally{S=null,C=At,N=!1}ft=void 0}}finally{ft?k():Ct=!1}}}var k;if(typeof G=="function")k=function(){G(V)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,zt=w.port2;w.port1.onmessage=V,k=function(){zt.postMessage(null)}}else k=function(){J(V,0)};function Tt($,ft){R=J(function(){$(a.unstable_now())},ft)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function($){$.callback=null},a.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<$?Math.floor(1e3/$):5},a.unstable_getCurrentPriorityLevel=function(){return C},a.unstable_next=function($){switch(C){case 1:case 2:case 3:var ft=3;break;default:ft=C}var At=C;C=ft;try{return $()}finally{C=At}},a.unstable_requestPaint=function(){B=!0},a.unstable_runWithPriority=function($,ft){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var At=C;C=$;try{return ft()}finally{C=At}},a.unstable_scheduleCallback=function($,ft,At){var Ft=a.unstable_now();switch(typeof At=="object"&&At!==null?(At=At.delay,At=typeof At=="number"&&0<At?Ft+At:Ft):At=Ft,$){case 1:var $t=-1;break;case 2:$t=250;break;case 5:$t=1073741823;break;case 4:$t=1e4;break;default:$t=5e3}return $t=At+$t,$={id:T++,callback:ft,priorityLevel:$,startTime:At,expirationTime:$t,sortIndex:-1},At>Ft?($.sortIndex=At,e(v,$),i(g)===null&&$===i(v)&&(it?(Z(R),R=-1):it=!0,Tt(_t,At-Ft))):($.sortIndex=$t,e(g,$),F||N||(F=!0,Ct||(Ct=!0,k()))),$},a.unstable_shouldYield=j,a.unstable_wrapCallback=function($){var ft=C;return function(){var At=C;C=ft;try{return $.apply(this,arguments)}finally{C=At}}}})(Mf)),Mf}var Cy;function yE(){return Cy||(Cy=1,Of.exports=pE()),Of.exports}var jf={exports:{}},dn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ry;function vE(){if(Ry)return dn;Ry=1;var a=pd();function e(g){var v="https://react.dev/errors/"+g;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)v+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+g+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function h(g,v,T){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:S==null?null:""+S,children:g,containerInfo:v,implementation:T}}var d=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(g,v){if(g==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return dn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,dn.createPortal=function(g,v){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(e(299));return h(g,v,null,T)},dn.flushSync=function(g){var v=d.T,T=r.p;try{if(d.T=null,r.p=2,g)return g()}finally{d.T=v,r.p=T,r.d.f()}},dn.preconnect=function(g,v){typeof g=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,r.d.C(g,v))},dn.prefetchDNS=function(g){typeof g=="string"&&r.d.D(g)},dn.preinit=function(g,v){if(typeof g=="string"&&v&&typeof v.as=="string"){var T=v.as,S=p(T,v.crossOrigin),C=typeof v.integrity=="string"?v.integrity:void 0,N=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;T==="style"?r.d.S(g,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:S,integrity:C,fetchPriority:N}):T==="script"&&r.d.X(g,{crossOrigin:S,integrity:C,fetchPriority:N,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},dn.preinitModule=function(g,v){if(typeof g=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var T=p(v.as,v.crossOrigin);r.d.M(g,{crossOrigin:T,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&r.d.M(g)},dn.preload=function(g,v){if(typeof g=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var T=v.as,S=p(T,v.crossOrigin);r.d.L(g,T,{crossOrigin:S,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},dn.preloadModule=function(g,v){if(typeof g=="string")if(v){var T=p(v.as,v.crossOrigin);r.d.m(g,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:T,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else r.d.m(g)},dn.requestFormReset=function(g){r.d.r(g)},dn.unstable_batchedUpdates=function(g,v){return g(v)},dn.useFormState=function(g,v,T){return d.H.useFormState(g,v,T)},dn.useFormStatus=function(){return d.H.useHostTransitionStatus()},dn.version="19.2.3",dn}var Iy;function _E(){if(Iy)return jf.exports;Iy=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(e){console.error(e)}}return a(),jf.exports=vE(),jf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dy;function bE(){if(Dy)return Kl;Dy=1;var a=yE(),e=pd(),i=_E();function r(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function h(t){var n=t,s=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(s=n.return),t=n.return;while(t)}return n.tag===3?s:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function p(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function g(t){if(h(t)!==t)throw Error(r(188))}function v(t){var n=t.alternate;if(!n){if(n=h(t),n===null)throw Error(r(188));return n!==t?null:t}for(var s=t,l=n;;){var c=s.return;if(c===null)break;var f=c.alternate;if(f===null){if(l=c.return,l!==null){s=l;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===s)return g(c),t;if(f===l)return g(c),n;f=f.sibling}throw Error(r(188))}if(s.return!==l.return)s=c,l=f;else{for(var y=!1,E=c.child;E;){if(E===s){y=!0,s=c,l=f;break}if(E===l){y=!0,l=c,s=f;break}E=E.sibling}if(!y){for(E=f.child;E;){if(E===s){y=!0,s=f,l=c;break}if(E===l){y=!0,l=f,s=c;break}E=E.sibling}if(!y)throw Error(r(189))}}if(s.alternate!==l)throw Error(r(190))}if(s.tag!==3)throw Error(r(188));return s.stateNode.current===s?t:n}function T(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=T(t),n!==null)return n;t=t.sibling}return null}var S=Object.assign,C=Symbol.for("react.element"),N=Symbol.for("react.transitional.element"),F=Symbol.for("react.portal"),it=Symbol.for("react.fragment"),B=Symbol.for("react.strict_mode"),J=Symbol.for("react.profiler"),Z=Symbol.for("react.consumer"),G=Symbol.for("react.context"),ct=Symbol.for("react.forward_ref"),_t=Symbol.for("react.suspense"),Ct=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),j=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function k(t){return t===null||typeof t!="object"?null:(t=V&&t[V]||t["@@iterator"],typeof t=="function"?t:null)}var w=Symbol.for("react.client.reference");function zt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===w?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case it:return"Fragment";case J:return"Profiler";case B:return"StrictMode";case _t:return"Suspense";case Ct:return"SuspenseList";case I:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case F:return"Portal";case G:return t.displayName||"Context";case Z:return(t._context.displayName||"Context")+".Consumer";case ct:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case R:return n=t.displayName||null,n!==null?n:zt(t.type)||"Memo";case A:n=t._payload,t=t._init;try{return zt(t(n))}catch{}}return null}var Tt=Array.isArray,$=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ft=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,At={pending:!1,data:null,method:null,action:null},Ft=[],$t=-1;function O(t){return{current:t}}function tt(t){0>$t||(t.current=Ft[$t],Ft[$t]=null,$t--)}function mt(t,n){$t++,Ft[$t]=t.current,t.current=n}var yt=O(null),q=O(null),ot=O(null),ht=O(null);function Dt(t,n){switch(mt(ot,n),mt(q,t),mt(yt,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?Gp(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=Gp(n),t=Qp(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}tt(yt),mt(yt,t)}function ut(){tt(yt),tt(q),tt(ot)}function je(t){t.memoizedState!==null&&mt(ht,t);var n=yt.current,s=Qp(n,t.type);n!==s&&(mt(q,t),mt(yt,s))}function Xe(t){q.current===t&&(tt(yt),tt(q)),ht.current===t&&(tt(ht),Hl._currentValue=At)}var pi,yi;function vt(t){if(pi===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);pi=n&&n[1]||"",yi=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+pi+t+yi}var Rt=!1;function Jt(t,n){if(!t||Rt)return"";Rt=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var st=function(){throw Error()};if(Object.defineProperty(st.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(st,[])}catch(X){var Y=X}Reflect.construct(t,[],st)}else{try{st.call()}catch(X){Y=X}t.call(st.prototype)}}else{try{throw Error()}catch(X){Y=X}(st=t())&&typeof st.catch=="function"&&st.catch(function(){})}}catch(X){if(X&&Y&&typeof X.stack=="string")return[X.stack,Y.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),y=f[0],E=f[1];if(y&&E){var D=y.split(`
`),H=E.split(`
`);for(c=l=0;l<D.length&&!D[l].includes("DetermineComponentFrameRoot");)l++;for(;c<H.length&&!H[c].includes("DetermineComponentFrameRoot");)c++;if(l===D.length||c===H.length)for(l=D.length-1,c=H.length-1;1<=l&&0<=c&&D[l]!==H[c];)c--;for(;1<=l&&0<=c;l--,c--)if(D[l]!==H[c]){if(l!==1||c!==1)do if(l--,c--,0>c||D[l]!==H[c]){var W=`
`+D[l].replace(" at new "," at ");return t.displayName&&W.includes("<anonymous>")&&(W=W.replace("<anonymous>",t.displayName)),W}while(1<=l&&0<=c);break}}}finally{Rt=!1,Error.prepareStackTrace=s}return(s=t?t.displayName||t.name:"")?vt(s):""}function be(t,n){switch(t.tag){case 26:case 27:case 5:return vt(t.type);case 16:return vt("Lazy");case 13:return t.child!==n&&n!==null?vt("Suspense Fallback"):vt("Suspense");case 19:return vt("SuspenseList");case 0:case 15:return Jt(t.type,!1);case 11:return Jt(t.type.render,!1);case 1:return Jt(t.type,!0);case 31:return vt("Activity");default:return""}}function hn(t){try{var n="",s=null;do n+=be(t,s),s=t,t=t.return;while(t);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var ce=Object.prototype.hasOwnProperty,oe=a.unstable_scheduleCallback,_n=a.unstable_cancelCallback,Fi=a.unstable_shouldYield,vi=a.unstable_requestPaint,Ze=a.unstable_now,Gi=a.unstable_getCurrentPriorityLevel,ms=a.unstable_ImmediatePriority,ra=a.unstable_UserBlockingPriority,ii=a.unstable_NormalPriority,Pa=a.unstable_LowPriority,la=a.unstable_IdlePriority,Ha=a.log,si=a.unstable_setDisableYieldValue,bn=null,Le=null;function L(t){if(typeof Ha=="function"&&si(t),Le&&typeof Le.setStrictMode=="function")try{Le.setStrictMode(bn,t)}catch{}}var Q=Math.clz32?Math.clz32:Ut,et=Math.log,xt=Math.LN2;function Ut(t){return t>>>=0,t===0?32:31-(et(t)/xt|0)|0}var gt=256,Nt=262144,Bt=4194304;function $e(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Se(t,n,s){var l=t.pendingLanes;if(l===0)return 0;var c=0,f=t.suspendedLanes,y=t.pingedLanes;t=t.warmLanes;var E=l&134217727;return E!==0?(l=E&~f,l!==0?c=$e(l):(y&=E,y!==0?c=$e(y):s||(s=E&~t,s!==0&&(c=$e(s))))):(E=l&~f,E!==0?c=$e(E):y!==0?c=$e(y):s||(s=l&~t,s!==0&&(c=$e(s)))),c===0?0:n!==0&&n!==c&&(n&f)===0&&(f=c&-c,s=n&-n,f>=s||f===32&&(s&4194048)!==0)?n:c}function fn(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Bn(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ai(){var t=Bt;return Bt<<=1,(Bt&62914560)===0&&(Bt=4194304),t}function pt(t){for(var n=[],s=0;31>s;s++)n.push(t);return n}function qn(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Fa(t,n,s,l,c,f){var y=t.pendingLanes;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=s,t.entangledLanes&=s,t.errorRecoveryDisabledLanes&=s,t.shellSuspendCounter=0;var E=t.entanglements,D=t.expirationTimes,H=t.hiddenUpdates;for(s=y&~s;0<s;){var W=31-Q(s),st=1<<W;E[W]=0,D[W]=-1;var Y=H[W];if(Y!==null)for(H[W]=null,W=0;W<Y.length;W++){var X=Y[W];X!==null&&(X.lane&=-536870913)}s&=~st}l!==0&&_i(t,l,0),f!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=f&~(y&~n))}function _i(t,n,s){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-Q(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|s&261930}function gs(t,n){var s=t.entangledLanes|=n;for(t=t.entanglements;s;){var l=31-Q(s),c=1<<l;c&n|t[l]&n&&(t[l]|=n),s&=~c}}function ps(t,n){var s=n&-n;return s=(s&42)!==0?1:bi(s),(s&(t.suspendedLanes|n))!==0?0:s}function bi(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Pn(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function oa(){var t=ft.p;return t!==0?t:(t=window.event,t===void 0?32:gy(t.type))}function En(t,n){var s=ft.p;try{return ft.p=t,n()}finally{ft.p=s}}var Tn=Math.random().toString(36).slice(2),ae="__reactFiber$"+Tn,he="__reactProps$"+Tn,ne="__reactContainer$"+Tn,en="__reactEvents$"+Tn,Ei="__reactListeners$"+Tn,Ga="__reactHandles$"+Tn,wo="__reactResources$"+Tn,Ti="__reactMarker$"+Tn;function Qa(t){delete t[ae],delete t[he],delete t[en],delete t[Ei],delete t[Ga]}function xi(t){var n=t[ae];if(n)return n;for(var s=t.parentNode;s;){if(n=s[ne]||s[ae]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(t=Wp(t);t!==null;){if(s=t[ae])return s;t=Wp(t)}return n}t=s,s=t.parentNode}return null}function Hn(t){if(t=t[ae]||t[ne]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function Nn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(r(33))}function Si(t){var n=t[wo];return n||(n=t[wo]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function ke(t){t[Ti]=!0}var Zr=new Set,$r={};function Ai(t,n){wi(t,n),wi(t+"Capture",n)}function wi(t,n){for($r[t]=n,t=0;t<n.length;t++)Zr.add(n[t])}var Jr=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Wr={},tl={};function Co(t){return ce.call(tl,t)?!0:ce.call(Wr,t)?!1:Jr.test(t)?tl[t]=!0:(Wr[t]=!0,!1)}function Ya(t,n,s){if(Co(n))if(s===null)t.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+s)}}function Vn(t,n,s){if(s===null)t.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+s)}}function ze(t,n,s,l){if(l===null)t.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttributeNS(n,s,""+l)}}function Je(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ys(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function el(t,n,s){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var c=l.get,f=l.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return c.call(this)},set:function(y){s=""+y,f.call(this,y)}}),Object.defineProperty(t,n,{enumerable:l.enumerable}),{getValue:function(){return s},setValue:function(y){s=""+y},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function fe(t){if(!t._valueTracker){var n=ys(t)?"checked":"value";t._valueTracker=el(t,n,""+t[n])}}function ua(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var s=n.getValue(),l="";return t&&(l=ys(t)?t.checked?"true":"false":t.value),t=l,t!==s?(n.setValue(t),!0):!1}function Ci(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var ca=/[\n"\\]/g;function xn(t){return t.replace(ca,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Ka(t,n,s,l,c,f,y,E){t.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?t.type=y:t.removeAttribute("type"),n!=null?y==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Je(n)):t.value!==""+Je(n)&&(t.value=""+Je(n)):y!=="submit"&&y!=="reset"||t.removeAttribute("value"),n!=null?nl(t,y,Je(n)):s!=null?nl(t,y,Je(s)):l!=null&&t.removeAttribute("value"),c==null&&f!=null&&(t.defaultChecked=!!f),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+Je(E):t.removeAttribute("name")}function Ro(t,n,s,l,c,f,y,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){fe(t);return}s=s!=null?""+Je(s):"",n=n!=null?""+Je(n):s,E||n===t.value||(t.value=n),t.defaultValue=n}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=E?t.checked:!!l,t.defaultChecked=!!l,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(t.name=y),fe(t)}function nl(t,n,s){n==="number"&&Ci(t.ownerDocument)===t||t.defaultValue===""+s||(t.defaultValue=""+s)}function vs(t,n,s,l){if(t=t.options,n){n={};for(var c=0;c<s.length;c++)n["$"+s[c]]=!0;for(s=0;s<t.length;s++)c=n.hasOwnProperty("$"+t[s].value),t[s].selected!==c&&(t[s].selected=c),c&&l&&(t[s].defaultSelected=!0)}else{for(s=""+Je(s),n=null,c=0;c<t.length;c++){if(t[c].value===s){t[c].selected=!0,l&&(t[c].defaultSelected=!0);return}n!==null||t[c].disabled||(n=t[c])}n!==null&&(n.selected=!0)}}function Io(t,n,s){if(n!=null&&(n=""+Je(n),n!==t.value&&(t.value=n),s==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=s!=null?""+Je(s):""}function _s(t,n,s,l){if(n==null){if(l!=null){if(s!=null)throw Error(r(92));if(Tt(l)){if(1<l.length)throw Error(r(93));l=l[0]}s=l}s==null&&(s=""),n=s}s=Je(n),t.defaultValue=s,l=t.textContent,l===s&&l!==""&&l!==null&&(t.value=l),fe(t)}function Sn(t,n){if(n){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=n;return}}t.textContent=n}var Do=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function il(t,n,s){var l=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,s):typeof s!="number"||s===0||Do.has(n)?n==="float"?t.cssFloat=s:t[n]=(""+s).trim():t[n]=s+"px"}function sl(t,n,s){if(n!=null&&typeof n!="object")throw Error(r(62));if(t=t.style,s!=null){for(var l in s)!s.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var c in n)l=n[c],n.hasOwnProperty(c)&&s[c]!==l&&il(t,c,l)}else for(var f in n)n.hasOwnProperty(f)&&il(t,f,n[f])}function Xa(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var No=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),bs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Za(t){return bs.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function ri(){}var al=null;function Fn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Es=null,Ri=null;function ha(t){var n=Hn(t);if(n&&(t=n.stateNode)){var s=t[he]||null;t:switch(t=n.stateNode,n.type){case"input":if(Ka(t,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+xn(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var l=s[n];if(l!==t&&l.form===t.form){var c=l[he]||null;if(!c)throw Error(r(90));Ka(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<s.length;n++)l=s[n],l.form===t.form&&ua(l)}break t;case"textarea":Io(t,s.value,s.defaultValue);break t;case"select":n=s.value,n!=null&&vs(t,!!s.multiple,n,!1)}}}var $a=!1;function Ts(t,n,s){if($a)return t(n,s);$a=!0;try{var l=t(n);return l}finally{if($a=!1,(Es!==null||Ri!==null)&&(Su(),Es&&(n=Es,t=Ri,Ri=Es=null,ha(n),t)))for(n=0;n<t.length;n++)ha(t[n])}}function li(t,n){var s=t.stateNode;if(s===null)return null;var l=s[he]||null;if(l===null)return null;s=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(r(231,n,typeof s));return s}var Gn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),fa=!1;if(Gn)try{var ge={};Object.defineProperty(ge,"passive",{get:function(){fa=!0}}),window.addEventListener("test",ge,ge),window.removeEventListener("test",ge,ge)}catch{fa=!1}var Ii=null,rl=null,da=null;function ll(){if(da)return da;var t,n=rl,s=n.length,l,c="value"in Ii?Ii.value:Ii.textContent,f=c.length;for(t=0;t<s&&n[t]===c[t];t++);var y=s-t;for(l=1;l<=y&&n[s-l]===c[f-l];l++);return da=c.slice(t,1<l?1-l:void 0)}function ma(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Qi(){return!0}function oi(){return!1}function nn(t){function n(s,l,c,f,y){this._reactName=s,this._targetInst=c,this.type=l,this.nativeEvent=f,this.target=y,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(s=t[E],this[E]=s?s(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Qi:oi,this.isPropagationStopped=oi,this}return S(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Qi)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Qi)},persist:function(){},isPersistent:Qi}),n}var Yi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Di=nn(Yi),xs=S({},Yi,{view:0,detail:0}),ol=nn(xs),Ss,Ja,Ni,Wa=S({},xs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:As,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ni&&(Ni&&t.type==="mousemove"?(Ss=t.screenX-Ni.screenX,Ja=t.screenY-Ni.screenY):Ja=Ss=0,Ni=t),Ss)},movementY:function(t){return"movementY"in t?t.movementY:Ja}}),ul=nn(Wa),ga=S({},Wa,{dataTransfer:0}),Vo=nn(ga),Oo=S({},xs,{relatedTarget:0}),pa=nn(Oo),cl=S({},Yi,{animationName:0,elapsedTime:0,pseudoElement:0}),Mo=nn(cl),tr=S({},Yi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),jo=nn(tr),Lo=S({},Yi,{data:0}),Vi=nn(Lo),ko={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},zo={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Uo={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Bo(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Uo[t])?!!n[t]:!1}function As(){return Bo}var yn=S({},xs,{key:function(t){if(t.key){var n=ko[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=ma(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?zo[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:As,charCode:function(t){return t.type==="keypress"?ma(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ma(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),qo=nn(yn),Po=S({},Wa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ki=nn(Po),u=S({},xs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:As}),m=nn(u),_=S({},Yi,{propertyName:0,elapsedTime:0,pseudoElement:0}),x=nn(_),U=S({},Wa,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),K=nn(U),dt=S({},Yi,{newState:0,oldState:0}),qt=nn(dt),Ne=[9,13,27,32],re=Gn&&"CompositionEvent"in window,Ae=null;Gn&&"documentMode"in document&&(Ae=document.documentMode);var Qn=Gn&&"TextEvent"in window&&!Ae,Oi=Gn&&(!re||Ae&&8<Ae&&11>=Ae),ui=" ",ci=!1;function ya(t,n){switch(t){case"keyup":return Ne.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function er(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var nr=!1;function k_(t,n){switch(t){case"compositionend":return er(n);case"keypress":return n.which!==32?null:(ci=!0,ui);case"textInput":return t=n.data,t===ui&&ci?null:t;default:return null}}function z_(t,n){if(nr)return t==="compositionend"||!re&&ya(t,n)?(t=ll(),da=rl=Ii=null,nr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Oi&&n.locale!=="ko"?null:n.data;default:return null}}var U_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function nm(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!U_[t.type]:n==="textarea"}function im(t,n,s,l){Es?Ri?Ri.push(l):Ri=[l]:Es=l,n=Nu(n,"onChange"),0<n.length&&(s=new Di("onChange","change",null,s,l),t.push({event:s,listeners:n}))}var hl=null,fl=null;function B_(t){Up(t,0)}function Ho(t){var n=Nn(t);if(ua(n))return t}function sm(t,n){if(t==="change")return n}var am=!1;if(Gn){var Lc;if(Gn){var kc="oninput"in document;if(!kc){var rm=document.createElement("div");rm.setAttribute("oninput","return;"),kc=typeof rm.oninput=="function"}Lc=kc}else Lc=!1;am=Lc&&(!document.documentMode||9<document.documentMode)}function lm(){hl&&(hl.detachEvent("onpropertychange",om),fl=hl=null)}function om(t){if(t.propertyName==="value"&&Ho(fl)){var n=[];im(n,fl,t,Fn(t)),Ts(B_,n)}}function q_(t,n,s){t==="focusin"?(lm(),hl=n,fl=s,hl.attachEvent("onpropertychange",om)):t==="focusout"&&lm()}function P_(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ho(fl)}function H_(t,n){if(t==="click")return Ho(n)}function F_(t,n){if(t==="input"||t==="change")return Ho(n)}function G_(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var On=typeof Object.is=="function"?Object.is:G_;function dl(t,n){if(On(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var s=Object.keys(t),l=Object.keys(n);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var c=s[l];if(!ce.call(n,c)||!On(t[c],n[c]))return!1}return!0}function um(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function cm(t,n){var s=um(t);t=0;for(var l;s;){if(s.nodeType===3){if(l=t+s.textContent.length,t<=n&&l>=n)return{node:s,offset:n-t};t=l}t:{for(;s;){if(s.nextSibling){s=s.nextSibling;break t}s=s.parentNode}s=void 0}s=um(s)}}function hm(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?hm(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function fm(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=Ci(t.document);n instanceof t.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)t=n.contentWindow;else break;n=Ci(t.document)}return n}function zc(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var Q_=Gn&&"documentMode"in document&&11>=document.documentMode,ir=null,Uc=null,ml=null,Bc=!1;function dm(t,n,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Bc||ir==null||ir!==Ci(l)||(l=ir,"selectionStart"in l&&zc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),ml&&dl(ml,l)||(ml=l,l=Nu(Uc,"onSelect"),0<l.length&&(n=new Di("onSelect","select",null,n,s),t.push({event:n,listeners:l}),n.target=ir)))}function va(t,n){var s={};return s[t.toLowerCase()]=n.toLowerCase(),s["Webkit"+t]="webkit"+n,s["Moz"+t]="moz"+n,s}var sr={animationend:va("Animation","AnimationEnd"),animationiteration:va("Animation","AnimationIteration"),animationstart:va("Animation","AnimationStart"),transitionrun:va("Transition","TransitionRun"),transitionstart:va("Transition","TransitionStart"),transitioncancel:va("Transition","TransitionCancel"),transitionend:va("Transition","TransitionEnd")},qc={},mm={};Gn&&(mm=document.createElement("div").style,"AnimationEvent"in window||(delete sr.animationend.animation,delete sr.animationiteration.animation,delete sr.animationstart.animation),"TransitionEvent"in window||delete sr.transitionend.transition);function _a(t){if(qc[t])return qc[t];if(!sr[t])return t;var n=sr[t],s;for(s in n)if(n.hasOwnProperty(s)&&s in mm)return qc[t]=n[s];return t}var gm=_a("animationend"),pm=_a("animationiteration"),ym=_a("animationstart"),Y_=_a("transitionrun"),K_=_a("transitionstart"),X_=_a("transitioncancel"),vm=_a("transitionend"),_m=new Map,Pc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Pc.push("scrollEnd");function hi(t,n){_m.set(t,n),Ai(n,[t])}var Fo=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Yn=[],ar=0,Hc=0;function Go(){for(var t=ar,n=Hc=ar=0;n<t;){var s=Yn[n];Yn[n++]=null;var l=Yn[n];Yn[n++]=null;var c=Yn[n];Yn[n++]=null;var f=Yn[n];if(Yn[n++]=null,l!==null&&c!==null){var y=l.pending;y===null?c.next=c:(c.next=y.next,y.next=c),l.pending=c}f!==0&&bm(s,c,f)}}function Qo(t,n,s,l){Yn[ar++]=t,Yn[ar++]=n,Yn[ar++]=s,Yn[ar++]=l,Hc|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Fc(t,n,s,l){return Qo(t,n,s,l),Yo(t)}function ba(t,n){return Qo(t,null,null,n),Yo(t)}function bm(t,n,s){t.lanes|=s;var l=t.alternate;l!==null&&(l.lanes|=s);for(var c=!1,f=t.return;f!==null;)f.childLanes|=s,l=f.alternate,l!==null&&(l.childLanes|=s),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(c=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,c&&n!==null&&(c=31-Q(s),t=f.hiddenUpdates,l=t[c],l===null?t[c]=[n]:l.push(n),n.lane=s|536870912),f):null}function Yo(t){if(50<Ll)throw Ll=0,Wh=null,Error(r(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var rr={};function Z_(t,n,s,l){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mn(t,n,s,l){return new Z_(t,n,s,l)}function Gc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Xi(t,n){var s=t.alternate;return s===null?(s=Mn(t.tag,n,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=n,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&65011712,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,n=t.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s.refCleanup=t.refCleanup,s}function Em(t,n){t.flags&=65011714;var s=t.alternate;return s===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=s.childLanes,t.lanes=s.lanes,t.child=s.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=s.memoizedProps,t.memoizedState=s.memoizedState,t.updateQueue=s.updateQueue,t.type=s.type,n=s.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Ko(t,n,s,l,c,f){var y=0;if(l=t,typeof t=="function")Gc(t)&&(y=1);else if(typeof t=="string")y=eE(t,s,yt.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case I:return t=Mn(31,s,n,c),t.elementType=I,t.lanes=f,t;case it:return Ea(s.children,c,f,n);case B:y=8,c|=24;break;case J:return t=Mn(12,s,n,c|2),t.elementType=J,t.lanes=f,t;case _t:return t=Mn(13,s,n,c),t.elementType=_t,t.lanes=f,t;case Ct:return t=Mn(19,s,n,c),t.elementType=Ct,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case G:y=10;break t;case Z:y=9;break t;case ct:y=11;break t;case R:y=14;break t;case A:y=16,l=null;break t}y=29,s=Error(r(130,t===null?"null":typeof t,"")),l=null}return n=Mn(y,s,n,c),n.elementType=t,n.type=l,n.lanes=f,n}function Ea(t,n,s,l){return t=Mn(7,t,l,n),t.lanes=s,t}function Qc(t,n,s){return t=Mn(6,t,null,n),t.lanes=s,t}function Tm(t){var n=Mn(18,null,null,0);return n.stateNode=t,n}function Yc(t,n,s){return n=Mn(4,t.children!==null?t.children:[],t.key,n),n.lanes=s,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var xm=new WeakMap;function Kn(t,n){if(typeof t=="object"&&t!==null){var s=xm.get(t);return s!==void 0?s:(n={value:t,source:n,stack:hn(n)},xm.set(t,n),n)}return{value:t,source:n,stack:hn(n)}}var lr=[],or=0,Xo=null,gl=0,Xn=[],Zn=0,ws=null,Mi=1,ji="";function Zi(t,n){lr[or++]=gl,lr[or++]=Xo,Xo=t,gl=n}function Sm(t,n,s){Xn[Zn++]=Mi,Xn[Zn++]=ji,Xn[Zn++]=ws,ws=t;var l=Mi;t=ji;var c=32-Q(l)-1;l&=~(1<<c),s+=1;var f=32-Q(n)+c;if(30<f){var y=c-c%5;f=(l&(1<<y)-1).toString(32),l>>=y,c-=y,Mi=1<<32-Q(n)+c|s<<c|l,ji=f+t}else Mi=1<<f|s<<c|l,ji=t}function Kc(t){t.return!==null&&(Zi(t,1),Sm(t,1,0))}function Xc(t){for(;t===Xo;)Xo=lr[--or],lr[or]=null,gl=lr[--or],lr[or]=null;for(;t===ws;)ws=Xn[--Zn],Xn[Zn]=null,ji=Xn[--Zn],Xn[Zn]=null,Mi=Xn[--Zn],Xn[Zn]=null}function Am(t,n){Xn[Zn++]=Mi,Xn[Zn++]=ji,Xn[Zn++]=ws,Mi=n.id,ji=n.overflow,ws=t}var sn=null,Ee=null,Wt=!1,Cs=null,$n=!1,Zc=Error(r(519));function Rs(t){var n=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw pl(Kn(n,t)),Zc}function wm(t){var n=t.stateNode,s=t.type,l=t.memoizedProps;switch(n[ae]=t,n[he]=l,s){case"dialog":Qt("cancel",n),Qt("close",n);break;case"iframe":case"object":case"embed":Qt("load",n);break;case"video":case"audio":for(s=0;s<zl.length;s++)Qt(zl[s],n);break;case"source":Qt("error",n);break;case"img":case"image":case"link":Qt("error",n),Qt("load",n);break;case"details":Qt("toggle",n);break;case"input":Qt("invalid",n),Ro(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Qt("invalid",n);break;case"textarea":Qt("invalid",n),_s(n,l.value,l.defaultValue,l.children)}s=l.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||l.suppressHydrationWarning===!0||Hp(n.textContent,s)?(l.popover!=null&&(Qt("beforetoggle",n),Qt("toggle",n)),l.onScroll!=null&&Qt("scroll",n),l.onScrollEnd!=null&&Qt("scrollend",n),l.onClick!=null&&(n.onclick=ri),n=!0):n=!1,n||Rs(t,!0)}function Cm(t){for(sn=t.return;sn;)switch(sn.tag){case 5:case 31:case 13:$n=!1;return;case 27:case 3:$n=!0;return;default:sn=sn.return}}function ur(t){if(t!==sn)return!1;if(!Wt)return Cm(t),Wt=!0,!1;var n=t.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=t.type,s=!(s!=="form"&&s!=="button")||gf(t.type,t.memoizedProps)),s=!s),s&&Ee&&Rs(t),Cm(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));Ee=Jp(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));Ee=Jp(t)}else n===27?(n=Ee,Ps(t.type)?(t=bf,bf=null,Ee=t):Ee=n):Ee=sn?Wn(t.stateNode.nextSibling):null;return!0}function Ta(){Ee=sn=null,Wt=!1}function $c(){var t=Cs;return t!==null&&(Rn===null?Rn=t:Rn.push.apply(Rn,t),Cs=null),t}function pl(t){Cs===null?Cs=[t]:Cs.push(t)}var Jc=O(null),xa=null,$i=null;function Is(t,n,s){mt(Jc,n._currentValue),n._currentValue=s}function Ji(t){t._currentValue=Jc.current,tt(Jc)}function Wc(t,n,s){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===s)break;t=t.return}}function th(t,n,s,l){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var f=c.dependencies;if(f!==null){var y=c.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=c;for(var D=0;D<n.length;D++)if(E.context===n[D]){f.lanes|=s,E=f.alternate,E!==null&&(E.lanes|=s),Wc(f.return,s,t),l||(y=null);break t}f=E.next}}else if(c.tag===18){if(y=c.return,y===null)throw Error(r(341));y.lanes|=s,f=y.alternate,f!==null&&(f.lanes|=s),Wc(y,s,t),y=null}else y=c.child;if(y!==null)y.return=c;else for(y=c;y!==null;){if(y===t){y=null;break}if(c=y.sibling,c!==null){c.return=y.return,y=c;break}y=y.return}c=y}}function cr(t,n,s,l){t=null;for(var c=n,f=!1;c!==null;){if(!f){if((c.flags&524288)!==0)f=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var y=c.alternate;if(y===null)throw Error(r(387));if(y=y.memoizedProps,y!==null){var E=c.type;On(c.pendingProps.value,y.value)||(t!==null?t.push(E):t=[E])}}else if(c===ht.current){if(y=c.alternate,y===null)throw Error(r(387));y.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(Hl):t=[Hl])}c=c.return}t!==null&&th(n,t,s,l),n.flags|=262144}function Zo(t){for(t=t.firstContext;t!==null;){if(!On(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Sa(t){xa=t,$i=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function an(t){return Rm(xa,t)}function $o(t,n){return xa===null&&Sa(t),Rm(t,n)}function Rm(t,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},$i===null){if(t===null)throw Error(r(308));$i=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else $i=$i.next=n;return s}var $_=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(s,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(s){return s()})}},J_=a.unstable_scheduleCallback,W_=a.unstable_NormalPriority,Ue={$$typeof:G,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function eh(){return{controller:new $_,data:new Map,refCount:0}}function yl(t){t.refCount--,t.refCount===0&&J_(W_,function(){t.controller.abort()})}var vl=null,nh=0,hr=0,fr=null;function tb(t,n){if(vl===null){var s=vl=[];nh=0,hr=rf(),fr={status:"pending",value:void 0,then:function(l){s.push(l)}}}return nh++,n.then(Im,Im),n}function Im(){if(--nh===0&&vl!==null){fr!==null&&(fr.status="fulfilled");var t=vl;vl=null,hr=0,fr=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function eb(t,n){var s=[],l={status:"pending",value:null,reason:null,then:function(c){s.push(c)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var c=0;c<s.length;c++)(0,s[c])(n)},function(c){for(l.status="rejected",l.reason=c,c=0;c<s.length;c++)(0,s[c])(void 0)}),l}var Dm=$.S;$.S=function(t,n){dp=Ze(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&tb(t,n),Dm!==null&&Dm(t,n)};var Aa=O(null);function ih(){var t=Aa.current;return t!==null?t:_e.pooledCache}function Jo(t,n){n===null?mt(Aa,Aa.current):mt(Aa,n.pool)}function Nm(){var t=ih();return t===null?null:{parent:Ue._currentValue,pool:t}}var dr=Error(r(460)),sh=Error(r(474)),Wo=Error(r(542)),tu={then:function(){}};function Vm(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Om(t,n,s){switch(s=t[s],s===void 0?t.push(n):s!==n&&(n.then(ri,ri),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,jm(t),t;default:if(typeof n.status=="string")n.then(ri,ri);else{if(t=_e,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=l}},function(l){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,jm(t),t}throw Ca=n,dr}}function wa(t){try{var n=t._init;return n(t._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(Ca=s,dr):s}}var Ca=null;function Mm(){if(Ca===null)throw Error(r(459));var t=Ca;return Ca=null,t}function jm(t){if(t===dr||t===Wo)throw Error(r(483))}var mr=null,_l=0;function eu(t){var n=_l;return _l+=1,mr===null&&(mr=[]),Om(mr,t,n)}function bl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function nu(t,n){throw n.$$typeof===C?Error(r(525)):(t=Object.prototype.toString.call(n),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function Lm(t){function n(z,M){if(t){var P=z.deletions;P===null?(z.deletions=[M],z.flags|=16):P.push(M)}}function s(z,M){if(!t)return null;for(;M!==null;)n(z,M),M=M.sibling;return null}function l(z){for(var M=new Map;z!==null;)z.key!==null?M.set(z.key,z):M.set(z.index,z),z=z.sibling;return M}function c(z,M){return z=Xi(z,M),z.index=0,z.sibling=null,z}function f(z,M,P){return z.index=P,t?(P=z.alternate,P!==null?(P=P.index,P<M?(z.flags|=67108866,M):P):(z.flags|=67108866,M)):(z.flags|=1048576,M)}function y(z){return t&&z.alternate===null&&(z.flags|=67108866),z}function E(z,M,P,nt){return M===null||M.tag!==6?(M=Qc(P,z.mode,nt),M.return=z,M):(M=c(M,P),M.return=z,M)}function D(z,M,P,nt){var It=P.type;return It===it?W(z,M,P.props.children,nt,P.key):M!==null&&(M.elementType===It||typeof It=="object"&&It!==null&&It.$$typeof===A&&wa(It)===M.type)?(M=c(M,P.props),bl(M,P),M.return=z,M):(M=Ko(P.type,P.key,P.props,null,z.mode,nt),bl(M,P),M.return=z,M)}function H(z,M,P,nt){return M===null||M.tag!==4||M.stateNode.containerInfo!==P.containerInfo||M.stateNode.implementation!==P.implementation?(M=Yc(P,z.mode,nt),M.return=z,M):(M=c(M,P.children||[]),M.return=z,M)}function W(z,M,P,nt,It){return M===null||M.tag!==7?(M=Ea(P,z.mode,nt,It),M.return=z,M):(M=c(M,P),M.return=z,M)}function st(z,M,P){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=Qc(""+M,z.mode,P),M.return=z,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case N:return P=Ko(M.type,M.key,M.props,null,z.mode,P),bl(P,M),P.return=z,P;case F:return M=Yc(M,z.mode,P),M.return=z,M;case A:return M=wa(M),st(z,M,P)}if(Tt(M)||k(M))return M=Ea(M,z.mode,P,null),M.return=z,M;if(typeof M.then=="function")return st(z,eu(M),P);if(M.$$typeof===G)return st(z,$o(z,M),P);nu(z,M)}return null}function Y(z,M,P,nt){var It=M!==null?M.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return It!==null?null:E(z,M,""+P,nt);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case N:return P.key===It?D(z,M,P,nt):null;case F:return P.key===It?H(z,M,P,nt):null;case A:return P=wa(P),Y(z,M,P,nt)}if(Tt(P)||k(P))return It!==null?null:W(z,M,P,nt,null);if(typeof P.then=="function")return Y(z,M,eu(P),nt);if(P.$$typeof===G)return Y(z,M,$o(z,P),nt);nu(z,P)}return null}function X(z,M,P,nt,It){if(typeof nt=="string"&&nt!==""||typeof nt=="number"||typeof nt=="bigint")return z=z.get(P)||null,E(M,z,""+nt,It);if(typeof nt=="object"&&nt!==null){switch(nt.$$typeof){case N:return z=z.get(nt.key===null?P:nt.key)||null,D(M,z,nt,It);case F:return z=z.get(nt.key===null?P:nt.key)||null,H(M,z,nt,It);case A:return nt=wa(nt),X(z,M,P,nt,It)}if(Tt(nt)||k(nt))return z=z.get(P)||null,W(M,z,nt,It,null);if(typeof nt.then=="function")return X(z,M,P,eu(nt),It);if(nt.$$typeof===G)return X(z,M,P,$o(M,nt),It);nu(M,nt)}return null}function Et(z,M,P,nt){for(var It=null,ie=null,St=M,Ht=M=0,Kt=null;St!==null&&Ht<P.length;Ht++){St.index>Ht?(Kt=St,St=null):Kt=St.sibling;var se=Y(z,St,P[Ht],nt);if(se===null){St===null&&(St=Kt);break}t&&St&&se.alternate===null&&n(z,St),M=f(se,M,Ht),ie===null?It=se:ie.sibling=se,ie=se,St=Kt}if(Ht===P.length)return s(z,St),Wt&&Zi(z,Ht),It;if(St===null){for(;Ht<P.length;Ht++)St=st(z,P[Ht],nt),St!==null&&(M=f(St,M,Ht),ie===null?It=St:ie.sibling=St,ie=St);return Wt&&Zi(z,Ht),It}for(St=l(St);Ht<P.length;Ht++)Kt=X(St,z,Ht,P[Ht],nt),Kt!==null&&(t&&Kt.alternate!==null&&St.delete(Kt.key===null?Ht:Kt.key),M=f(Kt,M,Ht),ie===null?It=Kt:ie.sibling=Kt,ie=Kt);return t&&St.forEach(function(Ys){return n(z,Ys)}),Wt&&Zi(z,Ht),It}function Ot(z,M,P,nt){if(P==null)throw Error(r(151));for(var It=null,ie=null,St=M,Ht=M=0,Kt=null,se=P.next();St!==null&&!se.done;Ht++,se=P.next()){St.index>Ht?(Kt=St,St=null):Kt=St.sibling;var Ys=Y(z,St,se.value,nt);if(Ys===null){St===null&&(St=Kt);break}t&&St&&Ys.alternate===null&&n(z,St),M=f(Ys,M,Ht),ie===null?It=Ys:ie.sibling=Ys,ie=Ys,St=Kt}if(se.done)return s(z,St),Wt&&Zi(z,Ht),It;if(St===null){for(;!se.done;Ht++,se=P.next())se=st(z,se.value,nt),se!==null&&(M=f(se,M,Ht),ie===null?It=se:ie.sibling=se,ie=se);return Wt&&Zi(z,Ht),It}for(St=l(St);!se.done;Ht++,se=P.next())se=X(St,z,Ht,se.value,nt),se!==null&&(t&&se.alternate!==null&&St.delete(se.key===null?Ht:se.key),M=f(se,M,Ht),ie===null?It=se:ie.sibling=se,ie=se);return t&&St.forEach(function(fE){return n(z,fE)}),Wt&&Zi(z,Ht),It}function ve(z,M,P,nt){if(typeof P=="object"&&P!==null&&P.type===it&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case N:t:{for(var It=P.key;M!==null;){if(M.key===It){if(It=P.type,It===it){if(M.tag===7){s(z,M.sibling),nt=c(M,P.props.children),nt.return=z,z=nt;break t}}else if(M.elementType===It||typeof It=="object"&&It!==null&&It.$$typeof===A&&wa(It)===M.type){s(z,M.sibling),nt=c(M,P.props),bl(nt,P),nt.return=z,z=nt;break t}s(z,M);break}else n(z,M);M=M.sibling}P.type===it?(nt=Ea(P.props.children,z.mode,nt,P.key),nt.return=z,z=nt):(nt=Ko(P.type,P.key,P.props,null,z.mode,nt),bl(nt,P),nt.return=z,z=nt)}return y(z);case F:t:{for(It=P.key;M!==null;){if(M.key===It)if(M.tag===4&&M.stateNode.containerInfo===P.containerInfo&&M.stateNode.implementation===P.implementation){s(z,M.sibling),nt=c(M,P.children||[]),nt.return=z,z=nt;break t}else{s(z,M);break}else n(z,M);M=M.sibling}nt=Yc(P,z.mode,nt),nt.return=z,z=nt}return y(z);case A:return P=wa(P),ve(z,M,P,nt)}if(Tt(P))return Et(z,M,P,nt);if(k(P)){if(It=k(P),typeof It!="function")throw Error(r(150));return P=It.call(P),Ot(z,M,P,nt)}if(typeof P.then=="function")return ve(z,M,eu(P),nt);if(P.$$typeof===G)return ve(z,M,$o(z,P),nt);nu(z,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,M!==null&&M.tag===6?(s(z,M.sibling),nt=c(M,P),nt.return=z,z=nt):(s(z,M),nt=Qc(P,z.mode,nt),nt.return=z,z=nt),y(z)):s(z,M)}return function(z,M,P,nt){try{_l=0;var It=ve(z,M,P,nt);return mr=null,It}catch(St){if(St===dr||St===Wo)throw St;var ie=Mn(29,St,null,z.mode);return ie.lanes=nt,ie.return=z,ie}finally{}}}var Ra=Lm(!0),km=Lm(!1),Ds=!1;function ah(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function rh(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Ns(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Vs(t,n,s){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(le&2)!==0){var c=l.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),l.pending=n,n=Yo(t),bm(t,null,s),n}return Qo(t,l,n,s),Yo(t)}function El(t,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,s|=l,n.lanes=s,gs(t,s)}}function lh(t,n){var s=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var c=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var y={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?c=f=y:f=f.next=y,s=s.next}while(s!==null);f===null?c=f=n:f=f.next=n}else c=f=n;s={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=n:t.next=n,s.lastBaseUpdate=n}var oh=!1;function Tl(){if(oh){var t=fr;if(t!==null)throw t}}function xl(t,n,s,l){oh=!1;var c=t.updateQueue;Ds=!1;var f=c.firstBaseUpdate,y=c.lastBaseUpdate,E=c.shared.pending;if(E!==null){c.shared.pending=null;var D=E,H=D.next;D.next=null,y===null?f=H:y.next=H,y=D;var W=t.alternate;W!==null&&(W=W.updateQueue,E=W.lastBaseUpdate,E!==y&&(E===null?W.firstBaseUpdate=H:E.next=H,W.lastBaseUpdate=D))}if(f!==null){var st=c.baseState;y=0,W=H=D=null,E=f;do{var Y=E.lane&-536870913,X=Y!==E.lane;if(X?(Yt&Y)===Y:(l&Y)===Y){Y!==0&&Y===hr&&(oh=!0),W!==null&&(W=W.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var Et=t,Ot=E;Y=n;var ve=s;switch(Ot.tag){case 1:if(Et=Ot.payload,typeof Et=="function"){st=Et.call(ve,st,Y);break t}st=Et;break t;case 3:Et.flags=Et.flags&-65537|128;case 0:if(Et=Ot.payload,Y=typeof Et=="function"?Et.call(ve,st,Y):Et,Y==null)break t;st=S({},st,Y);break t;case 2:Ds=!0}}Y=E.callback,Y!==null&&(t.flags|=64,X&&(t.flags|=8192),X=c.callbacks,X===null?c.callbacks=[Y]:X.push(Y))}else X={lane:Y,tag:E.tag,payload:E.payload,callback:E.callback,next:null},W===null?(H=W=X,D=st):W=W.next=X,y|=Y;if(E=E.next,E===null){if(E=c.shared.pending,E===null)break;X=E,E=X.next,X.next=null,c.lastBaseUpdate=X,c.shared.pending=null}}while(!0);W===null&&(D=st),c.baseState=D,c.firstBaseUpdate=H,c.lastBaseUpdate=W,f===null&&(c.shared.lanes=0),ks|=y,t.lanes=y,t.memoizedState=st}}function zm(t,n){if(typeof t!="function")throw Error(r(191,t));t.call(n)}function Um(t,n){var s=t.callbacks;if(s!==null)for(t.callbacks=null,t=0;t<s.length;t++)zm(s[t],n)}var gr=O(null),iu=O(0);function Bm(t,n){t=ls,mt(iu,t),mt(gr,n),ls=t|n.baseLanes}function uh(){mt(iu,ls),mt(gr,gr.current)}function ch(){ls=iu.current,tt(gr),tt(iu)}var jn=O(null),Jn=null;function Os(t){var n=t.alternate;mt(Ve,Ve.current&1),mt(jn,t),Jn===null&&(n===null||gr.current!==null||n.memoizedState!==null)&&(Jn=t)}function hh(t){mt(Ve,Ve.current),mt(jn,t),Jn===null&&(Jn=t)}function qm(t){t.tag===22?(mt(Ve,Ve.current),mt(jn,t),Jn===null&&(Jn=t)):Ms()}function Ms(){mt(Ve,Ve.current),mt(jn,jn.current)}function Ln(t){tt(jn),Jn===t&&(Jn=null),tt(Ve)}var Ve=O(0);function su(t){for(var n=t;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||vf(s)||_f(s)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Wi=0,Pt=null,pe=null,Be=null,au=!1,pr=!1,Ia=!1,ru=0,Sl=0,yr=null,nb=0;function Ie(){throw Error(r(321))}function fh(t,n){if(n===null)return!1;for(var s=0;s<n.length&&s<t.length;s++)if(!On(t[s],n[s]))return!1;return!0}function dh(t,n,s,l,c,f){return Wi=f,Pt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,$.H=t===null||t.memoizedState===null?Sg:Rh,Ia=!1,f=s(l,c),Ia=!1,pr&&(f=Hm(n,s,l,c)),Pm(t),f}function Pm(t){$.H=Cl;var n=pe!==null&&pe.next!==null;if(Wi=0,Be=pe=Pt=null,au=!1,Sl=0,yr=null,n)throw Error(r(300));t===null||qe||(t=t.dependencies,t!==null&&Zo(t)&&(qe=!0))}function Hm(t,n,s,l){Pt=t;var c=0;do{if(pr&&(yr=null),Sl=0,pr=!1,25<=c)throw Error(r(301));if(c+=1,Be=pe=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}$.H=Ag,f=n(s,l)}while(pr);return f}function ib(){var t=$.H,n=t.useState()[0];return n=typeof n.then=="function"?Al(n):n,t=t.useState()[0],(pe!==null?pe.memoizedState:null)!==t&&(Pt.flags|=1024),n}function mh(){var t=ru!==0;return ru=0,t}function gh(t,n,s){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~s}function ph(t){if(au){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}au=!1}Wi=0,Be=pe=Pt=null,pr=!1,Sl=ru=0,yr=null}function vn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Be===null?Pt.memoizedState=Be=t:Be=Be.next=t,Be}function Oe(){if(pe===null){var t=Pt.alternate;t=t!==null?t.memoizedState:null}else t=pe.next;var n=Be===null?Pt.memoizedState:Be.next;if(n!==null)Be=n,pe=t;else{if(t===null)throw Pt.alternate===null?Error(r(467)):Error(r(310));pe=t,t={memoizedState:pe.memoizedState,baseState:pe.baseState,baseQueue:pe.baseQueue,queue:pe.queue,next:null},Be===null?Pt.memoizedState=Be=t:Be=Be.next=t}return Be}function lu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Al(t){var n=Sl;return Sl+=1,yr===null&&(yr=[]),t=Om(yr,t,n),n=Pt,(Be===null?n.memoizedState:Be.next)===null&&(n=n.alternate,$.H=n===null||n.memoizedState===null?Sg:Rh),t}function ou(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Al(t);if(t.$$typeof===G)return an(t)}throw Error(r(438,String(t)))}function yh(t){var n=null,s=Pt.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var l=Pt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=lu(),Pt.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(t),l=0;l<t;l++)s[l]=j;return n.index++,s}function ts(t,n){return typeof n=="function"?n(t):n}function uu(t){var n=Oe();return vh(n,pe,t)}function vh(t,n,s){var l=t.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=s;var c=t.baseQueue,f=l.pending;if(f!==null){if(c!==null){var y=c.next;c.next=f.next,f.next=y}n.baseQueue=c=f,l.pending=null}if(f=t.baseState,c===null)t.memoizedState=f;else{n=c.next;var E=y=null,D=null,H=n,W=!1;do{var st=H.lane&-536870913;if(st!==H.lane?(Yt&st)===st:(Wi&st)===st){var Y=H.revertLane;if(Y===0)D!==null&&(D=D.next={lane:0,revertLane:0,gesture:null,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),st===hr&&(W=!0);else if((Wi&Y)===Y){H=H.next,Y===hr&&(W=!0);continue}else st={lane:0,revertLane:H.revertLane,gesture:null,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},D===null?(E=D=st,y=f):D=D.next=st,Pt.lanes|=Y,ks|=Y;st=H.action,Ia&&s(f,st),f=H.hasEagerState?H.eagerState:s(f,st)}else Y={lane:st,revertLane:H.revertLane,gesture:H.gesture,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},D===null?(E=D=Y,y=f):D=D.next=Y,Pt.lanes|=st,ks|=st;H=H.next}while(H!==null&&H!==n);if(D===null?y=f:D.next=E,!On(f,t.memoizedState)&&(qe=!0,W&&(s=fr,s!==null)))throw s;t.memoizedState=f,t.baseState=y,t.baseQueue=D,l.lastRenderedState=f}return c===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function _h(t){var n=Oe(),s=n.queue;if(s===null)throw Error(r(311));s.lastRenderedReducer=t;var l=s.dispatch,c=s.pending,f=n.memoizedState;if(c!==null){s.pending=null;var y=c=c.next;do f=t(f,y.action),y=y.next;while(y!==c);On(f,n.memoizedState)||(qe=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),s.lastRenderedState=f}return[f,l]}function Fm(t,n,s){var l=Pt,c=Oe(),f=Wt;if(f){if(s===void 0)throw Error(r(407));s=s()}else s=n();var y=!On((pe||c).memoizedState,s);if(y&&(c.memoizedState=s,qe=!0),c=c.queue,Th(Ym.bind(null,l,c,t),[t]),c.getSnapshot!==n||y||Be!==null&&Be.memoizedState.tag&1){if(l.flags|=2048,vr(9,{destroy:void 0},Qm.bind(null,l,c,s,n),null),_e===null)throw Error(r(349));f||(Wi&127)!==0||Gm(l,n,s)}return s}function Gm(t,n,s){t.flags|=16384,t={getSnapshot:n,value:s},n=Pt.updateQueue,n===null?(n=lu(),Pt.updateQueue=n,n.stores=[t]):(s=n.stores,s===null?n.stores=[t]:s.push(t))}function Qm(t,n,s,l){n.value=s,n.getSnapshot=l,Km(n)&&Xm(t)}function Ym(t,n,s){return s(function(){Km(n)&&Xm(t)})}function Km(t){var n=t.getSnapshot;t=t.value;try{var s=n();return!On(t,s)}catch{return!0}}function Xm(t){var n=ba(t,2);n!==null&&In(n,t,2)}function bh(t){var n=vn();if(typeof t=="function"){var s=t;if(t=s(),Ia){L(!0);try{s()}finally{L(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ts,lastRenderedState:t},n}function Zm(t,n,s,l){return t.baseState=s,vh(t,pe,typeof l=="function"?l:ts)}function sb(t,n,s,l,c){if(fu(t))throw Error(r(485));if(t=n.action,t!==null){var f={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){f.listeners.push(y)}};$.T!==null?s(!0):f.isTransition=!1,l(f),s=n.pending,s===null?(f.next=n.pending=f,$m(n,f)):(f.next=s.next,n.pending=s.next=f)}}function $m(t,n){var s=n.action,l=n.payload,c=t.state;if(n.isTransition){var f=$.T,y={};$.T=y;try{var E=s(c,l),D=$.S;D!==null&&D(y,E),Jm(t,n,E)}catch(H){Eh(t,n,H)}finally{f!==null&&y.types!==null&&(f.types=y.types),$.T=f}}else try{f=s(c,l),Jm(t,n,f)}catch(H){Eh(t,n,H)}}function Jm(t,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(l){Wm(t,n,l)},function(l){return Eh(t,n,l)}):Wm(t,n,s)}function Wm(t,n,s){n.status="fulfilled",n.value=s,tg(n),t.state=s,n=t.pending,n!==null&&(s=n.next,s===n?t.pending=null:(s=s.next,n.next=s,$m(t,s)))}function Eh(t,n,s){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=s,tg(n),n=n.next;while(n!==l)}t.action=null}function tg(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function eg(t,n){return n}function ng(t,n){if(Wt){var s=_e.formState;if(s!==null){t:{var l=Pt;if(Wt){if(Ee){e:{for(var c=Ee,f=$n;c.nodeType!==8;){if(!f){c=null;break e}if(c=Wn(c.nextSibling),c===null){c=null;break e}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){Ee=Wn(c.nextSibling),l=c.data==="F!";break t}}Rs(l)}l=!1}l&&(n=s[0])}}return s=vn(),s.memoizedState=s.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:eg,lastRenderedState:n},s.queue=l,s=Eg.bind(null,Pt,l),l.dispatch=s,l=bh(!1),f=Ch.bind(null,Pt,!1,l.queue),l=vn(),c={state:n,dispatch:null,action:t,pending:null},l.queue=c,s=sb.bind(null,Pt,c,f,s),c.dispatch=s,l.memoizedState=t,[n,s,!1]}function ig(t){var n=Oe();return sg(n,pe,t)}function sg(t,n,s){if(n=vh(t,n,eg)[0],t=uu(ts)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=Al(n)}catch(y){throw y===dr?Wo:y}else l=n;n=Oe();var c=n.queue,f=c.dispatch;return s!==n.memoizedState&&(Pt.flags|=2048,vr(9,{destroy:void 0},ab.bind(null,c,s),null)),[l,f,t]}function ab(t,n){t.action=n}function ag(t){var n=Oe(),s=pe;if(s!==null)return sg(n,s,t);Oe(),n=n.memoizedState,s=Oe();var l=s.queue.dispatch;return s.memoizedState=t,[n,l,!1]}function vr(t,n,s,l){return t={tag:t,create:s,deps:l,inst:n,next:null},n=Pt.updateQueue,n===null&&(n=lu(),Pt.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=t.next=t:(l=s.next,s.next=t,t.next=l,n.lastEffect=t),t}function rg(){return Oe().memoizedState}function cu(t,n,s,l){var c=vn();Pt.flags|=t,c.memoizedState=vr(1|n,{destroy:void 0},s,l===void 0?null:l)}function hu(t,n,s,l){var c=Oe();l=l===void 0?null:l;var f=c.memoizedState.inst;pe!==null&&l!==null&&fh(l,pe.memoizedState.deps)?c.memoizedState=vr(n,f,s,l):(Pt.flags|=t,c.memoizedState=vr(1|n,f,s,l))}function lg(t,n){cu(8390656,8,t,n)}function Th(t,n){hu(2048,8,t,n)}function rb(t){Pt.flags|=4;var n=Pt.updateQueue;if(n===null)n=lu(),Pt.updateQueue=n,n.events=[t];else{var s=n.events;s===null?n.events=[t]:s.push(t)}}function og(t){var n=Oe().memoizedState;return rb({ref:n,nextImpl:t}),function(){if((le&2)!==0)throw Error(r(440));return n.impl.apply(void 0,arguments)}}function ug(t,n){return hu(4,2,t,n)}function cg(t,n){return hu(4,4,t,n)}function hg(t,n){if(typeof n=="function"){t=t();var s=n(t);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function fg(t,n,s){s=s!=null?s.concat([t]):null,hu(4,4,hg.bind(null,n,t),s)}function xh(){}function dg(t,n){var s=Oe();n=n===void 0?null:n;var l=s.memoizedState;return n!==null&&fh(n,l[1])?l[0]:(s.memoizedState=[t,n],t)}function mg(t,n){var s=Oe();n=n===void 0?null:n;var l=s.memoizedState;if(n!==null&&fh(n,l[1]))return l[0];if(l=t(),Ia){L(!0);try{t()}finally{L(!1)}}return s.memoizedState=[l,n],l}function Sh(t,n,s){return s===void 0||(Wi&1073741824)!==0&&(Yt&261930)===0?t.memoizedState=n:(t.memoizedState=s,t=gp(),Pt.lanes|=t,ks|=t,s)}function gg(t,n,s,l){return On(s,n)?s:gr.current!==null?(t=Sh(t,s,l),On(t,n)||(qe=!0),t):(Wi&42)===0||(Wi&1073741824)!==0&&(Yt&261930)===0?(qe=!0,t.memoizedState=s):(t=gp(),Pt.lanes|=t,ks|=t,n)}function pg(t,n,s,l,c){var f=ft.p;ft.p=f!==0&&8>f?f:8;var y=$.T,E={};$.T=E,Ch(t,!1,n,s);try{var D=c(),H=$.S;if(H!==null&&H(E,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var W=eb(D,l);wl(t,n,W,Un(t))}else wl(t,n,l,Un(t))}catch(st){wl(t,n,{then:function(){},status:"rejected",reason:st},Un())}finally{ft.p=f,y!==null&&E.types!==null&&(y.types=E.types),$.T=y}}function lb(){}function Ah(t,n,s,l){if(t.tag!==5)throw Error(r(476));var c=yg(t).queue;pg(t,c,n,At,s===null?lb:function(){return vg(t),s(l)})}function yg(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:At,baseState:At,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ts,lastRenderedState:At},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ts,lastRenderedState:s},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function vg(t){var n=yg(t);n.next===null&&(n=t.alternate.memoizedState),wl(t,n.next.queue,{},Un())}function wh(){return an(Hl)}function _g(){return Oe().memoizedState}function bg(){return Oe().memoizedState}function ob(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var s=Un();t=Ns(s);var l=Vs(n,t,s);l!==null&&(In(l,n,s),El(l,n,s)),n={cache:eh()},t.payload=n;return}n=n.return}}function ub(t,n,s){var l=Un();s={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},fu(t)?Tg(n,s):(s=Fc(t,n,s,l),s!==null&&(In(s,t,l),xg(s,n,l)))}function Eg(t,n,s){var l=Un();wl(t,n,s,l)}function wl(t,n,s,l){var c={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(fu(t))Tg(n,c);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var y=n.lastRenderedState,E=f(y,s);if(c.hasEagerState=!0,c.eagerState=E,On(E,y))return Qo(t,n,c,0),_e===null&&Go(),!1}catch{}finally{}if(s=Fc(t,n,c,l),s!==null)return In(s,t,l),xg(s,n,l),!0}return!1}function Ch(t,n,s,l){if(l={lane:2,revertLane:rf(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},fu(t)){if(n)throw Error(r(479))}else n=Fc(t,s,l,2),n!==null&&In(n,t,2)}function fu(t){var n=t.alternate;return t===Pt||n!==null&&n===Pt}function Tg(t,n){pr=au=!0;var s=t.pending;s===null?n.next=n:(n.next=s.next,s.next=n),t.pending=n}function xg(t,n,s){if((s&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,s|=l,n.lanes=s,gs(t,s)}}var Cl={readContext:an,use:ou,useCallback:Ie,useContext:Ie,useEffect:Ie,useImperativeHandle:Ie,useLayoutEffect:Ie,useInsertionEffect:Ie,useMemo:Ie,useReducer:Ie,useRef:Ie,useState:Ie,useDebugValue:Ie,useDeferredValue:Ie,useTransition:Ie,useSyncExternalStore:Ie,useId:Ie,useHostTransitionStatus:Ie,useFormState:Ie,useActionState:Ie,useOptimistic:Ie,useMemoCache:Ie,useCacheRefresh:Ie};Cl.useEffectEvent=Ie;var Sg={readContext:an,use:ou,useCallback:function(t,n){return vn().memoizedState=[t,n===void 0?null:n],t},useContext:an,useEffect:lg,useImperativeHandle:function(t,n,s){s=s!=null?s.concat([t]):null,cu(4194308,4,hg.bind(null,n,t),s)},useLayoutEffect:function(t,n){return cu(4194308,4,t,n)},useInsertionEffect:function(t,n){cu(4,2,t,n)},useMemo:function(t,n){var s=vn();n=n===void 0?null:n;var l=t();if(Ia){L(!0);try{t()}finally{L(!1)}}return s.memoizedState=[l,n],l},useReducer:function(t,n,s){var l=vn();if(s!==void 0){var c=s(n);if(Ia){L(!0);try{s(n)}finally{L(!1)}}}else c=n;return l.memoizedState=l.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},l.queue=t,t=t.dispatch=ub.bind(null,Pt,t),[l.memoizedState,t]},useRef:function(t){var n=vn();return t={current:t},n.memoizedState=t},useState:function(t){t=bh(t);var n=t.queue,s=Eg.bind(null,Pt,n);return n.dispatch=s,[t.memoizedState,s]},useDebugValue:xh,useDeferredValue:function(t,n){var s=vn();return Sh(s,t,n)},useTransition:function(){var t=bh(!1);return t=pg.bind(null,Pt,t.queue,!0,!1),vn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,s){var l=Pt,c=vn();if(Wt){if(s===void 0)throw Error(r(407));s=s()}else{if(s=n(),_e===null)throw Error(r(349));(Yt&127)!==0||Gm(l,n,s)}c.memoizedState=s;var f={value:s,getSnapshot:n};return c.queue=f,lg(Ym.bind(null,l,f,t),[t]),l.flags|=2048,vr(9,{destroy:void 0},Qm.bind(null,l,f,s,n),null),s},useId:function(){var t=vn(),n=_e.identifierPrefix;if(Wt){var s=ji,l=Mi;s=(l&~(1<<32-Q(l)-1)).toString(32)+s,n="_"+n+"R_"+s,s=ru++,0<s&&(n+="H"+s.toString(32)),n+="_"}else s=nb++,n="_"+n+"r_"+s.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:wh,useFormState:ng,useActionState:ng,useOptimistic:function(t){var n=vn();n.memoizedState=n.baseState=t;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=Ch.bind(null,Pt,!0,s),s.dispatch=n,[t,n]},useMemoCache:yh,useCacheRefresh:function(){return vn().memoizedState=ob.bind(null,Pt)},useEffectEvent:function(t){var n=vn(),s={impl:t};return n.memoizedState=s,function(){if((le&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}},Rh={readContext:an,use:ou,useCallback:dg,useContext:an,useEffect:Th,useImperativeHandle:fg,useInsertionEffect:ug,useLayoutEffect:cg,useMemo:mg,useReducer:uu,useRef:rg,useState:function(){return uu(ts)},useDebugValue:xh,useDeferredValue:function(t,n){var s=Oe();return gg(s,pe.memoizedState,t,n)},useTransition:function(){var t=uu(ts)[0],n=Oe().memoizedState;return[typeof t=="boolean"?t:Al(t),n]},useSyncExternalStore:Fm,useId:_g,useHostTransitionStatus:wh,useFormState:ig,useActionState:ig,useOptimistic:function(t,n){var s=Oe();return Zm(s,pe,t,n)},useMemoCache:yh,useCacheRefresh:bg};Rh.useEffectEvent=og;var Ag={readContext:an,use:ou,useCallback:dg,useContext:an,useEffect:Th,useImperativeHandle:fg,useInsertionEffect:ug,useLayoutEffect:cg,useMemo:mg,useReducer:_h,useRef:rg,useState:function(){return _h(ts)},useDebugValue:xh,useDeferredValue:function(t,n){var s=Oe();return pe===null?Sh(s,t,n):gg(s,pe.memoizedState,t,n)},useTransition:function(){var t=_h(ts)[0],n=Oe().memoizedState;return[typeof t=="boolean"?t:Al(t),n]},useSyncExternalStore:Fm,useId:_g,useHostTransitionStatus:wh,useFormState:ag,useActionState:ag,useOptimistic:function(t,n){var s=Oe();return pe!==null?Zm(s,pe,t,n):(s.baseState=t,[t,s.queue.dispatch])},useMemoCache:yh,useCacheRefresh:bg};Ag.useEffectEvent=og;function Ih(t,n,s,l){n=t.memoizedState,s=s(l,n),s=s==null?n:S({},n,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var Dh={enqueueSetState:function(t,n,s){t=t._reactInternals;var l=Un(),c=Ns(l);c.payload=n,s!=null&&(c.callback=s),n=Vs(t,c,l),n!==null&&(In(n,t,l),El(n,t,l))},enqueueReplaceState:function(t,n,s){t=t._reactInternals;var l=Un(),c=Ns(l);c.tag=1,c.payload=n,s!=null&&(c.callback=s),n=Vs(t,c,l),n!==null&&(In(n,t,l),El(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var s=Un(),l=Ns(s);l.tag=2,n!=null&&(l.callback=n),n=Vs(t,l,s),n!==null&&(In(n,t,s),El(n,t,s))}};function wg(t,n,s,l,c,f,y){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,y):n.prototype&&n.prototype.isPureReactComponent?!dl(s,l)||!dl(c,f):!0}function Cg(t,n,s,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,l),n.state!==t&&Dh.enqueueReplaceState(n,n.state,null)}function Da(t,n){var s=n;if("ref"in n){s={};for(var l in n)l!=="ref"&&(s[l]=n[l])}if(t=t.defaultProps){s===n&&(s=S({},s));for(var c in t)s[c]===void 0&&(s[c]=t[c])}return s}function Rg(t){Fo(t)}function Ig(t){console.error(t)}function Dg(t){Fo(t)}function du(t,n){try{var s=t.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Ng(t,n,s){try{var l=t.onCaughtError;l(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function Nh(t,n,s){return s=Ns(s),s.tag=3,s.payload={element:null},s.callback=function(){du(t,n)},s}function Vg(t){return t=Ns(t),t.tag=3,t}function Og(t,n,s,l){var c=s.type.getDerivedStateFromError;if(typeof c=="function"){var f=l.value;t.payload=function(){return c(f)},t.callback=function(){Ng(n,s,l)}}var y=s.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(t.callback=function(){Ng(n,s,l),typeof c!="function"&&(zs===null?zs=new Set([this]):zs.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function cb(t,n,s,l,c){if(s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=s.alternate,n!==null&&cr(n,s,c,!0),s=jn.current,s!==null){switch(s.tag){case 31:case 13:return Jn===null?Au():s.alternate===null&&De===0&&(De=3),s.flags&=-257,s.flags|=65536,s.lanes=c,l===tu?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([l]):n.add(l),nf(t,l,c)),!1;case 22:return s.flags|=65536,l===tu?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([l]):s.add(l)),nf(t,l,c)),!1}throw Error(r(435,s.tag))}return nf(t,l,c),Au(),!1}if(Wt)return n=jn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,l!==Zc&&(t=Error(r(422),{cause:l}),pl(Kn(t,s)))):(l!==Zc&&(n=Error(r(423),{cause:l}),pl(Kn(n,s))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,l=Kn(l,s),c=Nh(t.stateNode,l,c),lh(t,c),De!==4&&(De=2)),!1;var f=Error(r(520),{cause:l});if(f=Kn(f,s),jl===null?jl=[f]:jl.push(f),De!==4&&(De=2),n===null)return!0;l=Kn(l,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,t=c&-c,s.lanes|=t,t=Nh(s.stateNode,l,t),lh(s,t),!1;case 1:if(n=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(zs===null||!zs.has(f))))return s.flags|=65536,c&=-c,s.lanes|=c,c=Vg(c),Og(c,t,s,l),lh(s,c),!1}s=s.return}while(s!==null);return!1}var Vh=Error(r(461)),qe=!1;function rn(t,n,s,l){n.child=t===null?km(n,null,s,l):Ra(n,t.child,s,l)}function Mg(t,n,s,l,c){s=s.render;var f=n.ref;if("ref"in l){var y={};for(var E in l)E!=="ref"&&(y[E]=l[E])}else y=l;return Sa(n),l=dh(t,n,s,y,f,c),E=mh(),t!==null&&!qe?(gh(t,n,c),es(t,n,c)):(Wt&&E&&Kc(n),n.flags|=1,rn(t,n,l,c),n.child)}function jg(t,n,s,l,c){if(t===null){var f=s.type;return typeof f=="function"&&!Gc(f)&&f.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=f,Lg(t,n,f,l,c)):(t=Ko(s.type,null,l,n,n.mode,c),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!Bh(t,c)){var y=f.memoizedProps;if(s=s.compare,s=s!==null?s:dl,s(y,l)&&t.ref===n.ref)return es(t,n,c)}return n.flags|=1,t=Xi(f,l),t.ref=n.ref,t.return=n,n.child=t}function Lg(t,n,s,l,c){if(t!==null){var f=t.memoizedProps;if(dl(f,l)&&t.ref===n.ref)if(qe=!1,n.pendingProps=l=f,Bh(t,c))(t.flags&131072)!==0&&(qe=!0);else return n.lanes=t.lanes,es(t,n,c)}return Oh(t,n,s,l,c)}function kg(t,n,s,l){var c=l.children,f=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|s:s,t!==null){for(l=n.child=t.child,c=0;l!==null;)c=c|l.lanes|l.childLanes,l=l.sibling;l=c&~f}else l=0,n.child=null;return zg(t,n,f,s,l)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Jo(n,f!==null?f.cachePool:null),f!==null?Bm(n,f):uh(),qm(n);else return l=n.lanes=536870912,zg(t,n,f!==null?f.baseLanes|s:s,s,l)}else f!==null?(Jo(n,f.cachePool),Bm(n,f),Ms(),n.memoizedState=null):(t!==null&&Jo(n,null),uh(),Ms());return rn(t,n,c,s),n.child}function Rl(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function zg(t,n,s,l,c){var f=ih();return f=f===null?null:{parent:Ue._currentValue,pool:f},n.memoizedState={baseLanes:s,cachePool:f},t!==null&&Jo(n,null),uh(),qm(n),t!==null&&cr(t,n,l,!0),n.childLanes=c,null}function mu(t,n){return n=pu({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function Ug(t,n,s){return Ra(n,t.child,null,s),t=mu(n,n.pendingProps),t.flags|=2,Ln(n),n.memoizedState=null,t}function hb(t,n,s){var l=n.pendingProps,c=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(Wt){if(l.mode==="hidden")return t=mu(n,l),n.lanes=536870912,Rl(null,t);if(hh(n),(t=Ee)?(t=$p(t,$n),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:ws!==null?{id:Mi,overflow:ji}:null,retryLane:536870912,hydrationErrors:null},s=Tm(t),s.return=n,n.child=s,sn=n,Ee=null)):t=null,t===null)throw Rs(n);return n.lanes=536870912,null}return mu(n,l)}var f=t.memoizedState;if(f!==null){var y=f.dehydrated;if(hh(n),c)if(n.flags&256)n.flags&=-257,n=Ug(t,n,s);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(r(558));else if(qe||cr(t,n,s,!1),c=(s&t.childLanes)!==0,qe||c){if(l=_e,l!==null&&(y=ps(l,s),y!==0&&y!==f.retryLane))throw f.retryLane=y,ba(t,y),In(l,t,y),Vh;Au(),n=Ug(t,n,s)}else t=f.treeContext,Ee=Wn(y.nextSibling),sn=n,Wt=!0,Cs=null,$n=!1,t!==null&&Am(n,t),n=mu(n,l),n.flags|=4096;return n}return t=Xi(t.child,{mode:l.mode,children:l.children}),t.ref=n.ref,n.child=t,t.return=n,t}function gu(t,n){var s=n.ref;if(s===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(r(284));(t===null||t.ref!==s)&&(n.flags|=4194816)}}function Oh(t,n,s,l,c){return Sa(n),s=dh(t,n,s,l,void 0,c),l=mh(),t!==null&&!qe?(gh(t,n,c),es(t,n,c)):(Wt&&l&&Kc(n),n.flags|=1,rn(t,n,s,c),n.child)}function Bg(t,n,s,l,c,f){return Sa(n),n.updateQueue=null,s=Hm(n,l,s,c),Pm(t),l=mh(),t!==null&&!qe?(gh(t,n,f),es(t,n,f)):(Wt&&l&&Kc(n),n.flags|=1,rn(t,n,s,f),n.child)}function qg(t,n,s,l,c){if(Sa(n),n.stateNode===null){var f=rr,y=s.contextType;typeof y=="object"&&y!==null&&(f=an(y)),f=new s(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Dh,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},ah(n),y=s.contextType,f.context=typeof y=="object"&&y!==null?an(y):rr,f.state=n.memoizedState,y=s.getDerivedStateFromProps,typeof y=="function"&&(Ih(n,s,y,l),f.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(y=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),y!==f.state&&Dh.enqueueReplaceState(f,f.state,null),xl(n,l,f,c),Tl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var E=n.memoizedProps,D=Da(s,E);f.props=D;var H=f.context,W=s.contextType;y=rr,typeof W=="object"&&W!==null&&(y=an(W));var st=s.getDerivedStateFromProps;W=typeof st=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,W||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||H!==y)&&Cg(n,f,l,y),Ds=!1;var Y=n.memoizedState;f.state=Y,xl(n,l,f,c),Tl(),H=n.memoizedState,E||Y!==H||Ds?(typeof st=="function"&&(Ih(n,s,st,l),H=n.memoizedState),(D=Ds||wg(n,s,D,l,Y,H,y))?(W||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=H),f.props=l,f.state=H,f.context=y,l=D):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,rh(t,n),y=n.memoizedProps,W=Da(s,y),f.props=W,st=n.pendingProps,Y=f.context,H=s.contextType,D=rr,typeof H=="object"&&H!==null&&(D=an(H)),E=s.getDerivedStateFromProps,(H=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(y!==st||Y!==D)&&Cg(n,f,l,D),Ds=!1,Y=n.memoizedState,f.state=Y,xl(n,l,f,c),Tl();var X=n.memoizedState;y!==st||Y!==X||Ds||t!==null&&t.dependencies!==null&&Zo(t.dependencies)?(typeof E=="function"&&(Ih(n,s,E,l),X=n.memoizedState),(W=Ds||wg(n,s,W,l,Y,X,D)||t!==null&&t.dependencies!==null&&Zo(t.dependencies))?(H||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,X,D),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,X,D)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&Y===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&Y===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=X),f.props=l,f.state=X,f.context=D,l=W):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&Y===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&Y===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,gu(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,s=l&&typeof s.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=Ra(n,t.child,null,c),n.child=Ra(n,null,s,c)):rn(t,n,s,c),n.memoizedState=f.state,t=n.child):t=es(t,n,c),t}function Pg(t,n,s,l){return Ta(),n.flags|=256,rn(t,n,s,l),n.child}var Mh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function jh(t){return{baseLanes:t,cachePool:Nm()}}function Lh(t,n,s){return t=t!==null?t.childLanes&~s:0,n&&(t|=zn),t}function Hg(t,n,s){var l=n.pendingProps,c=!1,f=(n.flags&128)!==0,y;if((y=f)||(y=t!==null&&t.memoizedState===null?!1:(Ve.current&2)!==0),y&&(c=!0,n.flags&=-129),y=(n.flags&32)!==0,n.flags&=-33,t===null){if(Wt){if(c?Os(n):Ms(),(t=Ee)?(t=$p(t,$n),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:ws!==null?{id:Mi,overflow:ji}:null,retryLane:536870912,hydrationErrors:null},s=Tm(t),s.return=n,n.child=s,sn=n,Ee=null)):t=null,t===null)throw Rs(n);return _f(t)?n.lanes=32:n.lanes=536870912,null}var E=l.children;return l=l.fallback,c?(Ms(),c=n.mode,E=pu({mode:"hidden",children:E},c),l=Ea(l,c,s,null),E.return=n,l.return=n,E.sibling=l,n.child=E,l=n.child,l.memoizedState=jh(s),l.childLanes=Lh(t,y,s),n.memoizedState=Mh,Rl(null,l)):(Os(n),kh(n,E))}var D=t.memoizedState;if(D!==null&&(E=D.dehydrated,E!==null)){if(f)n.flags&256?(Os(n),n.flags&=-257,n=zh(t,n,s)):n.memoizedState!==null?(Ms(),n.child=t.child,n.flags|=128,n=null):(Ms(),E=l.fallback,c=n.mode,l=pu({mode:"visible",children:l.children},c),E=Ea(E,c,s,null),E.flags|=2,l.return=n,E.return=n,l.sibling=E,n.child=l,Ra(n,t.child,null,s),l=n.child,l.memoizedState=jh(s),l.childLanes=Lh(t,y,s),n.memoizedState=Mh,n=Rl(null,l));else if(Os(n),_f(E)){if(y=E.nextSibling&&E.nextSibling.dataset,y)var H=y.dgst;y=H,l=Error(r(419)),l.stack="",l.digest=y,pl({value:l,source:null,stack:null}),n=zh(t,n,s)}else if(qe||cr(t,n,s,!1),y=(s&t.childLanes)!==0,qe||y){if(y=_e,y!==null&&(l=ps(y,s),l!==0&&l!==D.retryLane))throw D.retryLane=l,ba(t,l),In(y,t,l),Vh;vf(E)||Au(),n=zh(t,n,s)}else vf(E)?(n.flags|=192,n.child=t.child,n=null):(t=D.treeContext,Ee=Wn(E.nextSibling),sn=n,Wt=!0,Cs=null,$n=!1,t!==null&&Am(n,t),n=kh(n,l.children),n.flags|=4096);return n}return c?(Ms(),E=l.fallback,c=n.mode,D=t.child,H=D.sibling,l=Xi(D,{mode:"hidden",children:l.children}),l.subtreeFlags=D.subtreeFlags&65011712,H!==null?E=Xi(H,E):(E=Ea(E,c,s,null),E.flags|=2),E.return=n,l.return=n,l.sibling=E,n.child=l,Rl(null,l),l=n.child,E=t.child.memoizedState,E===null?E=jh(s):(c=E.cachePool,c!==null?(D=Ue._currentValue,c=c.parent!==D?{parent:D,pool:D}:c):c=Nm(),E={baseLanes:E.baseLanes|s,cachePool:c}),l.memoizedState=E,l.childLanes=Lh(t,y,s),n.memoizedState=Mh,Rl(t.child,l)):(Os(n),s=t.child,t=s.sibling,s=Xi(s,{mode:"visible",children:l.children}),s.return=n,s.sibling=null,t!==null&&(y=n.deletions,y===null?(n.deletions=[t],n.flags|=16):y.push(t)),n.child=s,n.memoizedState=null,s)}function kh(t,n){return n=pu({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function pu(t,n){return t=Mn(22,t,null,n),t.lanes=0,t}function zh(t,n,s){return Ra(n,t.child,null,s),t=kh(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function Fg(t,n,s){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),Wc(t.return,n,s)}function Uh(t,n,s,l,c,f){var y=t.memoizedState;y===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:c,treeForkCount:f}:(y.isBackwards=n,y.rendering=null,y.renderingStartTime=0,y.last=l,y.tail=s,y.tailMode=c,y.treeForkCount=f)}function Gg(t,n,s){var l=n.pendingProps,c=l.revealOrder,f=l.tail;l=l.children;var y=Ve.current,E=(y&2)!==0;if(E?(y=y&1|2,n.flags|=128):y&=1,mt(Ve,y),rn(t,n,l,s),l=Wt?gl:0,!E&&t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Fg(t,s,n);else if(t.tag===19)Fg(t,s,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(c){case"forwards":for(s=n.child,c=null;s!==null;)t=s.alternate,t!==null&&su(t)===null&&(c=s),s=s.sibling;s=c,s===null?(c=n.child,n.child=null):(c=s.sibling,s.sibling=null),Uh(n,!1,c,s,f,l);break;case"backwards":case"unstable_legacy-backwards":for(s=null,c=n.child,n.child=null;c!==null;){if(t=c.alternate,t!==null&&su(t)===null){n.child=c;break}t=c.sibling,c.sibling=s,s=c,c=t}Uh(n,!0,s,null,f,l);break;case"together":Uh(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function es(t,n,s){if(t!==null&&(n.dependencies=t.dependencies),ks|=n.lanes,(s&n.childLanes)===0)if(t!==null){if(cr(t,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(r(153));if(n.child!==null){for(t=n.child,s=Xi(t,t.pendingProps),n.child=s,s.return=n;t.sibling!==null;)t=t.sibling,s=s.sibling=Xi(t,t.pendingProps),s.return=n;s.sibling=null}return n.child}function Bh(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Zo(t)))}function fb(t,n,s){switch(n.tag){case 3:Dt(n,n.stateNode.containerInfo),Is(n,Ue,t.memoizedState.cache),Ta();break;case 27:case 5:je(n);break;case 4:Dt(n,n.stateNode.containerInfo);break;case 10:Is(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,hh(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(Os(n),n.flags|=128,null):(s&n.child.childLanes)!==0?Hg(t,n,s):(Os(n),t=es(t,n,s),t!==null?t.sibling:null);Os(n);break;case 19:var c=(t.flags&128)!==0;if(l=(s&n.childLanes)!==0,l||(cr(t,n,s,!1),l=(s&n.childLanes)!==0),c){if(l)return Gg(t,n,s);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),mt(Ve,Ve.current),l)break;return null;case 22:return n.lanes=0,kg(t,n,s,n.pendingProps);case 24:Is(n,Ue,t.memoizedState.cache)}return es(t,n,s)}function Qg(t,n,s){if(t!==null)if(t.memoizedProps!==n.pendingProps)qe=!0;else{if(!Bh(t,s)&&(n.flags&128)===0)return qe=!1,fb(t,n,s);qe=(t.flags&131072)!==0}else qe=!1,Wt&&(n.flags&1048576)!==0&&Sm(n,gl,n.index);switch(n.lanes=0,n.tag){case 16:t:{var l=n.pendingProps;if(t=wa(n.elementType),n.type=t,typeof t=="function")Gc(t)?(l=Da(t,l),n.tag=1,n=qg(null,n,t,l,s)):(n.tag=0,n=Oh(null,n,t,l,s));else{if(t!=null){var c=t.$$typeof;if(c===ct){n.tag=11,n=Mg(null,n,t,l,s);break t}else if(c===R){n.tag=14,n=jg(null,n,t,l,s);break t}}throw n=zt(t)||t,Error(r(306,n,""))}}return n;case 0:return Oh(t,n,n.type,n.pendingProps,s);case 1:return l=n.type,c=Da(l,n.pendingProps),qg(t,n,l,c,s);case 3:t:{if(Dt(n,n.stateNode.containerInfo),t===null)throw Error(r(387));l=n.pendingProps;var f=n.memoizedState;c=f.element,rh(t,n),xl(n,l,null,s);var y=n.memoizedState;if(l=y.cache,Is(n,Ue,l),l!==f.cache&&th(n,[Ue],s,!0),Tl(),l=y.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:y.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Pg(t,n,l,s);break t}else if(l!==c){c=Kn(Error(r(424)),n),pl(c),n=Pg(t,n,l,s);break t}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Ee=Wn(t.firstChild),sn=n,Wt=!0,Cs=null,$n=!0,s=km(n,null,l,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(Ta(),l===c){n=es(t,n,s);break t}rn(t,n,l,s)}n=n.child}return n;case 26:return gu(t,n),t===null?(s=iy(n.type,null,n.pendingProps,null))?n.memoizedState=s:Wt||(s=n.type,t=n.pendingProps,l=Vu(ot.current).createElement(s),l[ae]=n,l[he]=t,ln(l,s,t),ke(l),n.stateNode=l):n.memoizedState=iy(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return je(n),t===null&&Wt&&(l=n.stateNode=ty(n.type,n.pendingProps,ot.current),sn=n,$n=!0,c=Ee,Ps(n.type)?(bf=c,Ee=Wn(l.firstChild)):Ee=c),rn(t,n,n.pendingProps.children,s),gu(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Wt&&((c=l=Ee)&&(l=Pb(l,n.type,n.pendingProps,$n),l!==null?(n.stateNode=l,sn=n,Ee=Wn(l.firstChild),$n=!1,c=!0):c=!1),c||Rs(n)),je(n),c=n.type,f=n.pendingProps,y=t!==null?t.memoizedProps:null,l=f.children,gf(c,f)?l=null:y!==null&&gf(c,y)&&(n.flags|=32),n.memoizedState!==null&&(c=dh(t,n,ib,null,null,s),Hl._currentValue=c),gu(t,n),rn(t,n,l,s),n.child;case 6:return t===null&&Wt&&((t=s=Ee)&&(s=Hb(s,n.pendingProps,$n),s!==null?(n.stateNode=s,sn=n,Ee=null,t=!0):t=!1),t||Rs(n)),null;case 13:return Hg(t,n,s);case 4:return Dt(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=Ra(n,null,l,s):rn(t,n,l,s),n.child;case 11:return Mg(t,n,n.type,n.pendingProps,s);case 7:return rn(t,n,n.pendingProps,s),n.child;case 8:return rn(t,n,n.pendingProps.children,s),n.child;case 12:return rn(t,n,n.pendingProps.children,s),n.child;case 10:return l=n.pendingProps,Is(n,n.type,l.value),rn(t,n,l.children,s),n.child;case 9:return c=n.type._context,l=n.pendingProps.children,Sa(n),c=an(c),l=l(c),n.flags|=1,rn(t,n,l,s),n.child;case 14:return jg(t,n,n.type,n.pendingProps,s);case 15:return Lg(t,n,n.type,n.pendingProps,s);case 19:return Gg(t,n,s);case 31:return hb(t,n,s);case 22:return kg(t,n,s,n.pendingProps);case 24:return Sa(n),l=an(Ue),t===null?(c=ih(),c===null&&(c=_e,f=eh(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=s),c=f),n.memoizedState={parent:l,cache:c},ah(n),Is(n,Ue,c)):((t.lanes&s)!==0&&(rh(t,n),xl(n,null,null,s),Tl()),c=t.memoizedState,f=n.memoizedState,c.parent!==l?(c={parent:l,cache:l},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),Is(n,Ue,l)):(l=f.cache,Is(n,Ue,l),l!==c.cache&&th(n,[Ue],s,!0))),rn(t,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(r(156,n.tag))}function ns(t){t.flags|=4}function qh(t,n,s,l,c){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(c&335544128)===c)if(t.stateNode.complete)t.flags|=8192;else if(_p())t.flags|=8192;else throw Ca=tu,sh}else t.flags&=-16777217}function Yg(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!oy(n))if(_p())t.flags|=8192;else throw Ca=tu,sh}function yu(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?ai():536870912,t.lanes|=n,Tr|=n)}function Il(t,n){if(!Wt)switch(t.tailMode){case"hidden":n=t.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function Te(t){var n=t.alternate!==null&&t.alternate.child===t.child,s=0,l=0;if(n)for(var c=t.child;c!==null;)s|=c.lanes|c.childLanes,l|=c.subtreeFlags&65011712,l|=c.flags&65011712,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)s|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=l,t.childLanes=s,n}function db(t,n,s){var l=n.pendingProps;switch(Xc(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Te(n),null;case 1:return Te(n),null;case 3:return s=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Ji(Ue),ut(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(ur(n)?ns(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,$c())),Te(n),null;case 26:var c=n.type,f=n.memoizedState;return t===null?(ns(n),f!==null?(Te(n),Yg(n,f)):(Te(n),qh(n,c,null,l,s))):f?f!==t.memoizedState?(ns(n),Te(n),Yg(n,f)):(Te(n),n.flags&=-16777217):(t=t.memoizedProps,t!==l&&ns(n),Te(n),qh(n,c,t,l,s)),null;case 27:if(Xe(n),s=ot.current,c=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&ns(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return Te(n),null}t=yt.current,ur(n)?wm(n):(t=ty(c,l,s),n.stateNode=t,ns(n))}return Te(n),null;case 5:if(Xe(n),c=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&ns(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return Te(n),null}if(f=yt.current,ur(n))wm(n);else{var y=Vu(ot.current);switch(f){case 1:f=y.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:f=y.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":f=y.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":f=y.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":f=y.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?y.createElement("select",{is:l.is}):y.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?y.createElement(c,{is:l.is}):y.createElement(c)}}f[ae]=n,f[he]=l;t:for(y=n.child;y!==null;){if(y.tag===5||y.tag===6)f.appendChild(y.stateNode);else if(y.tag!==4&&y.tag!==27&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===n)break t;for(;y.sibling===null;){if(y.return===null||y.return===n)break t;y=y.return}y.sibling.return=y.return,y=y.sibling}n.stateNode=f;t:switch(ln(f,c,l),c){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&ns(n)}}return Te(n),qh(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,s),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&ns(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(r(166));if(t=ot.current,ur(n)){if(t=n.stateNode,s=n.memoizedProps,l=null,c=sn,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}t[ae]=n,t=!!(t.nodeValue===s||l!==null&&l.suppressHydrationWarning===!0||Hp(t.nodeValue,s)),t||Rs(n,!0)}else t=Vu(t).createTextNode(l),t[ae]=n,n.stateNode=t}return Te(n),null;case 31:if(s=n.memoizedState,t===null||t.memoizedState!==null){if(l=ur(n),s!==null){if(t===null){if(!l)throw Error(r(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(557));t[ae]=n}else Ta(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Te(n),t=!1}else s=$c(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=s),t=!0;if(!t)return n.flags&256?(Ln(n),n):(Ln(n),null);if((n.flags&128)!==0)throw Error(r(558))}return Te(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=ur(n),l!==null&&l.dehydrated!==null){if(t===null){if(!c)throw Error(r(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(r(317));c[ae]=n}else Ta(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Te(n),c=!1}else c=$c(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(Ln(n),n):(Ln(n),null)}return Ln(n),(n.flags&128)!==0?(n.lanes=s,n):(s=l!==null,t=t!==null&&t.memoizedState!==null,s&&(l=n.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==c&&(l.flags|=2048)),s!==t&&s&&(n.child.flags|=8192),yu(n,n.updateQueue),Te(n),null);case 4:return ut(),t===null&&cf(n.stateNode.containerInfo),Te(n),null;case 10:return Ji(n.type),Te(n),null;case 19:if(tt(Ve),l=n.memoizedState,l===null)return Te(n),null;if(c=(n.flags&128)!==0,f=l.rendering,f===null)if(c)Il(l,!1);else{if(De!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=su(t),f!==null){for(n.flags|=128,Il(l,!1),t=f.updateQueue,n.updateQueue=t,yu(n,t),n.subtreeFlags=0,t=s,s=n.child;s!==null;)Em(s,t),s=s.sibling;return mt(Ve,Ve.current&1|2),Wt&&Zi(n,l.treeForkCount),n.child}t=t.sibling}l.tail!==null&&Ze()>Tu&&(n.flags|=128,c=!0,Il(l,!1),n.lanes=4194304)}else{if(!c)if(t=su(f),t!==null){if(n.flags|=128,c=!0,t=t.updateQueue,n.updateQueue=t,yu(n,t),Il(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!Wt)return Te(n),null}else 2*Ze()-l.renderingStartTime>Tu&&s!==536870912&&(n.flags|=128,c=!0,Il(l,!1),n.lanes=4194304);l.isBackwards?(f.sibling=n.child,n.child=f):(t=l.last,t!==null?t.sibling=f:n.child=f,l.last=f)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=Ze(),t.sibling=null,s=Ve.current,mt(Ve,c?s&1|2:s&1),Wt&&Zi(n,l.treeForkCount),t):(Te(n),null);case 22:case 23:return Ln(n),ch(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(s&536870912)!==0&&(n.flags&128)===0&&(Te(n),n.subtreeFlags&6&&(n.flags|=8192)):Te(n),s=n.updateQueue,s!==null&&yu(n,s.retryQueue),s=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==s&&(n.flags|=2048),t!==null&&tt(Aa),null;case 24:return s=null,t!==null&&(s=t.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),Ji(Ue),Te(n),null;case 25:return null;case 30:return null}throw Error(r(156,n.tag))}function mb(t,n){switch(Xc(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Ji(Ue),ut(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return Xe(n),null;case 31:if(n.memoizedState!==null){if(Ln(n),n.alternate===null)throw Error(r(340));Ta()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(Ln(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(r(340));Ta()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return tt(Ve),null;case 4:return ut(),null;case 10:return Ji(n.type),null;case 22:case 23:return Ln(n),ch(),t!==null&&tt(Aa),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Ji(Ue),null;case 25:return null;default:return null}}function Kg(t,n){switch(Xc(n),n.tag){case 3:Ji(Ue),ut();break;case 26:case 27:case 5:Xe(n);break;case 4:ut();break;case 31:n.memoizedState!==null&&Ln(n);break;case 13:Ln(n);break;case 19:tt(Ve);break;case 10:Ji(n.type);break;case 22:case 23:Ln(n),ch(),t!==null&&tt(Aa);break;case 24:Ji(Ue)}}function Dl(t,n){try{var s=n.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var c=l.next;s=c;do{if((s.tag&t)===t){l=void 0;var f=s.create,y=s.inst;l=f(),y.destroy=l}s=s.next}while(s!==c)}}catch(E){me(n,n.return,E)}}function js(t,n,s){try{var l=n.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var f=c.next;l=f;do{if((l.tag&t)===t){var y=l.inst,E=y.destroy;if(E!==void 0){y.destroy=void 0,c=n;var D=s,H=E;try{H()}catch(W){me(c,D,W)}}}l=l.next}while(l!==f)}}catch(W){me(n,n.return,W)}}function Xg(t){var n=t.updateQueue;if(n!==null){var s=t.stateNode;try{Um(n,s)}catch(l){me(t,t.return,l)}}}function Zg(t,n,s){s.props=Da(t.type,t.memoizedProps),s.state=t.memoizedState;try{s.componentWillUnmount()}catch(l){me(t,n,l)}}function Nl(t,n){try{var s=t.ref;if(s!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof s=="function"?t.refCleanup=s(l):s.current=l}}catch(c){me(t,n,c)}}function Li(t,n){var s=t.ref,l=t.refCleanup;if(s!==null)if(typeof l=="function")try{l()}catch(c){me(t,n,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(c){me(t,n,c)}else s.current=null}function $g(t){var n=t.type,s=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&l.focus();break t;case"img":s.src?l.src=s.src:s.srcSet&&(l.srcset=s.srcSet)}}catch(c){me(t,t.return,c)}}function Ph(t,n,s){try{var l=t.stateNode;Lb(l,t.type,s,n),l[he]=n}catch(c){me(t,t.return,c)}}function Jg(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Ps(t.type)||t.tag===4}function Hh(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||Jg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Ps(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Fh(t,n,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(t,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(t),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=ri));else if(l!==4&&(l===27&&Ps(t.type)&&(s=t.stateNode,n=null),t=t.child,t!==null))for(Fh(t,n,s),t=t.sibling;t!==null;)Fh(t,n,s),t=t.sibling}function vu(t,n,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?s.insertBefore(t,n):s.appendChild(t);else if(l!==4&&(l===27&&Ps(t.type)&&(s=t.stateNode),t=t.child,t!==null))for(vu(t,n,s),t=t.sibling;t!==null;)vu(t,n,s),t=t.sibling}function Wg(t){var n=t.stateNode,s=t.memoizedProps;try{for(var l=t.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);ln(n,l,s),n[ae]=t,n[he]=s}catch(f){me(t,t.return,f)}}var is=!1,Pe=!1,Gh=!1,tp=typeof WeakSet=="function"?WeakSet:Set,We=null;function gb(t,n){if(t=t.containerInfo,df=Uu,t=fm(t),zc(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else t:{s=(s=t.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var c=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break t}var y=0,E=-1,D=-1,H=0,W=0,st=t,Y=null;e:for(;;){for(var X;st!==s||c!==0&&st.nodeType!==3||(E=y+c),st!==f||l!==0&&st.nodeType!==3||(D=y+l),st.nodeType===3&&(y+=st.nodeValue.length),(X=st.firstChild)!==null;)Y=st,st=X;for(;;){if(st===t)break e;if(Y===s&&++H===c&&(E=y),Y===f&&++W===l&&(D=y),(X=st.nextSibling)!==null)break;st=Y,Y=st.parentNode}st=X}s=E===-1||D===-1?null:{start:E,end:D}}else s=null}s=s||{start:0,end:0}}else s=null;for(mf={focusedElem:t,selectionRange:s},Uu=!1,We=n;We!==null;)if(n=We,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,We=t;else for(;We!==null;){switch(n=We,f=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(s=0;s<t.length;s++)c=t[s],c.ref.impl=c.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,s=n,c=f.memoizedProps,f=f.memoizedState,l=s.stateNode;try{var Et=Da(s.type,c);t=l.getSnapshotBeforeUpdate(Et,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(Ot){me(s,s.return,Ot)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,s=t.nodeType,s===9)yf(t);else if(s===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":yf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=n.sibling,t!==null){t.return=n.return,We=t;break}We=n.return}}function ep(t,n,s){var l=s.flags;switch(s.tag){case 0:case 11:case 15:as(t,s),l&4&&Dl(5,s);break;case 1:if(as(t,s),l&4)if(t=s.stateNode,n===null)try{t.componentDidMount()}catch(y){me(s,s.return,y)}else{var c=Da(s.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(c,n,t.__reactInternalSnapshotBeforeUpdate)}catch(y){me(s,s.return,y)}}l&64&&Xg(s),l&512&&Nl(s,s.return);break;case 3:if(as(t,s),l&64&&(t=s.updateQueue,t!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{Um(t,n)}catch(y){me(s,s.return,y)}}break;case 27:n===null&&l&4&&Wg(s);case 26:case 5:as(t,s),n===null&&l&4&&$g(s),l&512&&Nl(s,s.return);break;case 12:as(t,s);break;case 31:as(t,s),l&4&&sp(t,s);break;case 13:as(t,s),l&4&&ap(t,s),l&64&&(t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(s=Sb.bind(null,s),Fb(t,s))));break;case 22:if(l=s.memoizedState!==null||is,!l){n=n!==null&&n.memoizedState!==null||Pe,c=is;var f=Pe;is=l,(Pe=n)&&!f?rs(t,s,(s.subtreeFlags&8772)!==0):as(t,s),is=c,Pe=f}break;case 30:break;default:as(t,s)}}function np(t){var n=t.alternate;n!==null&&(t.alternate=null,np(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Qa(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var we=null,An=!1;function ss(t,n,s){for(s=s.child;s!==null;)ip(t,n,s),s=s.sibling}function ip(t,n,s){if(Le&&typeof Le.onCommitFiberUnmount=="function")try{Le.onCommitFiberUnmount(bn,s)}catch{}switch(s.tag){case 26:Pe||Li(s,n),ss(t,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Pe||Li(s,n);var l=we,c=An;Ps(s.type)&&(we=s.stateNode,An=!1),ss(t,n,s),Bl(s.stateNode),we=l,An=c;break;case 5:Pe||Li(s,n);case 6:if(l=we,c=An,we=null,ss(t,n,s),we=l,An=c,we!==null)if(An)try{(we.nodeType===9?we.body:we.nodeName==="HTML"?we.ownerDocument.body:we).removeChild(s.stateNode)}catch(f){me(s,n,f)}else try{we.removeChild(s.stateNode)}catch(f){me(s,n,f)}break;case 18:we!==null&&(An?(t=we,Xp(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,s.stateNode),Dr(t)):Xp(we,s.stateNode));break;case 4:l=we,c=An,we=s.stateNode.containerInfo,An=!0,ss(t,n,s),we=l,An=c;break;case 0:case 11:case 14:case 15:js(2,s,n),Pe||js(4,s,n),ss(t,n,s);break;case 1:Pe||(Li(s,n),l=s.stateNode,typeof l.componentWillUnmount=="function"&&Zg(s,n,l)),ss(t,n,s);break;case 21:ss(t,n,s);break;case 22:Pe=(l=Pe)||s.memoizedState!==null,ss(t,n,s),Pe=l;break;default:ss(t,n,s)}}function sp(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Dr(t)}catch(s){me(n,n.return,s)}}}function ap(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Dr(t)}catch(s){me(n,n.return,s)}}function pb(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new tp),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new tp),n;default:throw Error(r(435,t.tag))}}function _u(t,n){var s=pb(t);n.forEach(function(l){if(!s.has(l)){s.add(l);var c=Ab.bind(null,t,l);l.then(c,c)}})}function wn(t,n){var s=n.deletions;if(s!==null)for(var l=0;l<s.length;l++){var c=s[l],f=t,y=n,E=y;t:for(;E!==null;){switch(E.tag){case 27:if(Ps(E.type)){we=E.stateNode,An=!1;break t}break;case 5:we=E.stateNode,An=!1;break t;case 3:case 4:we=E.stateNode.containerInfo,An=!0;break t}E=E.return}if(we===null)throw Error(r(160));ip(f,y,c),we=null,An=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)rp(n,t),n=n.sibling}var fi=null;function rp(t,n){var s=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:wn(n,t),Cn(t),l&4&&(js(3,t,t.return),Dl(3,t),js(5,t,t.return));break;case 1:wn(n,t),Cn(t),l&512&&(Pe||s===null||Li(s,s.return)),l&64&&is&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(s=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=s===null?l:s.concat(l))));break;case 26:var c=fi;if(wn(n,t),Cn(t),l&512&&(Pe||s===null||Li(s,s.return)),l&4){var f=s!==null?s.memoizedState:null;if(l=t.memoizedState,s===null)if(l===null)if(t.stateNode===null){t:{l=t.type,s=t.memoizedProps,c=c.ownerDocument||c;e:switch(l){case"title":f=c.getElementsByTagName("title")[0],(!f||f[Ti]||f[ae]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(l),c.head.insertBefore(f,c.querySelector("head > title"))),ln(f,l,s),f[ae]=t,ke(f),l=f;break t;case"link":var y=ry("link","href",c).get(l+(s.href||""));if(y){for(var E=0;E<y.length;E++)if(f=y[E],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){y.splice(E,1);break e}}f=c.createElement(l),ln(f,l,s),c.head.appendChild(f);break;case"meta":if(y=ry("meta","content",c).get(l+(s.content||""))){for(E=0;E<y.length;E++)if(f=y[E],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){y.splice(E,1);break e}}f=c.createElement(l),ln(f,l,s),c.head.appendChild(f);break;default:throw Error(r(468,l))}f[ae]=t,ke(f),l=f}t.stateNode=l}else ly(c,t.type,t.stateNode);else t.stateNode=ay(c,l,t.memoizedProps);else f!==l?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,l===null?ly(c,t.type,t.stateNode):ay(c,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Ph(t,t.memoizedProps,s.memoizedProps)}break;case 27:wn(n,t),Cn(t),l&512&&(Pe||s===null||Li(s,s.return)),s!==null&&l&4&&Ph(t,t.memoizedProps,s.memoizedProps);break;case 5:if(wn(n,t),Cn(t),l&512&&(Pe||s===null||Li(s,s.return)),t.flags&32){c=t.stateNode;try{Sn(c,"")}catch(Et){me(t,t.return,Et)}}l&4&&t.stateNode!=null&&(c=t.memoizedProps,Ph(t,c,s!==null?s.memoizedProps:c)),l&1024&&(Gh=!0);break;case 6:if(wn(n,t),Cn(t),l&4){if(t.stateNode===null)throw Error(r(162));l=t.memoizedProps,s=t.stateNode;try{s.nodeValue=l}catch(Et){me(t,t.return,Et)}}break;case 3:if(ju=null,c=fi,fi=Ou(n.containerInfo),wn(n,t),fi=c,Cn(t),l&4&&s!==null&&s.memoizedState.isDehydrated)try{Dr(n.containerInfo)}catch(Et){me(t,t.return,Et)}Gh&&(Gh=!1,lp(t));break;case 4:l=fi,fi=Ou(t.stateNode.containerInfo),wn(n,t),Cn(t),fi=l;break;case 12:wn(n,t),Cn(t);break;case 31:wn(n,t),Cn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,_u(t,l)));break;case 13:wn(n,t),Cn(t),t.child.flags&8192&&t.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Eu=Ze()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,_u(t,l)));break;case 22:c=t.memoizedState!==null;var D=s!==null&&s.memoizedState!==null,H=is,W=Pe;if(is=H||c,Pe=W||D,wn(n,t),Pe=W,is=H,Cn(t),l&8192)t:for(n=t.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(s===null||D||is||Pe||Na(t)),s=null,n=t;;){if(n.tag===5||n.tag===26){if(s===null){D=s=n;try{if(f=D.stateNode,c)y=f.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{E=D.stateNode;var st=D.memoizedProps.style,Y=st!=null&&st.hasOwnProperty("display")?st.display:null;E.style.display=Y==null||typeof Y=="boolean"?"":(""+Y).trim()}}catch(Et){me(D,D.return,Et)}}}else if(n.tag===6){if(s===null){D=n;try{D.stateNode.nodeValue=c?"":D.memoizedProps}catch(Et){me(D,D.return,Et)}}}else if(n.tag===18){if(s===null){D=n;try{var X=D.stateNode;c?Zp(X,!0):Zp(D.stateNode,!1)}catch(Et){me(D,D.return,Et)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(s=l.retryQueue,s!==null&&(l.retryQueue=null,_u(t,s))));break;case 19:wn(n,t),Cn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,_u(t,l)));break;case 30:break;case 21:break;default:wn(n,t),Cn(t)}}function Cn(t){var n=t.flags;if(n&2){try{for(var s,l=t.return;l!==null;){if(Jg(l)){s=l;break}l=l.return}if(s==null)throw Error(r(160));switch(s.tag){case 27:var c=s.stateNode,f=Hh(t);vu(t,f,c);break;case 5:var y=s.stateNode;s.flags&32&&(Sn(y,""),s.flags&=-33);var E=Hh(t);vu(t,E,y);break;case 3:case 4:var D=s.stateNode.containerInfo,H=Hh(t);Fh(t,H,D);break;default:throw Error(r(161))}}catch(W){me(t,t.return,W)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function lp(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;lp(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function as(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)ep(t,n.alternate,n),n=n.sibling}function Na(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:js(4,n,n.return),Na(n);break;case 1:Li(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&Zg(n,n.return,s),Na(n);break;case 27:Bl(n.stateNode);case 26:case 5:Li(n,n.return),Na(n);break;case 22:n.memoizedState===null&&Na(n);break;case 30:Na(n);break;default:Na(n)}t=t.sibling}}function rs(t,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,c=t,f=n,y=f.flags;switch(f.tag){case 0:case 11:case 15:rs(c,f,s),Dl(4,f);break;case 1:if(rs(c,f,s),l=f,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(H){me(l,l.return,H)}if(l=f,c=l.updateQueue,c!==null){var E=l.stateNode;try{var D=c.shared.hiddenCallbacks;if(D!==null)for(c.shared.hiddenCallbacks=null,c=0;c<D.length;c++)zm(D[c],E)}catch(H){me(l,l.return,H)}}s&&y&64&&Xg(f),Nl(f,f.return);break;case 27:Wg(f);case 26:case 5:rs(c,f,s),s&&l===null&&y&4&&$g(f),Nl(f,f.return);break;case 12:rs(c,f,s);break;case 31:rs(c,f,s),s&&y&4&&sp(c,f);break;case 13:rs(c,f,s),s&&y&4&&ap(c,f);break;case 22:f.memoizedState===null&&rs(c,f,s),Nl(f,f.return);break;case 30:break;default:rs(c,f,s)}n=n.sibling}}function Qh(t,n){var s=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==s&&(t!=null&&t.refCount++,s!=null&&yl(s))}function Yh(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&yl(t))}function di(t,n,s,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)op(t,n,s,l),n=n.sibling}function op(t,n,s,l){var c=n.flags;switch(n.tag){case 0:case 11:case 15:di(t,n,s,l),c&2048&&Dl(9,n);break;case 1:di(t,n,s,l);break;case 3:di(t,n,s,l),c&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&yl(t)));break;case 12:if(c&2048){di(t,n,s,l),t=n.stateNode;try{var f=n.memoizedProps,y=f.id,E=f.onPostCommit;typeof E=="function"&&E(y,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(D){me(n,n.return,D)}}else di(t,n,s,l);break;case 31:di(t,n,s,l);break;case 13:di(t,n,s,l);break;case 23:break;case 22:f=n.stateNode,y=n.alternate,n.memoizedState!==null?f._visibility&2?di(t,n,s,l):Vl(t,n):f._visibility&2?di(t,n,s,l):(f._visibility|=2,_r(t,n,s,l,(n.subtreeFlags&10256)!==0||!1)),c&2048&&Qh(y,n);break;case 24:di(t,n,s,l),c&2048&&Yh(n.alternate,n);break;default:di(t,n,s,l)}}function _r(t,n,s,l,c){for(c=c&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=t,y=n,E=s,D=l,H=y.flags;switch(y.tag){case 0:case 11:case 15:_r(f,y,E,D,c),Dl(8,y);break;case 23:break;case 22:var W=y.stateNode;y.memoizedState!==null?W._visibility&2?_r(f,y,E,D,c):Vl(f,y):(W._visibility|=2,_r(f,y,E,D,c)),c&&H&2048&&Qh(y.alternate,y);break;case 24:_r(f,y,E,D,c),c&&H&2048&&Yh(y.alternate,y);break;default:_r(f,y,E,D,c)}n=n.sibling}}function Vl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=t,l=n,c=l.flags;switch(l.tag){case 22:Vl(s,l),c&2048&&Qh(l.alternate,l);break;case 24:Vl(s,l),c&2048&&Yh(l.alternate,l);break;default:Vl(s,l)}n=n.sibling}}var Ol=8192;function br(t,n,s){if(t.subtreeFlags&Ol)for(t=t.child;t!==null;)up(t,n,s),t=t.sibling}function up(t,n,s){switch(t.tag){case 26:br(t,n,s),t.flags&Ol&&t.memoizedState!==null&&nE(s,fi,t.memoizedState,t.memoizedProps);break;case 5:br(t,n,s);break;case 3:case 4:var l=fi;fi=Ou(t.stateNode.containerInfo),br(t,n,s),fi=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=Ol,Ol=16777216,br(t,n,s),Ol=l):br(t,n,s));break;default:br(t,n,s)}}function cp(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function Ml(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];We=l,fp(l,t)}cp(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)hp(t),t=t.sibling}function hp(t){switch(t.tag){case 0:case 11:case 15:Ml(t),t.flags&2048&&js(9,t,t.return);break;case 3:Ml(t);break;case 12:Ml(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,bu(t)):Ml(t);break;default:Ml(t)}}function bu(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];We=l,fp(l,t)}cp(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:js(8,n,n.return),bu(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,bu(n));break;default:bu(n)}t=t.sibling}}function fp(t,n){for(;We!==null;){var s=We;switch(s.tag){case 0:case 11:case 15:js(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var l=s.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:yl(s.memoizedState.cache)}if(l=s.child,l!==null)l.return=s,We=l;else t:for(s=t;We!==null;){l=We;var c=l.sibling,f=l.return;if(np(l),l===s){We=null;break t}if(c!==null){c.return=f,We=c;break t}We=f}}}var yb={getCacheForType:function(t){var n=an(Ue),s=n.data.get(t);return s===void 0&&(s=t(),n.data.set(t,s)),s},cacheSignal:function(){return an(Ue).controller.signal}},vb=typeof WeakMap=="function"?WeakMap:Map,le=0,_e=null,Gt=null,Yt=0,de=0,kn=null,Ls=!1,Er=!1,Kh=!1,ls=0,De=0,ks=0,Va=0,Xh=0,zn=0,Tr=0,jl=null,Rn=null,Zh=!1,Eu=0,dp=0,Tu=1/0,xu=null,zs=null,Ge=0,Us=null,xr=null,os=0,$h=0,Jh=null,mp=null,Ll=0,Wh=null;function Un(){return(le&2)!==0&&Yt!==0?Yt&-Yt:$.T!==null?rf():oa()}function gp(){if(zn===0)if((Yt&536870912)===0||Wt){var t=Nt;Nt<<=1,(Nt&3932160)===0&&(Nt=262144),zn=t}else zn=536870912;return t=jn.current,t!==null&&(t.flags|=32),zn}function In(t,n,s){(t===_e&&(de===2||de===9)||t.cancelPendingCommit!==null)&&(Sr(t,0),Bs(t,Yt,zn,!1)),qn(t,s),((le&2)===0||t!==_e)&&(t===_e&&((le&2)===0&&(Va|=s),De===4&&Bs(t,Yt,zn,!1)),ki(t))}function pp(t,n,s){if((le&6)!==0)throw Error(r(327));var l=!s&&(n&127)===0&&(n&t.expiredLanes)===0||fn(t,n),c=l?Eb(t,n):ef(t,n,!0),f=l;do{if(c===0){Er&&!l&&Bs(t,n,0,!1);break}else{if(s=t.current.alternate,f&&!_b(s)){c=ef(t,n,!1),f=!1;continue}if(c===2){if(f=n,t.errorRecoveryDisabledLanes&f)var y=0;else y=t.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){n=y;t:{var E=t;c=jl;var D=E.current.memoizedState.isDehydrated;if(D&&(Sr(E,y).flags|=256),y=ef(E,y,!1),y!==2){if(Kh&&!D){E.errorRecoveryDisabledLanes|=f,Va|=f,c=4;break t}f=Rn,Rn=c,f!==null&&(Rn===null?Rn=f:Rn.push.apply(Rn,f))}c=y}if(f=!1,c!==2)continue}}if(c===1){Sr(t,0),Bs(t,n,0,!0);break}t:{switch(l=t,f=c,f){case 0:case 1:throw Error(r(345));case 4:if((n&4194048)!==n)break;case 6:Bs(l,n,zn,!Ls);break t;case 2:Rn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((n&62914560)===n&&(c=Eu+300-Ze(),10<c)){if(Bs(l,n,zn,!Ls),Se(l,0,!0)!==0)break t;os=n,l.timeoutHandle=Yp(yp.bind(null,l,s,Rn,xu,Zh,n,zn,Va,Tr,Ls,f,"Throttled",-0,0),c);break t}yp(l,s,Rn,xu,Zh,n,zn,Va,Tr,Ls,f,null,-0,0)}}break}while(!0);ki(t)}function yp(t,n,s,l,c,f,y,E,D,H,W,st,Y,X){if(t.timeoutHandle=-1,st=n.subtreeFlags,st&8192||(st&16785408)===16785408){st={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ri},up(n,f,st);var Et=(f&62914560)===f?Eu-Ze():(f&4194048)===f?dp-Ze():0;if(Et=iE(st,Et),Et!==null){os=f,t.cancelPendingCommit=Et(Ap.bind(null,t,n,f,s,l,c,y,E,D,W,st,null,Y,X)),Bs(t,f,y,!H);return}}Ap(t,n,f,s,l,c,y,E,D)}function _b(t){for(var n=t;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var l=0;l<s.length;l++){var c=s[l],f=c.getSnapshot;c=c.value;try{if(!On(f(),c))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Bs(t,n,s,l){n&=~Xh,n&=~Va,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var c=n;0<c;){var f=31-Q(c),y=1<<f;l[f]=-1,c&=~y}s!==0&&_i(t,s,n)}function Su(){return(le&6)===0?(kl(0),!1):!0}function tf(){if(Gt!==null){if(de===0)var t=Gt.return;else t=Gt,$i=xa=null,ph(t),mr=null,_l=0,t=Gt;for(;t!==null;)Kg(t.alternate,t),t=t.return;Gt=null}}function Sr(t,n){var s=t.timeoutHandle;s!==-1&&(t.timeoutHandle=-1,Ub(s)),s=t.cancelPendingCommit,s!==null&&(t.cancelPendingCommit=null,s()),os=0,tf(),_e=t,Gt=s=Xi(t.current,null),Yt=n,de=0,kn=null,Ls=!1,Er=fn(t,n),Kh=!1,Tr=zn=Xh=Va=ks=De=0,Rn=jl=null,Zh=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var c=31-Q(l),f=1<<c;n|=t[c],l&=~f}return ls=n,Go(),s}function vp(t,n){Pt=null,$.H=Cl,n===dr||n===Wo?(n=Mm(),de=3):n===sh?(n=Mm(),de=4):de=n===Vh?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,kn=n,Gt===null&&(De=1,du(t,Kn(n,t.current)))}function _p(){var t=jn.current;return t===null?!0:(Yt&4194048)===Yt?Jn===null:(Yt&62914560)===Yt||(Yt&536870912)!==0?t===Jn:!1}function bp(){var t=$.H;return $.H=Cl,t===null?Cl:t}function Ep(){var t=$.A;return $.A=yb,t}function Au(){De=4,Ls||(Yt&4194048)!==Yt&&jn.current!==null||(Er=!0),(ks&134217727)===0&&(Va&134217727)===0||_e===null||Bs(_e,Yt,zn,!1)}function ef(t,n,s){var l=le;le|=2;var c=bp(),f=Ep();(_e!==t||Yt!==n)&&(xu=null,Sr(t,n)),n=!1;var y=De;t:do try{if(de!==0&&Gt!==null){var E=Gt,D=kn;switch(de){case 8:tf(),y=6;break t;case 3:case 2:case 9:case 6:jn.current===null&&(n=!0);var H=de;if(de=0,kn=null,Ar(t,E,D,H),s&&Er){y=0;break t}break;default:H=de,de=0,kn=null,Ar(t,E,D,H)}}bb(),y=De;break}catch(W){vp(t,W)}while(!0);return n&&t.shellSuspendCounter++,$i=xa=null,le=l,$.H=c,$.A=f,Gt===null&&(_e=null,Yt=0,Go()),y}function bb(){for(;Gt!==null;)Tp(Gt)}function Eb(t,n){var s=le;le|=2;var l=bp(),c=Ep();_e!==t||Yt!==n?(xu=null,Tu=Ze()+500,Sr(t,n)):Er=fn(t,n);t:do try{if(de!==0&&Gt!==null){n=Gt;var f=kn;e:switch(de){case 1:de=0,kn=null,Ar(t,n,f,1);break;case 2:case 9:if(Vm(f)){de=0,kn=null,xp(n);break}n=function(){de!==2&&de!==9||_e!==t||(de=7),ki(t)},f.then(n,n);break t;case 3:de=7;break t;case 4:de=5;break t;case 7:Vm(f)?(de=0,kn=null,xp(n)):(de=0,kn=null,Ar(t,n,f,7));break;case 5:var y=null;switch(Gt.tag){case 26:y=Gt.memoizedState;case 5:case 27:var E=Gt;if(y?oy(y):E.stateNode.complete){de=0,kn=null;var D=E.sibling;if(D!==null)Gt=D;else{var H=E.return;H!==null?(Gt=H,wu(H)):Gt=null}break e}}de=0,kn=null,Ar(t,n,f,5);break;case 6:de=0,kn=null,Ar(t,n,f,6);break;case 8:tf(),De=6;break t;default:throw Error(r(462))}}Tb();break}catch(W){vp(t,W)}while(!0);return $i=xa=null,$.H=l,$.A=c,le=s,Gt!==null?0:(_e=null,Yt=0,Go(),De)}function Tb(){for(;Gt!==null&&!Fi();)Tp(Gt)}function Tp(t){var n=Qg(t.alternate,t,ls);t.memoizedProps=t.pendingProps,n===null?wu(t):Gt=n}function xp(t){var n=t,s=n.alternate;switch(n.tag){case 15:case 0:n=Bg(s,n,n.pendingProps,n.type,void 0,Yt);break;case 11:n=Bg(s,n,n.pendingProps,n.type.render,n.ref,Yt);break;case 5:ph(n);default:Kg(s,n),n=Gt=Em(n,ls),n=Qg(s,n,ls)}t.memoizedProps=t.pendingProps,n===null?wu(t):Gt=n}function Ar(t,n,s,l){$i=xa=null,ph(n),mr=null,_l=0;var c=n.return;try{if(cb(t,c,n,s,Yt)){De=1,du(t,Kn(s,t.current)),Gt=null;return}}catch(f){if(c!==null)throw Gt=c,f;De=1,du(t,Kn(s,t.current)),Gt=null;return}n.flags&32768?(Wt||l===1?t=!0:Er||(Yt&536870912)!==0?t=!1:(Ls=t=!0,(l===2||l===9||l===3||l===6)&&(l=jn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Sp(n,t)):wu(n)}function wu(t){var n=t;do{if((n.flags&32768)!==0){Sp(n,Ls);return}t=n.return;var s=db(n.alternate,n,ls);if(s!==null){Gt=s;return}if(n=n.sibling,n!==null){Gt=n;return}Gt=n=t}while(n!==null);De===0&&(De=5)}function Sp(t,n){do{var s=mb(t.alternate,t);if(s!==null){s.flags&=32767,Gt=s;return}if(s=t.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(t=t.sibling,t!==null)){Gt=t;return}Gt=t=s}while(t!==null);De=6,Gt=null}function Ap(t,n,s,l,c,f,y,E,D){t.cancelPendingCommit=null;do Cu();while(Ge!==0);if((le&6)!==0)throw Error(r(327));if(n!==null){if(n===t.current)throw Error(r(177));if(f=n.lanes|n.childLanes,f|=Hc,Fa(t,s,f,y,E,D),t===_e&&(Gt=_e=null,Yt=0),xr=n,Us=t,os=s,$h=f,Jh=c,mp=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,wb(ii,function(){return Dp(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=$.T,$.T=null,c=ft.p,ft.p=2,y=le,le|=4;try{gb(t,n,s)}finally{le=y,ft.p=c,$.T=l}}Ge=1,wp(),Cp(),Rp()}}function wp(){if(Ge===1){Ge=0;var t=Us,n=xr,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=$.T,$.T=null;var l=ft.p;ft.p=2;var c=le;le|=4;try{rp(n,t);var f=mf,y=fm(t.containerInfo),E=f.focusedElem,D=f.selectionRange;if(y!==E&&E&&E.ownerDocument&&hm(E.ownerDocument.documentElement,E)){if(D!==null&&zc(E)){var H=D.start,W=D.end;if(W===void 0&&(W=H),"selectionStart"in E)E.selectionStart=H,E.selectionEnd=Math.min(W,E.value.length);else{var st=E.ownerDocument||document,Y=st&&st.defaultView||window;if(Y.getSelection){var X=Y.getSelection(),Et=E.textContent.length,Ot=Math.min(D.start,Et),ve=D.end===void 0?Ot:Math.min(D.end,Et);!X.extend&&Ot>ve&&(y=ve,ve=Ot,Ot=y);var z=cm(E,Ot),M=cm(E,ve);if(z&&M&&(X.rangeCount!==1||X.anchorNode!==z.node||X.anchorOffset!==z.offset||X.focusNode!==M.node||X.focusOffset!==M.offset)){var P=st.createRange();P.setStart(z.node,z.offset),X.removeAllRanges(),Ot>ve?(X.addRange(P),X.extend(M.node,M.offset)):(P.setEnd(M.node,M.offset),X.addRange(P))}}}}for(st=[],X=E;X=X.parentNode;)X.nodeType===1&&st.push({element:X,left:X.scrollLeft,top:X.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<st.length;E++){var nt=st[E];nt.element.scrollLeft=nt.left,nt.element.scrollTop=nt.top}}Uu=!!df,mf=df=null}finally{le=c,ft.p=l,$.T=s}}t.current=n,Ge=2}}function Cp(){if(Ge===2){Ge=0;var t=Us,n=xr,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=$.T,$.T=null;var l=ft.p;ft.p=2;var c=le;le|=4;try{ep(t,n.alternate,n)}finally{le=c,ft.p=l,$.T=s}}Ge=3}}function Rp(){if(Ge===4||Ge===3){Ge=0,vi();var t=Us,n=xr,s=os,l=mp;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Ge=5:(Ge=0,xr=Us=null,Ip(t,t.pendingLanes));var c=t.pendingLanes;if(c===0&&(zs=null),Pn(s),n=n.stateNode,Le&&typeof Le.onCommitFiberRoot=="function")try{Le.onCommitFiberRoot(bn,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=$.T,c=ft.p,ft.p=2,$.T=null;try{for(var f=t.onRecoverableError,y=0;y<l.length;y++){var E=l[y];f(E.value,{componentStack:E.stack})}}finally{$.T=n,ft.p=c}}(os&3)!==0&&Cu(),ki(t),c=t.pendingLanes,(s&261930)!==0&&(c&42)!==0?t===Wh?Ll++:(Ll=0,Wh=t):Ll=0,kl(0)}}function Ip(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,yl(n)))}function Cu(){return wp(),Cp(),Rp(),Dp()}function Dp(){if(Ge!==5)return!1;var t=Us,n=$h;$h=0;var s=Pn(os),l=$.T,c=ft.p;try{ft.p=32>s?32:s,$.T=null,s=Jh,Jh=null;var f=Us,y=os;if(Ge=0,xr=Us=null,os=0,(le&6)!==0)throw Error(r(331));var E=le;if(le|=4,hp(f.current),op(f,f.current,y,s),le=E,kl(0,!1),Le&&typeof Le.onPostCommitFiberRoot=="function")try{Le.onPostCommitFiberRoot(bn,f)}catch{}return!0}finally{ft.p=c,$.T=l,Ip(t,n)}}function Np(t,n,s){n=Kn(s,n),n=Nh(t.stateNode,n,2),t=Vs(t,n,2),t!==null&&(qn(t,2),ki(t))}function me(t,n,s){if(t.tag===3)Np(t,t,s);else for(;n!==null;){if(n.tag===3){Np(n,t,s);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(zs===null||!zs.has(l))){t=Kn(s,t),s=Vg(2),l=Vs(n,s,2),l!==null&&(Og(s,l,n,t),qn(l,2),ki(l));break}}n=n.return}}function nf(t,n,s){var l=t.pingCache;if(l===null){l=t.pingCache=new vb;var c=new Set;l.set(n,c)}else c=l.get(n),c===void 0&&(c=new Set,l.set(n,c));c.has(s)||(Kh=!0,c.add(s),t=xb.bind(null,t,n,s),n.then(t,t))}function xb(t,n,s){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&s,t.warmLanes&=~s,_e===t&&(Yt&s)===s&&(De===4||De===3&&(Yt&62914560)===Yt&&300>Ze()-Eu?(le&2)===0&&Sr(t,0):Xh|=s,Tr===Yt&&(Tr=0)),ki(t)}function Vp(t,n){n===0&&(n=ai()),t=ba(t,n),t!==null&&(qn(t,n),ki(t))}function Sb(t){var n=t.memoizedState,s=0;n!==null&&(s=n.retryLane),Vp(t,s)}function Ab(t,n){var s=0;switch(t.tag){case 31:case 13:var l=t.stateNode,c=t.memoizedState;c!==null&&(s=c.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(n),Vp(t,s)}function wb(t,n){return oe(t,n)}var Ru=null,wr=null,sf=!1,Iu=!1,af=!1,qs=0;function ki(t){t!==wr&&t.next===null&&(wr===null?Ru=wr=t:wr=wr.next=t),Iu=!0,sf||(sf=!0,Rb())}function kl(t,n){if(!af&&Iu){af=!0;do for(var s=!1,l=Ru;l!==null;){if(t!==0){var c=l.pendingLanes;if(c===0)var f=0;else{var y=l.suspendedLanes,E=l.pingedLanes;f=(1<<31-Q(42|t)+1)-1,f&=c&~(y&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,Lp(l,f))}else f=Yt,f=Se(l,l===_e?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||fn(l,f)||(s=!0,Lp(l,f));l=l.next}while(s);af=!1}}function Cb(){Op()}function Op(){Iu=sf=!1;var t=0;qs!==0&&zb()&&(t=qs);for(var n=Ze(),s=null,l=Ru;l!==null;){var c=l.next,f=Mp(l,n);f===0?(l.next=null,s===null?Ru=c:s.next=c,c===null&&(wr=s)):(s=l,(t!==0||(f&3)!==0)&&(Iu=!0)),l=c}Ge!==0&&Ge!==5||kl(t),qs!==0&&(qs=0)}function Mp(t,n){for(var s=t.suspendedLanes,l=t.pingedLanes,c=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var y=31-Q(f),E=1<<y,D=c[y];D===-1?((E&s)===0||(E&l)!==0)&&(c[y]=Bn(E,n)):D<=n&&(t.expiredLanes|=E),f&=~E}if(n=_e,s=Yt,s=Se(t,t===n?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,s===0||t===n&&(de===2||de===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&_n(l),t.callbackNode=null,t.callbackPriority=0;if((s&3)===0||fn(t,s)){if(n=s&-s,n===t.callbackPriority)return n;switch(l!==null&&_n(l),Pn(s)){case 2:case 8:s=ra;break;case 32:s=ii;break;case 268435456:s=la;break;default:s=ii}return l=jp.bind(null,t),s=oe(s,l),t.callbackPriority=n,t.callbackNode=s,n}return l!==null&&l!==null&&_n(l),t.callbackPriority=2,t.callbackNode=null,2}function jp(t,n){if(Ge!==0&&Ge!==5)return t.callbackNode=null,t.callbackPriority=0,null;var s=t.callbackNode;if(Cu()&&t.callbackNode!==s)return null;var l=Yt;return l=Se(t,t===_e?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(pp(t,l,n),Mp(t,Ze()),t.callbackNode!=null&&t.callbackNode===s?jp.bind(null,t):null)}function Lp(t,n){if(Cu())return null;pp(t,n,!0)}function Rb(){Bb(function(){(le&6)!==0?oe(ms,Cb):Op()})}function rf(){if(qs===0){var t=hr;t===0&&(t=gt,gt<<=1,(gt&261888)===0&&(gt=256)),qs=t}return qs}function kp(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Za(""+t)}function zp(t,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,t.id&&s.setAttribute("form",t.id),n.parentNode.insertBefore(s,n),t=new FormData(t),s.parentNode.removeChild(s),t}function Ib(t,n,s,l,c){if(n==="submit"&&s&&s.stateNode===c){var f=kp((c[he]||null).action),y=l.submitter;y&&(n=(n=y[he]||null)?kp(n.formAction):y.getAttribute("formAction"),n!==null&&(f=n,y=null));var E=new Di("action","action",null,l,c);t.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(qs!==0){var D=y?zp(c,y):new FormData(c);Ah(s,{pending:!0,data:D,method:c.method,action:f},null,D)}}else typeof f=="function"&&(E.preventDefault(),D=y?zp(c,y):new FormData(c),Ah(s,{pending:!0,data:D,method:c.method,action:f},f,D))},currentTarget:c}]})}}for(var lf=0;lf<Pc.length;lf++){var of=Pc[lf],Db=of.toLowerCase(),Nb=of[0].toUpperCase()+of.slice(1);hi(Db,"on"+Nb)}hi(gm,"onAnimationEnd"),hi(pm,"onAnimationIteration"),hi(ym,"onAnimationStart"),hi("dblclick","onDoubleClick"),hi("focusin","onFocus"),hi("focusout","onBlur"),hi(Y_,"onTransitionRun"),hi(K_,"onTransitionStart"),hi(X_,"onTransitionCancel"),hi(vm,"onTransitionEnd"),wi("onMouseEnter",["mouseout","mouseover"]),wi("onMouseLeave",["mouseout","mouseover"]),wi("onPointerEnter",["pointerout","pointerover"]),wi("onPointerLeave",["pointerout","pointerover"]),Ai("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ai("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ai("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ai("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ai("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ai("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var zl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Vb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(zl));function Up(t,n){n=(n&4)!==0;for(var s=0;s<t.length;s++){var l=t[s],c=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var y=l.length-1;0<=y;y--){var E=l[y],D=E.instance,H=E.currentTarget;if(E=E.listener,D!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=H;try{f(c)}catch(W){Fo(W)}c.currentTarget=null,f=D}else for(y=0;y<l.length;y++){if(E=l[y],D=E.instance,H=E.currentTarget,E=E.listener,D!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=H;try{f(c)}catch(W){Fo(W)}c.currentTarget=null,f=D}}}}function Qt(t,n){var s=n[en];s===void 0&&(s=n[en]=new Set);var l=t+"__bubble";s.has(l)||(Bp(n,t,2,!1),s.add(l))}function uf(t,n,s){var l=0;n&&(l|=4),Bp(s,t,l,n)}var Du="_reactListening"+Math.random().toString(36).slice(2);function cf(t){if(!t[Du]){t[Du]=!0,Zr.forEach(function(s){s!=="selectionchange"&&(Vb.has(s)||uf(s,!1,t),uf(s,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[Du]||(n[Du]=!0,uf("selectionchange",!1,n))}}function Bp(t,n,s,l){switch(gy(n)){case 2:var c=rE;break;case 8:c=lE;break;default:c=Af}s=c.bind(null,n,s,t),c=void 0,!fa||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),l?c!==void 0?t.addEventListener(n,s,{capture:!0,passive:c}):t.addEventListener(n,s,!0):c!==void 0?t.addEventListener(n,s,{passive:c}):t.addEventListener(n,s,!1)}function hf(t,n,s,l,c){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var y=l.tag;if(y===3||y===4){var E=l.stateNode.containerInfo;if(E===c)break;if(y===4)for(y=l.return;y!==null;){var D=y.tag;if((D===3||D===4)&&y.stateNode.containerInfo===c)return;y=y.return}for(;E!==null;){if(y=xi(E),y===null)return;if(D=y.tag,D===5||D===6||D===26||D===27){l=f=y;continue t}E=E.parentNode}}l=l.return}Ts(function(){var H=f,W=Fn(s),st=[];t:{var Y=_m.get(t);if(Y!==void 0){var X=Di,Et=t;switch(t){case"keypress":if(ma(s)===0)break t;case"keydown":case"keyup":X=qo;break;case"focusin":Et="focus",X=pa;break;case"focusout":Et="blur",X=pa;break;case"beforeblur":case"afterblur":X=pa;break;case"click":if(s.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":X=ul;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":X=Vo;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":X=m;break;case gm:case pm:case ym:X=Mo;break;case vm:X=x;break;case"scroll":case"scrollend":X=ol;break;case"wheel":X=K;break;case"copy":case"cut":case"paste":X=jo;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":X=Ki;break;case"toggle":case"beforetoggle":X=qt}var Ot=(n&4)!==0,ve=!Ot&&(t==="scroll"||t==="scrollend"),z=Ot?Y!==null?Y+"Capture":null:Y;Ot=[];for(var M=H,P;M!==null;){var nt=M;if(P=nt.stateNode,nt=nt.tag,nt!==5&&nt!==26&&nt!==27||P===null||z===null||(nt=li(M,z),nt!=null&&Ot.push(Ul(M,nt,P))),ve)break;M=M.return}0<Ot.length&&(Y=new X(Y,Et,null,s,W),st.push({event:Y,listeners:Ot}))}}if((n&7)===0){t:{if(Y=t==="mouseover"||t==="pointerover",X=t==="mouseout"||t==="pointerout",Y&&s!==al&&(Et=s.relatedTarget||s.fromElement)&&(xi(Et)||Et[ne]))break t;if((X||Y)&&(Y=W.window===W?W:(Y=W.ownerDocument)?Y.defaultView||Y.parentWindow:window,X?(Et=s.relatedTarget||s.toElement,X=H,Et=Et?xi(Et):null,Et!==null&&(ve=h(Et),Ot=Et.tag,Et!==ve||Ot!==5&&Ot!==27&&Ot!==6)&&(Et=null)):(X=null,Et=H),X!==Et)){if(Ot=ul,nt="onMouseLeave",z="onMouseEnter",M="mouse",(t==="pointerout"||t==="pointerover")&&(Ot=Ki,nt="onPointerLeave",z="onPointerEnter",M="pointer"),ve=X==null?Y:Nn(X),P=Et==null?Y:Nn(Et),Y=new Ot(nt,M+"leave",X,s,W),Y.target=ve,Y.relatedTarget=P,nt=null,xi(W)===H&&(Ot=new Ot(z,M+"enter",Et,s,W),Ot.target=P,Ot.relatedTarget=ve,nt=Ot),ve=nt,X&&Et)e:{for(Ot=Ob,z=X,M=Et,P=0,nt=z;nt;nt=Ot(nt))P++;nt=0;for(var It=M;It;It=Ot(It))nt++;for(;0<P-nt;)z=Ot(z),P--;for(;0<nt-P;)M=Ot(M),nt--;for(;P--;){if(z===M||M!==null&&z===M.alternate){Ot=z;break e}z=Ot(z),M=Ot(M)}Ot=null}else Ot=null;X!==null&&qp(st,Y,X,Ot,!1),Et!==null&&ve!==null&&qp(st,ve,Et,Ot,!0)}}t:{if(Y=H?Nn(H):window,X=Y.nodeName&&Y.nodeName.toLowerCase(),X==="select"||X==="input"&&Y.type==="file")var ie=sm;else if(nm(Y))if(am)ie=F_;else{ie=P_;var St=q_}else X=Y.nodeName,!X||X.toLowerCase()!=="input"||Y.type!=="checkbox"&&Y.type!=="radio"?H&&Xa(H.elementType)&&(ie=sm):ie=H_;if(ie&&(ie=ie(t,H))){im(st,ie,s,W);break t}St&&St(t,Y,H),t==="focusout"&&H&&Y.type==="number"&&H.memoizedProps.value!=null&&nl(Y,"number",Y.value)}switch(St=H?Nn(H):window,t){case"focusin":(nm(St)||St.contentEditable==="true")&&(ir=St,Uc=H,ml=null);break;case"focusout":ml=Uc=ir=null;break;case"mousedown":Bc=!0;break;case"contextmenu":case"mouseup":case"dragend":Bc=!1,dm(st,s,W);break;case"selectionchange":if(Q_)break;case"keydown":case"keyup":dm(st,s,W)}var Ht;if(re)t:{switch(t){case"compositionstart":var Kt="onCompositionStart";break t;case"compositionend":Kt="onCompositionEnd";break t;case"compositionupdate":Kt="onCompositionUpdate";break t}Kt=void 0}else nr?ya(t,s)&&(Kt="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(Kt="onCompositionStart");Kt&&(Oi&&s.locale!=="ko"&&(nr||Kt!=="onCompositionStart"?Kt==="onCompositionEnd"&&nr&&(Ht=ll()):(Ii=W,rl="value"in Ii?Ii.value:Ii.textContent,nr=!0)),St=Nu(H,Kt),0<St.length&&(Kt=new Vi(Kt,t,null,s,W),st.push({event:Kt,listeners:St}),Ht?Kt.data=Ht:(Ht=er(s),Ht!==null&&(Kt.data=Ht)))),(Ht=Qn?k_(t,s):z_(t,s))&&(Kt=Nu(H,"onBeforeInput"),0<Kt.length&&(St=new Vi("onBeforeInput","beforeinput",null,s,W),st.push({event:St,listeners:Kt}),St.data=Ht)),Ib(st,t,H,s,W)}Up(st,n)})}function Ul(t,n,s){return{instance:t,listener:n,currentTarget:s}}function Nu(t,n){for(var s=n+"Capture",l=[];t!==null;){var c=t,f=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=li(t,s),c!=null&&l.unshift(Ul(t,c,f)),c=li(t,n),c!=null&&l.push(Ul(t,c,f))),t.tag===3)return l;t=t.return}return[]}function Ob(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function qp(t,n,s,l,c){for(var f=n._reactName,y=[];s!==null&&s!==l;){var E=s,D=E.alternate,H=E.stateNode;if(E=E.tag,D!==null&&D===l)break;E!==5&&E!==26&&E!==27||H===null||(D=H,c?(H=li(s,f),H!=null&&y.unshift(Ul(s,H,D))):c||(H=li(s,f),H!=null&&y.push(Ul(s,H,D)))),s=s.return}y.length!==0&&t.push({event:n,listeners:y})}var Mb=/\r\n?/g,jb=/\u0000|\uFFFD/g;function Pp(t){return(typeof t=="string"?t:""+t).replace(Mb,`
`).replace(jb,"")}function Hp(t,n){return n=Pp(n),Pp(t)===n}function ye(t,n,s,l,c,f){switch(s){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||Sn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&Sn(t,""+l);break;case"className":Vn(t,"class",l);break;case"tabIndex":Vn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Vn(t,s,l);break;case"style":sl(t,l,f);break;case"data":if(n!=="object"){Vn(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||s!=="href")){t.removeAttribute(s);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=Za(""+l),t.setAttribute(s,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(n!=="input"&&ye(t,n,"name",c.name,c,null),ye(t,n,"formEncType",c.formEncType,c,null),ye(t,n,"formMethod",c.formMethod,c,null),ye(t,n,"formTarget",c.formTarget,c,null)):(ye(t,n,"encType",c.encType,c,null),ye(t,n,"method",c.method,c,null),ye(t,n,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=Za(""+l),t.setAttribute(s,l);break;case"onClick":l!=null&&(t.onclick=ri);break;case"onScroll":l!=null&&Qt("scroll",t);break;case"onScrollEnd":l!=null&&Qt("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(s=l.__html,s!=null){if(c.children!=null)throw Error(r(60));t.innerHTML=s}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}s=Za(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""+l):t.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""):t.removeAttribute(s);break;case"capture":case"download":l===!0?t.setAttribute(s,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,l):t.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(s,l):t.removeAttribute(s);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(s):t.setAttribute(s,l);break;case"popover":Qt("beforetoggle",t),Qt("toggle",t),Ya(t,"popover",l);break;case"xlinkActuate":ze(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":ze(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":ze(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":ze(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":ze(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":ze(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":ze(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":ze(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":ze(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Ya(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=No.get(s)||s,Ya(t,s,l))}}function ff(t,n,s,l,c,f){switch(s){case"style":sl(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(s=l.__html,s!=null){if(c.children!=null)throw Error(r(60));t.innerHTML=s}}break;case"children":typeof l=="string"?Sn(t,l):(typeof l=="number"||typeof l=="bigint")&&Sn(t,""+l);break;case"onScroll":l!=null&&Qt("scroll",t);break;case"onScrollEnd":l!=null&&Qt("scrollend",t);break;case"onClick":l!=null&&(t.onclick=ri);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!$r.hasOwnProperty(s))t:{if(s[0]==="o"&&s[1]==="n"&&(c=s.endsWith("Capture"),n=s.slice(2,c?s.length-7:void 0),f=t[he]||null,f=f!=null?f[s]:null,typeof f=="function"&&t.removeEventListener(n,f,c),typeof l=="function")){typeof f!="function"&&f!==null&&(s in t?t[s]=null:t.hasAttribute(s)&&t.removeAttribute(s)),t.addEventListener(n,l,c);break t}s in t?t[s]=l:l===!0?t.setAttribute(s,""):Ya(t,s,l)}}}function ln(t,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Qt("error",t),Qt("load",t);var l=!1,c=!1,f;for(f in s)if(s.hasOwnProperty(f)){var y=s[f];if(y!=null)switch(f){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:ye(t,n,f,y,s,null)}}c&&ye(t,n,"srcSet",s.srcSet,s,null),l&&ye(t,n,"src",s.src,s,null);return;case"input":Qt("invalid",t);var E=f=y=c=null,D=null,H=null;for(l in s)if(s.hasOwnProperty(l)){var W=s[l];if(W!=null)switch(l){case"name":c=W;break;case"type":y=W;break;case"checked":D=W;break;case"defaultChecked":H=W;break;case"value":f=W;break;case"defaultValue":E=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(r(137,n));break;default:ye(t,n,l,W,s,null)}}Ro(t,f,E,D,H,y,c,!1);return;case"select":Qt("invalid",t),l=y=f=null;for(c in s)if(s.hasOwnProperty(c)&&(E=s[c],E!=null))switch(c){case"value":f=E;break;case"defaultValue":y=E;break;case"multiple":l=E;default:ye(t,n,c,E,s,null)}n=f,s=y,t.multiple=!!l,n!=null?vs(t,!!l,n,!1):s!=null&&vs(t,!!l,s,!0);return;case"textarea":Qt("invalid",t),f=c=l=null;for(y in s)if(s.hasOwnProperty(y)&&(E=s[y],E!=null))switch(y){case"value":l=E;break;case"defaultValue":c=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(r(91));break;default:ye(t,n,y,E,s,null)}_s(t,l,c,f);return;case"option":for(D in s)if(s.hasOwnProperty(D)&&(l=s[D],l!=null))switch(D){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:ye(t,n,D,l,s,null)}return;case"dialog":Qt("beforetoggle",t),Qt("toggle",t),Qt("cancel",t),Qt("close",t);break;case"iframe":case"object":Qt("load",t);break;case"video":case"audio":for(l=0;l<zl.length;l++)Qt(zl[l],t);break;case"image":Qt("error",t),Qt("load",t);break;case"details":Qt("toggle",t);break;case"embed":case"source":case"link":Qt("error",t),Qt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(H in s)if(s.hasOwnProperty(H)&&(l=s[H],l!=null))switch(H){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:ye(t,n,H,l,s,null)}return;default:if(Xa(n)){for(W in s)s.hasOwnProperty(W)&&(l=s[W],l!==void 0&&ff(t,n,W,l,s,void 0));return}}for(E in s)s.hasOwnProperty(E)&&(l=s[E],l!=null&&ye(t,n,E,l,s,null))}function Lb(t,n,s,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,y=null,E=null,D=null,H=null,W=null;for(X in s){var st=s[X];if(s.hasOwnProperty(X)&&st!=null)switch(X){case"checked":break;case"value":break;case"defaultValue":D=st;default:l.hasOwnProperty(X)||ye(t,n,X,null,l,st)}}for(var Y in l){var X=l[Y];if(st=s[Y],l.hasOwnProperty(Y)&&(X!=null||st!=null))switch(Y){case"type":f=X;break;case"name":c=X;break;case"checked":H=X;break;case"defaultChecked":W=X;break;case"value":y=X;break;case"defaultValue":E=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(r(137,n));break;default:X!==st&&ye(t,n,Y,X,l,st)}}Ka(t,y,E,D,H,W,f,c);return;case"select":X=y=E=Y=null;for(f in s)if(D=s[f],s.hasOwnProperty(f)&&D!=null)switch(f){case"value":break;case"multiple":X=D;default:l.hasOwnProperty(f)||ye(t,n,f,null,l,D)}for(c in l)if(f=l[c],D=s[c],l.hasOwnProperty(c)&&(f!=null||D!=null))switch(c){case"value":Y=f;break;case"defaultValue":E=f;break;case"multiple":y=f;default:f!==D&&ye(t,n,c,f,l,D)}n=E,s=y,l=X,Y!=null?vs(t,!!s,Y,!1):!!l!=!!s&&(n!=null?vs(t,!!s,n,!0):vs(t,!!s,s?[]:"",!1));return;case"textarea":X=Y=null;for(E in s)if(c=s[E],s.hasOwnProperty(E)&&c!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:ye(t,n,E,null,l,c)}for(y in l)if(c=l[y],f=s[y],l.hasOwnProperty(y)&&(c!=null||f!=null))switch(y){case"value":Y=c;break;case"defaultValue":X=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(r(91));break;default:c!==f&&ye(t,n,y,c,l,f)}Io(t,Y,X);return;case"option":for(var Et in s)if(Y=s[Et],s.hasOwnProperty(Et)&&Y!=null&&!l.hasOwnProperty(Et))switch(Et){case"selected":t.selected=!1;break;default:ye(t,n,Et,null,l,Y)}for(D in l)if(Y=l[D],X=s[D],l.hasOwnProperty(D)&&Y!==X&&(Y!=null||X!=null))switch(D){case"selected":t.selected=Y&&typeof Y!="function"&&typeof Y!="symbol";break;default:ye(t,n,D,Y,l,X)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ot in s)Y=s[Ot],s.hasOwnProperty(Ot)&&Y!=null&&!l.hasOwnProperty(Ot)&&ye(t,n,Ot,null,l,Y);for(H in l)if(Y=l[H],X=s[H],l.hasOwnProperty(H)&&Y!==X&&(Y!=null||X!=null))switch(H){case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(r(137,n));break;default:ye(t,n,H,Y,l,X)}return;default:if(Xa(n)){for(var ve in s)Y=s[ve],s.hasOwnProperty(ve)&&Y!==void 0&&!l.hasOwnProperty(ve)&&ff(t,n,ve,void 0,l,Y);for(W in l)Y=l[W],X=s[W],!l.hasOwnProperty(W)||Y===X||Y===void 0&&X===void 0||ff(t,n,W,Y,l,X);return}}for(var z in s)Y=s[z],s.hasOwnProperty(z)&&Y!=null&&!l.hasOwnProperty(z)&&ye(t,n,z,null,l,Y);for(st in l)Y=l[st],X=s[st],!l.hasOwnProperty(st)||Y===X||Y==null&&X==null||ye(t,n,st,Y,l,X)}function Fp(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function kb(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,s=performance.getEntriesByType("resource"),l=0;l<s.length;l++){var c=s[l],f=c.transferSize,y=c.initiatorType,E=c.duration;if(f&&E&&Fp(y)){for(y=0,E=c.responseEnd,l+=1;l<s.length;l++){var D=s[l],H=D.startTime;if(H>E)break;var W=D.transferSize,st=D.initiatorType;W&&Fp(st)&&(D=D.responseEnd,y+=W*(D<E?1:(E-H)/(D-H)))}if(--l,n+=8*(f+y)/(c.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var df=null,mf=null;function Vu(t){return t.nodeType===9?t:t.ownerDocument}function Gp(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Qp(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function gf(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var pf=null;function zb(){var t=window.event;return t&&t.type==="popstate"?t===pf?!1:(pf=t,!0):(pf=null,!1)}var Yp=typeof setTimeout=="function"?setTimeout:void 0,Ub=typeof clearTimeout=="function"?clearTimeout:void 0,Kp=typeof Promise=="function"?Promise:void 0,Bb=typeof queueMicrotask=="function"?queueMicrotask:typeof Kp<"u"?function(t){return Kp.resolve(null).then(t).catch(qb)}:Yp;function qb(t){setTimeout(function(){throw t})}function Ps(t){return t==="head"}function Xp(t,n){var s=n,l=0;do{var c=s.nextSibling;if(t.removeChild(s),c&&c.nodeType===8)if(s=c.data,s==="/$"||s==="/&"){if(l===0){t.removeChild(c),Dr(n);return}l--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")l++;else if(s==="html")Bl(t.ownerDocument.documentElement);else if(s==="head"){s=t.ownerDocument.head,Bl(s);for(var f=s.firstChild;f;){var y=f.nextSibling,E=f.nodeName;f[Ti]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||s.removeChild(f),f=y}}else s==="body"&&Bl(t.ownerDocument.body);s=c}while(s);Dr(n)}function Zp(t,n){var s=t;t=0;do{var l=s.nextSibling;if(s.nodeType===1?n?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(n?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),l&&l.nodeType===8)if(s=l.data,s==="/$"){if(t===0)break;t--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||t++;s=l}while(s)}function yf(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":yf(s),Qa(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}t.removeChild(s)}}function Pb(t,n,s,l){for(;t.nodeType===1;){var c=s;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Ti])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==c.rel||t.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Wn(t.nextSibling),t===null)break}return null}function Hb(t,n,s){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=Wn(t.nextSibling),t===null))return null;return t}function $p(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=Wn(t.nextSibling),t===null))return null;return t}function vf(t){return t.data==="$?"||t.data==="$~"}function _f(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function Fb(t,n){var s=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||s.readyState!=="loading")n();else{var l=function(){n(),s.removeEventListener("DOMContentLoaded",l)};s.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Wn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var bf=null;function Jp(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var s=t.data;if(s==="/$"||s==="/&"){if(n===0)return Wn(t.nextSibling);n--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||n++}t=t.nextSibling}return null}function Wp(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(n===0)return t;n--}else s!=="/$"&&s!=="/&"||n++}t=t.previousSibling}return null}function ty(t,n,s){switch(n=Vu(s),t){case"html":if(t=n.documentElement,!t)throw Error(r(452));return t;case"head":if(t=n.head,!t)throw Error(r(453));return t;case"body":if(t=n.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function Bl(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Qa(t)}var ti=new Map,ey=new Set;function Ou(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var us=ft.d;ft.d={f:Gb,r:Qb,D:Yb,C:Kb,L:Xb,m:Zb,X:Jb,S:$b,M:Wb};function Gb(){var t=us.f(),n=Su();return t||n}function Qb(t){var n=Hn(t);n!==null&&n.tag===5&&n.type==="form"?vg(n):us.r(t)}var Cr=typeof document>"u"?null:document;function ny(t,n,s){var l=Cr;if(l&&typeof n=="string"&&n){var c=xn(n);c='link[rel="'+t+'"][href="'+c+'"]',typeof s=="string"&&(c+='[crossorigin="'+s+'"]'),ey.has(c)||(ey.add(c),t={rel:t,crossOrigin:s,href:n},l.querySelector(c)===null&&(n=l.createElement("link"),ln(n,"link",t),ke(n),l.head.appendChild(n)))}}function Yb(t){us.D(t),ny("dns-prefetch",t,null)}function Kb(t,n){us.C(t,n),ny("preconnect",t,n)}function Xb(t,n,s){us.L(t,n,s);var l=Cr;if(l&&t&&n){var c='link[rel="preload"][as="'+xn(n)+'"]';n==="image"&&s&&s.imageSrcSet?(c+='[imagesrcset="'+xn(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(c+='[imagesizes="'+xn(s.imageSizes)+'"]')):c+='[href="'+xn(t)+'"]';var f=c;switch(n){case"style":f=Rr(t);break;case"script":f=Ir(t)}ti.has(f)||(t=S({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:t,as:n},s),ti.set(f,t),l.querySelector(c)!==null||n==="style"&&l.querySelector(ql(f))||n==="script"&&l.querySelector(Pl(f))||(n=l.createElement("link"),ln(n,"link",t),ke(n),l.head.appendChild(n)))}}function Zb(t,n){us.m(t,n);var s=Cr;if(s&&t){var l=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+xn(l)+'"][href="'+xn(t)+'"]',f=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Ir(t)}if(!ti.has(f)&&(t=S({rel:"modulepreload",href:t},n),ti.set(f,t),s.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(Pl(f)))return}l=s.createElement("link"),ln(l,"link",t),ke(l),s.head.appendChild(l)}}}function $b(t,n,s){us.S(t,n,s);var l=Cr;if(l&&t){var c=Si(l).hoistableStyles,f=Rr(t);n=n||"default";var y=c.get(f);if(!y){var E={loading:0,preload:null};if(y=l.querySelector(ql(f)))E.loading=5;else{t=S({rel:"stylesheet",href:t,"data-precedence":n},s),(s=ti.get(f))&&Ef(t,s);var D=y=l.createElement("link");ke(D),ln(D,"link",t),D._p=new Promise(function(H,W){D.onload=H,D.onerror=W}),D.addEventListener("load",function(){E.loading|=1}),D.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Mu(y,n,l)}y={type:"stylesheet",instance:y,count:1,state:E},c.set(f,y)}}}function Jb(t,n){us.X(t,n);var s=Cr;if(s&&t){var l=Si(s).hoistableScripts,c=Ir(t),f=l.get(c);f||(f=s.querySelector(Pl(c)),f||(t=S({src:t,async:!0},n),(n=ti.get(c))&&Tf(t,n),f=s.createElement("script"),ke(f),ln(f,"link",t),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function Wb(t,n){us.M(t,n);var s=Cr;if(s&&t){var l=Si(s).hoistableScripts,c=Ir(t),f=l.get(c);f||(f=s.querySelector(Pl(c)),f||(t=S({src:t,async:!0,type:"module"},n),(n=ti.get(c))&&Tf(t,n),f=s.createElement("script"),ke(f),ln(f,"link",t),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function iy(t,n,s,l){var c=(c=ot.current)?Ou(c):null;if(!c)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=Rr(s.href),s=Si(c).hoistableStyles,l=s.get(n),l||(l={type:"style",instance:null,count:0,state:null},s.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){t=Rr(s.href);var f=Si(c).hoistableStyles,y=f.get(t);if(y||(c=c.ownerDocument||c,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,y),(f=c.querySelector(ql(t)))&&!f._p&&(y.instance=f,y.state.loading=5),ti.has(t)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},ti.set(t,s),f||tE(c,t,s,y.state))),n&&l===null)throw Error(r(528,""));return y}if(n&&l!==null)throw Error(r(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Ir(s),s=Si(c).hoistableScripts,l=s.get(n),l||(l={type:"script",instance:null,count:0,state:null},s.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function Rr(t){return'href="'+xn(t)+'"'}function ql(t){return'link[rel="stylesheet"]['+t+"]"}function sy(t){return S({},t,{"data-precedence":t.precedence,precedence:null})}function tE(t,n,s,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),ln(n,"link",s),ke(n),t.head.appendChild(n))}function Ir(t){return'[src="'+xn(t)+'"]'}function Pl(t){return"script[async]"+t}function ay(t,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+xn(s.href)+'"]');if(l)return n.instance=l,ke(l),l;var c=S({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),ke(l),ln(l,"style",c),Mu(l,s.precedence,t),n.instance=l;case"stylesheet":c=Rr(s.href);var f=t.querySelector(ql(c));if(f)return n.state.loading|=4,n.instance=f,ke(f),f;l=sy(s),(c=ti.get(c))&&Ef(l,c),f=(t.ownerDocument||t).createElement("link"),ke(f);var y=f;return y._p=new Promise(function(E,D){y.onload=E,y.onerror=D}),ln(f,"link",l),n.state.loading|=4,Mu(f,s.precedence,t),n.instance=f;case"script":return f=Ir(s.src),(c=t.querySelector(Pl(f)))?(n.instance=c,ke(c),c):(l=s,(c=ti.get(f))&&(l=S({},s),Tf(l,c)),t=t.ownerDocument||t,c=t.createElement("script"),ke(c),ln(c,"link",l),t.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(r(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,Mu(l,s.precedence,t));return n.instance}function Mu(t,n,s){for(var l=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,f=c,y=0;y<l.length;y++){var E=l[y];if(E.dataset.precedence===n)f=E;else if(f!==c)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(t,n.firstChild))}function Ef(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Tf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var ju=null;function ry(t,n,s){if(ju===null){var l=new Map,c=ju=new Map;c.set(s,l)}else c=ju,l=c.get(s),l||(l=new Map,c.set(s,l));if(l.has(t))return l;for(l.set(t,null),s=s.getElementsByTagName(t),c=0;c<s.length;c++){var f=s[c];if(!(f[Ti]||f[ae]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var y=f.getAttribute(n)||"";y=t+y;var E=l.get(y);E?E.push(f):l.set(y,[f])}}return l}function ly(t,n,s){t=t.ownerDocument||t,t.head.insertBefore(s,n==="title"?t.querySelector("head > title"):null)}function eE(t,n,s){if(s===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function oy(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function nE(t,n,s,l){if(s.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var c=Rr(l.href),f=n.querySelector(ql(c));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=Lu.bind(t),n.then(t,t)),s.state.loading|=4,s.instance=f,ke(f);return}f=n.ownerDocument||n,l=sy(l),(c=ti.get(c))&&Ef(l,c),f=f.createElement("link"),ke(f);var y=f;y._p=new Promise(function(E,D){y.onload=E,y.onerror=D}),ln(f,"link",l),s.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(t.count++,s=Lu.bind(t),n.addEventListener("load",s),n.addEventListener("error",s))}}var xf=0;function iE(t,n){return t.stylesheets&&t.count===0&&zu(t,t.stylesheets),0<t.count||0<t.imgCount?function(s){var l=setTimeout(function(){if(t.stylesheets&&zu(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+n);0<t.imgBytes&&xf===0&&(xf=62500*kb());var c=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&zu(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>xf?50:800)+n);return t.unsuspend=s,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(c)}}:null}function Lu(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)zu(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var ku=null;function zu(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,ku=new Map,n.forEach(sE,t),ku=null,Lu.call(t))}function sE(t,n){if(!(n.state.loading&4)){var s=ku.get(t);if(s)var l=s.get(null);else{s=new Map,ku.set(t,s);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var y=c[f];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(s.set(y.dataset.precedence,y),l=y)}l&&s.set(null,l)}c=n.instance,y=c.getAttribute("data-precedence"),f=s.get(y)||l,f===l&&s.set(null,c),s.set(y,c),this.count++,l=Lu.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),f?f.parentNode.insertBefore(c,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),n.state.loading|=4}}var Hl={$$typeof:G,Provider:null,Consumer:null,_currentValue:At,_currentValue2:At,_threadCount:0};function aE(t,n,s,l,c,f,y,E,D){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=pt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=pt(0),this.hiddenUpdates=pt(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=D,this.incompleteTransitions=new Map}function uy(t,n,s,l,c,f,y,E,D,H,W,st){return t=new aE(t,n,s,y,D,H,W,st,E),n=1,f===!0&&(n|=24),f=Mn(3,null,null,n),t.current=f,f.stateNode=t,n=eh(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:s,cache:n},ah(f),t}function cy(t){return t?(t=rr,t):rr}function hy(t,n,s,l,c,f){c=cy(c),l.context===null?l.context=c:l.pendingContext=c,l=Ns(n),l.payload={element:s},f=f===void 0?null:f,f!==null&&(l.callback=f),s=Vs(t,l,n),s!==null&&(In(s,t,n),El(s,t,n))}function fy(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<n?s:n}}function Sf(t,n){fy(t,n),(t=t.alternate)&&fy(t,n)}function dy(t){if(t.tag===13||t.tag===31){var n=ba(t,67108864);n!==null&&In(n,t,67108864),Sf(t,67108864)}}function my(t){if(t.tag===13||t.tag===31){var n=Un();n=bi(n);var s=ba(t,n);s!==null&&In(s,t,n),Sf(t,n)}}var Uu=!0;function rE(t,n,s,l){var c=$.T;$.T=null;var f=ft.p;try{ft.p=2,Af(t,n,s,l)}finally{ft.p=f,$.T=c}}function lE(t,n,s,l){var c=$.T;$.T=null;var f=ft.p;try{ft.p=8,Af(t,n,s,l)}finally{ft.p=f,$.T=c}}function Af(t,n,s,l){if(Uu){var c=wf(l);if(c===null)hf(t,n,l,Bu,s),py(t,l);else if(uE(c,t,n,s,l))l.stopPropagation();else if(py(t,l),n&4&&-1<oE.indexOf(t)){for(;c!==null;){var f=Hn(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var y=$e(f.pendingLanes);if(y!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;y;){var D=1<<31-Q(y);E.entanglements[1]|=D,y&=~D}ki(f),(le&6)===0&&(Tu=Ze()+500,kl(0))}}break;case 31:case 13:E=ba(f,2),E!==null&&In(E,f,2),Su(),Sf(f,2)}if(f=wf(l),f===null&&hf(t,n,l,Bu,s),f===c)break;c=f}c!==null&&l.stopPropagation()}else hf(t,n,l,null,s)}}function wf(t){return t=Fn(t),Cf(t)}var Bu=null;function Cf(t){if(Bu=null,t=xi(t),t!==null){var n=h(t);if(n===null)t=null;else{var s=n.tag;if(s===13){if(t=d(n),t!==null)return t;t=null}else if(s===31){if(t=p(n),t!==null)return t;t=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Bu=t,null}function gy(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Gi()){case ms:return 2;case ra:return 8;case ii:case Pa:return 32;case la:return 268435456;default:return 32}default:return 32}}var Rf=!1,Hs=null,Fs=null,Gs=null,Fl=new Map,Gl=new Map,Qs=[],oE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function py(t,n){switch(t){case"focusin":case"focusout":Hs=null;break;case"dragenter":case"dragleave":Fs=null;break;case"mouseover":case"mouseout":Gs=null;break;case"pointerover":case"pointerout":Fl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Gl.delete(n.pointerId)}}function Ql(t,n,s,l,c,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:s,eventSystemFlags:l,nativeEvent:f,targetContainers:[c]},n!==null&&(n=Hn(n),n!==null&&dy(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),t)}function uE(t,n,s,l,c){switch(n){case"focusin":return Hs=Ql(Hs,t,n,s,l,c),!0;case"dragenter":return Fs=Ql(Fs,t,n,s,l,c),!0;case"mouseover":return Gs=Ql(Gs,t,n,s,l,c),!0;case"pointerover":var f=c.pointerId;return Fl.set(f,Ql(Fl.get(f)||null,t,n,s,l,c)),!0;case"gotpointercapture":return f=c.pointerId,Gl.set(f,Ql(Gl.get(f)||null,t,n,s,l,c)),!0}return!1}function yy(t){var n=xi(t.target);if(n!==null){var s=h(n);if(s!==null){if(n=s.tag,n===13){if(n=d(s),n!==null){t.blockedOn=n,En(t.priority,function(){my(s)});return}}else if(n===31){if(n=p(s),n!==null){t.blockedOn=n,En(t.priority,function(){my(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function qu(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var s=wf(t.nativeEvent);if(s===null){s=t.nativeEvent;var l=new s.constructor(s.type,s);al=l,s.target.dispatchEvent(l),al=null}else return n=Hn(s),n!==null&&dy(n),t.blockedOn=s,!1;n.shift()}return!0}function vy(t,n,s){qu(t)&&s.delete(n)}function cE(){Rf=!1,Hs!==null&&qu(Hs)&&(Hs=null),Fs!==null&&qu(Fs)&&(Fs=null),Gs!==null&&qu(Gs)&&(Gs=null),Fl.forEach(vy),Gl.forEach(vy)}function Pu(t,n){t.blockedOn===n&&(t.blockedOn=null,Rf||(Rf=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,cE)))}var Hu=null;function _y(t){Hu!==t&&(Hu=t,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){Hu===t&&(Hu=null);for(var n=0;n<t.length;n+=3){var s=t[n],l=t[n+1],c=t[n+2];if(typeof l!="function"){if(Cf(l||s)===null)continue;break}var f=Hn(s);f!==null&&(t.splice(n,3),n-=3,Ah(f,{pending:!0,data:c,method:s.method,action:l},l,c))}}))}function Dr(t){function n(D){return Pu(D,t)}Hs!==null&&Pu(Hs,t),Fs!==null&&Pu(Fs,t),Gs!==null&&Pu(Gs,t),Fl.forEach(n),Gl.forEach(n);for(var s=0;s<Qs.length;s++){var l=Qs[s];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Qs.length&&(s=Qs[0],s.blockedOn===null);)yy(s),s.blockedOn===null&&Qs.shift();if(s=(t.ownerDocument||t).$$reactFormReplay,s!=null)for(l=0;l<s.length;l+=3){var c=s[l],f=s[l+1],y=c[he]||null;if(typeof f=="function")y||_y(s);else if(y){var E=null;if(f&&f.hasAttribute("formAction")){if(c=f,y=f[he]||null)E=y.formAction;else if(Cf(c)!==null)continue}else E=y.action;typeof E=="function"?s[l+1]=E:(s.splice(l,3),l-=3),_y(s)}}}function by(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(y){return c=y})},focusReset:"manual",scroll:"manual"})}function n(){c!==null&&(c(),c=null),l||setTimeout(s,20)}function s(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,c=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(s,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),c!==null&&(c(),c=null)}}}function If(t){this._internalRoot=t}Fu.prototype.render=If.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(r(409));var s=n.current,l=Un();hy(s,l,t,n,null,null)},Fu.prototype.unmount=If.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;hy(t.current,2,null,t,null,null),Su(),n[ne]=null}};function Fu(t){this._internalRoot=t}Fu.prototype.unstable_scheduleHydration=function(t){if(t){var n=oa();t={blockedOn:null,target:t,priority:n};for(var s=0;s<Qs.length&&n!==0&&n<Qs[s].priority;s++);Qs.splice(s,0,t),s===0&&yy(t)}};var Ey=e.version;if(Ey!=="19.2.3")throw Error(r(527,Ey,"19.2.3"));ft.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=v(n),t=t!==null?T(t):null,t=t===null?null:t.stateNode,t};var hE={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Gu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Gu.isDisabled&&Gu.supportsFiber)try{bn=Gu.inject(hE),Le=Gu}catch{}}return Kl.createRoot=function(t,n){if(!o(t))throw Error(r(299));var s=!1,l="",c=Rg,f=Ig,y=Dg;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(y=n.onRecoverableError)),n=uy(t,1,!1,null,null,s,l,null,c,f,y,by),t[ne]=n.current,cf(t),new If(n)},Kl.hydrateRoot=function(t,n,s){if(!o(t))throw Error(r(299));var l=!1,c="",f=Rg,y=Ig,E=Dg,D=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(y=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError),s.formState!==void 0&&(D=s.formState)),n=uy(t,1,!0,n,s??null,l,c,D,f,y,E,by),n.context=cy(null),s=n.current,l=Un(),l=bi(l),c=Ns(l),c.callback=null,Vs(s,c,l),s=l,n.current.lanes=s,qn(n,s),ki(n),t[ne]=n.current,cf(t),new Fu(n)},Kl.version="19.2.3",Kl}var Ny;function EE(){if(Ny)return Vf.exports;Ny=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(e){console.error(e)}}return a(),Vf.exports=bE(),Vf.exports}var TE=EE();const xE=Q0(TE);function SE(a={}){const{nonce:e,onScriptLoadSuccess:i,onScriptLoadError:r}=a,[o,h]=rt.useState(!1),d=rt.useRef(i);d.current=i;const p=rt.useRef(r);return p.current=r,rt.useEffect(()=>{const g=document.createElement("script");return g.src="https://accounts.google.com/gsi/client",g.async=!0,g.defer=!0,g.nonce=e,g.onload=()=>{var v;h(!0),(v=d.current)===null||v===void 0||v.call(d)},g.onerror=()=>{var v;h(!1),(v=p.current)===null||v===void 0||v.call(p)},document.body.appendChild(g),()=>{document.body.removeChild(g)}},[e]),o}const Y0=rt.createContext(null);function AE({clientId:a,nonce:e,onScriptLoadSuccess:i,onScriptLoadError:r,children:o}){const h=SE({nonce:e,onScriptLoadSuccess:i,onScriptLoadError:r}),d=rt.useMemo(()=>({clientId:a,scriptLoadedSuccessfully:h}),[a,h]);return sc.createElement(Y0.Provider,{value:d},o)}function wE(){const a=rt.useContext(Y0);if(!a)throw new Error("Google OAuth components must be used within GoogleOAuthProvider");return a}function CE({flow:a="implicit",scope:e="",onSuccess:i,onError:r,onNonOAuthError:o,overrideScope:h,state:d,...p}){const{clientId:g,scriptLoadedSuccessfully:v}=wE(),T=rt.useRef(),S=rt.useRef(i);S.current=i;const C=rt.useRef(r);C.current=r;const N=rt.useRef(o);N.current=o,rt.useEffect(()=>{var B,J;if(!v)return;const Z=a==="implicit"?"initTokenClient":"initCodeClient",G=(J=(B=window==null?void 0:window.google)===null||B===void 0?void 0:B.accounts)===null||J===void 0?void 0:J.oauth2[Z]({client_id:g,scope:h?e:`openid profile email ${e}`,callback:ct=>{var _t,Ct;if(ct.error)return(_t=C.current)===null||_t===void 0?void 0:_t.call(C,ct);(Ct=S.current)===null||Ct===void 0||Ct.call(S,ct)},error_callback:ct=>{var _t;(_t=N.current)===null||_t===void 0||_t.call(N,ct)},state:d,...p});T.current=G},[g,v,a,e,d]);const F=rt.useCallback(B=>{var J;return(J=T.current)===null||J===void 0?void 0:J.requestAccessToken(B)},[]),it=rt.useCallback(()=>{var B;return(B=T.current)===null||B===void 0?void 0:B.requestCode()},[]);return a==="implicit"?F:it}const RE=()=>b.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2.5",d:"M12 4v16m8-8H4"})}),ac=()=>b.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:b.jsx("path",{d:"M12 8c1.1 0 2-0.9 2-2s-0.9-2-2-2-2 0.9-2 2 0.9 2 2 2zm0 2c-1.1 0-2 0.9-2 2s0.9 2 2 2 2-0.9 2-2-0.9-2-2-2zm0 6c-1.1 0-2 0.9-2 2s0.9 2 2 2 2-0.9 2-2-0.9-2-2-2z"})}),$u=()=>b.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2.5",d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})}),IE=()=>b.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2.5",d:"M8 11V7a4 4 0 118 0m-4 8v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2z"})}),K0=()=>b.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2.5",d:"M9 20l-5.447-2.724A1 1 0 013 16.382V5.618a1 1 0 011.447-.894L9 7m0 13l6-3m-6 3V7m6 10l4.553 2.276A1 1 0 0021 18.382V7.618a1 1 0 00-.553-.894L15 4m0 13V4m0 0L9 7"})}),Vy=({value:a,onChange:e,placeholder:i,className:r="",textClassName:o="",rows:h=2,maxLength:d=100})=>{const[p,g]=rt.useState(!1),[v,T]=rt.useState(a),S=rt.useRef(null);rt.useEffect(()=>{var B,J;p&&((B=S.current)==null||B.focus(),(J=S.current)==null||J.select())},[p]),rt.useEffect(()=>{T(a)},[a]);const C=B=>{B.stopPropagation(),g(!0),T(a)},N=()=>{e(v),g(!1)},F=()=>{T(a),g(!1)},it=B=>{B.key==="Enter"&&(B.ctrlKey||B.metaKey)&&(B.preventDefault(),N()),B.key==="Escape"&&(B.preventDefault(),F())};return p?b.jsx("textarea",{ref:S,value:v,onChange:B=>T(B.target.value.slice(0,d)),onBlur:N,onKeyDown:it,rows:h,maxLength:d,className:`w-full p-3 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400 bg-white resize-none ${r}`}):b.jsx("div",{onDoubleClick:C,className:`cursor-pointer hover:bg-slate-50 transition-colors p-3 min-h-[4rem] rounded-lg ${o} ${r}`,children:a||b.jsx("span",{className:"text-slate-400 italic",children:i})})},DE=({goal1:a,goal2:e,onGoal1Change:i,onGoal2Change:r})=>b.jsxs("div",{className:"flex flex-row gap-3 w-full",children:[b.jsx("div",{className:"flex-1",children:b.jsx(Vy,{value:a,onChange:i,placeholder:" 1",className:"bg-white border-2 border-slate-400 shadow-sm",textClassName:"text-red-600 font-bold text-lg",rows:2,maxLength:100})}),b.jsx("div",{className:"flex-1",children:b.jsx(Vy,{value:e,onChange:r,placeholder:" 2",className:"bg-white border-2 border-slate-400 shadow-sm",textClassName:"text-blue-600 font-bold text-lg",rows:2,maxLength:100})})]}),NE=({onAddSection:a,onOpenNavigationMap:e,headerGoals:i,onHeaderGoalsChange:r})=>{const[o,h]=rt.useState("");return rt.useEffect(()=>{const d=()=>{const g=new Date,v={year:"numeric",month:"long",day:"numeric",weekday:"long"},T=g.toLocaleDateString("ko-KR",v),S=String(g.getHours()).padStart(2,"0"),C=String(g.getMinutes()).padStart(2,"0"),N=String(g.getSeconds()).padStart(2,"0");h(`${T} ${S}:${C}:${N}`)};d();const p=setInterval(d,1e3);return()=>clearInterval(p)},[]),b.jsxs("header",{className:"w-full px-6 flex flex-col md:flex-row md:items-end justify-between gap-4 py-6",children:[b.jsxs("div",{children:[b.jsx("h1",{className:"text-2xl font-bold text-slate-800 tracking-tight",children:" "}),b.jsxs("div",{className:"flex items-center gap-3 mt-1",children:[b.jsx("p",{className:"text-red-600 font-medium whitespace-nowrap text-sm",children:o}),b.jsxs("div",{className:"flex items-center gap-2 ml-2",children:[b.jsx("button",{onClick:e,className:"text-slate-900 hover:text-black p-1.5 rounded-lg transition-colors bg-white border border-slate-200 shadow-sm",title:"  ",children:b.jsx(K0,{})}),b.jsxs("button",{onClick:a,className:"flex items-center gap-1.5 px-3 py-1.5 bg-yellow-400 border border-yellow-500 text-yellow-950 text-xs font-bold rounded-lg hover:bg-yellow-500 transition-all shadow-sm",title:" ",children:[b.jsx(RE,{}),b.jsx("span",{className:"hidden sm:inline",children:""})]})]})]})]}),i&&r&&b.jsx("div",{className:"flex-1 hidden lg:flex items-end justify-end",children:b.jsx("div",{className:"w-[90%]",children:b.jsx(DE,{goal1:i.goal1,goal2:i.goal2,onGoal1Change:d=>r({...i,goal1:d}),onGoal2Change:d=>r({...i,goal2:d})})})})]})},lo=({value:a,onChange:e,placeholder:i,className:r="",compact:o=!1,onEditingChange:h})=>{const[d,p]=rt.useState(!1),[g,v]=rt.useState(a),T=rt.useRef(null),S=rt.useCallback(()=>{const B=T.current;B&&(B.style.height="auto",B.style.height=`${B.scrollHeight}px`)},[]);rt.useEffect(()=>{var B,J;if(d){(B=T.current)==null||B.focus();const Z=g.length;(J=T.current)==null||J.setSelectionRange(Z,Z),S()}},[d]),rt.useEffect(()=>{d&&S()},[g,d,S]);const C=B=>{B.stopPropagation(),p(!0),v(a),h==null||h(!0)},N=()=>{e(g),p(!1),h==null||h(!1)},F=()=>{v(a),p(!1),h==null||h(!1)},it=B=>{B.key==="Enter"&&!B.shiftKey&&(B.preventDefault(),N()),B.key==="Escape"&&F()};return d?b.jsx("textarea",{ref:T,value:g,onChange:B=>v(B.target.value),onBlur:N,onKeyDown:it,onDragStart:B=>B.stopPropagation(),rows:1,className:`w-full ${o?"p-0 text-lg leading-normal":"p-1"} border border-slate-300 rounded focus:outline-none focus:ring-1 focus:ring-slate-400 bg-white resize-none overflow-hidden ${r}`}):b.jsx("div",{onDoubleClick:C,className:`cursor-pointer hover:bg-slate-50 transition-colors ${o?"p-0 min-h-0 text-lg leading-tight":"p-1 min-h-[1.5rem]"} rounded break-words whitespace-pre-wrap ${r}`,children:a||b.jsx("span",{className:"text-slate-400 italic text-[0.8em]",children:i})})};function Ec(a,e){rt.useEffect(()=>{function i(r){a.current&&!a.current.contains(r.target)&&e()}return document.addEventListener("mousedown",i),()=>document.removeEventListener("mousedown",i)},[a,e])}const VE=({item:a,sectionId:e,memo:i,onToggle:r,onUpdateText:o,onDelete:h,onAddMemo:d,onMoveItem:p,onCopy:g,onAddToCalendar:v,onEditingChange:T,dragState:S,onDragStart:C,onDragOver:N,onDrop:F,onDragEnd:it})=>{const[B,J]=rt.useState(!1),[Z,G]=rt.useState(!1),[ct,_t]=rt.useState(!1),[Ct,R]=rt.useState({left:0}),A=rt.useRef(null),I=rt.useRef(null);Ec(I,()=>J(!1));const j=w=>{w.stopPropagation();const zt=window.innerWidth<768;if(A.current&&!zt){const Tt=A.current.getBoundingClientRect();window.innerHeight-Tt.bottom>=280?R({top:Tt.bottom+8,left:Tt.right+8}):R({bottom:window.innerHeight-Tt.top+8,left:Tt.right+8})}J(!B)},V=S.draggedItemId===a.id,k=S.dragOverItemId===a.id;return b.jsxs("div",{draggable:!ct,onDragStart:w=>{if(ct){w.preventDefault();return}C(w)},onDragOver:N,onDrop:F,onDragEnd:it,className:`group flex items-center gap-1 py-1.5 px-0 rounded transition-all cursor-move relative min-h-0 ${V?"opacity-50 bg-slate-100":k?"bg-blue-50 border-l-2 border-blue-400":"hover:bg-slate-50"}`,children:[b.jsx("input",{type:"checkbox",checked:a.completed,onChange:d,className:"w-5 h-5 rounded border-slate-300 text-slate-700 focus:ring-slate-500 cursor-pointer flex-shrink-0"}),b.jsxs("div",{className:"flex-1 min-w-0",children:[b.jsx("div",{className:`text-sm leading-snug font-medium ${a.completed?"line-through text-slate-400":"text-slate-700"}`,onContextMenu:w=>{w.preventDefault(),w.stopPropagation(),R({top:w.clientY,left:w.clientX}),J(!0)},children:b.jsx(lo,{value:a.text,onChange:o,onEditingChange:w=>{_t(w),T==null||T(w)},placeholder:" ...",className:"text-sm",compact:!0})}),i&&i.trim()!==a.text.trim()&&b.jsx("div",{onClick:w=>{w.stopPropagation(),d()},className:"text-[11px] text-green-600 truncate cursor-pointer hover:text-green-700 transition-colors mt-0.5 pl-1 font-normal opacity-90",title:i,children:i.substring(a.text.length).trim()})]}),b.jsxs("div",{className:"relative flex-shrink-0 -mr-3",children:[a.completed?b.jsx("button",{onClick:()=>G(!0),className:"bg-red-500 hover:bg-red-600 text-white px-3 py-1.5 rounded-md transition-colors text-sm font-medium border-2 border-black",title:"",children:""}):b.jsx("button",{ref:A,onClick:j,className:"text-slate-500 hover:text-slate-700 transition-colors p-0 rounded",title:"",children:b.jsx(ac,{})}),B&&!a.completed&&(()=>{const w=window.innerWidth<768;return b.jsxs("div",{ref:I,className:`${w?"absolute":"fixed"} bg-white rounded-lg shadow-xl border border-slate-200 z-50 py-1.5 w-48 animate-in fade-in ${w?"slide-in-from-right-2":"slide-in-from-left-2"} duration-150`,style:{...w?{right:0,top:"100%",marginTop:"4px"}:{...Ct.top!==void 0&&{top:`${Ct.top}px`},...Ct.bottom!==void 0&&{bottom:`${Ct.bottom}px`},left:`${Ct.left}px`}},onClick:zt=>zt.stopPropagation(),children:[b.jsx("button",{onClick:()=>{d(),J(!1)},className:"w-full text-left px-4 py-2.5 text-sm text-slate-700 hover:bg-slate-100 transition-colors",children:"  /"}),b.jsx("button",{onClick:()=>{p(),J(!1)},className:"w-full text-left px-4 py-2.5 text-sm text-slate-700 hover:bg-slate-100 transition-colors",children:" "}),b.jsx("button",{onClick:()=>{g(),J(!1)},className:"w-full text-left px-4 py-2.5 text-sm text-slate-700 hover:bg-slate-100 transition-colors",children:" "}),v&&b.jsx("button",{onClick:()=>{v(),J(!1)},className:"w-full text-left px-4 py-2.5 text-sm text-slate-700 hover:bg-slate-100 transition-colors",children:"  "}),b.jsx("button",{onClick:()=>{G(!0),J(!1)},className:"w-full text-left px-4 py-2.5 text-sm text-red-600 hover:bg-red-50 transition-colors",children:" "}),b.jsx("button",{onClick:()=>J(!1),className:"w-full text-left px-4 py-2.5 text-sm text-slate-500 hover:bg-slate-100 transition-colors border-t border-slate-200",children:""})]})})(),Z&&b.jsx("div",{className:"fixed inset-0 bg-black/40 flex items-center justify-center z-50 animate-in fade-in duration-150",children:b.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-6 max-w-sm mx-4 animate-in zoom-in duration-200",children:[b.jsx("h2",{className:"text-lg font-bold text-slate-800 mb-2",children:" ?"}),b.jsxs("p",{className:"text-sm text-slate-600 mb-6",children:['"',b.jsx("span",{className:"font-medium line-through",children:a.text}),'"() .']}),b.jsxs("div",{className:"flex gap-3 justify-end",children:[b.jsx("button",{onClick:()=>G(!1),className:"px-4 py-2 rounded-lg border-2 border-slate-300 text-slate-700 font-medium hover:bg-slate-50 transition-colors",children:""}),b.jsx("button",{onClick:()=>{h(),G(!1)},className:"px-4 py-2 rounded-lg bg-red-500 hover:bg-red-600 text-white font-medium border-2 border-black transition-colors",children:""})]})]})})]})]})},Lf=({section:a,itemMemos:e,onUpdateSection:i,onDeleteSection:r,onShowItemMemo:o,onMoveItem:h,onAddToCalendar:d,dragState:p,setDragState:g,onSectionDragStart:v,onSectionDragOver:T,onSectionDrop:S,onSectionDragEnd:C,isHighlighted:N=!1,isInboxSection:F=!1,isFullHeight:it=!1,tabColorText:B="text-slate-800",tabColorBg:J="",initialQuickAddValue:Z,onQuickAddValuePopulated:G,onCrossSectionDrop:ct,onGoToInbox:_t,onReturnFromInbox:Ct,isReturnVisible:R=!1})=>{const[A,I]=rt.useState(""),[j,V]=rt.useState(!1),[k,w]=rt.useState(new Set),zt=rt.useRef(null),Tt=20,$=3,ft=(vt,Rt)=>{w(Jt=>{const be=new Set(Jt);return Rt?be.add(vt):be.delete(vt),be})};rt.useEffect(()=>{Z&&Z.trim()!==""&&(I(Z),G==null||G(),setTimeout(()=>{var vt,Rt;(vt=zt.current)==null||vt.focus(),(Rt=zt.current)==null||Rt.select()},400))},[Z,G]);const At=vt=>{i({...a,title:vt})},Ft=vt=>{if(vt.key==="Enter"&&!vt.shiftKey){vt.preventDefault();const Rt=A.trim();if(Rt==="")return;const be=Rt.split(`
`)[0].trim(),hn=30,ce=be.length>hn?be.substring(0,hn):be,oe=Math.random().toString(36).substr(2,9),_n={id:oe,text:ce,completed:!1},Fi={[oe]:Rt};i({...a,items:[_n,...a.items]},Fi),I(""),zt.current&&(zt.current.style.height="auto")}},$t=vt=>{I(vt.target.value);const Rt=vt.target;Rt.style.height="auto";const Jt=Tt*$+16;Rt.style.height=`${Math.min(Rt.scrollHeight,Jt)}px`,Rt.style.overflowY=Rt.scrollHeight>Jt?"auto":"hidden"},O=()=>{i({...a,isLocked:!a.isLocked})},tt=vt=>{const Rt=a.items.map(Jt=>Jt.id===vt?{...Jt,completed:!Jt.completed}:Jt);i({...a,items:Rt})},mt=(vt,Rt)=>{const Jt=a.items.map(be=>be.id===vt?{...be,text:Rt}:be);i({...a,items:Jt})},yt=vt=>{const Rt=a.items.filter(Jt=>Jt.id!==vt);i({...a,items:Rt})},q=vt=>{const Rt=a.items.find(Jt=>Jt.id===vt);Rt&&navigator.clipboard.writeText(Rt.text).then(()=>{console.log(" :",Rt.text)}).catch(Jt=>{console.error("  :",Jt)})};a.items.some(vt=>vt.completed);const ot=(vt,Rt)=>{vt.stopPropagation(),g({...p,draggedItemId:Rt,sourceSectionId:a.id})},ht=(vt,Rt)=>{vt.preventDefault(),p.dragOverItemId!==Rt&&g({...p,dragOverItemId:Rt})},Dt=(vt,Rt)=>{if(vt.preventDefault(),vt.stopPropagation(),!p.draggedItemId)return;if(p.sourceSectionId!==a.id){ct==null||ct(p.draggedItemId,p.sourceSectionId,a.id,Rt),g({...p,draggedItemId:null,dragOverItemId:null,sourceSectionId:null});return}const Jt=a.items.findIndex(oe=>oe.id===p.draggedItemId),be=a.items.findIndex(oe=>oe.id===Rt);if(Jt===-1||be===-1)return;const hn=[...a.items],[ce]=hn.splice(Jt,1);hn.splice(be,0,ce),i({...a,items:hn})},ut=vt=>{vt.preventDefault(),vt.stopPropagation(),!(!p.draggedItemId||!p.sourceSectionId)&&p.sourceSectionId!==a.id&&(ct==null||ct(p.draggedItemId,p.sourceSectionId,a.id,null),g({...p,draggedItemId:null,dragOverItemId:null,sourceSectionId:null}))},je=vt=>{p.draggedItemId&&p.sourceSectionId!==a.id&&vt.preventDefault()},Xe=()=>{g({...p,draggedItemId:null,dragOverItemId:null,sourceSectionId:null})},pi=p.draggedSectionId===a.id,yi=p.dragOverSectionId===a.id;return b.jsxs("section",{"data-section-id":a.id,draggable:!j&&k.size===0,onDragStart:vt=>{const Rt=vt.target;if(Rt.tagName==="INPUT"||Rt.tagName==="TEXTAREA"){vt.preventDefault(),vt.stopPropagation();return}if(k.size>0){vt.preventDefault();return}v()},onDragOver:T,onDrop:S,onDragEnd:C,className:`bg-white px-4 py-4 transition-all flex flex-col ${F||it?"h-full":"h-[350px]"} cursor-default ${N?"border-2 border-yellow-400 shadow-lg ring-2 ring-yellow-300/50":pi?"opacity-40 border-2 border-slate-600 shadow-sm":yi?"border-blue-500 border-2 scale-[1.01] shadow-sm":"border-2 border-black shadow-sm"}`,children:[b.jsxs("div",{className:`flex items-center justify-between mb-3 gap-2 cursor-move flex-shrink-0 px-4 py-3 -mx-4 -mt-4 mb-3 border-b-2 border-black ${J}`,title:"  ",children:[b.jsx("div",{className:"flex-1 min-w-0",children:b.jsx(lo,{value:a.title,onChange:At,onEditingChange:V,className:"text-xl font-bold text-black",placeholder:" "})}),b.jsxs("div",{className:"flex items-center gap-1.5",children:[F&&R&&b.jsx("button",{onClick:Ct,className:"text-lg hover:bg-slate-200/50 p-1 rounded-md transition-all active:scale-90",title:"  ",children:""}),!F&&b.jsx("button",{onClick:_t,className:"text-lg hover:bg-slate-200/50 p-1 rounded-md transition-all active:scale-90",title:" ",children:""}),!F&&b.jsx("button",{onClick:O,className:"text-red-500 hover:text-red-700 p-0.5 rounded-full transition-colors",title:a.isLocked?"  ":" ",children:a.isLocked?b.jsx($u,{}):b.jsx(IE,{})}),!F&&b.jsx("button",{disabled:a.isLocked,onClick:()=>r(a.id),className:"bg-red-500 hover:bg-red-600 text-white px-2 py-1 rounded-md transition-colors text-sm font-medium border-2 border-black disabled:opacity-30 disabled:cursor-not-allowed",title:a.isLocked?"    ":" ",children:""})]})]}),b.jsxs("div",{className:"mb-3 flex-shrink-0 flex items-end gap-0",children:[b.jsx("textarea",{ref:zt,value:A,onChange:$t,onKeyDown:Ft,rows:1,className:"flex-1 px-3 py-2 text-sm border-2 border-black border-r-0 rounded-l-lg bg-white focus:outline-none focus:ring-2 focus:ring-yellow-400 focus:border-yellow-400 transition-all resize-none overflow-hidden leading-5",style:{minHeight:"36px"}}),b.jsx("button",{onClick:()=>{const vt=A.trim();if(vt==="")return;const Jt=vt.split(`
`)[0].trim(),be=30,hn=Jt.length>be?Jt.substring(0,be):Jt,ce=Math.random().toString(36).substr(2,9),oe={id:ce,text:hn,completed:!1},_n={[ce]:vt};i({...a,items:[oe,...a.items]},_n),I(""),zt.current&&(zt.current.style.height="auto")},className:"px-3 py-2 text-lg font-bold bg-yellow-400 hover:bg-yellow-500 text-black border-2 border-black border-l-0 rounded-r-lg transition-colors whitespace-nowrap self-end",style:{height:"36px"},title:"",children:"+"})]}),b.jsxs("div",{className:`space-y-0.5 overflow-y-auto overflow-x-hidden flex-1 pr-1 rounded transition-colors ${p.draggedItemId&&p.sourceSectionId!==a.id?"bg-blue-50/60 border-2 border-dashed border-blue-300":""}`,onDragOver:je,onDrop:ut,children:[[...a.items].sort((vt,Rt)=>vt.completed===Rt.completed?0:vt.completed?1:-1).map(vt=>b.jsx(VE,{item:vt,sectionId:a.id,memo:e[vt.id],onToggle:()=>tt(vt.id),onUpdateText:Rt=>mt(vt.id,Rt),onDelete:()=>yt(vt.id),onAddMemo:()=>o(vt.id),onMoveItem:()=>h(vt.id),onCopy:()=>q(vt.id),onAddToCalendar:d?()=>d(vt.text):void 0,onEditingChange:Rt=>ft(vt.id,Rt),dragState:p,onDragStart:Rt=>ot(Rt,vt.id),onDragOver:Rt=>ht(Rt,vt.id),onDrop:Rt=>Dt(Rt,vt.id),onDragEnd:Xe},vt.id)),a.items.length===0&&b.jsx("div",{className:"flex flex-col items-center justify-center h-full text-slate-400 opacity-60",children:b.jsx("p",{className:"text-[11px] italic",children:"  ."})})]})]})},OE=({isOpen:a,title:e,message:i,onConfirm:r,onCancel:o})=>{const h=sc.useRef(null);return sc.useEffect(()=>{if(a){setTimeout(()=>{var p;(p=h.current)==null||p.focus()},100);const d=p=>{p.key==="Enter"?(p.preventDefault(),r()):p.key==="Escape"&&(p.preventDefault(),o())};return window.addEventListener("keydown",d),()=>window.removeEventListener("keydown",d)}},[a,r,o]),a?b.jsx("div",{className:"fixed inset-0 z-[200] flex items-center justify-center p-4 bg-slate-900/40 backdrop-blur-sm",children:b.jsxs("div",{className:"bg-white w-full max-w-sm rounded-2xl shadow-2xl border border-slate-200 overflow-hidden transform transition-all animate-in zoom-in duration-200",role:"dialog","aria-modal":"true","aria-labelledby":"modal-title",children:[b.jsx("div",{className:"px-6 py-4 border-b border-slate-100",children:b.jsx("h2",{id:"modal-title",className:"text-lg font-bold text-slate-800",children:e})}),b.jsx("div",{className:"px-6 py-6",children:b.jsx("p",{className:"text-slate-600 text-sm leading-relaxed",children:i})}),b.jsxs("div",{className:"px-6 py-4 border-t border-slate-100 bg-slate-50 flex justify-end gap-3",children:[b.jsx("button",{onClick:o,className:"px-4 py-2 bg-slate-200 text-slate-800 text-sm font-semibold rounded-lg hover:bg-slate-300 transition-colors",children:""}),b.jsx("button",{ref:h,onClick:r,className:"px-4 py-2 bg-red-500 text-white text-sm font-semibold rounded-lg hover:bg-red-600 transition-colors shadow-lg shadow-red-500/20 focus:ring-4 focus:ring-red-300 outline-none",children:""})]})]})}):null},ME=({info:a,onChange:e,onShowChecklistMemo:i,onShowShoppingMemo:r,onAddToCalendar:o})=>{const h=a.checklistItems||[],d=a.shoppingListItems||[],[p,g]=rt.useState({draggedItemId:null,dragOverItemId:null}),[v,T]=rt.useState({draggedItemId:null,dragOverItemId:null}),[S,C]=rt.useState(null),[N,F]=rt.useState({left:0}),[it,B]=rt.useState({isOpen:!1,itemId:null,itemText:"",type:"checklist"}),[J,Z]=rt.useState(new Set),G=(q,ot)=>{Z(ht=>{const Dt=new Set(ht);return ot?Dt.add(q):Dt.delete(q),Dt})},ct=rt.useRef(null),_t=rt.useRef({});Ec(ct,()=>C(null));const Ct=(q,ot)=>{q.stopPropagation();const ht=window.innerWidth<768;if(_t.current[ot]&&!ht){const Dt=_t.current[ot].getBoundingClientRect();window.innerHeight-Dt.bottom>=240?F({top:Dt.bottom+8,left:Dt.right+8}):F({bottom:window.innerHeight-Dt.top+8,left:Dt.right+8})}C(S===ot?null:ot)},R=()=>{const q={id:Math.random().toString(36).substr(2,9),text:"",completed:!1};e({...a,checklistItems:[...h,q]})},A=q=>{const ot=h.map(ht=>ht.id===q?{...ht,completed:!ht.completed}:ht);e({...a,checklistItems:ot})},I=(q,ot)=>{const ht=h.map(Dt=>Dt.id===q?{...Dt,text:ot}:Dt);e({...a,checklistItems:ht})},j=q=>{const ot=h.filter(ht=>ht.id!==q);e({...a,checklistItems:ot})},V=q=>{const ot=h.find(ht=>ht.id===q);ot&&navigator.clipboard.writeText(ot.text).then(()=>{console.log(" :",ot.text)}).catch(ht=>{console.error("  :",ht)})},k=(q,ot)=>{if(J.has(ot)){q.preventDefault();return}q.stopPropagation(),g({draggedItemId:ot,dragOverItemId:null})},w=(q,ot)=>{q.preventDefault(),p.dragOverItemId!==ot&&g(ht=>({...ht,dragOverItemId:ot}))},zt=(q,ot)=>{if(q.preventDefault(),q.stopPropagation(),!p.draggedItemId||p.draggedItemId===ot)return;const ht=h.findIndex(Xe=>Xe.id===p.draggedItemId),Dt=h.findIndex(Xe=>Xe.id===ot);if(ht===-1||Dt===-1)return;const ut=[...h],[je]=ut.splice(ht,1);ut.splice(Dt,0,je),e({...a,checklistItems:ut}),g({draggedItemId:null,dragOverItemId:null})},Tt=()=>{g({draggedItemId:null,dragOverItemId:null})},$=()=>{const q={id:Math.random().toString(36).substr(2,9),text:"",completed:!1};e({...a,shoppingListItems:[...d,q]})},ft=q=>{const ot=d.map(ht=>ht.id===q?{...ht,completed:!ht.completed}:ht);e({...a,shoppingListItems:ot})},At=(q,ot)=>{const ht=d.map(Dt=>Dt.id===q?{...Dt,text:ot}:Dt);e({...a,shoppingListItems:ht})},Ft=q=>{const ot=d.filter(ht=>ht.id!==q);e({...a,shoppingListItems:ot})},$t=q=>{const ot=d.find(ht=>ht.id===q);ot&&navigator.clipboard.writeText(ot.text).then(()=>{console.log(" :",ot.text)}).catch(ht=>{console.error("  :",ht)})},O=(q,ot)=>{if(J.has(ot)){q.preventDefault();return}q.stopPropagation(),T({draggedItemId:ot,dragOverItemId:null})},tt=(q,ot)=>{q.preventDefault(),v.dragOverItemId!==ot&&T(ht=>({...ht,dragOverItemId:ot}))},mt=(q,ot)=>{if(q.preventDefault(),q.stopPropagation(),!v.draggedItemId||v.draggedItemId===ot)return;const ht=d.findIndex(Xe=>Xe.id===v.draggedItemId),Dt=d.findIndex(Xe=>Xe.id===ot);if(ht===-1||Dt===-1)return;const ut=[...d],[je]=ut.splice(ht,1);ut.splice(Dt,0,je),e({...a,shoppingListItems:ut}),T({draggedItemId:null,dragOverItemId:null})},yt=()=>{T({draggedItemId:null,dragOverItemId:null})};return b.jsxs("div",{className:"flex flex-col h-full bg-white border-2 border-black p-4 shadow-sm",children:[b.jsx("div",{className:"flex items-center justify-between mb-3 flex-shrink-0",children:b.jsx("h2",{className:"text-sm font-bold text-slate-800",children:""})}),b.jsxs("div",{className:"mb-4",children:[b.jsx("label",{className:"block text-[9px] font-bold text-slate-500 mb-0.5 uppercase tracking-wider",children:"Location Info"}),b.jsx("input",{type:"text",value:a.text,onChange:q=>e({text:q.target.value,checklistItems:h}),placeholder:": B2 14C",className:"w-full px-2 py-1.5 bg-slate-50 border border-slate-300 rounded-lg focus:outline-none focus:ring-1 focus:ring-slate-500 text-xs text-slate-700 font-medium placeholder:text-slate-300"})]}),b.jsx("div",{className:"border-t-2 border-blue-400 mb-4"}),b.jsxs("div",{className:"flex-1 flex flex-col min-h-0",children:[b.jsxs("div",{className:"flex items-center justify-between mb-2",children:[b.jsx("label",{className:"block text-sm font-bold text-slate-800",children:""}),b.jsx("button",{onClick:R,className:"text-xs text-blue-600 hover:text-blue-700 font-medium",children:"+ "})]}),b.jsx("div",{className:"border-t border-slate-200 mb-3"}),b.jsxs("div",{className:"space-y-0 overflow-y-auto overflow-x-hidden flex-1",children:[[...h].sort((q,ot)=>q.completed===ot.completed?0:q.completed?1:-1).map(q=>{var Dt;const ot=p.draggedItemId===q.id,ht=p.dragOverItemId===q.id;return b.jsxs("div",{draggable:!J.has(q.id),onDragStart:ut=>k(ut,q.id),onDragOver:ut=>w(ut,q.id),onDrop:ut=>zt(ut,q.id),onDragEnd:Tt,className:`flex items-center gap-1 py-1.5 px-0 rounded transition-all cursor-move relative min-h-0 ${ot?"opacity-50 bg-slate-100":ht?"bg-blue-50 border-l-2 border-blue-400":"hover:bg-slate-50"}`,children:[b.jsx("input",{type:"checkbox",checked:q.completed,onChange:()=>A(q.id),className:"w-5 h-5 rounded border-slate-300 text-slate-700 focus:ring-slate-500 cursor-pointer flex-shrink-0"}),b.jsxs("div",{className:"flex-1 min-w-0",children:[b.jsx("div",{className:`text-sm leading-snug font-medium ${q.completed?"line-through text-slate-400":"text-slate-700"} relative`,onContextMenu:ut=>{ut.preventDefault(),ut.stopPropagation(),F({top:ut.clientY,left:ut.clientX}),C(q.id)},children:b.jsx(lo,{value:q.text,onChange:ut=>I(q.id,ut),onEditingChange:ut=>G(q.id,ut),placeholder:" ...",className:"text-sm",compact:!0})}),((Dt=a.checklistMemos)==null?void 0:Dt[q.id])&&a.checklistMemos[q.id].trim()!==q.text.trim()&&b.jsx("div",{onClick:ut=>{ut.stopPropagation(),i(q.id)},className:"text-[11px] text-green-600 truncate cursor-pointer hover:text-green-700 transition-colors mt-0.5 pl-1 font-normal opacity-90",title:a.checklistMemos[q.id],children:a.checklistMemos[q.id].substring(q.text.length).trim()})]}),b.jsxs("div",{className:"relative flex-shrink-0 -mr-3",children:[b.jsx("button",{ref:ut=>{ut&&(_t.current[q.id]=ut)},onClick:ut=>Ct(ut,q.id),className:"text-slate-600 hover:text-slate-800 transition-colors p-1.5 rounded",title:"",style:{transform:"scale(1.2)"},children:b.jsx(ac,{})}),S===q.id&&(()=>{const ut=window.innerWidth<768;return b.jsxs("div",{ref:ct,className:`${ut?"absolute":"fixed"} bg-white rounded-lg shadow-xl border border-slate-200 z-50 py-1.5 w-48 animate-in fade-in ${ut?"slide-in-from-right-2":"slide-in-from-left-2"} duration-150`,style:{...ut?{right:0,top:"100%",marginTop:"4px"}:{...N.top!==void 0&&{top:`${N.top}px`},...N.bottom!==void 0&&{bottom:`${N.bottom}px`},left:`${N.left}px`}},onClick:je=>je.stopPropagation(),children:[b.jsx("button",{onClick:()=>{i(q.id),C(null)},className:"w-full text-left px-4 py-2.5 text-sm text-slate-700 hover:bg-slate-100 transition-colors",children:"  /"}),b.jsx("button",{onClick:()=>{V(q.id),C(null)},className:"w-full text-left px-4 py-2.5 text-sm text-slate-700 hover:bg-slate-100 transition-colors",children:" "}),b.jsx("button",{onClick:()=>{o(q.text),C(null)},className:"w-full text-left px-4 py-2.5 text-sm text-slate-700 hover:bg-slate-100 transition-colors",children:"  "}),b.jsx("button",{onClick:()=>{B({isOpen:!0,itemId:q.id,itemText:q.text,type:"checklist"}),C(null)},className:"w-full text-left px-4 py-2.5 text-sm text-red-600 hover:bg-red-50 transition-colors border-t border-slate-200",children:" "})]})})()]})]},q.id)}),h.length===0&&b.jsx("div",{className:"text-center py-4 text-slate-400 text-xs italic",children:" "})]})]}),b.jsx("div",{className:"border-t-2 border-blue-400 my-4"}),b.jsxs("div",{className:"flex-1 flex flex-col min-h-0",children:[b.jsxs("div",{className:"flex items-center justify-between mb-2",children:[b.jsx("label",{className:"block text-sm font-bold text-slate-800",children:""}),b.jsx("button",{onClick:$,className:"text-xs text-blue-600 hover:text-blue-700 font-medium",children:"+ "})]}),b.jsx("div",{className:"border-t border-slate-200 mb-3"}),b.jsxs("div",{className:"space-y-0 overflow-y-auto overflow-x-hidden flex-1",children:[[...d].sort((q,ot)=>q.completed===ot.completed?0:q.completed?1:-1).map(q=>{var Dt;const ot=v.draggedItemId===q.id,ht=v.dragOverItemId===q.id;return b.jsxs("div",{draggable:!J.has(q.id),onDragStart:ut=>O(ut,q.id),onDragOver:ut=>tt(ut,q.id),onDrop:ut=>mt(ut,q.id),onDragEnd:yt,className:`flex items-center gap-1 py-1.5 px-0 rounded transition-all cursor-move relative min-h-0 ${ot?"opacity-50 bg-slate-100":ht?"bg-blue-50 border-l-2 border-blue-400":"hover:bg-slate-50"}`,children:[b.jsx("input",{type:"checkbox",checked:q.completed,onChange:()=>ft(q.id),className:"w-5 h-5 rounded border-slate-300 text-slate-700 focus:ring-slate-500 cursor-pointer flex-shrink-0"}),b.jsxs("div",{className:"flex-1 min-w-0",children:[b.jsx("div",{className:`text-sm leading-snug font-medium ${q.completed?"line-through text-slate-400":"text-slate-700"} relative`,onContextMenu:ut=>{ut.preventDefault(),ut.stopPropagation(),F({top:ut.clientY,left:ut.clientX}),C(q.id)},children:b.jsx(lo,{value:q.text,onChange:ut=>At(q.id,ut),onEditingChange:ut=>G(q.id,ut),placeholder:" ...",className:"text-sm",compact:!0})}),((Dt=a.shoppingListMemos)==null?void 0:Dt[q.id])&&a.shoppingListMemos[q.id].trim()!==q.text.trim()&&b.jsx("div",{onClick:ut=>{ut.stopPropagation(),r(q.id)},className:"text-[11px] text-green-600 truncate cursor-pointer hover:text-green-700 transition-colors mt-0.5 pl-1 font-normal opacity-90",title:a.shoppingListMemos[q.id],children:a.shoppingListMemos[q.id].substring(q.text.length).trim()})]}),b.jsxs("div",{className:"relative flex-shrink-0 -mr-3",children:[b.jsx("button",{ref:ut=>{ut&&(_t.current[q.id]=ut)},onClick:ut=>Ct(ut,q.id),className:"text-slate-600 hover:text-slate-800 transition-colors p-1.5 rounded",title:"",style:{transform:"scale(1.2)"},children:b.jsx(ac,{})}),S===q.id&&(()=>{const ut=window.innerWidth<768;return b.jsxs("div",{ref:ct,className:`${ut?"absolute":"fixed"} bg-white rounded-lg shadow-xl border border-slate-200 z-50 py-1.5 w-48 animate-in fade-in ${ut?"slide-in-from-right-2":"slide-in-from-left-2"} duration-150`,style:{...ut?{right:0,top:"100%",marginTop:"4px"}:{...N.top!==void 0&&{top:`${N.top}px`},...N.bottom!==void 0&&{bottom:`${N.bottom}px`},left:`${N.left}px`}},onClick:je=>je.stopPropagation(),children:[b.jsx("button",{onClick:()=>{r(q.id),C(null)},className:"w-full text-left px-4 py-2.5 text-sm text-slate-700 hover:bg-slate-100 transition-colors",children:"  /"}),b.jsx("button",{onClick:()=>{$t(q.id),C(null)},className:"w-full text-left px-4 py-2.5 text-sm text-slate-700 hover:bg-slate-100 transition-colors",children:" "}),b.jsx("button",{onClick:()=>{o(q.text),C(null)},className:"w-full text-left px-4 py-2.5 text-sm text-slate-700 hover:bg-slate-100 transition-colors",children:"  "}),b.jsx("button",{onClick:()=>{B({isOpen:!0,itemId:q.id,itemText:q.text,type:"shopping"}),C(null)},className:"w-full text-left px-4 py-2.5 text-sm text-red-600 hover:bg-red-50 transition-colors border-t border-slate-200",children:" "})]})})()]})]},q.id)}),d.length===0&&b.jsx("div",{className:"text-center py-4 text-slate-400 text-xs italic",children:" "})]})]}),it.isOpen&&b.jsx("div",{className:"fixed inset-0 bg-black/40 flex items-center justify-center z-50 animate-in fade-in duration-150",children:b.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-6 max-w-sm mx-4 animate-in zoom-in duration-200",children:[b.jsx("h2",{className:"text-lg font-bold text-slate-800 mb-2",children:" ?"}),b.jsxs("p",{className:"text-sm text-slate-600 mb-6",children:['"',it.itemText&&it.itemText.length>30?it.itemText.substring(0,30)+"...":it.itemText,'"',it.itemText.length>30&&"","() ."]}),b.jsxs("div",{className:"flex gap-3 justify-end",children:[b.jsx("button",{onClick:()=>B({...it,isOpen:!1}),className:"px-4 py-2 rounded-lg border-2 border-slate-300 text-slate-700 font-medium hover:bg-slate-50 transition-colors",children:""}),b.jsx("button",{onClick:()=>{it.type==="checklist"?j(it.itemId):Ft(it.itemId),B({isOpen:!1,itemId:null,itemText:"",type:"checklist"})},className:"px-4 py-2 rounded-lg bg-red-500 hover:bg-red-600 text-white font-medium border-2 border-black transition-colors",children:""})]})]})})]})},Oy=[{bg:"bg-[#F59E0B]",bgLight:"bg-[#FEF3C7]",text:"text-[#92400E]",textLight:"text-[#D97706]",border:"border-[#F59E0B]"},{bg:"bg-[#3B82F6]",bgLight:"bg-[#DBEAFE]",text:"text-[#1E3A8A]",textLight:"text-[#3B82F6]",border:"border-[#3B82F6]"},{bg:"bg-[#9333EA]",bgLight:"bg-[#F3E8FF]",text:"text-[#581C87]",textLight:"text-[#9333EA]",border:"border-[#9333EA]"},{bg:"bg-[#10B981]",bgLight:"bg-[#D1FAE5]",text:"text-[#065F46]",textLight:"text-[#10B981]",border:"border-[#10B981]"},{bg:"bg-[#F43F5E]",bgLight:"bg-[#FFE4E6]",text:"text-[#881337]",textLight:"text-[#F43F5E]",border:"border-[#F43F5E]"},{bg:"bg-[#06B6D4]",bgLight:"bg-[#CFFAFE]",text:"text-[#164E63]",textLight:"text-[#06B6D4]",border:"border-[#06B6D4]"},{bg:"bg-[#8B5CF6]",bgLight:"bg-[#EDE9FE]",text:"text-[#4C1D95]",textLight:"text-[#8B5CF6]",border:"border-[#8B5CF6]"},{bg:"bg-[#F97316]",bgLight:"bg-[#FFEDD5]",text:"text-[#7C2D12]",textLight:"text-[#F97316]",border:"border-[#F97316]"}],$l=a=>Oy[a%Oy.length],jE=({tab:a,onDelete:e,onToggleLock:i,canDelete:r,isActive:o,tabColor:h})=>{const[d,p]=rt.useState(!1),[g,v]=rt.useState({bottom:0,left:0}),T=rt.useRef(null),S=rt.useRef(null);Ec(S,()=>p(!1));const C=F=>{if(F.stopPropagation(),T.current){const it=T.current.getBoundingClientRect();v({bottom:window.innerHeight-it.top+8,left:it.left})}p(!d)},N=r&&!a.isLocked;return b.jsxs("div",{className:"relative ml-1",children:[b.jsx("button",{ref:T,onClick:C,className:`p-1 rounded-full transition-all flex items-center justify-center ${o?`opacity-100 ${h.text} hover:bg-black/5`:`opacity-40 group-hover:opacity-100 ${h.textLight} hover:bg-black/5`}`,title:" ",children:b.jsx(ac,{})}),d&&b.jsxs("div",{ref:S,className:"fixed bg-white rounded-xl shadow-[0_10px_30px_rgba(0,0,0,0.2)] border border-slate-200 z-[999] py-1 overflow-hidden animate-in fade-in slide-in-from-bottom-2 duration-150 w-32",style:{bottom:`${g.bottom}px`,left:`${g.left}px`},onClick:F=>F.stopPropagation(),children:[b.jsxs("button",{onClick:()=>{i(a.id),p(!1)},className:"w-full text-left px-3 py-2 text-xs text-slate-700 hover:bg-slate-100 transition-colors flex items-center gap-2",children:[b.jsx("span",{className:"text-sm leading-none",children:a.isLocked?"":""}),b.jsx("span",{className:"font-bold",children:a.isLocked?" ":""})]}),b.jsxs("button",{disabled:!N,onClick:()=>{e(a.id),p(!1)},className:`w-full text-left px-3 py-2 text-xs transition-colors flex items-center gap-2 border-t border-slate-50 ${N?"text-red-600 hover:bg-red-50":"text-slate-300 cursor-not-allowed bg-slate-50"}`,children:[b.jsx("span",{className:"text-sm leading-none",children:""}),b.jsx("span",{className:"font-bold",children:""})]}),b.jsx("button",{onClick:()=>p(!1),className:"w-full text-left px-3 py-2 text-xs text-slate-500 hover:bg-slate-100 transition-colors border-t border-slate-100 font-medium",children:""})]})]})},LE=({tabs:a,activeTabId:e,onSelectTab:i,onAddTab:r,onRenameTab:o,onDeleteTab:h,onToggleLockTab:d,onReorderTabs:p,onNavigateToInbox:g,hasInbox:v})=>{const[T,S]=rt.useState(null),[C,N]=rt.useState(null),F=(Z,G)=>{if(a[G].isLocked){Z.preventDefault();return}S(G),Z.dataTransfer.effectAllowed="move"},it=(Z,G)=>{Z.preventDefault(),Z.dataTransfer.dropEffect="move",N(G)},B=(Z,G)=>{Z.preventDefault(),T!==null&&T!==G&&p(T,G),S(null),N(null)},J=()=>{S(null),N(null)};return b.jsx("div",{className:"bg-white border-t border-slate-200 z-[100] h-12 shadow-[0_-2px_15px_rgba(0,0,0,0.08)] relative",children:b.jsxs("div",{className:"w-full h-full flex items-center overflow-x-auto no-scrollbar whitespace-nowrap px-6 gap-1",children:[v&&b.jsx("button",{onClick:g,className:"flex items-center justify-center w-8 h-8 text-lg leading-none hover:bg-blue-50 rounded-lg transition-all active:scale-95 flex-shrink-0",title:"  IN-BOX  ",children:""}),a.map((Z,G)=>{const ct=$l(G),_t=e===Z.id,Ct=T===G,R=C===G;return b.jsxs("div",{draggable:!Z.isLocked,onDragStart:A=>F(A,G),onDragOver:A=>it(A,G),onDrop:A=>B(A,G),onDragEnd:J,onClick:()=>i(Z.id),className:`group flex items-center gap-1.5 px-2.5 py-1.5 rounded-lg cursor-pointer transition-all border flex-shrink-0 ${Ct?"opacity-50":""} ${R?"ring-2 ring-offset-1 ring-blue-400":""} ${Z.isLocked?"":"hover:shadow-md"} ${_t?`${ct.bg} ${ct.text} ${ct.border} shadow-sm`:`${ct.bgLight} ${ct.textLight} border-transparent hover:${ct.border}`} ${Z.isLocked?"cursor-default":""}`,children:[b.jsx("div",{draggable:!1,onDragStart:A=>A.stopPropagation(),children:b.jsx(lo,{value:Z.name,onChange:A=>o(Z.id,A),className:`text-xs min-w-[40px] text-center ${_t?"font-bold":"font-medium"}`,placeholder:" "})}),b.jsx(jE,{tab:Z,onDelete:h,onToggleLock:d,canDelete:a.length>1,isActive:_t,tabColor:ct})]},Z.id)}),b.jsx("div",{className:"flex items-center ml-2 border-l border-slate-200 pl-4 flex-shrink-0 h-8",children:b.jsxs("button",{onClick:r,className:"flex items-center gap-1.5 px-3 py-1.5 text-xs font-bold text-emerald-600 hover:bg-emerald-50 rounded-lg transition-all active:scale-95",children:[b.jsx("span",{className:"text-lg leading-none",children:"+"}),b.jsx("span",{children:" "})]})})]})})},kE=["#F1F1EF","#F4EEEE","#FBECDD","#FBF3DB","#EDF3EC","#E7F3F8","#F3F0F5","#F9F0F4","#FDEBEC","#FFFFFF","#E1E1E1","#D3D3D3","#E9E5E3","#F7F6F3","#FAF9F6","#F1F5F9","#F0FDF4","#EFF6FF","#F5F3FF","#FDF2F8","#FFFBEB","#FFF1F2","#FEFCE8","#F0FDFA"],zE=({isOpen:a,bookmark:e,onClose:i,onSave:r})=>{const[o,h]=rt.useState({...e});if(rt.useEffect(()=>{a&&h({...e})},[a,e]),!a)return null;const d=()=>{r(o)},p=g=>g.startsWith("#");return b.jsx("div",{className:"fixed inset-0 z-[200] flex items-center justify-center p-4 bg-black/30 backdrop-blur-[2px]",onClick:i,children:b.jsxs("div",{className:"bg-[#F7F6F3] w-full max-w-2xl rounded-xl shadow-2xl overflow-hidden animate-in fade-in zoom-in duration-200",onClick:g=>g.stopPropagation(),children:[b.jsxs("div",{className:"bg-white px-6 py-4 flex items-center justify-between border-b border-slate-200",children:[b.jsx("h2",{className:"text-lg font-bold text-slate-800",children:" "}),b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("button",{onClick:d,className:"px-4 py-1.5 bg-[#3B82F6] text-white text-sm font-bold rounded shadow-sm hover:brightness-95 active:scale-95 transition-all",children:""}),b.jsx("button",{onClick:i,className:"px-4 py-1.5 bg-[#F1B116] text-white text-sm font-bold rounded shadow-sm hover:brightness-95 active:scale-95 transition-all",children:""})]})]}),b.jsxs("div",{className:"p-8 flex flex-col md:flex-row gap-12",children:[b.jsxs("div",{className:"flex-1 space-y-6",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-bold text-slate-400 mb-2 uppercase tracking-tight",children:""}),b.jsx("input",{type:"text",value:o.label,onChange:g=>h({...o,label:g.target.value}),className:"w-full px-4 py-2.5 bg-white border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/20 text-slate-700 font-medium"})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-bold text-slate-400 mb-2 uppercase tracking-tight",children:"URL"}),b.jsx("input",{type:"text",value:o.url,onChange:g=>h({...o,url:g.target.value}),className:"w-full px-4 py-2.5 bg-white border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/20 text-slate-700 font-medium"})]})]}),b.jsxs("div",{className:"flex-1",children:[b.jsx("label",{className:"block text-sm font-bold text-slate-400 mb-4 text-center md:text-left uppercase tracking-tight",children:"  "}),b.jsx("div",{className:"grid grid-cols-6 gap-2 mb-8",children:kE.map(g=>b.jsx("button",{onClick:()=>h({...o,color:`bg-[${g}]`}),className:`w-10 h-10 rounded-lg border transition-all hover:scale-110 ${o.color===`bg-[${g}]`?"border-blue-500 shadow-md scale-110 ring-2 ring-blue-100":"border-slate-200"}`,style:{backgroundColor:g}},g))}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-bold text-slate-400 mb-2 uppercase tracking-tight",children:" "}),b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("div",{className:"w-12 h-10 rounded border border-slate-300 relative overflow-hidden",style:{backgroundColor:p(o.color.replace("bg-[","").replace("]",""))?o.color.replace("bg-[","").replace("]",""):"#FFFFFF"},children:b.jsx("input",{type:"color",className:"absolute inset-0 opacity-0 cursor-pointer w-full h-full",value:p(o.color.replace("bg-[","").replace("]",""))?o.color.replace("bg-[","").replace("]",""):"#FFFFFF",onChange:g=>h({...o,color:`bg-[${g.target.value.toUpperCase()}]`})})}),b.jsx("input",{type:"text",value:o.color.replace("bg-[","").replace("]",""),onChange:g=>h({...o,color:`bg-[${g.target.value.toUpperCase()}]`}),className:"flex-1 px-4 py-2 bg-white border border-slate-300 rounded-lg focus:outline-none text-slate-700 font-mono",placeholder:"#000000"})]})]})]})]})]})})},UE=({bookmarks:a,onUpdateBookmarks:e})=>{const[i,r]=rt.useState(null),[o,h]=rt.useState(null),[d,p]=rt.useState(null),g=J=>{J&&(J.startsWith("http")?window.open(J,"_blank"):window.open(`https://${J}`,"_blank"))},v=(J,Z)=>{J.preventDefault(),r(Z)},T=(J,Z)=>{h(Z),J.dataTransfer.effectAllowed="move"},S=(J,Z)=>{J.preventDefault(),J.dataTransfer.dropEffect="move",o&&o!==Z&&p(Z)},C=()=>{p(null)},N=(J,Z)=>{if(J.preventDefault(),!o||o===Z){h(null),p(null);return}const G=a.findIndex(_t=>_t.id===o),ct=a.findIndex(_t=>_t.id===Z);if(G!==-1&&ct!==-1){const _t=[...a],[Ct]=_t.splice(G,1);_t.splice(ct,0,Ct),e(_t)}h(null),p(null)},F=()=>{h(null),p(null)},it=J=>{if(!i)return;const Z=a.map(G=>G.id===J.id?J:G);e(Z),r(null)},B=J=>J.startsWith("bg-[")?J.replace("bg-[","").replace("]",""):J;return b.jsxs("div",{className:"w-full bg-white border-b border-slate-200 py-2.5 px-4 overflow-hidden",children:[b.jsx("div",{className:"grid grid-cols-5 md:grid-cols-8 lg:grid-cols-10 xl:grid-cols-[repeat(15,minmax(0,1fr))] gap-1.5",children:a.slice(0,15).map(J=>b.jsx("div",{className:`relative group/btn transition-all ${o===J.id?"opacity-50":""} ${d===J.id?"transform scale-105":""}`,draggable:!0,onDragStart:Z=>T(Z,J.id),onDragOver:Z=>S(Z,J.id),onDragLeave:C,onDrop:Z=>N(Z,J.id),onDragEnd:F,children:b.jsx("button",{onClick:()=>g(J.url),onContextMenu:Z=>v(Z,J),className:"w-full h-11 px-2 py-1 rounded-lg border border-slate-200/60 text-[11px] font-bold transition-all active:scale-95 flex items-center justify-center hover:brightness-95 hover:shadow-sm text-slate-700 overflow-hidden leading-tight cursor-move",style:{backgroundColor:B(J.color)},children:b.jsx("span",{className:"line-clamp-2 text-center break-all",children:J.label||"Empty"})})},J.id))}),i&&b.jsx(zE,{isOpen:!!i,bookmark:i,onClose:()=>r(null),onSave:it})]})},BE=({notes:a,onChange:e})=>{const[i,r]=rt.useState(null),[o,h]=rt.useState(""),[d,p]=rt.useState(""),[g,v]=rt.useState(null),T=Array.from({length:16},(Z,G)=>a[G]||{title:"",content:""}),S=(Z,G)=>{v(G),Z.dataTransfer.effectAllowed="move"},C=(Z,G)=>{Z.preventDefault(),Z.dataTransfer.dropEffect="move"},N=(Z,G)=>{if(Z.preventDefault(),g===null||g===G)return;const ct=[...T],_t=ct[g],Ct=ct[G];ct[g]=Ct,ct[G]=_t,e(ct),v(null)},F=()=>{v(null)},it=Z=>{r(Z),h(T[Z].title),p(T[Z].content)},B=()=>{if(i!==null){const Z=[...T];Z[i]={title:o,content:d},e(Z),r(null)}},J=()=>{if(i!==null){const Z=[...T];Z[i]={title:"",content:""},Z.sort((G,ct)=>{const _t=!!(G.title||G.content),Ct=!!(ct.title||ct.content);return _t===Ct?0:_t?-1:1}),e(Z),r(null)}};return b.jsxs("div",{className:"w-full h-full flex flex-col py-2 px-2 gap-1 overflow-hidden",children:[T.map((Z,G)=>{const ct=Z.title||Z.content;return b.jsxs("div",{className:`flex-1 min-h-0 w-full flex items-stretch gap-0.5 ${g===G?"opacity-40":""}`,onDragOver:_t=>C(_t),onDrop:_t=>N(_t,G),children:[b.jsx("div",{className:`w-5 flex-none flex items-center justify-center cursor-grab active:cursor-grabbing rounded-l-lg border-y border-l select-none transition-colors ${ct?"bg-green-600 border-green-700 text-white":"bg-slate-200 border-slate-300 text-slate-400"}`,draggable:!0,onDragStart:_t=>S(_t,G),onDragEnd:F,children:b.jsxs("svg",{className:"w-3 h-3",fill:"currentColor",viewBox:"0 0 24 24",children:[b.jsx("circle",{cx:"9",cy:"5",r:"1.5"}),b.jsx("circle",{cx:"15",cy:"5",r:"1.5"}),b.jsx("circle",{cx:"9",cy:"12",r:"1.5"}),b.jsx("circle",{cx:"15",cy:"12",r:"1.5"}),b.jsx("circle",{cx:"9",cy:"19",r:"1.5"}),b.jsx("circle",{cx:"15",cy:"19",r:"1.5"})]})}),b.jsx("button",{onClick:()=>it(G),className:`flex-1 min-w-0 px-2 py-1 rounded-r-lg border-y border-r transition-all active:scale-95 flex flex-col items-center justify-center hover:brightness-95 hover:shadow-sm overflow-hidden leading-tight ${ct?"bg-green-400 text-black text-[14px] font-normal border-green-600":"bg-[#FBF3DB] text-slate-700 text-[12px] font-bold border-slate-200/60"}`,children:b.jsx("span",{className:"line-clamp-2 text-center break-all",children:Z.title||(Z.content?Z.content.substring(0,10):" ")})})]},G)}),i!==null&&b.jsx("div",{className:"fixed inset-0 z-[300] flex items-center justify-center p-4 bg-black/40 backdrop-blur-sm",onClick:()=>r(null),children:b.jsxs("div",{className:"bg-white w-full max-w-3xl h-[70vh] shadow-2xl border border-slate-200 overflow-hidden animate-in zoom-in duration-200 flex flex-col",onClick:Z=>Z.stopPropagation(),children:[b.jsx("div",{className:"flex-1 overflow-hidden",children:b.jsx("textarea",{value:d,onChange:Z=>p(Z.target.value),className:"w-full h-full p-8 bg-transparent text-slate-700 text-base resize-none focus:outline-none custom-scrollbar font-medium leading-relaxed placeholder:text-slate-200",placeholder:"  ..."})}),b.jsxs("div",{className:"px-6 py-2 bg-slate-50 border-t border-black flex justify-between gap-3 shrink-0",children:[b.jsx("button",{onClick:J,className:"px-6 py-2.5 text-sm font-bold text-white bg-red-500 hover:bg-red-600 rounded-xl transition-all active:scale-95",children:""}),b.jsxs("div",{className:"flex gap-3",children:[b.jsx("button",{onClick:()=>r(null),className:"px-6 py-2.5 text-sm font-bold text-slate-500 hover:bg-slate-200 rounded-xl transition-all",children:""}),b.jsx("button",{onClick:B,className:"px-10 py-2.5 text-sm font-bold text-white bg-blue-500 hover:bg-blue-600 rounded-xl shadow-lg shadow-blue-500/20 transition-all active:scale-95",children:""})]})]})]})})]})},qE=({isExpanded:a})=>b.jsx("span",{className:"text-slate-500 font-bold transition-transform duration-200 inline-block text-xs flex-shrink-0",style:{transform:a?"rotate(90deg)":"rotate(0deg)"},children:""}),PE=({isOpen:a,tabs:e,activeTabId:i,onClose:r,onNavigate:o})=>{const[h,d]=rt.useState(new Set([i]));if(rt.useEffect(()=>{a&&d(new Set([i]))},[a,i]),!a)return null;const p=N=>N.sections.length+(N.inboxSection?1:0),g=N=>{var F;return N.sections.reduce((it,B)=>it+B.items.length,0)+(((F=N.inboxSection)==null?void 0:F.items.length)||0)},v=()=>e.reduce((N,F)=>N+p(F),0),T=()=>e.reduce((N,F)=>N+g(F),0),S=N=>{d(F=>{const it=new Set(F);return it.has(N)?it.delete(N):it.add(N),it})},C=(N,F)=>{o(N,F)};return b.jsx("div",{className:"fixed inset-0 z-[250] flex items-center justify-center p-4 bg-black/30 backdrop-blur-[2px]",onClick:r,children:b.jsxs("div",{className:"bg-white w-full max-w-4xl max-h-[80vh] rounded-xl shadow-2xl overflow-hidden flex flex-col",onClick:N=>N.stopPropagation(),children:[b.jsxs("div",{className:"px-6 py-4 border-b border-slate-200 flex items-center justify-between bg-slate-50",children:[b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx(K0,{}),b.jsx("h2",{className:"text-lg font-bold text-slate-800",children:"  "})]}),b.jsx("button",{onClick:r,className:"text-slate-400 hover:text-slate-600 p-2 rounded-lg transition-colors",title:"",children:b.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),b.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar p-6",children:e.length===0?b.jsx("div",{className:"text-center py-12 text-slate-400",children:b.jsx("p",{className:"italic",children:" ."})}):e.map(N=>b.jsxs("div",{className:"mb-4",children:[b.jsx("button",{onClick:()=>S(N.id),className:`w-full text-left px-4 py-3 rounded-lg mb-2 transition-all ${N.id===i?"bg-blue-50 border-2 border-blue-400":"hover:bg-slate-100 border border-slate-200"}`,children:b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx(qE,{isExpanded:h.has(N.id)}),b.jsx("span",{className:"text-lg",children:""}),b.jsx("span",{className:"font-semibold text-slate-800",children:N.name}),N.isLocked&&b.jsx($u,{}),b.jsxs("span",{className:"text-xs text-slate-400 ml-auto font-normal",children:[p(N)," "]})]})}),h.has(N.id)&&b.jsxs("div",{className:"pl-6 space-y-2",children:[N.inboxSection&&b.jsxs("button",{onClick:()=>C(N.id,N.inboxSection.id),className:"w-full text-left px-4 py-2 rounded-lg hover:bg-blue-50 hover:border-blue-200 border border-transparent transition-all flex items-center gap-3 group",children:[b.jsx("span",{className:"text-base grayscale group-hover:grayscale-0 transition-all",children:""}),b.jsx("span",{className:"text-sm font-medium text-slate-700 group-hover:text-blue-700",children:N.inboxSection.title}),N.inboxSection.isLocked&&b.jsx("div",{className:"scale-75",children:b.jsx($u,{})}),b.jsxs("span",{className:"text-[11px] text-slate-400 ml-auto font-normal",children:[N.inboxSection.items.length," "]})]}),N.sections.length===0&&!N.inboxSection?b.jsx("div",{className:"pl-10 py-2 text-xs text-slate-400 italic",children:"  "}):N.sections.map(F=>b.jsxs("button",{onClick:()=>C(N.id,F.id),className:"w-full text-left px-4 py-2 rounded-lg hover:bg-blue-50 hover:border-blue-200 border border-transparent transition-all flex items-center gap-3 group",children:[b.jsx("span",{className:"text-base grayscale group-hover:grayscale-0 transition-all",children:""}),b.jsx("span",{className:"text-sm font-medium text-slate-700 group-hover:text-blue-700",children:F.title}),F.isLocked&&b.jsx("div",{className:"scale-75",children:b.jsx($u,{})}),b.jsxs("span",{className:"text-[11px] text-slate-400 ml-auto font-normal",children:[F.items.length," "]})]},F.id))]})]},N.id))}),b.jsxs("div",{className:"px-6 py-3 border-t border-slate-200 bg-slate-50 text-xs text-slate-500 text-center",children:[" ",e.length," , ",v()," , ",T()," "]})]})})},HE=({isOpen:a,itemText:e,currentTabId:i,currentSectionId:r,tabs:o,onMove:h,onCancel:d})=>{const[p,g]=rt.useState(i),[v,T]=rt.useState(""),S=rt.useRef(null);if(Ec(S,d),rt.useEffect(()=>{if(a){const B=o.find(J=>J.id===p);if(B){const Z=o.findIndex(G=>G.id===p)===0&&B.inboxSection?B.inboxSection:B.sections[0];T((Z==null?void 0:Z.id)||"")}}},[a,p,o]),!a)return null;const C=o.find(B=>B.id===i),N=C==null?void 0:C.sections.find(B=>B.id===r),F=o.find(B=>B.id===p),it=v&&!(p===i&&v===r);return b.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-slate-900/20 backdrop-blur-[2px]",children:b.jsxs("div",{ref:S,className:"bg-white w-full max-w-md rounded-2xl shadow-2xl border border-slate-200 overflow-hidden",children:[b.jsxs("div",{className:"px-6 py-4 border-b border-slate-100 flex items-center justify-between",children:[b.jsx("h2",{className:"text-lg font-bold text-slate-800",children:"  "}),b.jsx("button",{onClick:d,className:"text-slate-400 hover:text-slate-600 p-1 transition-colors",children:b.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),b.jsxs("div",{className:"px-6 py-6 space-y-4",children:[b.jsxs("div",{className:"bg-slate-50 rounded-lg p-3 border border-slate-200",children:[b.jsx("p",{className:"text-xs text-slate-500 mb-1",children:" "}),b.jsxs("p",{className:"text-sm font-semibold text-slate-700",children:[C==null?void 0:C.name," > ",N==null?void 0:N.title]})]}),b.jsxs("div",{className:"bg-blue-50 rounded-lg p-3 border border-blue-200",children:[b.jsx("p",{className:"text-xs text-blue-600 mb-1",children:" "}),b.jsx("p",{className:"text-sm font-medium text-slate-800 truncate",children:e||"( )"})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:" "}),b.jsx("select",{value:p,onChange:B=>g(B.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm bg-white text-slate-800",children:o.map(B=>b.jsx("option",{value:B.id,children:B.name},B.id))})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:" "}),b.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto custom-scrollbar border border-slate-200 rounded-lg p-3",children:!(F!=null&&F.inboxSection)&&(F==null?void 0:F.sections.length)===0?b.jsx("p",{className:"text-sm text-slate-400 italic text-center py-4",children:"   "}):b.jsxs(b.Fragment,{children:[o.findIndex(J=>J.id===p)===0&&(F==null?void 0:F.inboxSection)&&b.jsxs("label",{className:`flex items-center gap-3 p-2.5 rounded-lg cursor-pointer transition-colors hover:bg-slate-50 ${v===F.inboxSection.id?"bg-blue-50 border border-blue-300":"border border-transparent"}`,children:[b.jsx("input",{type:"radio",name:"targetSection",value:F.inboxSection.id,checked:v===F.inboxSection.id,onChange:J=>T(J.target.value),className:"w-4 h-4 text-blue-600 focus:ring-blue-500 flex-shrink-0"}),b.jsxs("span",{className:"text-sm font-medium flex-1 text-slate-700",children:[" ",F.inboxSection.title]})]}),F==null?void 0:F.sections.map(B=>b.jsxs("label",{className:`flex items-center gap-3 p-2.5 rounded-lg cursor-pointer transition-colors hover:bg-slate-50 ${v===B.id?"bg-blue-50 border border-blue-300":"border border-transparent"}`,children:[b.jsx("input",{type:"radio",name:"targetSection",value:B.id,checked:v===B.id,onChange:J=>T(J.target.value),className:"w-4 h-4 text-blue-600 focus:ring-blue-500 flex-shrink-0"}),b.jsx("span",{className:"text-sm font-medium flex-1 text-slate-700",children:B.title})]},B.id))]})})]})]}),b.jsxs("div",{className:"px-6 py-4 border-t border-slate-100 bg-slate-50 flex justify-end gap-3",children:[b.jsx("button",{onClick:d,className:"px-4 py-2 bg-slate-200 text-slate-800 text-sm font-semibold rounded-lg hover:bg-slate-300 transition-colors",children:""}),b.jsx("button",{onClick:()=>h(p,v),disabled:!it,className:"px-5 py-2 bg-blue-500 text-white text-sm font-semibold rounded-lg hover:bg-blue-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:bg-blue-500",children:""})]})]})})},FE=({isOpen:a,itemText:e,onClose:i,onConfirm:r})=>{const o=new Date().toISOString().split("T")[0],[h,d]=rt.useState(o),[p,g]=rt.useState(!0),[v,T]=rt.useState("09:00"),[S,C]=rt.useState("10:00");if(!a)return null;const N=()=>{if(p)r(h,h,!0);else{const F=`${h}T${v}:00`,it=`${h}T${S}:00`;r(F,it,!1)}i()};return b.jsx("div",{className:"fixed inset-0 z-[120] flex items-center justify-center p-4 bg-slate-900/40 backdrop-blur-sm",children:b.jsxs("div",{className:"bg-white w-full max-w-md rounded-2xl shadow-2xl p-6",children:[b.jsx("h3",{className:"text-lg font-bold text-slate-800 mb-4",children:"  "}),b.jsxs("div",{className:"mb-4",children:[b.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:" "}),b.jsx("input",{type:"text",value:e,disabled:!0,className:"w-full px-3 py-2 border border-slate-300 rounded-lg bg-slate-50"})]}),b.jsxs("div",{className:"mb-4",children:[b.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:""}),b.jsx("input",{type:"date",value:h,onChange:F=>d(F.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-lg"})]}),b.jsx("div",{className:"mb-4",children:b.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[b.jsx("input",{type:"checkbox",checked:p,onChange:F=>g(F.target.checked),className:"w-4 h-4 rounded border-slate-300 text-blue-500"}),b.jsx("span",{className:"text-sm font-medium text-slate-700",children:""})]})}),!p&&b.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-6",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:" "}),b.jsx("input",{type:"time",value:v,onChange:F=>T(F.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-lg"})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:" "}),b.jsx("input",{type:"time",value:S,onChange:F=>C(F.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-lg"})]})]}),b.jsxs("div",{className:"flex justify-end gap-3",children:[b.jsx("button",{onClick:i,className:"px-5 py-2.5 text-sm font-medium text-slate-500 hover:bg-slate-50 rounded-lg",children:""}),b.jsx("button",{onClick:N,disabled:!h,className:"px-8 py-2.5 text-sm font-bold text-white bg-blue-500 hover:bg-blue-600 rounded-lg disabled:opacity-50",children:""})]})]})})},GE=()=>{};var My={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X0=function(a){const e=[];let i=0;for(let r=0;r<a.length;r++){let o=a.charCodeAt(r);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&r+1<a.length&&(a.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(a.charCodeAt(++r)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},QE=function(a){const e=[];let i=0,r=0;for(;i<a.length;){const o=a[i++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const h=a[i++];e[r++]=String.fromCharCode((o&31)<<6|h&63)}else if(o>239&&o<365){const h=a[i++],d=a[i++],p=a[i++],g=((o&7)<<18|(h&63)<<12|(d&63)<<6|p&63)-65536;e[r++]=String.fromCharCode(55296+(g>>10)),e[r++]=String.fromCharCode(56320+(g&1023))}else{const h=a[i++],d=a[i++];e[r++]=String.fromCharCode((o&15)<<12|(h&63)<<6|d&63)}}return e.join("")},Z0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(a,e){if(!Array.isArray(a))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<a.length;o+=3){const h=a[o],d=o+1<a.length,p=d?a[o+1]:0,g=o+2<a.length,v=g?a[o+2]:0,T=h>>2,S=(h&3)<<4|p>>4;let C=(p&15)<<2|v>>6,N=v&63;g||(N=64,d||(C=64)),r.push(i[T],i[S],i[C],i[N])}return r.join("")},encodeString(a,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(a):this.encodeByteArray(X0(a),e)},decodeString(a,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(a):QE(this.decodeStringToByteArray(a,e))},decodeStringToByteArray(a,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<a.length;){const h=i[a.charAt(o++)],p=o<a.length?i[a.charAt(o)]:0;++o;const v=o<a.length?i[a.charAt(o)]:64;++o;const S=o<a.length?i[a.charAt(o)]:64;if(++o,h==null||p==null||v==null||S==null)throw new YE;const C=h<<2|p>>4;if(r.push(C),v!==64){const N=p<<4&240|v>>2;if(r.push(N),S!==64){const F=v<<6&192|S;r.push(F)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let a=0;a<this.ENCODED_VALS.length;a++)this.byteToCharMap_[a]=this.ENCODED_VALS.charAt(a),this.charToByteMap_[this.byteToCharMap_[a]]=a,this.byteToCharMapWebSafe_[a]=this.ENCODED_VALS_WEBSAFE.charAt(a),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[a]]=a,a>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(a)]=a,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(a)]=a)}}};class YE extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const KE=function(a){const e=X0(a);return Z0.encodeByteArray(e,!0)},rc=function(a){return KE(a).replace(/\./g,"")},XE=function(a){try{return Z0.decodeString(a,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZE(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $E=()=>ZE().__FIREBASE_DEFAULTS__,JE=()=>{if(typeof process>"u"||typeof My>"u")return;const a=My.__FIREBASE_DEFAULTS__;if(a)return JSON.parse(a)},WE=()=>{if(typeof document>"u")return;let a;try{a=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=a&&XE(a[1]);return e&&JSON.parse(e)},yd=()=>{try{return GE()||$E()||JE()||WE()}catch(a){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${a}`);return}},t1=a=>{var e,i;return(i=(e=yd())==null?void 0:e.emulatorHosts)==null?void 0:i[a]},e1=a=>{const e=t1(a);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),r]:[e.substring(0,i),r]},$0=()=>{var a;return(a=yd())==null?void 0:a.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,r)=>{i?this.reject(i):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vd(a){try{return(a.startsWith("http://")||a.startsWith("https://")?new URL(a).hostname:a).endsWith(".cloudworkstations.dev")}catch{return!1}}async function i1(a){return(await fetch(a,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s1(a,e){if(a.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},r=e||"demo-project",o=a.iat||0,h=a.sub||a.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}},...a};return[rc(JSON.stringify(i)),rc(JSON.stringify(d)),""].join(".")}const no={};function a1(){const a={prod:[],emulator:[]};for(const e of Object.keys(no))no[e]?a.emulator.push(e):a.prod.push(e);return a}function r1(a){let e=document.getElementById(a),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",a),i=!0),{created:i,element:e}}let jy=!1;function l1(a,e){if(typeof window>"u"||typeof document>"u"||!vd(window.location.host)||no[a]===e||no[a]||jy)return;no[a]=e;function i(C){return`__firebase__banner__${C}`}const r="__firebase__banner",h=a1().prod.length>0;function d(){const C=document.getElementById(r);C&&C.remove()}function p(C){C.style.display="flex",C.style.background="#7faaf0",C.style.position="fixed",C.style.bottom="5px",C.style.left="5px",C.style.padding=".5em",C.style.borderRadius="5px",C.style.alignItems="center"}function g(C,N){C.setAttribute("width","24"),C.setAttribute("id",N),C.setAttribute("height","24"),C.setAttribute("viewBox","0 0 24 24"),C.setAttribute("fill","none"),C.style.marginLeft="-6px"}function v(){const C=document.createElement("span");return C.style.cursor="pointer",C.style.marginLeft="16px",C.style.fontSize="24px",C.innerHTML=" &times;",C.onclick=()=>{jy=!0,d()},C}function T(C,N){C.setAttribute("id",N),C.innerText="Learn more",C.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",C.setAttribute("target","__blank"),C.style.paddingLeft="5px",C.style.textDecoration="underline"}function S(){const C=r1(r),N=i("text"),F=document.getElementById(N)||document.createElement("span"),it=i("learnmore"),B=document.getElementById(it)||document.createElement("a"),J=i("preprendIcon"),Z=document.getElementById(J)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(C.created){const G=C.element;p(G),T(B,it);const ct=v();g(Z,J),G.append(Z,F,B,ct),document.body.appendChild(G)}h?(F.innerText="Preview backend disconnected.",Z.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Z.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,F.innerText="Preview backend running in this workspace."),F.setAttribute("id",N)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o1(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function u1(){var e;const a=(e=yd())==null?void 0:e.forceEnvironment;if(a==="node")return!0;if(a==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function c1(){return!u1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function h1(){try{return typeof indexedDB=="object"}catch{return!1}}function f1(){return new Promise((a,e)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(r),a(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{var h;e(((h=o.error)==null?void 0:h.message)||"")}}catch(i){e(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d1="FirebaseError";class Gr extends Error{constructor(e,i,r){super(i),this.code=e,this.customData=r,this.name=d1,Object.setPrototypeOf(this,Gr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,J0.prototype.create)}}class J0{constructor(e,i,r){this.service=e,this.serviceName=i,this.errors=r}create(e,...i){const r=i[0]||{},o=`${this.service}/${e}`,h=this.errors[e],d=h?m1(h,r):"Error",p=`${this.serviceName}: ${d} (${o}).`;return new Gr(o,p,r)}}function m1(a,e){return a.replace(g1,(i,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const g1=/\{\$([^}]+)}/g;function lc(a,e){if(a===e)return!0;const i=Object.keys(a),r=Object.keys(e);for(const o of i){if(!r.includes(o))return!1;const h=a[o],d=e[o];if(Ly(h)&&Ly(d)){if(!lc(h,d))return!1}else if(h!==d)return!1}for(const o of r)if(!i.includes(o))return!1;return!0}function Ly(a){return a!==null&&typeof a=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oo(a){return a&&a._delegate?a._delegate:a}class uo{constructor(e,i,r){this.name=e,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p1{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const r=new n1;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(v1(e))try{this.getOrInitializeService({instanceIdentifier:Oa})}catch{}for(const[i,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const h=this.getOrInitializeService({instanceIdentifier:o});r.resolve(h)}catch{}}}}clearInstance(e=Oa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Oa){return this.instances.has(e)}getOptions(e=Oa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[h,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(h);r===p&&d.resolve(o)}return o}onInit(e,i){const r=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(r)??new Set;o.add(e),this.onInitCallbacks.set(r,o);const h=this.instances.get(r);return h&&e(h,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,i){const r=this.onInitCallbacks.get(i);if(r)for(const o of r)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:y1(e),options:i}),this.instances.set(e,r),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Oa){return this.component?this.component.multipleInstances?e:Oa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function y1(a){return a===Oa?void 0:a}function v1(a){return a.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _1{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new p1(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ee;(function(a){a[a.DEBUG=0]="DEBUG",a[a.VERBOSE=1]="VERBOSE",a[a.INFO=2]="INFO",a[a.WARN=3]="WARN",a[a.ERROR=4]="ERROR",a[a.SILENT=5]="SILENT"})(ee||(ee={}));const b1={debug:ee.DEBUG,verbose:ee.VERBOSE,info:ee.INFO,warn:ee.WARN,error:ee.ERROR,silent:ee.SILENT},E1=ee.INFO,T1={[ee.DEBUG]:"log",[ee.VERBOSE]:"log",[ee.INFO]:"info",[ee.WARN]:"warn",[ee.ERROR]:"error"},x1=(a,e,...i)=>{if(e<a.logLevel)return;const r=new Date().toISOString(),o=T1[e];if(o)console[o](`[${r}]  ${a.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class W0{constructor(e){this.name=e,this._logLevel=E1,this._logHandler=x1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ee))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?b1[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ee.DEBUG,...e),this._logHandler(this,ee.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ee.VERBOSE,...e),this._logHandler(this,ee.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ee.INFO,...e),this._logHandler(this,ee.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ee.WARN,...e),this._logHandler(this,ee.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ee.ERROR,...e),this._logHandler(this,ee.ERROR,...e)}}const S1=(a,e)=>e.some(i=>a instanceof i);let ky,zy;function A1(){return ky||(ky=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function w1(){return zy||(zy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const tv=new WeakMap,Qf=new WeakMap,ev=new WeakMap,kf=new WeakMap,_d=new WeakMap;function C1(a){const e=new Promise((i,r)=>{const o=()=>{a.removeEventListener("success",h),a.removeEventListener("error",d)},h=()=>{i(Xs(a.result)),o()},d=()=>{r(a.error),o()};a.addEventListener("success",h),a.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&tv.set(i,a)}).catch(()=>{}),_d.set(e,a),e}function R1(a){if(Qf.has(a))return;const e=new Promise((i,r)=>{const o=()=>{a.removeEventListener("complete",h),a.removeEventListener("error",d),a.removeEventListener("abort",d)},h=()=>{i(),o()},d=()=>{r(a.error||new DOMException("AbortError","AbortError")),o()};a.addEventListener("complete",h),a.addEventListener("error",d),a.addEventListener("abort",d)});Qf.set(a,e)}let Yf={get(a,e,i){if(a instanceof IDBTransaction){if(e==="done")return Qf.get(a);if(e==="objectStoreNames")return a.objectStoreNames||ev.get(a);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Xs(a[e])},set(a,e,i){return a[e]=i,!0},has(a,e){return a instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in a}};function I1(a){Yf=a(Yf)}function D1(a){return a===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const r=a.call(zf(this),e,...i);return ev.set(r,e.sort?e.sort():[e]),Xs(r)}:w1().includes(a)?function(...e){return a.apply(zf(this),e),Xs(tv.get(this))}:function(...e){return Xs(a.apply(zf(this),e))}}function N1(a){return typeof a=="function"?D1(a):(a instanceof IDBTransaction&&R1(a),S1(a,A1())?new Proxy(a,Yf):a)}function Xs(a){if(a instanceof IDBRequest)return C1(a);if(kf.has(a))return kf.get(a);const e=N1(a);return e!==a&&(kf.set(a,e),_d.set(e,a)),e}const zf=a=>_d.get(a);function V1(a,e,{blocked:i,upgrade:r,blocking:o,terminated:h}={}){const d=indexedDB.open(a,e),p=Xs(d);return r&&d.addEventListener("upgradeneeded",g=>{r(Xs(d.result),g.oldVersion,g.newVersion,Xs(d.transaction),g)}),i&&d.addEventListener("blocked",g=>i(g.oldVersion,g.newVersion,g)),p.then(g=>{h&&g.addEventListener("close",()=>h()),o&&g.addEventListener("versionchange",v=>o(v.oldVersion,v.newVersion,v))}).catch(()=>{}),p}const O1=["get","getKey","getAll","getAllKeys","count"],M1=["put","add","delete","clear"],Uf=new Map;function Uy(a,e){if(!(a instanceof IDBDatabase&&!(e in a)&&typeof e=="string"))return;if(Uf.get(e))return Uf.get(e);const i=e.replace(/FromIndex$/,""),r=e!==i,o=M1.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!(o||O1.includes(i)))return;const h=async function(d,...p){const g=this.transaction(d,o?"readwrite":"readonly");let v=g.store;return r&&(v=v.index(p.shift())),(await Promise.all([v[i](...p),o&&g.done]))[0]};return Uf.set(e,h),h}I1(a=>({...a,get:(e,i,r)=>Uy(e,i)||a.get(e,i,r),has:(e,i)=>!!Uy(e,i)||a.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j1{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(L1(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(i=>i).join(" ")}}function L1(a){const e=a.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Kf="@firebase/app",By="0.14.7";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hs=new W0("@firebase/app"),k1="@firebase/app-compat",z1="@firebase/analytics-compat",U1="@firebase/analytics",B1="@firebase/app-check-compat",q1="@firebase/app-check",P1="@firebase/auth",H1="@firebase/auth-compat",F1="@firebase/database",G1="@firebase/data-connect",Q1="@firebase/database-compat",Y1="@firebase/functions",K1="@firebase/functions-compat",X1="@firebase/installations",Z1="@firebase/installations-compat",$1="@firebase/messaging",J1="@firebase/messaging-compat",W1="@firebase/performance",tT="@firebase/performance-compat",eT="@firebase/remote-config",nT="@firebase/remote-config-compat",iT="@firebase/storage",sT="@firebase/storage-compat",aT="@firebase/firestore",rT="@firebase/ai",lT="@firebase/firestore-compat",oT="firebase",uT="12.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xf="[DEFAULT]",cT={[Kf]:"fire-core",[k1]:"fire-core-compat",[U1]:"fire-analytics",[z1]:"fire-analytics-compat",[q1]:"fire-app-check",[B1]:"fire-app-check-compat",[P1]:"fire-auth",[H1]:"fire-auth-compat",[F1]:"fire-rtdb",[G1]:"fire-data-connect",[Q1]:"fire-rtdb-compat",[Y1]:"fire-fn",[K1]:"fire-fn-compat",[X1]:"fire-iid",[Z1]:"fire-iid-compat",[$1]:"fire-fcm",[J1]:"fire-fcm-compat",[W1]:"fire-perf",[tT]:"fire-perf-compat",[eT]:"fire-rc",[nT]:"fire-rc-compat",[iT]:"fire-gcs",[sT]:"fire-gcs-compat",[aT]:"fire-fst",[lT]:"fire-fst-compat",[rT]:"fire-vertex","fire-js":"fire-js",[oT]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oc=new Map,hT=new Map,Zf=new Map;function qy(a,e){try{a.container.addComponent(e)}catch(i){hs.debug(`Component ${e.name} failed to register with FirebaseApp ${a.name}`,i)}}function uc(a){const e=a.name;if(Zf.has(e))return hs.debug(`There were multiple attempts to register component ${e}.`),!1;Zf.set(e,a);for(const i of oc.values())qy(i,a);for(const i of hT.values())qy(i,a);return!0}function fT(a,e){const i=a.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),a.container.getProvider(e)}function dT(a){return a==null?!1:a.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mT={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Zs=new J0("app","Firebase",mT);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gT{constructor(e,i,r){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new uo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Zs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pT=uT;function nv(a,e={}){let i=a;typeof e!="object"&&(e={name:e});const r={name:Xf,automaticDataCollectionEnabled:!0,...e},o=r.name;if(typeof o!="string"||!o)throw Zs.create("bad-app-name",{appName:String(o)});if(i||(i=$0()),!i)throw Zs.create("no-options");const h=oc.get(o);if(h){if(lc(i,h.options)&&lc(r,h.config))return h;throw Zs.create("duplicate-app",{appName:o})}const d=new _1(o);for(const g of Zf.values())d.addComponent(g);const p=new gT(i,r,d);return oc.set(o,p),p}function yT(a=Xf){const e=oc.get(a);if(!e&&a===Xf&&$0())return nv();if(!e)throw Zs.create("no-app",{appName:a});return e}function jr(a,e,i){let r=cT[a]??a;i&&(r+=`-${i}`);const o=r.match(/\s|\//),h=e.match(/\s|\//);if(o||h){const d=[`Unable to register library "${r}" with version "${e}":`];o&&d.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&h&&d.push("and"),h&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),hs.warn(d.join(" "));return}uc(new uo(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vT="firebase-heartbeat-database",_T=1,co="firebase-heartbeat-store";let Bf=null;function iv(){return Bf||(Bf=V1(vT,_T,{upgrade:(a,e)=>{switch(e){case 0:try{a.createObjectStore(co)}catch(i){console.warn(i)}}}}).catch(a=>{throw Zs.create("idb-open",{originalErrorMessage:a.message})})),Bf}async function bT(a){try{const i=(await iv()).transaction(co),r=await i.objectStore(co).get(sv(a));return await i.done,r}catch(e){if(e instanceof Gr)hs.warn(e.message);else{const i=Zs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});hs.warn(i.message)}}}async function Py(a,e){try{const r=(await iv()).transaction(co,"readwrite");await r.objectStore(co).put(e,sv(a)),await r.done}catch(i){if(i instanceof Gr)hs.warn(i.message);else{const r=Zs.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});hs.warn(r.message)}}}function sv(a){return`${a.name}!${a.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ET=1024,TT=30;class xT{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new AT(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,i;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),h=Hy();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)==null?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===h||this._heartbeatsCache.heartbeats.some(d=>d.date===h))return;if(this._heartbeatsCache.heartbeats.push({date:h,agent:o}),this._heartbeatsCache.heartbeats.length>TT){const d=wT(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){hs.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=Hy(),{heartbeatsToSend:r,unsentEntries:o}=ST(this._heartbeatsCache.heartbeats),h=rc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=i,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),h}catch(i){return hs.warn(i),""}}}function Hy(){return new Date().toISOString().substring(0,10)}function ST(a,e=ET){const i=[];let r=a.slice();for(const o of a){const h=i.find(d=>d.agent===o.agent);if(h){if(h.dates.push(o.date),Fy(i)>e){h.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),Fy(i)>e){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}class AT{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return h1()?f1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await bT(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Py(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Py(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Fy(a){return rc(JSON.stringify({version:2,heartbeats:a})).length}function wT(a){if(a.length===0)return-1;let e=0,i=a[0].date;for(let r=1;r<a.length;r++)a[r].date<i&&(i=a[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CT(a){uc(new uo("platform-logger",e=>new j1(e),"PRIVATE")),uc(new uo("heartbeat",e=>new xT(e),"PRIVATE")),jr(Kf,By,a),jr(Kf,By,"esm2020"),jr("fire-js","")}CT("");var Gy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var $s,av;(function(){var a;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(R,A){function I(){}I.prototype=A.prototype,R.F=A.prototype,R.prototype=new I,R.prototype.constructor=R,R.D=function(j,V,k){for(var w=Array(arguments.length-2),zt=2;zt<arguments.length;zt++)w[zt-2]=arguments[zt];return A.prototype[V].apply(j,w)}}function i(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,i),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(R,A,I){I||(I=0);const j=Array(16);if(typeof A=="string")for(var V=0;V<16;++V)j[V]=A.charCodeAt(I++)|A.charCodeAt(I++)<<8|A.charCodeAt(I++)<<16|A.charCodeAt(I++)<<24;else for(V=0;V<16;++V)j[V]=A[I++]|A[I++]<<8|A[I++]<<16|A[I++]<<24;A=R.g[0],I=R.g[1],V=R.g[2];let k=R.g[3],w;w=A+(k^I&(V^k))+j[0]+3614090360&4294967295,A=I+(w<<7&4294967295|w>>>25),w=k+(V^A&(I^V))+j[1]+3905402710&4294967295,k=A+(w<<12&4294967295|w>>>20),w=V+(I^k&(A^I))+j[2]+606105819&4294967295,V=k+(w<<17&4294967295|w>>>15),w=I+(A^V&(k^A))+j[3]+3250441966&4294967295,I=V+(w<<22&4294967295|w>>>10),w=A+(k^I&(V^k))+j[4]+4118548399&4294967295,A=I+(w<<7&4294967295|w>>>25),w=k+(V^A&(I^V))+j[5]+1200080426&4294967295,k=A+(w<<12&4294967295|w>>>20),w=V+(I^k&(A^I))+j[6]+2821735955&4294967295,V=k+(w<<17&4294967295|w>>>15),w=I+(A^V&(k^A))+j[7]+4249261313&4294967295,I=V+(w<<22&4294967295|w>>>10),w=A+(k^I&(V^k))+j[8]+1770035416&4294967295,A=I+(w<<7&4294967295|w>>>25),w=k+(V^A&(I^V))+j[9]+2336552879&4294967295,k=A+(w<<12&4294967295|w>>>20),w=V+(I^k&(A^I))+j[10]+4294925233&4294967295,V=k+(w<<17&4294967295|w>>>15),w=I+(A^V&(k^A))+j[11]+2304563134&4294967295,I=V+(w<<22&4294967295|w>>>10),w=A+(k^I&(V^k))+j[12]+1804603682&4294967295,A=I+(w<<7&4294967295|w>>>25),w=k+(V^A&(I^V))+j[13]+4254626195&4294967295,k=A+(w<<12&4294967295|w>>>20),w=V+(I^k&(A^I))+j[14]+2792965006&4294967295,V=k+(w<<17&4294967295|w>>>15),w=I+(A^V&(k^A))+j[15]+1236535329&4294967295,I=V+(w<<22&4294967295|w>>>10),w=A+(V^k&(I^V))+j[1]+4129170786&4294967295,A=I+(w<<5&4294967295|w>>>27),w=k+(I^V&(A^I))+j[6]+3225465664&4294967295,k=A+(w<<9&4294967295|w>>>23),w=V+(A^I&(k^A))+j[11]+643717713&4294967295,V=k+(w<<14&4294967295|w>>>18),w=I+(k^A&(V^k))+j[0]+3921069994&4294967295,I=V+(w<<20&4294967295|w>>>12),w=A+(V^k&(I^V))+j[5]+3593408605&4294967295,A=I+(w<<5&4294967295|w>>>27),w=k+(I^V&(A^I))+j[10]+38016083&4294967295,k=A+(w<<9&4294967295|w>>>23),w=V+(A^I&(k^A))+j[15]+3634488961&4294967295,V=k+(w<<14&4294967295|w>>>18),w=I+(k^A&(V^k))+j[4]+3889429448&4294967295,I=V+(w<<20&4294967295|w>>>12),w=A+(V^k&(I^V))+j[9]+568446438&4294967295,A=I+(w<<5&4294967295|w>>>27),w=k+(I^V&(A^I))+j[14]+3275163606&4294967295,k=A+(w<<9&4294967295|w>>>23),w=V+(A^I&(k^A))+j[3]+4107603335&4294967295,V=k+(w<<14&4294967295|w>>>18),w=I+(k^A&(V^k))+j[8]+1163531501&4294967295,I=V+(w<<20&4294967295|w>>>12),w=A+(V^k&(I^V))+j[13]+2850285829&4294967295,A=I+(w<<5&4294967295|w>>>27),w=k+(I^V&(A^I))+j[2]+4243563512&4294967295,k=A+(w<<9&4294967295|w>>>23),w=V+(A^I&(k^A))+j[7]+1735328473&4294967295,V=k+(w<<14&4294967295|w>>>18),w=I+(k^A&(V^k))+j[12]+2368359562&4294967295,I=V+(w<<20&4294967295|w>>>12),w=A+(I^V^k)+j[5]+4294588738&4294967295,A=I+(w<<4&4294967295|w>>>28),w=k+(A^I^V)+j[8]+2272392833&4294967295,k=A+(w<<11&4294967295|w>>>21),w=V+(k^A^I)+j[11]+1839030562&4294967295,V=k+(w<<16&4294967295|w>>>16),w=I+(V^k^A)+j[14]+4259657740&4294967295,I=V+(w<<23&4294967295|w>>>9),w=A+(I^V^k)+j[1]+2763975236&4294967295,A=I+(w<<4&4294967295|w>>>28),w=k+(A^I^V)+j[4]+1272893353&4294967295,k=A+(w<<11&4294967295|w>>>21),w=V+(k^A^I)+j[7]+4139469664&4294967295,V=k+(w<<16&4294967295|w>>>16),w=I+(V^k^A)+j[10]+3200236656&4294967295,I=V+(w<<23&4294967295|w>>>9),w=A+(I^V^k)+j[13]+681279174&4294967295,A=I+(w<<4&4294967295|w>>>28),w=k+(A^I^V)+j[0]+3936430074&4294967295,k=A+(w<<11&4294967295|w>>>21),w=V+(k^A^I)+j[3]+3572445317&4294967295,V=k+(w<<16&4294967295|w>>>16),w=I+(V^k^A)+j[6]+76029189&4294967295,I=V+(w<<23&4294967295|w>>>9),w=A+(I^V^k)+j[9]+3654602809&4294967295,A=I+(w<<4&4294967295|w>>>28),w=k+(A^I^V)+j[12]+3873151461&4294967295,k=A+(w<<11&4294967295|w>>>21),w=V+(k^A^I)+j[15]+530742520&4294967295,V=k+(w<<16&4294967295|w>>>16),w=I+(V^k^A)+j[2]+3299628645&4294967295,I=V+(w<<23&4294967295|w>>>9),w=A+(V^(I|~k))+j[0]+4096336452&4294967295,A=I+(w<<6&4294967295|w>>>26),w=k+(I^(A|~V))+j[7]+1126891415&4294967295,k=A+(w<<10&4294967295|w>>>22),w=V+(A^(k|~I))+j[14]+2878612391&4294967295,V=k+(w<<15&4294967295|w>>>17),w=I+(k^(V|~A))+j[5]+4237533241&4294967295,I=V+(w<<21&4294967295|w>>>11),w=A+(V^(I|~k))+j[12]+1700485571&4294967295,A=I+(w<<6&4294967295|w>>>26),w=k+(I^(A|~V))+j[3]+2399980690&4294967295,k=A+(w<<10&4294967295|w>>>22),w=V+(A^(k|~I))+j[10]+4293915773&4294967295,V=k+(w<<15&4294967295|w>>>17),w=I+(k^(V|~A))+j[1]+2240044497&4294967295,I=V+(w<<21&4294967295|w>>>11),w=A+(V^(I|~k))+j[8]+1873313359&4294967295,A=I+(w<<6&4294967295|w>>>26),w=k+(I^(A|~V))+j[15]+4264355552&4294967295,k=A+(w<<10&4294967295|w>>>22),w=V+(A^(k|~I))+j[6]+2734768916&4294967295,V=k+(w<<15&4294967295|w>>>17),w=I+(k^(V|~A))+j[13]+1309151649&4294967295,I=V+(w<<21&4294967295|w>>>11),w=A+(V^(I|~k))+j[4]+4149444226&4294967295,A=I+(w<<6&4294967295|w>>>26),w=k+(I^(A|~V))+j[11]+3174756917&4294967295,k=A+(w<<10&4294967295|w>>>22),w=V+(A^(k|~I))+j[2]+718787259&4294967295,V=k+(w<<15&4294967295|w>>>17),w=I+(k^(V|~A))+j[9]+3951481745&4294967295,R.g[0]=R.g[0]+A&4294967295,R.g[1]=R.g[1]+(V+(w<<21&4294967295|w>>>11))&4294967295,R.g[2]=R.g[2]+V&4294967295,R.g[3]=R.g[3]+k&4294967295}r.prototype.v=function(R,A){A===void 0&&(A=R.length);const I=A-this.blockSize,j=this.C;let V=this.h,k=0;for(;k<A;){if(V==0)for(;k<=I;)o(this,R,k),k+=this.blockSize;if(typeof R=="string"){for(;k<A;)if(j[V++]=R.charCodeAt(k++),V==this.blockSize){o(this,j),V=0;break}}else for(;k<A;)if(j[V++]=R[k++],V==this.blockSize){o(this,j),V=0;break}}this.h=V,this.o+=A},r.prototype.A=function(){var R=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);R[0]=128;for(var A=1;A<R.length-8;++A)R[A]=0;A=this.o*8;for(var I=R.length-8;I<R.length;++I)R[I]=A&255,A/=256;for(this.v(R),R=Array(16),A=0,I=0;I<4;++I)for(let j=0;j<32;j+=8)R[A++]=this.g[I]>>>j&255;return R};function h(R,A){var I=p;return Object.prototype.hasOwnProperty.call(I,R)?I[R]:I[R]=A(R)}function d(R,A){this.h=A;const I=[];let j=!0;for(let V=R.length-1;V>=0;V--){const k=R[V]|0;j&&k==A||(I[V]=k,j=!1)}this.g=I}var p={};function g(R){return-128<=R&&R<128?h(R,function(A){return new d([A|0],A<0?-1:0)}):new d([R|0],R<0?-1:0)}function v(R){if(isNaN(R)||!isFinite(R))return S;if(R<0)return B(v(-R));const A=[];let I=1;for(let j=0;R>=I;j++)A[j]=R/I|0,I*=4294967296;return new d(A,0)}function T(R,A){if(R.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(R.charAt(0)=="-")return B(T(R.substring(1),A));if(R.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=v(Math.pow(A,8));let j=S;for(let k=0;k<R.length;k+=8){var V=Math.min(8,R.length-k);const w=parseInt(R.substring(k,k+V),A);V<8?(V=v(Math.pow(A,V)),j=j.j(V).add(v(w))):(j=j.j(I),j=j.add(v(w)))}return j}var S=g(0),C=g(1),N=g(16777216);a=d.prototype,a.m=function(){if(it(this))return-B(this).m();let R=0,A=1;for(let I=0;I<this.g.length;I++){const j=this.i(I);R+=(j>=0?j:4294967296+j)*A,A*=4294967296}return R},a.toString=function(R){if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(F(this))return"0";if(it(this))return"-"+B(this).toString(R);const A=v(Math.pow(R,6));var I=this;let j="";for(;;){const V=ct(I,A).g;I=J(I,V.j(A));let k=((I.g.length>0?I.g[0]:I.h)>>>0).toString(R);if(I=V,F(I))return k+j;for(;k.length<6;)k="0"+k;j=k+j}},a.i=function(R){return R<0?0:R<this.g.length?this.g[R]:this.h};function F(R){if(R.h!=0)return!1;for(let A=0;A<R.g.length;A++)if(R.g[A]!=0)return!1;return!0}function it(R){return R.h==-1}a.l=function(R){return R=J(this,R),it(R)?-1:F(R)?0:1};function B(R){const A=R.g.length,I=[];for(let j=0;j<A;j++)I[j]=~R.g[j];return new d(I,~R.h).add(C)}a.abs=function(){return it(this)?B(this):this},a.add=function(R){const A=Math.max(this.g.length,R.g.length),I=[];let j=0;for(let V=0;V<=A;V++){let k=j+(this.i(V)&65535)+(R.i(V)&65535),w=(k>>>16)+(this.i(V)>>>16)+(R.i(V)>>>16);j=w>>>16,k&=65535,w&=65535,I[V]=w<<16|k}return new d(I,I[I.length-1]&-2147483648?-1:0)};function J(R,A){return R.add(B(A))}a.j=function(R){if(F(this)||F(R))return S;if(it(this))return it(R)?B(this).j(B(R)):B(B(this).j(R));if(it(R))return B(this.j(B(R)));if(this.l(N)<0&&R.l(N)<0)return v(this.m()*R.m());const A=this.g.length+R.g.length,I=[];for(var j=0;j<2*A;j++)I[j]=0;for(j=0;j<this.g.length;j++)for(let V=0;V<R.g.length;V++){const k=this.i(j)>>>16,w=this.i(j)&65535,zt=R.i(V)>>>16,Tt=R.i(V)&65535;I[2*j+2*V]+=w*Tt,Z(I,2*j+2*V),I[2*j+2*V+1]+=k*Tt,Z(I,2*j+2*V+1),I[2*j+2*V+1]+=w*zt,Z(I,2*j+2*V+1),I[2*j+2*V+2]+=k*zt,Z(I,2*j+2*V+2)}for(R=0;R<A;R++)I[R]=I[2*R+1]<<16|I[2*R];for(R=A;R<2*A;R++)I[R]=0;return new d(I,0)};function Z(R,A){for(;(R[A]&65535)!=R[A];)R[A+1]+=R[A]>>>16,R[A]&=65535,A++}function G(R,A){this.g=R,this.h=A}function ct(R,A){if(F(A))throw Error("division by zero");if(F(R))return new G(S,S);if(it(R))return A=ct(B(R),A),new G(B(A.g),B(A.h));if(it(A))return A=ct(R,B(A)),new G(B(A.g),A.h);if(R.g.length>30){if(it(R)||it(A))throw Error("slowDivide_ only works with positive integers.");for(var I=C,j=A;j.l(R)<=0;)I=_t(I),j=_t(j);var V=Ct(I,1),k=Ct(j,1);for(j=Ct(j,2),I=Ct(I,2);!F(j);){var w=k.add(j);w.l(R)<=0&&(V=V.add(I),k=w),j=Ct(j,1),I=Ct(I,1)}return A=J(R,V.j(A)),new G(V,A)}for(V=S;R.l(A)>=0;){for(I=Math.max(1,Math.floor(R.m()/A.m())),j=Math.ceil(Math.log(I)/Math.LN2),j=j<=48?1:Math.pow(2,j-48),k=v(I),w=k.j(A);it(w)||w.l(R)>0;)I-=j,k=v(I),w=k.j(A);F(k)&&(k=C),V=V.add(k),R=J(R,w)}return new G(V,R)}a.B=function(R){return ct(this,R).h},a.and=function(R){const A=Math.max(this.g.length,R.g.length),I=[];for(let j=0;j<A;j++)I[j]=this.i(j)&R.i(j);return new d(I,this.h&R.h)},a.or=function(R){const A=Math.max(this.g.length,R.g.length),I=[];for(let j=0;j<A;j++)I[j]=this.i(j)|R.i(j);return new d(I,this.h|R.h)},a.xor=function(R){const A=Math.max(this.g.length,R.g.length),I=[];for(let j=0;j<A;j++)I[j]=this.i(j)^R.i(j);return new d(I,this.h^R.h)};function _t(R){const A=R.g.length+1,I=[];for(let j=0;j<A;j++)I[j]=R.i(j)<<1|R.i(j-1)>>>31;return new d(I,R.h)}function Ct(R,A){const I=A>>5;A%=32;const j=R.g.length-I,V=[];for(let k=0;k<j;k++)V[k]=A>0?R.i(k+I)>>>A|R.i(k+I+1)<<32-A:R.i(k+I);return new d(V,R.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,av=r,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=v,d.fromString=T,$s=d}).apply(typeof Gy<"u"?Gy:typeof self<"u"?self:typeof window<"u"?window:{});var Qu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var rv,Jl,lv,Ju,$f,ov,uv,cv;(function(){var a,e=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Qu=="object"&&Qu];for(var m=0;m<u.length;++m){var _=u[m];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var r=i(this);function o(u,m){if(m)t:{var _=r;u=u.split(".");for(var x=0;x<u.length-1;x++){var U=u[x];if(!(U in _))break t;_=_[U]}u=u[u.length-1],x=_[u],m=m(x),m!=x&&m!=null&&e(_,u,{configurable:!0,writable:!0,value:m})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(m){var _=[],x;for(x in m)Object.prototype.hasOwnProperty.call(m,x)&&_.push([x,m[x]]);return _}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},d=this||self;function p(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function g(u,m,_){return u.call.apply(u.bind,arguments)}function v(u,m,_){return v=g,v.apply(null,arguments)}function T(u,m){var _=Array.prototype.slice.call(arguments,1);return function(){var x=_.slice();return x.push.apply(x,arguments),u.apply(this,x)}}function S(u,m){function _(){}_.prototype=m.prototype,u.Z=m.prototype,u.prototype=new _,u.prototype.constructor=u,u.Ob=function(x,U,K){for(var dt=Array(arguments.length-2),qt=2;qt<arguments.length;qt++)dt[qt-2]=arguments[qt];return m.prototype[U].apply(x,dt)}}var C=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function N(u){const m=u.length;if(m>0){const _=Array(m);for(let x=0;x<m;x++)_[x]=u[x];return _}return[]}function F(u,m){for(let x=1;x<arguments.length;x++){const U=arguments[x];var _=typeof U;if(_=_!="object"?_:U?Array.isArray(U)?"array":_:"null",_=="array"||_=="object"&&typeof U.length=="number"){_=u.length||0;const K=U.length||0;u.length=_+K;for(let dt=0;dt<K;dt++)u[_+dt]=U[dt]}else u.push(U)}}class it{constructor(m,_){this.i=m,this.j=_,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function B(u){d.setTimeout(()=>{throw u},0)}function J(){var u=R;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class Z{constructor(){this.h=this.g=null}add(m,_){const x=G.get();x.set(m,_),this.h?this.h.next=x:this.g=x,this.h=x}}var G=new it(()=>new ct,u=>u.reset());class ct{constructor(){this.next=this.g=this.h=null}set(m,_){this.h=m,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let _t,Ct=!1,R=new Z,A=()=>{const u=Promise.resolve(void 0);_t=()=>{u.then(I)}};function I(){for(var u;u=J();){try{u.h.call(u.g)}catch(_){B(_)}var m=G;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}Ct=!1}function j(){this.u=this.u,this.C=this.C}j.prototype.u=!1,j.prototype.dispose=function(){this.u||(this.u=!0,this.N())},j.prototype[Symbol.dispose]=function(){this.dispose()},j.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function V(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}V.prototype.h=function(){this.defaultPrevented=!0};var k=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const _=()=>{};d.addEventListener("test",_,m),d.removeEventListener("test",_,m)}catch{}return u})();function w(u){return/^[\s\xa0]*$/.test(u)}function zt(u,m){V.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}S(zt,V),zt.prototype.init=function(u,m){const _=this.type=u.type,x=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(_=="mouseover"?m=u.fromElement:_=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,x?(this.clientX=x.clientX!==void 0?x.clientX:x.pageX,this.clientY=x.clientY!==void 0?x.clientY:x.pageY,this.screenX=x.screenX||0,this.screenY=x.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&zt.Z.h.call(this)},zt.prototype.h=function(){zt.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Tt="closure_listenable_"+(Math.random()*1e6|0),$=0;function ft(u,m,_,x,U){this.listener=u,this.proxy=null,this.src=m,this.type=_,this.capture=!!x,this.ha=U,this.key=++$,this.da=this.fa=!1}function At(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Ft(u,m,_){for(const x in u)m.call(_,u[x],x,u)}function $t(u,m){for(const _ in u)m.call(void 0,u[_],_,u)}function O(u){const m={};for(const _ in u)m[_]=u[_];return m}const tt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function mt(u,m){let _,x;for(let U=1;U<arguments.length;U++){x=arguments[U];for(_ in x)u[_]=x[_];for(let K=0;K<tt.length;K++)_=tt[K],Object.prototype.hasOwnProperty.call(x,_)&&(u[_]=x[_])}}function yt(u){this.src=u,this.g={},this.h=0}yt.prototype.add=function(u,m,_,x,U){const K=u.toString();u=this.g[K],u||(u=this.g[K]=[],this.h++);const dt=ot(u,m,x,U);return dt>-1?(m=u[dt],_||(m.fa=!1)):(m=new ft(m,this.src,K,!!x,U),m.fa=_,u.push(m)),m};function q(u,m){const _=m.type;if(_ in u.g){var x=u.g[_],U=Array.prototype.indexOf.call(x,m,void 0),K;(K=U>=0)&&Array.prototype.splice.call(x,U,1),K&&(At(m),u.g[_].length==0&&(delete u.g[_],u.h--))}}function ot(u,m,_,x){for(let U=0;U<u.length;++U){const K=u[U];if(!K.da&&K.listener==m&&K.capture==!!_&&K.ha==x)return U}return-1}var ht="closure_lm_"+(Math.random()*1e6|0),Dt={};function ut(u,m,_,x,U){if(Array.isArray(m)){for(let K=0;K<m.length;K++)ut(u,m[K],_,x,U);return null}return _=hn(_),u&&u[Tt]?u.J(m,_,p(x)?!!x.capture:!1,U):je(u,m,_,!1,x,U)}function je(u,m,_,x,U,K){if(!m)throw Error("Invalid event type");const dt=p(U)?!!U.capture:!!U;let qt=Jt(u);if(qt||(u[ht]=qt=new yt(u)),_=qt.add(m,_,x,dt,K),_.proxy)return _;if(x=Xe(),_.proxy=x,x.src=u,x.listener=_,u.addEventListener)k||(U=dt),U===void 0&&(U=!1),u.addEventListener(m.toString(),x,U);else if(u.attachEvent)u.attachEvent(vt(m.toString()),x);else if(u.addListener&&u.removeListener)u.addListener(x);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Xe(){function u(_){return m.call(u.src,u.listener,_)}const m=Rt;return u}function pi(u,m,_,x,U){if(Array.isArray(m))for(var K=0;K<m.length;K++)pi(u,m[K],_,x,U);else x=p(x)?!!x.capture:!!x,_=hn(_),u&&u[Tt]?(u=u.i,K=String(m).toString(),K in u.g&&(m=u.g[K],_=ot(m,_,x,U),_>-1&&(At(m[_]),Array.prototype.splice.call(m,_,1),m.length==0&&(delete u.g[K],u.h--)))):u&&(u=Jt(u))&&(m=u.g[m.toString()],u=-1,m&&(u=ot(m,_,x,U)),(_=u>-1?m[u]:null)&&yi(_))}function yi(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Tt])q(m.i,u);else{var _=u.type,x=u.proxy;m.removeEventListener?m.removeEventListener(_,x,u.capture):m.detachEvent?m.detachEvent(vt(_),x):m.addListener&&m.removeListener&&m.removeListener(x),(_=Jt(m))?(q(_,u),_.h==0&&(_.src=null,m[ht]=null)):At(u)}}}function vt(u){return u in Dt?Dt[u]:Dt[u]="on"+u}function Rt(u,m){if(u.da)u=!0;else{m=new zt(m,this);const _=u.listener,x=u.ha||u.src;u.fa&&yi(u),u=_.call(x,m)}return u}function Jt(u){return u=u[ht],u instanceof yt?u:null}var be="__closure_events_fn_"+(Math.random()*1e9>>>0);function hn(u){return typeof u=="function"?u:(u[be]||(u[be]=function(m){return u.handleEvent(m)}),u[be])}function ce(){j.call(this),this.i=new yt(this),this.M=this,this.G=null}S(ce,j),ce.prototype[Tt]=!0,ce.prototype.removeEventListener=function(u,m,_,x){pi(this,u,m,_,x)};function oe(u,m){var _,x=u.G;if(x)for(_=[];x;x=x.G)_.push(x);if(u=u.M,x=m.type||m,typeof m=="string")m=new V(m,u);else if(m instanceof V)m.target=m.target||u;else{var U=m;m=new V(x,u),mt(m,U)}U=!0;let K,dt;if(_)for(dt=_.length-1;dt>=0;dt--)K=m.g=_[dt],U=_n(K,x,!0,m)&&U;if(K=m.g=u,U=_n(K,x,!0,m)&&U,U=_n(K,x,!1,m)&&U,_)for(dt=0;dt<_.length;dt++)K=m.g=_[dt],U=_n(K,x,!1,m)&&U}ce.prototype.N=function(){if(ce.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const _=u.g[m];for(let x=0;x<_.length;x++)At(_[x]);delete u.g[m],u.h--}}this.G=null},ce.prototype.J=function(u,m,_,x){return this.i.add(String(u),m,!1,_,x)},ce.prototype.K=function(u,m,_,x){return this.i.add(String(u),m,!0,_,x)};function _n(u,m,_,x){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let U=!0;for(let K=0;K<m.length;++K){const dt=m[K];if(dt&&!dt.da&&dt.capture==_){const qt=dt.listener,Ne=dt.ha||dt.src;dt.fa&&q(u.i,dt),U=qt.call(Ne,x)!==!1&&U}}return U&&!x.defaultPrevented}function Fi(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=v(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function vi(u){u.g=Fi(()=>{u.g=null,u.i&&(u.i=!1,vi(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Ze extends j{constructor(m,_){super(),this.m=m,this.l=_,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:vi(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Gi(u){j.call(this),this.h=u,this.g={}}S(Gi,j);var ms=[];function ra(u){Ft(u.g,function(m,_){this.g.hasOwnProperty(_)&&yi(m)},u),u.g={}}Gi.prototype.N=function(){Gi.Z.N.call(this),ra(this)},Gi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ii=d.JSON.stringify,Pa=d.JSON.parse,la=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function Ha(){}function si(){}var bn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Le(){V.call(this,"d")}S(Le,V);function L(){V.call(this,"c")}S(L,V);var Q={},et=null;function xt(){return et=et||new ce}Q.Ia="serverreachability";function Ut(u){V.call(this,Q.Ia,u)}S(Ut,V);function gt(u){const m=xt();oe(m,new Ut(m))}Q.STAT_EVENT="statevent";function Nt(u,m){V.call(this,Q.STAT_EVENT,u),this.stat=m}S(Nt,V);function Bt(u){const m=xt();oe(m,new Nt(m,u))}Q.Ja="timingevent";function $e(u,m){V.call(this,Q.Ja,u),this.size=m}S($e,V);function Se(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function fn(){this.g=!0}fn.prototype.ua=function(){this.g=!1};function Bn(u,m,_,x,U,K){u.info(function(){if(u.g)if(K){var dt="",qt=K.split("&");for(let re=0;re<qt.length;re++){var Ne=qt[re].split("=");if(Ne.length>1){const Ae=Ne[0];Ne=Ne[1];const Qn=Ae.split("_");dt=Qn.length>=2&&Qn[1]=="type"?dt+(Ae+"="+Ne+"&"):dt+(Ae+"=redacted&")}}}else dt=null;else dt=K;return"XMLHTTP REQ ("+x+") [attempt "+U+"]: "+m+`
`+_+`
`+dt})}function ai(u,m,_,x,U,K,dt){u.info(function(){return"XMLHTTP RESP ("+x+") [ attempt "+U+"]: "+m+`
`+_+`
`+K+" "+dt})}function pt(u,m,_,x){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Fa(u,_)+(x?" "+x:"")})}function qn(u,m){u.info(function(){return"TIMEOUT: "+m})}fn.prototype.info=function(){};function Fa(u,m){if(!u.g)return m;if(!m)return null;try{const K=JSON.parse(m);if(K){for(u=0;u<K.length;u++)if(Array.isArray(K[u])){var _=K[u];if(!(_.length<2)){var x=_[1];if(Array.isArray(x)&&!(x.length<1)){var U=x[0];if(U!="noop"&&U!="stop"&&U!="close")for(let dt=1;dt<x.length;dt++)x[dt]=""}}}}return ii(K)}catch{return m}}var _i={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},gs={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},ps;function bi(){}S(bi,Ha),bi.prototype.g=function(){return new XMLHttpRequest},ps=new bi;function Pn(u){return encodeURIComponent(String(u))}function oa(u){var m=1;u=u.split(":");const _=[];for(;m>0&&u.length;)_.push(u.shift()),m--;return u.length&&_.push(u.join(":")),_}function En(u,m,_,x){this.j=u,this.i=m,this.l=_,this.S=x||1,this.V=new Gi(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Tn}function Tn(){this.i=null,this.g="",this.h=!1}var ae={},he={};function ne(u,m,_){u.M=1,u.A=ua(ze(m)),u.u=_,u.R=!0,en(u,null)}function en(u,m){u.F=Date.now(),Ti(u),u.B=ze(u.A);var _=u.B,x=u.S;Array.isArray(x)||(x=[String(x)]),Xa(_.i,"t",x),u.C=0,_=u.j.L,u.h=new Tn,u.g=Uo(u.j,_?m:null,!u.u),u.P>0&&(u.O=new Ze(v(u.Y,u,u.g),u.P)),m=u.V,_=u.g,x=u.ba;var U="readystatechange";Array.isArray(U)||(U&&(ms[0]=U.toString()),U=ms);for(let K=0;K<U.length;K++){const dt=ut(_,U[K],x||m.handleEvent,!1,m.h||m);if(!dt)break;m.g[dt.key]=dt}m=u.J?O(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),gt(),Bn(u.i,u.v,u.B,u.l,u.S,u.u)}En.prototype.ba=function(u){u=u.target;const m=this.O;m&&oi(u)==3?m.j():this.Y(u)},En.prototype.Y=function(u){try{if(u==this.g)t:{const qt=oi(this.g),Ne=this.g.ya(),re=this.g.ca();if(!(qt<3)&&(qt!=3||this.g&&(this.h.h||this.g.la()||nn(this.g)))){this.K||qt!=4||Ne==7||(Ne==8||re<=0?gt(3):gt(2)),xi(this);var m=this.g.ca();this.X=m;var _=Ei(this);if(this.o=m==200,ai(this.i,this.v,this.B,this.l,this.S,qt,m),this.o){if(this.U&&!this.L){e:{if(this.g){var x,U=this.g;if((x=U.g?U.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(x)){var K=x;break e}}K=null}if(u=K)pt(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Si(this,u);else{this.o=!1,this.m=3,Bt(12),Nn(this),Hn(this);break t}}if(this.R){u=!0;let Ae;for(;!this.K&&this.C<_.length;)if(Ae=wo(this,_),Ae==he){qt==4&&(this.m=4,Bt(14),u=!1),pt(this.i,this.l,null,"[Incomplete Response]");break}else if(Ae==ae){this.m=4,Bt(15),pt(this.i,this.l,_,"[Invalid Chunk]"),u=!1;break}else pt(this.i,this.l,Ae,null),Si(this,Ae);if(Ga(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),qt!=4||_.length!=0||this.h.h||(this.m=1,Bt(16),u=!1),this.o=this.o&&u,!u)pt(this.i,this.l,_,"[Invalid Chunked Response]"),Nn(this),Hn(this);else if(_.length>0&&!this.W){this.W=!0;var dt=this.j;dt.g==this&&dt.aa&&!dt.P&&(dt.j.info("Great, no buffering proxy detected. Bytes received: "+_.length),cl(dt),dt.P=!0,Bt(11))}}else pt(this.i,this.l,_,null),Si(this,_);qt==4&&Nn(this),this.o&&!this.K&&(qt==4?jo(this.j,this):(this.o=!1,Ti(this)))}else Yi(this.g),m==400&&_.indexOf("Unknown SID")>0?(this.m=3,Bt(12)):(this.m=0,Bt(13)),Nn(this),Hn(this)}}}catch{}finally{}};function Ei(u){if(!Ga(u))return u.g.la();const m=nn(u.g);if(m==="")return"";let _="";const x=m.length,U=oi(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return Nn(u),Hn(u),"";u.h.i=new d.TextDecoder}for(let K=0;K<x;K++)u.h.h=!0,_+=u.h.i.decode(m[K],{stream:!(U&&K==x-1)});return m.length=0,u.h.g+=_,u.C=0,u.h.g}function Ga(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function wo(u,m){var _=u.C,x=m.indexOf(`
`,_);return x==-1?he:(_=Number(m.substring(_,x)),isNaN(_)?ae:(x+=1,x+_>m.length?he:(m=m.slice(x,x+_),u.C=x+_,m)))}En.prototype.cancel=function(){this.K=!0,Nn(this)};function Ti(u){u.T=Date.now()+u.H,Qa(u,u.H)}function Qa(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=Se(v(u.aa,u),m)}function xi(u){u.D&&(d.clearTimeout(u.D),u.D=null)}En.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(qn(this.i,this.B),this.M!=2&&(gt(),Bt(17)),Nn(this),this.m=2,Hn(this)):Qa(this,this.T-u)};function Hn(u){u.j.I==0||u.K||jo(u.j,u)}function Nn(u){xi(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,ra(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function Si(u,m){try{var _=u.j;if(_.I!=0&&(_.g==u||wi(_.h,u))){if(!u.L&&wi(_.h,u)&&_.I==3){try{var x=_.Ba.g.parse(m)}catch{x=null}if(Array.isArray(x)&&x.length==3){var U=x;if(U[0]==0){t:if(!_.v){if(_.g)if(_.g.F+3e3<u.F)tr(_),Ss(_);else break t;pa(_),Bt(18)}}else _.xa=U[1],0<_.xa-_.K&&U[2]<37500&&_.F&&_.A==0&&!_.C&&(_.C=Se(v(_.Va,_),6e3));Ai(_.h)<=1&&_.ta&&(_.ta=void 0)}else Vi(_,11)}else if((u.L||_.g==u)&&tr(_),!w(m))for(U=_.Ba.g.parse(m),m=0;m<U.length;m++){let re=U[m];const Ae=re[0];if(!(Ae<=_.K))if(_.K=Ae,re=re[1],_.I==2)if(re[0]=="c"){_.M=re[1],_.ba=re[2];const Qn=re[3];Qn!=null&&(_.ka=Qn,_.j.info("VER="+_.ka));const Oi=re[4];Oi!=null&&(_.za=Oi,_.j.info("SVER="+_.za));const ui=re[5];ui!=null&&typeof ui=="number"&&ui>0&&(x=1.5*ui,_.O=x,_.j.info("backChannelRequestTimeoutMs_="+x)),x=_;const ci=u.g;if(ci){const ya=ci.g?ci.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ya){var K=x.h;K.g||ya.indexOf("spdy")==-1&&ya.indexOf("quic")==-1&&ya.indexOf("h2")==-1||(K.j=K.l,K.g=new Set,K.h&&(Jr(K,K.h),K.h=null))}if(x.G){const er=ci.g?ci.g.getResponseHeader("X-HTTP-Session-Id"):null;er&&(x.wa=er,fe(x.J,x.G,er))}}_.I=3,_.l&&_.l.ra(),_.aa&&(_.T=Date.now()-u.F,_.j.info("Handshake RTT: "+_.T+"ms")),x=_;var dt=u;if(x.na=zo(x,x.L?x.ba:null,x.W),dt.L){Wr(x.h,dt);var qt=dt,Ne=x.O;Ne&&(qt.H=Ne),qt.D&&(xi(qt),Ti(qt)),x.g=dt}else Oo(x);_.i.length>0&&Ni(_)}else re[0]!="stop"&&re[0]!="close"||Vi(_,7);else _.I==3&&(re[0]=="stop"||re[0]=="close"?re[0]=="stop"?Vi(_,7):ol(_):re[0]!="noop"&&_.l&&_.l.qa(re),_.A=0)}}gt(4)}catch{}}var ke=class{constructor(u,m){this.g=u,this.map=m}};function Zr(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function $r(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Ai(u){return u.h?1:u.g?u.g.size:0}function wi(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Jr(u,m){u.g?u.g.add(m):u.h=m}function Wr(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Zr.prototype.cancel=function(){if(this.i=tl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function tl(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const _ of u.g.values())m=m.concat(_.G);return m}return N(u.i)}var Co=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ya(u,m){if(u){u=u.split("&");for(let _=0;_<u.length;_++){const x=u[_].indexOf("=");let U,K=null;x>=0?(U=u[_].substring(0,x),K=u[_].substring(x+1)):U=u[_],m(U,K?decodeURIComponent(K.replace(/\+/g," ")):"")}}}function Vn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof Vn?(this.l=u.l,Je(this,u.j),this.o=u.o,this.g=u.g,ys(this,u.u),this.h=u.h,el(this,No(u.i)),this.m=u.m):u&&(m=String(u).match(Co))?(this.l=!1,Je(this,m[1]||"",!0),this.o=Ci(m[2]||""),this.g=Ci(m[3]||"",!0),ys(this,m[4]),this.h=Ci(m[5]||"",!0),el(this,m[6]||"",!0),this.m=Ci(m[7]||"")):(this.l=!1,this.i=new _s(null,this.l))}Vn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(ca(m,Ka,!0),":");var _=this.g;return(_||m=="file")&&(u.push("//"),(m=this.o)&&u.push(ca(m,Ka,!0),"@"),u.push(Pn(_).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.u,_!=null&&u.push(":",String(_))),(_=this.h)&&(this.g&&_.charAt(0)!="/"&&u.push("/"),u.push(ca(_,_.charAt(0)=="/"?nl:Ro,!0))),(_=this.i.toString())&&u.push("?",_),(_=this.m)&&u.push("#",ca(_,Io)),u.join("")},Vn.prototype.resolve=function(u){const m=ze(this);let _=!!u.j;_?Je(m,u.j):_=!!u.o,_?m.o=u.o:_=!!u.g,_?m.g=u.g:_=u.u!=null;var x=u.h;if(_)ys(m,u.u);else if(_=!!u.h){if(x.charAt(0)!="/")if(this.g&&!this.h)x="/"+x;else{var U=m.h.lastIndexOf("/");U!=-1&&(x=m.h.slice(0,U+1)+x)}if(U=x,U==".."||U==".")x="";else if(U.indexOf("./")!=-1||U.indexOf("/.")!=-1){x=U.lastIndexOf("/",0)==0,U=U.split("/");const K=[];for(let dt=0;dt<U.length;){const qt=U[dt++];qt=="."?x&&dt==U.length&&K.push(""):qt==".."?((K.length>1||K.length==1&&K[0]!="")&&K.pop(),x&&dt==U.length&&K.push("")):(K.push(qt),x=!0)}x=K.join("/")}else x=U}return _?m.h=x:_=u.i.toString()!=="",_?el(m,No(u.i)):_=!!u.m,_&&(m.m=u.m),m};function ze(u){return new Vn(u)}function Je(u,m,_){u.j=_?Ci(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function ys(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function el(u,m,_){m instanceof _s?(u.i=m,Za(u.i,u.l)):(_||(m=ca(m,vs)),u.i=new _s(m,u.l))}function fe(u,m,_){u.i.set(m,_)}function ua(u){return fe(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function Ci(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function ca(u,m,_){return typeof u=="string"?(u=encodeURI(u).replace(m,xn),_&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function xn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Ka=/[#\/\?@]/g,Ro=/[#\?:]/g,nl=/[#\?]/g,vs=/[#\?@]/g,Io=/#/g;function _s(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function Sn(u){u.g||(u.g=new Map,u.h=0,u.i&&Ya(u.i,function(m,_){u.add(decodeURIComponent(m.replace(/\+/g," ")),_)}))}a=_s.prototype,a.add=function(u,m){Sn(this),this.i=null,u=bs(this,u);let _=this.g.get(u);return _||this.g.set(u,_=[]),_.push(m),this.h+=1,this};function Do(u,m){Sn(u),m=bs(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function il(u,m){return Sn(u),m=bs(u,m),u.g.has(m)}a.forEach=function(u,m){Sn(this),this.g.forEach(function(_,x){_.forEach(function(U){u.call(m,U,x,this)},this)},this)};function sl(u,m){Sn(u);let _=[];if(typeof m=="string")il(u,m)&&(_=_.concat(u.g.get(bs(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)_=_.concat(u[m]);return _}a.set=function(u,m){return Sn(this),this.i=null,u=bs(this,u),il(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},a.get=function(u,m){return u?(u=sl(this,u),u.length>0?String(u[0]):m):m};function Xa(u,m,_){Do(u,m),_.length>0&&(u.i=null,u.g.set(bs(u,m),N(_)),u.h+=_.length)}a.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let x=0;x<m.length;x++){var _=m[x];const U=Pn(_);_=sl(this,_);for(let K=0;K<_.length;K++){let dt=U;_[K]!==""&&(dt+="="+Pn(_[K])),u.push(dt)}}return this.i=u.join("&")};function No(u){const m=new _s;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function bs(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Za(u,m){m&&!u.j&&(Sn(u),u.i=null,u.g.forEach(function(_,x){const U=x.toLowerCase();x!=U&&(Do(this,x),Xa(this,U,_))},u)),u.j=m}function ri(u,m){const _=new fn;if(d.Image){const x=new Image;x.onload=T(Fn,_,"TestLoadImage: loaded",!0,m,x),x.onerror=T(Fn,_,"TestLoadImage: error",!1,m,x),x.onabort=T(Fn,_,"TestLoadImage: abort",!1,m,x),x.ontimeout=T(Fn,_,"TestLoadImage: timeout",!1,m,x),d.setTimeout(function(){x.ontimeout&&x.ontimeout()},1e4),x.src=u}else m(!1)}function al(u,m){const _=new fn,x=new AbortController,U=setTimeout(()=>{x.abort(),Fn(_,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:x.signal}).then(K=>{clearTimeout(U),K.ok?Fn(_,"TestPingServer: ok",!0,m):Fn(_,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(U),Fn(_,"TestPingServer: error",!1,m)})}function Fn(u,m,_,x,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),x(_)}catch{}}function Es(){this.g=new la}function Ri(u){this.i=u.Sb||null,this.h=u.ab||!1}S(Ri,Ha),Ri.prototype.g=function(){return new ha(this.i,this.h)};function ha(u,m){ce.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}S(ha,ce),a=ha.prototype,a.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,li(this)},a.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},a.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ts(this)),this.readyState=0},a.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,li(this)),this.g&&(this.readyState=3,li(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;$a(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function $a(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}a.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Ts(this):li(this),this.readyState==3&&$a(this)}},a.Oa=function(u){this.g&&(this.response=this.responseText=u,Ts(this))},a.Na=function(u){this.g&&(this.response=u,Ts(this))},a.ga=function(){this.g&&Ts(this)};function Ts(u){u.readyState=4,u.l=null,u.j=null,u.B=null,li(u)}a.setRequestHeader=function(u,m){this.A.append(u,m)},a.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},a.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var _=m.next();!_.done;)_=_.value,u.push(_[0]+": "+_[1]),_=m.next();return u.join(`\r
`)};function li(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(ha.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Gn(u){let m="";return Ft(u,function(_,x){m+=x,m+=":",m+=_,m+=`\r
`}),m}function fa(u,m,_){t:{for(x in _){var x=!1;break t}x=!0}x||(_=Gn(_),typeof u=="string"?_!=null&&Pn(_):fe(u,m,_))}function ge(u){ce.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}S(ge,ce);var Ii=/^https?$/i,rl=["POST","PUT"];a=ge.prototype,a.Fa=function(u){this.H=u},a.ea=function(u,m,_,x){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():ps.g(),this.g.onreadystatechange=C(v(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(K){da(this,K);return}if(u=_||"",_=new Map(this.headers),x)if(Object.getPrototypeOf(x)===Object.prototype)for(var U in x)_.set(U,x[U]);else if(typeof x.keys=="function"&&typeof x.get=="function")for(const K of x.keys())_.set(K,x.get(K));else throw Error("Unknown input type for opt_headers: "+String(x));x=Array.from(_.keys()).find(K=>K.toLowerCase()=="content-type"),U=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(rl,m,void 0)>=0)||x||U||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[K,dt]of _)this.g.setRequestHeader(K,dt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(K){da(this,K)}};function da(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,ll(u),Qi(u)}function ll(u){u.A||(u.A=!0,oe(u,"complete"),oe(u,"error"))}a.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,oe(this,"complete"),oe(this,"abort"),Qi(this))},a.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Qi(this,!0)),ge.Z.N.call(this)},a.Ca=function(){this.u||(this.B||this.v||this.j?ma(this):this.Xa())},a.Xa=function(){ma(this)};function ma(u){if(u.h&&typeof h<"u"){if(u.v&&oi(u)==4)setTimeout(u.Ca.bind(u),0);else if(oe(u,"readystatechange"),oi(u)==4){u.h=!1;try{const K=u.ca();t:switch(K){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var _;if(!(_=m)){var x;if(x=K===0){let dt=String(u.D).match(Co)[1]||null;!dt&&d.self&&d.self.location&&(dt=d.self.location.protocol.slice(0,-1)),x=!Ii.test(dt?dt.toLowerCase():"")}_=x}if(_)oe(u,"complete"),oe(u,"success");else{u.o=6;try{var U=oi(u)>2?u.g.statusText:""}catch{U=""}u.l=U+" ["+u.ca()+"]",ll(u)}}finally{Qi(u)}}}}function Qi(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const _=u.g;u.g=null,m||oe(u,"ready");try{_.onreadystatechange=null}catch{}}}a.isActive=function(){return!!this.g};function oi(u){return u.g?u.g.readyState:0}a.ca=function(){try{return oi(this)>2?this.g.status:-1}catch{return-1}},a.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},a.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Pa(m)}};function nn(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Yi(u){const m={};u=(u.g&&oi(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let x=0;x<u.length;x++){if(w(u[x]))continue;var _=oa(u[x]);const U=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const K=m[U]||[];m[U]=K,K.push(_)}$t(m,function(x){return x.join(", ")})}a.ya=function(){return this.o},a.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Di(u,m,_){return _&&_.internalChannelParams&&_.internalChannelParams[u]||m}function xs(u){this.za=0,this.i=[],this.j=new fn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Di("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Di("baseRetryDelayMs",5e3,u),this.Za=Di("retryDelaySeedMs",1e4,u),this.Ta=Di("forwardChannelMaxRetries",2,u),this.va=Di("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Zr(u&&u.concurrentRequestLimit),this.Ba=new Es,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}a=xs.prototype,a.ka=8,a.I=1,a.connect=function(u,m,_,x){Bt(0),this.W=u,this.H=m||{},_&&x!==void 0&&(this.H.OSID=_,this.H.OAID=x),this.F=this.X,this.J=zo(this,null,this.W),Ni(this)};function ol(u){if(Ja(u),u.I==3){var m=u.V++,_=ze(u.J);if(fe(_,"SID",u.M),fe(_,"RID",m),fe(_,"TYPE","terminate"),ga(u,_),m=new En(u,u.j,m),m.M=2,m.A=ua(ze(_)),_=!1,d.navigator&&d.navigator.sendBeacon)try{_=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!_&&d.Image&&(new Image().src=m.A,_=!0),_||(m.g=Uo(m.j,null),m.g.ea(m.A)),m.F=Date.now(),Ti(m)}ko(u)}function Ss(u){u.g&&(cl(u),u.g.cancel(),u.g=null)}function Ja(u){Ss(u),u.v&&(d.clearTimeout(u.v),u.v=null),tr(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function Ni(u){if(!$r(u.h)&&!u.m){u.m=!0;var m=u.Ea;_t||A(),Ct||(_t(),Ct=!0),R.add(m,u),u.D=0}}function Wa(u,m){return Ai(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=Se(v(u.Ea,u,m),Lo(u,u.D)),u.D++,!0)}a.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const U=new En(this,this.j,u);let K=this.o;if(this.U&&(K?(K=O(K),mt(K,this.U)):K=this.U),this.u!==null||this.R||(U.J=K,K=null),this.S)t:{for(var m=0,_=0;_<this.i.length;_++){e:{var x=this.i[_];if("__data__"in x.map&&(x=x.map.__data__,typeof x=="string")){x=x.length;break e}x=void 0}if(x===void 0)break;if(m+=x,m>4096){m=_;break t}if(m===4096||_===this.i.length-1){m=_+1;break t}}m=1e3}else m=1e3;m=Vo(this,U,m),_=ze(this.J),fe(_,"RID",u),fe(_,"CVER",22),this.G&&fe(_,"X-HTTP-Session-Id",this.G),ga(this,_),K&&(this.R?m="headers="+Pn(Gn(K))+"&"+m:this.u&&fa(_,this.u,K)),Jr(this.h,U),this.Ra&&fe(_,"TYPE","init"),this.S?(fe(_,"$req",m),fe(_,"SID","null"),U.U=!0,ne(U,_,null)):ne(U,_,m),this.I=2}}else this.I==3&&(u?ul(this,u):this.i.length==0||$r(this.h)||ul(this))};function ul(u,m){var _;m?_=m.l:_=u.V++;const x=ze(u.J);fe(x,"SID",u.M),fe(x,"RID",_),fe(x,"AID",u.K),ga(u,x),u.u&&u.o&&fa(x,u.u,u.o),_=new En(u,u.j,_,u.D+1),u.u===null&&(_.J=u.o),m&&(u.i=m.G.concat(u.i)),m=Vo(u,_,1e3),_.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Jr(u.h,_),ne(_,x,m)}function ga(u,m){u.H&&Ft(u.H,function(_,x){fe(m,x,_)}),u.l&&Ft({},function(_,x){fe(m,x,_)})}function Vo(u,m,_){_=Math.min(u.i.length,_);const x=u.l?v(u.l.Ka,u.l,u):null;t:{var U=u.i;let qt=-1;for(;;){const Ne=["count="+_];qt==-1?_>0?(qt=U[0].g,Ne.push("ofs="+qt)):qt=0:Ne.push("ofs="+qt);let re=!0;for(let Ae=0;Ae<_;Ae++){var K=U[Ae].g;const Qn=U[Ae].map;if(K-=qt,K<0)qt=Math.max(0,U[Ae].g-100),re=!1;else try{K="req"+K+"_"||"";try{var dt=Qn instanceof Map?Qn:Object.entries(Qn);for(const[Oi,ui]of dt){let ci=ui;p(ui)&&(ci=ii(ui)),Ne.push(K+Oi+"="+encodeURIComponent(ci))}}catch(Oi){throw Ne.push(K+"type="+encodeURIComponent("_badmap")),Oi}}catch{x&&x(Qn)}}if(re){dt=Ne.join("&");break t}}dt=void 0}return u=u.i.splice(0,_),m.G=u,dt}function Oo(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;_t||A(),Ct||(_t(),Ct=!0),R.add(m,u),u.A=0}}function pa(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=Se(v(u.Da,u),Lo(u,u.A)),u.A++,!0)}a.Da=function(){if(this.v=null,Mo(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=Se(v(this.Wa,this),u)}},a.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Bt(10),Ss(this),Mo(this))};function cl(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function Mo(u){u.g=new En(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=ze(u.na);fe(m,"RID","rpc"),fe(m,"SID",u.M),fe(m,"AID",u.K),fe(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&fe(m,"TO",u.ia),fe(m,"TYPE","xmlhttp"),ga(u,m),u.u&&u.o&&fa(m,u.u,u.o),u.O&&(u.g.H=u.O);var _=u.g;u=u.ba,_.M=1,_.A=ua(ze(m)),_.u=null,_.R=!0,en(_,u)}a.Va=function(){this.C!=null&&(this.C=null,Ss(this),pa(this),Bt(19))};function tr(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function jo(u,m){var _=null;if(u.g==m){tr(u),cl(u),u.g=null;var x=2}else if(wi(u.h,m))_=m.G,Wr(u.h,m),x=1;else return;if(u.I!=0){if(m.o)if(x==1){_=m.u?m.u.length:0,m=Date.now()-m.F;var U=u.D;x=xt(),oe(x,new $e(x,_)),Ni(u)}else Oo(u);else if(U=m.m,U==3||U==0&&m.X>0||!(x==1&&Wa(u,m)||x==2&&pa(u)))switch(_&&_.length>0&&(m=u.h,m.i=m.i.concat(_)),U){case 1:Vi(u,5);break;case 4:Vi(u,10);break;case 3:Vi(u,6);break;default:Vi(u,2)}}}function Lo(u,m){let _=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(_*=2),_*m}function Vi(u,m){if(u.j.info("Error code "+m),m==2){var _=v(u.bb,u),x=u.Ua;const U=!x;x=new Vn(x||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Je(x,"https"),ua(x),U?ri(x.toString(),_):al(x.toString(),_)}else Bt(2);u.I=0,u.l&&u.l.pa(m),ko(u),Ja(u)}a.bb=function(u){u?(this.j.info("Successfully pinged google.com"),Bt(2)):(this.j.info("Failed to ping google.com"),Bt(1))};function ko(u){if(u.I=0,u.ja=[],u.l){const m=tl(u.h);(m.length!=0||u.i.length!=0)&&(F(u.ja,m),F(u.ja,u.i),u.h.i.length=0,N(u.i),u.i.length=0),u.l.oa()}}function zo(u,m,_){var x=_ instanceof Vn?ze(_):new Vn(_);if(x.g!="")m&&(x.g=m+"."+x.g),ys(x,x.u);else{var U=d.location;x=U.protocol,m=m?m+"."+U.hostname:U.hostname,U=+U.port;const K=new Vn(null);x&&Je(K,x),m&&(K.g=m),U&&ys(K,U),_&&(K.h=_),x=K}return _=u.G,m=u.wa,_&&m&&fe(x,_,m),fe(x,"VER",u.ka),ga(u,x),x}function Uo(u,m,_){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new ge(new Ri({ab:_})):new ge(u.ma),m.Fa(u.L),m}a.isActive=function(){return!!this.l&&this.l.isActive(this)};function Bo(){}a=Bo.prototype,a.ra=function(){},a.qa=function(){},a.pa=function(){},a.oa=function(){},a.isActive=function(){return!0},a.Ka=function(){};function As(){}As.prototype.g=function(u,m){return new yn(u,m)};function yn(u,m){ce.call(this),this.g=new xs(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!w(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!w(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Ki(this)}S(yn,ce),yn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},yn.prototype.close=function(){ol(this.g)},yn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var _={};_.__data__=u,u=_}else this.v&&(_={},_.__data__=ii(u),u=_);m.i.push(new ke(m.Ya++,u)),m.I==3&&Ni(m)},yn.prototype.N=function(){this.g.l=null,delete this.j,ol(this.g),delete this.g,yn.Z.N.call(this)};function qo(u){Le.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const _ in m){u=_;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}S(qo,Le);function Po(){L.call(this),this.status=1}S(Po,L);function Ki(u){this.g=u}S(Ki,Bo),Ki.prototype.ra=function(){oe(this.g,"a")},Ki.prototype.qa=function(u){oe(this.g,new qo(u))},Ki.prototype.pa=function(u){oe(this.g,new Po)},Ki.prototype.oa=function(){oe(this.g,"b")},As.prototype.createWebChannel=As.prototype.g,yn.prototype.send=yn.prototype.o,yn.prototype.open=yn.prototype.m,yn.prototype.close=yn.prototype.close,cv=function(){return new As},uv=function(){return xt()},ov=Q,$f={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},_i.NO_ERROR=0,_i.TIMEOUT=8,_i.HTTP_ERROR=6,Ju=_i,gs.COMPLETE="complete",lv=gs,si.EventType=bn,bn.OPEN="a",bn.CLOSE="b",bn.ERROR="c",bn.MESSAGE="d",ce.prototype.listen=ce.prototype.J,Jl=si,ge.prototype.listenOnce=ge.prototype.K,ge.prototype.getLastError=ge.prototype.Ha,ge.prototype.getLastErrorCode=ge.prototype.ya,ge.prototype.getStatus=ge.prototype.ca,ge.prototype.getResponseJson=ge.prototype.La,ge.prototype.getResponseText=ge.prototype.la,ge.prototype.send=ge.prototype.ea,ge.prototype.setWithCredentials=ge.prototype.Fa,rv=ge}).apply(typeof Qu<"u"?Qu:typeof self<"u"?self:typeof window<"u"?window:{});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}gn.UNAUTHENTICATED=new gn(null),gn.GOOGLE_CREDENTIALS=new gn("google-credentials-uid"),gn.FIRST_PARTY=new gn("first-party-uid"),gn.MOCK_USER=new gn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qr="12.8.0";function RT(a){Qr=a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const La=new W0("@firebase/firestore");function Nr(){return La.logLevel}function bt(a,...e){if(La.logLevel<=ee.DEBUG){const i=e.map(bd);La.debug(`Firestore (${Qr}): ${a}`,...i)}}function fs(a,...e){if(La.logLevel<=ee.ERROR){const i=e.map(bd);La.error(`Firestore (${Qr}): ${a}`,...i)}}function Ur(a,...e){if(La.logLevel<=ee.WARN){const i=e.map(bd);La.warn(`Firestore (${Qr}): ${a}`,...i)}}function bd(a){if(typeof a=="string")return a;try{return(function(i){return JSON.stringify(i)})(a)}catch{return a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mt(a,e,i){let r="Unexpected state";typeof e=="string"?r=e:i=e,hv(a,r,i)}function hv(a,e,i){let r=`FIRESTORE (${Qr}) INTERNAL ASSERTION FAILED: ${e} (ID: ${a.toString(16)})`;if(i!==void 0)try{r+=" CONTEXT: "+JSON.stringify(i)}catch{r+=" CONTEXT: "+i}throw fs(r),new Error(r)}function ue(a,e,i,r){let o="Unexpected state";typeof i=="string"?o=i:r=i,a||hv(e,o,r)}function kt(a,e){return a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class wt extends Gr{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fv{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class IT{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(gn.UNAUTHENTICATED)))}shutdown(){}}class DT{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class NT{constructor(e){this.t=e,this.currentUser=gn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){ue(this.o===void 0,42304);let r=this.i;const o=g=>this.i!==r?(r=this.i,i(g)):Promise.resolve();let h=new Js;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new Js,e.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const g=h;e.enqueueRetryable((async()=>{await g.promise,await o(this.currentUser)}))},p=g=>{bt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((g=>p(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?p(g):(bt("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new Js)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((r=>this.i!==e?(bt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ue(typeof r.accessToken=="string",31837,{l:r}),new fv(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ue(e===null||typeof e=="string",2055,{h:e}),new gn(e)}}class VT{constructor(e,i,r){this.P=e,this.T=i,this.I=r,this.type="FirstParty",this.user=gn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class OT{constructor(e,i,r){this.P=e,this.T=i,this.I=r}getToken(){return Promise.resolve(new VT(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(gn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Qy{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class MT{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,dT(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){ue(this.o===void 0,3512);const r=h=>{h.error!=null&&bt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const d=h.token!==this.m;return this.m=h.token,bt("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(h.token):Promise.resolve()};this.o=h=>{e.enqueueRetryable((()=>r(h)))};const o=h=>{bt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((h=>o(h))),setTimeout((()=>{if(!this.appCheck){const h=this.V.getImmediate({optional:!0});h?o(h):bt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Qy(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(ue(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new Qy(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jT(a){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(a);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let r=0;r<a;r++)i[r]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ed{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=jT(40);for(let h=0;h<o.length;++h)r.length<20&&o[h]<i&&(r+=e.charAt(o[h]%62))}return r}}function Xt(a,e){return a<e?-1:a>e?1:0}function Jf(a,e){const i=Math.min(a.length,e.length);for(let r=0;r<i;r++){const o=a.charAt(r),h=e.charAt(r);if(o!==h)return qf(o)===qf(h)?Xt(o,h):qf(o)?1:-1}return Xt(a.length,e.length)}const LT=55296,kT=57343;function qf(a){const e=a.charCodeAt(0);return e>=LT&&e<=kT}function Br(a,e,i){return a.length===e.length&&a.every(((r,o)=>i(r,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yy="__name__";class zi{constructor(e,i,r){i===void 0?i=0:i>e.length&&Mt(637,{offset:i,range:e.length}),r===void 0?r=e.length-i:r>e.length-i&&Mt(1746,{length:r,range:e.length-i}),this.segments=e,this.offset=i,this.len=r}get length(){return this.len}isEqual(e){return zi.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof zi?e.forEach((r=>{i.push(r)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,r=this.limit();i<r;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const r=Math.min(e.length,i.length);for(let o=0;o<r;o++){const h=zi.compareSegments(e.get(o),i.get(o));if(h!==0)return h}return Xt(e.length,i.length)}static compareSegments(e,i){const r=zi.isNumericId(e),o=zi.isNumericId(i);return r&&!o?-1:!r&&o?1:r&&o?zi.extractNumericId(e).compare(zi.extractNumericId(i)):Jf(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return $s.fromString(e.substring(4,e.length-2))}}class Ce extends zi{construct(e,i,r){return new Ce(e,i,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const r of e){if(r.indexOf("//")>=0)throw new wt(lt.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);i.push(...r.split("/").filter((o=>o.length>0)))}return new Ce(i)}static emptyPath(){return new Ce([])}}const zT=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class un extends zi{construct(e,i,r){return new un(e,i,r)}static isValidIdentifier(e){return zT.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),un.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Yy}static keyField(){return new un([Yy])}static fromServerFormat(e){const i=[];let r="",o=0;const h=()=>{if(r.length===0)throw new wt(lt.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(r),r=""};let d=!1;for(;o<e.length;){const p=e[o];if(p==="\\"){if(o+1===e.length)throw new wt(lt.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new wt(lt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=g,o+=2}else p==="`"?(d=!d,o++):p!=="."||d?(r+=p,o++):(h(),o++)}if(h(),d)throw new wt(lt.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new un(i)}static emptyPath(){return new un([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(e){this.path=e}static fromPath(e){return new Vt(Ce.fromString(e))}static fromName(e){return new Vt(Ce.fromString(e).popFirst(5))}static empty(){return new Vt(Ce.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ce.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return Ce.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Vt(new Ce(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UT(a,e,i){if(!i)throw new wt(lt.INVALID_ARGUMENT,`Function ${a}() cannot be called with an empty ${e}.`)}function BT(a,e,i,r){if(e===!0&&r===!0)throw new wt(lt.INVALID_ARGUMENT,`${a} and ${i} cannot be used together.`)}function Ky(a){if(!Vt.isDocumentKey(a))throw new wt(lt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${a} has ${a.length}.`)}function dv(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}function Td(a){if(a===void 0)return"undefined";if(a===null)return"null";if(typeof a=="string")return a.length>20&&(a=`${a.substring(0,20)}...`),JSON.stringify(a);if(typeof a=="number"||typeof a=="boolean")return""+a;if(typeof a=="object"){if(a instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(a);return e?`a custom ${e} object`:"an object"}}return typeof a=="function"?"a function":Mt(12329,{type:typeof a})}function Ws(a,e){if("_delegate"in a&&(a=a._delegate),!(a instanceof e)){if(e.name===a.constructor.name)throw new wt(lt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Td(a);throw new wt(lt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return a}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fe(a,e){const i={typeString:a};return e&&(i.value=e),i}function Eo(a,e){if(!dv(a))throw new wt(lt.INVALID_ARGUMENT,"JSON must be an object");let i;for(const r in e)if(e[r]){const o=e[r].typeString,h="value"in e[r]?{value:e[r].value}:void 0;if(!(r in a)){i=`JSON missing required field: '${r}'`;break}const d=a[r];if(o&&typeof d!==o){i=`JSON field '${r}' must be a ${o}.`;break}if(h!==void 0&&d!==h.value){i=`Expected '${r}' field to equal '${h.value}'`;break}}if(i)throw new wt(lt.INVALID_ARGUMENT,i);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xy=-62135596800,Zy=1e6;class xe{static now(){return xe.fromMillis(Date.now())}static fromDate(e){return xe.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),r=Math.floor((e-1e3*i)*Zy);return new xe(i,r)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new wt(lt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new wt(lt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<Xy)throw new wt(lt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new wt(lt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Zy}_compareTo(e){return this.seconds===e.seconds?Xt(this.nanoseconds,e.nanoseconds):Xt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:xe._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Eo(e,xe._jsonSchema))return new xe(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Xy;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}xe._jsonSchemaVersion="firestore/timestamp/1.0",xe._jsonSchema={type:Fe("string",xe._jsonSchemaVersion),seconds:Fe("number"),nanoseconds:Fe("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{static fromTimestamp(e){return new jt(e)}static min(){return new jt(new xe(0,0))}static max(){return new jt(new xe(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ho=-1;function qT(a,e){const i=a.toTimestamp().seconds,r=a.toTimestamp().nanoseconds+1,o=jt.fromTimestamp(r===1e9?new xe(i+1,0):new xe(i,r));return new ta(o,Vt.empty(),e)}function PT(a){return new ta(a.readTime,a.key,ho)}class ta{constructor(e,i,r){this.readTime=e,this.documentKey=i,this.largestBatchId=r}static min(){return new ta(jt.min(),Vt.empty(),ho)}static max(){return new ta(jt.max(),Vt.empty(),ho)}}function HT(a,e){let i=a.readTime.compareTo(e.readTime);return i!==0?i:(i=Vt.comparator(a.documentKey,e.documentKey),i!==0?i:Xt(a.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FT="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class GT{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yr(a){if(a.code!==lt.FAILED_PRECONDITION||a.message!==FT)throw a;bt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class at{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&Mt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new at(((r,o)=>{this.nextCallback=h=>{this.wrapSuccess(e,h).next(r,o)},this.catchCallback=h=>{this.wrapFailure(i,h).next(r,o)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof at?i:at.resolve(i)}catch(i){return at.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):at.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):at.reject(i)}static resolve(e){return new at(((i,r)=>{i(e)}))}static reject(e){return new at(((i,r)=>{r(e)}))}static waitFor(e){return new at(((i,r)=>{let o=0,h=0,d=!1;e.forEach((p=>{++o,p.next((()=>{++h,d&&h===o&&i()}),(g=>r(g)))})),d=!0,h===o&&i()}))}static or(e){let i=at.resolve(!1);for(const r of e)i=i.next((o=>o?at.resolve(o):r()));return i}static forEach(e,i){const r=[];return e.forEach(((o,h)=>{r.push(i.call(this,o,h))})),this.waitFor(r)}static mapArray(e,i){return new at(((r,o)=>{const h=e.length,d=new Array(h);let p=0;for(let g=0;g<h;g++){const v=g;i(e[v]).next((T=>{d[v]=T,++p,p===h&&r(d)}),(T=>o(T)))}}))}static doWhile(e,i){return new at(((r,o)=>{const h=()=>{e()===!0?i().next((()=>{h()}),o):r()};h()}))}}function QT(a){const e=a.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Kr(a){return a.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tc{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>i.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Tc.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xd=-1;function xc(a){return a==null}function cc(a){return a===0&&1/a==-1/0}function YT(a){return typeof a=="number"&&Number.isInteger(a)&&!cc(a)&&a<=Number.MAX_SAFE_INTEGER&&a>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mv="";function KT(a){let e="";for(let i=0;i<a.length;i++)e.length>0&&(e=$y(e)),e=XT(a.get(i),e);return $y(e)}function XT(a,e){let i=e;const r=a.length;for(let o=0;o<r;o++){const h=a.charAt(o);switch(h){case"\0":i+="";break;case mv:i+="";break;default:i+=h}}return i}function $y(a){return a+mv+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jy(a){let e=0;for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&e++;return e}function za(a,e){for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&e(i,a[i])}function gv(a){for(const e in a)if(Object.prototype.hasOwnProperty.call(a,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{constructor(e,i){this.comparator=e,this.root=i||on.EMPTY}insert(e,i){return new Re(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,on.BLACK,null,null))}remove(e){return new Re(this.comparator,this.root.remove(e,this.comparator).copy(null,null,on.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(r===0)return i.value;r<0?i=i.left:r>0&&(i=i.right)}return null}indexOf(e){let i=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(o===0)return i+r.left.size;o<0?r=r.left:(i+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,r)=>(e(i,r),!1)))}toString(){const e=[];return this.inorderTraversal(((i,r)=>(e.push(`${i}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Yu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Yu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Yu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Yu(this.root,e,this.comparator,!0)}}class Yu{constructor(e,i,r,o){this.isReverse=o,this.nodeStack=[];let h=1;for(;!e.isEmpty();)if(h=i?r(e.key,i):1,i&&o&&(h*=-1),h<0)e=this.isReverse?e.left:e.right;else{if(h===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class on{constructor(e,i,r,o,h){this.key=e,this.value=i,this.color=r??on.RED,this.left=o??on.EMPTY,this.right=h??on.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,r,o,h){return new on(e??this.key,i??this.value,r??this.color,o??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,r){let o=this;const h=r(e,o.key);return o=h<0?o.copy(null,null,null,o.left.insert(e,i,r),null):h===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return on.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let r,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return on.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,on.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,on.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Mt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Mt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Mt(27949);return e+(this.isRed()?0:1)}}on.EMPTY=null,on.RED=!0,on.BLACK=!1;on.EMPTY=new class{constructor(){this.size=0}get key(){throw Mt(57766)}get value(){throw Mt(16141)}get color(){throw Mt(16727)}get left(){throw Mt(29726)}get right(){throw Mt(36894)}copy(e,i,r,o,h){return this}insert(e,i,r){return new on(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{constructor(e){this.comparator=e,this.data=new Re(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,r)=>(e(i),!1)))}forEachInRange(e,i){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let r;for(r=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new Wy(this.data.getIterator())}getIteratorFrom(e){return new Wy(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((r=>{i=i.add(r)})),i}isEqual(e){if(!(e instanceof Ke)||this.size!==e.size)return!1;const i=this.data.getIterator(),r=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,h=r.getNext().key;if(this.comparator(o,h)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new Ke(this.comparator);return i.data=e,i}}class Wy{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mi{constructor(e){this.fields=e,e.sort(un.comparator)}static empty(){return new mi([])}unionWith(e){let i=new Ke(un.comparator);for(const r of this.fields)i=i.add(r);for(const r of e)i=i.add(r);return new mi(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return Br(this.fields,e.fields,((i,r)=>i.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pv extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(o){try{return atob(o)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new pv("Invalid base64 string: "+h):h}})(e);return new cn(i)}static fromUint8Array(e){const i=(function(o){let h="";for(let d=0;d<o.length;++d)h+=String.fromCharCode(o[d]);return h})(e);return new cn(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const r=new Uint8Array(i.length);for(let o=0;o<i.length;o++)r[o]=i.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Xt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}cn.EMPTY_BYTE_STRING=new cn("");const ZT=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ea(a){if(ue(!!a,39018),typeof a=="string"){let e=0;const i=ZT.exec(a);if(ue(!!i,46558,{timestamp:a}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(a);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Me(a.seconds),nanos:Me(a.nanos)}}function Me(a){return typeof a=="number"?a:typeof a=="string"?Number(a):0}function na(a){return typeof a=="string"?cn.fromBase64String(a):cn.fromUint8Array(a)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yv="server_timestamp",vv="__type__",_v="__previous_value__",bv="__local_write_time__";function Sd(a){var i,r;return((r=(((i=a==null?void 0:a.mapValue)==null?void 0:i.fields)||{})[vv])==null?void 0:r.stringValue)===yv}function Sc(a){const e=a.mapValue.fields[_v];return Sd(e)?Sc(e):e}function fo(a){const e=ea(a.mapValue.fields[bv].timestampValue);return new xe(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $T{constructor(e,i,r,o,h,d,p,g,v,T,S){this.databaseId=e,this.appId=i,this.persistenceKey=r,this.host=o,this.ssl=h,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=g,this.useFetchStreams=v,this.isUsingEmulator=T,this.apiKey=S}}const hc="(default)";class mo{constructor(e,i){this.projectId=e,this.database=i||hc}static empty(){return new mo("","")}get isDefaultDatabase(){return this.database===hc}isEqual(e){return e instanceof mo&&e.projectId===this.projectId&&e.database===this.database}}function JT(a,e){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new wt(lt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new mo(a.options.projectId,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ev="__type__",WT="__max__",Ku={mapValue:{}},Tv="__vector__",fc="value";function ia(a){return"nullValue"in a?0:"booleanValue"in a?1:"integerValue"in a||"doubleValue"in a?2:"timestampValue"in a?3:"stringValue"in a?5:"bytesValue"in a?6:"referenceValue"in a?7:"geoPointValue"in a?8:"arrayValue"in a?9:"mapValue"in a?Sd(a)?4:ex(a)?9007199254740991:tx(a)?10:11:Mt(28295,{value:a})}function Pi(a,e){if(a===e)return!0;const i=ia(a);if(i!==ia(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return a.booleanValue===e.booleanValue;case 4:return fo(a).isEqual(fo(e));case 3:return(function(o,h){if(typeof o.timestampValue=="string"&&typeof h.timestampValue=="string"&&o.timestampValue.length===h.timestampValue.length)return o.timestampValue===h.timestampValue;const d=ea(o.timestampValue),p=ea(h.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(a,e);case 5:return a.stringValue===e.stringValue;case 6:return(function(o,h){return na(o.bytesValue).isEqual(na(h.bytesValue))})(a,e);case 7:return a.referenceValue===e.referenceValue;case 8:return(function(o,h){return Me(o.geoPointValue.latitude)===Me(h.geoPointValue.latitude)&&Me(o.geoPointValue.longitude)===Me(h.geoPointValue.longitude)})(a,e);case 2:return(function(o,h){if("integerValue"in o&&"integerValue"in h)return Me(o.integerValue)===Me(h.integerValue);if("doubleValue"in o&&"doubleValue"in h){const d=Me(o.doubleValue),p=Me(h.doubleValue);return d===p?cc(d)===cc(p):isNaN(d)&&isNaN(p)}return!1})(a,e);case 9:return Br(a.arrayValue.values||[],e.arrayValue.values||[],Pi);case 10:case 11:return(function(o,h){const d=o.mapValue.fields||{},p=h.mapValue.fields||{};if(Jy(d)!==Jy(p))return!1;for(const g in d)if(d.hasOwnProperty(g)&&(p[g]===void 0||!Pi(d[g],p[g])))return!1;return!0})(a,e);default:return Mt(52216,{left:a})}}function go(a,e){return(a.values||[]).find((i=>Pi(i,e)))!==void 0}function qr(a,e){if(a===e)return 0;const i=ia(a),r=ia(e);if(i!==r)return Xt(i,r);switch(i){case 0:case 9007199254740991:return 0;case 1:return Xt(a.booleanValue,e.booleanValue);case 2:return(function(h,d){const p=Me(h.integerValue||h.doubleValue),g=Me(d.integerValue||d.doubleValue);return p<g?-1:p>g?1:p===g?0:isNaN(p)?isNaN(g)?0:-1:1})(a,e);case 3:return t0(a.timestampValue,e.timestampValue);case 4:return t0(fo(a),fo(e));case 5:return Jf(a.stringValue,e.stringValue);case 6:return(function(h,d){const p=na(h),g=na(d);return p.compareTo(g)})(a.bytesValue,e.bytesValue);case 7:return(function(h,d){const p=h.split("/"),g=d.split("/");for(let v=0;v<p.length&&v<g.length;v++){const T=Xt(p[v],g[v]);if(T!==0)return T}return Xt(p.length,g.length)})(a.referenceValue,e.referenceValue);case 8:return(function(h,d){const p=Xt(Me(h.latitude),Me(d.latitude));return p!==0?p:Xt(Me(h.longitude),Me(d.longitude))})(a.geoPointValue,e.geoPointValue);case 9:return e0(a.arrayValue,e.arrayValue);case 10:return(function(h,d){var C,N,F,it;const p=h.fields||{},g=d.fields||{},v=(C=p[fc])==null?void 0:C.arrayValue,T=(N=g[fc])==null?void 0:N.arrayValue,S=Xt(((F=v==null?void 0:v.values)==null?void 0:F.length)||0,((it=T==null?void 0:T.values)==null?void 0:it.length)||0);return S!==0?S:e0(v,T)})(a.mapValue,e.mapValue);case 11:return(function(h,d){if(h===Ku.mapValue&&d===Ku.mapValue)return 0;if(h===Ku.mapValue)return 1;if(d===Ku.mapValue)return-1;const p=h.fields||{},g=Object.keys(p),v=d.fields||{},T=Object.keys(v);g.sort(),T.sort();for(let S=0;S<g.length&&S<T.length;++S){const C=Jf(g[S],T[S]);if(C!==0)return C;const N=qr(p[g[S]],v[T[S]]);if(N!==0)return N}return Xt(g.length,T.length)})(a.mapValue,e.mapValue);default:throw Mt(23264,{he:i})}}function t0(a,e){if(typeof a=="string"&&typeof e=="string"&&a.length===e.length)return Xt(a,e);const i=ea(a),r=ea(e),o=Xt(i.seconds,r.seconds);return o!==0?o:Xt(i.nanos,r.nanos)}function e0(a,e){const i=a.values||[],r=e.values||[];for(let o=0;o<i.length&&o<r.length;++o){const h=qr(i[o],r[o]);if(h)return h}return Xt(i.length,r.length)}function Pr(a){return Wf(a)}function Wf(a){return"nullValue"in a?"null":"booleanValue"in a?""+a.booleanValue:"integerValue"in a?""+a.integerValue:"doubleValue"in a?""+a.doubleValue:"timestampValue"in a?(function(i){const r=ea(i);return`time(${r.seconds},${r.nanos})`})(a.timestampValue):"stringValue"in a?a.stringValue:"bytesValue"in a?(function(i){return na(i).toBase64()})(a.bytesValue):"referenceValue"in a?(function(i){return Vt.fromName(i).toString()})(a.referenceValue):"geoPointValue"in a?(function(i){return`geo(${i.latitude},${i.longitude})`})(a.geoPointValue):"arrayValue"in a?(function(i){let r="[",o=!0;for(const h of i.values||[])o?o=!1:r+=",",r+=Wf(h);return r+"]"})(a.arrayValue):"mapValue"in a?(function(i){const r=Object.keys(i.fields||{}).sort();let o="{",h=!0;for(const d of r)h?h=!1:o+=",",o+=`${d}:${Wf(i.fields[d])}`;return o+"}"})(a.mapValue):Mt(61005,{value:a})}function Wu(a){switch(ia(a)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Sc(a);return e?16+Wu(e):16;case 5:return 2*a.stringValue.length;case 6:return na(a.bytesValue).approximateByteSize();case 7:return a.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((o,h)=>o+Wu(h)),0)})(a.arrayValue);case 10:case 11:return(function(r){let o=0;return za(r.fields,((h,d)=>{o+=h.length+Wu(d)})),o})(a.mapValue);default:throw Mt(13486,{value:a})}}function td(a){return!!a&&"integerValue"in a}function Ad(a){return!!a&&"arrayValue"in a}function n0(a){return!!a&&"nullValue"in a}function i0(a){return!!a&&"doubleValue"in a&&isNaN(Number(a.doubleValue))}function tc(a){return!!a&&"mapValue"in a}function tx(a){var i,r;return((r=(((i=a==null?void 0:a.mapValue)==null?void 0:i.fields)||{})[Ev])==null?void 0:r.stringValue)===Tv}function io(a){if(a.geoPointValue)return{geoPointValue:{...a.geoPointValue}};if(a.timestampValue&&typeof a.timestampValue=="object")return{timestampValue:{...a.timestampValue}};if(a.mapValue){const e={mapValue:{fields:{}}};return za(a.mapValue.fields,((i,r)=>e.mapValue.fields[i]=io(r))),e}if(a.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(a.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=io(a.arrayValue.values[i]);return e}return{...a}}function ex(a){return(((a.mapValue||{}).fields||{}).__type__||{}).stringValue===WT}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ei{constructor(e){this.value=e}static empty(){return new ei({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let r=0;r<e.length-1;++r)if(i=(i.mapValue.fields||{})[e.get(r)],!tc(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=io(i)}setAll(e){let i=un.emptyPath(),r={},o=[];e.forEach(((d,p)=>{if(!i.isImmediateParentOf(p)){const g=this.getFieldsMap(i);this.applyChanges(g,r,o),r={},o=[],i=p.popLast()}d?r[p.lastSegment()]=io(d):o.push(p.lastSegment())}));const h=this.getFieldsMap(i);this.applyChanges(h,r,o)}delete(e){const i=this.field(e.popLast());tc(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return Pi(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=i.mapValue.fields[e.get(r)];tc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(r)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,r){za(i,((o,h)=>e[o]=h));for(const o of r)delete e[o]}clone(){return new ei(io(this.value))}}function xv(a){const e=[];return za(a.fields,((i,r)=>{const o=new un([i]);if(tc(r)){const h=xv(r.mapValue).fields;if(h.length===0)e.push(o);else for(const d of h)e.push(o.child(d))}else e.push(o)})),new mi(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(e,i,r,o,h,d,p){this.key=e,this.documentType=i,this.version=r,this.readTime=o,this.createTime=h,this.data=d,this.documentState=p}static newInvalidDocument(e){return new pn(e,0,jt.min(),jt.min(),jt.min(),ei.empty(),0)}static newFoundDocument(e,i,r,o){return new pn(e,1,i,jt.min(),r,o,0)}static newNoDocument(e,i){return new pn(e,2,i,jt.min(),jt.min(),ei.empty(),0)}static newUnknownDocument(e,i){return new pn(e,3,i,jt.min(),jt.min(),ei.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(jt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ei.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ei.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=jt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof pn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new pn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dc{constructor(e,i){this.position=e,this.inclusive=i}}function s0(a,e,i){let r=0;for(let o=0;o<a.position.length;o++){const h=e[o],d=a.position[o];if(h.field.isKeyField()?r=Vt.comparator(Vt.fromName(d.referenceValue),i.key):r=qr(d,i.data.field(h.field)),h.dir==="desc"&&(r*=-1),r!==0)break}return r}function a0(a,e){if(a===null)return e===null;if(e===null||a.inclusive!==e.inclusive||a.position.length!==e.position.length)return!1;for(let i=0;i<a.position.length;i++)if(!Pi(a.position[i],e.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mc{constructor(e,i="asc"){this.field=e,this.dir=i}}function nx(a,e){return a.dir===e.dir&&a.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sv{}class Qe extends Sv{constructor(e,i,r){super(),this.field=e,this.op=i,this.value=r}static create(e,i,r){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,r):new sx(e,i,r):i==="array-contains"?new lx(e,r):i==="in"?new ox(e,r):i==="not-in"?new ux(e,r):i==="array-contains-any"?new cx(e,r):new Qe(e,i,r)}static createKeyFieldInFilter(e,i,r){return i==="in"?new ax(e,r):new rx(e,r)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(qr(i,this.value)):i!==null&&ia(this.value)===ia(i)&&this.matchesComparison(qr(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Mt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Hi extends Sv{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new Hi(e,i)}matches(e){return Av(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Av(a){return a.op==="and"}function wv(a){return ix(a)&&Av(a)}function ix(a){for(const e of a.filters)if(e instanceof Hi)return!1;return!0}function ed(a){if(a instanceof Qe)return a.field.canonicalString()+a.op.toString()+Pr(a.value);if(wv(a))return a.filters.map((e=>ed(e))).join(",");{const e=a.filters.map((i=>ed(i))).join(",");return`${a.op}(${e})`}}function Cv(a,e){return a instanceof Qe?(function(r,o){return o instanceof Qe&&r.op===o.op&&r.field.isEqual(o.field)&&Pi(r.value,o.value)})(a,e):a instanceof Hi?(function(r,o){return o instanceof Hi&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((h,d,p)=>h&&Cv(d,o.filters[p])),!0):!1})(a,e):void Mt(19439)}function Rv(a){return a instanceof Qe?(function(i){return`${i.field.canonicalString()} ${i.op} ${Pr(i.value)}`})(a):a instanceof Hi?(function(i){return i.op.toString()+" {"+i.getFilters().map(Rv).join(" ,")+"}"})(a):"Filter"}class sx extends Qe{constructor(e,i,r){super(e,i,r),this.key=Vt.fromName(r.referenceValue)}matches(e){const i=Vt.comparator(e.key,this.key);return this.matchesComparison(i)}}class ax extends Qe{constructor(e,i){super(e,"in",i),this.keys=Iv("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class rx extends Qe{constructor(e,i){super(e,"not-in",i),this.keys=Iv("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function Iv(a,e){var i;return(((i=e.arrayValue)==null?void 0:i.values)||[]).map((r=>Vt.fromName(r.referenceValue)))}class lx extends Qe{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return Ad(i)&&go(i.arrayValue,this.value)}}class ox extends Qe{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&go(this.value.arrayValue,i)}}class ux extends Qe{constructor(e,i){super(e,"not-in",i)}matches(e){if(go(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!go(this.value.arrayValue,i)}}class cx extends Qe{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!Ad(i)||!i.arrayValue.values)&&i.arrayValue.values.some((r=>go(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hx{constructor(e,i=null,r=[],o=[],h=null,d=null,p=null){this.path=e,this.collectionGroup=i,this.orderBy=r,this.filters=o,this.limit=h,this.startAt=d,this.endAt=p,this.Te=null}}function r0(a,e=null,i=[],r=[],o=null,h=null,d=null){return new hx(a,e,i,r,o,h,d)}function wd(a){const e=kt(a);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((r=>ed(r))).join(","),i+="|ob:",i+=e.orderBy.map((r=>(function(h){return h.field.canonicalString()+h.dir})(r))).join(","),xc(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((r=>Pr(r))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((r=>Pr(r))).join(",")),e.Te=i}return e.Te}function Cd(a,e){if(a.limit!==e.limit||a.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<a.orderBy.length;i++)if(!nx(a.orderBy[i],e.orderBy[i]))return!1;if(a.filters.length!==e.filters.length)return!1;for(let i=0;i<a.filters.length;i++)if(!Cv(a.filters[i],e.filters[i]))return!1;return a.collectionGroup===e.collectionGroup&&!!a.path.isEqual(e.path)&&!!a0(a.startAt,e.startAt)&&a0(a.endAt,e.endAt)}function nd(a){return Vt.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ac{constructor(e,i=null,r=[],o=[],h=null,d="F",p=null,g=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=r,this.filters=o,this.limit=h,this.limitType=d,this.startAt=p,this.endAt=g,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function fx(a,e,i,r,o,h,d,p){return new Ac(a,e,i,r,o,h,d,p)}function wc(a){return new Ac(a)}function l0(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.explicitOrderBy.length===0||a.explicitOrderBy.length===1&&a.explicitOrderBy[0].field.isKeyField())}function dx(a){return Vt.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}function mx(a){return a.collectionGroup!==null}function so(a){const e=kt(a);if(e.Ie===null){e.Ie=[];const i=new Set;for(const h of e.explicitOrderBy)e.Ie.push(h),i.add(h.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new Ke(un.comparator);return d.filters.forEach((g=>{g.getFlattenedFilters().forEach((v=>{v.isInequality()&&(p=p.add(v.field))}))})),p})(e).forEach((h=>{i.has(h.canonicalString())||h.isKeyField()||e.Ie.push(new mc(h,r))})),i.has(un.keyField().canonicalString())||e.Ie.push(new mc(un.keyField(),r))}return e.Ie}function Ui(a){const e=kt(a);return e.Ee||(e.Ee=gx(e,so(a))),e.Ee}function gx(a,e){if(a.limitType==="F")return r0(a.path,a.collectionGroup,e,a.filters,a.limit,a.startAt,a.endAt);{e=e.map((o=>{const h=o.dir==="desc"?"asc":"desc";return new mc(o.field,h)}));const i=a.endAt?new dc(a.endAt.position,a.endAt.inclusive):null,r=a.startAt?new dc(a.startAt.position,a.startAt.inclusive):null;return r0(a.path,a.collectionGroup,e,a.filters,a.limit,i,r)}}function id(a,e,i){return new Ac(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),e,i,a.startAt,a.endAt)}function Cc(a,e){return Cd(Ui(a),Ui(e))&&a.limitType===e.limitType}function Dv(a){return`${wd(Ui(a))}|lt:${a.limitType}`}function Vr(a){return`Query(target=${(function(i){let r=i.path.canonicalString();return i.collectionGroup!==null&&(r+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(r+=`, filters: [${i.filters.map((o=>Rv(o))).join(", ")}]`),xc(i.limit)||(r+=", limit: "+i.limit),i.orderBy.length>0&&(r+=`, orderBy: [${i.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),i.startAt&&(r+=", startAt: ",r+=i.startAt.inclusive?"b:":"a:",r+=i.startAt.position.map((o=>Pr(o))).join(",")),i.endAt&&(r+=", endAt: ",r+=i.endAt.inclusive?"a:":"b:",r+=i.endAt.position.map((o=>Pr(o))).join(",")),`Target(${r})`})(Ui(a))}; limitType=${a.limitType})`}function Rc(a,e){return e.isFoundDocument()&&(function(r,o){const h=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(h):Vt.isDocumentKey(r.path)?r.path.isEqual(h):r.path.isImmediateParentOf(h)})(a,e)&&(function(r,o){for(const h of so(r))if(!h.field.isKeyField()&&o.data.field(h.field)===null)return!1;return!0})(a,e)&&(function(r,o){for(const h of r.filters)if(!h.matches(o))return!1;return!0})(a,e)&&(function(r,o){return!(r.startAt&&!(function(d,p,g){const v=s0(d,p,g);return d.inclusive?v<=0:v<0})(r.startAt,so(r),o)||r.endAt&&!(function(d,p,g){const v=s0(d,p,g);return d.inclusive?v>=0:v>0})(r.endAt,so(r),o))})(a,e)}function px(a){return a.collectionGroup||(a.path.length%2==1?a.path.lastSegment():a.path.get(a.path.length-2))}function Nv(a){return(e,i)=>{let r=!1;for(const o of so(a)){const h=yx(o,e,i);if(h!==0)return h;r=r||o.field.isKeyField()}return 0}}function yx(a,e,i){const r=a.field.isKeyField()?Vt.comparator(e.key,i.key):(function(h,d,p){const g=d.data.field(h),v=p.data.field(h);return g!==null&&v!==null?qr(g,v):Mt(42886)})(a.field,e,i);switch(a.dir){case"asc":return r;case"desc":return-1*r;default:return Mt(19790,{direction:a.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ua{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),r=this.inner[i];if(r!==void 0){for(const[o,h]of r)if(this.equalsFn(o,e))return h}}has(e){return this.get(e)!==void 0}set(e,i){const r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return this.inner[r]=[[e,i]],void this.innerSize++;for(let h=0;h<o.length;h++)if(this.equalsFn(o[h][0],e))return void(o[h]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return r.length===1?delete this.inner[i]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){za(this.inner,((i,r)=>{for(const[o,h]of r)e(o,h)}))}isEmpty(){return gv(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vx=new Re(Vt.comparator);function ds(){return vx}const Vv=new Re(Vt.comparator);function Wl(...a){let e=Vv;for(const i of a)e=e.insert(i.key,i);return e}function Ov(a){let e=Vv;return a.forEach(((i,r)=>e=e.insert(i,r.overlayedDocument))),e}function Ma(){return ao()}function Mv(){return ao()}function ao(){return new Ua((a=>a.toString()),((a,e)=>a.isEqual(e)))}const _x=new Re(Vt.comparator),bx=new Ke(Vt.comparator);function Zt(...a){let e=bx;for(const i of a)e=e.add(i);return e}const Ex=new Ke(Xt);function Tx(){return Ex}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rd(a,e){if(a.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:cc(e)?"-0":e}}function jv(a){return{integerValue:""+a}}function xx(a,e){return YT(e)?jv(e):Rd(a,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ic{constructor(){this._=void 0}}function Sx(a,e,i){return a instanceof po?(function(o,h){const d={fields:{[vv]:{stringValue:yv},[bv]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return h&&Sd(h)&&(h=Sc(h)),h&&(d.fields[_v]=h),{mapValue:d}})(i,e):a instanceof yo?kv(a,e):a instanceof vo?zv(a,e):(function(o,h){const d=Lv(o,h),p=o0(d)+o0(o.Ae);return td(d)&&td(o.Ae)?jv(p):Rd(o.serializer,p)})(a,e)}function Ax(a,e,i){return a instanceof yo?kv(a,e):a instanceof vo?zv(a,e):i}function Lv(a,e){return a instanceof gc?(function(r){return td(r)||(function(h){return!!h&&"doubleValue"in h})(r)})(e)?e:{integerValue:0}:null}class po extends Ic{}class yo extends Ic{constructor(e){super(),this.elements=e}}function kv(a,e){const i=Uv(e);for(const r of a.elements)i.some((o=>Pi(o,r)))||i.push(r);return{arrayValue:{values:i}}}class vo extends Ic{constructor(e){super(),this.elements=e}}function zv(a,e){let i=Uv(e);for(const r of a.elements)i=i.filter((o=>!Pi(o,r)));return{arrayValue:{values:i}}}class gc extends Ic{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function o0(a){return Me(a.integerValue||a.doubleValue)}function Uv(a){return Ad(a)&&a.arrayValue.values?a.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wx{constructor(e,i){this.field=e,this.transform=i}}function Cx(a,e){return a.field.isEqual(e.field)&&(function(r,o){return r instanceof yo&&o instanceof yo||r instanceof vo&&o instanceof vo?Br(r.elements,o.elements,Pi):r instanceof gc&&o instanceof gc?Pi(r.Ae,o.Ae):r instanceof po&&o instanceof po})(a.transform,e.transform)}class Rx{constructor(e,i){this.version=e,this.transformResults=i}}class cs{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new cs}static exists(e){return new cs(void 0,e)}static updateTime(e){return new cs(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ec(a,e){return a.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(a.updateTime):a.exists===void 0||a.exists===e.isFoundDocument()}class Dc{}function Bv(a,e){if(!a.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return a.isNoDocument()?new Pv(a.key,cs.none()):new To(a.key,a.data,cs.none());{const i=a.data,r=ei.empty();let o=new Ke(un.comparator);for(let h of e.fields)if(!o.has(h)){let d=i.field(h);d===null&&h.length>1&&(h=h.popLast(),d=i.field(h)),d===null?r.delete(h):r.set(h,d),o=o.add(h)}return new Ba(a.key,r,new mi(o.toArray()),cs.none())}}function Ix(a,e,i){a instanceof To?(function(o,h,d){const p=o.value.clone(),g=c0(o.fieldTransforms,h,d.transformResults);p.setAll(g),h.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(a,e,i):a instanceof Ba?(function(o,h,d){if(!ec(o.precondition,h))return void h.convertToUnknownDocument(d.version);const p=c0(o.fieldTransforms,h,d.transformResults),g=h.data;g.setAll(qv(o)),g.setAll(p),h.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(a,e,i):(function(o,h,d){h.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function ro(a,e,i,r){return a instanceof To?(function(h,d,p,g){if(!ec(h.precondition,d))return p;const v=h.value.clone(),T=h0(h.fieldTransforms,g,d);return v.setAll(T),d.convertToFoundDocument(d.version,v).setHasLocalMutations(),null})(a,e,i,r):a instanceof Ba?(function(h,d,p,g){if(!ec(h.precondition,d))return p;const v=h0(h.fieldTransforms,g,d),T=d.data;return T.setAll(qv(h)),T.setAll(v),d.convertToFoundDocument(d.version,T).setHasLocalMutations(),p===null?null:p.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map((S=>S.field)))})(a,e,i,r):(function(h,d,p){return ec(h.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(a,e,i)}function Dx(a,e){let i=null;for(const r of a.fieldTransforms){const o=e.data.field(r.field),h=Lv(r.transform,o||null);h!=null&&(i===null&&(i=ei.empty()),i.set(r.field,h))}return i||null}function u0(a,e){return a.type===e.type&&!!a.key.isEqual(e.key)&&!!a.precondition.isEqual(e.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&Br(r,o,((h,d)=>Cx(h,d)))})(a.fieldTransforms,e.fieldTransforms)&&(a.type===0?a.value.isEqual(e.value):a.type!==1||a.data.isEqual(e.data)&&a.fieldMask.isEqual(e.fieldMask))}class To extends Dc{constructor(e,i,r,o=[]){super(),this.key=e,this.value=i,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Ba extends Dc{constructor(e,i,r,o,h=[]){super(),this.key=e,this.data=i,this.fieldMask=r,this.precondition=o,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function qv(a){const e=new Map;return a.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const r=a.data.field(i);e.set(i,r)}})),e}function c0(a,e,i){const r=new Map;ue(a.length===i.length,32656,{Ve:i.length,de:a.length});for(let o=0;o<i.length;o++){const h=a[o],d=h.transform,p=e.data.field(h.field);r.set(h.field,Ax(d,p,i[o]))}return r}function h0(a,e,i){const r=new Map;for(const o of a){const h=o.transform,d=i.data.field(o.field);r.set(o.field,Sx(h,d,e))}return r}class Pv extends Dc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Nx extends Dc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vx{constructor(e,i,r,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,i){const r=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const h=this.mutations[o];h.key.isEqual(e.key)&&Ix(h,e,r[o])}}applyToLocalView(e,i){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(i=ro(r,e,i,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(i=ro(r,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const r=Mv();return this.mutations.forEach((o=>{const h=e.get(o.key),d=h.overlayedDocument;let p=this.applyToLocalView(d,h.mutatedFields);p=i.has(o.key)?null:p;const g=Bv(d,p);g!==null&&r.set(o.key,g),d.isValidDocument()||d.convertToNoDocument(jt.min())})),r}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),Zt())}isEqual(e){return this.batchId===e.batchId&&Br(this.mutations,e.mutations,((i,r)=>u0(i,r)))&&Br(this.baseMutations,e.baseMutations,((i,r)=>u0(i,r)))}}class Id{constructor(e,i,r,o){this.batch=e,this.commitVersion=i,this.mutationResults=r,this.docVersions=o}static from(e,i,r){ue(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let o=(function(){return _x})();const h=e.mutations;for(let d=0;d<h.length;d++)o=o.insert(h[d].key,r[d].version);return new Id(e,i,r,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ox{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mx{constructor(e,i){this.count=e,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var He,te;function jx(a){switch(a){case lt.OK:return Mt(64938);case lt.CANCELLED:case lt.UNKNOWN:case lt.DEADLINE_EXCEEDED:case lt.RESOURCE_EXHAUSTED:case lt.INTERNAL:case lt.UNAVAILABLE:case lt.UNAUTHENTICATED:return!1;case lt.INVALID_ARGUMENT:case lt.NOT_FOUND:case lt.ALREADY_EXISTS:case lt.PERMISSION_DENIED:case lt.FAILED_PRECONDITION:case lt.ABORTED:case lt.OUT_OF_RANGE:case lt.UNIMPLEMENTED:case lt.DATA_LOSS:return!0;default:return Mt(15467,{code:a})}}function Hv(a){if(a===void 0)return fs("GRPC error has no .code"),lt.UNKNOWN;switch(a){case He.OK:return lt.OK;case He.CANCELLED:return lt.CANCELLED;case He.UNKNOWN:return lt.UNKNOWN;case He.DEADLINE_EXCEEDED:return lt.DEADLINE_EXCEEDED;case He.RESOURCE_EXHAUSTED:return lt.RESOURCE_EXHAUSTED;case He.INTERNAL:return lt.INTERNAL;case He.UNAVAILABLE:return lt.UNAVAILABLE;case He.UNAUTHENTICATED:return lt.UNAUTHENTICATED;case He.INVALID_ARGUMENT:return lt.INVALID_ARGUMENT;case He.NOT_FOUND:return lt.NOT_FOUND;case He.ALREADY_EXISTS:return lt.ALREADY_EXISTS;case He.PERMISSION_DENIED:return lt.PERMISSION_DENIED;case He.FAILED_PRECONDITION:return lt.FAILED_PRECONDITION;case He.ABORTED:return lt.ABORTED;case He.OUT_OF_RANGE:return lt.OUT_OF_RANGE;case He.UNIMPLEMENTED:return lt.UNIMPLEMENTED;case He.DATA_LOSS:return lt.DATA_LOSS;default:return Mt(39323,{code:a})}}(te=He||(He={}))[te.OK=0]="OK",te[te.CANCELLED=1]="CANCELLED",te[te.UNKNOWN=2]="UNKNOWN",te[te.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",te[te.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",te[te.NOT_FOUND=5]="NOT_FOUND",te[te.ALREADY_EXISTS=6]="ALREADY_EXISTS",te[te.PERMISSION_DENIED=7]="PERMISSION_DENIED",te[te.UNAUTHENTICATED=16]="UNAUTHENTICATED",te[te.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",te[te.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",te[te.ABORTED=10]="ABORTED",te[te.OUT_OF_RANGE=11]="OUT_OF_RANGE",te[te.UNIMPLEMENTED=12]="UNIMPLEMENTED",te[te.INTERNAL=13]="INTERNAL",te[te.UNAVAILABLE=14]="UNAVAILABLE",te[te.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lx(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kx=new $s([4294967295,4294967295],0);function f0(a){const e=Lx().encode(a),i=new av;return i.update(e),new Uint8Array(i.digest())}function d0(a){const e=new DataView(a.buffer),i=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),h=e.getUint32(12,!0);return[new $s([i,r],0),new $s([o,h],0)]}class Dd{constructor(e,i,r){if(this.bitmap=e,this.padding=i,this.hashCount=r,i<0||i>=8)throw new to(`Invalid padding: ${i}`);if(r<0)throw new to(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new to(`Invalid hash count: ${r}`);if(e.length===0&&i!==0)throw new to(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=$s.fromNumber(this.ge)}ye(e,i,r){let o=e.add(i.multiply($s.fromNumber(r)));return o.compare(kx)===1&&(o=new $s([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=f0(e),[r,o]=d0(i);for(let h=0;h<this.hashCount;h++){const d=this.ye(r,o,h);if(!this.we(d))return!1}return!0}static create(e,i,r){const o=e%8==0?0:8-e%8,h=new Uint8Array(Math.ceil(e/8)),d=new Dd(h,o,i);return r.forEach((p=>d.insert(p))),d}insert(e){if(this.ge===0)return;const i=f0(e),[r,o]=d0(i);for(let h=0;h<this.hashCount;h++){const d=this.ye(r,o,h);this.be(d)}}be(e){const i=Math.floor(e/8),r=e%8;this.bitmap[i]|=1<<r}}class to extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nc{constructor(e,i,r,o,h){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(e,i,r){const o=new Map;return o.set(e,xo.createSynthesizedTargetChangeForCurrentChange(e,i,r)),new Nc(jt.min(),o,new Re(Xt),ds(),Zt())}}class xo{constructor(e,i,r,o,h){this.resumeToken=e,this.current=i,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(e,i,r){return new xo(r,i,Zt(),Zt(),Zt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nc{constructor(e,i,r,o){this.Se=e,this.removedTargetIds=i,this.key=r,this.De=o}}class Fv{constructor(e,i){this.targetId=e,this.Ce=i}}class Gv{constructor(e,i,r=cn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=r,this.cause=o}}class m0{constructor(){this.ve=0,this.Fe=g0(),this.Me=cn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Zt(),i=Zt(),r=Zt();return this.Fe.forEach(((o,h)=>{switch(h){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:r=r.add(o);break;default:Mt(38017,{changeType:h})}})),new xo(this.Me,this.xe,e,i,r)}Ke(){this.Oe=!1,this.Fe=g0()}qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,ue(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class zx{constructor(e){this.Ge=e,this.ze=new Map,this.je=ds(),this.He=Xu(),this.Je=Xu(),this.Ze=new Re(Xt)}Xe(e){for(const i of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const r=this.nt(i);switch(e.state){case 0:this.rt(i)&&r.Le(e.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(e.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(r.Qe(),r.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),r.Le(e.resumeToken));break;default:Mt(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((r,o)=>{this.rt(o)&&i(o)}))}st(e){const i=e.targetId,r=e.Ce.count,o=this.ot(i);if(o){const h=o.target;if(nd(h))if(r===0){const d=new Vt(h.path);this.et(i,d,pn.newNoDocument(d,jt.min()))}else ue(r===1,20013,{expectedCount:r});else{const d=this._t(i);if(d!==r){const p=this.ut(e),g=p?this.ct(p,e,d):1;if(g!==0){this.it(i);const v=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(i,v)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:h=0}=i;let d,p;try{d=na(r).toUint8Array()}catch(g){if(g instanceof pv)return Ur("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{p=new Dd(d,o,h)}catch(g){return Ur(g instanceof to?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return p.ge===0?null:p}ct(e,i,r){return i.Ce.count===r-this.Pt(e,i.targetId)?0:2}Pt(e,i){const r=this.Ge.getRemoteKeysForTarget(i);let o=0;return r.forEach((h=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${h.path.canonicalString()}`;e.mightContain(p)||(this.et(i,h,null),o++)})),o}Tt(e){const i=new Map;this.ze.forEach(((h,d)=>{const p=this.ot(d);if(p){if(h.current&&nd(p.target)){const g=new Vt(p.target.path);this.It(g).has(d)||this.Et(d,g)||this.et(d,g,pn.newNoDocument(g,e))}h.Be&&(i.set(d,h.ke()),h.Ke())}}));let r=Zt();this.Je.forEach(((h,d)=>{let p=!0;d.forEachWhile((g=>{const v=this.ot(g);return!v||v.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(r=r.add(h))})),this.je.forEach(((h,d)=>d.setReadTime(e)));const o=new Nc(e,i,this.Ze,this.je,r);return this.je=ds(),this.He=Xu(),this.Je=Xu(),this.Ze=new Re(Xt),o}Ye(e,i){if(!this.rt(e))return;const r=this.Et(e,i.key)?2:0;this.nt(e).qe(i.key,r),this.je=this.je.insert(i.key,i),this.He=this.He.insert(i.key,this.It(i.key).add(e)),this.Je=this.Je.insert(i.key,this.Rt(i.key).add(e))}et(e,i,r){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,i)?o.qe(i,1):o.Ue(i),this.Je=this.Je.insert(i,this.Rt(i).delete(e)),this.Je=this.Je.insert(i,this.Rt(i).add(e)),r&&(this.je=this.je.insert(i,r))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let i=this.ze.get(e);return i||(i=new m0,this.ze.set(e,i)),i}Rt(e){let i=this.Je.get(e);return i||(i=new Ke(Xt),this.Je=this.Je.insert(e,i)),i}It(e){let i=this.He.get(e);return i||(i=new Ke(Xt),this.He=this.He.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||bt("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new m0),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function Xu(){return new Re(Vt.comparator)}function g0(){return new Re(Vt.comparator)}const Ux={asc:"ASCENDING",desc:"DESCENDING"},Bx={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},qx={and:"AND",or:"OR"};class Px{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function sd(a,e){return a.useProto3Json||xc(e)?e:{value:e}}function pc(a,e){return a.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Qv(a,e){return a.useProto3Json?e.toBase64():e.toUint8Array()}function Hx(a,e){return pc(a,e.toTimestamp())}function Bi(a){return ue(!!a,49232),jt.fromTimestamp((function(i){const r=ea(i);return new xe(r.seconds,r.nanos)})(a))}function Nd(a,e){return ad(a,e).canonicalString()}function ad(a,e){const i=(function(o){return new Ce(["projects",o.projectId,"databases",o.database])})(a).child("documents");return e===void 0?i:i.child(e)}function Yv(a){const e=Ce.fromString(a);return ue(Jv(e),10190,{key:e.toString()}),e}function rd(a,e){return Nd(a.databaseId,e.path)}function Pf(a,e){const i=Yv(e);if(i.get(1)!==a.databaseId.projectId)throw new wt(lt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+a.databaseId.projectId);if(i.get(3)!==a.databaseId.database)throw new wt(lt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+a.databaseId.database);return new Vt(Xv(i))}function Kv(a,e){return Nd(a.databaseId,e)}function Fx(a){const e=Yv(a);return e.length===4?Ce.emptyPath():Xv(e)}function ld(a){return new Ce(["projects",a.databaseId.projectId,"databases",a.databaseId.database]).canonicalString()}function Xv(a){return ue(a.length>4&&a.get(4)==="documents",29091,{key:a.toString()}),a.popFirst(5)}function p0(a,e,i){return{name:rd(a,e),fields:i.value.mapValue.fields}}function Gx(a,e){let i;if("targetChange"in e){e.targetChange;const r=(function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:Mt(39313,{state:v})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],h=(function(v,T){return v.useProto3Json?(ue(T===void 0||typeof T=="string",58123),cn.fromBase64String(T||"")):(ue(T===void 0||T instanceof Buffer||T instanceof Uint8Array,16193),cn.fromUint8Array(T||new Uint8Array))})(a,e.targetChange.resumeToken),d=e.targetChange.cause,p=d&&(function(v){const T=v.code===void 0?lt.UNKNOWN:Hv(v.code);return new wt(T,v.message||"")})(d);i=new Gv(r,o,h,p||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const o=Pf(a,r.document.name),h=Bi(r.document.updateTime),d=r.document.createTime?Bi(r.document.createTime):jt.min(),p=new ei({mapValue:{fields:r.document.fields}}),g=pn.newFoundDocument(o,h,d,p),v=r.targetIds||[],T=r.removedTargetIds||[];i=new nc(v,T,g.key,g)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const o=Pf(a,r.document),h=r.readTime?Bi(r.readTime):jt.min(),d=pn.newNoDocument(o,h),p=r.removedTargetIds||[];i=new nc([],p,d.key,d)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const o=Pf(a,r.document),h=r.removedTargetIds||[];i=new nc([],h,o,null)}else{if(!("filter"in e))return Mt(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:o=0,unchangedNames:h}=r,d=new Mx(o,h),p=r.targetId;i=new Fv(p,d)}}return i}function Qx(a,e){let i;if(e instanceof To)i={update:p0(a,e.key,e.value)};else if(e instanceof Pv)i={delete:rd(a,e.key)};else if(e instanceof Ba)i={update:p0(a,e.key,e.data),updateMask:eS(e.fieldMask)};else{if(!(e instanceof Nx))return Mt(16599,{dt:e.type});i={verify:rd(a,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((r=>(function(h,d){const p=d.transform;if(p instanceof po)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof yo)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof vo)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof gc)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw Mt(20930,{transform:d.transform})})(0,r)))),e.precondition.isNone||(i.currentDocument=(function(o,h){return h.updateTime!==void 0?{updateTime:Hx(o,h.updateTime)}:h.exists!==void 0?{exists:h.exists}:Mt(27497)})(a,e.precondition)),i}function Yx(a,e){return a&&a.length>0?(ue(e!==void 0,14353),a.map((i=>(function(o,h){let d=o.updateTime?Bi(o.updateTime):Bi(h);return d.isEqual(jt.min())&&(d=Bi(h)),new Rx(d,o.transformResults||[])})(i,e)))):[]}function Kx(a,e){return{documents:[Kv(a,e.path)]}}function Xx(a,e){const i={structuredQuery:{}},r=e.path;let o;e.collectionGroup!==null?(o=r,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=r.popLast(),i.structuredQuery.from=[{collectionId:r.lastSegment()}]),i.parent=Kv(a,o);const h=(function(v){if(v.length!==0)return $v(Hi.create(v,"and"))})(e.filters);h&&(i.structuredQuery.where=h);const d=(function(v){if(v.length!==0)return v.map((T=>(function(C){return{field:Or(C.field),direction:Jx(C.dir)}})(T)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const p=sd(a,e.limit);return p!==null&&(i.structuredQuery.limit=p),e.startAt&&(i.structuredQuery.startAt=(function(v){return{before:v.inclusive,values:v.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(v){return{before:!v.inclusive,values:v.position}})(e.endAt)),{ft:i,parent:o}}function Zx(a){let e=Fx(a.parent);const i=a.structuredQuery,r=i.from?i.from.length:0;let o=null;if(r>0){ue(r===1,65062);const T=i.from[0];T.allDescendants?o=T.collectionId:e=e.child(T.collectionId)}let h=[];i.where&&(h=(function(S){const C=Zv(S);return C instanceof Hi&&wv(C)?C.getFilters():[C]})(i.where));let d=[];i.orderBy&&(d=(function(S){return S.map((C=>(function(F){return new mc(Mr(F.field),(function(B){switch(B){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(F.direction))})(C)))})(i.orderBy));let p=null;i.limit&&(p=(function(S){let C;return C=typeof S=="object"?S.value:S,xc(C)?null:C})(i.limit));let g=null;i.startAt&&(g=(function(S){const C=!!S.before,N=S.values||[];return new dc(N,C)})(i.startAt));let v=null;return i.endAt&&(v=(function(S){const C=!S.before,N=S.values||[];return new dc(N,C)})(i.endAt)),fx(e,o,d,h,p,"F",g,v)}function $x(a,e){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Mt(28987,{purpose:o})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function Zv(a){return a.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const r=Mr(i.unaryFilter.field);return Qe.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=Mr(i.unaryFilter.field);return Qe.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=Mr(i.unaryFilter.field);return Qe.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Mr(i.unaryFilter.field);return Qe.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Mt(61313);default:return Mt(60726)}})(a):a.fieldFilter!==void 0?(function(i){return Qe.create(Mr(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Mt(58110);default:return Mt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(a):a.compositeFilter!==void 0?(function(i){return Hi.create(i.compositeFilter.filters.map((r=>Zv(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Mt(1026)}})(i.compositeFilter.op))})(a):Mt(30097,{filter:a})}function Jx(a){return Ux[a]}function Wx(a){return Bx[a]}function tS(a){return qx[a]}function Or(a){return{fieldPath:a.canonicalString()}}function Mr(a){return un.fromServerFormat(a.fieldPath)}function $v(a){return a instanceof Qe?(function(i){if(i.op==="=="){if(i0(i.value))return{unaryFilter:{field:Or(i.field),op:"IS_NAN"}};if(n0(i.value))return{unaryFilter:{field:Or(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(i0(i.value))return{unaryFilter:{field:Or(i.field),op:"IS_NOT_NAN"}};if(n0(i.value))return{unaryFilter:{field:Or(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Or(i.field),op:Wx(i.op),value:i.value}}})(a):a instanceof Hi?(function(i){const r=i.getFilters().map((o=>$v(o)));return r.length===1?r[0]:{compositeFilter:{op:tS(i.op),filters:r}}})(a):Mt(54877,{filter:a})}function eS(a){const e=[];return a.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function Jv(a){return a.length>=4&&a.get(0)==="projects"&&a.get(2)==="databases"}function Wv(a){return!!a&&typeof a._toProto=="function"&&a._protoValueType==="ProtoValue"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ks{constructor(e,i,r,o,h=jt.min(),d=jt.min(),p=cn.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=i,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=g}withSequenceNumber(e){return new Ks(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new Ks(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ks(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ks(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nS{constructor(e){this.yt=e}}function iS(a){const e=Zx({parent:a.parent,structuredQuery:a.structuredQuery});return a.limitType==="LAST"?id(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sS{constructor(){this.Sn=new aS}addToCollectionParentIndex(e,i){return this.Sn.add(i),at.resolve()}getCollectionParents(e,i){return at.resolve(this.Sn.getEntries(i))}addFieldIndex(e,i){return at.resolve()}deleteFieldIndex(e,i){return at.resolve()}deleteAllFieldIndexes(e){return at.resolve()}createTargetIndexes(e,i){return at.resolve()}getDocumentsMatchingTarget(e,i){return at.resolve(null)}getIndexType(e,i){return at.resolve(0)}getFieldIndexes(e,i){return at.resolve([])}getNextCollectionGroupToUpdate(e){return at.resolve(null)}getMinOffset(e,i){return at.resolve(ta.min())}getMinOffsetFromCollectionGroup(e,i){return at.resolve(ta.min())}updateCollectionGroup(e,i,r){return at.resolve()}updateIndexEntries(e,i){return at.resolve()}}class aS{constructor(){this.index={}}add(e){const i=e.lastSegment(),r=e.popLast(),o=this.index[i]||new Ke(Ce.comparator),h=!o.has(r);return this.index[i]=o.add(r),h}has(e){const i=e.lastSegment(),r=e.popLast(),o=this.index[i];return o&&o.has(r)}getEntries(e){return(this.index[e]||new Ke(Ce.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},t_=41943040;class Dn{static withCacheSize(e){return new Dn(e,Dn.DEFAULT_COLLECTION_PERCENTILE,Dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Dn.DEFAULT_COLLECTION_PERCENTILE=10,Dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Dn.DEFAULT=new Dn(t_,Dn.DEFAULT_COLLECTION_PERCENTILE,Dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Dn.DISABLED=new Dn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hr{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new Hr(0)}static ar(){return new Hr(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v0="LruGarbageCollector",rS=1048576;function _0([a,e],[i,r]){const o=Xt(a,i);return o===0?Xt(e,r):o}class lS{constructor(e){this.Pr=e,this.buffer=new Ke(_0),this.Tr=0}Ir(){return++this.Tr}Er(e){const i=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(i);else{const r=this.buffer.last();_0(i,r)<0&&(this.buffer=this.buffer.delete(r).add(i))}}get maxValue(){return this.buffer.last()[0]}}class oS{constructor(e,i,r){this.garbageCollector=e,this.asyncQueue=i,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){bt(v0,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Kr(i)?bt(v0,"Ignoring IndexedDB error during garbage collection: ",i):await Yr(i)}await this.Ar(3e5)}))}}class uS{constructor(e,i){this.Vr=e,this.params=i}calculateTargetCount(e,i){return this.Vr.dr(e).next((r=>Math.floor(i/100*r)))}nthSequenceNumber(e,i){if(i===0)return at.resolve(Tc.ce);const r=new lS(i);return this.Vr.forEachTarget(e,(o=>r.Er(o.sequenceNumber))).next((()=>this.Vr.mr(e,(o=>r.Er(o))))).next((()=>r.maxValue))}removeTargets(e,i,r){return this.Vr.removeTargets(e,i,r)}removeOrphanedDocuments(e,i){return this.Vr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(bt("LruGarbageCollector","Garbage collection skipped; disabled"),at.resolve(y0)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(bt("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),y0):this.gr(e,i)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,i){let r,o,h,d,p,g,v;const T=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(bt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),o=this.params.maximumSequenceNumbersToCollect):o=S,d=Date.now(),this.nthSequenceNumber(e,o)))).next((S=>(r=S,p=Date.now(),this.removeTargets(e,r,i)))).next((S=>(h=S,g=Date.now(),this.removeOrphanedDocuments(e,r)))).next((S=>(v=Date.now(),Nr()<=ee.DEBUG&&bt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-T}ms
	Determined least recently used ${o} in `+(p-d)+`ms
	Removed ${h} targets in `+(g-p)+`ms
	Removed ${S} documents in `+(v-g)+`ms
Total Duration: ${v-T}ms`),at.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:h,documentsRemoved:S}))))}}function cS(a,e){return new uS(a,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hS{constructor(){this.changes=new Ua((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,pn.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const r=this.changes.get(i);return r!==void 0?at.resolve(r):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fS{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dS{constructor(e,i,r,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,i){let r=null;return this.documentOverlayCache.getOverlay(e,i).next((o=>(r=o,this.remoteDocumentCache.getEntry(e,i)))).next((o=>(r!==null&&ro(r.mutation,o,mi.empty(),xe.now()),o)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((r=>this.getLocalViewOfDocuments(e,r,Zt()).next((()=>r))))}getLocalViewOfDocuments(e,i,r=Zt()){const o=Ma();return this.populateOverlays(e,o,i).next((()=>this.computeViews(e,i,o,r).next((h=>{let d=Wl();return h.forEach(((p,g)=>{d=d.insert(p,g.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const r=Ma();return this.populateOverlays(e,r,i).next((()=>this.computeViews(e,i,r,Zt())))}populateOverlays(e,i,r){const o=[];return r.forEach((h=>{i.has(h)||o.push(h)})),this.documentOverlayCache.getOverlays(e,o).next((h=>{h.forEach(((d,p)=>{i.set(d,p)}))}))}computeViews(e,i,r,o){let h=ds();const d=ao(),p=(function(){return ao()})();return i.forEach(((g,v)=>{const T=r.get(v.key);o.has(v.key)&&(T===void 0||T.mutation instanceof Ba)?h=h.insert(v.key,v):T!==void 0?(d.set(v.key,T.mutation.getFieldMask()),ro(T.mutation,v,T.mutation.getFieldMask(),xe.now())):d.set(v.key,mi.empty())})),this.recalculateAndSaveOverlays(e,h).next((g=>(g.forEach(((v,T)=>d.set(v,T))),i.forEach(((v,T)=>p.set(v,new fS(T,d.get(v)??null)))),p)))}recalculateAndSaveOverlays(e,i){const r=ao();let o=new Re(((d,p)=>d-p)),h=Zt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const p of d)p.keys().forEach((g=>{const v=i.get(g);if(v===null)return;let T=r.get(g)||mi.empty();T=p.applyToLocalView(v,T),r.set(g,T);const S=(o.get(p.batchId)||Zt()).add(g);o=o.insert(p.batchId,S)}))})).next((()=>{const d=[],p=o.getReverseIterator();for(;p.hasNext();){const g=p.getNext(),v=g.key,T=g.value,S=Mv();T.forEach((C=>{if(!h.has(C)){const N=Bv(i.get(C),r.get(C));N!==null&&S.set(C,N),h=h.add(C)}})),d.push(this.documentOverlayCache.saveOverlays(e,v,S))}return at.waitFor(d)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,i,r,o){return dx(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):mx(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,r,o):this.getDocumentsMatchingCollectionQuery(e,i,r,o)}getNextDocuments(e,i,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,r,o).next((h=>{const d=o-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,r.largestBatchId,o-h.size):at.resolve(Ma());let p=ho,g=h;return d.next((v=>at.forEach(v,((T,S)=>(p<S.largestBatchId&&(p=S.largestBatchId),h.get(T)?at.resolve():this.remoteDocumentCache.getEntry(e,T).next((C=>{g=g.insert(T,C)}))))).next((()=>this.populateOverlays(e,v,h))).next((()=>this.computeViews(e,g,v,Zt()))).next((T=>({batchId:p,changes:Ov(T)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new Vt(i)).next((r=>{let o=Wl();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(e,i,r,o){const h=i.collectionGroup;let d=Wl();return this.indexManager.getCollectionParents(e,h).next((p=>at.forEach(p,(g=>{const v=(function(S,C){return new Ac(C,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(i,g.child(h));return this.getDocumentsMatchingCollectionQuery(e,v,r,o).next((T=>{T.forEach(((S,C)=>{d=d.insert(S,C)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,r,o){let h;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,r.largestBatchId).next((d=>(h=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,r,h,o)))).next((d=>{h.forEach(((g,v)=>{const T=v.getKey();d.get(T)===null&&(d=d.insert(T,pn.newInvalidDocument(T)))}));let p=Wl();return d.forEach(((g,v)=>{const T=h.get(g);T!==void 0&&ro(T.mutation,v,mi.empty(),xe.now()),Rc(i,v)&&(p=p.insert(g,v))})),p}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mS{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,i){return at.resolve(this.Nr.get(i))}saveBundleMetadata(e,i){return this.Nr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:Bi(o.createTime)}})(i)),at.resolve()}getNamedQuery(e,i){return at.resolve(this.Br.get(i))}saveNamedQuery(e,i){return this.Br.set(i.name,(function(o){return{name:o.name,query:iS(o.bundledQuery),readTime:Bi(o.readTime)}})(i)),at.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gS{constructor(){this.overlays=new Re(Vt.comparator),this.Lr=new Map}getOverlay(e,i){return at.resolve(this.overlays.get(i))}getOverlays(e,i){const r=Ma();return at.forEach(i,(o=>this.getOverlay(e,o).next((h=>{h!==null&&r.set(o,h)})))).next((()=>r))}saveOverlays(e,i,r){return r.forEach(((o,h)=>{this.bt(e,i,h)})),at.resolve()}removeOverlaysForBatchId(e,i,r){const o=this.Lr.get(r);return o!==void 0&&(o.forEach((h=>this.overlays=this.overlays.remove(h))),this.Lr.delete(r)),at.resolve()}getOverlaysForCollection(e,i,r){const o=Ma(),h=i.length+1,d=new Vt(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const g=p.getNext().value,v=g.getKey();if(!i.isPrefixOf(v.path))break;v.path.length===h&&g.largestBatchId>r&&o.set(g.getKey(),g)}return at.resolve(o)}getOverlaysForCollectionGroup(e,i,r,o){let h=new Re(((v,T)=>v-T));const d=this.overlays.getIterator();for(;d.hasNext();){const v=d.getNext().value;if(v.getKey().getCollectionGroup()===i&&v.largestBatchId>r){let T=h.get(v.largestBatchId);T===null&&(T=Ma(),h=h.insert(v.largestBatchId,T)),T.set(v.getKey(),v)}}const p=Ma(),g=h.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((v,T)=>p.set(v,T))),!(p.size()>=o)););return at.resolve(p)}bt(e,i,r){const o=this.overlays.get(r.key);if(o!==null){const d=this.Lr.get(o.largestBatchId).delete(r.key);this.Lr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new Ox(i,r));let h=this.Lr.get(i);h===void 0&&(h=Zt(),this.Lr.set(i,h)),this.Lr.set(i,h.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pS{constructor(){this.sessionToken=cn.EMPTY_BYTE_STRING}getSessionToken(e){return at.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,at.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vd{constructor(){this.kr=new Ke(tn.Kr),this.qr=new Ke(tn.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,i){const r=new tn(e,i);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(e,i){e.forEach((r=>this.addReference(r,i)))}removeReference(e,i){this.Wr(new tn(e,i))}Qr(e,i){e.forEach((r=>this.removeReference(r,i)))}Gr(e){const i=new Vt(new Ce([])),r=new tn(i,e),o=new tn(i,e+1),h=[];return this.qr.forEachInRange([r,o],(d=>{this.Wr(d),h.push(d.key)})),h}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const i=new Vt(new Ce([])),r=new tn(i,e),o=new tn(i,e+1);let h=Zt();return this.qr.forEachInRange([r,o],(d=>{h=h.add(d.key)})),h}containsKey(e){const i=new tn(e,0),r=this.kr.firstAfterOrEqual(i);return r!==null&&e.isEqual(r.key)}}class tn{constructor(e,i){this.key=e,this.Hr=i}static Kr(e,i){return Vt.comparator(e.key,i.key)||Xt(e.Hr,i.Hr)}static Ur(e,i){return Xt(e.Hr,i.Hr)||Vt.comparator(e.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yS{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.Yn=1,this.Jr=new Ke(tn.Kr)}checkEmpty(e){return at.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,r,o){const h=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new Vx(h,i,r,o);this.mutationQueue.push(d);for(const p of o)this.Jr=this.Jr.add(new tn(p.key,h)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return at.resolve(d)}lookupMutationBatch(e,i){return at.resolve(this.Zr(i))}getNextMutationBatchAfterBatchId(e,i){const r=i+1,o=this.Xr(r),h=o<0?0:o;return at.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return at.resolve(this.mutationQueue.length===0?xd:this.Yn-1)}getAllMutationBatches(e){return at.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const r=new tn(i,0),o=new tn(i,Number.POSITIVE_INFINITY),h=[];return this.Jr.forEachInRange([r,o],(d=>{const p=this.Zr(d.Hr);h.push(p)})),at.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(e,i){let r=new Ke(Xt);return i.forEach((o=>{const h=new tn(o,0),d=new tn(o,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([h,d],(p=>{r=r.add(p.Hr)}))})),at.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(e,i){const r=i.path,o=r.length+1;let h=r;Vt.isDocumentKey(h)||(h=h.child(""));const d=new tn(new Vt(h),0);let p=new Ke(Xt);return this.Jr.forEachWhile((g=>{const v=g.key.path;return!!r.isPrefixOf(v)&&(v.length===o&&(p=p.add(g.Hr)),!0)}),d),at.resolve(this.Yr(p))}Yr(e){const i=[];return e.forEach((r=>{const o=this.Zr(r);o!==null&&i.push(o)})),i}removeMutationBatch(e,i){ue(this.ei(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return at.forEach(i.mutations,(o=>{const h=new tn(o.key,i.batchId);return r=r.delete(h),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Jr=r}))}nr(e){}containsKey(e,i){const r=new tn(i,0),o=this.Jr.firstAfterOrEqual(r);return at.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,at.resolve()}ei(e,i){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const i=this.Xr(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vS{constructor(e){this.ti=e,this.docs=(function(){return new Re(Vt.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const r=i.key,o=this.docs.get(r),h=o?o.size:0,d=this.ti(i);return this.docs=this.docs.insert(r,{document:i.mutableCopy(),size:d}),this.size+=d-h,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const r=this.docs.get(i);return at.resolve(r?r.document.mutableCopy():pn.newInvalidDocument(i))}getEntries(e,i){let r=ds();return i.forEach((o=>{const h=this.docs.get(o);r=r.insert(o,h?h.document.mutableCopy():pn.newInvalidDocument(o))})),at.resolve(r)}getDocumentsMatchingQuery(e,i,r,o){let h=ds();const d=i.path,p=new Vt(d.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(p);for(;g.hasNext();){const{key:v,value:{document:T}}=g.getNext();if(!d.isPrefixOf(v.path))break;v.path.length>d.length+1||HT(PT(T),r)<=0||(o.has(T.key)||Rc(i,T))&&(h=h.insert(T.key,T.mutableCopy()))}return at.resolve(h)}getAllFromCollectionGroup(e,i,r,o){Mt(9500)}ni(e,i){return at.forEach(this.docs,(r=>i(r)))}newChangeBuffer(e){return new _S(this)}getSize(e){return at.resolve(this.size)}}class _S extends hS{constructor(e){super(),this.Mr=e}applyChanges(e){const i=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?i.push(this.Mr.addEntry(e,o)):this.Mr.removeEntry(r)})),at.waitFor(i)}getFromCache(e,i){return this.Mr.getEntry(e,i)}getAllFromCache(e,i){return this.Mr.getEntries(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bS{constructor(e){this.persistence=e,this.ri=new Ua((i=>wd(i)),Cd),this.lastRemoteSnapshotVersion=jt.min(),this.highestTargetId=0,this.ii=0,this.si=new Vd,this.targetCount=0,this.oi=Hr._r()}forEachTarget(e,i){return this.ri.forEach(((r,o)=>i(o))),at.resolve()}getLastRemoteSnapshotVersion(e){return at.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return at.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),at.resolve(this.highestTargetId)}setTargetsMetadata(e,i,r){return r&&(this.lastRemoteSnapshotVersion=r),i>this.ii&&(this.ii=i),at.resolve()}lr(e){this.ri.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.oi=new Hr(i),this.highestTargetId=i),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,i){return this.lr(i),this.targetCount+=1,at.resolve()}updateTargetData(e,i){return this.lr(i),at.resolve()}removeTargetData(e,i){return this.ri.delete(i.target),this.si.Gr(i.targetId),this.targetCount-=1,at.resolve()}removeTargets(e,i,r){let o=0;const h=[];return this.ri.forEach(((d,p)=>{p.sequenceNumber<=i&&r.get(p.targetId)===null&&(this.ri.delete(d),h.push(this.removeMatchingKeysForTargetId(e,p.targetId)),o++)})),at.waitFor(h).next((()=>o))}getTargetCount(e){return at.resolve(this.targetCount)}getTargetData(e,i){const r=this.ri.get(i)||null;return at.resolve(r)}addMatchingKeys(e,i,r){return this.si.$r(i,r),at.resolve()}removeMatchingKeys(e,i,r){this.si.Qr(i,r);const o=this.persistence.referenceDelegate,h=[];return o&&i.forEach((d=>{h.push(o.markPotentiallyOrphaned(e,d))})),at.waitFor(h)}removeMatchingKeysForTargetId(e,i){return this.si.Gr(i),at.resolve()}getMatchingKeysForTargetId(e,i){const r=this.si.jr(i);return at.resolve(r)}containsKey(e,i){return at.resolve(this.si.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e_{constructor(e,i){this._i={},this.overlays={},this.ai=new Tc(0),this.ui=!1,this.ui=!0,this.ci=new pS,this.referenceDelegate=e(this),this.li=new bS(this),this.indexManager=new sS,this.remoteDocumentCache=(function(o){return new vS(o)})((r=>this.referenceDelegate.hi(r))),this.serializer=new nS(i),this.Pi=new mS(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new gS,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let r=this._i[e.toKey()];return r||(r=new yS(i,this.referenceDelegate),this._i[e.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,i,r){bt("MemoryPersistence","Starting transaction:",e);const o=new ES(this.ai.next());return this.referenceDelegate.Ti(),r(o).next((h=>this.referenceDelegate.Ii(o).next((()=>h)))).toPromise().then((h=>(o.raiseOnCommittedEvent(),h)))}Ei(e,i){return at.or(Object.values(this._i).map((r=>()=>r.containsKey(e,i))))}}class ES extends GT{constructor(e){super(),this.currentSequenceNumber=e}}class Od{constructor(e){this.persistence=e,this.Ri=new Vd,this.Ai=null}static Vi(e){return new Od(e)}get di(){if(this.Ai)return this.Ai;throw Mt(60996)}addReference(e,i,r){return this.Ri.addReference(r,i),this.di.delete(r.toString()),at.resolve()}removeReference(e,i,r){return this.Ri.removeReference(r,i),this.di.add(r.toString()),at.resolve()}markPotentiallyOrphaned(e,i){return this.di.add(i.toString()),at.resolve()}removeTarget(e,i){this.Ri.Gr(i.targetId).forEach((o=>this.di.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,i.targetId).next((o=>{o.forEach((h=>this.di.add(h.toString())))})).next((()=>r.removeTargetData(e,i)))}Ti(){this.Ai=new Set}Ii(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return at.forEach(this.di,(r=>{const o=Vt.fromPath(r);return this.mi(e,o).next((h=>{h||i.removeEntry(o,jt.min())}))})).next((()=>(this.Ai=null,i.apply(e))))}updateLimboDocument(e,i){return this.mi(e,i).next((r=>{r?this.di.delete(i.toString()):this.di.add(i.toString())}))}hi(e){return 0}mi(e,i){return at.or([()=>at.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ei(e,i)])}}class yc{constructor(e,i){this.persistence=e,this.fi=new Ua((r=>KT(r.path)),((r,o)=>r.isEqual(o))),this.garbageCollector=cS(this,i)}static Vi(e,i){return new yc(e,i)}Ti(){}Ii(e){return at.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}dr(e){const i=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>i.next((o=>r+o))))}pr(e){let i=0;return this.mr(e,(r=>{i++})).next((()=>i))}mr(e,i){return at.forEach(this.fi,((r,o)=>this.wr(e,r,o).next((h=>h?at.resolve():i(o)))))}removeTargets(e,i,r){return this.persistence.getTargetCache().removeTargets(e,i,r)}removeOrphanedDocuments(e,i){let r=0;const o=this.persistence.getRemoteDocumentCache(),h=o.newChangeBuffer();return o.ni(e,(d=>this.wr(e,d,i).next((p=>{p||(r++,h.removeEntry(d,jt.min()))})))).next((()=>h.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,i){return this.fi.set(i,e.currentSequenceNumber),at.resolve()}removeTarget(e,i){const r=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,i,r){return this.fi.set(r,e.currentSequenceNumber),at.resolve()}removeReference(e,i,r){return this.fi.set(r,e.currentSequenceNumber),at.resolve()}updateLimboDocument(e,i){return this.fi.set(i,e.currentSequenceNumber),at.resolve()}hi(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Wu(e.data.value)),i}wr(e,i,r){return at.or([()=>this.persistence.Ei(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.fi.get(i);return at.resolve(o!==void 0&&o>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Md{constructor(e,i,r,o){this.targetId=e,this.fromCache=i,this.Ts=r,this.Is=o}static Es(e,i){let r=Zt(),o=Zt();for(const h of i.docChanges)switch(h.type){case 0:r=r.add(h.doc.key);break;case 1:o=o.add(h.doc.key)}return new Md(e,i.fromCache,r,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TS{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xS{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return c1()?8:QT(o1())>0?6:4})()}initialize(e,i){this.fs=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,r,o){const h={result:null};return this.gs(e,i).next((d=>{h.result=d})).next((()=>{if(!h.result)return this.ps(e,i,o,r).next((d=>{h.result=d}))})).next((()=>{if(h.result)return;const d=new TS;return this.ys(e,i,d).next((p=>{if(h.result=p,this.As)return this.ws(e,i,d,p.size)}))})).next((()=>h.result))}ws(e,i,r,o){return r.documentReadCount<this.Vs?(Nr()<=ee.DEBUG&&bt("QueryEngine","SDK will not create cache indexes for query:",Vr(i),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),at.resolve()):(Nr()<=ee.DEBUG&&bt("QueryEngine","Query:",Vr(i),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.ds*o?(Nr()<=ee.DEBUG&&bt("QueryEngine","The SDK decides to create cache indexes for query:",Vr(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ui(i))):at.resolve())}gs(e,i){if(l0(i))return at.resolve(null);let r=Ui(i);return this.indexManager.getIndexType(e,r).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=id(i,null,"F"),r=Ui(i)),this.indexManager.getDocumentsMatchingTarget(e,r).next((h=>{const d=Zt(...h);return this.fs.getDocuments(e,d).next((p=>this.indexManager.getMinOffset(e,r).next((g=>{const v=this.bs(i,p);return this.Ss(i,v,d,g.readTime)?this.gs(e,id(i,null,"F")):this.Ds(e,v,i,g)}))))})))))}ps(e,i,r,o){return l0(i)||o.isEqual(jt.min())?at.resolve(null):this.fs.getDocuments(e,r).next((h=>{const d=this.bs(i,h);return this.Ss(i,d,r,o)?at.resolve(null):(Nr()<=ee.DEBUG&&bt("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Vr(i)),this.Ds(e,d,i,qT(o,ho)).next((p=>p)))}))}bs(e,i){let r=new Ke(Nv(e));return i.forEach(((o,h)=>{Rc(e,h)&&(r=r.add(h))})),r}Ss(e,i,r,o){if(e.limit===null)return!1;if(r.size!==i.size)return!0;const h=e.limitType==="F"?i.last():i.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(o)>0)}ys(e,i,r){return Nr()<=ee.DEBUG&&bt("QueryEngine","Using full collection scan to execute query:",Vr(i)),this.fs.getDocumentsMatchingQuery(e,i,ta.min(),r)}Ds(e,i,r,o){return this.fs.getDocumentsMatchingQuery(e,r,o).next((h=>(i.forEach((d=>{h=h.insert(d.key,d)})),h)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jd="LocalStore",SS=3e8;class AS{constructor(e,i,r,o){this.persistence=e,this.Cs=i,this.serializer=o,this.vs=new Re(Xt),this.Fs=new Ua((h=>wd(h)),Cd),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(r)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new dS(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.vs)))}}function wS(a,e,i,r){return new AS(a,e,i,r)}async function n_(a,e){const i=kt(a);return await i.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return i.mutationQueue.getAllMutationBatches(r).next((h=>(o=h,i.Os(e),i.mutationQueue.getAllMutationBatches(r)))).next((h=>{const d=[],p=[];let g=Zt();for(const v of o){d.push(v.batchId);for(const T of v.mutations)g=g.add(T.key)}for(const v of h){p.push(v.batchId);for(const T of v.mutations)g=g.add(T.key)}return i.localDocuments.getDocuments(r,g).next((v=>({Ns:v,removedBatchIds:d,addedBatchIds:p})))}))}))}function CS(a,e){const i=kt(a);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const o=e.batch.keys(),h=i.xs.newChangeBuffer({trackRemovals:!0});return(function(p,g,v,T){const S=v.batch,C=S.keys();let N=at.resolve();return C.forEach((F=>{N=N.next((()=>T.getEntry(g,F))).next((it=>{const B=v.docVersions.get(F);ue(B!==null,48541),it.version.compareTo(B)<0&&(S.applyToRemoteDocument(it,v),it.isValidDocument()&&(it.setReadTime(v.commitVersion),T.addEntry(it)))}))})),N.next((()=>p.mutationQueue.removeMutationBatch(g,S)))})(i,r,e,h).next((()=>h.apply(r))).next((()=>i.mutationQueue.performConsistencyCheck(r))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(p){let g=Zt();for(let v=0;v<p.mutationResults.length;++v)p.mutationResults[v].transformResults.length>0&&(g=g.add(p.batch.mutations[v].key));return g})(e)))).next((()=>i.localDocuments.getDocuments(r,o)))}))}function i_(a){const e=kt(a);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.li.getLastRemoteSnapshotVersion(i)))}function RS(a,e){const i=kt(a),r=e.snapshotVersion;let o=i.vs;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(h=>{const d=i.xs.newChangeBuffer({trackRemovals:!0});o=i.vs;const p=[];e.targetChanges.forEach(((T,S)=>{const C=o.get(S);if(!C)return;p.push(i.li.removeMatchingKeys(h,T.removedDocuments,S).next((()=>i.li.addMatchingKeys(h,T.addedDocuments,S))));let N=C.withSequenceNumber(h.currentSequenceNumber);e.targetMismatches.get(S)!==null?N=N.withResumeToken(cn.EMPTY_BYTE_STRING,jt.min()).withLastLimboFreeSnapshotVersion(jt.min()):T.resumeToken.approximateByteSize()>0&&(N=N.withResumeToken(T.resumeToken,r)),o=o.insert(S,N),(function(it,B,J){return it.resumeToken.approximateByteSize()===0||B.snapshotVersion.toMicroseconds()-it.snapshotVersion.toMicroseconds()>=SS?!0:J.addedDocuments.size+J.modifiedDocuments.size+J.removedDocuments.size>0})(C,N,T)&&p.push(i.li.updateTargetData(h,N))}));let g=ds(),v=Zt();if(e.documentUpdates.forEach((T=>{e.resolvedLimboDocuments.has(T)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(h,T))})),p.push(IS(h,d,e.documentUpdates).next((T=>{g=T.Bs,v=T.Ls}))),!r.isEqual(jt.min())){const T=i.li.getLastRemoteSnapshotVersion(h).next((S=>i.li.setTargetsMetadata(h,h.currentSequenceNumber,r)));p.push(T)}return at.waitFor(p).next((()=>d.apply(h))).next((()=>i.localDocuments.getLocalViewOfDocuments(h,g,v))).next((()=>g))})).then((h=>(i.vs=o,h)))}function IS(a,e,i){let r=Zt(),o=Zt();return i.forEach((h=>r=r.add(h))),e.getEntries(a,r).next((h=>{let d=ds();return i.forEach(((p,g)=>{const v=h.get(p);g.isFoundDocument()!==v.isFoundDocument()&&(o=o.add(p)),g.isNoDocument()&&g.version.isEqual(jt.min())?(e.removeEntry(p,g.readTime),d=d.insert(p,g)):!v.isValidDocument()||g.version.compareTo(v.version)>0||g.version.compareTo(v.version)===0&&v.hasPendingWrites?(e.addEntry(g),d=d.insert(p,g)):bt(jd,"Ignoring outdated watch update for ",p,". Current version:",v.version," Watch version:",g.version)})),{Bs:d,Ls:o}}))}function DS(a,e){const i=kt(a);return i.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=xd),i.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function NS(a,e){const i=kt(a);return i.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return i.li.getTargetData(r,e).next((h=>h?(o=h,at.resolve(o)):i.li.allocateTargetId(r).next((d=>(o=new Ks(e,d,"TargetPurposeListen",r.currentSequenceNumber),i.li.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=i.vs.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.vs=i.vs.insert(r.targetId,r),i.Fs.set(e,r.targetId)),r}))}async function od(a,e,i){const r=kt(a),o=r.vs.get(e),h=i?"readwrite":"readwrite-primary";try{i||await r.persistence.runTransaction("Release target",h,(d=>r.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!Kr(d))throw d;bt(jd,`Failed to update sequence numbers for target ${e}: ${d}`)}r.vs=r.vs.remove(e),r.Fs.delete(o.target)}function b0(a,e,i){const r=kt(a);let o=jt.min(),h=Zt();return r.persistence.runTransaction("Execute query","readwrite",(d=>(function(g,v,T){const S=kt(g),C=S.Fs.get(T);return C!==void 0?at.resolve(S.vs.get(C)):S.li.getTargetData(v,T)})(r,d,Ui(e)).next((p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(d,p.targetId).next((g=>{h=g}))})).next((()=>r.Cs.getDocumentsMatchingQuery(d,e,i?o:jt.min(),i?h:Zt()))).next((p=>(VS(r,px(e),p),{documents:p,ks:h})))))}function VS(a,e,i){let r=a.Ms.get(e)||jt.min();i.forEach(((o,h)=>{h.readTime.compareTo(r)>0&&(r=h.readTime)})),a.Ms.set(e,r)}class E0{constructor(){this.activeTargetIds=Tx()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class OS{constructor(){this.vo=new E0,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,r){}addLocalQueryTarget(e,i=!0){return i&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,i,r){this.Fo[e]=i}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new E0,Promise.resolve()}handleUserChange(e,i,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MS{Mo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T0="ConnectivityMonitor";class x0{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){bt(T0,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){bt(T0,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zu=null;function ud(){return Zu===null?Zu=(function(){return 268435456+Math.round(2147483648*Math.random())})():Zu++,"0x"+Zu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hf="RestConnection",jS={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class LS{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.qo=i+"://"+e.host,this.Uo=`projects/${r}/databases/${o}`,this.$o=this.databaseId.database===hc?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Wo(e,i,r,o,h){const d=ud(),p=this.Qo(e,i.toUriEncodedString());bt(Hf,`Sending RPC '${e}' ${d}:`,p,r);const g={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(g,o,h);const{host:v}=new URL(p),T=vd(v);return this.zo(e,p,g,r,T).then((S=>(bt(Hf,`Received RPC '${e}' ${d}: `,S),S)),(S=>{throw Ur(Hf,`RPC '${e}' ${d} failed with error: `,S,"url: ",p,"request:",r),S}))}jo(e,i,r,o,h,d){return this.Wo(e,i,r,o,h)}Go(e,i,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Qr})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,h)=>e[h]=o)),r&&r.headers.forEach(((o,h)=>e[h]=o))}Qo(e,i){const r=jS[e];let o=`${this.qo}/v1/${i}:${r}`;return this.databaseInfo.apiKey&&(o=`${o}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),o}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kS{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mn="WebChannelConnection",Xl=(a,e,i)=>{a.listen(e,(r=>{try{i(r)}catch(o){setTimeout((()=>{throw o}),0)}}))};class Lr extends LS{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!Lr.c_){const e=uv();Xl(e,ov.STAT_EVENT,(i=>{i.stat===$f.PROXY?bt(mn,"STAT_EVENT: detected buffering proxy"):i.stat===$f.NOPROXY&&bt(mn,"STAT_EVENT: detected no buffering proxy")})),Lr.c_=!0}}zo(e,i,r,o,h){const d=ud();return new Promise(((p,g)=>{const v=new rv;v.setWithCredentials(!0),v.listenOnce(lv.COMPLETE,(()=>{try{switch(v.getLastErrorCode()){case Ju.NO_ERROR:const S=v.getResponseJson();bt(mn,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(S)),p(S);break;case Ju.TIMEOUT:bt(mn,`RPC '${e}' ${d} timed out`),g(new wt(lt.DEADLINE_EXCEEDED,"Request time out"));break;case Ju.HTTP_ERROR:const C=v.getStatus();if(bt(mn,`RPC '${e}' ${d} failed with status:`,C,"response text:",v.getResponseText()),C>0){let N=v.getResponseJson();Array.isArray(N)&&(N=N[0]);const F=N==null?void 0:N.error;if(F&&F.status&&F.message){const it=(function(J){const Z=J.toLowerCase().replace(/_/g,"-");return Object.values(lt).indexOf(Z)>=0?Z:lt.UNKNOWN})(F.status);g(new wt(it,F.message))}else g(new wt(lt.UNKNOWN,"Server responded with status "+v.getStatus()))}else g(new wt(lt.UNAVAILABLE,"Connection failed."));break;default:Mt(9055,{l_:e,streamId:d,h_:v.getLastErrorCode(),P_:v.getLastError()})}}finally{bt(mn,`RPC '${e}' ${d} completed.`)}}));const T=JSON.stringify(o);bt(mn,`RPC '${e}' ${d} sending request:`,o),v.send(i,"POST",T,r,15)}))}T_(e,i,r){const o=ud(),h=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=this.createWebChannelTransport(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Go(p.initMessageHeaders,i,r),p.encodeInitMessageHeaders=!0;const v=h.join("");bt(mn,`Creating RPC '${e}' stream ${o}: ${v}`,p);const T=d.createWebChannel(v,p);this.I_(T);let S=!1,C=!1;const N=new kS({Ho:F=>{C?bt(mn,`Not sending because RPC '${e}' stream ${o} is closed:`,F):(S||(bt(mn,`Opening RPC '${e}' stream ${o} transport.`),T.open(),S=!0),bt(mn,`RPC '${e}' stream ${o} sending:`,F),T.send(F))},Jo:()=>T.close()});return Xl(T,Jl.EventType.OPEN,(()=>{C||(bt(mn,`RPC '${e}' stream ${o} transport opened.`),N.i_())})),Xl(T,Jl.EventType.CLOSE,(()=>{C||(C=!0,bt(mn,`RPC '${e}' stream ${o} transport closed`),N.o_(),this.E_(T))})),Xl(T,Jl.EventType.ERROR,(F=>{C||(C=!0,Ur(mn,`RPC '${e}' stream ${o} transport errored. Name:`,F.name,"Message:",F.message),N.o_(new wt(lt.UNAVAILABLE,"The operation could not be completed")))})),Xl(T,Jl.EventType.MESSAGE,(F=>{var it;if(!C){const B=F.data[0];ue(!!B,16349);const J=B,Z=(J==null?void 0:J.error)||((it=J[0])==null?void 0:it.error);if(Z){bt(mn,`RPC '${e}' stream ${o} received error:`,Z);const G=Z.status;let ct=(function(R){const A=He[R];if(A!==void 0)return Hv(A)})(G),_t=Z.message;ct===void 0&&(ct=lt.INTERNAL,_t="Unknown error status: "+G+" with message "+Z.message),C=!0,N.o_(new wt(ct,_t)),T.close()}else bt(mn,`RPC '${e}' stream ${o} received:`,B),N.__(B)}})),Lr.u_(),setTimeout((()=>{N.s_()}),0),N}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((i=>i===e))}Go(e,i,r){super.Go(e,i,r),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return cv()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zS(a){return new Lr(a)}function Ff(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vc(a){return new Px(a,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Lr.c_=!1;class s_{constructor(e,i,r=1e3,o=1.5,h=6e4){this.Ci=e,this.timerId=i,this.R_=r,this.A_=o,this.V_=h,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const i=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-r);o>0&&bt("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.d_} ms, delay with jitter: ${i} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S0="PersistentStream";class a_{constructor(e,i,r,o,h,d,p,g){this.Ci=e,this.b_=r,this.S_=o,this.connection=h,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new s_(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===lt.RESOURCE_EXHAUSTED?(fs(i.toString()),fs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===lt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(i)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.D_===i&&this.G_(r,o)}),(r=>{e((()=>{const o=new wt(lt.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)}))}))}G_(e,i){const r=this.Q_(this.D_);this.stream=this.j_(e,i),this.stream.Zo((()=>{r((()=>this.listener.Zo()))})),this.stream.Yo((()=>{r((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((o=>{r((()=>this.z_(o)))})),this.stream.onMessage((o=>{r((()=>++this.F_==1?this.H_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return bt(S0,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return i=>{this.Ci.enqueueAndForget((()=>this.D_===e?i():(bt(S0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class US extends a_{constructor(e,i,r,o,h,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,r,o,d),this.serializer=h}j_(e,i){return this.connection.T_("Listen",e,i)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=Gx(this.serializer,e),r=(function(h){if(!("targetChange"in h))return jt.min();const d=h.targetChange;return d.targetIds&&d.targetIds.length?jt.min():d.readTime?Bi(d.readTime):jt.min()})(e);return this.listener.J_(i,r)}Z_(e){const i={};i.database=ld(this.serializer),i.addTarget=(function(h,d){let p;const g=d.target;if(p=nd(g)?{documents:Kx(h,g)}:{query:Xx(h,g).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=Qv(h,d.resumeToken);const v=sd(h,d.expectedCount);v!==null&&(p.expectedCount=v)}else if(d.snapshotVersion.compareTo(jt.min())>0){p.readTime=pc(h,d.snapshotVersion.toTimestamp());const v=sd(h,d.expectedCount);v!==null&&(p.expectedCount=v)}return p})(this.serializer,e);const r=$x(this.serializer,e);r&&(i.labels=r),this.K_(i)}X_(e){const i={};i.database=ld(this.serializer),i.removeTarget=e,this.K_(i)}}class BS extends a_{constructor(e,i,r,o,h,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,r,o,d),this.serializer=h}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}H_(e){return ue(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ue(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){ue(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=Yx(e.writeResults,e.commitTime),r=Bi(e.commitTime);return this.listener.na(r,i)}ra(){const e={};e.database=ld(this.serializer),this.K_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((r=>Qx(this.serializer,r)))};this.K_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qS{}class PS extends qS{constructor(e,i,r,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new wt(lt.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,i,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,d])=>this.connection.Wo(e,ad(i,r),o,h,d))).catch((h=>{throw h.name==="FirebaseError"?(h.code===lt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new wt(lt.UNKNOWN,h.toString())}))}jo(e,i,r,o,h){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.jo(e,ad(i,r),o,d,p,h))).catch((d=>{throw d.name==="FirebaseError"?(d.code===lt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new wt(lt.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function HS(a,e,i,r){return new PS(a,e,i,r)}class FS{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(fs(i),this.aa=!1):bt("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ka="RemoteStore";class GS{constructor(e,i,r,o,h){this.localStore=e,this.datastore=i,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=h,this.Aa.Mo((d=>{r.enqueueAndForget((async()=>{qa(this)&&(bt(ka,"Restarting streams for network reachability change."),await(async function(g){const v=kt(g);v.Ea.add(4),await So(v),v.Va.set("Unknown"),v.Ea.delete(4),await Oc(v)})(this))}))})),this.Va=new FS(r,o)}}async function Oc(a){if(qa(a))for(const e of a.Ra)await e(!0)}async function So(a){for(const e of a.Ra)await e(!1)}function r_(a,e){const i=kt(a);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),Ud(i)?zd(i):Xr(i).O_()&&kd(i,e))}function Ld(a,e){const i=kt(a),r=Xr(i);i.Ia.delete(e),r.O_()&&l_(i,e),i.Ia.size===0&&(r.O_()?r.L_():qa(i)&&i.Va.set("Unknown"))}function kd(a,e){if(a.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(jt.min())>0){const i=a.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Xr(a).Z_(e)}function l_(a,e){a.da.$e(e),Xr(a).X_(e)}function zd(a){a.da=new zx({getRemoteKeysForTarget:e=>a.remoteSyncer.getRemoteKeysForTarget(e),At:e=>a.Ia.get(e)||null,ht:()=>a.datastore.serializer.databaseId}),Xr(a).start(),a.Va.ua()}function Ud(a){return qa(a)&&!Xr(a).x_()&&a.Ia.size>0}function qa(a){return kt(a).Ea.size===0}function o_(a){a.da=void 0}async function QS(a){a.Va.set("Online")}async function YS(a){a.Ia.forEach(((e,i)=>{kd(a,e)}))}async function KS(a,e){o_(a),Ud(a)?(a.Va.ha(e),zd(a)):a.Va.set("Unknown")}async function XS(a,e,i){if(a.Va.set("Online"),e instanceof Gv&&e.state===2&&e.cause)try{await(async function(o,h){const d=h.cause;for(const p of h.targetIds)o.Ia.has(p)&&(await o.remoteSyncer.rejectListen(p,d),o.Ia.delete(p),o.da.removeTarget(p))})(a,e)}catch(r){bt(ka,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await vc(a,r)}else if(e instanceof nc?a.da.Xe(e):e instanceof Fv?a.da.st(e):a.da.tt(e),!i.isEqual(jt.min()))try{const r=await i_(a.localStore);i.compareTo(r)>=0&&await(function(h,d){const p=h.da.Tt(d);return p.targetChanges.forEach(((g,v)=>{if(g.resumeToken.approximateByteSize()>0){const T=h.Ia.get(v);T&&h.Ia.set(v,T.withResumeToken(g.resumeToken,d))}})),p.targetMismatches.forEach(((g,v)=>{const T=h.Ia.get(g);if(!T)return;h.Ia.set(g,T.withResumeToken(cn.EMPTY_BYTE_STRING,T.snapshotVersion)),l_(h,g);const S=new Ks(T.target,g,v,T.sequenceNumber);kd(h,S)})),h.remoteSyncer.applyRemoteEvent(p)})(a,i)}catch(r){bt(ka,"Failed to raise snapshot:",r),await vc(a,r)}}async function vc(a,e,i){if(!Kr(e))throw e;a.Ea.add(1),await So(a),a.Va.set("Offline"),i||(i=()=>i_(a.localStore)),a.asyncQueue.enqueueRetryable((async()=>{bt(ka,"Retrying IndexedDB access"),await i(),a.Ea.delete(1),await Oc(a)}))}function u_(a,e){return e().catch((i=>vc(a,i,e)))}async function Mc(a){const e=kt(a),i=sa(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:xd;for(;ZS(e);)try{const o=await DS(e.localStore,r);if(o===null){e.Ta.length===0&&i.L_();break}r=o.batchId,$S(e,o)}catch(o){await vc(e,o)}c_(e)&&h_(e)}function ZS(a){return qa(a)&&a.Ta.length<10}function $S(a,e){a.Ta.push(e);const i=sa(a);i.O_()&&i.Y_&&i.ea(e.mutations)}function c_(a){return qa(a)&&!sa(a).x_()&&a.Ta.length>0}function h_(a){sa(a).start()}async function JS(a){sa(a).ra()}async function WS(a){const e=sa(a);for(const i of a.Ta)e.ea(i.mutations)}async function t2(a,e,i){const r=a.Ta.shift(),o=Id.from(r,e,i);await u_(a,(()=>a.remoteSyncer.applySuccessfulWrite(o))),await Mc(a)}async function e2(a,e){e&&sa(a).Y_&&await(async function(r,o){if((function(d){return jx(d)&&d!==lt.ABORTED})(o.code)){const h=r.Ta.shift();sa(r).B_(),await u_(r,(()=>r.remoteSyncer.rejectFailedWrite(h.batchId,o))),await Mc(r)}})(a,e),c_(a)&&h_(a)}async function A0(a,e){const i=kt(a);i.asyncQueue.verifyOperationInProgress(),bt(ka,"RemoteStore received new credentials");const r=qa(i);i.Ea.add(3),await So(i),r&&i.Va.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await Oc(i)}async function n2(a,e){const i=kt(a);e?(i.Ea.delete(2),await Oc(i)):e||(i.Ea.add(2),await So(i),i.Va.set("Unknown"))}function Xr(a){return a.ma||(a.ma=(function(i,r,o){const h=kt(i);return h.sa(),new US(r,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,o)})(a.datastore,a.asyncQueue,{Zo:QS.bind(null,a),Yo:YS.bind(null,a),t_:KS.bind(null,a),J_:XS.bind(null,a)}),a.Ra.push((async e=>{e?(a.ma.B_(),Ud(a)?zd(a):a.Va.set("Unknown")):(await a.ma.stop(),o_(a))}))),a.ma}function sa(a){return a.fa||(a.fa=(function(i,r,o){const h=kt(i);return h.sa(),new BS(r,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,o)})(a.datastore,a.asyncQueue,{Zo:()=>Promise.resolve(),Yo:JS.bind(null,a),t_:e2.bind(null,a),ta:WS.bind(null,a),na:t2.bind(null,a)}),a.Ra.push((async e=>{e?(a.fa.B_(),await Mc(a)):(await a.fa.stop(),a.Ta.length>0&&(bt(ka,`Stopping write stream with ${a.Ta.length} pending writes`),a.Ta=[]))}))),a.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bd{constructor(e,i,r,o,h){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=r,this.op=o,this.removalCallback=h,this.deferred=new Js,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,r,o,h){const d=Date.now()+r,p=new Bd(e,i,d,o,h);return p.start(r),p}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new wt(lt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function qd(a,e){if(fs("AsyncQueue",`${e}: ${a}`),Kr(a))return new wt(lt.UNAVAILABLE,`${e}: ${a}`);throw a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr{static emptySet(e){return new kr(e.comparator)}constructor(e){this.comparator=e?(i,r)=>e(i,r)||Vt.comparator(i.key,r.key):(i,r)=>Vt.comparator(i.key,r.key),this.keyedMap=Wl(),this.sortedSet=new Re(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,r)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof kr)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,h=r.getNext().key;if(!o.isEqual(h))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const r=new kr;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=i,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w0{constructor(){this.ga=new Re(Vt.comparator)}track(e){const i=e.doc.key,r=this.ga.get(i);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(i,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(i,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(i):e.type===1&&r.type===2?this.ga=this.ga.insert(i,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):Mt(63341,{Vt:e,pa:r}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,r)=>{e.push(r)})),e}}class Fr{constructor(e,i,r,o,h,d,p,g,v){this.query=e,this.docs=i,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=h,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=g,this.hasCachedResults=v}static fromInitialDocuments(e,i,r,o,h){const d=[];return i.forEach((p=>{d.push({type:0,doc:p})})),new Fr(e,i,kr.emptySet(i),d,r,o,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Cc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,r=e.docChanges;if(i.length!==r.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==r[o].type||!i[o].doc.isEqual(r[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i2{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class s2{constructor(){this.queries=C0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,r){const o=kt(i),h=o.queries;o.queries=C0(),h.forEach(((d,p)=>{for(const g of p.ba)g.onError(r)}))})(this,new wt(lt.ABORTED,"Firestore shutting down"))}}function C0(){return new Ua((a=>Dv(a)),Cc)}async function f_(a,e){const i=kt(a);let r=3;const o=e.query;let h=i.queries.get(o);h?!h.Sa()&&e.Da()&&(r=2):(h=new i2,r=e.Da()?0:1);try{switch(r){case 0:h.wa=await i.onListen(o,!0);break;case 1:h.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const p=qd(d,`Initialization of query '${Vr(e.query)}' failed`);return void e.onError(p)}i.queries.set(o,h),h.ba.push(e),e.va(i.onlineState),h.wa&&e.Fa(h.wa)&&Pd(i)}async function d_(a,e){const i=kt(a),r=e.query;let o=3;const h=i.queries.get(r);if(h){const d=h.ba.indexOf(e);d>=0&&(h.ba.splice(d,1),h.ba.length===0?o=e.Da()?0:1:!h.Sa()&&e.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(r),i.onUnlisten(r,!0);case 1:return i.queries.delete(r),i.onUnlisten(r,!1);case 2:return i.onLastRemoteStoreUnlisten(r);default:return}}function a2(a,e){const i=kt(a);let r=!1;for(const o of e){const h=o.query,d=i.queries.get(h);if(d){for(const p of d.ba)p.Fa(o)&&(r=!0);d.wa=o}}r&&Pd(i)}function r2(a,e,i){const r=kt(a),o=r.queries.get(e);if(o)for(const h of o.ba)h.onError(i);r.queries.delete(e)}function Pd(a){a.Ca.forEach((e=>{e.next()}))}var cd,R0;(R0=cd||(cd={})).Ma="default",R0.Cache="cache";class m_{constructor(e,i,r){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)o.type!==3&&r.push(o);e=new Fr(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const r=i!=="Offline";return(!this.options.Ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=Fr.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==cd.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g_{constructor(e){this.key=e}}class p_{constructor(e){this.key=e}}class l2{constructor(e,i){this.query=e,this.Za=i,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Zt(),this.mutatedKeys=Zt(),this.eu=Nv(e),this.tu=new kr(this.eu)}get nu(){return this.Za}ru(e,i){const r=i?i.iu:new w0,o=i?i.tu:this.tu;let h=i?i.mutatedKeys:this.mutatedKeys,d=o,p=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,v=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((T,S)=>{const C=o.get(T),N=Rc(this.query,S)?S:null,F=!!C&&this.mutatedKeys.has(C.key),it=!!N&&(N.hasLocalMutations||this.mutatedKeys.has(N.key)&&N.hasCommittedMutations);let B=!1;C&&N?C.data.isEqual(N.data)?F!==it&&(r.track({type:3,doc:N}),B=!0):this.su(C,N)||(r.track({type:2,doc:N}),B=!0,(g&&this.eu(N,g)>0||v&&this.eu(N,v)<0)&&(p=!0)):!C&&N?(r.track({type:0,doc:N}),B=!0):C&&!N&&(r.track({type:1,doc:C}),B=!0,(g||v)&&(p=!0)),B&&(N?(d=d.add(N),h=it?h.add(T):h.delete(T)):(d=d.delete(T),h=h.delete(T)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const T=this.query.limitType==="F"?d.last():d.first();d=d.delete(T.key),h=h.delete(T.key),r.track({type:1,doc:T})}return{tu:d,iu:r,Ss:p,mutatedKeys:h}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,r,o){const h=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((T,S)=>(function(N,F){const it=B=>{switch(B){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Mt(20277,{Vt:B})}};return it(N)-it(F)})(T.type,S.type)||this.eu(T.doc,S.doc))),this.ou(r),o=o??!1;const p=i&&!o?this._u():[],g=this.Ya.size===0&&this.current&&!o?1:0,v=g!==this.Xa;return this.Xa=g,d.length!==0||v?{snapshot:new Fr(this.query,e.tu,h,d,e.mutatedKeys,g===0,v,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new w0,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Za=this.Za.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Za=this.Za.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=Zt(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))}));const i=[];return e.forEach((r=>{this.Ya.has(r)||i.push(new p_(r))})),this.Ya.forEach((r=>{e.has(r)||i.push(new g_(r))})),i}cu(e){this.Za=e.ks,this.Ya=Zt();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return Fr.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const Hd="SyncEngine";class o2{constructor(e,i,r){this.query=e,this.targetId=i,this.view=r}}class u2{constructor(e){this.key=e,this.hu=!1}}class c2{constructor(e,i,r,o,h,d){this.localStore=e,this.remoteStore=i,this.eventManager=r,this.sharedClientState=o,this.currentUser=h,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Ua((p=>Dv(p)),Cc),this.Iu=new Map,this.Eu=new Set,this.Ru=new Re(Vt.comparator),this.Au=new Map,this.Vu=new Vd,this.du={},this.mu=new Map,this.fu=Hr.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function h2(a,e,i=!0){const r=T_(a);let o;const h=r.Tu.get(e);return h?(r.sharedClientState.addLocalQueryTarget(h.targetId),o=h.view.lu()):o=await y_(r,e,i,!0),o}async function f2(a,e){const i=T_(a);await y_(i,e,!0,!1)}async function y_(a,e,i,r){const o=await NS(a.localStore,Ui(e)),h=o.targetId,d=a.sharedClientState.addLocalQueryTarget(h,i);let p;return r&&(p=await d2(a,e,h,d==="current",o.resumeToken)),a.isPrimaryClient&&i&&r_(a.remoteStore,o),p}async function d2(a,e,i,r,o){a.pu=(S,C,N)=>(async function(it,B,J,Z){let G=B.view.ru(J);G.Ss&&(G=await b0(it.localStore,B.query,!1).then((({documents:R})=>B.view.ru(R,G))));const ct=Z&&Z.targetChanges.get(B.targetId),_t=Z&&Z.targetMismatches.get(B.targetId)!=null,Ct=B.view.applyChanges(G,it.isPrimaryClient,ct,_t);return D0(it,B.targetId,Ct.au),Ct.snapshot})(a,S,C,N);const h=await b0(a.localStore,e,!0),d=new l2(e,h.ks),p=d.ru(h.documents),g=xo.createSynthesizedTargetChangeForCurrentChange(i,r&&a.onlineState!=="Offline",o),v=d.applyChanges(p,a.isPrimaryClient,g);D0(a,i,v.au);const T=new o2(e,i,d);return a.Tu.set(e,T),a.Iu.has(i)?a.Iu.get(i).push(e):a.Iu.set(i,[e]),v.snapshot}async function m2(a,e,i){const r=kt(a),o=r.Tu.get(e),h=r.Iu.get(o.targetId);if(h.length>1)return r.Iu.set(o.targetId,h.filter((d=>!Cc(d,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await od(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),i&&Ld(r.remoteStore,o.targetId),hd(r,o.targetId)})).catch(Yr)):(hd(r,o.targetId),await od(r.localStore,o.targetId,!0))}async function g2(a,e){const i=kt(a),r=i.Tu.get(e),o=i.Iu.get(r.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(r.targetId),Ld(i.remoteStore,r.targetId))}async function p2(a,e,i){const r=x2(a);try{const o=await(function(d,p){const g=kt(d),v=xe.now(),T=p.reduce(((N,F)=>N.add(F.key)),Zt());let S,C;return g.persistence.runTransaction("Locally write mutations","readwrite",(N=>{let F=ds(),it=Zt();return g.xs.getEntries(N,T).next((B=>{F=B,F.forEach(((J,Z)=>{Z.isValidDocument()||(it=it.add(J))}))})).next((()=>g.localDocuments.getOverlayedDocuments(N,F))).next((B=>{S=B;const J=[];for(const Z of p){const G=Dx(Z,S.get(Z.key).overlayedDocument);G!=null&&J.push(new Ba(Z.key,G,xv(G.value.mapValue),cs.exists(!0)))}return g.mutationQueue.addMutationBatch(N,v,J,p)})).next((B=>{C=B;const J=B.applyToLocalDocumentSet(S,it);return g.documentOverlayCache.saveOverlays(N,B.batchId,J)}))})).then((()=>({batchId:C.batchId,changes:Ov(S)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),(function(d,p,g){let v=d.du[d.currentUser.toKey()];v||(v=new Re(Xt)),v=v.insert(p,g),d.du[d.currentUser.toKey()]=v})(r,o.batchId,i),await Ao(r,o.changes),await Mc(r.remoteStore)}catch(o){const h=qd(o,"Failed to persist write");i.reject(h)}}async function v_(a,e){const i=kt(a);try{const r=await RS(i.localStore,e);e.targetChanges.forEach(((o,h)=>{const d=i.Au.get(h);d&&(ue(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?ue(d.hu,14607):o.removedDocuments.size>0&&(ue(d.hu,42227),d.hu=!1))})),await Ao(i,r,e)}catch(r){await Yr(r)}}function I0(a,e,i){const r=kt(a);if(r.isPrimaryClient&&i===0||!r.isPrimaryClient&&i===1){const o=[];r.Tu.forEach(((h,d)=>{const p=d.view.va(e);p.snapshot&&o.push(p.snapshot)})),(function(d,p){const g=kt(d);g.onlineState=p;let v=!1;g.queries.forEach(((T,S)=>{for(const C of S.ba)C.va(p)&&(v=!0)})),v&&Pd(g)})(r.eventManager,e),o.length&&r.Pu.J_(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function y2(a,e,i){const r=kt(a);r.sharedClientState.updateQueryState(e,"rejected",i);const o=r.Au.get(e),h=o&&o.key;if(h){let d=new Re(Vt.comparator);d=d.insert(h,pn.newNoDocument(h,jt.min()));const p=Zt().add(h),g=new Nc(jt.min(),new Map,new Re(Xt),d,p);await v_(r,g),r.Ru=r.Ru.remove(h),r.Au.delete(e),Fd(r)}else await od(r.localStore,e,!1).then((()=>hd(r,e,i))).catch(Yr)}async function v2(a,e){const i=kt(a),r=e.batch.batchId;try{const o=await CS(i.localStore,e);b_(i,r,null),__(i,r),i.sharedClientState.updateMutationState(r,"acknowledged"),await Ao(i,o)}catch(o){await Yr(o)}}async function _2(a,e,i){const r=kt(a);try{const o=await(function(d,p){const g=kt(d);return g.persistence.runTransaction("Reject batch","readwrite-primary",(v=>{let T;return g.mutationQueue.lookupMutationBatch(v,p).next((S=>(ue(S!==null,37113),T=S.keys(),g.mutationQueue.removeMutationBatch(v,S)))).next((()=>g.mutationQueue.performConsistencyCheck(v))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(v,T,p))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,T))).next((()=>g.localDocuments.getDocuments(v,T)))}))})(r.localStore,e);b_(r,e,i),__(r,e),r.sharedClientState.updateMutationState(e,"rejected",i),await Ao(r,o)}catch(o){await Yr(o)}}function __(a,e){(a.mu.get(e)||[]).forEach((i=>{i.resolve()})),a.mu.delete(e)}function b_(a,e,i){const r=kt(a);let o=r.du[r.currentUser.toKey()];if(o){const h=o.get(e);h&&(i?h.reject(i):h.resolve(),o=o.remove(e)),r.du[r.currentUser.toKey()]=o}}function hd(a,e,i=null){a.sharedClientState.removeLocalQueryTarget(e);for(const r of a.Iu.get(e))a.Tu.delete(r),i&&a.Pu.yu(r,i);a.Iu.delete(e),a.isPrimaryClient&&a.Vu.Gr(e).forEach((r=>{a.Vu.containsKey(r)||E_(a,r)}))}function E_(a,e){a.Eu.delete(e.path.canonicalString());const i=a.Ru.get(e);i!==null&&(Ld(a.remoteStore,i),a.Ru=a.Ru.remove(e),a.Au.delete(i),Fd(a))}function D0(a,e,i){for(const r of i)r instanceof g_?(a.Vu.addReference(r.key,e),b2(a,r)):r instanceof p_?(bt(Hd,"Document no longer in limbo: "+r.key),a.Vu.removeReference(r.key,e),a.Vu.containsKey(r.key)||E_(a,r.key)):Mt(19791,{wu:r})}function b2(a,e){const i=e.key,r=i.path.canonicalString();a.Ru.get(i)||a.Eu.has(r)||(bt(Hd,"New document in limbo: "+i),a.Eu.add(r),Fd(a))}function Fd(a){for(;a.Eu.size>0&&a.Ru.size<a.maxConcurrentLimboResolutions;){const e=a.Eu.values().next().value;a.Eu.delete(e);const i=new Vt(Ce.fromString(e)),r=a.fu.next();a.Au.set(r,new u2(i)),a.Ru=a.Ru.insert(i,r),r_(a.remoteStore,new Ks(Ui(wc(i.path)),r,"TargetPurposeLimboResolution",Tc.ce))}}async function Ao(a,e,i){const r=kt(a),o=[],h=[],d=[];r.Tu.isEmpty()||(r.Tu.forEach(((p,g)=>{d.push(r.pu(g,e,i).then((v=>{var T;if((v||i)&&r.isPrimaryClient){const S=v?!v.fromCache:(T=i==null?void 0:i.targetChanges.get(g.targetId))==null?void 0:T.current;r.sharedClientState.updateQueryState(g.targetId,S?"current":"not-current")}if(v){o.push(v);const S=Md.Es(g.targetId,v);h.push(S)}})))})),await Promise.all(d),r.Pu.J_(o),await(async function(g,v){const T=kt(g);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>at.forEach(v,(C=>at.forEach(C.Ts,(N=>T.persistence.referenceDelegate.addReference(S,C.targetId,N))).next((()=>at.forEach(C.Is,(N=>T.persistence.referenceDelegate.removeReference(S,C.targetId,N)))))))))}catch(S){if(!Kr(S))throw S;bt(jd,"Failed to update sequence numbers: "+S)}for(const S of v){const C=S.targetId;if(!S.fromCache){const N=T.vs.get(C),F=N.snapshotVersion,it=N.withLastLimboFreeSnapshotVersion(F);T.vs=T.vs.insert(C,it)}}})(r.localStore,h))}async function E2(a,e){const i=kt(a);if(!i.currentUser.isEqual(e)){bt(Hd,"User change. New user:",e.toKey());const r=await n_(i.localStore,e);i.currentUser=e,(function(h,d){h.mu.forEach((p=>{p.forEach((g=>{g.reject(new wt(lt.CANCELLED,d))}))})),h.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Ao(i,r.Ns)}}function T2(a,e){const i=kt(a),r=i.Au.get(e);if(r&&r.hu)return Zt().add(r.key);{let o=Zt();const h=i.Iu.get(e);if(!h)return o;for(const d of h){const p=i.Tu.get(d);o=o.unionWith(p.view.nu)}return o}}function T_(a){const e=kt(a);return e.remoteStore.remoteSyncer.applyRemoteEvent=v_.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=T2.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=y2.bind(null,e),e.Pu.J_=a2.bind(null,e.eventManager),e.Pu.yu=r2.bind(null,e.eventManager),e}function x2(a){const e=kt(a);return e.remoteStore.remoteSyncer.applySuccessfulWrite=v2.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=_2.bind(null,e),e}class _c{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Vc(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return wS(this.persistence,new xS,e.initialUser,this.serializer)}Cu(e){return new e_(Od.Vi,this.serializer)}Du(e){return new OS}async terminate(){var e,i;(e=this.gcScheduler)==null||e.stop(),(i=this.indexBackfillerScheduler)==null||i.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}_c.provider={build:()=>new _c};class S2 extends _c{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){ue(this.persistence.referenceDelegate instanceof yc,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new oS(r,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?Dn.withCacheSize(this.cacheSizeBytes):Dn.DEFAULT;return new e_((r=>yc.Vi(r,i)),this.serializer)}}class fd{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>I0(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=E2.bind(null,this.syncEngine),await n2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new s2})()}createDatastore(e){const i=Vc(e.databaseInfo.databaseId),r=zS(e.databaseInfo);return HS(e.authCredentials,e.appCheckCredentials,r,i)}createRemoteStore(e){return(function(r,o,h,d,p){return new GS(r,o,h,d,p)})(this.localStore,this.datastore,e.asyncQueue,(i=>I0(this.syncEngine,i,0)),(function(){return x0.v()?new x0:new MS})())}createSyncEngine(e,i){return(function(o,h,d,p,g,v,T){const S=new c2(o,h,d,p,g,v);return T&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){var e,i;await(async function(o){const h=kt(o);bt(ka,"RemoteStore shutting down."),h.Ea.add(5),await So(h),h.Aa.shutdown(),h.Va.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(i=this.eventManager)==null||i.terminate()}}fd.provider={build:()=>new fd};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x_{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):fs("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aa="FirestoreClient";class A2{constructor(e,i,r,o,h){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=r,this._databaseInfo=o,this.user=gn.UNAUTHENTICATED,this.clientId=Ed.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(r,(async d=>{bt(aa,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(r,(d=>(bt(aa,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Js;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const r=qd(i,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Gf(a,e){a.asyncQueue.verifyOperationInProgress(),bt(aa,"Initializing OfflineComponentProvider");const i=a.configuration;await e.initialize(i);let r=i.initialUser;a.setCredentialChangeListener((async o=>{r.isEqual(o)||(await n_(e.localStore,o),r=o)})),e.persistence.setDatabaseDeletedListener((()=>a.terminate())),a._offlineComponents=e}async function N0(a,e){a.asyncQueue.verifyOperationInProgress();const i=await w2(a);bt(aa,"Initializing OnlineComponentProvider"),await e.initialize(i,a.configuration),a.setCredentialChangeListener((r=>A0(e.remoteStore,r))),a.setAppCheckTokenChangeListener(((r,o)=>A0(e.remoteStore,o))),a._onlineComponents=e}async function w2(a){if(!a._offlineComponents)if(a._uninitializedComponentsProvider){bt(aa,"Using user provided OfflineComponentProvider");try{await Gf(a,a._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(o){return o.name==="FirebaseError"?o.code===lt.FAILED_PRECONDITION||o.code===lt.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;Ur("Error using user provided cache. Falling back to memory cache: "+i),await Gf(a,new _c)}}else bt(aa,"Using default OfflineComponentProvider"),await Gf(a,new S2(void 0));return a._offlineComponents}async function S_(a){return a._onlineComponents||(a._uninitializedComponentsProvider?(bt(aa,"Using user provided OnlineComponentProvider"),await N0(a,a._uninitializedComponentsProvider._online)):(bt(aa,"Using default OnlineComponentProvider"),await N0(a,new fd))),a._onlineComponents}function C2(a){return S_(a).then((e=>e.syncEngine))}async function dd(a){const e=await S_(a),i=e.eventManager;return i.onListen=h2.bind(null,e.syncEngine),i.onUnlisten=m2.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=f2.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=g2.bind(null,e.syncEngine),i}function R2(a,e,i,r){const o=new x_(r),h=new m_(e,o,i);return a.asyncQueue.enqueueAndForget((async()=>f_(await dd(a),h))),()=>{o.Nu(),a.asyncQueue.enqueueAndForget((async()=>d_(await dd(a),h)))}}function I2(a,e,i={}){const r=new Js;return a.asyncQueue.enqueueAndForget((async()=>(function(h,d,p,g,v){const T=new x_({next:C=>{T.Nu(),d.enqueueAndForget((()=>d_(h,S)));const N=C.docs.has(p);!N&&C.fromCache?v.reject(new wt(lt.UNAVAILABLE,"Failed to get document because the client is offline.")):N&&C.fromCache&&g&&g.source==="server"?v.reject(new wt(lt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):v.resolve(C)},error:C=>v.reject(C)}),S=new m_(wc(p.path),T,{includeMetadataChanges:!0,Ka:!0});return f_(h,S)})(await dd(a),a.asyncQueue,e,i,r))),r.promise}function D2(a,e){const i=new Js;return a.asyncQueue.enqueueAndForget((async()=>p2(await C2(a),e,i))),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A_(a){const e={};return a.timeoutSeconds!==void 0&&(e.timeoutSeconds=a.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N2="ComponentProvider",V0=new Map;function V2(a,e,i,r,o){return new $T(a,e,i,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,A_(o.experimentalLongPollingOptions),o.useFetchStreams,o.isUsingEmulator,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w_="firestore.googleapis.com",O0=!0;class M0{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new wt(lt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=w_,this.ssl=O0}else this.host=e.host,this.ssl=e.ssl??O0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=t_;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<rS)throw new wt(lt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}BT("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=A_(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new wt(lt.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new wt(lt.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new wt(lt.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Gd{constructor(e,i,r,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new M0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new wt(lt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new wt(lt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new M0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new IT;switch(r.type){case"firstParty":return new OT(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new wt(lt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const r=V0.get(i);r&&(bt(N2,"Removing Datastore"),V0.delete(i),r.terminate())})(this),Promise.resolve()}}function O2(a,e,i,r={}){var v;a=Ws(a,Gd);const o=vd(e),h=a._getSettings(),d={...h,emulatorOptions:a._getEmulatorOptions()},p=`${e}:${i}`;o&&(i1(`https://${p}`),l1("Firestore",!0)),h.host!==w_&&h.host!==p&&Ur("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...h,host:p,ssl:o,emulatorOptions:r};if(!lc(g,d)&&(a._setSettings(g),r.mockUserToken)){let T,S;if(typeof r.mockUserToken=="string")T=r.mockUserToken,S=gn.MOCK_USER;else{T=s1(r.mockUserToken,(v=a._app)==null?void 0:v.options.projectId);const C=r.mockUserToken.sub||r.mockUserToken.user_id;if(!C)throw new wt(lt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");S=new gn(C)}a._authCredentials=new DT(new fv(T,S))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jc{constructor(e,i,r){this.converter=i,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new jc(this.firestore,e,this._query)}}class Ye{constructor(e,i,r){this.converter=i,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new _o(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ye(this.firestore,e,this._key)}toJSON(){return{type:Ye._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,r){if(Eo(i,Ye._jsonSchema))return new Ye(e,r||null,new Vt(Ce.fromString(i.referencePath)))}}Ye._jsonSchemaVersion="firestore/documentReference/1.0",Ye._jsonSchema={type:Fe("string",Ye._jsonSchemaVersion),referencePath:Fe("string")};class _o extends jc{constructor(e,i,r){super(e,i,wc(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ye(this.firestore,null,new Vt(e))}withConverter(e){return new _o(this.firestore,e,this._path)}}function Qd(a,e,...i){if(a=oo(a),arguments.length===1&&(e=Ed.newId()),UT("doc","path",e),a instanceof Gd){const r=Ce.fromString(e,...i);return Ky(r),new Ye(a,null,new Vt(r))}{if(!(a instanceof Ye||a instanceof _o))throw new wt(lt.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=a._path.child(Ce.fromString(e,...i));return Ky(r),new Ye(a.firestore,a instanceof _o?a.converter:null,new Vt(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j0="AsyncQueue";class L0{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new s_(this,"async_queue_retry"),this._c=()=>{const r=Ff();r&&bt(j0,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const i=Ff();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=Ff();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Js;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!Kr(e))throw e;bt(j0,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,fs("INTERNAL UNHANDLED ERROR: ",k0(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=i,i}enqueueAfterDelay(e,i,r){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const o=Bd.createAndSchedule(this,e,i,r,(h=>this.hc(h)));return this.tc.push(o),o}uc(){this.nc&&Mt(47125,{Pc:k0(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,r)=>i.targetTimeMs-r.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function k0(a){let e=a.message||"";return a.stack&&(e=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),e}class bo extends Gd{constructor(e,i,r,o){super(e,i,r,o),this.type="firestore",this._queue=new L0,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new L0(e),this._firestoreClient=void 0,await e}}}function M2(a,e){const i=typeof a=="object"?a:yT(),r=typeof a=="string"?a:hc,o=fT(i,"firestore").getImmediate({identifier:r});if(!o._initialized){const h=e1("firestore");h&&O2(o,...h)}return o}function Yd(a){if(a._terminated)throw new wt(lt.FAILED_PRECONDITION,"The client has already been terminated.");return a._firestoreClient||j2(a),a._firestoreClient}function j2(a){var r,o,h,d;const e=a._freezeSettings(),i=V2(a._databaseId,((r=a._app)==null?void 0:r.options.appId)||"",a._persistenceKey,(o=a._app)==null?void 0:o.options.apiKey,e);a._componentsProvider||(h=e.localCache)!=null&&h._offlineComponentProvider&&((d=e.localCache)!=null&&d._onlineComponentProvider)&&(a._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),a._firestoreClient=new A2(a._authCredentials,a._appCheckCredentials,a._queue,i,a._componentsProvider&&(function(g){const v=g==null?void 0:g._online.build();return{_offline:g==null?void 0:g._offline.build(v),_online:v}})(a._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ni{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ni(cn.fromBase64String(e))}catch(i){throw new wt(lt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new ni(cn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ni._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Eo(e,ni._jsonSchema))return ni.fromBase64String(e.bytes)}}ni._jsonSchemaVersion="firestore/bytes/1.0",ni._jsonSchema={type:Fe("string",ni._jsonSchemaVersion),bytes:Fe("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C_{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new wt(lt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new un(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kd{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new wt(lt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new wt(lt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Xt(this._lat,e._lat)||Xt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:qi._jsonSchemaVersion}}static fromJSON(e){if(Eo(e,qi._jsonSchema))return new qi(e.latitude,e.longitude)}}qi._jsonSchemaVersion="firestore/geoPoint/1.0",qi._jsonSchema={type:Fe("string",qi._jsonSchemaVersion),latitude:Fe("number"),longitude:Fe("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gi{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,o){if(r.length!==o.length)return!1;for(let h=0;h<r.length;++h)if(r[h]!==o[h])return!1;return!0})(this._values,e._values)}toJSON(){return{type:gi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Eo(e,gi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new gi(e.vectorValues);throw new wt(lt.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}gi._jsonSchemaVersion="firestore/vectorValue/1.0",gi._jsonSchema={type:Fe("string",gi._jsonSchemaVersion),vectorValues:Fe("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L2=/^__.*__$/;class k2{constructor(e,i,r){this.data=e,this.fieldMask=i,this.fieldTransforms=r}toMutation(e,i){return this.fieldMask!==null?new Ba(e,this.data,this.fieldMask,i,this.fieldTransforms):new To(e,this.data,i,this.fieldTransforms)}}function R_(a){switch(a){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Mt(40011,{dataSource:a})}}class Xd{constructor(e,i,r,o,h,d){this.settings=e,this.databaseId=i,this.serializer=r,this.ignoreUndefinedProperties=o,h===void 0&&this.validatePath(),this.fieldTransforms=h||[],this.fieldMask=d||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new Xd({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){var o;const i=(o=this.path)==null?void 0:o.child(e),r=this.contextWith({path:i,arrayElement:!1});return r.validatePathSegment(e),r}childContextForFieldPath(e){var o;const i=(o=this.path)==null?void 0:o.child(e),r=this.contextWith({path:i,arrayElement:!1});return r.validatePath(),r}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return bc(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(R_(this.dataSource)&&L2.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class z2{constructor(e,i,r){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=r||Vc(e)}createContext(e,i,r,o=!1){return new Xd({dataSource:e,methodName:i,targetDoc:r,path:un.emptyPath(),arrayElement:!1,hasConverter:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function U2(a){const e=a._freezeSettings(),i=Vc(a._databaseId);return new z2(a._databaseId,!!e.ignoreUndefinedProperties,i)}function B2(a,e,i,r,o,h={}){const d=a.createContext(h.merge||h.mergeFields?2:0,e,i,o);V_("Data must be an object, but it was:",d,r);const p=D_(r,d);let g,v;if(h.merge)g=new mi(d.fieldMask),v=d.fieldTransforms;else if(h.mergeFields){const T=[];for(const S of h.mergeFields){const C=$d(e,S,i);if(!d.contains(C))throw new wt(lt.INVALID_ARGUMENT,`Field '${C}' is specified in your field mask but missing from your input data.`);H2(T,C)||T.push(C)}g=new mi(T),v=d.fieldTransforms.filter((S=>g.covers(S.field)))}else g=null,v=d.fieldTransforms;return new k2(new ei(p),g,v)}class Zd extends Kd{_toFieldTransform(e){return new wx(e.path,new po)}isEqual(e){return e instanceof Zd}}function I_(a,e){if(N_(a=oo(a)))return V_("Unsupported field value:",e,a),D_(a,e);if(a instanceof Kd)return(function(r,o){if(!R_(o.dataSource))throw o.createError(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.createError(`${r._methodName}() is not currently supported inside arrays`);const h=r._toFieldTransform(o);h&&o.fieldTransforms.push(h)})(a,e),null;if(a===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),a instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(r,o){const h=[];let d=0;for(const p of r){let g=I_(p,o.childContextForArray(d));g==null&&(g={nullValue:"NULL_VALUE"}),h.push(g),d++}return{arrayValue:{values:h}}})(a,e)}return(function(r,o){if((r=oo(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return xx(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const h=xe.fromDate(r);return{timestampValue:pc(o.serializer,h)}}if(r instanceof xe){const h=new xe(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:pc(o.serializer,h)}}if(r instanceof qi)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ni)return{bytesValue:Qv(o.serializer,r._byteString)};if(r instanceof Ye){const h=o.databaseId,d=r.firestore._databaseId;if(!d.isEqual(h))throw o.createError(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:Nd(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof gi)return(function(d,p){const g=d instanceof gi?d.toArray():d;return{mapValue:{fields:{[Ev]:{stringValue:Tv},[fc]:{arrayValue:{values:g.map((T=>{if(typeof T!="number")throw p.createError("VectorValues must only contain numeric values.");return Rd(p.serializer,T)}))}}}}}})(r,o);if(Wv(r))return r._toProto(o.serializer);throw o.createError(`Unsupported field value: ${Td(r)}`)})(a,e)}function D_(a,e){const i={};return gv(a)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):za(a,((r,o)=>{const h=I_(o,e.childContextForField(r));h!=null&&(i[r]=h)})),{mapValue:{fields:i}}}function N_(a){return!(typeof a!="object"||a===null||a instanceof Array||a instanceof Date||a instanceof xe||a instanceof qi||a instanceof ni||a instanceof Ye||a instanceof Kd||a instanceof gi||Wv(a))}function V_(a,e,i){if(!N_(i)||!dv(i)){const r=Td(i);throw r==="an object"?e.createError(a+" a custom object"):e.createError(a+" "+r)}}function $d(a,e,i){if((e=oo(e))instanceof C_)return e._internalPath;if(typeof e=="string")return P2(a,e);throw bc("Field path arguments must be of type string or ",a,!1,void 0,i)}const q2=new RegExp("[~\\*/\\[\\]]");function P2(a,e,i){if(e.search(q2)>=0)throw bc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,a,!1,void 0,i);try{return new C_(...e.split("."))._internalPath}catch{throw bc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,a,!1,void 0,i)}}function bc(a,e,i,r,o){const h=r&&!r.isEmpty(),d=o!==void 0;let p=`Function ${e}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let g="";return(h||d)&&(g+=" (found",h&&(g+=` in field ${r}`),d&&(g+=` in document ${o}`),g+=")"),new wt(lt.INVALID_ARGUMENT,p+a+g)}function H2(a,e){return a.some((i=>i.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F2{convertValue(e,i="none"){switch(ia(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Me(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(na(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw Mt(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const r={};return za(e,((o,h)=>{r[o]=this.convertValue(h,i)})),r}convertVectorValue(e){var r,o,h;const i=(h=(o=(r=e.fields)==null?void 0:r[fc].arrayValue)==null?void 0:o.values)==null?void 0:h.map((d=>Me(d.doubleValue)));return new gi(i)}convertGeoPoint(e){return new qi(Me(e.latitude),Me(e.longitude))}convertArray(e,i){return(e.values||[]).map((r=>this.convertValue(r,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const r=Sc(e);return r==null?null:this.convertValue(r,i);case"estimate":return this.convertTimestamp(fo(e));default:return null}}convertTimestamp(e){const i=ea(e);return new xe(i.seconds,i.nanos)}convertDocumentKey(e,i){const r=Ce.fromString(e);ue(Jv(r),9688,{name:e});const o=new mo(r.get(1),r.get(3)),h=new Vt(r.popFirst(5));return o.isEqual(i)||fs(`Document ${h} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),h}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O_ extends F2{constructor(e){super(),this.firestore=e}convertBytes(e){return new ni(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new Ye(this.firestore,null,i)}}function G2(){return new Zd("serverTimestamp")}const z0="@firebase/firestore",U0="4.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B0(a){return(function(i,r){if(typeof i!="object"||i===null)return!1;const o=i;for(const h of r)if(h in o&&typeof o[h]=="function")return!0;return!1})(a,["next","error","complete"])}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M_{constructor(e,i,r,o,h){this._firestore=e,this._userDataWriter=i,this._key=r,this._document=o,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new Ye(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Q2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){var e;return((e=this._document)==null?void 0:e.data.clone().value.mapValue.fields)??void 0}get(e){if(this._document){const i=this._document.data.field($d("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class Q2 extends M_{data(){return super.data()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y2(a){if(a.limitType==="L"&&a.explicitOrderBy.length===0)throw new wt(lt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}function K2(a,e,i){let r;return r=a?i&&(i.merge||i.mergeFields)?a.toFirestore(e,i):a.toFirestore(e):e,r}class eo{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ja extends M_{constructor(e,i,r,o,h,d){super(e,i,r,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=h}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new ic(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const r=this._document.data.field($d("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new wt(lt.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=ja._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}ja._jsonSchemaVersion="firestore/documentSnapshot/1.0",ja._jsonSchema={type:Fe("string",ja._jsonSchemaVersion),bundleSource:Fe("string","DocumentSnapshot"),bundleName:Fe("string"),bundle:Fe("string")};class ic extends ja{data(e={}){return super.data(e)}}class zr{constructor(e,i,r,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new eo(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((r=>{e.call(i,new ic(this._firestore,this._userDataWriter,r.key,r,new eo(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new wt(lt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,h){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((p=>{const g=new ic(o._firestore,o._userDataWriter,p.doc.key,p.doc,new eo(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);return p.doc,{type:"added",doc:g,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((p=>h||p.type!==3)).map((p=>{const g=new ic(o._firestore,o._userDataWriter,p.doc.key,p.doc,new eo(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let v=-1,T=-1;return p.type!==0&&(v=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),T=d.indexOf(p.doc.key)),{type:X2(p.type),doc:g,oldIndex:v,newIndex:T}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new wt(lt.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=zr._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Ed.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],r=[],o=[];return this.docs.forEach((h=>{h._document!==null&&(i.push(h._document),r.push(this._userDataWriter.convertObjectMap(h._document.data.value.mapValue.fields,"previous")),o.push(h.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function X2(a){switch(a){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Mt(61501,{type:a})}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */zr._jsonSchemaVersion="firestore/querySnapshot/1.0",zr._jsonSchema={type:Fe("string",zr._jsonSchemaVersion),bundleSource:Fe("string","QuerySnapshot"),bundleName:Fe("string"),bundle:Fe("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z2(a){a=Ws(a,Ye);const e=Ws(a.firestore,bo),i=Yd(e);return I2(i,a._key).then((r=>j_(e,a,r)))}function $2(a,e,i){a=Ws(a,Ye);const r=Ws(a.firestore,bo),o=K2(a.converter,e,i),h=U2(r);return W2(r,[B2(h,"setDoc",a._key,o,a.converter!==null,i).toMutation(a._key,cs.none())])}function J2(a,...e){var v,T,S;a=oo(a);let i={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||B0(e[r])||(i=e[r++]);const o={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(B0(e[r])){const C=e[r];e[r]=(v=C.next)==null?void 0:v.bind(C),e[r+1]=(T=C.error)==null?void 0:T.bind(C),e[r+2]=(S=C.complete)==null?void 0:S.bind(C)}let h,d,p;if(a instanceof Ye)d=Ws(a.firestore,bo),p=wc(a._key.path),h={next:C=>{e[r]&&e[r](j_(d,a,C))},error:e[r+1],complete:e[r+2]};else{const C=Ws(a,jc);d=Ws(C.firestore,bo),p=C._query;const N=new O_(d);h={next:F=>{e[r]&&e[r](new zr(d,N,C,F))},error:e[r+1],complete:e[r+2]},Y2(a._query)}const g=Yd(d);return R2(g,p,o,h)}function W2(a,e){const i=Yd(a);return D2(i,e)}function j_(a,e,i){const r=i.docs.get(e._key),o=new O_(a);return new ja(a,o,e._key,r,new eo(i.hasPendingWrites,i.fromCache),e.converter)}(function(e,i=!0){RT(pT),uc(new uo("firestore",((r,{instanceIdentifier:o,options:h})=>{const d=r.getProvider("app").getImmediate(),p=new bo(new NT(r.getProvider("auth-internal")),new MT(d,r.getProvider("app-check-internal")),JT(d,o),d);return h={useFetchStreams:i,...h},p._setSettings(h),p}),"PUBLIC").setMultipleInstances(!0)),jr(z0,U0,e),jr(z0,U0,"esm2020")})();var tA="firebase",eA="12.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */jr(tA,eA,"app");const nA={apiKey:"AIzaSyAZBf9fUWZoXnYJyBvBGEvpiu7DbHkG5Iw",authDomain:"crm-ver2.firebaseapp.com",projectId:"crm-ver2",storageBucket:"crm-ver2.firebasestorage.app",messagingSenderId:"993359540287",appId:"1:993359540287:web:5469df3e5d22c4b480088a"},iA=nv(nA),Jd=M2(iA),Wd="default",tm="workspaces";function sA(a){return{...a,tabs:a.tabs.map(e=>{const i={...e};return i.inboxSection===void 0&&delete i.inboxSection,i})}}async function aA(){try{const a=Qd(Jd,tm,Wd),e=await Z2(a);if(e.exists()){const i=e.data();return{tabs:i.tabs||[],activeTabId:i.activeTabId||"",bookmarks:i.bookmarks||[]}}return null}catch(a){throw console.error("Error fetching workspace data:",a),a}}async function q0(a){try{const e=Qd(Jd,tm,Wd),i=sA(a);await $2(e,{...i,updatedAt:G2()},{merge:!0})}catch(e){throw console.error("Error saving workspace data:",e),e}}function rA(a,e){const i=Qd(Jd,tm,Wd);return J2(i,r=>{if(r.exists()){const o=r.data();a({tabs:o.tabs||[],activeTabId:o.activeTabId||"",bookmarks:o.bookmarks||[]})}},r=>{console.error("Firestore snapshot error:",r),e(r)})}function lA(a){const[e,i]=rt.useState(null),[r,o]=rt.useState(!0),[h,d]=rt.useState(null),p=rt.useRef(!1),g=rt.useRef(null);rt.useEffect(()=>{let T=null;async function S(){try{const C=await aA();C&&C.tabs.length>0?i(C):(await q0(a),i(a)),T=rA(N=>{p.current=!0,i(N),setTimeout(()=>{p.current=!1},0)},N=>{d(N)}),o(!1)}catch(C){d(C),o(!1)}}return S(),()=>{T&&T(),g.current&&clearTimeout(g.current)}},[]);const v=rt.useCallback(async T=>{p.current||(i(T),g.current&&clearTimeout(g.current),g.current=setTimeout(async()=>{try{await q0(T)}catch(S){d(S),console.error("Failed to save to Firestore:",S)}},300))},[]);return{data:e,loading:r,error:h,updateData:v}}function oA(a){const e=rt.useRef(null),i=rt.useRef({x:0,y:0,time:0});return rt.useEffect(()=>{const r=e.current;if(!r)return;const o=d=>{i.current={x:d.touches[0].clientX,y:d.touches[0].clientY,time:Date.now()}},h=d=>{const{x:p,y:g,time:v}=i.current,T=d.changedTouches[0].clientX,S=d.changedTouches[0].clientY,C=Date.now(),N=T-p,F=S-g,it=C-v,B=a.minSwipeDistance??50,J=a.minSwipeVelocity??.3,Z=a.maxVerticalMovement??80,G=Math.abs(N)>Math.abs(F),ct=Math.abs(N)>B,_t=Math.abs(F)<Z,R=Math.abs(N)/it>J;G&&ct&&_t&&R&&(N<0&&a.onSwipeLeft?a.onSwipeLeft():N>0&&a.onSwipeRight&&a.onSwipeRight())};return r.addEventListener("touchstart",o,{passive:!0}),r.addEventListener("touchend",h,{passive:!0}),()=>{r.removeEventListener("touchstart",o),r.removeEventListener("touchend",h)}},[a]),e}const uA="https://www.googleapis.com/auth/calendar.events https://www.googleapis.com/auth/calendar",P0="1",md="google_access_token",gd="google_token_version",em="google_token_expires_at",cA=300*1e3,H0=()=>{const a=localStorage.getItem(em);if(!a)return!1;const e=parseInt(a);return Date.now()<e-cA},Zl=()=>{localStorage.removeItem(md),localStorage.removeItem(gd),localStorage.removeItem(em)},hA=()=>{const[a,e]=rt.useState(!1),[i,r]=rt.useState(null);rt.useEffect(()=>{const p=localStorage.getItem(md),g=localStorage.getItem(gd);p&&g===P0&&H0()?(r(p),e(!0)):Zl()},[]);const o=CE({scope:uA,onSuccess:p=>{r(p.access_token),e(!0),localStorage.setItem(md,p.access_token),localStorage.setItem(gd,P0);const g=p.expires_in||3600,v=Date.now()+g*1e3;localStorage.setItem(em,v.toString())},onError:()=>{console.error("Google  ")}});return{isAuthorized:a,login:o,logout:()=>{Zl(),r(null),e(!1)},createCalendarEvent:async p=>{var T,S,C;if(!i)throw new Error("Google  ");if(!H0())throw Zl(),r(null),e(!1),new Error(" .  .");const g={summary:p.summary,description:p.description||""};p.isAllDay?(g.start={date:p.start},g.end={date:p.end}):(g.start={dateTime:p.start,timeZone:"Asia/Seoul"},g.end={dateTime:p.end,timeZone:"Asia/Seoul"});const v=await fetch("https://www.googleapis.com/calendar/v3/calendars/primary/events",{method:"POST",headers:{Authorization:`Bearer ${i}`,"Content-Type":"application/json"},body:JSON.stringify(g)});if(!v.ok){const N=await v.json();throw v.status===401?(Zl(),r(null),e(!1),new Error(" .  .")):(S=(T=N.error)==null?void 0:T.message)!=null&&S.includes("insufficient authentication scopes")?(Zl(),r(null),e(!1),new Error(" .  .")):new Error(`   : ${((C=N.error)==null?void 0:C.message)||"   "}`)}return await v.json()}}},fA=a=>{if(!a||a.trim()===""||!(a.includes("")||a.includes(" ")||a.includes("millie.page.link")))return a;const i=a.indexOf(" - ");return i===-1?a:a.substring(0,i).trim()},F0=/(https?:\/\/[^\s]+)|(www\.[^\s]+)/gi,G0=/010[-\s]?\d{4}[-\s]?\d{4}/g,dA=a=>{if(!a||typeof a!="string")return[a];const e=[];let i;for(F0.lastIndex=0;(i=F0.exec(a))!==null;)e.push({type:"url",content:i[0],index:i.index,length:i[0].length});for(G0.lastIndex=0;(i=G0.exec(a))!==null;)e.some(p=>i.index>=p.index&&i.index<p.index+p.length||i.index+i[0].length>p.index&&i.index+i[0].length<=p.index+p.length)||e.push({type:"phone",content:i[0],index:i.index,length:i[0].length});e.sort((d,p)=>d.index-p.index);const r=[];let o=0,h=0;return e.forEach(d=>{if(d.index>o&&r.push(a.substring(o,d.index)),d.type==="url"){const p=d.content.startsWith("www.")?`https://${d.content}`:d.content;r.push(b.jsx("a",{href:p,target:"_blank",rel:"noopener noreferrer",onClick:g=>g.stopPropagation(),className:"text-blue-500 underline hover:text-blue-600 transition-colors",children:d.content},`url-${h++}`))}else if(d.type==="phone"){const p=d.content.replace(/[-\s]/g,"");r.push(b.jsx("a",{href:`sms:${p}`,onClick:g=>g.stopPropagation(),className:"text-green-600 underline hover:text-green-700 transition-colors",children:d.content},`phone-${h++}`))}o=d.index+d.length}),o<a.length&&r.push(a.substring(o)),r.length>0?r:[a]},mA=({text:a,className:e=""})=>{const i=dA(a);return b.jsx("span",{className:e,children:i})},gA=[{id:"b1",label:"",url:"",color:"bg-[#B89F1F]"},{id:"b2",label:"",url:"",color:"bg-[#B89F1F]"},{id:"b3",label:"",url:"",color:"bg-[#B89F1F]"},{id:"b4",label:"",url:"",color:"bg-[#B89F1F]"},{id:"b5",label:"",url:"",color:"bg-[#0F5A9F]"},{id:"b6",label:"24",url:"",color:"bg-[#0F5A9F]"},{id:"b7",label:"",url:"",color:"bg-[#0F5A9F]"},{id:"b8",label:"",url:"",color:"bg-[#0F5A9F]"},{id:"b9",label:"",url:"",color:"bg-[#724C8F]"},{id:"b10",label:"",url:"",color:"bg-[#724C8F]"},{id:"b11",label:"",url:"",color:"bg-[#724C8F]"},{id:"b12",label:"()",url:"",color:"bg-[#724C8F]"},{id:"b13",label:"",url:"",color:"bg-[#369D47]"},{id:"b14",label:"AI",url:"",color:"bg-[#369D47]"},{id:"b15",label:"",url:"",color:"bg-[#369D47]"}],pA=()=>{var bn,Le;const a=rt.useMemo(()=>{const L=Math.random().toString(36).substr(2,9),Q=Math.random().toString(36).substr(2,9),et=Math.random().toString(36).substr(2,9);return{tabs:[{id:L,name:"",sections:[],memos:{},sideNotes:[],parkingInfo:{text:"",checklistItems:[],shoppingListItems:[],checklistMemos:{},shoppingListMemos:{}},inboxSection:{id:Q,title:"IN-BOX",items:[],color:"slate",isLocked:!1},quotesSection:{id:et,title:"",items:[],color:"slate",isLocked:!1},isLocked:!1,headerGoals:{goal1:"",goal2:""}}],activeTabId:L,bookmarks:gA}},[]),{data:e,loading:i,error:r,updateData:o}=lA(a),[h,d]=rt.useState(""),p=()=>{d("")},g=rt.useMemo(()=>e?{...e,tabs:e.tabs.map((L,Q)=>({...L,inboxSection:Q===0?L.inboxSection||{id:Math.random().toString(36).substr(2,9),title:"IN-BOX",items:[],color:"slate",isLocked:!1}:void 0,quotesSection:L.quotesSection||{id:Math.random().toString(36).substr(2,9),title:"",items:[],color:"slate",isLocked:!1},headerGoals:L.headerGoals||{goal1:"",goal2:""}}))}:a,[e,a]),[v,T]=rt.useState(navigator.onLine);rt.useEffect(()=>{const L=()=>{T(!0),console.log("[App] Network restored - Firestore will auto-sync")},Q=()=>{T(!1),console.log("[App] Network lost - app is now offline")};return window.addEventListener("online",L),window.addEventListener("offline",Q),()=>{window.removeEventListener("online",L),window.removeEventListener("offline",Q)}},[]),rt.useEffect(()=>{const L=new URLSearchParams(window.location.search),Q=L.get("shared")==="true",et=L.get("text");if(Q&&et){console.log("[App] Web Share Target - URL  :",et.substring(0,50)+"...");const xt=fA(et);console.log("[App] Web Share Target -  :",xt.substring(0,50)+"..."),d(xt),window.history.replaceState({},"",window.location.pathname),console.log("[App] Web Share Target - URL   ")}},[]),rt.useEffect(()=>{var Q,et;if(!h||i||!((et=(Q=g==null?void 0:g.tabs)==null?void 0:Q[0])!=null&&et.inboxSection))return;const L=g.tabs[0];o({...g,activeTabId:L.id}),setTimeout(()=>{const xt=document.querySelector('[data-section-id="'+L.inboxSection.id+'"]');xt&&(xt.scrollIntoView({behavior:"smooth",block:"start"}),xt.classList.add("ring-2","ring-yellow-400","ring-opacity-50"),setTimeout(()=>{xt.classList.remove("ring-2","ring-yellow-400","ring-opacity-50")},3e3))},300)},[h,i,g,o]);const[S,C]=rt.useState({draggedItemId:null,dragOverItemId:null,sourceSectionId:null,draggedSectionId:null,dragOverSectionId:null}),[N,F]=rt.useState(()=>window.matchMedia("(max-width: 1024px) and (orientation: portrait)").matches);rt.useEffect(()=>{const L=window.matchMedia("(max-width: 1024px) and (orientation: portrait)"),Q=et=>F(et.matches);return L.addEventListener("change",Q),()=>L.removeEventListener("change",Q)},[]);const[it,B]=rt.useState({isOpen:!1,itemId:null,itemText:"",sourceTabId:"",sourceSectionId:""}),[J,Z]=rt.useState({isOpen:!1,title:"",message:"",onConfirm:()=>{}}),[G,ct]=rt.useState({id:null,value:"",type:"section",isEditing:!1}),_t=rt.useRef(null),[Ct,R]=rt.useState(!1),[A,I]=rt.useState(null),[j,V]=rt.useState(null);rt.useEffect(()=>{if(G.isEditing&&_t.current){const L=G.value.length;_t.current.focus(),_t.current.setSelectionRange(L,L)}},[G.isEditing]);const k=hA(),[w,zt]=rt.useState({isOpen:!1,itemText:""}),Tt=rt.useMemo(()=>g.tabs.find(Q=>Q.id===g.activeTabId)||g.tabs[0],[g.tabs,g.activeTabId]),$=rt.useMemo(()=>g.tabs.findIndex(L=>L.id===g.activeTabId),[g.tabs,g.activeTabId]),ft=L=>{o({...g,bookmarks:L})},At=()=>{const L=Math.random().toString(36).substr(2,9),Q=Math.random().toString(36).substr(2,9),et={id:L,name:`  ${g.tabs.length+1}`,sections:[],memos:{},sideNotes:[],parkingInfo:{text:"",checklistItems:[],shoppingListItems:[],checklistMemos:{},shoppingListMemos:{}},quotesSection:{id:Q,title:"",items:[],color:"slate",isLocked:!1},isLocked:!1,headerGoals:{goal1:"",goal2:""}};o({...g,tabs:[...g.tabs,et],activeTabId:L})},Ft=(L,Q)=>{o({...g,tabs:g.tabs.map(et=>et.id===L?{...et,name:Q}:et)})},$t=L=>{o({...g,tabs:g.tabs.map(Q=>Q.id===L?{...Q,isLocked:!Q.isLocked}:Q)})},O=(L,Q)=>{const et=[...g.tabs],[xt]=et.splice(L,1);et.splice(Q,0,xt),o({...g,tabs:et})},tt=(L,Q)=>{var Ut;let et=Tt.sections.find(gt=>gt.id===Q);!et&&((Ut=Tt.inboxSection)==null?void 0:Ut.id)===Q&&(et=Tt.inboxSection);const xt=et==null?void 0:et.items.find(gt=>gt.id===L);!xt||!et||B({isOpen:!0,itemId:xt.id,itemText:xt.text,sourceTabId:g.activeTabId,sourceSectionId:et.id})},mt=(L,Q)=>{var Bn,ai;const{itemId:et,sourceTabId:xt,sourceSectionId:Ut}=it;if(!et)return;if(xt===L&&Ut===Q){B(pt=>({...pt,isOpen:!1}));return}const gt=g.tabs.find(pt=>pt.id===xt);if(!gt)return;let Nt=gt.sections.find(pt=>pt.id===Ut);!Nt&&((Bn=gt.inboxSection)==null?void 0:Bn.id)===Ut&&(Nt=gt.inboxSection);const Bt=Nt==null?void 0:Nt.items.find(pt=>pt.id===et);if(!Bt||!Nt)return;const $e=g.tabs.find(pt=>pt.id===L);if(!$e)return;let Se=$e.sections.find(pt=>pt.id===Q);if(!Se&&((ai=$e.inboxSection)==null?void 0:ai.id)===Q&&(Se=$e.inboxSection),!Se)return;const fn=gt.memos[et];o({...g,tabs:g.tabs.map(pt=>{var qn,Fa,_i,gs,ps,bi,Pn,oa,En,Tn;if(xt===L&&pt.id===xt){let ae=pt.sections,he=pt.inboxSection;return Nt.id!==((qn=pt.inboxSection)==null?void 0:qn.id)&&Se.id!==((Fa=pt.inboxSection)==null?void 0:Fa.id)?ae=pt.sections.map(ne=>ne.id===Ut?{...ne,items:ne.items.filter(en=>en.id!==et)}:ne.id===Q?{...ne,items:[...ne.items,Bt]}:ne):Nt.id!==((_i=pt.inboxSection)==null?void 0:_i.id)&&Se.id===((gs=pt.inboxSection)==null?void 0:gs.id)?(ae=pt.sections.map(ne=>ne.id===Ut?{...ne,items:ne.items.filter(en=>en.id!==et)}:ne),he={...pt.inboxSection,items:[...pt.inboxSection.items,Bt]}):Nt.id===((ps=pt.inboxSection)==null?void 0:ps.id)&&Se.id!==((bi=pt.inboxSection)==null?void 0:bi.id)?(ae=pt.sections.map(ne=>ne.id===Q?{...ne,items:[...ne.items,Bt]}:ne),he={...pt.inboxSection,items:pt.inboxSection.items.filter(ne=>ne.id!==et)}):Nt.id===((Pn=pt.inboxSection)==null?void 0:Pn.id)&&Se.id===((oa=pt.inboxSection)==null?void 0:oa.id)&&(he=pt.inboxSection),{...pt,sections:ae,inboxSection:he}}else if(xt!==L&&pt.id===xt){let ae=pt.sections,he=pt.inboxSection;Nt.id!==((En=pt.inboxSection)==null?void 0:En.id)?ae=pt.sections.map(Ei=>Ei.id===Ut?{...Ei,items:Ei.items.filter(Ga=>Ga.id!==et)}:Ei):he={...pt.inboxSection,items:pt.inboxSection.items.filter(Ei=>Ei.id!==et)};const{[et]:ne,...en}=pt.memos;return{...pt,sections:ae,inboxSection:he,memos:en}}else if(xt!==L&&pt.id===L){let ae=pt.sections,he=pt.inboxSection;Se.id!==((Tn=pt.inboxSection)==null?void 0:Tn.id)?ae=pt.sections.map(en=>en.id===Q?{...en,items:[...en.items,Bt]}:en):he={...pt.inboxSection,items:[...pt.inboxSection.items,Bt]};const ne=fn?{...pt.memos,[et]:fn}:pt.memos;return{...pt,sections:ae,inboxSection:he,memos:ne}}return pt})}),B({isOpen:!1,itemId:null,itemText:"",sourceTabId:"",sourceSectionId:""})},yt=L=>{if(!k.isAuthorized){k.login();return}zt({isOpen:!0,itemText:L})},q=async(L,Q,et)=>{var xt,Ut;try{await k.createCalendarEvent({summary:w.itemText,start:L,end:Q,isAllDay:et}),alert(" !"),zt({isOpen:!1,itemText:""})}catch(gt){console.error("  :",gt),(xt=gt.message)!=null&&xt.includes(" ")||(Ut=gt.message)!=null&&Ut.includes(" ")?(zt({isOpen:!1,itemText:""}),alert(`${gt.message}

   .`),k.login()):alert(`  : ${gt.message||"   "}`)}},ot=L=>{const Q=g.tabs.find(et=>et.id===L);!Q||Q.isLocked||g.tabs.length<=1||Z({isOpen:!0,title:" ",message:`'${Q.name}'     . ?`,onConfirm:()=>{const et=g.tabs.filter(Ut=>Ut.id!==L),xt=g.activeTabId===L?et[0].id:g.activeTabId;o({...g,tabs:et,activeTabId:xt}),Z(Ut=>({...Ut,isOpen:!1}))}})},ht=L=>{o({...g,activeTabId:L})},Dt=()=>{const L=$+1;L<g.tabs.length&&ht(g.tabs[L].id)},ut=()=>{const L=$-1;L>=0&&ht(g.tabs[L].id)},je=oA({onSwipeLeft:G.id||J.isOpen?void 0:Dt,onSwipeRight:G.id||J.isOpen?void 0:ut,minSwipeDistance:50,minSwipeVelocity:.3,maxVerticalMovement:80}),Xe=L=>{o({...g,tabs:g.tabs.map(Q=>Q.id===g.activeTabId?{...Q,parkingInfo:L}:Q)})},pi=L=>{o({...g,tabs:g.tabs.map(Q=>Q.id===g.activeTabId?{...Q,sideNotes:L}:Q)})},yi=()=>{const L={id:Math.random().toString(36).substr(2,9),title:" ",items:[],color:"slate",isLocked:!1};o({...g,tabs:g.tabs.map(Q=>Q.id===g.activeTabId?{...Q,sections:[...Q.sections,L]}:Q)})},vt=(L,Q)=>{o({...g,tabs:g.tabs.map(et=>et.id===g.activeTabId?{...et,sections:et.sections.map(xt=>xt.id===L.id?L:xt),memos:Q?{...et.memos,...Q}:et.memos}:et)})},Rt=(L,Q)=>{o({...g,tabs:g.tabs.map(et=>et.id===g.activeTabId?{...et,inboxSection:L,memos:Q?{...et.memos,...Q}:et.memos}:et)})},Jt=(L,Q)=>{o({...g,tabs:g.tabs.map(et=>et.id===g.activeTabId?{...et,quotesSection:L,memos:Q?{...et.memos,...Q}:et.memos}:et)})},be=L=>{const Q=Tt==null?void 0:Tt.sections.find(et=>et.id===L);Q!=null&&Q.isLocked||Z({isOpen:!0,title:" ",message:"  ?",onConfirm:()=>{o({...g,tabs:g.tabs.map(et=>et.id===g.activeTabId?{...et,sections:et.sections.filter(xt=>xt.id!==L)}:et)}),Z(et=>({...et,isOpen:!1}))}})},hn=L=>{C(Q=>({...Q,draggedSectionId:L}))},ce=(L,Q)=>{L.preventDefault(),S.draggedSectionId&&S.draggedSectionId!==Q&&C(et=>({...et,dragOverSectionId:Q}))},oe=(L,Q)=>{L.preventDefault();const{draggedSectionId:et}=S;!et||et===Q||o({...g,tabs:g.tabs.map(xt=>{if(xt.id!==g.activeTabId)return xt;const Ut=[...xt.sections],gt=Ut.findIndex(Bt=>Bt.id===et),Nt=Ut.findIndex(Bt=>Bt.id===Q);if(gt!==-1&&Nt!==-1){const[Bt]=Ut.splice(gt,1);Ut.splice(Nt,0,Bt)}return{...xt,sections:Ut}})})},_n=()=>{C(L=>({...L,draggedSectionId:null,dragOverSectionId:null}))},Fi=(L,Q,et,xt)=>{if(Q===et)return;const Ut=gt=>{const Nt=[];return gt.inboxSection&&Nt.push(gt.inboxSection),gt.quotesSection&&Nt.push(gt.quotesSection),Nt.push(...gt.sections),Nt};o({...g,tabs:g.tabs.map(gt=>{if(gt.id!==g.activeTabId)return gt;const Nt=Ut(gt),Bt=Nt.find(pt=>pt.id===Q),$e=Nt.find(pt=>pt.id===et);if(!Bt||!$e)return gt;const Se=Bt.items.find(pt=>pt.id===L);if(!Se)return gt;const fn=Bt.items.filter(pt=>pt.id!==L);let Bn=[...$e.items];if(xt){const pt=Bn.findIndex(qn=>qn.id===xt);pt!==-1?Bn.splice(pt,0,Se):Bn.unshift(Se)}else Bn.unshift(Se);const ai=pt=>pt.id===Q?{...pt,items:fn}:pt.id===et?{...pt,items:Bn}:pt;return{...gt,inboxSection:gt.inboxSection?ai(gt.inboxSection):gt.inboxSection,quotesSection:ai(gt.quotesSection),sections:gt.sections.map(ai)}})})},vi=(L,Q)=>{var Ut,gt;let et="";Q==="checklist"?et=((Ut=Tt.parkingInfo.checklistMemos)==null?void 0:Ut[L])||"":Q==="shopping"?et=((gt=Tt.parkingInfo.shoppingListMemos)==null?void 0:gt[L])||"":et=Tt.memos[L]||"",ct({id:L,value:et,type:Q||"section",isEditing:!(Q==="checklist"||Q==="shopping")&&et===""})},Ze=()=>{var L;if(G.id){const et=((L=G.value.trim().split(`
`)[0])==null?void 0:L.trim())||"",xt=30,Ut=et.length>xt?et.substring(0,xt):et;G.type==="checklist"?o({...g,tabs:g.tabs.map(gt=>gt.id===g.activeTabId?{...gt,parkingInfo:{...gt.parkingInfo,checklistItems:gt.parkingInfo.checklistItems.map(Nt=>Nt.id===G.id?{...Nt,text:Ut||Nt.text}:Nt),checklistMemos:{...gt.parkingInfo.checklistMemos,[G.id]:G.value}}}:gt)}):G.type==="shopping"?o({...g,tabs:g.tabs.map(gt=>gt.id===g.activeTabId?{...gt,parkingInfo:{...gt.parkingInfo,shoppingListItems:gt.parkingInfo.shoppingListItems.map(Nt=>Nt.id===G.id?{...Nt,text:Ut||Nt.text}:Nt),shoppingListMemos:{...gt.parkingInfo.shoppingListMemos,[G.id]:G.value}}}:gt)}):o({...g,tabs:g.tabs.map(gt=>gt.id===g.activeTabId?{...gt,sections:gt.sections.map(Nt=>({...Nt,items:Nt.items.map(Bt=>Bt.id===G.id?{...Bt,text:Ut||Bt.text}:Bt)})),inboxSection:gt.inboxSection?{...gt.inboxSection,items:gt.inboxSection.items.map(Nt=>Nt.id===G.id?{...Nt,text:Ut||Nt.text}:Nt)}:gt.inboxSection,quotesSection:gt.quotesSection?{...gt.quotesSection,items:gt.quotesSection.items.map(Nt=>Nt.id===G.id?{...Nt,text:Ut||Nt.text}:Nt)}:gt.quotesSection,memos:{...gt.memos,[G.id]:G.value}}:gt)})}G.value.trim()?ct({...G,isEditing:!1}):ct({id:null,value:"",type:"section",isEditing:!1})},Gi=()=>{G.id&&Z({isOpen:!0,title:" ",message:"  ?    .",onConfirm:()=>{o({...g,tabs:g.tabs.map(L=>{if(L.id!==g.activeTabId)return L;if(G.type==="checklist"){const Q={...L.parkingInfo.checklistMemos};return delete Q[G.id],{...L,parkingInfo:{...L.parkingInfo,checklistItems:L.parkingInfo.checklistItems.filter(et=>et.id!==G.id),checklistMemos:Q}}}else if(G.type==="shopping"){const Q={...L.parkingInfo.shoppingListMemos};return delete Q[G.id],{...L,parkingInfo:{...L.parkingInfo,shoppingListItems:L.parkingInfo.shoppingListItems.filter(et=>et.id!==G.id),shoppingListMemos:Q}}}else{const Q={...L.memos};delete Q[G.id];const et=xt=>xt.filter(Ut=>Ut.id!==G.id);return{...L,memos:Q,inboxSection:L.inboxSection?{...L.inboxSection,items:et(L.inboxSection.items)}:L.inboxSection,quotesSection:{...L.quotesSection,items:et(L.quotesSection.items)},sections:L.sections.map(xt=>({...xt,items:et(xt.items)}))}}})}),Z(L=>({...L,isOpen:!1})),ct({id:null,value:"",type:"section",isEditing:!1})}})},ms=L=>{const Q=_t.current;if(!Q)return;const et=Q.selectionStart,xt=Q.selectionEnd,Ut=G.value,gt=Ut.substring(0,et)+L+Ut.substring(xt);ct({...G,value:gt}),requestAnimationFrame(()=>{Q.focus(),Q.selectionStart=Q.selectionEnd=et+L.length})},ra=[{label:"",value:" ",title:""},{label:"-",value:"- ",title:""},{label:"",value:" ",title:""},{label:"",value:" ",title:""},{label:"",value:" ",title:""},{label:"",value:" ",title:""},{label:"",value:" ",title:""},{label:"",value:" ",title:""},{label:"",value:" ",title:""},{label:"",value:" ",title:""}],ii=(L,Q)=>{L!==g.activeTabId&&ht(L),Q&&(setTimeout(()=>{const et=document.querySelector(`[data-section-id="${Q}"]`);et&&et.scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"})},100),V(Q),setTimeout(()=>{V(null)},3e3)),R(!1)},Pa=()=>{const L=g.tabs[0];if(!(L!=null&&L.inboxSection))return;const Q=L.id,et=L.inboxSection.id;Q!==g.activeTabId&&ht(Q),setTimeout(()=>{const xt=document.querySelector(`[data-section-id="${et}"]`);xt&&xt.scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"})},100),V(et),setTimeout(()=>{V(null)},3e3)},la=(L,Q)=>{I({tabId:L,sectionId:Q}),Pa()},Ha=()=>{A&&(ii(A.tabId,A.sectionId),I(null))};Tt.sections.some(L=>L.items.some(Q=>Q.completed));const si=Tt.id===(((bn=g.tabs[0])==null?void 0:bn.id)||"");return i?b.jsx("div",{className:"h-screen flex items-center justify-center bg-[#F8FAFC]",children:b.jsxs("div",{className:"text-center",children:[b.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto mb-4"}),b.jsx("p",{className:"text-slate-600",children:"  ..."})]})}):r?b.jsx("div",{className:"h-screen flex items-center justify-center bg-[#F8FAFC]",children:b.jsxs("div",{className:"text-center max-w-md",children:[b.jsx("div",{className:"flex justify-center mb-4",children:b.jsx("svg",{className:"w-16 h-16 text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),b.jsx("h2",{className:"text-xl font-bold text-slate-800 mb-2",children:"  "}),b.jsx("p",{className:"text-sm text-slate-600 mb-4",children:r.message}),b.jsx("p",{className:"text-xs text-slate-500 mb-6",children:"    ."}),b.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-2 bg-blue-500 text-white rounded-lg font-medium hover:bg-blue-600 transition-colors",children:" "})]})}):b.jsxs("div",{className:"h-screen flex flex-col bg-[#F8FAFC] overflow-hidden text-slate-900",children:[!v&&b.jsx("div",{className:"flex-none bg-yellow-500 text-white px-4 py-2 text-center text-sm font-medium",children:b.jsxs("div",{className:"flex items-center justify-center gap-2",children:[b.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),b.jsx("span",{children:"  -   "})]})}),b.jsx("div",{className:`flex-none ${N?"hidden":"hidden md:block"}`,children:b.jsx(UE,{bookmarks:g.bookmarks,onUpdateBookmarks:ft})}),b.jsxs("div",{className:"flex-1 flex flex-row overflow-hidden",children:[b.jsx("aside",{className:`flex-none w-60 border-r border-slate-200 bg-white/40 ${N?"hidden":"hidden lg:block"}`,children:b.jsx(BE,{notes:Tt.sideNotes||[],onChange:pi})}),b.jsxs("div",{ref:je,className:"flex-1 flex flex-col overflow-hidden",children:[b.jsx("div",{className:"flex-none bg-[#F8FAFC]",children:b.jsx(NE,{onAddSection:yi,onOpenNavigationMap:()=>R(!0),headerGoals:Tt.headerGoals,onHeaderGoalsChange:L=>{o({...g,tabs:g.tabs.map(Q=>Q.id===g.activeTabId?{...Q,headerGoals:L}:Q)})}})}),b.jsx("main",{className:"flex-1 overflow-y-auto custom-scrollbar px-0 md:px-6 pb-20",children:b.jsxs("div",{className:`grid gap-3 h-full ${N?"grid-cols-1":`grid-cols-1 md:grid-cols-2 md:gap-6 ${si?"lg:grid-cols-2 xl:grid-cols-3 2xl:grid-cols-4":"lg:grid-cols-2 xl:grid-cols-3"}`}`,style:{gridAutoRows:"auto"},children:[si&&b.jsxs(b.Fragment,{children:[b.jsx("div",{className:"h-[600px] md:h-auto md:row-span-2",children:b.jsx(ME,{info:Tt.parkingInfo,onChange:Xe,onShowChecklistMemo:L=>vi(L,"checklist"),onShowShoppingMemo:L=>vi(L,"shopping"),onAddToCalendar:yt})}),b.jsx("div",{className:"h-[600px] md:h-auto md:row-span-2 xl:col-span-2",children:b.jsx(Lf,{section:Tt.inboxSection,itemMemos:Tt.memos,onUpdateSection:Rt,onDeleteSection:()=>{},onShowItemMemo:vi,onMoveItem:L=>tt(L,Tt.inboxSection.id),onAddToCalendar:yt,dragState:S,setDragState:C,onSectionDragStart:()=>{},onSectionDragOver:()=>{},onSectionDrop:()=>{},onSectionDragEnd:()=>{},isHighlighted:Tt.inboxSection.id===j,isInboxSection:!0,tabColorBg:$l(0).bgLight,initialQuickAddValue:h,onQuickAddValuePopulated:p,onCrossSectionDrop:Fi,onReturnFromInbox:Ha,isReturnVisible:!!A})}),b.jsx("div",{className:"h-[600px] md:h-auto md:row-span-2",children:b.jsx(Lf,{section:Tt.quotesSection,itemMemos:Tt.memos,onUpdateSection:Jt,onDeleteSection:()=>{},onShowItemMemo:vi,onMoveItem:L=>tt(L,Tt.quotesSection.id),onAddToCalendar:yt,dragState:S,setDragState:C,onSectionDragStart:()=>{},onSectionDragOver:()=>{},onSectionDrop:()=>{},onSectionDragEnd:()=>{},isHighlighted:Tt.quotesSection.id===j,isInboxSection:!0,tabColorBg:$l(0).bgLight,onCrossSectionDrop:Fi,onGoToInbox:()=>la(Tt.id,Tt.quotesSection.id)})})]}),Tt.sections.map(L=>b.jsx("div",{className:si?"":"h-screen md:h-full md:row-span-2",children:b.jsx(Lf,{section:L,itemMemos:Tt.memos,onUpdateSection:vt,onDeleteSection:be,onShowItemMemo:vi,onMoveItem:Q=>tt(Q,L.id),onAddToCalendar:yt,dragState:S,setDragState:C,onSectionDragStart:()=>hn(L.id),onSectionDragOver:Q=>ce(Q,L.id),onSectionDrop:Q=>oe(Q,L.id),onSectionDragEnd:_n,isHighlighted:L.id===j,isFullHeight:!si,tabColorText:$l($).text,tabColorBg:$l($).bgLight,onCrossSectionDrop:Fi,onGoToInbox:()=>la(Tt.id,L.id)})},L.id)),Tt.sections.length===0&&(!si||Tt.sections.length===0)&&b.jsx("div",{className:"col-span-full text-center py-16 text-slate-400",children:b.jsx("p",{className:"text-sm italic",children:si&&Tt.sections.length===0?'  . "+"    .':Tt.sections.length===0?"  .    .":""})})]})})]})]}),b.jsx("div",{className:"flex-none",children:b.jsx(LE,{tabs:e.tabs,activeTabId:e.activeTabId,onSelectTab:ht,onAddTab:At,onRenameTab:Ft,onDeleteTab:ot,onToggleLockTab:$t,onReorderTabs:O,onNavigateToInbox:Pa,hasInbox:!!((Le=g.tabs[0])!=null&&Le.inboxSection)})}),G.id&&b.jsx("div",{onClick:()=>ct({id:null,value:"",type:"section",isEditing:!1}),className:"fixed inset-0 z-[110] flex items-center justify-center p-4 bg-slate-900/40 backdrop-blur-sm",children:b.jsxs("div",{onClick:L=>L.stopPropagation(),className:"bg-white w-full max-w-2xl h-[90vh] md:h-[85vh] shadow-2xl border-[1.5px] md:border-2 border-black flex flex-col",children:[!G.isEditing&&b.jsxs(b.Fragment,{children:[b.jsx("div",{onDoubleClick:()=>ct({...G,isEditing:!0}),className:"flex-1 w-full overflow-y-auto custom-scrollbar bg-slate-50 text-slate-700 text-base whitespace-pre-wrap break-words p-4 cursor-text hover:bg-slate-100 transition-colors",children:G.value?b.jsx("div",{className:"prose prose-sm max-w-none select-text",children:b.jsx(mA,{text:G.value})}):b.jsx("p",{className:"text-slate-400 italic",children:" ."})}),b.jsxs("div",{className:"border-t border-slate-300 px-4 py-3 flex justify-end gap-3 flex-wrap",children:[b.jsx("button",{onClick:()=>{navigator.clipboard.writeText(G.value)},className:"px-4 py-2 bg-slate-500 hover:bg-slate-600 text-white font-medium border-2 border-black transition-colors",children:" "}),b.jsx("button",{onClick:()=>ct({...G,id:null}),className:"px-4 py-2 border-2 border-slate-300 text-slate-700 font-medium hover:bg-slate-50 transition-colors",children:""}),b.jsx("button",{onClick:()=>ct({...G,isEditing:!0}),className:"px-4 py-2 bg-blue-500 hover:bg-blue-600 text-white font-medium border-2 border-black transition-colors",children:" "}),b.jsx("button",{onClick:Gi,className:"px-4 py-2 bg-red-500 hover:bg-red-600 text-white font-medium border-2 border-black transition-colors",children:" "})]})]}),G.isEditing&&b.jsxs(b.Fragment,{children:[b.jsx("textarea",{ref:_t,autoFocus:!0,value:G.value,onChange:L=>ct({...G,value:L.target.value}),onBlur:L=>{L.relatedTarget&&L.relatedTarget.closest(".memo-symbol-toolbar")||Ze()},className:"flex-1 w-full overflow-y-auto custom-scrollbar focus:outline-none text-slate-700 text-base resize-none p-4",placeholder:"  ..."}),b.jsxs("div",{className:"memo-symbol-toolbar flex-none flex items-center gap-1 px-2 py-1.5 bg-slate-100 border-t border-slate-200 overflow-x-auto",children:[ra.map((L,Q)=>b.jsx("button",{title:L.title,onMouseDown:et=>{et.preventDefault(),ms(L.value)},className:`flex-none flex items-center justify-center rounded hover:bg-slate-200 active:bg-slate-300 text-slate-700 font-medium transition-colors select-none ${Q<3?"w-10 h-10 text-2xl":"w-8 h-8 text-base"}`,children:L.label},L.label)),b.jsx("div",{className:"w-px h-5 bg-slate-300 mx-1 flex-none"}),b.jsx("button",{title:"",onMouseDown:L=>{L.preventDefault(),ms("  ")},className:"flex-none px-2 h-8 flex items-center justify-center rounded hover:bg-slate-200 active:bg-slate-300 text-slate-500 text-xs font-medium transition-colors select-none",children:"Tab"})]}),b.jsxs("div",{className:"px-4 py-3 flex justify-end gap-3 pb-6",children:[b.jsx("button",{onClick:()=>{var Q,et,xt;let L="";G.type==="checklist"?L=((Q=Tt.parkingInfo.checklistMemos)==null?void 0:Q[G.id])||"":G.type==="shopping"?L=((et=Tt.parkingInfo.shoppingListMemos)==null?void 0:et[G.id])||"":L=((xt=Tt.memos)==null?void 0:xt[G.id])||"",ct(L?{...G,value:L,isEditing:!1}:{id:null,value:"",type:"section",isEditing:!1})},className:"px-4 py-2 border-2 border-slate-300 text-slate-700 font-medium hover:bg-slate-50 transition-colors",children:""}),b.jsx("button",{onClick:Ze,className:"px-4 py-2 bg-green-500 hover:bg-green-600 text-white font-medium border-2 border-black transition-colors",children:" "}),b.jsx("button",{onClick:()=>{navigator.clipboard.writeText(G.value)},className:"px-4 py-2 bg-slate-500 hover:bg-slate-600 text-white font-medium border-2 border-black transition-colors",children:" "})]})]})]})}),b.jsx(HE,{isOpen:it.isOpen,itemText:it.itemText,currentTabId:it.sourceTabId,currentSectionId:it.sourceSectionId,tabs:g.tabs,onMove:mt,onCancel:()=>B(L=>({...L,isOpen:!1}))}),b.jsx(OE,{isOpen:J.isOpen,title:J.title,message:J.message,onConfirm:J.onConfirm,onCancel:()=>Z(L=>({...L,isOpen:!1}))}),b.jsx(PE,{isOpen:Ct,tabs:g.tabs,activeTabId:g.activeTabId,onClose:()=>R(!1),onNavigate:ii}),b.jsx(FE,{isOpen:w.isOpen,itemText:w.itemText,onClose:()=>zt({isOpen:!1,itemText:""}),onConfirm:q})]})},L_=document.getElementById("root");if(!L_)throw new Error("Could not find root element to mount to");const yA=xE.createRoot(L_);yA.render(b.jsx(sc.StrictMode,{children:b.jsx(AE,{clientId:"616885689767-lh1pp7kjs94vlq862kmq9fgq746cnbfg.apps.googleusercontent.com",children:b.jsx(pA,{})})}));
