(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(o){if(o.ep)return;o.ep=!0;const c=i(o);fetch(o.href,c)}})();function F0(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var If={exports:{}},Gl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ey;function fE(){if(Ey)return Gl;Ey=1;var a=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(r,o,c){var d=null;if(c!==void 0&&(d=""+c),o.key!==void 0&&(d=""+o.key),"key"in o){c={};for(var g in o)g!=="key"&&(c[g]=o[g])}else c=o;return o=c.ref,{$$typeof:a,type:r,key:d,ref:o!==void 0?o:null,props:c}}return Gl.Fragment=e,Gl.jsx=i,Gl.jsxs=i,Gl}var Ty;function dE(){return Ty||(Ty=1,If.exports=fE()),If.exports}var b=dE(),Vf={exports:{}},Nt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xy;function mE(){if(xy)return Nt;xy=1;var a=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),C=Symbol.iterator;function M(O){return O===null||typeof O!="object"?null:(O=C&&O[C]||O["@@iterator"],typeof O=="function"?O:null)}var U={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},tt=Object.assign,k={};function Y(O,I,Z){this.props=O,this.context=I,this.refs=k,this.updater=Z||U}Y.prototype.isReactComponent={},Y.prototype.setState=function(O,I){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,I,"setState")},Y.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function W(){}W.prototype=Y.prototype;function lt(O,I,Z){this.props=O,this.context=I,this.refs=k,this.updater=Z||U}var yt=lt.prototype=new W;yt.constructor=lt,tt(yt,Y.prototype),yt.isPureReactComponent=!0;var vt=Array.isArray;function xt(){}var w={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function N(O,I,Z){var st=Z.ref;return{$$typeof:a,type:O,key:I,ref:st!==void 0?st:null,props:Z}}function L(O,I){return N(O.type,I,O.props)}function V(O){return typeof O=="object"&&O!==null&&O.$$typeof===a}function z(O){var I={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(Z){return I[Z]})}var R=/\/+/g;function Gt(O,I){return typeof O=="object"&&O!==null&&O.key!=null?z(""+O.key):I.toString(36)}function ue(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(xt,xt):(O.status="pending",O.then(function(I){O.status==="pending"&&(O.status="fulfilled",O.value=I)},function(I){O.status==="pending"&&(O.status="rejected",O.reason=I)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function X(O,I,Z,st,dt){var ut=typeof O;(ut==="undefined"||ut==="boolean")&&(O=null);var Ct=!1;if(O===null)Ct=!0;else switch(ut){case"bigint":case"string":case"number":Ct=!0;break;case"object":switch(O.$$typeof){case a:case e:Ct=!0;break;case T:return Ct=O._init,X(Ct(O._payload),I,Z,st,dt)}}if(Ct)return dt=dt(O),Ct=st===""?"."+Gt(O,0):st,vt(dt)?(Z="",Ct!=null&&(Z=Ct.replace(R,"$&/")+"/"),X(dt,I,Z,"",function(ji){return ji})):dt!=null&&(V(dt)&&(dt=L(dt,Z+(dt.key==null||O&&O.key===dt.key?"":(""+dt.key).replace(R,"$&/")+"/")+Ct)),I.push(dt)),1;Ct=0;var Wt=st===""?".":st+":";if(vt(O))for(var oe=0;oe<O.length;oe++)st=O[oe],ut=Wt+Gt(st,oe),Ct+=X(st,I,Z,ut,dt);else if(oe=M(O),typeof oe=="function")for(O=oe.call(O),oe=0;!(st=O.next()).done;)st=st.value,ut=Wt+Gt(st,oe++),Ct+=X(st,I,Z,ut,dt);else if(ut==="object"){if(typeof O.then=="function")return X(ue(O),I,Z,st,dt);throw I=String(O),Error("Objects are not valid as a React child (found: "+(I==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":I)+"). If you meant to render a collection of children, use an array instead.")}return Ct}function $(O,I,Z){if(O==null)return O;var st=[],dt=0;return X(O,st,"","",function(ut){return I.call(Z,ut,dt++)}),st}function ct(O){if(O._status===-1){var I=O._result;I=I(),I.then(function(Z){(O._status===0||O._status===-1)&&(O._status=1,O._result=Z)},function(Z){(O._status===0||O._status===-1)&&(O._status=2,O._result=Z)}),O._status===-1&&(O._status=0,O._result=I)}if(O._status===1)return O._result.default;throw O._result}var bt=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var I=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(I))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},Mt={map:$,forEach:function(O,I,Z){$(O,function(){I.apply(this,arguments)},Z)},count:function(O){var I=0;return $(O,function(){I++}),I},toArray:function(O){return $(O,function(I){return I})||[]},only:function(O){if(!V(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return Nt.Activity=S,Nt.Children=Mt,Nt.Component=Y,Nt.Fragment=i,Nt.Profiler=o,Nt.PureComponent=lt,Nt.StrictMode=r,Nt.Suspense=y,Nt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=w,Nt.__COMPILER_RUNTIME={__proto__:null,c:function(O){return w.H.useMemoCache(O)}},Nt.cache=function(O){return function(){return O.apply(null,arguments)}},Nt.cacheSignal=function(){return null},Nt.cloneElement=function(O,I,Z){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var st=tt({},O.props),dt=O.key;if(I!=null)for(ut in I.key!==void 0&&(dt=""+I.key),I)!A.call(I,ut)||ut==="key"||ut==="__self"||ut==="__source"||ut==="ref"&&I.ref===void 0||(st[ut]=I[ut]);var ut=arguments.length-2;if(ut===1)st.children=Z;else if(1<ut){for(var Ct=Array(ut),Wt=0;Wt<ut;Wt++)Ct[Wt]=arguments[Wt+2];st.children=Ct}return N(O.type,dt,st)},Nt.createContext=function(O){return O={$$typeof:d,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:c,_context:O},O},Nt.createElement=function(O,I,Z){var st,dt={},ut=null;if(I!=null)for(st in I.key!==void 0&&(ut=""+I.key),I)A.call(I,st)&&st!=="key"&&st!=="__self"&&st!=="__source"&&(dt[st]=I[st]);var Ct=arguments.length-2;if(Ct===1)dt.children=Z;else if(1<Ct){for(var Wt=Array(Ct),oe=0;oe<Ct;oe++)Wt[oe]=arguments[oe+2];dt.children=Wt}if(O&&O.defaultProps)for(st in Ct=O.defaultProps,Ct)dt[st]===void 0&&(dt[st]=Ct[st]);return N(O,ut,dt)},Nt.createRef=function(){return{current:null}},Nt.forwardRef=function(O){return{$$typeof:g,render:O}},Nt.isValidElement=V,Nt.lazy=function(O){return{$$typeof:T,_payload:{_status:-1,_result:O},_init:ct}},Nt.memo=function(O,I){return{$$typeof:v,type:O,compare:I===void 0?null:I}},Nt.startTransition=function(O){var I=w.T,Z={};w.T=Z;try{var st=O(),dt=w.S;dt!==null&&dt(Z,st),typeof st=="object"&&st!==null&&typeof st.then=="function"&&st.then(xt,bt)}catch(ut){bt(ut)}finally{I!==null&&Z.types!==null&&(I.types=Z.types),w.T=I}},Nt.unstable_useCacheRefresh=function(){return w.H.useCacheRefresh()},Nt.use=function(O){return w.H.use(O)},Nt.useActionState=function(O,I,Z){return w.H.useActionState(O,I,Z)},Nt.useCallback=function(O,I){return w.H.useCallback(O,I)},Nt.useContext=function(O){return w.H.useContext(O)},Nt.useDebugValue=function(){},Nt.useDeferredValue=function(O,I){return w.H.useDeferredValue(O,I)},Nt.useEffect=function(O,I){return w.H.useEffect(O,I)},Nt.useEffectEvent=function(O){return w.H.useEffectEvent(O)},Nt.useId=function(){return w.H.useId()},Nt.useImperativeHandle=function(O,I,Z){return w.H.useImperativeHandle(O,I,Z)},Nt.useInsertionEffect=function(O,I){return w.H.useInsertionEffect(O,I)},Nt.useLayoutEffect=function(O,I){return w.H.useLayoutEffect(O,I)},Nt.useMemo=function(O,I){return w.H.useMemo(O,I)},Nt.useOptimistic=function(O,I){return w.H.useOptimistic(O,I)},Nt.useReducer=function(O,I,Z){return w.H.useReducer(O,I,Z)},Nt.useRef=function(O){return w.H.useRef(O)},Nt.useState=function(O){return w.H.useState(O)},Nt.useSyncExternalStore=function(O,I,Z){return w.H.useSyncExternalStore(O,I,Z)},Nt.useTransition=function(){return w.H.useTransition()},Nt.version="19.2.3",Nt}var Sy;function pd(){return Sy||(Sy=1,Vf.exports=mE()),Vf.exports}var ot=pd();const G0=F0(ot);var Of={exports:{}},Ql={},Mf={exports:{}},jf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ay;function gE(){return Ay||(Ay=1,(function(a){function e(X,$){var ct=X.length;X.push($);t:for(;0<ct;){var bt=ct-1>>>1,Mt=X[bt];if(0<o(Mt,$))X[bt]=$,X[ct]=Mt,ct=bt;else break t}}function i(X){return X.length===0?null:X[0]}function r(X){if(X.length===0)return null;var $=X[0],ct=X.pop();if(ct!==$){X[0]=ct;t:for(var bt=0,Mt=X.length,O=Mt>>>1;bt<O;){var I=2*(bt+1)-1,Z=X[I],st=I+1,dt=X[st];if(0>o(Z,ct))st<Mt&&0>o(dt,Z)?(X[bt]=dt,X[st]=ct,bt=st):(X[bt]=Z,X[I]=ct,bt=I);else if(st<Mt&&0>o(dt,ct))X[bt]=dt,X[st]=ct,bt=st;else break t}}return $}function o(X,$){var ct=X.sortIndex-$.sortIndex;return ct!==0?ct:X.id-$.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;a.unstable_now=function(){return c.now()}}else{var d=Date,g=d.now();a.unstable_now=function(){return d.now()-g}}var y=[],v=[],T=1,S=null,C=3,M=!1,U=!1,tt=!1,k=!1,Y=typeof setTimeout=="function"?setTimeout:null,W=typeof clearTimeout=="function"?clearTimeout:null,lt=typeof setImmediate<"u"?setImmediate:null;function yt(X){for(var $=i(v);$!==null;){if($.callback===null)r(v);else if($.startTime<=X)r(v),$.sortIndex=$.expirationTime,e(y,$);else break;$=i(v)}}function vt(X){if(tt=!1,yt(X),!U)if(i(y)!==null)U=!0,xt||(xt=!0,z());else{var $=i(v);$!==null&&ue(vt,$.startTime-X)}}var xt=!1,w=-1,A=5,N=-1;function L(){return k?!0:!(a.unstable_now()-N<A)}function V(){if(k=!1,xt){var X=a.unstable_now();N=X;var $=!0;try{t:{U=!1,tt&&(tt=!1,W(w),w=-1),M=!0;var ct=C;try{e:{for(yt(X),S=i(y);S!==null&&!(S.expirationTime>X&&L());){var bt=S.callback;if(typeof bt=="function"){S.callback=null,C=S.priorityLevel;var Mt=bt(S.expirationTime<=X);if(X=a.unstable_now(),typeof Mt=="function"){S.callback=Mt,yt(X),$=!0;break e}S===i(y)&&r(y),yt(X)}else r(y);S=i(y)}if(S!==null)$=!0;else{var O=i(v);O!==null&&ue(vt,O.startTime-X),$=!1}}break t}finally{S=null,C=ct,M=!1}$=void 0}}finally{$?z():xt=!1}}}var z;if(typeof lt=="function")z=function(){lt(V)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,Gt=R.port2;R.port1.onmessage=V,z=function(){Gt.postMessage(null)}}else z=function(){Y(V,0)};function ue(X,$){w=Y(function(){X(a.unstable_now())},$)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(X){X.callback=null},a.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<X?Math.floor(1e3/X):5},a.unstable_getCurrentPriorityLevel=function(){return C},a.unstable_next=function(X){switch(C){case 1:case 2:case 3:var $=3;break;default:$=C}var ct=C;C=$;try{return X()}finally{C=ct}},a.unstable_requestPaint=function(){k=!0},a.unstable_runWithPriority=function(X,$){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var ct=C;C=X;try{return $()}finally{C=ct}},a.unstable_scheduleCallback=function(X,$,ct){var bt=a.unstable_now();switch(typeof ct=="object"&&ct!==null?(ct=ct.delay,ct=typeof ct=="number"&&0<ct?bt+ct:bt):ct=bt,X){case 1:var Mt=-1;break;case 2:Mt=250;break;case 5:Mt=1073741823;break;case 4:Mt=1e4;break;default:Mt=5e3}return Mt=ct+Mt,X={id:T++,callback:$,priorityLevel:X,startTime:ct,expirationTime:Mt,sortIndex:-1},ct>bt?(X.sortIndex=ct,e(v,X),i(y)===null&&X===i(v)&&(tt?(W(w),w=-1):tt=!0,ue(vt,ct-bt))):(X.sortIndex=Mt,e(y,X),U||M||(U=!0,xt||(xt=!0,z()))),X},a.unstable_shouldYield=L,a.unstable_wrapCallback=function(X){var $=C;return function(){var ct=C;C=$;try{return X.apply(this,arguments)}finally{C=ct}}}})(jf)),jf}var wy;function pE(){return wy||(wy=1,Mf.exports=gE()),Mf.exports}var Lf={exports:{}},nn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cy;function yE(){if(Cy)return nn;Cy=1;var a=pd();function e(y){var v="https://react.dev/errors/"+y;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)v+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+y+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(y,v,T){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:S==null?null:""+S,children:y,containerInfo:v,implementation:T}}var d=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(y,v){if(y==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return nn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,nn.createPortal=function(y,v){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(e(299));return c(y,v,null,T)},nn.flushSync=function(y){var v=d.T,T=r.p;try{if(d.T=null,r.p=2,y)return y()}finally{d.T=v,r.p=T,r.d.f()}},nn.preconnect=function(y,v){typeof y=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,r.d.C(y,v))},nn.prefetchDNS=function(y){typeof y=="string"&&r.d.D(y)},nn.preinit=function(y,v){if(typeof y=="string"&&v&&typeof v.as=="string"){var T=v.as,S=g(T,v.crossOrigin),C=typeof v.integrity=="string"?v.integrity:void 0,M=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;T==="style"?r.d.S(y,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:S,integrity:C,fetchPriority:M}):T==="script"&&r.d.X(y,{crossOrigin:S,integrity:C,fetchPriority:M,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},nn.preinitModule=function(y,v){if(typeof y=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var T=g(v.as,v.crossOrigin);r.d.M(y,{crossOrigin:T,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&r.d.M(y)},nn.preload=function(y,v){if(typeof y=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var T=v.as,S=g(T,v.crossOrigin);r.d.L(y,T,{crossOrigin:S,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},nn.preloadModule=function(y,v){if(typeof y=="string")if(v){var T=g(v.as,v.crossOrigin);r.d.m(y,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:T,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else r.d.m(y)},nn.requestFormReset=function(y){r.d.r(y)},nn.unstable_batchedUpdates=function(y,v){return y(v)},nn.useFormState=function(y,v,T){return d.H.useFormState(y,v,T)},nn.useFormStatus=function(){return d.H.useHostTransitionStatus()},nn.version="19.2.3",nn}var Ry;function vE(){if(Ry)return Lf.exports;Ry=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(e){console.error(e)}}return a(),Lf.exports=yE(),Lf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ny;function _E(){if(Ny)return Ql;Ny=1;var a=pE(),e=pd(),i=vE();function r(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var n=t,s=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(s=n.return),t=n.return;while(t)}return n.tag===3?s:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function g(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function y(t){if(c(t)!==t)throw Error(r(188))}function v(t){var n=t.alternate;if(!n){if(n=c(t),n===null)throw Error(r(188));return n!==t?null:t}for(var s=t,l=n;;){var h=s.return;if(h===null)break;var f=h.alternate;if(f===null){if(l=h.return,l!==null){s=l;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===s)return y(h),t;if(f===l)return y(h),n;f=f.sibling}throw Error(r(188))}if(s.return!==l.return)s=h,l=f;else{for(var p=!1,E=h.child;E;){if(E===s){p=!0,s=h,l=f;break}if(E===l){p=!0,l=h,s=f;break}E=E.sibling}if(!p){for(E=f.child;E;){if(E===s){p=!0,s=f,l=h;break}if(E===l){p=!0,l=f,s=h;break}E=E.sibling}if(!p)throw Error(r(189))}}if(s.alternate!==l)throw Error(r(190))}if(s.tag!==3)throw Error(r(188));return s.stateNode.current===s?t:n}function T(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=T(t),n!==null)return n;t=t.sibling}return null}var S=Object.assign,C=Symbol.for("react.element"),M=Symbol.for("react.transitional.element"),U=Symbol.for("react.portal"),tt=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),Y=Symbol.for("react.profiler"),W=Symbol.for("react.consumer"),lt=Symbol.for("react.context"),yt=Symbol.for("react.forward_ref"),vt=Symbol.for("react.suspense"),xt=Symbol.for("react.suspense_list"),w=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),N=Symbol.for("react.activity"),L=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function z(t){return t===null||typeof t!="object"?null:(t=V&&t[V]||t["@@iterator"],typeof t=="function"?t:null)}var R=Symbol.for("react.client.reference");function Gt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===R?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case tt:return"Fragment";case Y:return"Profiler";case k:return"StrictMode";case vt:return"Suspense";case xt:return"SuspenseList";case N:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case U:return"Portal";case lt:return t.displayName||"Context";case W:return(t._context.displayName||"Context")+".Consumer";case yt:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case w:return n=t.displayName||null,n!==null?n:Gt(t.type)||"Memo";case A:n=t._payload,t=t._init;try{return Gt(t(n))}catch{}}return null}var ue=Array.isArray,X=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ct={pending:!1,data:null,method:null,action:null},bt=[],Mt=-1;function O(t){return{current:t}}function I(t){0>Mt||(t.current=bt[Mt],bt[Mt]=null,Mt--)}function Z(t,n){Mt++,bt[Mt]=t.current,t.current=n}var st=O(null),dt=O(null),ut=O(null),Ct=O(null);function Wt(t,n){switch(Z(ut,n),Z(dt,t),Z(st,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?Fp(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=Fp(n),t=Gp(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}I(st),Z(st,t)}function oe(){I(st),I(dt),I(ut)}function ji(t){t.memoizedState!==null&&Z(Ct,t);var n=st.current,s=Gp(n,t.type);n!==s&&(Z(dt,t),Z(st,s))}function os(t){dt.current===t&&(I(st),I(dt)),Ct.current===t&&(I(Ct),Pl._currentValue=ct)}var us,cs;function Ln(t){if(us===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);us=n&&n[1]||"",cs=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+us+t+cs}var Jn=!1;function Li(t,n){if(!t||Jn)return"";Jn=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var it=function(){throw Error()};if(Object.defineProperty(it.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(it,[])}catch(K){var F=K}Reflect.construct(t,[],it)}else{try{it.call()}catch(K){F=K}t.call(it.prototype)}}else{try{throw Error()}catch(K){F=K}(it=t())&&typeof it.catch=="function"&&it.catch(function(){})}}catch(K){if(K&&F&&typeof K.stack=="string")return[K.stack,F.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),p=f[0],E=f[1];if(p&&E){var D=p.split(`
`),H=E.split(`
`);for(h=l=0;l<D.length&&!D[l].includes("DetermineComponentFrameRoot");)l++;for(;h<H.length&&!H[h].includes("DetermineComponentFrameRoot");)h++;if(l===D.length||h===H.length)for(l=D.length-1,h=H.length-1;1<=l&&0<=h&&D[l]!==H[h];)h--;for(;1<=l&&0<=h;l--,h--)if(D[l]!==H[h]){if(l!==1||h!==1)do if(l--,h--,0>h||D[l]!==H[h]){var J=`
`+D[l].replace(" at new "," at ");return t.displayName&&J.includes("<anonymous>")&&(J=J.replace("<anonymous>",t.displayName)),J}while(1<=l&&0<=h);break}}}finally{Jn=!1,Error.prepareStackTrace=s}return(s=t?t.displayName||t.name:"")?Ln(s):""}function ta(t,n){switch(t.tag){case 26:case 27:case 5:return Ln(t.type);case 16:return Ln("Lazy");case 13:return t.child!==n&&n!==null?Ln("Suspense Fallback"):Ln("Suspense");case 19:return Ln("SuspenseList");case 0:case 15:return Li(t.type,!1);case 11:return Li(t.type.render,!1);case 1:return Li(t.type,!0);case 31:return Ln("Activity");default:return""}}function ea(t){try{var n="",s=null;do n+=ta(t,s),s=t,t=t.return;while(t);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var _e=Object.prototype.hasOwnProperty,ce=a.unstable_scheduleCallback,$n=a.unstable_cancelCallback,Ua=a.unstable_shouldYield,G=a.unstable_requestPaint,et=a.unstable_now,ft=a.unstable_getCurrentPriorityLevel,jt=a.unstable_ImmediatePriority,Kt=a.unstable_UserBlockingPriority,Te=a.unstable_NormalPriority,qe=a.unstable_LowPriority,Ye=a.unstable_IdlePriority,ki=a.log,xn=a.unstable_setDisableYieldValue,hn=null,Re=null;function ln(t){if(typeof ki=="function"&&xn(t),Re&&typeof Re.setStrictMode=="function")try{Re.setStrictMode(hn,t)}catch{}}var mt=Math.clz32?Math.clz32:ia,na=Math.log,zi=Math.LN2;function ia(t){return t>>>=0,t===0?32:31-(na(t)/zi|0)|0}var Sn=256,hi=262144,pe=4194304;function An(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function wn(t,n,s){var l=t.pendingLanes;if(l===0)return 0;var h=0,f=t.suspendedLanes,p=t.pingedLanes;t=t.warmLanes;var E=l&134217727;return E!==0?(l=E&~f,l!==0?h=An(l):(p&=E,p!==0?h=An(p):s||(s=E&~t,s!==0&&(h=An(s))))):(E=l&~f,E!==0?h=An(E):p!==0?h=An(p):s||(s=l&~t,s!==0&&(h=An(s)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,s=n&-n,f>=s||f===32&&(s&4194048)!==0)?n:h}function fn(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Ba(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function on(){var t=pe;return pe<<=1,(pe&62914560)===0&&(pe=4194304),t}function xe(t){for(var n=[],s=0;31>s;s++)n.push(t);return n}function Jt(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function dn(t,n,s,l,h,f){var p=t.pendingLanes;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=s,t.entangledLanes&=s,t.errorRecoveryDisabledLanes&=s,t.shellSuspendCounter=0;var E=t.entanglements,D=t.expirationTimes,H=t.hiddenUpdates;for(s=p&~s;0<s;){var J=31-mt(s),it=1<<J;E[J]=0,D[J]=-1;var F=H[J];if(F!==null)for(H[J]=null,J=0;J<F.length;J++){var K=F[J];K!==null&&(K.lane&=-536870913)}s&=~it}l!==0&&mn(t,l,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(p&~n))}function mn(t,n,s){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-mt(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|s&261930}function sa(t,n){var s=t.entangledLanes|=n;for(t=t.entanglements;s;){var l=31-mt(s),h=1<<l;h&n|t[l]&n&&(t[l]|=n),s&=~h}}function Yr(t,n){var s=n&-n;return s=(s&42)!==0?1:aa(s),(s&(t.suspendedLanes|n))!==0?0:s}function aa(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Ui(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Ao(){var t=$.p;return t!==0?t:(t=window.event,t===void 0?32:my(t.type))}function Wn(t,n){var s=$.p;try{return $.p=t,n()}finally{$.p=s}}var ti=Math.random().toString(36).slice(2),Ne="__reactFiber$"+ti,He="__reactProps$"+ti,fi="__reactContainer$"+ti,Pa="__reactEvents$"+ti,Lc="__reactListeners$"+ti,wo="__reactHandles$"+ti,Co="__reactResources$"+ti,di="__reactMarker$"+ti;function qa(t){delete t[Ne],delete t[He],delete t[Pa],delete t[Lc],delete t[wo]}function mi(t){var n=t[Ne];if(n)return n;for(var s=t.parentNode;s;){if(n=s[fi]||s[Ne]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(t=$p(t);t!==null;){if(s=t[Ne])return s;t=$p(t)}return n}t=s,s=t.parentNode}return null}function kn(t){if(t=t[Ne]||t[fi]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function Cn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(r(33))}function gi(t){var n=t[Co];return n||(n=t[Co]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function De(t){t[di]=!0}var Kr=new Set,Xr={};function pi(t,n){yi(t,n),yi(t+"Capture",n)}function yi(t,n){for(Xr[t]=n,t=0;t<n.length;t++)Kr.add(n[t])}var Zr=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Jr={},$r={};function Ro(t){return _e.call($r,t)?!0:_e.call(Jr,t)?!1:Zr.test(t)?$r[t]=!0:(Jr[t]=!0,!1)}function Ha(t,n,s){if(Ro(n))if(s===null)t.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+s)}}function Rn(t,n,s){if(s===null)t.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+s)}}function Ie(t,n,s,l){if(l===null)t.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttributeNS(n,s,""+l)}}function Fe(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function hs(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Wr(t,n,s){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,f=l.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(p){s=""+p,f.call(this,p)}}),Object.defineProperty(t,n,{enumerable:l.enumerable}),{getValue:function(){return s},setValue:function(p){s=""+p},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function te(t){if(!t._valueTracker){var n=hs(t)?"checked":"value";t._valueTracker=Wr(t,n,""+t[n])}}function ra(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var s=n.getValue(),l="";return t&&(l=hs(t)?t.checked?"true":"false":t.value),t=l,t!==s?(n.setValue(t),!0):!1}function vi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var la=/[\n"\\]/g;function gn(t){return t.replace(la,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Fa(t,n,s,l,h,f,p,E){t.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?t.type=p:t.removeAttribute("type"),n!=null?p==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Fe(n)):t.value!==""+Fe(n)&&(t.value=""+Fe(n)):p!=="submit"&&p!=="reset"||t.removeAttribute("value"),n!=null?tl(t,p,Fe(n)):s!=null?tl(t,p,Fe(s)):l!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+Fe(E):t.removeAttribute("name")}function No(t,n,s,l,h,f,p,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){te(t);return}s=s!=null?""+Fe(s):"",n=n!=null?""+Fe(n):s,E||n===t.value||(t.value=n),t.defaultValue=n}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=E?t.checked:!!l,t.defaultChecked=!!l,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(t.name=p),te(t)}function tl(t,n,s){n==="number"&&vi(t.ownerDocument)===t||t.defaultValue===""+s||(t.defaultValue=""+s)}function fs(t,n,s,l){if(t=t.options,n){n={};for(var h=0;h<s.length;h++)n["$"+s[h]]=!0;for(s=0;s<t.length;s++)h=n.hasOwnProperty("$"+t[s].value),t[s].selected!==h&&(t[s].selected=h),h&&l&&(t[s].defaultSelected=!0)}else{for(s=""+Fe(s),n=null,h=0;h<t.length;h++){if(t[h].value===s){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function Do(t,n,s){if(n!=null&&(n=""+Fe(n),n!==t.value&&(t.value=n),s==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=s!=null?""+Fe(s):""}function ds(t,n,s,l){if(n==null){if(l!=null){if(s!=null)throw Error(r(92));if(ue(l)){if(1<l.length)throw Error(r(93));l=l[0]}s=l}s==null&&(s=""),n=s}s=Fe(n),t.defaultValue=s,l=t.textContent,l===s&&l!==""&&l!==null&&(t.value=l),te(t)}function pn(t,n){if(n){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=n;return}}t.textContent=n}var Io=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function el(t,n,s){var l=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,s):typeof s!="number"||s===0||Io.has(n)?n==="float"?t.cssFloat=s:t[n]=(""+s).trim():t[n]=s+"px"}function nl(t,n,s){if(n!=null&&typeof n!="object")throw Error(r(62));if(t=t.style,s!=null){for(var l in s)!s.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in n)l=n[h],n.hasOwnProperty(h)&&s[h]!==l&&el(t,h,l)}else for(var f in n)n.hasOwnProperty(f)&&el(t,f,n[f])}function Ga(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Vo=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ms=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Qa(t){return ms.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function ei(){}var il=null;function zn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var gs=null,_i=null;function oa(t){var n=kn(t);if(n&&(t=n.stateNode)){var s=t[He]||null;t:switch(t=n.stateNode,n.type){case"input":if(Fa(t,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+gn(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var l=s[n];if(l!==t&&l.form===t.form){var h=l[He]||null;if(!h)throw Error(r(90));Fa(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<s.length;n++)l=s[n],l.form===t.form&&ra(l)}break t;case"textarea":Do(t,s.value,s.defaultValue);break t;case"select":n=s.value,n!=null&&fs(t,!!s.multiple,n,!1)}}}var Ya=!1;function ps(t,n,s){if(Ya)return t(n,s);Ya=!0;try{var l=t(n);return l}finally{if(Ya=!1,(gs!==null||_i!==null)&&(Au(),gs&&(n=gs,t=_i,_i=gs=null,oa(n),t)))for(n=0;n<t.length;n++)oa(t[n])}}function ni(t,n){var s=t.stateNode;if(s===null)return null;var l=s[He]||null;if(l===null)return null;s=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(r(231,n,typeof s));return s}var Un=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ua=!1;if(Un)try{var ie={};Object.defineProperty(ie,"passive",{get:function(){ua=!0}}),window.addEventListener("test",ie,ie),window.removeEventListener("test",ie,ie)}catch{ua=!1}var bi=null,sl=null,ca=null;function al(){if(ca)return ca;var t,n=sl,s=n.length,l,h="value"in bi?bi.value:bi.textContent,f=h.length;for(t=0;t<s&&n[t]===h[t];t++);var p=s-t;for(l=1;l<=p&&n[s-l]===h[f-l];l++);return ca=h.slice(t,1<l?1-l:void 0)}function ha(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Bi(){return!0}function ii(){return!1}function Ke(t){function n(s,l,h,f,p){this._reactName=s,this._targetInst=h,this.type=l,this.nativeEvent=f,this.target=p,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(s=t[E],this[E]=s?s(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Bi:ii,this.isPropagationStopped=ii,this}return S(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Bi)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Bi)},persist:function(){},isPersistent:Bi}),n}var Pi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ei=Ke(Pi),ys=S({},Pi,{view:0,detail:0}),rl=Ke(ys),vs,Ka,Ti,Xa=S({},ys,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_s,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ti&&(Ti&&t.type==="mousemove"?(vs=t.screenX-Ti.screenX,Ka=t.screenY-Ti.screenY):Ka=vs=0,Ti=t),vs)},movementY:function(t){return"movementY"in t?t.movementY:Ka}}),ll=Ke(Xa),fa=S({},Xa,{dataTransfer:0}),Oo=Ke(fa),Mo=S({},ys,{relatedTarget:0}),da=Ke(Mo),ol=S({},Pi,{animationName:0,elapsedTime:0,pseudoElement:0}),jo=Ke(ol),Za=S({},Pi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Lo=Ke(Za),ko=S({},Pi,{data:0}),xi=Ke(ko),zo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Uo={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Bo={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Po(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Bo[t])?!!n[t]:!1}function _s(){return Po}var un=S({},ys,{key:function(t){if(t.key){var n=zo[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=ha(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Uo[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_s,charCode:function(t){return t.type==="keypress"?ha(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ha(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),qo=Ke(un),Ho=S({},Xa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),qi=Ke(Ho),u=S({},ys,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_s}),m=Ke(u),_=S({},Pi,{propertyName:0,elapsedTime:0,pseudoElement:0}),x=Ke(_),P=S({},Xa,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Q=Ke(P),ht=S({},Pi,{newState:0,oldState:0}),It=Ke(ht),Se=[9,13,27,32],Xt=Un&&"CompositionEvent"in window,me=null;Un&&"documentMode"in document&&(me=document.documentMode);var Bn=Un&&"TextEvent"in window&&!me,Si=Un&&(!Xt||me&&8<me&&11>=me),si=" ",ai=!1;function ma(t,n){switch(t){case"keyup":return Se.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ja(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var $a=!1;function L_(t,n){switch(t){case"compositionend":return Ja(n);case"keypress":return n.which!==32?null:(ai=!0,si);case"textInput":return t=n.data,t===si&&ai?null:t;default:return null}}function k_(t,n){if($a)return t==="compositionend"||!Xt&&ma(t,n)?(t=al(),ca=sl=bi=null,$a=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Si&&n.locale!=="ko"?null:n.data;default:return null}}var z_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function em(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!z_[t.type]:n==="textarea"}function nm(t,n,s,l){gs?_i?_i.push(l):_i=[l]:gs=l,n=Vu(n,"onChange"),0<n.length&&(s=new Ei("onChange","change",null,s,l),t.push({event:s,listeners:n}))}var ul=null,cl=null;function U_(t){zp(t,0)}function Fo(t){var n=Cn(t);if(ra(n))return t}function im(t,n){if(t==="change")return n}var sm=!1;if(Un){var kc;if(Un){var zc="oninput"in document;if(!zc){var am=document.createElement("div");am.setAttribute("oninput","return;"),zc=typeof am.oninput=="function"}kc=zc}else kc=!1;sm=kc&&(!document.documentMode||9<document.documentMode)}function rm(){ul&&(ul.detachEvent("onpropertychange",lm),cl=ul=null)}function lm(t){if(t.propertyName==="value"&&Fo(cl)){var n=[];nm(n,cl,t,zn(t)),ps(U_,n)}}function B_(t,n,s){t==="focusin"?(rm(),ul=n,cl=s,ul.attachEvent("onpropertychange",lm)):t==="focusout"&&rm()}function P_(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Fo(cl)}function q_(t,n){if(t==="click")return Fo(n)}function H_(t,n){if(t==="input"||t==="change")return Fo(n)}function F_(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var Nn=typeof Object.is=="function"?Object.is:F_;function hl(t,n){if(Nn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var s=Object.keys(t),l=Object.keys(n);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var h=s[l];if(!_e.call(n,h)||!Nn(t[h],n[h]))return!1}return!0}function om(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function um(t,n){var s=om(t);t=0;for(var l;s;){if(s.nodeType===3){if(l=t+s.textContent.length,t<=n&&l>=n)return{node:s,offset:n-t};t=l}t:{for(;s;){if(s.nextSibling){s=s.nextSibling;break t}s=s.parentNode}s=void 0}s=om(s)}}function cm(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?cm(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function hm(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=vi(t.document);n instanceof t.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)t=n.contentWindow;else break;n=vi(t.document)}return n}function Uc(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var G_=Un&&"documentMode"in document&&11>=document.documentMode,Wa=null,Bc=null,fl=null,Pc=!1;function fm(t,n,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Pc||Wa==null||Wa!==vi(l)||(l=Wa,"selectionStart"in l&&Uc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),fl&&hl(fl,l)||(fl=l,l=Vu(Bc,"onSelect"),0<l.length&&(n=new Ei("onSelect","select",null,n,s),t.push({event:n,listeners:l}),n.target=Wa)))}function ga(t,n){var s={};return s[t.toLowerCase()]=n.toLowerCase(),s["Webkit"+t]="webkit"+n,s["Moz"+t]="moz"+n,s}var tr={animationend:ga("Animation","AnimationEnd"),animationiteration:ga("Animation","AnimationIteration"),animationstart:ga("Animation","AnimationStart"),transitionrun:ga("Transition","TransitionRun"),transitionstart:ga("Transition","TransitionStart"),transitioncancel:ga("Transition","TransitionCancel"),transitionend:ga("Transition","TransitionEnd")},qc={},dm={};Un&&(dm=document.createElement("div").style,"AnimationEvent"in window||(delete tr.animationend.animation,delete tr.animationiteration.animation,delete tr.animationstart.animation),"TransitionEvent"in window||delete tr.transitionend.transition);function pa(t){if(qc[t])return qc[t];if(!tr[t])return t;var n=tr[t],s;for(s in n)if(n.hasOwnProperty(s)&&s in dm)return qc[t]=n[s];return t}var mm=pa("animationend"),gm=pa("animationiteration"),pm=pa("animationstart"),Q_=pa("transitionrun"),Y_=pa("transitionstart"),K_=pa("transitioncancel"),ym=pa("transitionend"),vm=new Map,Hc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Hc.push("scrollEnd");function ri(t,n){vm.set(t,n),pi(n,[t])}var Go=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Pn=[],er=0,Fc=0;function Qo(){for(var t=er,n=Fc=er=0;n<t;){var s=Pn[n];Pn[n++]=null;var l=Pn[n];Pn[n++]=null;var h=Pn[n];Pn[n++]=null;var f=Pn[n];if(Pn[n++]=null,l!==null&&h!==null){var p=l.pending;p===null?h.next=h:(h.next=p.next,p.next=h),l.pending=h}f!==0&&_m(s,h,f)}}function Yo(t,n,s,l){Pn[er++]=t,Pn[er++]=n,Pn[er++]=s,Pn[er++]=l,Fc|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Gc(t,n,s,l){return Yo(t,n,s,l),Ko(t)}function ya(t,n){return Yo(t,null,null,n),Ko(t)}function _m(t,n,s){t.lanes|=s;var l=t.alternate;l!==null&&(l.lanes|=s);for(var h=!1,f=t.return;f!==null;)f.childLanes|=s,l=f.alternate,l!==null&&(l.childLanes|=s),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&n!==null&&(h=31-mt(s),t=f.hiddenUpdates,l=t[h],l===null?t[h]=[n]:l.push(n),n.lane=s|536870912),f):null}function Ko(t){if(50<Ml)throw Ml=0,tf=null,Error(r(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var nr={};function X_(t,n,s,l){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dn(t,n,s,l){return new X_(t,n,s,l)}function Qc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Hi(t,n){var s=t.alternate;return s===null?(s=Dn(t.tag,n,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=n,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&65011712,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,n=t.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s.refCleanup=t.refCleanup,s}function bm(t,n){t.flags&=65011714;var s=t.alternate;return s===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=s.childLanes,t.lanes=s.lanes,t.child=s.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=s.memoizedProps,t.memoizedState=s.memoizedState,t.updateQueue=s.updateQueue,t.type=s.type,n=s.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Xo(t,n,s,l,h,f){var p=0;if(l=t,typeof t=="function")Qc(t)&&(p=1);else if(typeof t=="string")p=tE(t,s,st.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case N:return t=Dn(31,s,n,h),t.elementType=N,t.lanes=f,t;case tt:return va(s.children,h,f,n);case k:p=8,h|=24;break;case Y:return t=Dn(12,s,n,h|2),t.elementType=Y,t.lanes=f,t;case vt:return t=Dn(13,s,n,h),t.elementType=vt,t.lanes=f,t;case xt:return t=Dn(19,s,n,h),t.elementType=xt,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case lt:p=10;break t;case W:p=9;break t;case yt:p=11;break t;case w:p=14;break t;case A:p=16,l=null;break t}p=29,s=Error(r(130,t===null?"null":typeof t,"")),l=null}return n=Dn(p,s,n,h),n.elementType=t,n.type=l,n.lanes=f,n}function va(t,n,s,l){return t=Dn(7,t,l,n),t.lanes=s,t}function Yc(t,n,s){return t=Dn(6,t,null,n),t.lanes=s,t}function Em(t){var n=Dn(18,null,null,0);return n.stateNode=t,n}function Kc(t,n,s){return n=Dn(4,t.children!==null?t.children:[],t.key,n),n.lanes=s,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Tm=new WeakMap;function qn(t,n){if(typeof t=="object"&&t!==null){var s=Tm.get(t);return s!==void 0?s:(n={value:t,source:n,stack:ea(n)},Tm.set(t,n),n)}return{value:t,source:n,stack:ea(n)}}var ir=[],sr=0,Zo=null,dl=0,Hn=[],Fn=0,bs=null,Ai=1,wi="";function Fi(t,n){ir[sr++]=dl,ir[sr++]=Zo,Zo=t,dl=n}function xm(t,n,s){Hn[Fn++]=Ai,Hn[Fn++]=wi,Hn[Fn++]=bs,bs=t;var l=Ai;t=wi;var h=32-mt(l)-1;l&=~(1<<h),s+=1;var f=32-mt(n)+h;if(30<f){var p=h-h%5;f=(l&(1<<p)-1).toString(32),l>>=p,h-=p,Ai=1<<32-mt(n)+h|s<<h|l,wi=f+t}else Ai=1<<f|s<<h|l,wi=t}function Xc(t){t.return!==null&&(Fi(t,1),xm(t,1,0))}function Zc(t){for(;t===Zo;)Zo=ir[--sr],ir[sr]=null,dl=ir[--sr],ir[sr]=null;for(;t===bs;)bs=Hn[--Fn],Hn[Fn]=null,wi=Hn[--Fn],Hn[Fn]=null,Ai=Hn[--Fn],Hn[Fn]=null}function Sm(t,n){Hn[Fn++]=Ai,Hn[Fn++]=wi,Hn[Fn++]=bs,Ai=n.id,wi=n.overflow,bs=t}var Xe=null,he=null,qt=!1,Es=null,Gn=!1,Jc=Error(r(519));function Ts(t){var n=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ml(qn(n,t)),Jc}function Am(t){var n=t.stateNode,s=t.type,l=t.memoizedProps;switch(n[Ne]=t,n[He]=l,s){case"dialog":kt("cancel",n),kt("close",n);break;case"iframe":case"object":case"embed":kt("load",n);break;case"video":case"audio":for(s=0;s<Ll.length;s++)kt(Ll[s],n);break;case"source":kt("error",n);break;case"img":case"image":case"link":kt("error",n),kt("load",n);break;case"details":kt("toggle",n);break;case"input":kt("invalid",n),No(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":kt("invalid",n);break;case"textarea":kt("invalid",n),ds(n,l.value,l.defaultValue,l.children)}s=l.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||l.suppressHydrationWarning===!0||qp(n.textContent,s)?(l.popover!=null&&(kt("beforetoggle",n),kt("toggle",n)),l.onScroll!=null&&kt("scroll",n),l.onScrollEnd!=null&&kt("scrollend",n),l.onClick!=null&&(n.onclick=ei),n=!0):n=!1,n||Ts(t,!0)}function wm(t){for(Xe=t.return;Xe;)switch(Xe.tag){case 5:case 31:case 13:Gn=!1;return;case 27:case 3:Gn=!0;return;default:Xe=Xe.return}}function ar(t){if(t!==Xe)return!1;if(!qt)return wm(t),qt=!0,!1;var n=t.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=t.type,s=!(s!=="form"&&s!=="button")||pf(t.type,t.memoizedProps)),s=!s),s&&he&&Ts(t),wm(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));he=Jp(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));he=Jp(t)}else n===27?(n=he,Ls(t.type)?(t=Ef,Ef=null,he=t):he=n):he=Xe?Yn(t.stateNode.nextSibling):null;return!0}function _a(){he=Xe=null,qt=!1}function $c(){var t=Es;return t!==null&&(bn===null?bn=t:bn.push.apply(bn,t),Es=null),t}function ml(t){Es===null?Es=[t]:Es.push(t)}var Wc=O(null),ba=null,Gi=null;function xs(t,n,s){Z(Wc,n._currentValue),n._currentValue=s}function Qi(t){t._currentValue=Wc.current,I(Wc)}function th(t,n,s){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===s)break;t=t.return}}function eh(t,n,s,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var p=h.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=h;for(var D=0;D<n.length;D++)if(E.context===n[D]){f.lanes|=s,E=f.alternate,E!==null&&(E.lanes|=s),th(f.return,s,t),l||(p=null);break t}f=E.next}}else if(h.tag===18){if(p=h.return,p===null)throw Error(r(341));p.lanes|=s,f=p.alternate,f!==null&&(f.lanes|=s),th(p,s,t),p=null}else p=h.child;if(p!==null)p.return=h;else for(p=h;p!==null;){if(p===t){p=null;break}if(h=p.sibling,h!==null){h.return=p.return,p=h;break}p=p.return}h=p}}function rr(t,n,s,l){t=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var p=h.alternate;if(p===null)throw Error(r(387));if(p=p.memoizedProps,p!==null){var E=h.type;Nn(h.pendingProps.value,p.value)||(t!==null?t.push(E):t=[E])}}else if(h===Ct.current){if(p=h.alternate,p===null)throw Error(r(387));p.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Pl):t=[Pl])}h=h.return}t!==null&&eh(n,t,s,l),n.flags|=262144}function Jo(t){for(t=t.firstContext;t!==null;){if(!Nn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Ea(t){ba=t,Gi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Ze(t){return Cm(ba,t)}function $o(t,n){return ba===null&&Ea(t),Cm(t,n)}function Cm(t,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},Gi===null){if(t===null)throw Error(r(308));Gi=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Gi=Gi.next=n;return s}var Z_=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(s,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(s){return s()})}},J_=a.unstable_scheduleCallback,$_=a.unstable_NormalPriority,Ve={$$typeof:lt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function nh(){return{controller:new Z_,data:new Map,refCount:0}}function gl(t){t.refCount--,t.refCount===0&&J_($_,function(){t.controller.abort()})}var pl=null,ih=0,lr=0,or=null;function W_(t,n){if(pl===null){var s=pl=[];ih=0,lr=lf(),or={status:"pending",value:void 0,then:function(l){s.push(l)}}}return ih++,n.then(Rm,Rm),n}function Rm(){if(--ih===0&&pl!==null){or!==null&&(or.status="fulfilled");var t=pl;pl=null,lr=0,or=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function tb(t,n){var s=[],l={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var h=0;h<s.length;h++)(0,s[h])(n)},function(h){for(l.status="rejected",l.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),l}var Nm=X.S;X.S=function(t,n){fp=et(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&W_(t,n),Nm!==null&&Nm(t,n)};var Ta=O(null);function sh(){var t=Ta.current;return t!==null?t:le.pooledCache}function Wo(t,n){n===null?Z(Ta,Ta.current):Z(Ta,n.pool)}function Dm(){var t=sh();return t===null?null:{parent:Ve._currentValue,pool:t}}var ur=Error(r(460)),ah=Error(r(474)),tu=Error(r(542)),eu={then:function(){}};function Im(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Vm(t,n,s){switch(s=t[s],s===void 0?t.push(n):s!==n&&(n.then(ei,ei),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Mm(t),t;default:if(typeof n.status=="string")n.then(ei,ei);else{if(t=le,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=l}},function(l){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Mm(t),t}throw Sa=n,ur}}function xa(t){try{var n=t._init;return n(t._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(Sa=s,ur):s}}var Sa=null;function Om(){if(Sa===null)throw Error(r(459));var t=Sa;return Sa=null,t}function Mm(t){if(t===ur||t===tu)throw Error(r(483))}var cr=null,yl=0;function nu(t){var n=yl;return yl+=1,cr===null&&(cr=[]),Vm(cr,t,n)}function vl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function iu(t,n){throw n.$$typeof===C?Error(r(525)):(t=Object.prototype.toString.call(n),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function jm(t){function n(B,j){if(t){var q=B.deletions;q===null?(B.deletions=[j],B.flags|=16):q.push(j)}}function s(B,j){if(!t)return null;for(;j!==null;)n(B,j),j=j.sibling;return null}function l(B){for(var j=new Map;B!==null;)B.key!==null?j.set(B.key,B):j.set(B.index,B),B=B.sibling;return j}function h(B,j){return B=Hi(B,j),B.index=0,B.sibling=null,B}function f(B,j,q){return B.index=q,t?(q=B.alternate,q!==null?(q=q.index,q<j?(B.flags|=67108866,j):q):(B.flags|=67108866,j)):(B.flags|=1048576,j)}function p(B){return t&&B.alternate===null&&(B.flags|=67108866),B}function E(B,j,q,nt){return j===null||j.tag!==6?(j=Yc(q,B.mode,nt),j.return=B,j):(j=h(j,q),j.return=B,j)}function D(B,j,q,nt){var Tt=q.type;return Tt===tt?J(B,j,q.props.children,nt,q.key):j!==null&&(j.elementType===Tt||typeof Tt=="object"&&Tt!==null&&Tt.$$typeof===A&&xa(Tt)===j.type)?(j=h(j,q.props),vl(j,q),j.return=B,j):(j=Xo(q.type,q.key,q.props,null,B.mode,nt),vl(j,q),j.return=B,j)}function H(B,j,q,nt){return j===null||j.tag!==4||j.stateNode.containerInfo!==q.containerInfo||j.stateNode.implementation!==q.implementation?(j=Kc(q,B.mode,nt),j.return=B,j):(j=h(j,q.children||[]),j.return=B,j)}function J(B,j,q,nt,Tt){return j===null||j.tag!==7?(j=va(q,B.mode,nt,Tt),j.return=B,j):(j=h(j,q),j.return=B,j)}function it(B,j,q){if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return j=Yc(""+j,B.mode,q),j.return=B,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case M:return q=Xo(j.type,j.key,j.props,null,B.mode,q),vl(q,j),q.return=B,q;case U:return j=Kc(j,B.mode,q),j.return=B,j;case A:return j=xa(j),it(B,j,q)}if(ue(j)||z(j))return j=va(j,B.mode,q,null),j.return=B,j;if(typeof j.then=="function")return it(B,nu(j),q);if(j.$$typeof===lt)return it(B,$o(B,j),q);iu(B,j)}return null}function F(B,j,q,nt){var Tt=j!==null?j.key:null;if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return Tt!==null?null:E(B,j,""+q,nt);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case M:return q.key===Tt?D(B,j,q,nt):null;case U:return q.key===Tt?H(B,j,q,nt):null;case A:return q=xa(q),F(B,j,q,nt)}if(ue(q)||z(q))return Tt!==null?null:J(B,j,q,nt,null);if(typeof q.then=="function")return F(B,j,nu(q),nt);if(q.$$typeof===lt)return F(B,j,$o(B,q),nt);iu(B,q)}return null}function K(B,j,q,nt,Tt){if(typeof nt=="string"&&nt!==""||typeof nt=="number"||typeof nt=="bigint")return B=B.get(q)||null,E(j,B,""+nt,Tt);if(typeof nt=="object"&&nt!==null){switch(nt.$$typeof){case M:return B=B.get(nt.key===null?q:nt.key)||null,D(j,B,nt,Tt);case U:return B=B.get(nt.key===null?q:nt.key)||null,H(j,B,nt,Tt);case A:return nt=xa(nt),K(B,j,q,nt,Tt)}if(ue(nt)||z(nt))return B=B.get(q)||null,J(j,B,nt,Tt,null);if(typeof nt.then=="function")return K(B,j,q,nu(nt),Tt);if(nt.$$typeof===lt)return K(B,j,q,$o(j,nt),Tt);iu(j,nt)}return null}function pt(B,j,q,nt){for(var Tt=null,Qt=null,_t=j,Ot=j=0,Ut=null;_t!==null&&Ot<q.length;Ot++){_t.index>Ot?(Ut=_t,_t=null):Ut=_t.sibling;var Yt=F(B,_t,q[Ot],nt);if(Yt===null){_t===null&&(_t=Ut);break}t&&_t&&Yt.alternate===null&&n(B,_t),j=f(Yt,j,Ot),Qt===null?Tt=Yt:Qt.sibling=Yt,Qt=Yt,_t=Ut}if(Ot===q.length)return s(B,_t),qt&&Fi(B,Ot),Tt;if(_t===null){for(;Ot<q.length;Ot++)_t=it(B,q[Ot],nt),_t!==null&&(j=f(_t,j,Ot),Qt===null?Tt=_t:Qt.sibling=_t,Qt=_t);return qt&&Fi(B,Ot),Tt}for(_t=l(_t);Ot<q.length;Ot++)Ut=K(_t,B,Ot,q[Ot],nt),Ut!==null&&(t&&Ut.alternate!==null&&_t.delete(Ut.key===null?Ot:Ut.key),j=f(Ut,j,Ot),Qt===null?Tt=Ut:Qt.sibling=Ut,Qt=Ut);return t&&_t.forEach(function(Ps){return n(B,Ps)}),qt&&Fi(B,Ot),Tt}function At(B,j,q,nt){if(q==null)throw Error(r(151));for(var Tt=null,Qt=null,_t=j,Ot=j=0,Ut=null,Yt=q.next();_t!==null&&!Yt.done;Ot++,Yt=q.next()){_t.index>Ot?(Ut=_t,_t=null):Ut=_t.sibling;var Ps=F(B,_t,Yt.value,nt);if(Ps===null){_t===null&&(_t=Ut);break}t&&_t&&Ps.alternate===null&&n(B,_t),j=f(Ps,j,Ot),Qt===null?Tt=Ps:Qt.sibling=Ps,Qt=Ps,_t=Ut}if(Yt.done)return s(B,_t),qt&&Fi(B,Ot),Tt;if(_t===null){for(;!Yt.done;Ot++,Yt=q.next())Yt=it(B,Yt.value,nt),Yt!==null&&(j=f(Yt,j,Ot),Qt===null?Tt=Yt:Qt.sibling=Yt,Qt=Yt);return qt&&Fi(B,Ot),Tt}for(_t=l(_t);!Yt.done;Ot++,Yt=q.next())Yt=K(_t,B,Ot,Yt.value,nt),Yt!==null&&(t&&Yt.alternate!==null&&_t.delete(Yt.key===null?Ot:Yt.key),j=f(Yt,j,Ot),Qt===null?Tt=Yt:Qt.sibling=Yt,Qt=Yt);return t&&_t.forEach(function(hE){return n(B,hE)}),qt&&Fi(B,Ot),Tt}function re(B,j,q,nt){if(typeof q=="object"&&q!==null&&q.type===tt&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case M:t:{for(var Tt=q.key;j!==null;){if(j.key===Tt){if(Tt=q.type,Tt===tt){if(j.tag===7){s(B,j.sibling),nt=h(j,q.props.children),nt.return=B,B=nt;break t}}else if(j.elementType===Tt||typeof Tt=="object"&&Tt!==null&&Tt.$$typeof===A&&xa(Tt)===j.type){s(B,j.sibling),nt=h(j,q.props),vl(nt,q),nt.return=B,B=nt;break t}s(B,j);break}else n(B,j);j=j.sibling}q.type===tt?(nt=va(q.props.children,B.mode,nt,q.key),nt.return=B,B=nt):(nt=Xo(q.type,q.key,q.props,null,B.mode,nt),vl(nt,q),nt.return=B,B=nt)}return p(B);case U:t:{for(Tt=q.key;j!==null;){if(j.key===Tt)if(j.tag===4&&j.stateNode.containerInfo===q.containerInfo&&j.stateNode.implementation===q.implementation){s(B,j.sibling),nt=h(j,q.children||[]),nt.return=B,B=nt;break t}else{s(B,j);break}else n(B,j);j=j.sibling}nt=Kc(q,B.mode,nt),nt.return=B,B=nt}return p(B);case A:return q=xa(q),re(B,j,q,nt)}if(ue(q))return pt(B,j,q,nt);if(z(q)){if(Tt=z(q),typeof Tt!="function")throw Error(r(150));return q=Tt.call(q),At(B,j,q,nt)}if(typeof q.then=="function")return re(B,j,nu(q),nt);if(q.$$typeof===lt)return re(B,j,$o(B,q),nt);iu(B,q)}return typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint"?(q=""+q,j!==null&&j.tag===6?(s(B,j.sibling),nt=h(j,q),nt.return=B,B=nt):(s(B,j),nt=Yc(q,B.mode,nt),nt.return=B,B=nt),p(B)):s(B,j)}return function(B,j,q,nt){try{yl=0;var Tt=re(B,j,q,nt);return cr=null,Tt}catch(_t){if(_t===ur||_t===tu)throw _t;var Qt=Dn(29,_t,null,B.mode);return Qt.lanes=nt,Qt.return=B,Qt}finally{}}}var Aa=jm(!0),Lm=jm(!1),Ss=!1;function rh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function lh(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function As(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function ws(t,n,s){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Zt&2)!==0){var h=l.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),l.pending=n,n=Ko(t),_m(t,null,s),n}return Yo(t,l,n,s),Ko(t)}function _l(t,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,s|=l,n.lanes=s,sa(t,s)}}function oh(t,n){var s=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var h=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var p={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?h=f=p:f=f.next=p,s=s.next}while(s!==null);f===null?h=f=n:f=f.next=n}else h=f=n;s={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=n:t.next=n,s.lastBaseUpdate=n}var uh=!1;function bl(){if(uh){var t=or;if(t!==null)throw t}}function El(t,n,s,l){uh=!1;var h=t.updateQueue;Ss=!1;var f=h.firstBaseUpdate,p=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var D=E,H=D.next;D.next=null,p===null?f=H:p.next=H,p=D;var J=t.alternate;J!==null&&(J=J.updateQueue,E=J.lastBaseUpdate,E!==p&&(E===null?J.firstBaseUpdate=H:E.next=H,J.lastBaseUpdate=D))}if(f!==null){var it=h.baseState;p=0,J=H=D=null,E=f;do{var F=E.lane&-536870913,K=F!==E.lane;if(K?(zt&F)===F:(l&F)===F){F!==0&&F===lr&&(uh=!0),J!==null&&(J=J.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var pt=t,At=E;F=n;var re=s;switch(At.tag){case 1:if(pt=At.payload,typeof pt=="function"){it=pt.call(re,it,F);break t}it=pt;break t;case 3:pt.flags=pt.flags&-65537|128;case 0:if(pt=At.payload,F=typeof pt=="function"?pt.call(re,it,F):pt,F==null)break t;it=S({},it,F);break t;case 2:Ss=!0}}F=E.callback,F!==null&&(t.flags|=64,K&&(t.flags|=8192),K=h.callbacks,K===null?h.callbacks=[F]:K.push(F))}else K={lane:F,tag:E.tag,payload:E.payload,callback:E.callback,next:null},J===null?(H=J=K,D=it):J=J.next=K,p|=F;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;K=E,E=K.next,K.next=null,h.lastBaseUpdate=K,h.shared.pending=null}}while(!0);J===null&&(D=it),h.baseState=D,h.firstBaseUpdate=H,h.lastBaseUpdate=J,f===null&&(h.shared.lanes=0),Is|=p,t.lanes=p,t.memoizedState=it}}function km(t,n){if(typeof t!="function")throw Error(r(191,t));t.call(n)}function zm(t,n){var s=t.callbacks;if(s!==null)for(t.callbacks=null,t=0;t<s.length;t++)km(s[t],n)}var hr=O(null),su=O(0);function Um(t,n){t=es,Z(su,t),Z(hr,n),es=t|n.baseLanes}function ch(){Z(su,es),Z(hr,hr.current)}function hh(){es=su.current,I(hr),I(su)}var In=O(null),Qn=null;function Cs(t){var n=t.alternate;Z(Ae,Ae.current&1),Z(In,t),Qn===null&&(n===null||hr.current!==null||n.memoizedState!==null)&&(Qn=t)}function fh(t){Z(Ae,Ae.current),Z(In,t),Qn===null&&(Qn=t)}function Bm(t){t.tag===22?(Z(Ae,Ae.current),Z(In,t),Qn===null&&(Qn=t)):Rs()}function Rs(){Z(Ae,Ae.current),Z(In,In.current)}function Vn(t){I(In),Qn===t&&(Qn=null),I(Ae)}var Ae=O(0);function au(t){for(var n=t;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||_f(s)||bf(s)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Yi=0,Vt=null,se=null,Oe=null,ru=!1,fr=!1,wa=!1,lu=0,Tl=0,dr=null,eb=0;function be(){throw Error(r(321))}function dh(t,n){if(n===null)return!1;for(var s=0;s<n.length&&s<t.length;s++)if(!Nn(t[s],n[s]))return!1;return!0}function mh(t,n,s,l,h,f){return Yi=f,Vt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,X.H=t===null||t.memoizedState===null?xg:Nh,wa=!1,f=s(l,h),wa=!1,fr&&(f=qm(n,s,l,h)),Pm(t),f}function Pm(t){X.H=Al;var n=se!==null&&se.next!==null;if(Yi=0,Oe=se=Vt=null,ru=!1,Tl=0,dr=null,n)throw Error(r(300));t===null||Me||(t=t.dependencies,t!==null&&Jo(t)&&(Me=!0))}function qm(t,n,s,l){Vt=t;var h=0;do{if(fr&&(dr=null),Tl=0,fr=!1,25<=h)throw Error(r(301));if(h+=1,Oe=se=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}X.H=Sg,f=n(s,l)}while(fr);return f}function nb(){var t=X.H,n=t.useState()[0];return n=typeof n.then=="function"?xl(n):n,t=t.useState()[0],(se!==null?se.memoizedState:null)!==t&&(Vt.flags|=1024),n}function gh(){var t=lu!==0;return lu=0,t}function ph(t,n,s){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~s}function yh(t){if(ru){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}ru=!1}Yi=0,Oe=se=Vt=null,fr=!1,Tl=lu=0,dr=null}function cn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Oe===null?Vt.memoizedState=Oe=t:Oe=Oe.next=t,Oe}function we(){if(se===null){var t=Vt.alternate;t=t!==null?t.memoizedState:null}else t=se.next;var n=Oe===null?Vt.memoizedState:Oe.next;if(n!==null)Oe=n,se=t;else{if(t===null)throw Vt.alternate===null?Error(r(467)):Error(r(310));se=t,t={memoizedState:se.memoizedState,baseState:se.baseState,baseQueue:se.baseQueue,queue:se.queue,next:null},Oe===null?Vt.memoizedState=Oe=t:Oe=Oe.next=t}return Oe}function ou(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function xl(t){var n=Tl;return Tl+=1,dr===null&&(dr=[]),t=Vm(dr,t,n),n=Vt,(Oe===null?n.memoizedState:Oe.next)===null&&(n=n.alternate,X.H=n===null||n.memoizedState===null?xg:Nh),t}function uu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return xl(t);if(t.$$typeof===lt)return Ze(t)}throw Error(r(438,String(t)))}function vh(t){var n=null,s=Vt.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var l=Vt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=ou(),Vt.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(t),l=0;l<t;l++)s[l]=L;return n.index++,s}function Ki(t,n){return typeof n=="function"?n(t):n}function cu(t){var n=we();return _h(n,se,t)}function _h(t,n,s){var l=t.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=s;var h=t.baseQueue,f=l.pending;if(f!==null){if(h!==null){var p=h.next;h.next=f.next,f.next=p}n.baseQueue=h=f,l.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{n=h.next;var E=p=null,D=null,H=n,J=!1;do{var it=H.lane&-536870913;if(it!==H.lane?(zt&it)===it:(Yi&it)===it){var F=H.revertLane;if(F===0)D!==null&&(D=D.next={lane:0,revertLane:0,gesture:null,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),it===lr&&(J=!0);else if((Yi&F)===F){H=H.next,F===lr&&(J=!0);continue}else it={lane:0,revertLane:H.revertLane,gesture:null,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},D===null?(E=D=it,p=f):D=D.next=it,Vt.lanes|=F,Is|=F;it=H.action,wa&&s(f,it),f=H.hasEagerState?H.eagerState:s(f,it)}else F={lane:it,revertLane:H.revertLane,gesture:H.gesture,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},D===null?(E=D=F,p=f):D=D.next=F,Vt.lanes|=it,Is|=it;H=H.next}while(H!==null&&H!==n);if(D===null?p=f:D.next=E,!Nn(f,t.memoizedState)&&(Me=!0,J&&(s=or,s!==null)))throw s;t.memoizedState=f,t.baseState=p,t.baseQueue=D,l.lastRenderedState=f}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function bh(t){var n=we(),s=n.queue;if(s===null)throw Error(r(311));s.lastRenderedReducer=t;var l=s.dispatch,h=s.pending,f=n.memoizedState;if(h!==null){s.pending=null;var p=h=h.next;do f=t(f,p.action),p=p.next;while(p!==h);Nn(f,n.memoizedState)||(Me=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),s.lastRenderedState=f}return[f,l]}function Hm(t,n,s){var l=Vt,h=we(),f=qt;if(f){if(s===void 0)throw Error(r(407));s=s()}else s=n();var p=!Nn((se||h).memoizedState,s);if(p&&(h.memoizedState=s,Me=!0),h=h.queue,xh(Qm.bind(null,l,h,t),[t]),h.getSnapshot!==n||p||Oe!==null&&Oe.memoizedState.tag&1){if(l.flags|=2048,mr(9,{destroy:void 0},Gm.bind(null,l,h,s,n),null),le===null)throw Error(r(349));f||(Yi&127)!==0||Fm(l,n,s)}return s}function Fm(t,n,s){t.flags|=16384,t={getSnapshot:n,value:s},n=Vt.updateQueue,n===null?(n=ou(),Vt.updateQueue=n,n.stores=[t]):(s=n.stores,s===null?n.stores=[t]:s.push(t))}function Gm(t,n,s,l){n.value=s,n.getSnapshot=l,Ym(n)&&Km(t)}function Qm(t,n,s){return s(function(){Ym(n)&&Km(t)})}function Ym(t){var n=t.getSnapshot;t=t.value;try{var s=n();return!Nn(t,s)}catch{return!0}}function Km(t){var n=ya(t,2);n!==null&&En(n,t,2)}function Eh(t){var n=cn();if(typeof t=="function"){var s=t;if(t=s(),wa){ln(!0);try{s()}finally{ln(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ki,lastRenderedState:t},n}function Xm(t,n,s,l){return t.baseState=s,_h(t,se,typeof l=="function"?l:Ki)}function ib(t,n,s,l,h){if(du(t))throw Error(r(485));if(t=n.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){f.listeners.push(p)}};X.T!==null?s(!0):f.isTransition=!1,l(f),s=n.pending,s===null?(f.next=n.pending=f,Zm(n,f)):(f.next=s.next,n.pending=s.next=f)}}function Zm(t,n){var s=n.action,l=n.payload,h=t.state;if(n.isTransition){var f=X.T,p={};X.T=p;try{var E=s(h,l),D=X.S;D!==null&&D(p,E),Jm(t,n,E)}catch(H){Th(t,n,H)}finally{f!==null&&p.types!==null&&(f.types=p.types),X.T=f}}else try{f=s(h,l),Jm(t,n,f)}catch(H){Th(t,n,H)}}function Jm(t,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(l){$m(t,n,l)},function(l){return Th(t,n,l)}):$m(t,n,s)}function $m(t,n,s){n.status="fulfilled",n.value=s,Wm(n),t.state=s,n=t.pending,n!==null&&(s=n.next,s===n?t.pending=null:(s=s.next,n.next=s,Zm(t,s)))}function Th(t,n,s){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=s,Wm(n),n=n.next;while(n!==l)}t.action=null}function Wm(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function tg(t,n){return n}function eg(t,n){if(qt){var s=le.formState;if(s!==null){t:{var l=Vt;if(qt){if(he){e:{for(var h=he,f=Gn;h.nodeType!==8;){if(!f){h=null;break e}if(h=Yn(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){he=Yn(h.nextSibling),l=h.data==="F!";break t}}Ts(l)}l=!1}l&&(n=s[0])}}return s=cn(),s.memoizedState=s.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:tg,lastRenderedState:n},s.queue=l,s=bg.bind(null,Vt,l),l.dispatch=s,l=Eh(!1),f=Rh.bind(null,Vt,!1,l.queue),l=cn(),h={state:n,dispatch:null,action:t,pending:null},l.queue=h,s=ib.bind(null,Vt,h,f,s),h.dispatch=s,l.memoizedState=t,[n,s,!1]}function ng(t){var n=we();return ig(n,se,t)}function ig(t,n,s){if(n=_h(t,n,tg)[0],t=cu(Ki)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=xl(n)}catch(p){throw p===ur?tu:p}else l=n;n=we();var h=n.queue,f=h.dispatch;return s!==n.memoizedState&&(Vt.flags|=2048,mr(9,{destroy:void 0},sb.bind(null,h,s),null)),[l,f,t]}function sb(t,n){t.action=n}function sg(t){var n=we(),s=se;if(s!==null)return ig(n,s,t);we(),n=n.memoizedState,s=we();var l=s.queue.dispatch;return s.memoizedState=t,[n,l,!1]}function mr(t,n,s,l){return t={tag:t,create:s,deps:l,inst:n,next:null},n=Vt.updateQueue,n===null&&(n=ou(),Vt.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=t.next=t:(l=s.next,s.next=t,t.next=l,n.lastEffect=t),t}function ag(){return we().memoizedState}function hu(t,n,s,l){var h=cn();Vt.flags|=t,h.memoizedState=mr(1|n,{destroy:void 0},s,l===void 0?null:l)}function fu(t,n,s,l){var h=we();l=l===void 0?null:l;var f=h.memoizedState.inst;se!==null&&l!==null&&dh(l,se.memoizedState.deps)?h.memoizedState=mr(n,f,s,l):(Vt.flags|=t,h.memoizedState=mr(1|n,f,s,l))}function rg(t,n){hu(8390656,8,t,n)}function xh(t,n){fu(2048,8,t,n)}function ab(t){Vt.flags|=4;var n=Vt.updateQueue;if(n===null)n=ou(),Vt.updateQueue=n,n.events=[t];else{var s=n.events;s===null?n.events=[t]:s.push(t)}}function lg(t){var n=we().memoizedState;return ab({ref:n,nextImpl:t}),function(){if((Zt&2)!==0)throw Error(r(440));return n.impl.apply(void 0,arguments)}}function og(t,n){return fu(4,2,t,n)}function ug(t,n){return fu(4,4,t,n)}function cg(t,n){if(typeof n=="function"){t=t();var s=n(t);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function hg(t,n,s){s=s!=null?s.concat([t]):null,fu(4,4,cg.bind(null,n,t),s)}function Sh(){}function fg(t,n){var s=we();n=n===void 0?null:n;var l=s.memoizedState;return n!==null&&dh(n,l[1])?l[0]:(s.memoizedState=[t,n],t)}function dg(t,n){var s=we();n=n===void 0?null:n;var l=s.memoizedState;if(n!==null&&dh(n,l[1]))return l[0];if(l=t(),wa){ln(!0);try{t()}finally{ln(!1)}}return s.memoizedState=[l,n],l}function Ah(t,n,s){return s===void 0||(Yi&1073741824)!==0&&(zt&261930)===0?t.memoizedState=n:(t.memoizedState=s,t=mp(),Vt.lanes|=t,Is|=t,s)}function mg(t,n,s,l){return Nn(s,n)?s:hr.current!==null?(t=Ah(t,s,l),Nn(t,n)||(Me=!0),t):(Yi&42)===0||(Yi&1073741824)!==0&&(zt&261930)===0?(Me=!0,t.memoizedState=s):(t=mp(),Vt.lanes|=t,Is|=t,n)}function gg(t,n,s,l,h){var f=$.p;$.p=f!==0&&8>f?f:8;var p=X.T,E={};X.T=E,Rh(t,!1,n,s);try{var D=h(),H=X.S;if(H!==null&&H(E,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var J=tb(D,l);Sl(t,n,J,jn(t))}else Sl(t,n,l,jn(t))}catch(it){Sl(t,n,{then:function(){},status:"rejected",reason:it},jn())}finally{$.p=f,p!==null&&E.types!==null&&(p.types=E.types),X.T=p}}function rb(){}function wh(t,n,s,l){if(t.tag!==5)throw Error(r(476));var h=pg(t).queue;gg(t,h,n,ct,s===null?rb:function(){return yg(t),s(l)})}function pg(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:ct,baseState:ct,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ki,lastRenderedState:ct},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ki,lastRenderedState:s},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function yg(t){var n=pg(t);n.next===null&&(n=t.alternate.memoizedState),Sl(t,n.next.queue,{},jn())}function Ch(){return Ze(Pl)}function vg(){return we().memoizedState}function _g(){return we().memoizedState}function lb(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var s=jn();t=As(s);var l=ws(n,t,s);l!==null&&(En(l,n,s),_l(l,n,s)),n={cache:nh()},t.payload=n;return}n=n.return}}function ob(t,n,s){var l=jn();s={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},du(t)?Eg(n,s):(s=Gc(t,n,s,l),s!==null&&(En(s,t,l),Tg(s,n,l)))}function bg(t,n,s){var l=jn();Sl(t,n,s,l)}function Sl(t,n,s,l){var h={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(du(t))Eg(n,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var p=n.lastRenderedState,E=f(p,s);if(h.hasEagerState=!0,h.eagerState=E,Nn(E,p))return Yo(t,n,h,0),le===null&&Qo(),!1}catch{}finally{}if(s=Gc(t,n,h,l),s!==null)return En(s,t,l),Tg(s,n,l),!0}return!1}function Rh(t,n,s,l){if(l={lane:2,revertLane:lf(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},du(t)){if(n)throw Error(r(479))}else n=Gc(t,s,l,2),n!==null&&En(n,t,2)}function du(t){var n=t.alternate;return t===Vt||n!==null&&n===Vt}function Eg(t,n){fr=ru=!0;var s=t.pending;s===null?n.next=n:(n.next=s.next,s.next=n),t.pending=n}function Tg(t,n,s){if((s&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,s|=l,n.lanes=s,sa(t,s)}}var Al={readContext:Ze,use:uu,useCallback:be,useContext:be,useEffect:be,useImperativeHandle:be,useLayoutEffect:be,useInsertionEffect:be,useMemo:be,useReducer:be,useRef:be,useState:be,useDebugValue:be,useDeferredValue:be,useTransition:be,useSyncExternalStore:be,useId:be,useHostTransitionStatus:be,useFormState:be,useActionState:be,useOptimistic:be,useMemoCache:be,useCacheRefresh:be};Al.useEffectEvent=be;var xg={readContext:Ze,use:uu,useCallback:function(t,n){return cn().memoizedState=[t,n===void 0?null:n],t},useContext:Ze,useEffect:rg,useImperativeHandle:function(t,n,s){s=s!=null?s.concat([t]):null,hu(4194308,4,cg.bind(null,n,t),s)},useLayoutEffect:function(t,n){return hu(4194308,4,t,n)},useInsertionEffect:function(t,n){hu(4,2,t,n)},useMemo:function(t,n){var s=cn();n=n===void 0?null:n;var l=t();if(wa){ln(!0);try{t()}finally{ln(!1)}}return s.memoizedState=[l,n],l},useReducer:function(t,n,s){var l=cn();if(s!==void 0){var h=s(n);if(wa){ln(!0);try{s(n)}finally{ln(!1)}}}else h=n;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=ob.bind(null,Vt,t),[l.memoizedState,t]},useRef:function(t){var n=cn();return t={current:t},n.memoizedState=t},useState:function(t){t=Eh(t);var n=t.queue,s=bg.bind(null,Vt,n);return n.dispatch=s,[t.memoizedState,s]},useDebugValue:Sh,useDeferredValue:function(t,n){var s=cn();return Ah(s,t,n)},useTransition:function(){var t=Eh(!1);return t=gg.bind(null,Vt,t.queue,!0,!1),cn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,s){var l=Vt,h=cn();if(qt){if(s===void 0)throw Error(r(407));s=s()}else{if(s=n(),le===null)throw Error(r(349));(zt&127)!==0||Fm(l,n,s)}h.memoizedState=s;var f={value:s,getSnapshot:n};return h.queue=f,rg(Qm.bind(null,l,f,t),[t]),l.flags|=2048,mr(9,{destroy:void 0},Gm.bind(null,l,f,s,n),null),s},useId:function(){var t=cn(),n=le.identifierPrefix;if(qt){var s=wi,l=Ai;s=(l&~(1<<32-mt(l)-1)).toString(32)+s,n="_"+n+"R_"+s,s=lu++,0<s&&(n+="H"+s.toString(32)),n+="_"}else s=eb++,n="_"+n+"r_"+s.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:Ch,useFormState:eg,useActionState:eg,useOptimistic:function(t){var n=cn();n.memoizedState=n.baseState=t;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=Rh.bind(null,Vt,!0,s),s.dispatch=n,[t,n]},useMemoCache:vh,useCacheRefresh:function(){return cn().memoizedState=lb.bind(null,Vt)},useEffectEvent:function(t){var n=cn(),s={impl:t};return n.memoizedState=s,function(){if((Zt&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}},Nh={readContext:Ze,use:uu,useCallback:fg,useContext:Ze,useEffect:xh,useImperativeHandle:hg,useInsertionEffect:og,useLayoutEffect:ug,useMemo:dg,useReducer:cu,useRef:ag,useState:function(){return cu(Ki)},useDebugValue:Sh,useDeferredValue:function(t,n){var s=we();return mg(s,se.memoizedState,t,n)},useTransition:function(){var t=cu(Ki)[0],n=we().memoizedState;return[typeof t=="boolean"?t:xl(t),n]},useSyncExternalStore:Hm,useId:vg,useHostTransitionStatus:Ch,useFormState:ng,useActionState:ng,useOptimistic:function(t,n){var s=we();return Xm(s,se,t,n)},useMemoCache:vh,useCacheRefresh:_g};Nh.useEffectEvent=lg;var Sg={readContext:Ze,use:uu,useCallback:fg,useContext:Ze,useEffect:xh,useImperativeHandle:hg,useInsertionEffect:og,useLayoutEffect:ug,useMemo:dg,useReducer:bh,useRef:ag,useState:function(){return bh(Ki)},useDebugValue:Sh,useDeferredValue:function(t,n){var s=we();return se===null?Ah(s,t,n):mg(s,se.memoizedState,t,n)},useTransition:function(){var t=bh(Ki)[0],n=we().memoizedState;return[typeof t=="boolean"?t:xl(t),n]},useSyncExternalStore:Hm,useId:vg,useHostTransitionStatus:Ch,useFormState:sg,useActionState:sg,useOptimistic:function(t,n){var s=we();return se!==null?Xm(s,se,t,n):(s.baseState=t,[t,s.queue.dispatch])},useMemoCache:vh,useCacheRefresh:_g};Sg.useEffectEvent=lg;function Dh(t,n,s,l){n=t.memoizedState,s=s(l,n),s=s==null?n:S({},n,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var Ih={enqueueSetState:function(t,n,s){t=t._reactInternals;var l=jn(),h=As(l);h.payload=n,s!=null&&(h.callback=s),n=ws(t,h,l),n!==null&&(En(n,t,l),_l(n,t,l))},enqueueReplaceState:function(t,n,s){t=t._reactInternals;var l=jn(),h=As(l);h.tag=1,h.payload=n,s!=null&&(h.callback=s),n=ws(t,h,l),n!==null&&(En(n,t,l),_l(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var s=jn(),l=As(s);l.tag=2,n!=null&&(l.callback=n),n=ws(t,l,s),n!==null&&(En(n,t,s),_l(n,t,s))}};function Ag(t,n,s,l,h,f,p){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,p):n.prototype&&n.prototype.isPureReactComponent?!hl(s,l)||!hl(h,f):!0}function wg(t,n,s,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,l),n.state!==t&&Ih.enqueueReplaceState(n,n.state,null)}function Ca(t,n){var s=n;if("ref"in n){s={};for(var l in n)l!=="ref"&&(s[l]=n[l])}if(t=t.defaultProps){s===n&&(s=S({},s));for(var h in t)s[h]===void 0&&(s[h]=t[h])}return s}function Cg(t){Go(t)}function Rg(t){console.error(t)}function Ng(t){Go(t)}function mu(t,n){try{var s=t.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Dg(t,n,s){try{var l=t.onCaughtError;l(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Vh(t,n,s){return s=As(s),s.tag=3,s.payload={element:null},s.callback=function(){mu(t,n)},s}function Ig(t){return t=As(t),t.tag=3,t}function Vg(t,n,s,l){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var f=l.value;t.payload=function(){return h(f)},t.callback=function(){Dg(n,s,l)}}var p=s.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(t.callback=function(){Dg(n,s,l),typeof h!="function"&&(Vs===null?Vs=new Set([this]):Vs.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function ub(t,n,s,l,h){if(s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=s.alternate,n!==null&&rr(n,s,h,!0),s=In.current,s!==null){switch(s.tag){case 31:case 13:return Qn===null?wu():s.alternate===null&&Ee===0&&(Ee=3),s.flags&=-257,s.flags|=65536,s.lanes=h,l===eu?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([l]):n.add(l),sf(t,l,h)),!1;case 22:return s.flags|=65536,l===eu?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([l]):s.add(l)),sf(t,l,h)),!1}throw Error(r(435,s.tag))}return sf(t,l,h),wu(),!1}if(qt)return n=In.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,l!==Jc&&(t=Error(r(422),{cause:l}),ml(qn(t,s)))):(l!==Jc&&(n=Error(r(423),{cause:l}),ml(qn(n,s))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=qn(l,s),h=Vh(t.stateNode,l,h),oh(t,h),Ee!==4&&(Ee=2)),!1;var f=Error(r(520),{cause:l});if(f=qn(f,s),Ol===null?Ol=[f]:Ol.push(f),Ee!==4&&(Ee=2),n===null)return!0;l=qn(l,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,t=h&-h,s.lanes|=t,t=Vh(s.stateNode,l,t),oh(s,t),!1;case 1:if(n=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Vs===null||!Vs.has(f))))return s.flags|=65536,h&=-h,s.lanes|=h,h=Ig(h),Vg(h,t,s,l),oh(s,h),!1}s=s.return}while(s!==null);return!1}var Oh=Error(r(461)),Me=!1;function Je(t,n,s,l){n.child=t===null?Lm(n,null,s,l):Aa(n,t.child,s,l)}function Og(t,n,s,l,h){s=s.render;var f=n.ref;if("ref"in l){var p={};for(var E in l)E!=="ref"&&(p[E]=l[E])}else p=l;return Ea(n),l=mh(t,n,s,p,f,h),E=gh(),t!==null&&!Me?(ph(t,n,h),Xi(t,n,h)):(qt&&E&&Xc(n),n.flags|=1,Je(t,n,l,h),n.child)}function Mg(t,n,s,l,h){if(t===null){var f=s.type;return typeof f=="function"&&!Qc(f)&&f.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=f,jg(t,n,f,l,h)):(t=Xo(s.type,null,l,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!Ph(t,h)){var p=f.memoizedProps;if(s=s.compare,s=s!==null?s:hl,s(p,l)&&t.ref===n.ref)return Xi(t,n,h)}return n.flags|=1,t=Hi(f,l),t.ref=n.ref,t.return=n,n.child=t}function jg(t,n,s,l,h){if(t!==null){var f=t.memoizedProps;if(hl(f,l)&&t.ref===n.ref)if(Me=!1,n.pendingProps=l=f,Ph(t,h))(t.flags&131072)!==0&&(Me=!0);else return n.lanes=t.lanes,Xi(t,n,h)}return Mh(t,n,s,l,h)}function Lg(t,n,s,l){var h=l.children,f=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|s:s,t!==null){for(l=n.child=t.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~f}else l=0,n.child=null;return kg(t,n,f,s,l)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Wo(n,f!==null?f.cachePool:null),f!==null?Um(n,f):ch(),Bm(n);else return l=n.lanes=536870912,kg(t,n,f!==null?f.baseLanes|s:s,s,l)}else f!==null?(Wo(n,f.cachePool),Um(n,f),Rs(),n.memoizedState=null):(t!==null&&Wo(n,null),ch(),Rs());return Je(t,n,h,s),n.child}function wl(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function kg(t,n,s,l,h){var f=sh();return f=f===null?null:{parent:Ve._currentValue,pool:f},n.memoizedState={baseLanes:s,cachePool:f},t!==null&&Wo(n,null),ch(),Bm(n),t!==null&&rr(t,n,l,!0),n.childLanes=h,null}function gu(t,n){return n=yu({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function zg(t,n,s){return Aa(n,t.child,null,s),t=gu(n,n.pendingProps),t.flags|=2,Vn(n),n.memoizedState=null,t}function cb(t,n,s){var l=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(qt){if(l.mode==="hidden")return t=gu(n,l),n.lanes=536870912,wl(null,t);if(fh(n),(t=he)?(t=Zp(t,Gn),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:bs!==null?{id:Ai,overflow:wi}:null,retryLane:536870912,hydrationErrors:null},s=Em(t),s.return=n,n.child=s,Xe=n,he=null)):t=null,t===null)throw Ts(n);return n.lanes=536870912,null}return gu(n,l)}var f=t.memoizedState;if(f!==null){var p=f.dehydrated;if(fh(n),h)if(n.flags&256)n.flags&=-257,n=zg(t,n,s);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(r(558));else if(Me||rr(t,n,s,!1),h=(s&t.childLanes)!==0,Me||h){if(l=le,l!==null&&(p=Yr(l,s),p!==0&&p!==f.retryLane))throw f.retryLane=p,ya(t,p),En(l,t,p),Oh;wu(),n=zg(t,n,s)}else t=f.treeContext,he=Yn(p.nextSibling),Xe=n,qt=!0,Es=null,Gn=!1,t!==null&&Sm(n,t),n=gu(n,l),n.flags|=4096;return n}return t=Hi(t.child,{mode:l.mode,children:l.children}),t.ref=n.ref,n.child=t,t.return=n,t}function pu(t,n){var s=n.ref;if(s===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(r(284));(t===null||t.ref!==s)&&(n.flags|=4194816)}}function Mh(t,n,s,l,h){return Ea(n),s=mh(t,n,s,l,void 0,h),l=gh(),t!==null&&!Me?(ph(t,n,h),Xi(t,n,h)):(qt&&l&&Xc(n),n.flags|=1,Je(t,n,s,h),n.child)}function Ug(t,n,s,l,h,f){return Ea(n),n.updateQueue=null,s=qm(n,l,s,h),Pm(t),l=gh(),t!==null&&!Me?(ph(t,n,f),Xi(t,n,f)):(qt&&l&&Xc(n),n.flags|=1,Je(t,n,s,f),n.child)}function Bg(t,n,s,l,h){if(Ea(n),n.stateNode===null){var f=nr,p=s.contextType;typeof p=="object"&&p!==null&&(f=Ze(p)),f=new s(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Ih,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},rh(n),p=s.contextType,f.context=typeof p=="object"&&p!==null?Ze(p):nr,f.state=n.memoizedState,p=s.getDerivedStateFromProps,typeof p=="function"&&(Dh(n,s,p,l),f.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(p=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),p!==f.state&&Ih.enqueueReplaceState(f,f.state,null),El(n,l,f,h),bl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var E=n.memoizedProps,D=Ca(s,E);f.props=D;var H=f.context,J=s.contextType;p=nr,typeof J=="object"&&J!==null&&(p=Ze(J));var it=s.getDerivedStateFromProps;J=typeof it=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,J||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||H!==p)&&wg(n,f,l,p),Ss=!1;var F=n.memoizedState;f.state=F,El(n,l,f,h),bl(),H=n.memoizedState,E||F!==H||Ss?(typeof it=="function"&&(Dh(n,s,it,l),H=n.memoizedState),(D=Ss||Ag(n,s,D,l,F,H,p))?(J||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=H),f.props=l,f.state=H,f.context=p,l=D):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,lh(t,n),p=n.memoizedProps,J=Ca(s,p),f.props=J,it=n.pendingProps,F=f.context,H=s.contextType,D=nr,typeof H=="object"&&H!==null&&(D=Ze(H)),E=s.getDerivedStateFromProps,(H=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(p!==it||F!==D)&&wg(n,f,l,D),Ss=!1,F=n.memoizedState,f.state=F,El(n,l,f,h),bl();var K=n.memoizedState;p!==it||F!==K||Ss||t!==null&&t.dependencies!==null&&Jo(t.dependencies)?(typeof E=="function"&&(Dh(n,s,E,l),K=n.memoizedState),(J=Ss||Ag(n,s,J,l,F,K,D)||t!==null&&t.dependencies!==null&&Jo(t.dependencies))?(H||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,K,D),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,K,D)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||p===t.memoizedProps&&F===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===t.memoizedProps&&F===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=K),f.props=l,f.state=K,f.context=D,l=J):(typeof f.componentDidUpdate!="function"||p===t.memoizedProps&&F===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===t.memoizedProps&&F===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,pu(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,s=l&&typeof s.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=Aa(n,t.child,null,h),n.child=Aa(n,null,s,h)):Je(t,n,s,h),n.memoizedState=f.state,t=n.child):t=Xi(t,n,h),t}function Pg(t,n,s,l){return _a(),n.flags|=256,Je(t,n,s,l),n.child}var jh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Lh(t){return{baseLanes:t,cachePool:Dm()}}function kh(t,n,s){return t=t!==null?t.childLanes&~s:0,n&&(t|=Mn),t}function qg(t,n,s){var l=n.pendingProps,h=!1,f=(n.flags&128)!==0,p;if((p=f)||(p=t!==null&&t.memoizedState===null?!1:(Ae.current&2)!==0),p&&(h=!0,n.flags&=-129),p=(n.flags&32)!==0,n.flags&=-33,t===null){if(qt){if(h?Cs(n):Rs(),(t=he)?(t=Zp(t,Gn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:bs!==null?{id:Ai,overflow:wi}:null,retryLane:536870912,hydrationErrors:null},s=Em(t),s.return=n,n.child=s,Xe=n,he=null)):t=null,t===null)throw Ts(n);return bf(t)?n.lanes=32:n.lanes=536870912,null}var E=l.children;return l=l.fallback,h?(Rs(),h=n.mode,E=yu({mode:"hidden",children:E},h),l=va(l,h,s,null),E.return=n,l.return=n,E.sibling=l,n.child=E,l=n.child,l.memoizedState=Lh(s),l.childLanes=kh(t,p,s),n.memoizedState=jh,wl(null,l)):(Cs(n),zh(n,E))}var D=t.memoizedState;if(D!==null&&(E=D.dehydrated,E!==null)){if(f)n.flags&256?(Cs(n),n.flags&=-257,n=Uh(t,n,s)):n.memoizedState!==null?(Rs(),n.child=t.child,n.flags|=128,n=null):(Rs(),E=l.fallback,h=n.mode,l=yu({mode:"visible",children:l.children},h),E=va(E,h,s,null),E.flags|=2,l.return=n,E.return=n,l.sibling=E,n.child=l,Aa(n,t.child,null,s),l=n.child,l.memoizedState=Lh(s),l.childLanes=kh(t,p,s),n.memoizedState=jh,n=wl(null,l));else if(Cs(n),bf(E)){if(p=E.nextSibling&&E.nextSibling.dataset,p)var H=p.dgst;p=H,l=Error(r(419)),l.stack="",l.digest=p,ml({value:l,source:null,stack:null}),n=Uh(t,n,s)}else if(Me||rr(t,n,s,!1),p=(s&t.childLanes)!==0,Me||p){if(p=le,p!==null&&(l=Yr(p,s),l!==0&&l!==D.retryLane))throw D.retryLane=l,ya(t,l),En(p,t,l),Oh;_f(E)||wu(),n=Uh(t,n,s)}else _f(E)?(n.flags|=192,n.child=t.child,n=null):(t=D.treeContext,he=Yn(E.nextSibling),Xe=n,qt=!0,Es=null,Gn=!1,t!==null&&Sm(n,t),n=zh(n,l.children),n.flags|=4096);return n}return h?(Rs(),E=l.fallback,h=n.mode,D=t.child,H=D.sibling,l=Hi(D,{mode:"hidden",children:l.children}),l.subtreeFlags=D.subtreeFlags&65011712,H!==null?E=Hi(H,E):(E=va(E,h,s,null),E.flags|=2),E.return=n,l.return=n,l.sibling=E,n.child=l,wl(null,l),l=n.child,E=t.child.memoizedState,E===null?E=Lh(s):(h=E.cachePool,h!==null?(D=Ve._currentValue,h=h.parent!==D?{parent:D,pool:D}:h):h=Dm(),E={baseLanes:E.baseLanes|s,cachePool:h}),l.memoizedState=E,l.childLanes=kh(t,p,s),n.memoizedState=jh,wl(t.child,l)):(Cs(n),s=t.child,t=s.sibling,s=Hi(s,{mode:"visible",children:l.children}),s.return=n,s.sibling=null,t!==null&&(p=n.deletions,p===null?(n.deletions=[t],n.flags|=16):p.push(t)),n.child=s,n.memoizedState=null,s)}function zh(t,n){return n=yu({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function yu(t,n){return t=Dn(22,t,null,n),t.lanes=0,t}function Uh(t,n,s){return Aa(n,t.child,null,s),t=zh(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function Hg(t,n,s){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),th(t.return,n,s)}function Bh(t,n,s,l,h,f){var p=t.memoizedState;p===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:h,treeForkCount:f}:(p.isBackwards=n,p.rendering=null,p.renderingStartTime=0,p.last=l,p.tail=s,p.tailMode=h,p.treeForkCount=f)}function Fg(t,n,s){var l=n.pendingProps,h=l.revealOrder,f=l.tail;l=l.children;var p=Ae.current,E=(p&2)!==0;if(E?(p=p&1|2,n.flags|=128):p&=1,Z(Ae,p),Je(t,n,l,s),l=qt?dl:0,!E&&t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Hg(t,s,n);else if(t.tag===19)Hg(t,s,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(s=n.child,h=null;s!==null;)t=s.alternate,t!==null&&au(t)===null&&(h=s),s=s.sibling;s=h,s===null?(h=n.child,n.child=null):(h=s.sibling,s.sibling=null),Bh(n,!1,h,s,f,l);break;case"backwards":case"unstable_legacy-backwards":for(s=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&au(t)===null){n.child=h;break}t=h.sibling,h.sibling=s,s=h,h=t}Bh(n,!0,s,null,f,l);break;case"together":Bh(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function Xi(t,n,s){if(t!==null&&(n.dependencies=t.dependencies),Is|=n.lanes,(s&n.childLanes)===0)if(t!==null){if(rr(t,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(r(153));if(n.child!==null){for(t=n.child,s=Hi(t,t.pendingProps),n.child=s,s.return=n;t.sibling!==null;)t=t.sibling,s=s.sibling=Hi(t,t.pendingProps),s.return=n;s.sibling=null}return n.child}function Ph(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Jo(t)))}function hb(t,n,s){switch(n.tag){case 3:Wt(n,n.stateNode.containerInfo),xs(n,Ve,t.memoizedState.cache),_a();break;case 27:case 5:ji(n);break;case 4:Wt(n,n.stateNode.containerInfo);break;case 10:xs(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,fh(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(Cs(n),n.flags|=128,null):(s&n.child.childLanes)!==0?qg(t,n,s):(Cs(n),t=Xi(t,n,s),t!==null?t.sibling:null);Cs(n);break;case 19:var h=(t.flags&128)!==0;if(l=(s&n.childLanes)!==0,l||(rr(t,n,s,!1),l=(s&n.childLanes)!==0),h){if(l)return Fg(t,n,s);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),Z(Ae,Ae.current),l)break;return null;case 22:return n.lanes=0,Lg(t,n,s,n.pendingProps);case 24:xs(n,Ve,t.memoizedState.cache)}return Xi(t,n,s)}function Gg(t,n,s){if(t!==null)if(t.memoizedProps!==n.pendingProps)Me=!0;else{if(!Ph(t,s)&&(n.flags&128)===0)return Me=!1,hb(t,n,s);Me=(t.flags&131072)!==0}else Me=!1,qt&&(n.flags&1048576)!==0&&xm(n,dl,n.index);switch(n.lanes=0,n.tag){case 16:t:{var l=n.pendingProps;if(t=xa(n.elementType),n.type=t,typeof t=="function")Qc(t)?(l=Ca(t,l),n.tag=1,n=Bg(null,n,t,l,s)):(n.tag=0,n=Mh(null,n,t,l,s));else{if(t!=null){var h=t.$$typeof;if(h===yt){n.tag=11,n=Og(null,n,t,l,s);break t}else if(h===w){n.tag=14,n=Mg(null,n,t,l,s);break t}}throw n=Gt(t)||t,Error(r(306,n,""))}}return n;case 0:return Mh(t,n,n.type,n.pendingProps,s);case 1:return l=n.type,h=Ca(l,n.pendingProps),Bg(t,n,l,h,s);case 3:t:{if(Wt(n,n.stateNode.containerInfo),t===null)throw Error(r(387));l=n.pendingProps;var f=n.memoizedState;h=f.element,lh(t,n),El(n,l,null,s);var p=n.memoizedState;if(l=p.cache,xs(n,Ve,l),l!==f.cache&&eh(n,[Ve],s,!0),bl(),l=p.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:p.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Pg(t,n,l,s);break t}else if(l!==h){h=qn(Error(r(424)),n),ml(h),n=Pg(t,n,l,s);break t}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(he=Yn(t.firstChild),Xe=n,qt=!0,Es=null,Gn=!0,s=Lm(n,null,l,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(_a(),l===h){n=Xi(t,n,s);break t}Je(t,n,l,s)}n=n.child}return n;case 26:return pu(t,n),t===null?(s=ny(n.type,null,n.pendingProps,null))?n.memoizedState=s:qt||(s=n.type,t=n.pendingProps,l=Ou(ut.current).createElement(s),l[Ne]=n,l[He]=t,$e(l,s,t),De(l),n.stateNode=l):n.memoizedState=ny(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return ji(n),t===null&&qt&&(l=n.stateNode=Wp(n.type,n.pendingProps,ut.current),Xe=n,Gn=!0,h=he,Ls(n.type)?(Ef=h,he=Yn(l.firstChild)):he=h),Je(t,n,n.pendingProps.children,s),pu(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&qt&&((h=l=he)&&(l=Pb(l,n.type,n.pendingProps,Gn),l!==null?(n.stateNode=l,Xe=n,he=Yn(l.firstChild),Gn=!1,h=!0):h=!1),h||Ts(n)),ji(n),h=n.type,f=n.pendingProps,p=t!==null?t.memoizedProps:null,l=f.children,pf(h,f)?l=null:p!==null&&pf(h,p)&&(n.flags|=32),n.memoizedState!==null&&(h=mh(t,n,nb,null,null,s),Pl._currentValue=h),pu(t,n),Je(t,n,l,s),n.child;case 6:return t===null&&qt&&((t=s=he)&&(s=qb(s,n.pendingProps,Gn),s!==null?(n.stateNode=s,Xe=n,he=null,t=!0):t=!1),t||Ts(n)),null;case 13:return qg(t,n,s);case 4:return Wt(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=Aa(n,null,l,s):Je(t,n,l,s),n.child;case 11:return Og(t,n,n.type,n.pendingProps,s);case 7:return Je(t,n,n.pendingProps,s),n.child;case 8:return Je(t,n,n.pendingProps.children,s),n.child;case 12:return Je(t,n,n.pendingProps.children,s),n.child;case 10:return l=n.pendingProps,xs(n,n.type,l.value),Je(t,n,l.children,s),n.child;case 9:return h=n.type._context,l=n.pendingProps.children,Ea(n),h=Ze(h),l=l(h),n.flags|=1,Je(t,n,l,s),n.child;case 14:return Mg(t,n,n.type,n.pendingProps,s);case 15:return jg(t,n,n.type,n.pendingProps,s);case 19:return Fg(t,n,s);case 31:return cb(t,n,s);case 22:return Lg(t,n,s,n.pendingProps);case 24:return Ea(n),l=Ze(Ve),t===null?(h=sh(),h===null&&(h=le,f=nh(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=s),h=f),n.memoizedState={parent:l,cache:h},rh(n),xs(n,Ve,h)):((t.lanes&s)!==0&&(lh(t,n),El(n,null,null,s),bl()),h=t.memoizedState,f=n.memoizedState,h.parent!==l?(h={parent:l,cache:l},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),xs(n,Ve,l)):(l=f.cache,xs(n,Ve,l),l!==h.cache&&eh(n,[Ve],s,!0))),Je(t,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(r(156,n.tag))}function Zi(t){t.flags|=4}function qh(t,n,s,l,h){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(vp())t.flags|=8192;else throw Sa=eu,ah}else t.flags&=-16777217}function Qg(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!ly(n))if(vp())t.flags|=8192;else throw Sa=eu,ah}function vu(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?on():536870912,t.lanes|=n,vr|=n)}function Cl(t,n){if(!qt)switch(t.tailMode){case"hidden":n=t.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function fe(t){var n=t.alternate!==null&&t.alternate.child===t.child,s=0,l=0;if(n)for(var h=t.child;h!==null;)s|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)s|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=s,n}function fb(t,n,s){var l=n.pendingProps;switch(Zc(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return fe(n),null;case 1:return fe(n),null;case 3:return s=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Qi(Ve),oe(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(ar(n)?Zi(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,$c())),fe(n),null;case 26:var h=n.type,f=n.memoizedState;return t===null?(Zi(n),f!==null?(fe(n),Qg(n,f)):(fe(n),qh(n,h,null,l,s))):f?f!==t.memoizedState?(Zi(n),fe(n),Qg(n,f)):(fe(n),n.flags&=-16777217):(t=t.memoizedProps,t!==l&&Zi(n),fe(n),qh(n,h,t,l,s)),null;case 27:if(os(n),s=ut.current,h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Zi(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return fe(n),null}t=st.current,ar(n)?Am(n):(t=Wp(h,l,s),n.stateNode=t,Zi(n))}return fe(n),null;case 5:if(os(n),h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Zi(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return fe(n),null}if(f=st.current,ar(n))Am(n);else{var p=Ou(ut.current);switch(f){case 1:f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=p.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?p.createElement("select",{is:l.is}):p.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?p.createElement(h,{is:l.is}):p.createElement(h)}}f[Ne]=n,f[He]=l;t:for(p=n.child;p!==null;){if(p.tag===5||p.tag===6)f.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===n)break t;for(;p.sibling===null;){if(p.return===null||p.return===n)break t;p=p.return}p.sibling.return=p.return,p=p.sibling}n.stateNode=f;t:switch($e(f,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&Zi(n)}}return fe(n),qh(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,s),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&Zi(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(r(166));if(t=ut.current,ar(n)){if(t=n.stateNode,s=n.memoizedProps,l=null,h=Xe,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[Ne]=n,t=!!(t.nodeValue===s||l!==null&&l.suppressHydrationWarning===!0||qp(t.nodeValue,s)),t||Ts(n,!0)}else t=Ou(t).createTextNode(l),t[Ne]=n,n.stateNode=t}return fe(n),null;case 31:if(s=n.memoizedState,t===null||t.memoizedState!==null){if(l=ar(n),s!==null){if(t===null){if(!l)throw Error(r(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(557));t[Ne]=n}else _a(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;fe(n),t=!1}else s=$c(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=s),t=!0;if(!t)return n.flags&256?(Vn(n),n):(Vn(n),null);if((n.flags&128)!==0)throw Error(r(558))}return fe(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=ar(n),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(r(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));h[Ne]=n}else _a(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;fe(n),h=!1}else h=$c(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(Vn(n),n):(Vn(n),null)}return Vn(n),(n.flags&128)!==0?(n.lanes=s,n):(s=l!==null,t=t!==null&&t.memoizedState!==null,s&&(l=n.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==h&&(l.flags|=2048)),s!==t&&s&&(n.child.flags|=8192),vu(n,n.updateQueue),fe(n),null);case 4:return oe(),t===null&&hf(n.stateNode.containerInfo),fe(n),null;case 10:return Qi(n.type),fe(n),null;case 19:if(I(Ae),l=n.memoizedState,l===null)return fe(n),null;if(h=(n.flags&128)!==0,f=l.rendering,f===null)if(h)Cl(l,!1);else{if(Ee!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=au(t),f!==null){for(n.flags|=128,Cl(l,!1),t=f.updateQueue,n.updateQueue=t,vu(n,t),n.subtreeFlags=0,t=s,s=n.child;s!==null;)bm(s,t),s=s.sibling;return Z(Ae,Ae.current&1|2),qt&&Fi(n,l.treeForkCount),n.child}t=t.sibling}l.tail!==null&&et()>xu&&(n.flags|=128,h=!0,Cl(l,!1),n.lanes=4194304)}else{if(!h)if(t=au(f),t!==null){if(n.flags|=128,h=!0,t=t.updateQueue,n.updateQueue=t,vu(n,t),Cl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!qt)return fe(n),null}else 2*et()-l.renderingStartTime>xu&&s!==536870912&&(n.flags|=128,h=!0,Cl(l,!1),n.lanes=4194304);l.isBackwards?(f.sibling=n.child,n.child=f):(t=l.last,t!==null?t.sibling=f:n.child=f,l.last=f)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=et(),t.sibling=null,s=Ae.current,Z(Ae,h?s&1|2:s&1),qt&&Fi(n,l.treeForkCount),t):(fe(n),null);case 22:case 23:return Vn(n),hh(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(s&536870912)!==0&&(n.flags&128)===0&&(fe(n),n.subtreeFlags&6&&(n.flags|=8192)):fe(n),s=n.updateQueue,s!==null&&vu(n,s.retryQueue),s=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==s&&(n.flags|=2048),t!==null&&I(Ta),null;case 24:return s=null,t!==null&&(s=t.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),Qi(Ve),fe(n),null;case 25:return null;case 30:return null}throw Error(r(156,n.tag))}function db(t,n){switch(Zc(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Qi(Ve),oe(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return os(n),null;case 31:if(n.memoizedState!==null){if(Vn(n),n.alternate===null)throw Error(r(340));_a()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(Vn(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(r(340));_a()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return I(Ae),null;case 4:return oe(),null;case 10:return Qi(n.type),null;case 22:case 23:return Vn(n),hh(),t!==null&&I(Ta),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Qi(Ve),null;case 25:return null;default:return null}}function Yg(t,n){switch(Zc(n),n.tag){case 3:Qi(Ve),oe();break;case 26:case 27:case 5:os(n);break;case 4:oe();break;case 31:n.memoizedState!==null&&Vn(n);break;case 13:Vn(n);break;case 19:I(Ae);break;case 10:Qi(n.type);break;case 22:case 23:Vn(n),hh(),t!==null&&I(Ta);break;case 24:Qi(Ve)}}function Rl(t,n){try{var s=n.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var h=l.next;s=h;do{if((s.tag&t)===t){l=void 0;var f=s.create,p=s.inst;l=f(),p.destroy=l}s=s.next}while(s!==h)}}catch(E){ne(n,n.return,E)}}function Ns(t,n,s){try{var l=n.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var f=h.next;l=f;do{if((l.tag&t)===t){var p=l.inst,E=p.destroy;if(E!==void 0){p.destroy=void 0,h=n;var D=s,H=E;try{H()}catch(J){ne(h,D,J)}}}l=l.next}while(l!==f)}}catch(J){ne(n,n.return,J)}}function Kg(t){var n=t.updateQueue;if(n!==null){var s=t.stateNode;try{zm(n,s)}catch(l){ne(t,t.return,l)}}}function Xg(t,n,s){s.props=Ca(t.type,t.memoizedProps),s.state=t.memoizedState;try{s.componentWillUnmount()}catch(l){ne(t,n,l)}}function Nl(t,n){try{var s=t.ref;if(s!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof s=="function"?t.refCleanup=s(l):s.current=l}}catch(h){ne(t,n,h)}}function Ci(t,n){var s=t.ref,l=t.refCleanup;if(s!==null)if(typeof l=="function")try{l()}catch(h){ne(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){ne(t,n,h)}else s.current=null}function Zg(t){var n=t.type,s=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&l.focus();break t;case"img":s.src?l.src=s.src:s.srcSet&&(l.srcset=s.srcSet)}}catch(h){ne(t,t.return,h)}}function Hh(t,n,s){try{var l=t.stateNode;jb(l,t.type,s,n),l[He]=n}catch(h){ne(t,t.return,h)}}function Jg(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Ls(t.type)||t.tag===4}function Fh(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||Jg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Ls(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Gh(t,n,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(t,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(t),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=ei));else if(l!==4&&(l===27&&Ls(t.type)&&(s=t.stateNode,n=null),t=t.child,t!==null))for(Gh(t,n,s),t=t.sibling;t!==null;)Gh(t,n,s),t=t.sibling}function _u(t,n,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?s.insertBefore(t,n):s.appendChild(t);else if(l!==4&&(l===27&&Ls(t.type)&&(s=t.stateNode),t=t.child,t!==null))for(_u(t,n,s),t=t.sibling;t!==null;)_u(t,n,s),t=t.sibling}function $g(t){var n=t.stateNode,s=t.memoizedProps;try{for(var l=t.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);$e(n,l,s),n[Ne]=t,n[He]=s}catch(f){ne(t,t.return,f)}}var Ji=!1,je=!1,Qh=!1,Wg=typeof WeakSet=="function"?WeakSet:Set,Ge=null;function mb(t,n){if(t=t.containerInfo,mf=Bu,t=hm(t),Uc(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else t:{s=(s=t.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var h=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break t}var p=0,E=-1,D=-1,H=0,J=0,it=t,F=null;e:for(;;){for(var K;it!==s||h!==0&&it.nodeType!==3||(E=p+h),it!==f||l!==0&&it.nodeType!==3||(D=p+l),it.nodeType===3&&(p+=it.nodeValue.length),(K=it.firstChild)!==null;)F=it,it=K;for(;;){if(it===t)break e;if(F===s&&++H===h&&(E=p),F===f&&++J===l&&(D=p),(K=it.nextSibling)!==null)break;it=F,F=it.parentNode}it=K}s=E===-1||D===-1?null:{start:E,end:D}}else s=null}s=s||{start:0,end:0}}else s=null;for(gf={focusedElem:t,selectionRange:s},Bu=!1,Ge=n;Ge!==null;)if(n=Ge,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,Ge=t;else for(;Ge!==null;){switch(n=Ge,f=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(s=0;s<t.length;s++)h=t[s],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,s=n,h=f.memoizedProps,f=f.memoizedState,l=s.stateNode;try{var pt=Ca(s.type,h);t=l.getSnapshotBeforeUpdate(pt,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(At){ne(s,s.return,At)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,s=t.nodeType,s===9)vf(t);else if(s===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":vf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=n.sibling,t!==null){t.return=n.return,Ge=t;break}Ge=n.return}}function tp(t,n,s){var l=s.flags;switch(s.tag){case 0:case 11:case 15:Wi(t,s),l&4&&Rl(5,s);break;case 1:if(Wi(t,s),l&4)if(t=s.stateNode,n===null)try{t.componentDidMount()}catch(p){ne(s,s.return,p)}else{var h=Ca(s.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(p){ne(s,s.return,p)}}l&64&&Kg(s),l&512&&Nl(s,s.return);break;case 3:if(Wi(t,s),l&64&&(t=s.updateQueue,t!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{zm(t,n)}catch(p){ne(s,s.return,p)}}break;case 27:n===null&&l&4&&$g(s);case 26:case 5:Wi(t,s),n===null&&l&4&&Zg(s),l&512&&Nl(s,s.return);break;case 12:Wi(t,s);break;case 31:Wi(t,s),l&4&&ip(t,s);break;case 13:Wi(t,s),l&4&&sp(t,s),l&64&&(t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(s=xb.bind(null,s),Hb(t,s))));break;case 22:if(l=s.memoizedState!==null||Ji,!l){n=n!==null&&n.memoizedState!==null||je,h=Ji;var f=je;Ji=l,(je=n)&&!f?ts(t,s,(s.subtreeFlags&8772)!==0):Wi(t,s),Ji=h,je=f}break;case 30:break;default:Wi(t,s)}}function ep(t){var n=t.alternate;n!==null&&(t.alternate=null,ep(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&qa(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ge=null,yn=!1;function $i(t,n,s){for(s=s.child;s!==null;)np(t,n,s),s=s.sibling}function np(t,n,s){if(Re&&typeof Re.onCommitFiberUnmount=="function")try{Re.onCommitFiberUnmount(hn,s)}catch{}switch(s.tag){case 26:je||Ci(s,n),$i(t,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:je||Ci(s,n);var l=ge,h=yn;Ls(s.type)&&(ge=s.stateNode,yn=!1),$i(t,n,s),zl(s.stateNode),ge=l,yn=h;break;case 5:je||Ci(s,n);case 6:if(l=ge,h=yn,ge=null,$i(t,n,s),ge=l,yn=h,ge!==null)if(yn)try{(ge.nodeType===9?ge.body:ge.nodeName==="HTML"?ge.ownerDocument.body:ge).removeChild(s.stateNode)}catch(f){ne(s,n,f)}else try{ge.removeChild(s.stateNode)}catch(f){ne(s,n,f)}break;case 18:ge!==null&&(yn?(t=ge,Kp(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,s.stateNode),wr(t)):Kp(ge,s.stateNode));break;case 4:l=ge,h=yn,ge=s.stateNode.containerInfo,yn=!0,$i(t,n,s),ge=l,yn=h;break;case 0:case 11:case 14:case 15:Ns(2,s,n),je||Ns(4,s,n),$i(t,n,s);break;case 1:je||(Ci(s,n),l=s.stateNode,typeof l.componentWillUnmount=="function"&&Xg(s,n,l)),$i(t,n,s);break;case 21:$i(t,n,s);break;case 22:je=(l=je)||s.memoizedState!==null,$i(t,n,s),je=l;break;default:$i(t,n,s)}}function ip(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{wr(t)}catch(s){ne(n,n.return,s)}}}function sp(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{wr(t)}catch(s){ne(n,n.return,s)}}function gb(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new Wg),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new Wg),n;default:throw Error(r(435,t.tag))}}function bu(t,n){var s=gb(t);n.forEach(function(l){if(!s.has(l)){s.add(l);var h=Sb.bind(null,t,l);l.then(h,h)}})}function vn(t,n){var s=n.deletions;if(s!==null)for(var l=0;l<s.length;l++){var h=s[l],f=t,p=n,E=p;t:for(;E!==null;){switch(E.tag){case 27:if(Ls(E.type)){ge=E.stateNode,yn=!1;break t}break;case 5:ge=E.stateNode,yn=!1;break t;case 3:case 4:ge=E.stateNode.containerInfo,yn=!0;break t}E=E.return}if(ge===null)throw Error(r(160));np(f,p,h),ge=null,yn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)ap(n,t),n=n.sibling}var li=null;function ap(t,n){var s=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:vn(n,t),_n(t),l&4&&(Ns(3,t,t.return),Rl(3,t),Ns(5,t,t.return));break;case 1:vn(n,t),_n(t),l&512&&(je||s===null||Ci(s,s.return)),l&64&&Ji&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(s=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=s===null?l:s.concat(l))));break;case 26:var h=li;if(vn(n,t),_n(t),l&512&&(je||s===null||Ci(s,s.return)),l&4){var f=s!==null?s.memoizedState:null;if(l=t.memoizedState,s===null)if(l===null)if(t.stateNode===null){t:{l=t.type,s=t.memoizedProps,h=h.ownerDocument||h;e:switch(l){case"title":f=h.getElementsByTagName("title")[0],(!f||f[di]||f[Ne]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(l),h.head.insertBefore(f,h.querySelector("head > title"))),$e(f,l,s),f[Ne]=t,De(f),l=f;break t;case"link":var p=ay("link","href",h).get(l+(s.href||""));if(p){for(var E=0;E<p.length;E++)if(f=p[E],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){p.splice(E,1);break e}}f=h.createElement(l),$e(f,l,s),h.head.appendChild(f);break;case"meta":if(p=ay("meta","content",h).get(l+(s.content||""))){for(E=0;E<p.length;E++)if(f=p[E],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){p.splice(E,1);break e}}f=h.createElement(l),$e(f,l,s),h.head.appendChild(f);break;default:throw Error(r(468,l))}f[Ne]=t,De(f),l=f}t.stateNode=l}else ry(h,t.type,t.stateNode);else t.stateNode=sy(h,l,t.memoizedProps);else f!==l?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,l===null?ry(h,t.type,t.stateNode):sy(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Hh(t,t.memoizedProps,s.memoizedProps)}break;case 27:vn(n,t),_n(t),l&512&&(je||s===null||Ci(s,s.return)),s!==null&&l&4&&Hh(t,t.memoizedProps,s.memoizedProps);break;case 5:if(vn(n,t),_n(t),l&512&&(je||s===null||Ci(s,s.return)),t.flags&32){h=t.stateNode;try{pn(h,"")}catch(pt){ne(t,t.return,pt)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,Hh(t,h,s!==null?s.memoizedProps:h)),l&1024&&(Qh=!0);break;case 6:if(vn(n,t),_n(t),l&4){if(t.stateNode===null)throw Error(r(162));l=t.memoizedProps,s=t.stateNode;try{s.nodeValue=l}catch(pt){ne(t,t.return,pt)}}break;case 3:if(Lu=null,h=li,li=Mu(n.containerInfo),vn(n,t),li=h,_n(t),l&4&&s!==null&&s.memoizedState.isDehydrated)try{wr(n.containerInfo)}catch(pt){ne(t,t.return,pt)}Qh&&(Qh=!1,rp(t));break;case 4:l=li,li=Mu(t.stateNode.containerInfo),vn(n,t),_n(t),li=l;break;case 12:vn(n,t),_n(t);break;case 31:vn(n,t),_n(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,bu(t,l)));break;case 13:vn(n,t),_n(t),t.child.flags&8192&&t.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Tu=et()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,bu(t,l)));break;case 22:h=t.memoizedState!==null;var D=s!==null&&s.memoizedState!==null,H=Ji,J=je;if(Ji=H||h,je=J||D,vn(n,t),je=J,Ji=H,_n(t),l&8192)t:for(n=t.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(s===null||D||Ji||je||Ra(t)),s=null,n=t;;){if(n.tag===5||n.tag===26){if(s===null){D=s=n;try{if(f=D.stateNode,h)p=f.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{E=D.stateNode;var it=D.memoizedProps.style,F=it!=null&&it.hasOwnProperty("display")?it.display:null;E.style.display=F==null||typeof F=="boolean"?"":(""+F).trim()}}catch(pt){ne(D,D.return,pt)}}}else if(n.tag===6){if(s===null){D=n;try{D.stateNode.nodeValue=h?"":D.memoizedProps}catch(pt){ne(D,D.return,pt)}}}else if(n.tag===18){if(s===null){D=n;try{var K=D.stateNode;h?Xp(K,!0):Xp(D.stateNode,!1)}catch(pt){ne(D,D.return,pt)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(s=l.retryQueue,s!==null&&(l.retryQueue=null,bu(t,s))));break;case 19:vn(n,t),_n(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,bu(t,l)));break;case 30:break;case 21:break;default:vn(n,t),_n(t)}}function _n(t){var n=t.flags;if(n&2){try{for(var s,l=t.return;l!==null;){if(Jg(l)){s=l;break}l=l.return}if(s==null)throw Error(r(160));switch(s.tag){case 27:var h=s.stateNode,f=Fh(t);_u(t,f,h);break;case 5:var p=s.stateNode;s.flags&32&&(pn(p,""),s.flags&=-33);var E=Fh(t);_u(t,E,p);break;case 3:case 4:var D=s.stateNode.containerInfo,H=Fh(t);Gh(t,H,D);break;default:throw Error(r(161))}}catch(J){ne(t,t.return,J)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function rp(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;rp(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function Wi(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)tp(t,n.alternate,n),n=n.sibling}function Ra(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Ns(4,n,n.return),Ra(n);break;case 1:Ci(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&Xg(n,n.return,s),Ra(n);break;case 27:zl(n.stateNode);case 26:case 5:Ci(n,n.return),Ra(n);break;case 22:n.memoizedState===null&&Ra(n);break;case 30:Ra(n);break;default:Ra(n)}t=t.sibling}}function ts(t,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,h=t,f=n,p=f.flags;switch(f.tag){case 0:case 11:case 15:ts(h,f,s),Rl(4,f);break;case 1:if(ts(h,f,s),l=f,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(H){ne(l,l.return,H)}if(l=f,h=l.updateQueue,h!==null){var E=l.stateNode;try{var D=h.shared.hiddenCallbacks;if(D!==null)for(h.shared.hiddenCallbacks=null,h=0;h<D.length;h++)km(D[h],E)}catch(H){ne(l,l.return,H)}}s&&p&64&&Kg(f),Nl(f,f.return);break;case 27:$g(f);case 26:case 5:ts(h,f,s),s&&l===null&&p&4&&Zg(f),Nl(f,f.return);break;case 12:ts(h,f,s);break;case 31:ts(h,f,s),s&&p&4&&ip(h,f);break;case 13:ts(h,f,s),s&&p&4&&sp(h,f);break;case 22:f.memoizedState===null&&ts(h,f,s),Nl(f,f.return);break;case 30:break;default:ts(h,f,s)}n=n.sibling}}function Yh(t,n){var s=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==s&&(t!=null&&t.refCount++,s!=null&&gl(s))}function Kh(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&gl(t))}function oi(t,n,s,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)lp(t,n,s,l),n=n.sibling}function lp(t,n,s,l){var h=n.flags;switch(n.tag){case 0:case 11:case 15:oi(t,n,s,l),h&2048&&Rl(9,n);break;case 1:oi(t,n,s,l);break;case 3:oi(t,n,s,l),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&gl(t)));break;case 12:if(h&2048){oi(t,n,s,l),t=n.stateNode;try{var f=n.memoizedProps,p=f.id,E=f.onPostCommit;typeof E=="function"&&E(p,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(D){ne(n,n.return,D)}}else oi(t,n,s,l);break;case 31:oi(t,n,s,l);break;case 13:oi(t,n,s,l);break;case 23:break;case 22:f=n.stateNode,p=n.alternate,n.memoizedState!==null?f._visibility&2?oi(t,n,s,l):Dl(t,n):f._visibility&2?oi(t,n,s,l):(f._visibility|=2,gr(t,n,s,l,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Yh(p,n);break;case 24:oi(t,n,s,l),h&2048&&Kh(n.alternate,n);break;default:oi(t,n,s,l)}}function gr(t,n,s,l,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=t,p=n,E=s,D=l,H=p.flags;switch(p.tag){case 0:case 11:case 15:gr(f,p,E,D,h),Rl(8,p);break;case 23:break;case 22:var J=p.stateNode;p.memoizedState!==null?J._visibility&2?gr(f,p,E,D,h):Dl(f,p):(J._visibility|=2,gr(f,p,E,D,h)),h&&H&2048&&Yh(p.alternate,p);break;case 24:gr(f,p,E,D,h),h&&H&2048&&Kh(p.alternate,p);break;default:gr(f,p,E,D,h)}n=n.sibling}}function Dl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=t,l=n,h=l.flags;switch(l.tag){case 22:Dl(s,l),h&2048&&Yh(l.alternate,l);break;case 24:Dl(s,l),h&2048&&Kh(l.alternate,l);break;default:Dl(s,l)}n=n.sibling}}var Il=8192;function pr(t,n,s){if(t.subtreeFlags&Il)for(t=t.child;t!==null;)op(t,n,s),t=t.sibling}function op(t,n,s){switch(t.tag){case 26:pr(t,n,s),t.flags&Il&&t.memoizedState!==null&&eE(s,li,t.memoizedState,t.memoizedProps);break;case 5:pr(t,n,s);break;case 3:case 4:var l=li;li=Mu(t.stateNode.containerInfo),pr(t,n,s),li=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=Il,Il=16777216,pr(t,n,s),Il=l):pr(t,n,s));break;default:pr(t,n,s)}}function up(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function Vl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];Ge=l,hp(l,t)}up(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)cp(t),t=t.sibling}function cp(t){switch(t.tag){case 0:case 11:case 15:Vl(t),t.flags&2048&&Ns(9,t,t.return);break;case 3:Vl(t);break;case 12:Vl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,Eu(t)):Vl(t);break;default:Vl(t)}}function Eu(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];Ge=l,hp(l,t)}up(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Ns(8,n,n.return),Eu(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,Eu(n));break;default:Eu(n)}t=t.sibling}}function hp(t,n){for(;Ge!==null;){var s=Ge;switch(s.tag){case 0:case 11:case 15:Ns(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var l=s.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:gl(s.memoizedState.cache)}if(l=s.child,l!==null)l.return=s,Ge=l;else t:for(s=t;Ge!==null;){l=Ge;var h=l.sibling,f=l.return;if(ep(l),l===s){Ge=null;break t}if(h!==null){h.return=f,Ge=h;break t}Ge=f}}}var pb={getCacheForType:function(t){var n=Ze(Ve),s=n.data.get(t);return s===void 0&&(s=t(),n.data.set(t,s)),s},cacheSignal:function(){return Ze(Ve).controller.signal}},yb=typeof WeakMap=="function"?WeakMap:Map,Zt=0,le=null,Lt=null,zt=0,ee=0,On=null,Ds=!1,yr=!1,Xh=!1,es=0,Ee=0,Is=0,Na=0,Zh=0,Mn=0,vr=0,Ol=null,bn=null,Jh=!1,Tu=0,fp=0,xu=1/0,Su=null,Vs=null,ze=0,Os=null,_r=null,ns=0,$h=0,Wh=null,dp=null,Ml=0,tf=null;function jn(){return(Zt&2)!==0&&zt!==0?zt&-zt:X.T!==null?lf():Ao()}function mp(){if(Mn===0)if((zt&536870912)===0||qt){var t=hi;hi<<=1,(hi&3932160)===0&&(hi=262144),Mn=t}else Mn=536870912;return t=In.current,t!==null&&(t.flags|=32),Mn}function En(t,n,s){(t===le&&(ee===2||ee===9)||t.cancelPendingCommit!==null)&&(br(t,0),Ms(t,zt,Mn,!1)),Jt(t,s),((Zt&2)===0||t!==le)&&(t===le&&((Zt&2)===0&&(Na|=s),Ee===4&&Ms(t,zt,Mn,!1)),Ri(t))}function gp(t,n,s){if((Zt&6)!==0)throw Error(r(327));var l=!s&&(n&127)===0&&(n&t.expiredLanes)===0||fn(t,n),h=l?bb(t,n):nf(t,n,!0),f=l;do{if(h===0){yr&&!l&&Ms(t,n,0,!1);break}else{if(s=t.current.alternate,f&&!vb(s)){h=nf(t,n,!1),f=!1;continue}if(h===2){if(f=n,t.errorRecoveryDisabledLanes&f)var p=0;else p=t.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){n=p;t:{var E=t;h=Ol;var D=E.current.memoizedState.isDehydrated;if(D&&(br(E,p).flags|=256),p=nf(E,p,!1),p!==2){if(Xh&&!D){E.errorRecoveryDisabledLanes|=f,Na|=f,h=4;break t}f=bn,bn=h,f!==null&&(bn===null?bn=f:bn.push.apply(bn,f))}h=p}if(f=!1,h!==2)continue}}if(h===1){br(t,0),Ms(t,n,0,!0);break}t:{switch(l=t,f=h,f){case 0:case 1:throw Error(r(345));case 4:if((n&4194048)!==n)break;case 6:Ms(l,n,Mn,!Ds);break t;case 2:bn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((n&62914560)===n&&(h=Tu+300-et(),10<h)){if(Ms(l,n,Mn,!Ds),wn(l,0,!0)!==0)break t;ns=n,l.timeoutHandle=Qp(pp.bind(null,l,s,bn,Su,Jh,n,Mn,Na,vr,Ds,f,"Throttled",-0,0),h);break t}pp(l,s,bn,Su,Jh,n,Mn,Na,vr,Ds,f,null,-0,0)}}break}while(!0);Ri(t)}function pp(t,n,s,l,h,f,p,E,D,H,J,it,F,K){if(t.timeoutHandle=-1,it=n.subtreeFlags,it&8192||(it&16785408)===16785408){it={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ei},op(n,f,it);var pt=(f&62914560)===f?Tu-et():(f&4194048)===f?fp-et():0;if(pt=nE(it,pt),pt!==null){ns=f,t.cancelPendingCommit=pt(Sp.bind(null,t,n,f,s,l,h,p,E,D,J,it,null,F,K)),Ms(t,f,p,!H);return}}Sp(t,n,f,s,l,h,p,E,D)}function vb(t){for(var n=t;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var l=0;l<s.length;l++){var h=s[l],f=h.getSnapshot;h=h.value;try{if(!Nn(f(),h))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Ms(t,n,s,l){n&=~Zh,n&=~Na,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var h=n;0<h;){var f=31-mt(h),p=1<<f;l[f]=-1,h&=~p}s!==0&&mn(t,s,n)}function Au(){return(Zt&6)===0?(jl(0),!1):!0}function ef(){if(Lt!==null){if(ee===0)var t=Lt.return;else t=Lt,Gi=ba=null,yh(t),cr=null,yl=0,t=Lt;for(;t!==null;)Yg(t.alternate,t),t=t.return;Lt=null}}function br(t,n){var s=t.timeoutHandle;s!==-1&&(t.timeoutHandle=-1,zb(s)),s=t.cancelPendingCommit,s!==null&&(t.cancelPendingCommit=null,s()),ns=0,ef(),le=t,Lt=s=Hi(t.current,null),zt=n,ee=0,On=null,Ds=!1,yr=fn(t,n),Xh=!1,vr=Mn=Zh=Na=Is=Ee=0,bn=Ol=null,Jh=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var h=31-mt(l),f=1<<h;n|=t[h],l&=~f}return es=n,Qo(),s}function yp(t,n){Vt=null,X.H=Al,n===ur||n===tu?(n=Om(),ee=3):n===ah?(n=Om(),ee=4):ee=n===Oh?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,On=n,Lt===null&&(Ee=1,mu(t,qn(n,t.current)))}function vp(){var t=In.current;return t===null?!0:(zt&4194048)===zt?Qn===null:(zt&62914560)===zt||(zt&536870912)!==0?t===Qn:!1}function _p(){var t=X.H;return X.H=Al,t===null?Al:t}function bp(){var t=X.A;return X.A=pb,t}function wu(){Ee=4,Ds||(zt&4194048)!==zt&&In.current!==null||(yr=!0),(Is&134217727)===0&&(Na&134217727)===0||le===null||Ms(le,zt,Mn,!1)}function nf(t,n,s){var l=Zt;Zt|=2;var h=_p(),f=bp();(le!==t||zt!==n)&&(Su=null,br(t,n)),n=!1;var p=Ee;t:do try{if(ee!==0&&Lt!==null){var E=Lt,D=On;switch(ee){case 8:ef(),p=6;break t;case 3:case 2:case 9:case 6:In.current===null&&(n=!0);var H=ee;if(ee=0,On=null,Er(t,E,D,H),s&&yr){p=0;break t}break;default:H=ee,ee=0,On=null,Er(t,E,D,H)}}_b(),p=Ee;break}catch(J){yp(t,J)}while(!0);return n&&t.shellSuspendCounter++,Gi=ba=null,Zt=l,X.H=h,X.A=f,Lt===null&&(le=null,zt=0,Qo()),p}function _b(){for(;Lt!==null;)Ep(Lt)}function bb(t,n){var s=Zt;Zt|=2;var l=_p(),h=bp();le!==t||zt!==n?(Su=null,xu=et()+500,br(t,n)):yr=fn(t,n);t:do try{if(ee!==0&&Lt!==null){n=Lt;var f=On;e:switch(ee){case 1:ee=0,On=null,Er(t,n,f,1);break;case 2:case 9:if(Im(f)){ee=0,On=null,Tp(n);break}n=function(){ee!==2&&ee!==9||le!==t||(ee=7),Ri(t)},f.then(n,n);break t;case 3:ee=7;break t;case 4:ee=5;break t;case 7:Im(f)?(ee=0,On=null,Tp(n)):(ee=0,On=null,Er(t,n,f,7));break;case 5:var p=null;switch(Lt.tag){case 26:p=Lt.memoizedState;case 5:case 27:var E=Lt;if(p?ly(p):E.stateNode.complete){ee=0,On=null;var D=E.sibling;if(D!==null)Lt=D;else{var H=E.return;H!==null?(Lt=H,Cu(H)):Lt=null}break e}}ee=0,On=null,Er(t,n,f,5);break;case 6:ee=0,On=null,Er(t,n,f,6);break;case 8:ef(),Ee=6;break t;default:throw Error(r(462))}}Eb();break}catch(J){yp(t,J)}while(!0);return Gi=ba=null,X.H=l,X.A=h,Zt=s,Lt!==null?0:(le=null,zt=0,Qo(),Ee)}function Eb(){for(;Lt!==null&&!Ua();)Ep(Lt)}function Ep(t){var n=Gg(t.alternate,t,es);t.memoizedProps=t.pendingProps,n===null?Cu(t):Lt=n}function Tp(t){var n=t,s=n.alternate;switch(n.tag){case 15:case 0:n=Ug(s,n,n.pendingProps,n.type,void 0,zt);break;case 11:n=Ug(s,n,n.pendingProps,n.type.render,n.ref,zt);break;case 5:yh(n);default:Yg(s,n),n=Lt=bm(n,es),n=Gg(s,n,es)}t.memoizedProps=t.pendingProps,n===null?Cu(t):Lt=n}function Er(t,n,s,l){Gi=ba=null,yh(n),cr=null,yl=0;var h=n.return;try{if(ub(t,h,n,s,zt)){Ee=1,mu(t,qn(s,t.current)),Lt=null;return}}catch(f){if(h!==null)throw Lt=h,f;Ee=1,mu(t,qn(s,t.current)),Lt=null;return}n.flags&32768?(qt||l===1?t=!0:yr||(zt&536870912)!==0?t=!1:(Ds=t=!0,(l===2||l===9||l===3||l===6)&&(l=In.current,l!==null&&l.tag===13&&(l.flags|=16384))),xp(n,t)):Cu(n)}function Cu(t){var n=t;do{if((n.flags&32768)!==0){xp(n,Ds);return}t=n.return;var s=fb(n.alternate,n,es);if(s!==null){Lt=s;return}if(n=n.sibling,n!==null){Lt=n;return}Lt=n=t}while(n!==null);Ee===0&&(Ee=5)}function xp(t,n){do{var s=db(t.alternate,t);if(s!==null){s.flags&=32767,Lt=s;return}if(s=t.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(t=t.sibling,t!==null)){Lt=t;return}Lt=t=s}while(t!==null);Ee=6,Lt=null}function Sp(t,n,s,l,h,f,p,E,D){t.cancelPendingCommit=null;do Ru();while(ze!==0);if((Zt&6)!==0)throw Error(r(327));if(n!==null){if(n===t.current)throw Error(r(177));if(f=n.lanes|n.childLanes,f|=Fc,dn(t,s,f,p,E,D),t===le&&(Lt=le=null,zt=0),_r=n,Os=t,ns=s,$h=f,Wh=h,dp=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,Ab(Te,function(){return Np(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=X.T,X.T=null,h=$.p,$.p=2,p=Zt,Zt|=4;try{mb(t,n,s)}finally{Zt=p,$.p=h,X.T=l}}ze=1,Ap(),wp(),Cp()}}function Ap(){if(ze===1){ze=0;var t=Os,n=_r,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=X.T,X.T=null;var l=$.p;$.p=2;var h=Zt;Zt|=4;try{ap(n,t);var f=gf,p=hm(t.containerInfo),E=f.focusedElem,D=f.selectionRange;if(p!==E&&E&&E.ownerDocument&&cm(E.ownerDocument.documentElement,E)){if(D!==null&&Uc(E)){var H=D.start,J=D.end;if(J===void 0&&(J=H),"selectionStart"in E)E.selectionStart=H,E.selectionEnd=Math.min(J,E.value.length);else{var it=E.ownerDocument||document,F=it&&it.defaultView||window;if(F.getSelection){var K=F.getSelection(),pt=E.textContent.length,At=Math.min(D.start,pt),re=D.end===void 0?At:Math.min(D.end,pt);!K.extend&&At>re&&(p=re,re=At,At=p);var B=um(E,At),j=um(E,re);if(B&&j&&(K.rangeCount!==1||K.anchorNode!==B.node||K.anchorOffset!==B.offset||K.focusNode!==j.node||K.focusOffset!==j.offset)){var q=it.createRange();q.setStart(B.node,B.offset),K.removeAllRanges(),At>re?(K.addRange(q),K.extend(j.node,j.offset)):(q.setEnd(j.node,j.offset),K.addRange(q))}}}}for(it=[],K=E;K=K.parentNode;)K.nodeType===1&&it.push({element:K,left:K.scrollLeft,top:K.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<it.length;E++){var nt=it[E];nt.element.scrollLeft=nt.left,nt.element.scrollTop=nt.top}}Bu=!!mf,gf=mf=null}finally{Zt=h,$.p=l,X.T=s}}t.current=n,ze=2}}function wp(){if(ze===2){ze=0;var t=Os,n=_r,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=X.T,X.T=null;var l=$.p;$.p=2;var h=Zt;Zt|=4;try{tp(t,n.alternate,n)}finally{Zt=h,$.p=l,X.T=s}}ze=3}}function Cp(){if(ze===4||ze===3){ze=0,G();var t=Os,n=_r,s=ns,l=dp;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?ze=5:(ze=0,_r=Os=null,Rp(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Vs=null),Ui(s),n=n.stateNode,Re&&typeof Re.onCommitFiberRoot=="function")try{Re.onCommitFiberRoot(hn,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=X.T,h=$.p,$.p=2,X.T=null;try{for(var f=t.onRecoverableError,p=0;p<l.length;p++){var E=l[p];f(E.value,{componentStack:E.stack})}}finally{X.T=n,$.p=h}}(ns&3)!==0&&Ru(),Ri(t),h=t.pendingLanes,(s&261930)!==0&&(h&42)!==0?t===tf?Ml++:(Ml=0,tf=t):Ml=0,jl(0)}}function Rp(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,gl(n)))}function Ru(){return Ap(),wp(),Cp(),Np()}function Np(){if(ze!==5)return!1;var t=Os,n=$h;$h=0;var s=Ui(ns),l=X.T,h=$.p;try{$.p=32>s?32:s,X.T=null,s=Wh,Wh=null;var f=Os,p=ns;if(ze=0,_r=Os=null,ns=0,(Zt&6)!==0)throw Error(r(331));var E=Zt;if(Zt|=4,cp(f.current),lp(f,f.current,p,s),Zt=E,jl(0,!1),Re&&typeof Re.onPostCommitFiberRoot=="function")try{Re.onPostCommitFiberRoot(hn,f)}catch{}return!0}finally{$.p=h,X.T=l,Rp(t,n)}}function Dp(t,n,s){n=qn(s,n),n=Vh(t.stateNode,n,2),t=ws(t,n,2),t!==null&&(Jt(t,2),Ri(t))}function ne(t,n,s){if(t.tag===3)Dp(t,t,s);else for(;n!==null;){if(n.tag===3){Dp(n,t,s);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Vs===null||!Vs.has(l))){t=qn(s,t),s=Ig(2),l=ws(n,s,2),l!==null&&(Vg(s,l,n,t),Jt(l,2),Ri(l));break}}n=n.return}}function sf(t,n,s){var l=t.pingCache;if(l===null){l=t.pingCache=new yb;var h=new Set;l.set(n,h)}else h=l.get(n),h===void 0&&(h=new Set,l.set(n,h));h.has(s)||(Xh=!0,h.add(s),t=Tb.bind(null,t,n,s),n.then(t,t))}function Tb(t,n,s){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&s,t.warmLanes&=~s,le===t&&(zt&s)===s&&(Ee===4||Ee===3&&(zt&62914560)===zt&&300>et()-Tu?(Zt&2)===0&&br(t,0):Zh|=s,vr===zt&&(vr=0)),Ri(t)}function Ip(t,n){n===0&&(n=on()),t=ya(t,n),t!==null&&(Jt(t,n),Ri(t))}function xb(t){var n=t.memoizedState,s=0;n!==null&&(s=n.retryLane),Ip(t,s)}function Sb(t,n){var s=0;switch(t.tag){case 31:case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(s=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(n),Ip(t,s)}function Ab(t,n){return ce(t,n)}var Nu=null,Tr=null,af=!1,Du=!1,rf=!1,js=0;function Ri(t){t!==Tr&&t.next===null&&(Tr===null?Nu=Tr=t:Tr=Tr.next=t),Du=!0,af||(af=!0,Cb())}function jl(t,n){if(!rf&&Du){rf=!0;do for(var s=!1,l=Nu;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var f=0;else{var p=l.suspendedLanes,E=l.pingedLanes;f=(1<<31-mt(42|t)+1)-1,f&=h&~(p&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,jp(l,f))}else f=zt,f=wn(l,l===le?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||fn(l,f)||(s=!0,jp(l,f));l=l.next}while(s);rf=!1}}function wb(){Vp()}function Vp(){Du=af=!1;var t=0;js!==0&&kb()&&(t=js);for(var n=et(),s=null,l=Nu;l!==null;){var h=l.next,f=Op(l,n);f===0?(l.next=null,s===null?Nu=h:s.next=h,h===null&&(Tr=s)):(s=l,(t!==0||(f&3)!==0)&&(Du=!0)),l=h}ze!==0&&ze!==5||jl(t),js!==0&&(js=0)}function Op(t,n){for(var s=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var p=31-mt(f),E=1<<p,D=h[p];D===-1?((E&s)===0||(E&l)!==0)&&(h[p]=Ba(E,n)):D<=n&&(t.expiredLanes|=E),f&=~E}if(n=le,s=zt,s=wn(t,t===n?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,s===0||t===n&&(ee===2||ee===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&$n(l),t.callbackNode=null,t.callbackPriority=0;if((s&3)===0||fn(t,s)){if(n=s&-s,n===t.callbackPriority)return n;switch(l!==null&&$n(l),Ui(s)){case 2:case 8:s=Kt;break;case 32:s=Te;break;case 268435456:s=Ye;break;default:s=Te}return l=Mp.bind(null,t),s=ce(s,l),t.callbackPriority=n,t.callbackNode=s,n}return l!==null&&l!==null&&$n(l),t.callbackPriority=2,t.callbackNode=null,2}function Mp(t,n){if(ze!==0&&ze!==5)return t.callbackNode=null,t.callbackPriority=0,null;var s=t.callbackNode;if(Ru()&&t.callbackNode!==s)return null;var l=zt;return l=wn(t,t===le?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(gp(t,l,n),Op(t,et()),t.callbackNode!=null&&t.callbackNode===s?Mp.bind(null,t):null)}function jp(t,n){if(Ru())return null;gp(t,n,!0)}function Cb(){Ub(function(){(Zt&6)!==0?ce(jt,wb):Vp()})}function lf(){if(js===0){var t=lr;t===0&&(t=Sn,Sn<<=1,(Sn&261888)===0&&(Sn=256)),js=t}return js}function Lp(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Qa(""+t)}function kp(t,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,t.id&&s.setAttribute("form",t.id),n.parentNode.insertBefore(s,n),t=new FormData(t),s.parentNode.removeChild(s),t}function Rb(t,n,s,l,h){if(n==="submit"&&s&&s.stateNode===h){var f=Lp((h[He]||null).action),p=l.submitter;p&&(n=(n=p[He]||null)?Lp(n.formAction):p.getAttribute("formAction"),n!==null&&(f=n,p=null));var E=new Ei("action","action",null,l,h);t.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(js!==0){var D=p?kp(h,p):new FormData(h);wh(s,{pending:!0,data:D,method:h.method,action:f},null,D)}}else typeof f=="function"&&(E.preventDefault(),D=p?kp(h,p):new FormData(h),wh(s,{pending:!0,data:D,method:h.method,action:f},f,D))},currentTarget:h}]})}}for(var of=0;of<Hc.length;of++){var uf=Hc[of],Nb=uf.toLowerCase(),Db=uf[0].toUpperCase()+uf.slice(1);ri(Nb,"on"+Db)}ri(mm,"onAnimationEnd"),ri(gm,"onAnimationIteration"),ri(pm,"onAnimationStart"),ri("dblclick","onDoubleClick"),ri("focusin","onFocus"),ri("focusout","onBlur"),ri(Q_,"onTransitionRun"),ri(Y_,"onTransitionStart"),ri(K_,"onTransitionCancel"),ri(ym,"onTransitionEnd"),yi("onMouseEnter",["mouseout","mouseover"]),yi("onMouseLeave",["mouseout","mouseover"]),yi("onPointerEnter",["pointerout","pointerover"]),yi("onPointerLeave",["pointerout","pointerover"]),pi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),pi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),pi("onBeforeInput",["compositionend","keypress","textInput","paste"]),pi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),pi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),pi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ll="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ib=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ll));function zp(t,n){n=(n&4)!==0;for(var s=0;s<t.length;s++){var l=t[s],h=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var p=l.length-1;0<=p;p--){var E=l[p],D=E.instance,H=E.currentTarget;if(E=E.listener,D!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=H;try{f(h)}catch(J){Go(J)}h.currentTarget=null,f=D}else for(p=0;p<l.length;p++){if(E=l[p],D=E.instance,H=E.currentTarget,E=E.listener,D!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=H;try{f(h)}catch(J){Go(J)}h.currentTarget=null,f=D}}}}function kt(t,n){var s=n[Pa];s===void 0&&(s=n[Pa]=new Set);var l=t+"__bubble";s.has(l)||(Up(n,t,2,!1),s.add(l))}function cf(t,n,s){var l=0;n&&(l|=4),Up(s,t,l,n)}var Iu="_reactListening"+Math.random().toString(36).slice(2);function hf(t){if(!t[Iu]){t[Iu]=!0,Kr.forEach(function(s){s!=="selectionchange"&&(Ib.has(s)||cf(s,!1,t),cf(s,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[Iu]||(n[Iu]=!0,cf("selectionchange",!1,n))}}function Up(t,n,s,l){switch(my(n)){case 2:var h=aE;break;case 8:h=rE;break;default:h=wf}s=h.bind(null,n,s,t),h=void 0,!ua||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(n,s,{capture:!0,passive:h}):t.addEventListener(n,s,!0):h!==void 0?t.addEventListener(n,s,{passive:h}):t.addEventListener(n,s,!1)}function ff(t,n,s,l,h){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var p=l.tag;if(p===3||p===4){var E=l.stateNode.containerInfo;if(E===h)break;if(p===4)for(p=l.return;p!==null;){var D=p.tag;if((D===3||D===4)&&p.stateNode.containerInfo===h)return;p=p.return}for(;E!==null;){if(p=mi(E),p===null)return;if(D=p.tag,D===5||D===6||D===26||D===27){l=f=p;continue t}E=E.parentNode}}l=l.return}ps(function(){var H=f,J=zn(s),it=[];t:{var F=vm.get(t);if(F!==void 0){var K=Ei,pt=t;switch(t){case"keypress":if(ha(s)===0)break t;case"keydown":case"keyup":K=qo;break;case"focusin":pt="focus",K=da;break;case"focusout":pt="blur",K=da;break;case"beforeblur":case"afterblur":K=da;break;case"click":if(s.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":K=ll;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":K=Oo;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":K=m;break;case mm:case gm:case pm:K=jo;break;case ym:K=x;break;case"scroll":case"scrollend":K=rl;break;case"wheel":K=Q;break;case"copy":case"cut":case"paste":K=Lo;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":K=qi;break;case"toggle":case"beforetoggle":K=It}var At=(n&4)!==0,re=!At&&(t==="scroll"||t==="scrollend"),B=At?F!==null?F+"Capture":null:F;At=[];for(var j=H,q;j!==null;){var nt=j;if(q=nt.stateNode,nt=nt.tag,nt!==5&&nt!==26&&nt!==27||q===null||B===null||(nt=ni(j,B),nt!=null&&At.push(kl(j,nt,q))),re)break;j=j.return}0<At.length&&(F=new K(F,pt,null,s,J),it.push({event:F,listeners:At}))}}if((n&7)===0){t:{if(F=t==="mouseover"||t==="pointerover",K=t==="mouseout"||t==="pointerout",F&&s!==il&&(pt=s.relatedTarget||s.fromElement)&&(mi(pt)||pt[fi]))break t;if((K||F)&&(F=J.window===J?J:(F=J.ownerDocument)?F.defaultView||F.parentWindow:window,K?(pt=s.relatedTarget||s.toElement,K=H,pt=pt?mi(pt):null,pt!==null&&(re=c(pt),At=pt.tag,pt!==re||At!==5&&At!==27&&At!==6)&&(pt=null)):(K=null,pt=H),K!==pt)){if(At=ll,nt="onMouseLeave",B="onMouseEnter",j="mouse",(t==="pointerout"||t==="pointerover")&&(At=qi,nt="onPointerLeave",B="onPointerEnter",j="pointer"),re=K==null?F:Cn(K),q=pt==null?F:Cn(pt),F=new At(nt,j+"leave",K,s,J),F.target=re,F.relatedTarget=q,nt=null,mi(J)===H&&(At=new At(B,j+"enter",pt,s,J),At.target=q,At.relatedTarget=re,nt=At),re=nt,K&&pt)e:{for(At=Vb,B=K,j=pt,q=0,nt=B;nt;nt=At(nt))q++;nt=0;for(var Tt=j;Tt;Tt=At(Tt))nt++;for(;0<q-nt;)B=At(B),q--;for(;0<nt-q;)j=At(j),nt--;for(;q--;){if(B===j||j!==null&&B===j.alternate){At=B;break e}B=At(B),j=At(j)}At=null}else At=null;K!==null&&Bp(it,F,K,At,!1),pt!==null&&re!==null&&Bp(it,re,pt,At,!0)}}t:{if(F=H?Cn(H):window,K=F.nodeName&&F.nodeName.toLowerCase(),K==="select"||K==="input"&&F.type==="file")var Qt=im;else if(em(F))if(sm)Qt=H_;else{Qt=P_;var _t=B_}else K=F.nodeName,!K||K.toLowerCase()!=="input"||F.type!=="checkbox"&&F.type!=="radio"?H&&Ga(H.elementType)&&(Qt=im):Qt=q_;if(Qt&&(Qt=Qt(t,H))){nm(it,Qt,s,J);break t}_t&&_t(t,F,H),t==="focusout"&&H&&F.type==="number"&&H.memoizedProps.value!=null&&tl(F,"number",F.value)}switch(_t=H?Cn(H):window,t){case"focusin":(em(_t)||_t.contentEditable==="true")&&(Wa=_t,Bc=H,fl=null);break;case"focusout":fl=Bc=Wa=null;break;case"mousedown":Pc=!0;break;case"contextmenu":case"mouseup":case"dragend":Pc=!1,fm(it,s,J);break;case"selectionchange":if(G_)break;case"keydown":case"keyup":fm(it,s,J)}var Ot;if(Xt)t:{switch(t){case"compositionstart":var Ut="onCompositionStart";break t;case"compositionend":Ut="onCompositionEnd";break t;case"compositionupdate":Ut="onCompositionUpdate";break t}Ut=void 0}else $a?ma(t,s)&&(Ut="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(Ut="onCompositionStart");Ut&&(Si&&s.locale!=="ko"&&($a||Ut!=="onCompositionStart"?Ut==="onCompositionEnd"&&$a&&(Ot=al()):(bi=J,sl="value"in bi?bi.value:bi.textContent,$a=!0)),_t=Vu(H,Ut),0<_t.length&&(Ut=new xi(Ut,t,null,s,J),it.push({event:Ut,listeners:_t}),Ot?Ut.data=Ot:(Ot=Ja(s),Ot!==null&&(Ut.data=Ot)))),(Ot=Bn?L_(t,s):k_(t,s))&&(Ut=Vu(H,"onBeforeInput"),0<Ut.length&&(_t=new xi("onBeforeInput","beforeinput",null,s,J),it.push({event:_t,listeners:Ut}),_t.data=Ot)),Rb(it,t,H,s,J)}zp(it,n)})}function kl(t,n,s){return{instance:t,listener:n,currentTarget:s}}function Vu(t,n){for(var s=n+"Capture",l=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=ni(t,s),h!=null&&l.unshift(kl(t,h,f)),h=ni(t,n),h!=null&&l.push(kl(t,h,f))),t.tag===3)return l;t=t.return}return[]}function Vb(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Bp(t,n,s,l,h){for(var f=n._reactName,p=[];s!==null&&s!==l;){var E=s,D=E.alternate,H=E.stateNode;if(E=E.tag,D!==null&&D===l)break;E!==5&&E!==26&&E!==27||H===null||(D=H,h?(H=ni(s,f),H!=null&&p.unshift(kl(s,H,D))):h||(H=ni(s,f),H!=null&&p.push(kl(s,H,D)))),s=s.return}p.length!==0&&t.push({event:n,listeners:p})}var Ob=/\r\n?/g,Mb=/\u0000|\uFFFD/g;function Pp(t){return(typeof t=="string"?t:""+t).replace(Ob,`
`).replace(Mb,"")}function qp(t,n){return n=Pp(n),Pp(t)===n}function ae(t,n,s,l,h,f){switch(s){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||pn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&pn(t,""+l);break;case"className":Rn(t,"class",l);break;case"tabIndex":Rn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Rn(t,s,l);break;case"style":nl(t,l,f);break;case"data":if(n!=="object"){Rn(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||s!=="href")){t.removeAttribute(s);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=Qa(""+l),t.setAttribute(s,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(n!=="input"&&ae(t,n,"name",h.name,h,null),ae(t,n,"formEncType",h.formEncType,h,null),ae(t,n,"formMethod",h.formMethod,h,null),ae(t,n,"formTarget",h.formTarget,h,null)):(ae(t,n,"encType",h.encType,h,null),ae(t,n,"method",h.method,h,null),ae(t,n,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=Qa(""+l),t.setAttribute(s,l);break;case"onClick":l!=null&&(t.onclick=ei);break;case"onScroll":l!=null&&kt("scroll",t);break;case"onScrollEnd":l!=null&&kt("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(s=l.__html,s!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=s}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}s=Qa(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""+l):t.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""):t.removeAttribute(s);break;case"capture":case"download":l===!0?t.setAttribute(s,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,l):t.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(s,l):t.removeAttribute(s);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(s):t.setAttribute(s,l);break;case"popover":kt("beforetoggle",t),kt("toggle",t),Ha(t,"popover",l);break;case"xlinkActuate":Ie(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Ie(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Ie(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Ie(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Ie(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Ie(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Ie(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Ie(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Ie(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Ha(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=Vo.get(s)||s,Ha(t,s,l))}}function df(t,n,s,l,h,f){switch(s){case"style":nl(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(s=l.__html,s!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=s}}break;case"children":typeof l=="string"?pn(t,l):(typeof l=="number"||typeof l=="bigint")&&pn(t,""+l);break;case"onScroll":l!=null&&kt("scroll",t);break;case"onScrollEnd":l!=null&&kt("scrollend",t);break;case"onClick":l!=null&&(t.onclick=ei);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Xr.hasOwnProperty(s))t:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),n=s.slice(2,h?s.length-7:void 0),f=t[He]||null,f=f!=null?f[s]:null,typeof f=="function"&&t.removeEventListener(n,f,h),typeof l=="function")){typeof f!="function"&&f!==null&&(s in t?t[s]=null:t.hasAttribute(s)&&t.removeAttribute(s)),t.addEventListener(n,l,h);break t}s in t?t[s]=l:l===!0?t.setAttribute(s,""):Ha(t,s,l)}}}function $e(t,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":kt("error",t),kt("load",t);var l=!1,h=!1,f;for(f in s)if(s.hasOwnProperty(f)){var p=s[f];if(p!=null)switch(f){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:ae(t,n,f,p,s,null)}}h&&ae(t,n,"srcSet",s.srcSet,s,null),l&&ae(t,n,"src",s.src,s,null);return;case"input":kt("invalid",t);var E=f=p=h=null,D=null,H=null;for(l in s)if(s.hasOwnProperty(l)){var J=s[l];if(J!=null)switch(l){case"name":h=J;break;case"type":p=J;break;case"checked":D=J;break;case"defaultChecked":H=J;break;case"value":f=J;break;case"defaultValue":E=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(r(137,n));break;default:ae(t,n,l,J,s,null)}}No(t,f,E,D,H,p,h,!1);return;case"select":kt("invalid",t),l=p=f=null;for(h in s)if(s.hasOwnProperty(h)&&(E=s[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":p=E;break;case"multiple":l=E;default:ae(t,n,h,E,s,null)}n=f,s=p,t.multiple=!!l,n!=null?fs(t,!!l,n,!1):s!=null&&fs(t,!!l,s,!0);return;case"textarea":kt("invalid",t),f=h=l=null;for(p in s)if(s.hasOwnProperty(p)&&(E=s[p],E!=null))switch(p){case"value":l=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(r(91));break;default:ae(t,n,p,E,s,null)}ds(t,l,h,f);return;case"option":for(D in s)if(s.hasOwnProperty(D)&&(l=s[D],l!=null))switch(D){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:ae(t,n,D,l,s,null)}return;case"dialog":kt("beforetoggle",t),kt("toggle",t),kt("cancel",t),kt("close",t);break;case"iframe":case"object":kt("load",t);break;case"video":case"audio":for(l=0;l<Ll.length;l++)kt(Ll[l],t);break;case"image":kt("error",t),kt("load",t);break;case"details":kt("toggle",t);break;case"embed":case"source":case"link":kt("error",t),kt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(H in s)if(s.hasOwnProperty(H)&&(l=s[H],l!=null))switch(H){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:ae(t,n,H,l,s,null)}return;default:if(Ga(n)){for(J in s)s.hasOwnProperty(J)&&(l=s[J],l!==void 0&&df(t,n,J,l,s,void 0));return}}for(E in s)s.hasOwnProperty(E)&&(l=s[E],l!=null&&ae(t,n,E,l,s,null))}function jb(t,n,s,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,p=null,E=null,D=null,H=null,J=null;for(K in s){var it=s[K];if(s.hasOwnProperty(K)&&it!=null)switch(K){case"checked":break;case"value":break;case"defaultValue":D=it;default:l.hasOwnProperty(K)||ae(t,n,K,null,l,it)}}for(var F in l){var K=l[F];if(it=s[F],l.hasOwnProperty(F)&&(K!=null||it!=null))switch(F){case"type":f=K;break;case"name":h=K;break;case"checked":H=K;break;case"defaultChecked":J=K;break;case"value":p=K;break;case"defaultValue":E=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(r(137,n));break;default:K!==it&&ae(t,n,F,K,l,it)}}Fa(t,p,E,D,H,J,f,h);return;case"select":K=p=E=F=null;for(f in s)if(D=s[f],s.hasOwnProperty(f)&&D!=null)switch(f){case"value":break;case"multiple":K=D;default:l.hasOwnProperty(f)||ae(t,n,f,null,l,D)}for(h in l)if(f=l[h],D=s[h],l.hasOwnProperty(h)&&(f!=null||D!=null))switch(h){case"value":F=f;break;case"defaultValue":E=f;break;case"multiple":p=f;default:f!==D&&ae(t,n,h,f,l,D)}n=E,s=p,l=K,F!=null?fs(t,!!s,F,!1):!!l!=!!s&&(n!=null?fs(t,!!s,n,!0):fs(t,!!s,s?[]:"",!1));return;case"textarea":K=F=null;for(E in s)if(h=s[E],s.hasOwnProperty(E)&&h!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:ae(t,n,E,null,l,h)}for(p in l)if(h=l[p],f=s[p],l.hasOwnProperty(p)&&(h!=null||f!=null))switch(p){case"value":F=h;break;case"defaultValue":K=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(r(91));break;default:h!==f&&ae(t,n,p,h,l,f)}Do(t,F,K);return;case"option":for(var pt in s)if(F=s[pt],s.hasOwnProperty(pt)&&F!=null&&!l.hasOwnProperty(pt))switch(pt){case"selected":t.selected=!1;break;default:ae(t,n,pt,null,l,F)}for(D in l)if(F=l[D],K=s[D],l.hasOwnProperty(D)&&F!==K&&(F!=null||K!=null))switch(D){case"selected":t.selected=F&&typeof F!="function"&&typeof F!="symbol";break;default:ae(t,n,D,F,l,K)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var At in s)F=s[At],s.hasOwnProperty(At)&&F!=null&&!l.hasOwnProperty(At)&&ae(t,n,At,null,l,F);for(H in l)if(F=l[H],K=s[H],l.hasOwnProperty(H)&&F!==K&&(F!=null||K!=null))switch(H){case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(r(137,n));break;default:ae(t,n,H,F,l,K)}return;default:if(Ga(n)){for(var re in s)F=s[re],s.hasOwnProperty(re)&&F!==void 0&&!l.hasOwnProperty(re)&&df(t,n,re,void 0,l,F);for(J in l)F=l[J],K=s[J],!l.hasOwnProperty(J)||F===K||F===void 0&&K===void 0||df(t,n,J,F,l,K);return}}for(var B in s)F=s[B],s.hasOwnProperty(B)&&F!=null&&!l.hasOwnProperty(B)&&ae(t,n,B,null,l,F);for(it in l)F=l[it],K=s[it],!l.hasOwnProperty(it)||F===K||F==null&&K==null||ae(t,n,it,F,l,K)}function Hp(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Lb(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,s=performance.getEntriesByType("resource"),l=0;l<s.length;l++){var h=s[l],f=h.transferSize,p=h.initiatorType,E=h.duration;if(f&&E&&Hp(p)){for(p=0,E=h.responseEnd,l+=1;l<s.length;l++){var D=s[l],H=D.startTime;if(H>E)break;var J=D.transferSize,it=D.initiatorType;J&&Hp(it)&&(D=D.responseEnd,p+=J*(D<E?1:(E-H)/(D-H)))}if(--l,n+=8*(f+p)/(h.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var mf=null,gf=null;function Ou(t){return t.nodeType===9?t:t.ownerDocument}function Fp(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Gp(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function pf(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var yf=null;function kb(){var t=window.event;return t&&t.type==="popstate"?t===yf?!1:(yf=t,!0):(yf=null,!1)}var Qp=typeof setTimeout=="function"?setTimeout:void 0,zb=typeof clearTimeout=="function"?clearTimeout:void 0,Yp=typeof Promise=="function"?Promise:void 0,Ub=typeof queueMicrotask=="function"?queueMicrotask:typeof Yp<"u"?function(t){return Yp.resolve(null).then(t).catch(Bb)}:Qp;function Bb(t){setTimeout(function(){throw t})}function Ls(t){return t==="head"}function Kp(t,n){var s=n,l=0;do{var h=s.nextSibling;if(t.removeChild(s),h&&h.nodeType===8)if(s=h.data,s==="/$"||s==="/&"){if(l===0){t.removeChild(h),wr(n);return}l--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")l++;else if(s==="html")zl(t.ownerDocument.documentElement);else if(s==="head"){s=t.ownerDocument.head,zl(s);for(var f=s.firstChild;f;){var p=f.nextSibling,E=f.nodeName;f[di]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||s.removeChild(f),f=p}}else s==="body"&&zl(t.ownerDocument.body);s=h}while(s);wr(n)}function Xp(t,n){var s=t;t=0;do{var l=s.nextSibling;if(s.nodeType===1?n?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(n?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),l&&l.nodeType===8)if(s=l.data,s==="/$"){if(t===0)break;t--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||t++;s=l}while(s)}function vf(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":vf(s),qa(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}t.removeChild(s)}}function Pb(t,n,s,l){for(;t.nodeType===1;){var h=s;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[di])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Yn(t.nextSibling),t===null)break}return null}function qb(t,n,s){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=Yn(t.nextSibling),t===null))return null;return t}function Zp(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=Yn(t.nextSibling),t===null))return null;return t}function _f(t){return t.data==="$?"||t.data==="$~"}function bf(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function Hb(t,n){var s=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||s.readyState!=="loading")n();else{var l=function(){n(),s.removeEventListener("DOMContentLoaded",l)};s.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Yn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var Ef=null;function Jp(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var s=t.data;if(s==="/$"||s==="/&"){if(n===0)return Yn(t.nextSibling);n--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||n++}t=t.nextSibling}return null}function $p(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(n===0)return t;n--}else s!=="/$"&&s!=="/&"||n++}t=t.previousSibling}return null}function Wp(t,n,s){switch(n=Ou(s),t){case"html":if(t=n.documentElement,!t)throw Error(r(452));return t;case"head":if(t=n.head,!t)throw Error(r(453));return t;case"body":if(t=n.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function zl(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);qa(t)}var Kn=new Map,ty=new Set;function Mu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var is=$.d;$.d={f:Fb,r:Gb,D:Qb,C:Yb,L:Kb,m:Xb,X:Jb,S:Zb,M:$b};function Fb(){var t=is.f(),n=Au();return t||n}function Gb(t){var n=kn(t);n!==null&&n.tag===5&&n.type==="form"?yg(n):is.r(t)}var xr=typeof document>"u"?null:document;function ey(t,n,s){var l=xr;if(l&&typeof n=="string"&&n){var h=gn(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),ty.has(h)||(ty.add(h),t={rel:t,crossOrigin:s,href:n},l.querySelector(h)===null&&(n=l.createElement("link"),$e(n,"link",t),De(n),l.head.appendChild(n)))}}function Qb(t){is.D(t),ey("dns-prefetch",t,null)}function Yb(t,n){is.C(t,n),ey("preconnect",t,n)}function Kb(t,n,s){is.L(t,n,s);var l=xr;if(l&&t&&n){var h='link[rel="preload"][as="'+gn(n)+'"]';n==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+gn(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+gn(s.imageSizes)+'"]')):h+='[href="'+gn(t)+'"]';var f=h;switch(n){case"style":f=Sr(t);break;case"script":f=Ar(t)}Kn.has(f)||(t=S({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:t,as:n},s),Kn.set(f,t),l.querySelector(h)!==null||n==="style"&&l.querySelector(Ul(f))||n==="script"&&l.querySelector(Bl(f))||(n=l.createElement("link"),$e(n,"link",t),De(n),l.head.appendChild(n)))}}function Xb(t,n){is.m(t,n);var s=xr;if(s&&t){var l=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+gn(l)+'"][href="'+gn(t)+'"]',f=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Ar(t)}if(!Kn.has(f)&&(t=S({rel:"modulepreload",href:t},n),Kn.set(f,t),s.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(Bl(f)))return}l=s.createElement("link"),$e(l,"link",t),De(l),s.head.appendChild(l)}}}function Zb(t,n,s){is.S(t,n,s);var l=xr;if(l&&t){var h=gi(l).hoistableStyles,f=Sr(t);n=n||"default";var p=h.get(f);if(!p){var E={loading:0,preload:null};if(p=l.querySelector(Ul(f)))E.loading=5;else{t=S({rel:"stylesheet",href:t,"data-precedence":n},s),(s=Kn.get(f))&&Tf(t,s);var D=p=l.createElement("link");De(D),$e(D,"link",t),D._p=new Promise(function(H,J){D.onload=H,D.onerror=J}),D.addEventListener("load",function(){E.loading|=1}),D.addEventListener("error",function(){E.loading|=2}),E.loading|=4,ju(p,n,l)}p={type:"stylesheet",instance:p,count:1,state:E},h.set(f,p)}}}function Jb(t,n){is.X(t,n);var s=xr;if(s&&t){var l=gi(s).hoistableScripts,h=Ar(t),f=l.get(h);f||(f=s.querySelector(Bl(h)),f||(t=S({src:t,async:!0},n),(n=Kn.get(h))&&xf(t,n),f=s.createElement("script"),De(f),$e(f,"link",t),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function $b(t,n){is.M(t,n);var s=xr;if(s&&t){var l=gi(s).hoistableScripts,h=Ar(t),f=l.get(h);f||(f=s.querySelector(Bl(h)),f||(t=S({src:t,async:!0,type:"module"},n),(n=Kn.get(h))&&xf(t,n),f=s.createElement("script"),De(f),$e(f,"link",t),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function ny(t,n,s,l){var h=(h=ut.current)?Mu(h):null;if(!h)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=Sr(s.href),s=gi(h).hoistableStyles,l=s.get(n),l||(l={type:"style",instance:null,count:0,state:null},s.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){t=Sr(s.href);var f=gi(h).hoistableStyles,p=f.get(t);if(p||(h=h.ownerDocument||h,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,p),(f=h.querySelector(Ul(t)))&&!f._p&&(p.instance=f,p.state.loading=5),Kn.has(t)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Kn.set(t,s),f||Wb(h,t,s,p.state))),n&&l===null)throw Error(r(528,""));return p}if(n&&l!==null)throw Error(r(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Ar(s),s=gi(h).hoistableScripts,l=s.get(n),l||(l={type:"script",instance:null,count:0,state:null},s.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function Sr(t){return'href="'+gn(t)+'"'}function Ul(t){return'link[rel="stylesheet"]['+t+"]"}function iy(t){return S({},t,{"data-precedence":t.precedence,precedence:null})}function Wb(t,n,s,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),$e(n,"link",s),De(n),t.head.appendChild(n))}function Ar(t){return'[src="'+gn(t)+'"]'}function Bl(t){return"script[async]"+t}function sy(t,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+gn(s.href)+'"]');if(l)return n.instance=l,De(l),l;var h=S({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),De(l),$e(l,"style",h),ju(l,s.precedence,t),n.instance=l;case"stylesheet":h=Sr(s.href);var f=t.querySelector(Ul(h));if(f)return n.state.loading|=4,n.instance=f,De(f),f;l=iy(s),(h=Kn.get(h))&&Tf(l,h),f=(t.ownerDocument||t).createElement("link"),De(f);var p=f;return p._p=new Promise(function(E,D){p.onload=E,p.onerror=D}),$e(f,"link",l),n.state.loading|=4,ju(f,s.precedence,t),n.instance=f;case"script":return f=Ar(s.src),(h=t.querySelector(Bl(f)))?(n.instance=h,De(h),h):(l=s,(h=Kn.get(f))&&(l=S({},s),xf(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),De(h),$e(h,"link",l),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(r(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,ju(l,s.precedence,t));return n.instance}function ju(t,n,s){for(var l=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,f=h,p=0;p<l.length;p++){var E=l[p];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(t,n.firstChild))}function Tf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function xf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Lu=null;function ay(t,n,s){if(Lu===null){var l=new Map,h=Lu=new Map;h.set(s,l)}else h=Lu,l=h.get(s),l||(l=new Map,h.set(s,l));if(l.has(t))return l;for(l.set(t,null),s=s.getElementsByTagName(t),h=0;h<s.length;h++){var f=s[h];if(!(f[di]||f[Ne]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var p=f.getAttribute(n)||"";p=t+p;var E=l.get(p);E?E.push(f):l.set(p,[f])}}return l}function ry(t,n,s){t=t.ownerDocument||t,t.head.insertBefore(s,n==="title"?t.querySelector("head > title"):null)}function tE(t,n,s){if(s===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function ly(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function eE(t,n,s,l){if(s.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var h=Sr(l.href),f=n.querySelector(Ul(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=ku.bind(t),n.then(t,t)),s.state.loading|=4,s.instance=f,De(f);return}f=n.ownerDocument||n,l=iy(l),(h=Kn.get(h))&&Tf(l,h),f=f.createElement("link"),De(f);var p=f;p._p=new Promise(function(E,D){p.onload=E,p.onerror=D}),$e(f,"link",l),s.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(t.count++,s=ku.bind(t),n.addEventListener("load",s),n.addEventListener("error",s))}}var Sf=0;function nE(t,n){return t.stylesheets&&t.count===0&&Uu(t,t.stylesheets),0<t.count||0<t.imgCount?function(s){var l=setTimeout(function(){if(t.stylesheets&&Uu(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+n);0<t.imgBytes&&Sf===0&&(Sf=62500*Lb());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Uu(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>Sf?50:800)+n);return t.unsuspend=s,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function ku(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Uu(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var zu=null;function Uu(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,zu=new Map,n.forEach(iE,t),zu=null,ku.call(t))}function iE(t,n){if(!(n.state.loading&4)){var s=zu.get(t);if(s)var l=s.get(null);else{s=new Map,zu.set(t,s);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var p=h[f];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(s.set(p.dataset.precedence,p),l=p)}l&&s.set(null,l)}h=n.instance,p=h.getAttribute("data-precedence"),f=s.get(p)||l,f===l&&s.set(null,h),s.set(p,h),this.count++,l=ku.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var Pl={$$typeof:lt,Provider:null,Consumer:null,_currentValue:ct,_currentValue2:ct,_threadCount:0};function sE(t,n,s,l,h,f,p,E,D){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=xe(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xe(0),this.hiddenUpdates=xe(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=D,this.incompleteTransitions=new Map}function oy(t,n,s,l,h,f,p,E,D,H,J,it){return t=new sE(t,n,s,p,D,H,J,it,E),n=1,f===!0&&(n|=24),f=Dn(3,null,null,n),t.current=f,f.stateNode=t,n=nh(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:s,cache:n},rh(f),t}function uy(t){return t?(t=nr,t):nr}function cy(t,n,s,l,h,f){h=uy(h),l.context===null?l.context=h:l.pendingContext=h,l=As(n),l.payload={element:s},f=f===void 0?null:f,f!==null&&(l.callback=f),s=ws(t,l,n),s!==null&&(En(s,t,n),_l(s,t,n))}function hy(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<n?s:n}}function Af(t,n){hy(t,n),(t=t.alternate)&&hy(t,n)}function fy(t){if(t.tag===13||t.tag===31){var n=ya(t,67108864);n!==null&&En(n,t,67108864),Af(t,67108864)}}function dy(t){if(t.tag===13||t.tag===31){var n=jn();n=aa(n);var s=ya(t,n);s!==null&&En(s,t,n),Af(t,n)}}var Bu=!0;function aE(t,n,s,l){var h=X.T;X.T=null;var f=$.p;try{$.p=2,wf(t,n,s,l)}finally{$.p=f,X.T=h}}function rE(t,n,s,l){var h=X.T;X.T=null;var f=$.p;try{$.p=8,wf(t,n,s,l)}finally{$.p=f,X.T=h}}function wf(t,n,s,l){if(Bu){var h=Cf(l);if(h===null)ff(t,n,l,Pu,s),gy(t,l);else if(oE(h,t,n,s,l))l.stopPropagation();else if(gy(t,l),n&4&&-1<lE.indexOf(t)){for(;h!==null;){var f=kn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var p=An(f.pendingLanes);if(p!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;p;){var D=1<<31-mt(p);E.entanglements[1]|=D,p&=~D}Ri(f),(Zt&6)===0&&(xu=et()+500,jl(0))}}break;case 31:case 13:E=ya(f,2),E!==null&&En(E,f,2),Au(),Af(f,2)}if(f=Cf(l),f===null&&ff(t,n,l,Pu,s),f===h)break;h=f}h!==null&&l.stopPropagation()}else ff(t,n,l,null,s)}}function Cf(t){return t=zn(t),Rf(t)}var Pu=null;function Rf(t){if(Pu=null,t=mi(t),t!==null){var n=c(t);if(n===null)t=null;else{var s=n.tag;if(s===13){if(t=d(n),t!==null)return t;t=null}else if(s===31){if(t=g(n),t!==null)return t;t=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Pu=t,null}function my(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ft()){case jt:return 2;case Kt:return 8;case Te:case qe:return 32;case Ye:return 268435456;default:return 32}default:return 32}}var Nf=!1,ks=null,zs=null,Us=null,ql=new Map,Hl=new Map,Bs=[],lE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function gy(t,n){switch(t){case"focusin":case"focusout":ks=null;break;case"dragenter":case"dragleave":zs=null;break;case"mouseover":case"mouseout":Us=null;break;case"pointerover":case"pointerout":ql.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Hl.delete(n.pointerId)}}function Fl(t,n,s,l,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:s,eventSystemFlags:l,nativeEvent:f,targetContainers:[h]},n!==null&&(n=kn(n),n!==null&&fy(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function oE(t,n,s,l,h){switch(n){case"focusin":return ks=Fl(ks,t,n,s,l,h),!0;case"dragenter":return zs=Fl(zs,t,n,s,l,h),!0;case"mouseover":return Us=Fl(Us,t,n,s,l,h),!0;case"pointerover":var f=h.pointerId;return ql.set(f,Fl(ql.get(f)||null,t,n,s,l,h)),!0;case"gotpointercapture":return f=h.pointerId,Hl.set(f,Fl(Hl.get(f)||null,t,n,s,l,h)),!0}return!1}function py(t){var n=mi(t.target);if(n!==null){var s=c(n);if(s!==null){if(n=s.tag,n===13){if(n=d(s),n!==null){t.blockedOn=n,Wn(t.priority,function(){dy(s)});return}}else if(n===31){if(n=g(s),n!==null){t.blockedOn=n,Wn(t.priority,function(){dy(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function qu(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var s=Cf(t.nativeEvent);if(s===null){s=t.nativeEvent;var l=new s.constructor(s.type,s);il=l,s.target.dispatchEvent(l),il=null}else return n=kn(s),n!==null&&fy(n),t.blockedOn=s,!1;n.shift()}return!0}function yy(t,n,s){qu(t)&&s.delete(n)}function uE(){Nf=!1,ks!==null&&qu(ks)&&(ks=null),zs!==null&&qu(zs)&&(zs=null),Us!==null&&qu(Us)&&(Us=null),ql.forEach(yy),Hl.forEach(yy)}function Hu(t,n){t.blockedOn===n&&(t.blockedOn=null,Nf||(Nf=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,uE)))}var Fu=null;function vy(t){Fu!==t&&(Fu=t,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){Fu===t&&(Fu=null);for(var n=0;n<t.length;n+=3){var s=t[n],l=t[n+1],h=t[n+2];if(typeof l!="function"){if(Rf(l||s)===null)continue;break}var f=kn(s);f!==null&&(t.splice(n,3),n-=3,wh(f,{pending:!0,data:h,method:s.method,action:l},l,h))}}))}function wr(t){function n(D){return Hu(D,t)}ks!==null&&Hu(ks,t),zs!==null&&Hu(zs,t),Us!==null&&Hu(Us,t),ql.forEach(n),Hl.forEach(n);for(var s=0;s<Bs.length;s++){var l=Bs[s];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Bs.length&&(s=Bs[0],s.blockedOn===null);)py(s),s.blockedOn===null&&Bs.shift();if(s=(t.ownerDocument||t).$$reactFormReplay,s!=null)for(l=0;l<s.length;l+=3){var h=s[l],f=s[l+1],p=h[He]||null;if(typeof f=="function")p||vy(s);else if(p){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,p=f[He]||null)E=p.formAction;else if(Rf(h)!==null)continue}else E=p.action;typeof E=="function"?s[l+1]=E:(s.splice(l,3),l-=3),vy(s)}}}function _y(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(p){return h=p})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),l||setTimeout(s,20)}function s(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(s,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Df(t){this._internalRoot=t}Gu.prototype.render=Df.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(r(409));var s=n.current,l=jn();cy(s,l,t,n,null,null)},Gu.prototype.unmount=Df.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;cy(t.current,2,null,t,null,null),Au(),n[fi]=null}};function Gu(t){this._internalRoot=t}Gu.prototype.unstable_scheduleHydration=function(t){if(t){var n=Ao();t={blockedOn:null,target:t,priority:n};for(var s=0;s<Bs.length&&n!==0&&n<Bs[s].priority;s++);Bs.splice(s,0,t),s===0&&py(t)}};var by=e.version;if(by!=="19.2.3")throw Error(r(527,by,"19.2.3"));$.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=v(n),t=t!==null?T(t):null,t=t===null?null:t.stateNode,t};var cE={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:X,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Qu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qu.isDisabled&&Qu.supportsFiber)try{hn=Qu.inject(cE),Re=Qu}catch{}}return Ql.createRoot=function(t,n){if(!o(t))throw Error(r(299));var s=!1,l="",h=Cg,f=Rg,p=Ng;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(p=n.onRecoverableError)),n=oy(t,1,!1,null,null,s,l,null,h,f,p,_y),t[fi]=n.current,hf(t),new Df(n)},Ql.hydrateRoot=function(t,n,s){if(!o(t))throw Error(r(299));var l=!1,h="",f=Cg,p=Rg,E=Ng,D=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(p=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError),s.formState!==void 0&&(D=s.formState)),n=oy(t,1,!0,n,s??null,l,h,D,f,p,E,_y),n.context=uy(null),s=n.current,l=jn(),l=aa(l),h=As(l),h.callback=null,ws(s,h,l),s=l,n.current.lanes=s,Jt(n,s),Ri(n),t[fi]=n.current,hf(t),new Gu(n)},Ql.version="19.2.3",Ql}var Dy;function bE(){if(Dy)return Of.exports;Dy=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(e){console.error(e)}}return a(),Of.exports=_E(),Of.exports}var EE=bE();const TE=F0(EE);function xE(a={}){const{nonce:e,onScriptLoadSuccess:i,onScriptLoadError:r}=a,[o,c]=ot.useState(!1),d=ot.useRef(i);d.current=i;const g=ot.useRef(r);return g.current=r,ot.useEffect(()=>{const y=document.createElement("script");return y.src="https://accounts.google.com/gsi/client",y.async=!0,y.defer=!0,y.nonce=e,y.onload=()=>{var v;c(!0),(v=d.current)===null||v===void 0||v.call(d)},y.onerror=()=>{var v;c(!1),(v=g.current)===null||v===void 0||v.call(g)},document.body.appendChild(y),()=>{document.body.removeChild(y)}},[e]),o}const Q0=ot.createContext(null);function SE({clientId:a,nonce:e,onScriptLoadSuccess:i,onScriptLoadError:r,children:o}){const c=xE({nonce:e,onScriptLoadSuccess:i,onScriptLoadError:r}),d=ot.useMemo(()=>({clientId:a,scriptLoadedSuccessfully:c}),[a,c]);return G0.createElement(Q0.Provider,{value:d},o)}function AE(){const a=ot.useContext(Q0);if(!a)throw new Error("Google OAuth components must be used within GoogleOAuthProvider");return a}function wE({flow:a="implicit",scope:e="",onSuccess:i,onError:r,onNonOAuthError:o,overrideScope:c,state:d,...g}){const{clientId:y,scriptLoadedSuccessfully:v}=AE(),T=ot.useRef(),S=ot.useRef(i);S.current=i;const C=ot.useRef(r);C.current=r;const M=ot.useRef(o);M.current=o,ot.useEffect(()=>{var k,Y;if(!v)return;const W=a==="implicit"?"initTokenClient":"initCodeClient",lt=(Y=(k=window==null?void 0:window.google)===null||k===void 0?void 0:k.accounts)===null||Y===void 0?void 0:Y.oauth2[W]({client_id:y,scope:c?e:`openid profile email ${e}`,callback:yt=>{var vt,xt;if(yt.error)return(vt=C.current)===null||vt===void 0?void 0:vt.call(C,yt);(xt=S.current)===null||xt===void 0||xt.call(S,yt)},error_callback:yt=>{var vt;(vt=M.current)===null||vt===void 0||vt.call(M,yt)},state:d,...g});T.current=lt},[y,v,a,e,d]);const U=ot.useCallback(k=>{var Y;return(Y=T.current)===null||Y===void 0?void 0:Y.requestAccessToken(k)},[]),tt=ot.useCallback(()=>{var k;return(k=T.current)===null||k===void 0?void 0:k.requestCode()},[]);return a==="implicit"?U:tt}const CE=()=>b.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2.5",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),RE=()=>b.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2.5",d:"M12 4v16m8-8H4"})}),ac=()=>b.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:b.jsx("path",{d:"M12 8c1.1 0 2-0.9 2-2s-0.9-2-2-2-2 0.9-2 2 0.9 2 2 2zm0 2c-1.1 0-2 0.9-2 2s0.9 2 2 2 2-0.9 2-2-0.9-2-2-2zm0 6c-1.1 0-2 0.9-2 2s0.9 2 2 2 2-0.9 2-2-0.9-2-2-2z"})}),$u=()=>b.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2.5",d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})}),NE=()=>b.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2.5",d:"M8 11V7a4 4 0 118 0m-4 8v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2z"})}),Y0=()=>b.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2.5",d:"M9 20l-5.447-2.724A1 1 0 013 16.382V5.618a1 1 0 011.447-.894L9 7m0 13l6-3m-6 3V7m6 10l4.553 2.276A1 1 0 0021 18.382V7.618a1 1 0 00-.553-.894L15 4m0 13V4m0 0L9 7"})}),Iy=/(https?:\/\/[^\s]+)|(www\.[^\s]+)/gi,Vy=/010[-\s]?\d{4}[-\s]?\d{4}/g,DE=a=>{if(!a||typeof a!="string")return[a];const e=[];let i;for(Iy.lastIndex=0;(i=Iy.exec(a))!==null;)e.push({type:"url",content:i[0],index:i.index,length:i[0].length});for(Vy.lastIndex=0;(i=Vy.exec(a))!==null;)e.some(g=>i.index>=g.index&&i.index<g.index+g.length||i.index+i[0].length>g.index&&i.index+i[0].length<=g.index+g.length)||e.push({type:"phone",content:i[0],index:i.index,length:i[0].length});e.sort((d,g)=>d.index-g.index);const r=[];let o=0,c=0;return e.forEach(d=>{if(d.index>o&&r.push(a.substring(o,d.index)),d.type==="url"){const g=d.content.startsWith("www.")?`https://${d.content}`:d.content;r.push(b.jsx("a",{href:g,target:"_blank",rel:"noopener noreferrer",onClick:y=>y.stopPropagation(),className:"text-blue-500 underline hover:text-blue-600 transition-colors",children:d.content},`url-${c++}`))}else if(d.type==="phone"){const g=d.content.replace(/[-\s]/g,"");r.push(b.jsx("a",{href:`sms:${g}`,onClick:y=>y.stopPropagation(),className:"text-green-600 underline hover:text-green-700 transition-colors",children:d.content},`phone-${c++}`))}o=d.index+d.length}),o<a.length&&r.push(a.substring(o)),r.length>0?r:[a]},jr=({text:a,className:e=""})=>{const i=DE(a);return b.jsx("span",{className:e,children:i})},Oy=({value:a,onChange:e,placeholder:i,className:r="",textClassName:o="",rows:c=2,maxLength:d=100})=>{const[g,y]=ot.useState(!1),[v,T]=ot.useState(a),S=ot.useRef(null);ot.useEffect(()=>{var k,Y;g&&((k=S.current)==null||k.focus(),(Y=S.current)==null||Y.select())},[g]),ot.useEffect(()=>{T(a)},[a]);const C=k=>{k.stopPropagation(),y(!0),T(a)},M=()=>{e(v),y(!1)},U=()=>{T(a),y(!1)},tt=k=>{k.key==="Enter"&&(k.ctrlKey||k.metaKey)&&(k.preventDefault(),M()),k.key==="Escape"&&(k.preventDefault(),U())};return g?b.jsx("textarea",{ref:S,value:v,onChange:k=>T(k.target.value.slice(0,d)),onBlur:M,onKeyDown:tt,rows:c,maxLength:d,className:`w-full p-3 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400 bg-white resize-none ${r}`}):b.jsx("div",{onDoubleClick:C,className:`cursor-pointer hover:bg-slate-50 transition-colors p-3 min-h-[4rem] rounded-lg ${o} ${r}`,children:a?b.jsx(jr,{text:a}):b.jsx("span",{className:"text-slate-400 italic",children:i})})},IE=({goal1:a,goal2:e,onGoal1Change:i,onGoal2Change:r})=>b.jsxs("div",{className:"flex flex-row gap-3 w-full",children:[b.jsx("div",{className:"flex-1",children:b.jsx(Oy,{value:a,onChange:i,placeholder:" 1",className:"bg-white border-2 border-slate-400 shadow-sm",textClassName:"text-red-600 font-bold text-lg",rows:2,maxLength:100})}),b.jsx("div",{className:"flex-1",children:b.jsx(Oy,{value:e,onChange:r,placeholder:" 2",className:"bg-white border-2 border-slate-400 shadow-sm",textClassName:"text-blue-600 font-bold text-lg",rows:2,maxLength:100})})]}),VE=({onClearAll:a,onAddSection:e,hasAnyCompletedItems:i,onOpenNavigationMap:r,headerGoals:o,onHeaderGoalsChange:c})=>{const[d,g]=ot.useState("");return ot.useEffect(()=>{const y=()=>{const T=new Date,S={year:"numeric",month:"long",day:"numeric",weekday:"long"},C=T.toLocaleDateString("ko-KR",S),M=String(T.getHours()).padStart(2,"0"),U=String(T.getMinutes()).padStart(2,"0"),tt=String(T.getSeconds()).padStart(2,"0");g(`${C} ${M}:${U}:${tt}`)};y();const v=setInterval(y,1e3);return()=>clearInterval(v)},[]),b.jsxs("header",{className:"w-full px-6 flex flex-col md:flex-row md:items-end justify-between gap-4 py-6",children:[b.jsxs("div",{children:[b.jsx("h1",{className:"text-2xl font-bold text-slate-800 tracking-tight",children:" "}),b.jsxs("div",{className:"flex items-center gap-3 mt-1",children:[b.jsx("p",{className:"text-red-600 font-medium whitespace-nowrap text-sm",children:d}),b.jsxs("div",{className:"flex items-center gap-2 ml-2",children:[b.jsx("button",{onClick:r,className:"text-slate-900 hover:text-black p-1.5 rounded-lg transition-colors bg-white border border-slate-200 shadow-sm",title:"  ",children:b.jsx(Y0,{})}),b.jsx("button",{onClick:a,disabled:!i,className:"text-slate-900 hover:text-black p-1.5 rounded-lg transition-colors disabled:opacity-30 disabled:cursor-not-allowed bg-white border border-slate-200 shadow-sm",title:"   ",children:b.jsx(CE,{})}),b.jsxs("button",{onClick:e,className:"flex items-center gap-1.5 px-3 py-1.5 bg-yellow-400 border border-yellow-500 text-yellow-950 text-xs font-bold rounded-lg hover:bg-yellow-500 transition-all shadow-sm",title:" ",children:[b.jsx(RE,{}),b.jsx("span",{className:"hidden sm:inline",children:"+"})]})]})]})]}),o&&c&&b.jsx("div",{className:"flex-1 hidden lg:flex items-end justify-end",children:b.jsx("div",{className:"w-[90%]",children:b.jsx(IE,{goal1:o.goal1,goal2:o.goal2,onGoal1Change:y=>c({...o,goal1:y}),onGoal2Change:y=>c({...o,goal2:y})})})})]})},ro=({value:a,onChange:e,placeholder:i,className:r="",compact:o=!1})=>{const[c,d]=ot.useState(!1),[g,y]=ot.useState(a),v=ot.useRef(null);ot.useEffect(()=>{var U;c&&((U=v.current)==null||U.focus())},[c]);const T=U=>{U.stopPropagation(),d(!0),y(a)},S=()=>{e(g),d(!1)},C=()=>{y(a),d(!1)},M=U=>{U.key==="Enter"&&S(),U.key==="Escape"&&C()};return c?b.jsx("input",{ref:v,value:g,onChange:U=>y(U.target.value),onBlur:S,onKeyDown:M,className:`w-full ${o?"p-0 text-lg leading-normal":"p-1"} border border-slate-300 rounded focus:outline-none focus:ring-1 focus:ring-slate-400 bg-white ${r}`}):b.jsx("div",{onDoubleClick:T,className:`cursor-pointer hover:bg-slate-50 transition-colors ${o?"p-0 min-h-0 text-lg leading-tight":"p-1 min-h-[1.5rem]"} rounded break-words ${r}`,children:a?b.jsx(jr,{text:a}):b.jsx("span",{className:"text-slate-400 italic text-[0.8em]",children:i})})};function Ec(a,e){ot.useEffect(()=>{function i(r){a.current&&!a.current.contains(r.target)&&e()}return document.addEventListener("mousedown",i),()=>document.removeEventListener("mousedown",i)},[a,e])}const OE=({item:a,sectionId:e,memo:i,onToggle:r,onUpdateText:o,onDelete:c,onAddMemo:d,onMoveItem:g,onCopy:y,onAddToCalendar:v,dragState:T,onDragStart:S,onDragOver:C,onDrop:M,onDragEnd:U})=>{const[tt,k]=ot.useState(!1),[Y,W]=ot.useState(!1),[lt,yt]=ot.useState({left:0}),vt=ot.useRef(null),xt=ot.useRef(null);Ec(xt,()=>k(!1));const w=L=>{L.stopPropagation();const V=window.innerWidth<768;if(vt.current&&!V){const z=vt.current.getBoundingClientRect();window.innerHeight-z.bottom>=280?yt({top:z.bottom+8,left:z.right+8}):yt({bottom:window.innerHeight-z.top+8,left:z.right+8})}k(!tt)},A=T.draggedItemId===a.id,N=T.dragOverItemId===a.id;return b.jsxs("div",{draggable:!0,onDragStart:S,onDragOver:C,onDrop:M,onDragEnd:U,className:`group flex items-center gap-1 py-1.5 px-0 rounded transition-all cursor-move relative min-h-0 ${A?"opacity-50 bg-slate-100":N?"bg-blue-50 border-l-2 border-blue-400":"hover:bg-slate-50"}`,children:[b.jsx("input",{type:"checkbox",checked:a.completed,onChange:r,className:"w-5 h-5 rounded border-slate-300 text-slate-700 focus:ring-slate-500 cursor-pointer flex-shrink-0"}),b.jsxs("div",{className:"flex-1 min-w-0",children:[b.jsx("div",{className:`text-sm leading-snug font-medium ${a.completed?"line-through text-slate-400":"text-slate-700"}`,children:b.jsx(ro,{value:a.text,onChange:o,placeholder:" ...",className:"text-sm",compact:!0})}),i&&b.jsx("div",{onClick:L=>{L.stopPropagation(),d()},className:"text-xs text-green-600 truncate cursor-pointer hover:text-green-700 transition-colors mt-0.5 pl-1 font-medium",title:i,children:b.jsx(jr,{text:i})})]}),b.jsxs("div",{className:"relative flex-shrink-0 -mr-3",children:[a.completed?b.jsx("button",{onClick:()=>W(!0),className:"bg-red-500 hover:bg-red-600 text-white px-3 py-1.5 rounded-md transition-colors text-sm font-medium border-2 border-black",title:"",children:""}):b.jsx("button",{ref:vt,onClick:w,className:"text-slate-500 hover:text-slate-700 transition-colors p-0 rounded",title:"",children:b.jsx(ac,{})}),tt&&!a.completed&&(()=>{const L=window.innerWidth<768;return b.jsxs("div",{ref:xt,className:`${L?"absolute":"fixed"} bg-white rounded-lg shadow-xl border border-slate-200 z-50 py-1.5 w-48 animate-in fade-in ${L?"slide-in-from-right-2":"slide-in-from-left-2"} duration-150`,style:{...L?{right:0,top:"100%",marginTop:"4px"}:{...lt.top!==void 0&&{top:`${lt.top}px`},...lt.bottom!==void 0&&{bottom:`${lt.bottom}px`},left:`${lt.left}px`}},onClick:V=>V.stopPropagation(),children:[b.jsx("button",{onClick:()=>{d(),k(!1)},className:"w-full text-left px-4 py-2.5 text-sm text-slate-700 hover:bg-slate-100 transition-colors",children:"  /"}),b.jsx("button",{onClick:()=>{g(),k(!1)},className:"w-full text-left px-4 py-2.5 text-sm text-slate-700 hover:bg-slate-100 transition-colors",children:" "}),b.jsx("button",{onClick:()=>{y(),k(!1)},className:"w-full text-left px-4 py-2.5 text-sm text-slate-700 hover:bg-slate-100 transition-colors",children:" "}),v&&b.jsx("button",{onClick:()=>{v(),k(!1)},className:"w-full text-left px-4 py-2.5 text-sm text-slate-700 hover:bg-slate-100 transition-colors",children:"  "}),b.jsx("button",{onClick:()=>{W(!0),k(!1)},className:"w-full text-left px-4 py-2.5 text-sm text-red-600 hover:bg-red-50 transition-colors",children:" "}),b.jsx("button",{onClick:()=>k(!1),className:"w-full text-left px-4 py-2.5 text-sm text-slate-500 hover:bg-slate-100 transition-colors border-t border-slate-200",children:""})]})})(),Y&&b.jsx("div",{className:"fixed inset-0 bg-black/40 flex items-center justify-center z-50 animate-in fade-in duration-150",children:b.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-6 max-w-sm mx-4 animate-in zoom-in duration-200",children:[b.jsx("h2",{className:"text-lg font-bold text-slate-800 mb-2",children:" ?"}),b.jsxs("p",{className:"text-sm text-slate-600 mb-6",children:['"',b.jsx("span",{className:"font-medium line-through",children:a.text}),'"() .']}),b.jsxs("div",{className:"flex gap-3 justify-end",children:[b.jsx("button",{onClick:()=>W(!1),className:"px-4 py-2 rounded-lg border-2 border-slate-300 text-slate-700 font-medium hover:bg-slate-50 transition-colors",children:""}),b.jsx("button",{onClick:()=>{c(),W(!1)},className:"px-4 py-2 rounded-lg bg-red-500 hover:bg-red-600 text-white font-medium border-2 border-black transition-colors",children:""})]})]})})]})]})},kf=({section:a,itemMemos:e,onUpdateSection:i,onDeleteSection:r,onShowItemMemo:o,onMoveItem:c,onAddToCalendar:d,dragState:g,setDragState:y,onSectionDragStart:v,onSectionDragOver:T,onSectionDrop:S,onSectionDragEnd:C,isHighlighted:M=!1,isInboxSection:U=!1,isFullHeight:tt=!1,tabColorText:k="text-slate-800",tabColorBg:Y=""})=>{const[W,lt]=ot.useState(""),yt=$=>{i({...a,title:$})},vt=$=>{if($.key==="Enter"){const ct=W.trim();if(ct==="")return;const bt={id:Math.random().toString(36).substr(2,9),text:ct,completed:!1};i({...a,items:[bt,...a.items]}),lt("")}},xt=()=>{i({...a,isLocked:!a.isLocked})},w=$=>{const ct=a.items.map(bt=>bt.id===$?{...bt,completed:!bt.completed}:bt);i({...a,items:ct})},A=($,ct)=>{const bt=a.items.map(Mt=>Mt.id===$?{...Mt,text:ct}:Mt);i({...a,items:bt})},N=$=>{const ct=a.items.filter(bt=>bt.id!==$);i({...a,items:ct})},L=$=>{const ct=a.items.find(bt=>bt.id===$);ct&&navigator.clipboard.writeText(ct.text).then(()=>{console.log(" :",ct.text)}).catch(bt=>{console.error("  :",bt)})};a.items.some($=>$.completed);const V=($,ct)=>{$.stopPropagation(),y({...g,draggedItemId:ct,sourceSectionId:a.id})},z=($,ct)=>{$.preventDefault(),g.dragOverItemId!==ct&&y({...g,dragOverItemId:ct})},R=($,ct)=>{if($.preventDefault(),$.stopPropagation(),!g.draggedItemId||g.sourceSectionId!==a.id)return;const bt=a.items.findIndex(Z=>Z.id===g.draggedItemId),Mt=a.items.findIndex(Z=>Z.id===ct);if(bt===-1||Mt===-1)return;const O=[...a.items],[I]=O.splice(bt,1);O.splice(Mt,0,I),i({...a,items:O})},Gt=()=>{y({...g,draggedItemId:null,dragOverItemId:null,sourceSectionId:null})},ue=g.draggedSectionId===a.id,X=g.dragOverSectionId===a.id;return b.jsxs("section",{"data-section-id":a.id,draggable:!0,onDragStart:v,onDragOver:T,onDrop:S,onDragEnd:C,className:`bg-white px-4 py-4 transition-all flex flex-col ${U||tt?"h-full":"h-[350px]"} cursor-default ${M?"border-2 border-yellow-400 shadow-lg ring-2 ring-yellow-300/50":ue?"opacity-40 border-2 border-slate-600 shadow-sm":X?"border-blue-500 border-2 scale-[1.01] shadow-sm":"border-2 border-black shadow-sm"}`,children:[b.jsxs("div",{className:`flex items-center justify-between mb-3 gap-2 cursor-move flex-shrink-0 px-4 py-3 -mx-4 -mt-4 mb-3 border-b-2 border-black ${Y}`,title:"  ",children:[b.jsx("div",{className:"flex-1 min-w-0",children:b.jsx(ro,{value:a.title,onChange:yt,className:"text-xl font-bold text-black",placeholder:" "})}),b.jsxs("div",{className:"flex items-center gap-1.5",children:[!U&&b.jsx("button",{onClick:xt,className:"text-red-500 hover:text-red-700 p-0.5 rounded-full transition-colors",title:a.isLocked?"  ":" ",children:a.isLocked?b.jsx($u,{}):b.jsx(NE,{})}),!U&&b.jsx("button",{disabled:a.isLocked,onClick:()=>r(a.id),className:"bg-red-500 hover:bg-red-600 text-white px-2 py-1 rounded-md transition-colors text-sm font-medium border-2 border-black disabled:opacity-30 disabled:cursor-not-allowed",title:a.isLocked?"    ":" ",children:""})]})]}),b.jsxs("div",{className:"mb-3 flex-shrink-0 flex gap-2",children:[b.jsx("input",{type:"text",value:W,onChange:$=>lt($.target.value),onKeyDown:vt,placeholder:"    Enter...",className:"flex-1 px-3 py-2 text-sm border-2 border-black rounded-lg bg-white focus:outline-none focus:ring-2 focus:ring-yellow-400 focus:border-yellow-400 transition-all"}),b.jsx("button",{onClick:()=>{const $=W.trim();if($==="")return;const ct={id:Math.random().toString(36).substr(2,9),text:$,completed:!1};i({...a,items:[ct,...a.items]}),lt("")},className:"px-2 py-1 text-xs font-bold bg-blue-500 hover:bg-blue-600 text-white border-2 border-black rounded-lg transition-colors whitespace-nowrap",title:"",children:"+"})]}),b.jsxs("div",{className:"space-y-0.5 overflow-y-auto overflow-x-hidden flex-1 pr-1",children:[[...a.items].sort(($,ct)=>$.completed===ct.completed?0:$.completed?1:-1).map($=>b.jsx(OE,{item:$,sectionId:a.id,memo:e[$.id],onToggle:()=>w($.id),onUpdateText:ct=>A($.id,ct),onDelete:()=>N($.id),onAddMemo:()=>o($.id),onMoveItem:()=>c($.id),onCopy:()=>L($.id),onAddToCalendar:d?()=>d($.text):void 0,dragState:g,onDragStart:ct=>V(ct,$.id),onDragOver:ct=>z(ct,$.id),onDrop:ct=>R(ct,$.id),onDragEnd:Gt},$.id)),a.items.length===0&&b.jsx("div",{className:"flex flex-col items-center justify-center h-full text-slate-400 opacity-60",children:b.jsx("p",{className:"text-[11px] italic",children:"  ."})})]})]})},ME=({isOpen:a,title:e,message:i,onConfirm:r,onCancel:o})=>a?b.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-slate-900/20 backdrop-blur-[2px]",children:b.jsxs("div",{className:"bg-white w-full max-w-sm rounded-2xl shadow-2xl border border-slate-200 overflow-hidden transform transition-all",children:[b.jsx("div",{className:"px-6 py-4 border-b border-slate-100",children:b.jsx("h2",{className:"text-lg font-bold text-slate-800",children:e})}),b.jsx("div",{className:"px-6 py-6",children:b.jsx("p",{className:"text-slate-600 text-sm leading-relaxed",children:i})}),b.jsxs("div",{className:"px-6 py-4 border-t border-slate-100 bg-slate-50 flex justify-end gap-3",children:[b.jsx("button",{onClick:o,className:"px-4 py-2 bg-slate-200 text-slate-800 text-sm font-semibold rounded-lg hover:bg-slate-300 transition-colors",children:""}),b.jsx("button",{onClick:r,className:"px-4 py-2 bg-red-500 text-white text-sm font-semibold rounded-lg hover:bg-red-600 transition-colors",children:""})]})]})}):null,jE=({info:a,onChange:e,onShowChecklistMemo:i,onShowShoppingMemo:r,onAddToCalendar:o})=>{const c=a.checklistItems||[],d=a.shoppingListItems||[],[g,y]=ot.useState({draggedItemId:null,dragOverItemId:null}),[v,T]=ot.useState({draggedItemId:null,dragOverItemId:null}),[S,C]=ot.useState(null),[M,U]=ot.useState({left:0}),[tt,k]=ot.useState({isOpen:!1,itemId:null,itemText:"",type:"checklist"}),Y=ot.useRef(null),W=ot.useRef({});Ec(Y,()=>C(null));const lt=(I,Z)=>{I.stopPropagation();const st=window.innerWidth<768;if(W.current[Z]&&!st){const dt=W.current[Z].getBoundingClientRect();window.innerHeight-dt.bottom>=240?U({top:dt.bottom+8,left:dt.right+8}):U({bottom:window.innerHeight-dt.top+8,left:dt.right+8})}C(S===Z?null:Z)},yt=()=>{const I={id:Math.random().toString(36).substr(2,9),text:"",completed:!1};e({...a,checklistItems:[...c,I]})},vt=I=>{const Z=c.map(st=>st.id===I?{...st,completed:!st.completed}:st);e({...a,checklistItems:Z})},xt=(I,Z)=>{const st=c.map(dt=>dt.id===I?{...dt,text:Z}:dt);e({...a,checklistItems:st})},w=I=>{const Z=c.filter(st=>st.id!==I);e({...a,checklistItems:Z})},A=I=>{const Z=c.find(st=>st.id===I);Z&&navigator.clipboard.writeText(Z.text).then(()=>{console.log(" :",Z.text)}).catch(st=>{console.error("  :",st)})},N=(I,Z)=>{I.stopPropagation(),y({draggedItemId:Z,dragOverItemId:null})},L=(I,Z)=>{I.preventDefault(),g.dragOverItemId!==Z&&y(st=>({...st,dragOverItemId:Z}))},V=(I,Z)=>{if(I.preventDefault(),I.stopPropagation(),!g.draggedItemId||g.draggedItemId===Z)return;const st=c.findIndex(Wt=>Wt.id===g.draggedItemId),dt=c.findIndex(Wt=>Wt.id===Z);if(st===-1||dt===-1)return;const ut=[...c],[Ct]=ut.splice(st,1);ut.splice(dt,0,Ct),e({...a,checklistItems:ut}),y({draggedItemId:null,dragOverItemId:null})},z=()=>{y({draggedItemId:null,dragOverItemId:null})},R=()=>{const I={id:Math.random().toString(36).substr(2,9),text:"",completed:!1};e({...a,shoppingListItems:[...d,I]})},Gt=I=>{const Z=d.map(st=>st.id===I?{...st,completed:!st.completed}:st);e({...a,shoppingListItems:Z})},ue=(I,Z)=>{const st=d.map(dt=>dt.id===I?{...dt,text:Z}:dt);e({...a,shoppingListItems:st})},X=I=>{const Z=d.filter(st=>st.id!==I);e({...a,shoppingListItems:Z})},$=I=>{const Z=d.find(st=>st.id===I);Z&&navigator.clipboard.writeText(Z.text).then(()=>{console.log(" :",Z.text)}).catch(st=>{console.error("  :",st)})},ct=(I,Z)=>{I.stopPropagation(),T({draggedItemId:Z,dragOverItemId:null})},bt=(I,Z)=>{I.preventDefault(),v.dragOverItemId!==Z&&T(st=>({...st,dragOverItemId:Z}))},Mt=(I,Z)=>{if(I.preventDefault(),I.stopPropagation(),!v.draggedItemId||v.draggedItemId===Z)return;const st=d.findIndex(Wt=>Wt.id===v.draggedItemId),dt=d.findIndex(Wt=>Wt.id===Z);if(st===-1||dt===-1)return;const ut=[...d],[Ct]=ut.splice(st,1);ut.splice(dt,0,Ct),e({...a,shoppingListItems:ut}),T({draggedItemId:null,dragOverItemId:null})},O=()=>{T({draggedItemId:null,dragOverItemId:null})};return b.jsxs("div",{className:"flex flex-col h-full bg-white border-2 border-black p-4 shadow-sm",children:[b.jsx("div",{className:"flex items-center justify-between mb-3 flex-shrink-0",children:b.jsx("h2",{className:"text-sm font-bold text-slate-800",children:""})}),b.jsxs("div",{className:"mb-4",children:[b.jsx("label",{className:"block text-[9px] font-bold text-slate-500 mb-0.5 uppercase tracking-wider",children:"Location Info"}),b.jsx("input",{type:"text",value:a.text,onChange:I=>e({text:I.target.value,checklistItems:c}),placeholder:": B2 14C",className:"w-full px-2 py-1.5 bg-slate-50 border border-slate-300 rounded-lg focus:outline-none focus:ring-1 focus:ring-slate-500 text-xs text-slate-700 font-medium placeholder:text-slate-300"})]}),b.jsx("div",{className:"border-t-2 border-blue-400 mb-4"}),b.jsxs("div",{className:"flex-1 flex flex-col min-h-0",children:[b.jsxs("div",{className:"flex items-center justify-between mb-2",children:[b.jsx("label",{className:"block text-sm font-bold text-slate-800",children:""}),b.jsx("button",{onClick:yt,className:"text-xs text-blue-600 hover:text-blue-700 font-medium",children:"+ "})]}),b.jsx("div",{className:"border-t border-slate-200 mb-3"}),b.jsxs("div",{className:"space-y-0 overflow-y-auto overflow-x-hidden flex-1",children:[[...c].sort((I,Z)=>I.completed===Z.completed?0:I.completed?1:-1).map(I=>{var dt;const Z=g.draggedItemId===I.id,st=g.dragOverItemId===I.id;return b.jsxs("div",{draggable:!0,onDragStart:ut=>N(ut,I.id),onDragOver:ut=>L(ut,I.id),onDrop:ut=>V(ut,I.id),onDragEnd:z,className:`flex items-center gap-1 py-1.5 px-0 rounded transition-all cursor-move relative min-h-0 ${Z?"opacity-50 bg-slate-100":st?"bg-blue-50 border-l-2 border-blue-400":"hover:bg-slate-50"}`,children:[b.jsx("input",{type:"checkbox",checked:I.completed,onChange:()=>vt(I.id),className:"w-5 h-5 rounded border-slate-300 text-slate-700 focus:ring-slate-500 cursor-pointer flex-shrink-0"}),b.jsxs("div",{className:"flex-1 min-w-0",children:[b.jsx("div",{className:`text-sm leading-snug font-medium ${I.completed?"line-through text-slate-400":"text-slate-700"}`,children:b.jsx(ro,{value:I.text,onChange:ut=>xt(I.id,ut),placeholder:" ...",className:"text-sm",compact:!0})}),((dt=a.checklistMemos)==null?void 0:dt[I.id])&&b.jsx("div",{onClick:ut=>{ut.stopPropagation(),i(I.id)},className:"text-xs text-green-600 truncate cursor-pointer hover:text-green-700 transition-colors mt-0.5 pl-1 font-medium",title:a.checklistMemos[I.id],children:b.jsx(jr,{text:a.checklistMemos[I.id]})})]}),b.jsxs("div",{className:"relative flex-shrink-0 -mr-3",children:[b.jsx("button",{ref:ut=>{ut&&(W.current[I.id]=ut)},onClick:ut=>lt(ut,I.id),className:"text-slate-600 hover:text-slate-800 transition-colors p-1.5 rounded",title:"",style:{transform:"scale(1.2)"},children:b.jsx(ac,{})}),S===I.id&&(()=>{const ut=window.innerWidth<768;return b.jsxs("div",{ref:Y,className:`${ut?"absolute":"fixed"} bg-white rounded-lg shadow-xl border border-slate-200 z-50 py-1.5 w-48 animate-in fade-in ${ut?"slide-in-from-right-2":"slide-in-from-left-2"} duration-150`,style:{...ut?{right:0,top:"100%",marginTop:"4px"}:{...M.top!==void 0&&{top:`${M.top}px`},...M.bottom!==void 0&&{bottom:`${M.bottom}px`},left:`${M.left}px`}},onClick:Ct=>Ct.stopPropagation(),children:[b.jsx("button",{onClick:()=>{i(I.id),C(null)},className:"w-full text-left px-4 py-2.5 text-sm text-slate-700 hover:bg-slate-100 transition-colors",children:"  /"}),b.jsx("button",{onClick:()=>{A(I.id),C(null)},className:"w-full text-left px-4 py-2.5 text-sm text-slate-700 hover:bg-slate-100 transition-colors",children:" "}),b.jsx("button",{onClick:()=>{o(I.text),C(null)},className:"w-full text-left px-4 py-2.5 text-sm text-slate-700 hover:bg-slate-100 transition-colors",children:"  "}),b.jsx("button",{onClick:()=>{k({isOpen:!0,itemId:I.id,itemText:I.text,type:"checklist"}),C(null)},className:"w-full text-left px-4 py-2.5 text-sm text-red-600 hover:bg-red-50 transition-colors border-t border-slate-200",children:" "})]})})()]})]},I.id)}),c.length===0&&b.jsx("div",{className:"text-center py-4 text-slate-400 text-xs italic",children:" "})]})]}),b.jsx("div",{className:"border-t-2 border-blue-400 my-4"}),b.jsxs("div",{className:"flex-1 flex flex-col min-h-0",children:[b.jsxs("div",{className:"flex items-center justify-between mb-2",children:[b.jsx("label",{className:"block text-sm font-bold text-slate-800",children:""}),b.jsx("button",{onClick:R,className:"text-xs text-blue-600 hover:text-blue-700 font-medium",children:"+ "})]}),b.jsx("div",{className:"border-t border-slate-200 mb-3"}),b.jsxs("div",{className:"space-y-0 overflow-y-auto overflow-x-hidden flex-1",children:[[...d].sort((I,Z)=>I.completed===Z.completed?0:I.completed?1:-1).map(I=>{var dt;const Z=v.draggedItemId===I.id,st=v.dragOverItemId===I.id;return b.jsxs("div",{draggable:!0,onDragStart:ut=>ct(ut,I.id),onDragOver:ut=>bt(ut,I.id),onDrop:ut=>Mt(ut,I.id),onDragEnd:O,className:`flex items-center gap-1 py-1.5 px-0 rounded transition-all cursor-move relative min-h-0 ${Z?"opacity-50 bg-slate-100":st?"bg-blue-50 border-l-2 border-blue-400":"hover:bg-slate-50"}`,children:[b.jsx("input",{type:"checkbox",checked:I.completed,onChange:()=>Gt(I.id),className:"w-5 h-5 rounded border-slate-300 text-slate-700 focus:ring-slate-500 cursor-pointer flex-shrink-0"}),b.jsxs("div",{className:"flex-1 min-w-0",children:[b.jsx("div",{className:`text-sm leading-snug font-medium ${I.completed?"line-through text-slate-400":"text-slate-700"}`,children:b.jsx(ro,{value:I.text,onChange:ut=>ue(I.id,ut),placeholder:" ...",className:"text-sm",compact:!0})}),((dt=a.shoppingListMemos)==null?void 0:dt[I.id])&&b.jsx("div",{onClick:ut=>{ut.stopPropagation(),r(I.id)},className:"text-xs text-green-600 truncate cursor-pointer hover:text-green-700 transition-colors mt-0.5 pl-1 font-medium",title:a.shoppingListMemos[I.id],children:b.jsx(jr,{text:a.shoppingListMemos[I.id]})})]}),b.jsxs("div",{className:"relative flex-shrink-0 -mr-3",children:[b.jsx("button",{ref:ut=>{ut&&(W.current[I.id]=ut)},onClick:ut=>lt(ut,I.id),className:"text-slate-600 hover:text-slate-800 transition-colors p-1.5 rounded",title:"",style:{transform:"scale(1.2)"},children:b.jsx(ac,{})}),S===I.id&&(()=>{const ut=window.innerWidth<768;return b.jsxs("div",{ref:Y,className:`${ut?"absolute":"fixed"} bg-white rounded-lg shadow-xl border border-slate-200 z-50 py-1.5 w-48 animate-in fade-in ${ut?"slide-in-from-right-2":"slide-in-from-left-2"} duration-150`,style:{...ut?{right:0,top:"100%",marginTop:"4px"}:{...M.top!==void 0&&{top:`${M.top}px`},...M.bottom!==void 0&&{bottom:`${M.bottom}px`},left:`${M.left}px`}},onClick:Ct=>Ct.stopPropagation(),children:[b.jsx("button",{onClick:()=>{r(I.id),C(null)},className:"w-full text-left px-4 py-2.5 text-sm text-slate-700 hover:bg-slate-100 transition-colors",children:"  /"}),b.jsx("button",{onClick:()=>{$(I.id),C(null)},className:"w-full text-left px-4 py-2.5 text-sm text-slate-700 hover:bg-slate-100 transition-colors",children:" "}),b.jsx("button",{onClick:()=>{o(I.text),C(null)},className:"w-full text-left px-4 py-2.5 text-sm text-slate-700 hover:bg-slate-100 transition-colors",children:"  "}),b.jsx("button",{onClick:()=>{k({isOpen:!0,itemId:I.id,itemText:I.text,type:"shopping"}),C(null)},className:"w-full text-left px-4 py-2.5 text-sm text-red-600 hover:bg-red-50 transition-colors border-t border-slate-200",children:" "})]})})()]})]},I.id)}),d.length===0&&b.jsx("div",{className:"text-center py-4 text-slate-400 text-xs italic",children:" "})]})]}),tt.isOpen&&b.jsx("div",{className:"fixed inset-0 bg-black/40 flex items-center justify-center z-50 animate-in fade-in duration-150",children:b.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-6 max-w-sm mx-4 animate-in zoom-in duration-200",children:[b.jsx("h2",{className:"text-lg font-bold text-slate-800 mb-2",children:" ?"}),b.jsxs("p",{className:"text-sm text-slate-600 mb-6",children:['"',tt.itemText&&tt.itemText.length>30?tt.itemText.substring(0,30)+"...":tt.itemText,'"',tt.itemText.length>30&&"","() ."]}),b.jsxs("div",{className:"flex gap-3 justify-end",children:[b.jsx("button",{onClick:()=>k({...tt,isOpen:!1}),className:"px-4 py-2 rounded-lg border-2 border-slate-300 text-slate-700 font-medium hover:bg-slate-50 transition-colors",children:""}),b.jsx("button",{onClick:()=>{tt.type==="checklist"?w(tt.itemId):X(tt.itemId),k({isOpen:!1,itemId:null,itemText:"",type:"checklist"})},className:"px-4 py-2 rounded-lg bg-red-500 hover:bg-red-600 text-white font-medium border-2 border-black transition-colors",children:""})]})]})})]})},My=[{bg:"bg-[#F59E0B]",bgLight:"bg-[#FEF3C7]",text:"text-[#92400E]",textLight:"text-[#D97706]",border:"border-[#F59E0B]"},{bg:"bg-[#3B82F6]",bgLight:"bg-[#DBEAFE]",text:"text-[#1E3A8A]",textLight:"text-[#3B82F6]",border:"border-[#3B82F6]"},{bg:"bg-[#9333EA]",bgLight:"bg-[#F3E8FF]",text:"text-[#581C87]",textLight:"text-[#9333EA]",border:"border-[#9333EA]"},{bg:"bg-[#10B981]",bgLight:"bg-[#D1FAE5]",text:"text-[#065F46]",textLight:"text-[#10B981]",border:"border-[#10B981]"},{bg:"bg-[#F43F5E]",bgLight:"bg-[#FFE4E6]",text:"text-[#881337]",textLight:"text-[#F43F5E]",border:"border-[#F43F5E]"},{bg:"bg-[#06B6D4]",bgLight:"bg-[#CFFAFE]",text:"text-[#164E63]",textLight:"text-[#06B6D4]",border:"border-[#06B6D4]"},{bg:"bg-[#8B5CF6]",bgLight:"bg-[#EDE9FE]",text:"text-[#4C1D95]",textLight:"text-[#8B5CF6]",border:"border-[#8B5CF6]"},{bg:"bg-[#F97316]",bgLight:"bg-[#FFEDD5]",text:"text-[#7C2D12]",textLight:"text-[#F97316]",border:"border-[#F97316]"}],Zl=a=>My[a%My.length],LE=({tab:a,onDelete:e,onToggleLock:i,canDelete:r,isActive:o,tabColor:c})=>{const[d,g]=ot.useState(!1),[y,v]=ot.useState({bottom:0,left:0}),T=ot.useRef(null),S=ot.useRef(null);Ec(S,()=>g(!1));const C=U=>{if(U.stopPropagation(),T.current){const tt=T.current.getBoundingClientRect();v({bottom:window.innerHeight-tt.top+8,left:tt.left})}g(!d)},M=r&&!a.isLocked;return b.jsxs("div",{className:"relative ml-1",children:[b.jsx("button",{ref:T,onClick:C,className:`p-1 rounded-full transition-all flex items-center justify-center ${o?`opacity-100 ${c.text} hover:bg-black/5`:`opacity-40 group-hover:opacity-100 ${c.textLight} hover:bg-black/5`}`,title:" ",children:b.jsx(ac,{})}),d&&b.jsxs("div",{ref:S,className:"fixed bg-white rounded-xl shadow-[0_10px_30px_rgba(0,0,0,0.2)] border border-slate-200 z-[999] py-1 overflow-hidden animate-in fade-in slide-in-from-bottom-2 duration-150 w-32",style:{bottom:`${y.bottom}px`,left:`${y.left}px`},onClick:U=>U.stopPropagation(),children:[b.jsxs("button",{onClick:()=>{i(a.id),g(!1)},className:"w-full text-left px-3 py-2 text-xs text-slate-700 hover:bg-slate-100 transition-colors flex items-center gap-2",children:[b.jsx("span",{className:"text-sm leading-none",children:a.isLocked?"":""}),b.jsx("span",{className:"font-bold",children:a.isLocked?" ":""})]}),b.jsxs("button",{disabled:!M,onClick:()=>{e(a.id),g(!1)},className:`w-full text-left px-3 py-2 text-xs transition-colors flex items-center gap-2 border-t border-slate-50 ${M?"text-red-600 hover:bg-red-50":"text-slate-300 cursor-not-allowed bg-slate-50"}`,children:[b.jsx("span",{className:"text-sm leading-none",children:""}),b.jsx("span",{className:"font-bold",children:""})]}),b.jsx("button",{onClick:()=>g(!1),className:"w-full text-left px-3 py-2 text-xs text-slate-500 hover:bg-slate-100 transition-colors border-t border-slate-100 font-medium",children:""})]})]})},kE=({tabs:a,activeTabId:e,onSelectTab:i,onAddTab:r,onRenameTab:o,onDeleteTab:c,onToggleLockTab:d,onReorderTabs:g,onNavigateToInbox:y,hasInbox:v})=>{const[T,S]=ot.useState(null),[C,M]=ot.useState(null),U=(W,lt)=>{if(a[lt].isLocked){W.preventDefault();return}S(lt),W.dataTransfer.effectAllowed="move"},tt=(W,lt)=>{W.preventDefault(),W.dataTransfer.dropEffect="move",M(lt)},k=(W,lt)=>{W.preventDefault(),T!==null&&T!==lt&&g(T,lt),S(null),M(null)},Y=()=>{S(null),M(null)};return b.jsx("div",{className:"bg-white border-t border-slate-200 z-[100] h-12 shadow-[0_-2px_15px_rgba(0,0,0,0.08)] relative",children:b.jsxs("div",{className:"w-full h-full flex items-center overflow-x-auto no-scrollbar whitespace-nowrap px-6 gap-1",children:[v&&b.jsx("button",{onClick:y,className:"flex items-center justify-center w-8 h-8 text-lg leading-none hover:bg-blue-50 rounded-lg transition-all active:scale-95 flex-shrink-0",title:"  IN-BOX  ",children:""}),a.map((W,lt)=>{const yt=Zl(lt),vt=e===W.id,xt=T===lt,w=C===lt;return b.jsxs("div",{draggable:!W.isLocked,onDragStart:A=>U(A,lt),onDragOver:A=>tt(A,lt),onDrop:A=>k(A,lt),onDragEnd:Y,onClick:()=>i(W.id),className:`group flex items-center gap-1.5 px-2.5 py-1.5 rounded-lg cursor-pointer transition-all border flex-shrink-0 ${xt?"opacity-50":""} ${w?"ring-2 ring-offset-1 ring-blue-400":""} ${W.isLocked?"":"hover:shadow-md"} ${vt?`${yt.bg} ${yt.text} ${yt.border} shadow-sm`:`${yt.bgLight} ${yt.textLight} border-transparent hover:${yt.border}`} ${W.isLocked?"cursor-default":""}`,children:[b.jsx("div",{draggable:!1,onDragStart:A=>A.stopPropagation(),children:b.jsx(ro,{value:W.name,onChange:A=>o(W.id,A),className:`text-xs min-w-[40px] text-center ${vt?"font-bold":"font-medium"}`,placeholder:" "})}),b.jsx(LE,{tab:W,onDelete:c,onToggleLock:d,canDelete:a.length>1,isActive:vt,tabColor:yt})]},W.id)}),b.jsx("div",{className:"flex items-center ml-2 border-l border-slate-200 pl-4 flex-shrink-0 h-8",children:b.jsxs("button",{onClick:r,className:"flex items-center gap-1.5 px-3 py-1.5 text-xs font-bold text-emerald-600 hover:bg-emerald-50 rounded-lg transition-all active:scale-95",children:[b.jsx("span",{className:"text-lg leading-none",children:"+"}),b.jsx("span",{children:" "})]})})]})})},zE=["#F1F1EF","#F4EEEE","#FBECDD","#FBF3DB","#EDF3EC","#E7F3F8","#F3F0F5","#F9F0F4","#FDEBEC","#FFFFFF","#E1E1E1","#D3D3D3","#E9E5E3","#F7F6F3","#FAF9F6","#F1F5F9","#F0FDF4","#EFF6FF","#F5F3FF","#FDF2F8","#FFFBEB","#FFF1F2","#FEFCE8","#F0FDFA"],UE=({isOpen:a,bookmark:e,onClose:i,onSave:r})=>{const[o,c]=ot.useState({...e});if(ot.useEffect(()=>{a&&c({...e})},[a,e]),!a)return null;const d=()=>{r(o)},g=y=>y.startsWith("#");return b.jsx("div",{className:"fixed inset-0 z-[200] flex items-center justify-center p-4 bg-black/30 backdrop-blur-[2px]",onClick:i,children:b.jsxs("div",{className:"bg-[#F7F6F3] w-full max-w-2xl rounded-xl shadow-2xl overflow-hidden animate-in fade-in zoom-in duration-200",onClick:y=>y.stopPropagation(),children:[b.jsxs("div",{className:"bg-white px-6 py-4 flex items-center justify-between border-b border-slate-200",children:[b.jsx("h2",{className:"text-lg font-bold text-slate-800",children:" "}),b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("button",{onClick:d,className:"px-4 py-1.5 bg-[#3B82F6] text-white text-sm font-bold rounded shadow-sm hover:brightness-95 active:scale-95 transition-all",children:""}),b.jsx("button",{onClick:i,className:"px-4 py-1.5 bg-[#F1B116] text-white text-sm font-bold rounded shadow-sm hover:brightness-95 active:scale-95 transition-all",children:""})]})]}),b.jsxs("div",{className:"p-8 flex flex-col md:flex-row gap-12",children:[b.jsxs("div",{className:"flex-1 space-y-6",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-bold text-slate-400 mb-2 uppercase tracking-tight",children:""}),b.jsx("input",{type:"text",value:o.label,onChange:y=>c({...o,label:y.target.value}),className:"w-full px-4 py-2.5 bg-white border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/20 text-slate-700 font-medium"})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-bold text-slate-400 mb-2 uppercase tracking-tight",children:"URL"}),b.jsx("input",{type:"text",value:o.url,onChange:y=>c({...o,url:y.target.value}),className:"w-full px-4 py-2.5 bg-white border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/20 text-slate-700 font-medium"})]})]}),b.jsxs("div",{className:"flex-1",children:[b.jsx("label",{className:"block text-sm font-bold text-slate-400 mb-4 text-center md:text-left uppercase tracking-tight",children:"  "}),b.jsx("div",{className:"grid grid-cols-6 gap-2 mb-8",children:zE.map(y=>b.jsx("button",{onClick:()=>c({...o,color:`bg-[${y}]`}),className:`w-10 h-10 rounded-lg border transition-all hover:scale-110 ${o.color===`bg-[${y}]`?"border-blue-500 shadow-md scale-110 ring-2 ring-blue-100":"border-slate-200"}`,style:{backgroundColor:y}},y))}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-bold text-slate-400 mb-2 uppercase tracking-tight",children:" "}),b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("div",{className:"w-12 h-10 rounded border border-slate-300 relative overflow-hidden",style:{backgroundColor:g(o.color.replace("bg-[","").replace("]",""))?o.color.replace("bg-[","").replace("]",""):"#FFFFFF"},children:b.jsx("input",{type:"color",className:"absolute inset-0 opacity-0 cursor-pointer w-full h-full",value:g(o.color.replace("bg-[","").replace("]",""))?o.color.replace("bg-[","").replace("]",""):"#FFFFFF",onChange:y=>c({...o,color:`bg-[${y.target.value.toUpperCase()}]`})})}),b.jsx("input",{type:"text",value:o.color.replace("bg-[","").replace("]",""),onChange:y=>c({...o,color:`bg-[${y.target.value.toUpperCase()}]`}),className:"flex-1 px-4 py-2 bg-white border border-slate-300 rounded-lg focus:outline-none text-slate-700 font-mono",placeholder:"#000000"})]})]})]})]})]})})},BE=({bookmarks:a,onUpdateBookmarks:e})=>{const[i,r]=ot.useState(null),[o,c]=ot.useState(null),[d,g]=ot.useState(null),y=Y=>{Y&&(Y.startsWith("http")?window.open(Y,"_blank"):window.open(`https://${Y}`,"_blank"))},v=(Y,W)=>{Y.preventDefault(),r(W)},T=(Y,W)=>{c(W),Y.dataTransfer.effectAllowed="move"},S=(Y,W)=>{Y.preventDefault(),Y.dataTransfer.dropEffect="move",o&&o!==W&&g(W)},C=()=>{g(null)},M=(Y,W)=>{if(Y.preventDefault(),!o||o===W){c(null),g(null);return}const lt=a.findIndex(vt=>vt.id===o),yt=a.findIndex(vt=>vt.id===W);if(lt!==-1&&yt!==-1){const vt=[...a],[xt]=vt.splice(lt,1);vt.splice(yt,0,xt),e(vt)}c(null),g(null)},U=()=>{c(null),g(null)},tt=Y=>{if(!i)return;const W=a.map(lt=>lt.id===Y.id?Y:lt);e(W),r(null)},k=Y=>Y.startsWith("bg-[")?Y.replace("bg-[","").replace("]",""):Y;return b.jsxs("div",{className:"w-full bg-white border-b border-slate-200 py-2.5 px-4 overflow-hidden",children:[b.jsx("div",{className:"grid grid-cols-5 md:grid-cols-[repeat(15,minmax(0,1fr))] gap-1.5",children:a.slice(0,15).map(Y=>b.jsx("div",{className:`relative group/btn transition-all ${o===Y.id?"opacity-50":""} ${d===Y.id?"transform scale-105":""}`,draggable:!0,onDragStart:W=>T(W,Y.id),onDragOver:W=>S(W,Y.id),onDragLeave:C,onDrop:W=>M(W,Y.id),onDragEnd:U,children:b.jsx("button",{onClick:()=>y(Y.url),onContextMenu:W=>v(W,Y),className:"w-full h-11 px-2 py-1 rounded-lg border border-slate-200/60 text-[11px] font-bold transition-all active:scale-95 flex items-center justify-center hover:brightness-95 hover:shadow-sm text-slate-700 overflow-hidden leading-tight cursor-move",style:{backgroundColor:k(Y.color)},children:b.jsx("span",{className:"line-clamp-2 text-center break-all",children:Y.label||"Empty"})})},Y.id))}),i&&b.jsx(UE,{isOpen:!!i,bookmark:i,onClose:()=>r(null),onSave:tt})]})},PE=({notes:a,onChange:e})=>{const[i,r]=ot.useState(null),[o,c]=ot.useState(""),[d,g]=ot.useState(""),y=Array.from({length:16},(M,U)=>a[U]||{title:"",content:""}),v=Array.from({length:16},(M,U)=>({note:y[U],originalIndex:U})).sort((M,U)=>{const tt=M.note.title||M.note.content,k=U.note.title||U.note.content;return tt===k?0:tt?-1:1}),T=M=>{r(M),c(y[M].title),g(y[M].content)},S=()=>{if(i!==null){const M=[...y];M[i]={title:o,content:d},e(M),r(null)}},C=()=>{if(i!==null){const M=[...y];M[i]={title:"",content:""},e(M),r(null)}};return b.jsxs("div",{className:"w-full h-full flex flex-col py-2 px-2 gap-1 overflow-hidden",children:[v.map(({note:M,originalIndex:U})=>{const tt=M.title||M.content;return b.jsx("div",{className:"flex-1 min-h-0 w-full",children:b.jsx("button",{onClick:()=>T(U),className:`w-full h-full px-2 py-1 rounded-lg border border-slate-200/60 text-[12px] font-bold transition-all active:scale-95 flex flex-col items-center justify-center hover:brightness-95 hover:shadow-sm overflow-hidden leading-tight ${tt?"bg-purple-400 text-white":"bg-[#FBF3DB] text-slate-700"}`,children:b.jsx("span",{className:"line-clamp-2 text-center break-all font-bold",children:b.jsx(jr,{text:M.title||(M.content?M.content.substring(0,10):" ")})})})},U)}),i!==null&&b.jsx("div",{className:"fixed inset-0 z-[300] flex items-center justify-center p-4 bg-black/40 backdrop-blur-sm",onClick:()=>r(null),children:b.jsxs("div",{className:"bg-white w-full max-w-3xl h-[70vh] shadow-2xl border border-slate-200 overflow-hidden animate-in zoom-in duration-200 flex flex-col",onClick:M=>M.stopPropagation(),children:[b.jsxs("div",{className:"px-8 py-5 border-b border-black flex items-center gap-4 bg-white shrink-0",children:[b.jsxs("div",{className:"flex-1 flex items-center gap-2",children:[b.jsx("span",{className:"text-xl",children:""}),b.jsx("input",{type:"text",autoFocus:!0,value:o,onChange:M=>c(M.target.value),placeholder:"  ...",className:"w-full text-lg font-extrabold text-slate-800 placeholder:text-slate-300 focus:outline-none bg-transparent"})]}),b.jsx("button",{onClick:()=>r(null),className:"text-slate-400 hover:text-slate-600 transition-colors",children:b.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),b.jsx("div",{className:"flex-1 overflow-hidden",children:b.jsx("textarea",{value:d,onChange:M=>g(M.target.value),className:"w-full h-full p-8 bg-transparent text-slate-700 text-base resize-none focus:outline-none custom-scrollbar font-medium leading-relaxed placeholder:text-slate-200",placeholder:"  ..."})}),b.jsxs("div",{className:"px-6 py-2 bg-slate-50 border-t border-black flex justify-between gap-3 shrink-0",children:[b.jsx("button",{onClick:C,className:"px-6 py-2.5 text-sm font-bold text-white bg-red-500 hover:bg-red-600 rounded-xl transition-all active:scale-95",children:""}),b.jsxs("div",{className:"flex gap-3",children:[b.jsx("button",{onClick:()=>r(null),className:"px-6 py-2.5 text-sm font-bold text-slate-500 hover:bg-slate-200 rounded-xl transition-all",children:""}),b.jsx("button",{onClick:S,className:"px-10 py-2.5 text-sm font-bold text-white bg-blue-500 hover:bg-blue-600 rounded-xl shadow-lg shadow-blue-500/20 transition-all active:scale-95",children:""})]})]})]})})]})},zf=({isExpanded:a})=>b.jsx("span",{className:"text-slate-500 font-bold transition-transform duration-200 inline-block text-xs flex-shrink-0",style:{transform:a?"rotate(90deg)":"rotate(0deg)"},children:""}),qE=({isOpen:a,tabs:e,activeTabId:i,onClose:r,onNavigate:o})=>{const[c,d]=ot.useState(new Set([i])),[g,y]=ot.useState(new Set);if(ot.useEffect(()=>{a&&(d(new Set([i])),y(new Set))},[a,i]),!a)return null;const v=k=>k.sections.length+(k.inboxSection?1:0),T=k=>{var Y;return k.sections.reduce((W,lt)=>W+lt.items.length,0)+(((Y=k.inboxSection)==null?void 0:Y.items.length)||0)},S=()=>e.reduce((k,Y)=>k+v(Y),0),C=()=>e.reduce((k,Y)=>k+T(Y),0),M=k=>{d(Y=>{const W=new Set(Y);if(W.has(k)){W.delete(k);const lt=e.find(yt=>yt.id===k);lt&&y(yt=>{const vt=new Set(yt);return lt.inboxSection&&vt.delete(lt.inboxSection.id),lt.sections.forEach(xt=>vt.delete(xt.id)),vt})}else W.add(k);return W})},U=k=>{y(Y=>{const W=new Set(Y);return W.has(k)?W.delete(k):W.add(k),W})},tt=(k,Y)=>{o(k,Y)};return b.jsx("div",{className:"fixed inset-0 z-[250] flex items-center justify-center p-4 bg-black/30 backdrop-blur-[2px]",onClick:r,children:b.jsxs("div",{className:"bg-white w-full max-w-4xl max-h-[80vh] rounded-xl shadow-2xl overflow-hidden flex flex-col",onClick:k=>k.stopPropagation(),children:[b.jsxs("div",{className:"px-6 py-4 border-b border-slate-200 flex items-center justify-between bg-slate-50",children:[b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx(Y0,{}),b.jsx("h2",{className:"text-lg font-bold text-slate-800",children:"  "})]}),b.jsx("button",{onClick:r,className:"text-slate-400 hover:text-slate-600 p-2 rounded-lg transition-colors",title:"",children:b.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),b.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar p-6",children:e.length===0?b.jsx("div",{className:"text-center py-12 text-slate-400",children:b.jsx("p",{className:"italic",children:" ."})}):e.map(k=>b.jsxs("div",{className:"mb-4",children:[b.jsx("button",{onClick:()=>M(k.id),className:`w-full text-left px-4 py-3 rounded-lg mb-2 transition-all ${k.id===i?"bg-blue-50 border-2 border-blue-400":"hover:bg-slate-100 border border-slate-200"}`,children:b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx(zf,{isExpanded:c.has(k.id)}),b.jsx("span",{className:"text-lg",children:""}),b.jsx("span",{className:"font-semibold text-slate-800",children:k.name}),k.isLocked&&b.jsx($u,{}),b.jsxs("span",{className:"text-xs text-slate-400 ml-auto",children:[v(k)," , ",T(k)," "]})]})}),c.has(k.id)&&b.jsxs("div",{className:"pl-6 space-y-2",children:[k.inboxSection&&b.jsxs("div",{children:[b.jsxs("button",{onClick:()=>U(k.inboxSection.id),className:"w-full text-left px-4 py-2 rounded-lg hover:bg-slate-100 transition-all flex items-center gap-2",children:[b.jsx(zf,{isExpanded:g.has(k.inboxSection.id)}),b.jsx("span",{className:"text-base",children:""}),b.jsx("span",{className:"text-sm font-medium text-slate-700",children:k.inboxSection.title}),k.inboxSection.isLocked&&b.jsx("div",{className:"scale-75",children:b.jsx($u,{})}),b.jsxs("span",{className:"text-xs text-slate-400 ml-auto",children:[k.inboxSection.items.length," "]})]}),g.has(k.inboxSection.id)&&b.jsx("div",{className:"pl-8 space-y-1 mt-1",children:k.inboxSection.items.map(Y=>b.jsxs("button",{onClick:()=>tt(k.id,k.inboxSection.id),className:"w-full text-left px-3 py-1.5 rounded hover:bg-blue-50 transition-all text-xs text-slate-600 hover:text-slate-800 flex items-center gap-2",children:[b.jsx("span",{className:"flex-shrink-0",children:Y.completed?"":""}),b.jsx("span",{className:`truncate ${Y.completed?"line-through text-slate-400":""}`,children:Y.text||"( )"})]},Y.id))})]}),k.sections.length===0&&!k.inboxSection?b.jsx("div",{className:"pl-10 py-2 text-xs text-slate-400 italic",children:"  "}):k.sections.map(Y=>b.jsxs("div",{children:[b.jsxs("button",{onClick:()=>U(Y.id),className:"w-full text-left px-4 py-2 rounded-lg hover:bg-slate-100 transition-all flex items-center gap-2",children:[b.jsx(zf,{isExpanded:g.has(Y.id)}),b.jsx("span",{className:"text-base",children:""}),b.jsx("span",{className:"text-sm font-medium text-slate-700",children:Y.title}),Y.isLocked&&b.jsx("div",{className:"scale-75",children:b.jsx($u,{})}),b.jsxs("span",{className:"text-xs text-slate-400 ml-auto",children:[Y.items.length," "]})]}),g.has(Y.id)&&b.jsxs("div",{className:"pl-8 space-y-1 mt-1",children:[Y.items.map(W=>b.jsxs("button",{onClick:()=>tt(k.id,Y.id),className:"w-full text-left px-3 py-1.5 rounded hover:bg-blue-50 transition-all text-xs text-slate-600 hover:text-slate-800 flex items-center gap-2",children:[b.jsx("span",{className:"flex-shrink-0",children:W.completed?"":""}),b.jsx("span",{className:`truncate ${W.completed?"line-through text-slate-400":""}`,children:W.text||"( )"})]},W.id)),Y.items.length===0&&b.jsx("div",{className:"pl-3 py-1.5 text-xs text-slate-400 italic",children:" "})]})]},Y.id))]})]},k.id))}),b.jsxs("div",{className:"px-6 py-3 border-t border-slate-200 bg-slate-50 text-xs text-slate-500 text-center",children:[" ",e.length," , ",S()," , ",C()," "]})]})})},HE=({isOpen:a,itemText:e,currentTabId:i,currentSectionId:r,tabs:o,onMove:c,onCancel:d})=>{const[g,y]=ot.useState(i),[v,T]=ot.useState(""),S=ot.useRef(null);if(Ec(S,d),ot.useEffect(()=>{if(a){const k=o.find(Y=>Y.id===g);if(k){const W=o.findIndex(lt=>lt.id===g)===0&&k.inboxSection?k.inboxSection:k.sections[0];T((W==null?void 0:W.id)||"")}}},[a,g,o]),!a)return null;const C=o.find(k=>k.id===i),M=C==null?void 0:C.sections.find(k=>k.id===r),U=o.find(k=>k.id===g),tt=v&&!(g===i&&v===r);return b.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-slate-900/20 backdrop-blur-[2px]",children:b.jsxs("div",{ref:S,className:"bg-white w-full max-w-md rounded-2xl shadow-2xl border border-slate-200 overflow-hidden",children:[b.jsxs("div",{className:"px-6 py-4 border-b border-slate-100 flex items-center justify-between",children:[b.jsx("h2",{className:"text-lg font-bold text-slate-800",children:"  "}),b.jsx("button",{onClick:d,className:"text-slate-400 hover:text-slate-600 p-1 transition-colors",children:b.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),b.jsxs("div",{className:"px-6 py-6 space-y-4",children:[b.jsxs("div",{className:"bg-slate-50 rounded-lg p-3 border border-slate-200",children:[b.jsx("p",{className:"text-xs text-slate-500 mb-1",children:" "}),b.jsxs("p",{className:"text-sm font-semibold text-slate-700",children:[C==null?void 0:C.name," > ",M==null?void 0:M.title]})]}),b.jsxs("div",{className:"bg-blue-50 rounded-lg p-3 border border-blue-200",children:[b.jsx("p",{className:"text-xs text-blue-600 mb-1",children:" "}),b.jsx("p",{className:"text-sm font-medium text-slate-800 truncate",children:e||"( )"})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:" "}),b.jsx("select",{value:g,onChange:k=>y(k.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm bg-white text-slate-800",children:o.map(k=>b.jsx("option",{value:k.id,children:k.name},k.id))})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:" "}),b.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto custom-scrollbar border border-slate-200 rounded-lg p-3",children:!(U!=null&&U.inboxSection)&&(U==null?void 0:U.sections.length)===0?b.jsx("p",{className:"text-sm text-slate-400 italic text-center py-4",children:"   "}):b.jsxs(b.Fragment,{children:[o.findIndex(Y=>Y.id===g)===0&&(U==null?void 0:U.inboxSection)&&b.jsxs("label",{className:`flex items-center gap-3 p-2.5 rounded-lg cursor-pointer transition-colors hover:bg-slate-50 ${v===U.inboxSection.id?"bg-blue-50 border border-blue-300":"border border-transparent"}`,children:[b.jsx("input",{type:"radio",name:"targetSection",value:U.inboxSection.id,checked:v===U.inboxSection.id,onChange:Y=>T(Y.target.value),className:"w-4 h-4 text-blue-600 focus:ring-blue-500 flex-shrink-0"}),b.jsxs("span",{className:"text-sm font-medium flex-1 text-slate-700",children:[" ",U.inboxSection.title]})]}),U==null?void 0:U.sections.map(k=>b.jsxs("label",{className:`flex items-center gap-3 p-2.5 rounded-lg cursor-pointer transition-colors hover:bg-slate-50 ${v===k.id?"bg-blue-50 border border-blue-300":"border border-transparent"}`,children:[b.jsx("input",{type:"radio",name:"targetSection",value:k.id,checked:v===k.id,onChange:Y=>T(Y.target.value),className:"w-4 h-4 text-blue-600 focus:ring-blue-500 flex-shrink-0"}),b.jsx("span",{className:"text-sm font-medium flex-1 text-slate-700",children:k.title})]},k.id))]})})]})]}),b.jsxs("div",{className:"px-6 py-4 border-t border-slate-100 bg-slate-50 flex justify-end gap-3",children:[b.jsx("button",{onClick:d,className:"px-4 py-2 bg-slate-200 text-slate-800 text-sm font-semibold rounded-lg hover:bg-slate-300 transition-colors",children:""}),b.jsx("button",{onClick:()=>c(g,v),disabled:!tt,className:"px-5 py-2 bg-blue-500 text-white text-sm font-semibold rounded-lg hover:bg-blue-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:bg-blue-500",children:""})]})]})})},FE=({isOpen:a,itemText:e,onClose:i,onConfirm:r})=>{const o=new Date().toISOString().split("T")[0],[c,d]=ot.useState(o),[g,y]=ot.useState(!0),[v,T]=ot.useState("09:00"),[S,C]=ot.useState("10:00");if(!a)return null;const M=()=>{if(g)r(c,c,!0);else{const U=`${c}T${v}:00`,tt=`${c}T${S}:00`;r(U,tt,!1)}i()};return b.jsx("div",{className:"fixed inset-0 z-[120] flex items-center justify-center p-4 bg-slate-900/40 backdrop-blur-sm",children:b.jsxs("div",{className:"bg-white w-full max-w-md rounded-2xl shadow-2xl p-6",children:[b.jsx("h3",{className:"text-lg font-bold text-slate-800 mb-4",children:"  "}),b.jsxs("div",{className:"mb-4",children:[b.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:" "}),b.jsx("input",{type:"text",value:e,disabled:!0,className:"w-full px-3 py-2 border border-slate-300 rounded-lg bg-slate-50"})]}),b.jsxs("div",{className:"mb-4",children:[b.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:""}),b.jsx("input",{type:"date",value:c,onChange:U=>d(U.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-lg"})]}),b.jsx("div",{className:"mb-4",children:b.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[b.jsx("input",{type:"checkbox",checked:g,onChange:U=>y(U.target.checked),className:"w-4 h-4 rounded border-slate-300 text-blue-500"}),b.jsx("span",{className:"text-sm font-medium text-slate-700",children:""})]})}),!g&&b.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-6",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:" "}),b.jsx("input",{type:"time",value:v,onChange:U=>T(U.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-lg"})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:" "}),b.jsx("input",{type:"time",value:S,onChange:U=>C(U.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-lg"})]})]}),b.jsxs("div",{className:"flex justify-end gap-3",children:[b.jsx("button",{onClick:i,className:"px-5 py-2.5 text-sm font-medium text-slate-500 hover:bg-slate-50 rounded-lg",children:""}),b.jsx("button",{onClick:M,disabled:!c,className:"px-8 py-2.5 text-sm font-bold text-white bg-blue-500 hover:bg-blue-600 rounded-lg disabled:opacity-50",children:""})]})]})})},GE=()=>{};var jy={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K0=function(a){const e=[];let i=0;for(let r=0;r<a.length;r++){let o=a.charCodeAt(r);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&r+1<a.length&&(a.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(a.charCodeAt(++r)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},QE=function(a){const e=[];let i=0,r=0;for(;i<a.length;){const o=a[i++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const c=a[i++];e[r++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=a[i++],d=a[i++],g=a[i++],y=((o&7)<<18|(c&63)<<12|(d&63)<<6|g&63)-65536;e[r++]=String.fromCharCode(55296+(y>>10)),e[r++]=String.fromCharCode(56320+(y&1023))}else{const c=a[i++],d=a[i++];e[r++]=String.fromCharCode((o&15)<<12|(c&63)<<6|d&63)}}return e.join("")},X0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(a,e){if(!Array.isArray(a))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<a.length;o+=3){const c=a[o],d=o+1<a.length,g=d?a[o+1]:0,y=o+2<a.length,v=y?a[o+2]:0,T=c>>2,S=(c&3)<<4|g>>4;let C=(g&15)<<2|v>>6,M=v&63;y||(M=64,d||(C=64)),r.push(i[T],i[S],i[C],i[M])}return r.join("")},encodeString(a,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(a):this.encodeByteArray(K0(a),e)},decodeString(a,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(a):QE(this.decodeStringToByteArray(a,e))},decodeStringToByteArray(a,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<a.length;){const c=i[a.charAt(o++)],g=o<a.length?i[a.charAt(o)]:0;++o;const v=o<a.length?i[a.charAt(o)]:64;++o;const S=o<a.length?i[a.charAt(o)]:64;if(++o,c==null||g==null||v==null||S==null)throw new YE;const C=c<<2|g>>4;if(r.push(C),v!==64){const M=g<<4&240|v>>2;if(r.push(M),S!==64){const U=v<<6&192|S;r.push(U)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let a=0;a<this.ENCODED_VALS.length;a++)this.byteToCharMap_[a]=this.ENCODED_VALS.charAt(a),this.charToByteMap_[this.byteToCharMap_[a]]=a,this.byteToCharMapWebSafe_[a]=this.ENCODED_VALS_WEBSAFE.charAt(a),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[a]]=a,a>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(a)]=a,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(a)]=a)}}};class YE extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const KE=function(a){const e=K0(a);return X0.encodeByteArray(e,!0)},rc=function(a){return KE(a).replace(/\./g,"")},XE=function(a){try{return X0.decodeString(a,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZE(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JE=()=>ZE().__FIREBASE_DEFAULTS__,$E=()=>{if(typeof process>"u"||typeof jy>"u")return;const a=jy.__FIREBASE_DEFAULTS__;if(a)return JSON.parse(a)},WE=()=>{if(typeof document>"u")return;let a;try{a=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=a&&XE(a[1]);return e&&JSON.parse(e)},yd=()=>{try{return GE()||JE()||$E()||WE()}catch(a){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${a}`);return}},t1=a=>{var e,i;return(i=(e=yd())==null?void 0:e.emulatorHosts)==null?void 0:i[a]},e1=a=>{const e=t1(a);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),r]:[e.substring(0,i),r]},Z0=()=>{var a;return(a=yd())==null?void 0:a.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,r)=>{i?this.reject(i):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vd(a){try{return(a.startsWith("http://")||a.startsWith("https://")?new URL(a).hostname:a).endsWith(".cloudworkstations.dev")}catch{return!1}}async function i1(a){return(await fetch(a,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s1(a,e){if(a.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},r=e||"demo-project",o=a.iat||0,c=a.sub||a.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...a};return[rc(JSON.stringify(i)),rc(JSON.stringify(d)),""].join(".")}const eo={};function a1(){const a={prod:[],emulator:[]};for(const e of Object.keys(eo))eo[e]?a.emulator.push(e):a.prod.push(e);return a}function r1(a){let e=document.getElementById(a),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",a),i=!0),{created:i,element:e}}let Ly=!1;function l1(a,e){if(typeof window>"u"||typeof document>"u"||!vd(window.location.host)||eo[a]===e||eo[a]||Ly)return;eo[a]=e;function i(C){return`__firebase__banner__${C}`}const r="__firebase__banner",c=a1().prod.length>0;function d(){const C=document.getElementById(r);C&&C.remove()}function g(C){C.style.display="flex",C.style.background="#7faaf0",C.style.position="fixed",C.style.bottom="5px",C.style.left="5px",C.style.padding=".5em",C.style.borderRadius="5px",C.style.alignItems="center"}function y(C,M){C.setAttribute("width","24"),C.setAttribute("id",M),C.setAttribute("height","24"),C.setAttribute("viewBox","0 0 24 24"),C.setAttribute("fill","none"),C.style.marginLeft="-6px"}function v(){const C=document.createElement("span");return C.style.cursor="pointer",C.style.marginLeft="16px",C.style.fontSize="24px",C.innerHTML=" &times;",C.onclick=()=>{Ly=!0,d()},C}function T(C,M){C.setAttribute("id",M),C.innerText="Learn more",C.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",C.setAttribute("target","__blank"),C.style.paddingLeft="5px",C.style.textDecoration="underline"}function S(){const C=r1(r),M=i("text"),U=document.getElementById(M)||document.createElement("span"),tt=i("learnmore"),k=document.getElementById(tt)||document.createElement("a"),Y=i("preprendIcon"),W=document.getElementById(Y)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(C.created){const lt=C.element;g(lt),T(k,tt);const yt=v();y(W,Y),lt.append(W,U,k,yt),document.body.appendChild(lt)}c?(U.innerText="Preview backend disconnected.",W.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(W.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,U.innerText="Preview backend running in this workspace."),U.setAttribute("id",M)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o1(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function u1(){var e;const a=(e=yd())==null?void 0:e.forceEnvironment;if(a==="node")return!0;if(a==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function c1(){return!u1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function h1(){try{return typeof indexedDB=="object"}catch{return!1}}function f1(){return new Promise((a,e)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(r),a(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{var c;e(((c=o.error)==null?void 0:c.message)||"")}}catch(i){e(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d1="FirebaseError";class qr extends Error{constructor(e,i,r){super(i),this.code=e,this.customData=r,this.name=d1,Object.setPrototypeOf(this,qr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,J0.prototype.create)}}class J0{constructor(e,i,r){this.service=e,this.serviceName=i,this.errors=r}create(e,...i){const r=i[0]||{},o=`${this.service}/${e}`,c=this.errors[e],d=c?m1(c,r):"Error",g=`${this.serviceName}: ${d} (${o}).`;return new qr(o,g,r)}}function m1(a,e){return a.replace(g1,(i,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const g1=/\{\$([^}]+)}/g;function lc(a,e){if(a===e)return!0;const i=Object.keys(a),r=Object.keys(e);for(const o of i){if(!r.includes(o))return!1;const c=a[o],d=e[o];if(ky(c)&&ky(d)){if(!lc(c,d))return!1}else if(c!==d)return!1}for(const o of r)if(!i.includes(o))return!1;return!0}function ky(a){return a!==null&&typeof a=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lo(a){return a&&a._delegate?a._delegate:a}class oo{constructor(e,i,r){this.name=e,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Da="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p1{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const r=new n1;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(v1(e))try{this.getOrInitializeService({instanceIdentifier:Da})}catch{}for(const[i,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:o});r.resolve(c)}catch{}}}}clearInstance(e=Da){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Da){return this.instances.has(e)}getOptions(e=Da){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[c,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);r===g&&d.resolve(o)}return o}onInit(e,i){const r=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(r)??new Set;o.add(e),this.onInitCallbacks.set(r,o);const c=this.instances.get(r);return c&&e(c,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,i){const r=this.onInitCallbacks.get(i);if(r)for(const o of r)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:y1(e),options:i}),this.instances.set(e,r),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Da){return this.component?this.component.multipleInstances?e:Da:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function y1(a){return a===Da?void 0:a}function v1(a){return a.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _1{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new p1(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ft;(function(a){a[a.DEBUG=0]="DEBUG",a[a.VERBOSE=1]="VERBOSE",a[a.INFO=2]="INFO",a[a.WARN=3]="WARN",a[a.ERROR=4]="ERROR",a[a.SILENT=5]="SILENT"})(Ft||(Ft={}));const b1={debug:Ft.DEBUG,verbose:Ft.VERBOSE,info:Ft.INFO,warn:Ft.WARN,error:Ft.ERROR,silent:Ft.SILENT},E1=Ft.INFO,T1={[Ft.DEBUG]:"log",[Ft.VERBOSE]:"log",[Ft.INFO]:"info",[Ft.WARN]:"warn",[Ft.ERROR]:"error"},x1=(a,e,...i)=>{if(e<a.logLevel)return;const r=new Date().toISOString(),o=T1[e];if(o)console[o](`[${r}]  ${a.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class $0{constructor(e){this.name=e,this._logLevel=E1,this._logHandler=x1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ft))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?b1[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ft.DEBUG,...e),this._logHandler(this,Ft.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ft.VERBOSE,...e),this._logHandler(this,Ft.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ft.INFO,...e),this._logHandler(this,Ft.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ft.WARN,...e),this._logHandler(this,Ft.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ft.ERROR,...e),this._logHandler(this,Ft.ERROR,...e)}}const S1=(a,e)=>e.some(i=>a instanceof i);let zy,Uy;function A1(){return zy||(zy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function w1(){return Uy||(Uy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const W0=new WeakMap,Kf=new WeakMap,tv=new WeakMap,Uf=new WeakMap,_d=new WeakMap;function C1(a){const e=new Promise((i,r)=>{const o=()=>{a.removeEventListener("success",c),a.removeEventListener("error",d)},c=()=>{i(Hs(a.result)),o()},d=()=>{r(a.error),o()};a.addEventListener("success",c),a.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&W0.set(i,a)}).catch(()=>{}),_d.set(e,a),e}function R1(a){if(Kf.has(a))return;const e=new Promise((i,r)=>{const o=()=>{a.removeEventListener("complete",c),a.removeEventListener("error",d),a.removeEventListener("abort",d)},c=()=>{i(),o()},d=()=>{r(a.error||new DOMException("AbortError","AbortError")),o()};a.addEventListener("complete",c),a.addEventListener("error",d),a.addEventListener("abort",d)});Kf.set(a,e)}let Xf={get(a,e,i){if(a instanceof IDBTransaction){if(e==="done")return Kf.get(a);if(e==="objectStoreNames")return a.objectStoreNames||tv.get(a);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Hs(a[e])},set(a,e,i){return a[e]=i,!0},has(a,e){return a instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in a}};function N1(a){Xf=a(Xf)}function D1(a){return a===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const r=a.call(Bf(this),e,...i);return tv.set(r,e.sort?e.sort():[e]),Hs(r)}:w1().includes(a)?function(...e){return a.apply(Bf(this),e),Hs(W0.get(this))}:function(...e){return Hs(a.apply(Bf(this),e))}}function I1(a){return typeof a=="function"?D1(a):(a instanceof IDBTransaction&&R1(a),S1(a,A1())?new Proxy(a,Xf):a)}function Hs(a){if(a instanceof IDBRequest)return C1(a);if(Uf.has(a))return Uf.get(a);const e=I1(a);return e!==a&&(Uf.set(a,e),_d.set(e,a)),e}const Bf=a=>_d.get(a);function V1(a,e,{blocked:i,upgrade:r,blocking:o,terminated:c}={}){const d=indexedDB.open(a,e),g=Hs(d);return r&&d.addEventListener("upgradeneeded",y=>{r(Hs(d.result),y.oldVersion,y.newVersion,Hs(d.transaction),y)}),i&&d.addEventListener("blocked",y=>i(y.oldVersion,y.newVersion,y)),g.then(y=>{c&&y.addEventListener("close",()=>c()),o&&y.addEventListener("versionchange",v=>o(v.oldVersion,v.newVersion,v))}).catch(()=>{}),g}const O1=["get","getKey","getAll","getAllKeys","count"],M1=["put","add","delete","clear"],Pf=new Map;function By(a,e){if(!(a instanceof IDBDatabase&&!(e in a)&&typeof e=="string"))return;if(Pf.get(e))return Pf.get(e);const i=e.replace(/FromIndex$/,""),r=e!==i,o=M1.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!(o||O1.includes(i)))return;const c=async function(d,...g){const y=this.transaction(d,o?"readwrite":"readonly");let v=y.store;return r&&(v=v.index(g.shift())),(await Promise.all([v[i](...g),o&&y.done]))[0]};return Pf.set(e,c),c}N1(a=>({...a,get:(e,i,r)=>By(e,i)||a.get(e,i,r),has:(e,i)=>!!By(e,i)||a.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j1{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(L1(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(i=>i).join(" ")}}function L1(a){const e=a.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Zf="@firebase/app",Py="0.14.7";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const as=new $0("@firebase/app"),k1="@firebase/app-compat",z1="@firebase/analytics-compat",U1="@firebase/analytics",B1="@firebase/app-check-compat",P1="@firebase/app-check",q1="@firebase/auth",H1="@firebase/auth-compat",F1="@firebase/database",G1="@firebase/data-connect",Q1="@firebase/database-compat",Y1="@firebase/functions",K1="@firebase/functions-compat",X1="@firebase/installations",Z1="@firebase/installations-compat",J1="@firebase/messaging",$1="@firebase/messaging-compat",W1="@firebase/performance",tT="@firebase/performance-compat",eT="@firebase/remote-config",nT="@firebase/remote-config-compat",iT="@firebase/storage",sT="@firebase/storage-compat",aT="@firebase/firestore",rT="@firebase/ai",lT="@firebase/firestore-compat",oT="firebase",uT="12.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jf="[DEFAULT]",cT={[Zf]:"fire-core",[k1]:"fire-core-compat",[U1]:"fire-analytics",[z1]:"fire-analytics-compat",[P1]:"fire-app-check",[B1]:"fire-app-check-compat",[q1]:"fire-auth",[H1]:"fire-auth-compat",[F1]:"fire-rtdb",[G1]:"fire-data-connect",[Q1]:"fire-rtdb-compat",[Y1]:"fire-fn",[K1]:"fire-fn-compat",[X1]:"fire-iid",[Z1]:"fire-iid-compat",[J1]:"fire-fcm",[$1]:"fire-fcm-compat",[W1]:"fire-perf",[tT]:"fire-perf-compat",[eT]:"fire-rc",[nT]:"fire-rc-compat",[iT]:"fire-gcs",[sT]:"fire-gcs-compat",[aT]:"fire-fst",[lT]:"fire-fst-compat",[rT]:"fire-vertex","fire-js":"fire-js",[oT]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oc=new Map,hT=new Map,$f=new Map;function qy(a,e){try{a.container.addComponent(e)}catch(i){as.debug(`Component ${e.name} failed to register with FirebaseApp ${a.name}`,i)}}function uc(a){const e=a.name;if($f.has(e))return as.debug(`There were multiple attempts to register component ${e}.`),!1;$f.set(e,a);for(const i of oc.values())qy(i,a);for(const i of hT.values())qy(i,a);return!0}function fT(a,e){const i=a.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),a.container.getProvider(e)}function dT(a){return a==null?!1:a.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mT={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Fs=new J0("app","Firebase",mT);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gT{constructor(e,i,r){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new oo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Fs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pT=uT;function ev(a,e={}){let i=a;typeof e!="object"&&(e={name:e});const r={name:Jf,automaticDataCollectionEnabled:!0,...e},o=r.name;if(typeof o!="string"||!o)throw Fs.create("bad-app-name",{appName:String(o)});if(i||(i=Z0()),!i)throw Fs.create("no-options");const c=oc.get(o);if(c){if(lc(i,c.options)&&lc(r,c.config))return c;throw Fs.create("duplicate-app",{appName:o})}const d=new _1(o);for(const y of $f.values())d.addComponent(y);const g=new gT(i,r,d);return oc.set(o,g),g}function yT(a=Jf){const e=oc.get(a);if(!e&&a===Jf&&Z0())return ev();if(!e)throw Fs.create("no-app",{appName:a});return e}function Ir(a,e,i){let r=cT[a]??a;i&&(r+=`-${i}`);const o=r.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const d=[`Unable to register library "${r}" with version "${e}":`];o&&d.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),as.warn(d.join(" "));return}uc(new oo(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vT="firebase-heartbeat-database",_T=1,uo="firebase-heartbeat-store";let qf=null;function nv(){return qf||(qf=V1(vT,_T,{upgrade:(a,e)=>{switch(e){case 0:try{a.createObjectStore(uo)}catch(i){console.warn(i)}}}}).catch(a=>{throw Fs.create("idb-open",{originalErrorMessage:a.message})})),qf}async function bT(a){try{const i=(await nv()).transaction(uo),r=await i.objectStore(uo).get(iv(a));return await i.done,r}catch(e){if(e instanceof qr)as.warn(e.message);else{const i=Fs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});as.warn(i.message)}}}async function Hy(a,e){try{const r=(await nv()).transaction(uo,"readwrite");await r.objectStore(uo).put(e,iv(a)),await r.done}catch(i){if(i instanceof qr)as.warn(i.message);else{const r=Fs.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});as.warn(r.message)}}}function iv(a){return`${a.name}!${a.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ET=1024,TT=30;class xT{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new AT(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,i;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=Fy();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)==null?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(d=>d.date===c))return;if(this._heartbeatsCache.heartbeats.push({date:c,agent:o}),this._heartbeatsCache.heartbeats.length>TT){const d=wT(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){as.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=Fy(),{heartbeatsToSend:r,unsentEntries:o}=ST(this._heartbeatsCache.heartbeats),c=rc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=i,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(i){return as.warn(i),""}}}function Fy(){return new Date().toISOString().substring(0,10)}function ST(a,e=ET){const i=[];let r=a.slice();for(const o of a){const c=i.find(d=>d.agent===o.agent);if(c){if(c.dates.push(o.date),Gy(i)>e){c.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),Gy(i)>e){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}class AT{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return h1()?f1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await bT(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Hy(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Hy(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Gy(a){return rc(JSON.stringify({version:2,heartbeats:a})).length}function wT(a){if(a.length===0)return-1;let e=0,i=a[0].date;for(let r=1;r<a.length;r++)a[r].date<i&&(i=a[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CT(a){uc(new oo("platform-logger",e=>new j1(e),"PRIVATE")),uc(new oo("heartbeat",e=>new xT(e),"PRIVATE")),Ir(Zf,Py,a),Ir(Zf,Py,"esm2020"),Ir("fire-js","")}CT("");var Qy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Gs,sv;(function(){var a;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(w,A){function N(){}N.prototype=A.prototype,w.F=A.prototype,w.prototype=new N,w.prototype.constructor=w,w.D=function(L,V,z){for(var R=Array(arguments.length-2),Gt=2;Gt<arguments.length;Gt++)R[Gt-2]=arguments[Gt];return A.prototype[V].apply(L,R)}}function i(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,i),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(w,A,N){N||(N=0);const L=Array(16);if(typeof A=="string")for(var V=0;V<16;++V)L[V]=A.charCodeAt(N++)|A.charCodeAt(N++)<<8|A.charCodeAt(N++)<<16|A.charCodeAt(N++)<<24;else for(V=0;V<16;++V)L[V]=A[N++]|A[N++]<<8|A[N++]<<16|A[N++]<<24;A=w.g[0],N=w.g[1],V=w.g[2];let z=w.g[3],R;R=A+(z^N&(V^z))+L[0]+3614090360&4294967295,A=N+(R<<7&4294967295|R>>>25),R=z+(V^A&(N^V))+L[1]+3905402710&4294967295,z=A+(R<<12&4294967295|R>>>20),R=V+(N^z&(A^N))+L[2]+606105819&4294967295,V=z+(R<<17&4294967295|R>>>15),R=N+(A^V&(z^A))+L[3]+3250441966&4294967295,N=V+(R<<22&4294967295|R>>>10),R=A+(z^N&(V^z))+L[4]+4118548399&4294967295,A=N+(R<<7&4294967295|R>>>25),R=z+(V^A&(N^V))+L[5]+1200080426&4294967295,z=A+(R<<12&4294967295|R>>>20),R=V+(N^z&(A^N))+L[6]+2821735955&4294967295,V=z+(R<<17&4294967295|R>>>15),R=N+(A^V&(z^A))+L[7]+4249261313&4294967295,N=V+(R<<22&4294967295|R>>>10),R=A+(z^N&(V^z))+L[8]+1770035416&4294967295,A=N+(R<<7&4294967295|R>>>25),R=z+(V^A&(N^V))+L[9]+2336552879&4294967295,z=A+(R<<12&4294967295|R>>>20),R=V+(N^z&(A^N))+L[10]+4294925233&4294967295,V=z+(R<<17&4294967295|R>>>15),R=N+(A^V&(z^A))+L[11]+2304563134&4294967295,N=V+(R<<22&4294967295|R>>>10),R=A+(z^N&(V^z))+L[12]+1804603682&4294967295,A=N+(R<<7&4294967295|R>>>25),R=z+(V^A&(N^V))+L[13]+4254626195&4294967295,z=A+(R<<12&4294967295|R>>>20),R=V+(N^z&(A^N))+L[14]+2792965006&4294967295,V=z+(R<<17&4294967295|R>>>15),R=N+(A^V&(z^A))+L[15]+1236535329&4294967295,N=V+(R<<22&4294967295|R>>>10),R=A+(V^z&(N^V))+L[1]+4129170786&4294967295,A=N+(R<<5&4294967295|R>>>27),R=z+(N^V&(A^N))+L[6]+3225465664&4294967295,z=A+(R<<9&4294967295|R>>>23),R=V+(A^N&(z^A))+L[11]+643717713&4294967295,V=z+(R<<14&4294967295|R>>>18),R=N+(z^A&(V^z))+L[0]+3921069994&4294967295,N=V+(R<<20&4294967295|R>>>12),R=A+(V^z&(N^V))+L[5]+3593408605&4294967295,A=N+(R<<5&4294967295|R>>>27),R=z+(N^V&(A^N))+L[10]+38016083&4294967295,z=A+(R<<9&4294967295|R>>>23),R=V+(A^N&(z^A))+L[15]+3634488961&4294967295,V=z+(R<<14&4294967295|R>>>18),R=N+(z^A&(V^z))+L[4]+3889429448&4294967295,N=V+(R<<20&4294967295|R>>>12),R=A+(V^z&(N^V))+L[9]+568446438&4294967295,A=N+(R<<5&4294967295|R>>>27),R=z+(N^V&(A^N))+L[14]+3275163606&4294967295,z=A+(R<<9&4294967295|R>>>23),R=V+(A^N&(z^A))+L[3]+4107603335&4294967295,V=z+(R<<14&4294967295|R>>>18),R=N+(z^A&(V^z))+L[8]+1163531501&4294967295,N=V+(R<<20&4294967295|R>>>12),R=A+(V^z&(N^V))+L[13]+2850285829&4294967295,A=N+(R<<5&4294967295|R>>>27),R=z+(N^V&(A^N))+L[2]+4243563512&4294967295,z=A+(R<<9&4294967295|R>>>23),R=V+(A^N&(z^A))+L[7]+1735328473&4294967295,V=z+(R<<14&4294967295|R>>>18),R=N+(z^A&(V^z))+L[12]+2368359562&4294967295,N=V+(R<<20&4294967295|R>>>12),R=A+(N^V^z)+L[5]+4294588738&4294967295,A=N+(R<<4&4294967295|R>>>28),R=z+(A^N^V)+L[8]+2272392833&4294967295,z=A+(R<<11&4294967295|R>>>21),R=V+(z^A^N)+L[11]+1839030562&4294967295,V=z+(R<<16&4294967295|R>>>16),R=N+(V^z^A)+L[14]+4259657740&4294967295,N=V+(R<<23&4294967295|R>>>9),R=A+(N^V^z)+L[1]+2763975236&4294967295,A=N+(R<<4&4294967295|R>>>28),R=z+(A^N^V)+L[4]+1272893353&4294967295,z=A+(R<<11&4294967295|R>>>21),R=V+(z^A^N)+L[7]+4139469664&4294967295,V=z+(R<<16&4294967295|R>>>16),R=N+(V^z^A)+L[10]+3200236656&4294967295,N=V+(R<<23&4294967295|R>>>9),R=A+(N^V^z)+L[13]+681279174&4294967295,A=N+(R<<4&4294967295|R>>>28),R=z+(A^N^V)+L[0]+3936430074&4294967295,z=A+(R<<11&4294967295|R>>>21),R=V+(z^A^N)+L[3]+3572445317&4294967295,V=z+(R<<16&4294967295|R>>>16),R=N+(V^z^A)+L[6]+76029189&4294967295,N=V+(R<<23&4294967295|R>>>9),R=A+(N^V^z)+L[9]+3654602809&4294967295,A=N+(R<<4&4294967295|R>>>28),R=z+(A^N^V)+L[12]+3873151461&4294967295,z=A+(R<<11&4294967295|R>>>21),R=V+(z^A^N)+L[15]+530742520&4294967295,V=z+(R<<16&4294967295|R>>>16),R=N+(V^z^A)+L[2]+3299628645&4294967295,N=V+(R<<23&4294967295|R>>>9),R=A+(V^(N|~z))+L[0]+4096336452&4294967295,A=N+(R<<6&4294967295|R>>>26),R=z+(N^(A|~V))+L[7]+1126891415&4294967295,z=A+(R<<10&4294967295|R>>>22),R=V+(A^(z|~N))+L[14]+2878612391&4294967295,V=z+(R<<15&4294967295|R>>>17),R=N+(z^(V|~A))+L[5]+4237533241&4294967295,N=V+(R<<21&4294967295|R>>>11),R=A+(V^(N|~z))+L[12]+1700485571&4294967295,A=N+(R<<6&4294967295|R>>>26),R=z+(N^(A|~V))+L[3]+2399980690&4294967295,z=A+(R<<10&4294967295|R>>>22),R=V+(A^(z|~N))+L[10]+4293915773&4294967295,V=z+(R<<15&4294967295|R>>>17),R=N+(z^(V|~A))+L[1]+2240044497&4294967295,N=V+(R<<21&4294967295|R>>>11),R=A+(V^(N|~z))+L[8]+1873313359&4294967295,A=N+(R<<6&4294967295|R>>>26),R=z+(N^(A|~V))+L[15]+4264355552&4294967295,z=A+(R<<10&4294967295|R>>>22),R=V+(A^(z|~N))+L[6]+2734768916&4294967295,V=z+(R<<15&4294967295|R>>>17),R=N+(z^(V|~A))+L[13]+1309151649&4294967295,N=V+(R<<21&4294967295|R>>>11),R=A+(V^(N|~z))+L[4]+4149444226&4294967295,A=N+(R<<6&4294967295|R>>>26),R=z+(N^(A|~V))+L[11]+3174756917&4294967295,z=A+(R<<10&4294967295|R>>>22),R=V+(A^(z|~N))+L[2]+718787259&4294967295,V=z+(R<<15&4294967295|R>>>17),R=N+(z^(V|~A))+L[9]+3951481745&4294967295,w.g[0]=w.g[0]+A&4294967295,w.g[1]=w.g[1]+(V+(R<<21&4294967295|R>>>11))&4294967295,w.g[2]=w.g[2]+V&4294967295,w.g[3]=w.g[3]+z&4294967295}r.prototype.v=function(w,A){A===void 0&&(A=w.length);const N=A-this.blockSize,L=this.C;let V=this.h,z=0;for(;z<A;){if(V==0)for(;z<=N;)o(this,w,z),z+=this.blockSize;if(typeof w=="string"){for(;z<A;)if(L[V++]=w.charCodeAt(z++),V==this.blockSize){o(this,L),V=0;break}}else for(;z<A;)if(L[V++]=w[z++],V==this.blockSize){o(this,L),V=0;break}}this.h=V,this.o+=A},r.prototype.A=function(){var w=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);w[0]=128;for(var A=1;A<w.length-8;++A)w[A]=0;A=this.o*8;for(var N=w.length-8;N<w.length;++N)w[N]=A&255,A/=256;for(this.v(w),w=Array(16),A=0,N=0;N<4;++N)for(let L=0;L<32;L+=8)w[A++]=this.g[N]>>>L&255;return w};function c(w,A){var N=g;return Object.prototype.hasOwnProperty.call(N,w)?N[w]:N[w]=A(w)}function d(w,A){this.h=A;const N=[];let L=!0;for(let V=w.length-1;V>=0;V--){const z=w[V]|0;L&&z==A||(N[V]=z,L=!1)}this.g=N}var g={};function y(w){return-128<=w&&w<128?c(w,function(A){return new d([A|0],A<0?-1:0)}):new d([w|0],w<0?-1:0)}function v(w){if(isNaN(w)||!isFinite(w))return S;if(w<0)return k(v(-w));const A=[];let N=1;for(let L=0;w>=N;L++)A[L]=w/N|0,N*=4294967296;return new d(A,0)}function T(w,A){if(w.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(w.charAt(0)=="-")return k(T(w.substring(1),A));if(w.indexOf("-")>=0)throw Error('number format error: interior "-" character');const N=v(Math.pow(A,8));let L=S;for(let z=0;z<w.length;z+=8){var V=Math.min(8,w.length-z);const R=parseInt(w.substring(z,z+V),A);V<8?(V=v(Math.pow(A,V)),L=L.j(V).add(v(R))):(L=L.j(N),L=L.add(v(R)))}return L}var S=y(0),C=y(1),M=y(16777216);a=d.prototype,a.m=function(){if(tt(this))return-k(this).m();let w=0,A=1;for(let N=0;N<this.g.length;N++){const L=this.i(N);w+=(L>=0?L:4294967296+L)*A,A*=4294967296}return w},a.toString=function(w){if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(U(this))return"0";if(tt(this))return"-"+k(this).toString(w);const A=v(Math.pow(w,6));var N=this;let L="";for(;;){const V=yt(N,A).g;N=Y(N,V.j(A));let z=((N.g.length>0?N.g[0]:N.h)>>>0).toString(w);if(N=V,U(N))return z+L;for(;z.length<6;)z="0"+z;L=z+L}},a.i=function(w){return w<0?0:w<this.g.length?this.g[w]:this.h};function U(w){if(w.h!=0)return!1;for(let A=0;A<w.g.length;A++)if(w.g[A]!=0)return!1;return!0}function tt(w){return w.h==-1}a.l=function(w){return w=Y(this,w),tt(w)?-1:U(w)?0:1};function k(w){const A=w.g.length,N=[];for(let L=0;L<A;L++)N[L]=~w.g[L];return new d(N,~w.h).add(C)}a.abs=function(){return tt(this)?k(this):this},a.add=function(w){const A=Math.max(this.g.length,w.g.length),N=[];let L=0;for(let V=0;V<=A;V++){let z=L+(this.i(V)&65535)+(w.i(V)&65535),R=(z>>>16)+(this.i(V)>>>16)+(w.i(V)>>>16);L=R>>>16,z&=65535,R&=65535,N[V]=R<<16|z}return new d(N,N[N.length-1]&-2147483648?-1:0)};function Y(w,A){return w.add(k(A))}a.j=function(w){if(U(this)||U(w))return S;if(tt(this))return tt(w)?k(this).j(k(w)):k(k(this).j(w));if(tt(w))return k(this.j(k(w)));if(this.l(M)<0&&w.l(M)<0)return v(this.m()*w.m());const A=this.g.length+w.g.length,N=[];for(var L=0;L<2*A;L++)N[L]=0;for(L=0;L<this.g.length;L++)for(let V=0;V<w.g.length;V++){const z=this.i(L)>>>16,R=this.i(L)&65535,Gt=w.i(V)>>>16,ue=w.i(V)&65535;N[2*L+2*V]+=R*ue,W(N,2*L+2*V),N[2*L+2*V+1]+=z*ue,W(N,2*L+2*V+1),N[2*L+2*V+1]+=R*Gt,W(N,2*L+2*V+1),N[2*L+2*V+2]+=z*Gt,W(N,2*L+2*V+2)}for(w=0;w<A;w++)N[w]=N[2*w+1]<<16|N[2*w];for(w=A;w<2*A;w++)N[w]=0;return new d(N,0)};function W(w,A){for(;(w[A]&65535)!=w[A];)w[A+1]+=w[A]>>>16,w[A]&=65535,A++}function lt(w,A){this.g=w,this.h=A}function yt(w,A){if(U(A))throw Error("division by zero");if(U(w))return new lt(S,S);if(tt(w))return A=yt(k(w),A),new lt(k(A.g),k(A.h));if(tt(A))return A=yt(w,k(A)),new lt(k(A.g),A.h);if(w.g.length>30){if(tt(w)||tt(A))throw Error("slowDivide_ only works with positive integers.");for(var N=C,L=A;L.l(w)<=0;)N=vt(N),L=vt(L);var V=xt(N,1),z=xt(L,1);for(L=xt(L,2),N=xt(N,2);!U(L);){var R=z.add(L);R.l(w)<=0&&(V=V.add(N),z=R),L=xt(L,1),N=xt(N,1)}return A=Y(w,V.j(A)),new lt(V,A)}for(V=S;w.l(A)>=0;){for(N=Math.max(1,Math.floor(w.m()/A.m())),L=Math.ceil(Math.log(N)/Math.LN2),L=L<=48?1:Math.pow(2,L-48),z=v(N),R=z.j(A);tt(R)||R.l(w)>0;)N-=L,z=v(N),R=z.j(A);U(z)&&(z=C),V=V.add(z),w=Y(w,R)}return new lt(V,w)}a.B=function(w){return yt(this,w).h},a.and=function(w){const A=Math.max(this.g.length,w.g.length),N=[];for(let L=0;L<A;L++)N[L]=this.i(L)&w.i(L);return new d(N,this.h&w.h)},a.or=function(w){const A=Math.max(this.g.length,w.g.length),N=[];for(let L=0;L<A;L++)N[L]=this.i(L)|w.i(L);return new d(N,this.h|w.h)},a.xor=function(w){const A=Math.max(this.g.length,w.g.length),N=[];for(let L=0;L<A;L++)N[L]=this.i(L)^w.i(L);return new d(N,this.h^w.h)};function vt(w){const A=w.g.length+1,N=[];for(let L=0;L<A;L++)N[L]=w.i(L)<<1|w.i(L-1)>>>31;return new d(N,w.h)}function xt(w,A){const N=A>>5;A%=32;const L=w.g.length-N,V=[];for(let z=0;z<L;z++)V[z]=A>0?w.i(z+N)>>>A|w.i(z+N+1)<<32-A:w.i(z+N);return new d(V,w.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,sv=r,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=v,d.fromString=T,Gs=d}).apply(typeof Qy<"u"?Qy:typeof self<"u"?self:typeof window<"u"?window:{});var Yu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var av,Jl,rv,Wu,Wf,lv,ov,uv;(function(){var a,e=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Yu=="object"&&Yu];for(var m=0;m<u.length;++m){var _=u[m];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var r=i(this);function o(u,m){if(m)t:{var _=r;u=u.split(".");for(var x=0;x<u.length-1;x++){var P=u[x];if(!(P in _))break t;_=_[P]}u=u[u.length-1],x=_[u],m=m(x),m!=x&&m!=null&&e(_,u,{configurable:!0,writable:!0,value:m})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(m){var _=[],x;for(x in m)Object.prototype.hasOwnProperty.call(m,x)&&_.push([x,m[x]]);return _}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},d=this||self;function g(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function y(u,m,_){return u.call.apply(u.bind,arguments)}function v(u,m,_){return v=y,v.apply(null,arguments)}function T(u,m){var _=Array.prototype.slice.call(arguments,1);return function(){var x=_.slice();return x.push.apply(x,arguments),u.apply(this,x)}}function S(u,m){function _(){}_.prototype=m.prototype,u.Z=m.prototype,u.prototype=new _,u.prototype.constructor=u,u.Ob=function(x,P,Q){for(var ht=Array(arguments.length-2),It=2;It<arguments.length;It++)ht[It-2]=arguments[It];return m.prototype[P].apply(x,ht)}}var C=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function M(u){const m=u.length;if(m>0){const _=Array(m);for(let x=0;x<m;x++)_[x]=u[x];return _}return[]}function U(u,m){for(let x=1;x<arguments.length;x++){const P=arguments[x];var _=typeof P;if(_=_!="object"?_:P?Array.isArray(P)?"array":_:"null",_=="array"||_=="object"&&typeof P.length=="number"){_=u.length||0;const Q=P.length||0;u.length=_+Q;for(let ht=0;ht<Q;ht++)u[_+ht]=P[ht]}else u.push(P)}}class tt{constructor(m,_){this.i=m,this.j=_,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function k(u){d.setTimeout(()=>{throw u},0)}function Y(){var u=w;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class W{constructor(){this.h=this.g=null}add(m,_){const x=lt.get();x.set(m,_),this.h?this.h.next=x:this.g=x,this.h=x}}var lt=new tt(()=>new yt,u=>u.reset());class yt{constructor(){this.next=this.g=this.h=null}set(m,_){this.h=m,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let vt,xt=!1,w=new W,A=()=>{const u=Promise.resolve(void 0);vt=()=>{u.then(N)}};function N(){for(var u;u=Y();){try{u.h.call(u.g)}catch(_){k(_)}var m=lt;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}xt=!1}function L(){this.u=this.u,this.C=this.C}L.prototype.u=!1,L.prototype.dispose=function(){this.u||(this.u=!0,this.N())},L.prototype[Symbol.dispose]=function(){this.dispose()},L.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function V(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}V.prototype.h=function(){this.defaultPrevented=!0};var z=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const _=()=>{};d.addEventListener("test",_,m),d.removeEventListener("test",_,m)}catch{}return u})();function R(u){return/^[\s\xa0]*$/.test(u)}function Gt(u,m){V.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}S(Gt,V),Gt.prototype.init=function(u,m){const _=this.type=u.type,x=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(_=="mouseover"?m=u.fromElement:_=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,x?(this.clientX=x.clientX!==void 0?x.clientX:x.pageX,this.clientY=x.clientY!==void 0?x.clientY:x.pageY,this.screenX=x.screenX||0,this.screenY=x.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&Gt.Z.h.call(this)},Gt.prototype.h=function(){Gt.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var ue="closure_listenable_"+(Math.random()*1e6|0),X=0;function $(u,m,_,x,P){this.listener=u,this.proxy=null,this.src=m,this.type=_,this.capture=!!x,this.ha=P,this.key=++X,this.da=this.fa=!1}function ct(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function bt(u,m,_){for(const x in u)m.call(_,u[x],x,u)}function Mt(u,m){for(const _ in u)m.call(void 0,u[_],_,u)}function O(u){const m={};for(const _ in u)m[_]=u[_];return m}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Z(u,m){let _,x;for(let P=1;P<arguments.length;P++){x=arguments[P];for(_ in x)u[_]=x[_];for(let Q=0;Q<I.length;Q++)_=I[Q],Object.prototype.hasOwnProperty.call(x,_)&&(u[_]=x[_])}}function st(u){this.src=u,this.g={},this.h=0}st.prototype.add=function(u,m,_,x,P){const Q=u.toString();u=this.g[Q],u||(u=this.g[Q]=[],this.h++);const ht=ut(u,m,x,P);return ht>-1?(m=u[ht],_||(m.fa=!1)):(m=new $(m,this.src,Q,!!x,P),m.fa=_,u.push(m)),m};function dt(u,m){const _=m.type;if(_ in u.g){var x=u.g[_],P=Array.prototype.indexOf.call(x,m,void 0),Q;(Q=P>=0)&&Array.prototype.splice.call(x,P,1),Q&&(ct(m),u.g[_].length==0&&(delete u.g[_],u.h--))}}function ut(u,m,_,x){for(let P=0;P<u.length;++P){const Q=u[P];if(!Q.da&&Q.listener==m&&Q.capture==!!_&&Q.ha==x)return P}return-1}var Ct="closure_lm_"+(Math.random()*1e6|0),Wt={};function oe(u,m,_,x,P){if(Array.isArray(m)){for(let Q=0;Q<m.length;Q++)oe(u,m[Q],_,x,P);return null}return _=ea(_),u&&u[ue]?u.J(m,_,g(x)?!!x.capture:!1,P):ji(u,m,_,!1,x,P)}function ji(u,m,_,x,P,Q){if(!m)throw Error("Invalid event type");const ht=g(P)?!!P.capture:!!P;let It=Li(u);if(It||(u[Ct]=It=new st(u)),_=It.add(m,_,x,ht,Q),_.proxy)return _;if(x=os(),_.proxy=x,x.src=u,x.listener=_,u.addEventListener)z||(P=ht),P===void 0&&(P=!1),u.addEventListener(m.toString(),x,P);else if(u.attachEvent)u.attachEvent(Ln(m.toString()),x);else if(u.addListener&&u.removeListener)u.addListener(x);else throw Error("addEventListener and attachEvent are unavailable.");return _}function os(){function u(_){return m.call(u.src,u.listener,_)}const m=Jn;return u}function us(u,m,_,x,P){if(Array.isArray(m))for(var Q=0;Q<m.length;Q++)us(u,m[Q],_,x,P);else x=g(x)?!!x.capture:!!x,_=ea(_),u&&u[ue]?(u=u.i,Q=String(m).toString(),Q in u.g&&(m=u.g[Q],_=ut(m,_,x,P),_>-1&&(ct(m[_]),Array.prototype.splice.call(m,_,1),m.length==0&&(delete u.g[Q],u.h--)))):u&&(u=Li(u))&&(m=u.g[m.toString()],u=-1,m&&(u=ut(m,_,x,P)),(_=u>-1?m[u]:null)&&cs(_))}function cs(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[ue])dt(m.i,u);else{var _=u.type,x=u.proxy;m.removeEventListener?m.removeEventListener(_,x,u.capture):m.detachEvent?m.detachEvent(Ln(_),x):m.addListener&&m.removeListener&&m.removeListener(x),(_=Li(m))?(dt(_,u),_.h==0&&(_.src=null,m[Ct]=null)):ct(u)}}}function Ln(u){return u in Wt?Wt[u]:Wt[u]="on"+u}function Jn(u,m){if(u.da)u=!0;else{m=new Gt(m,this);const _=u.listener,x=u.ha||u.src;u.fa&&cs(u),u=_.call(x,m)}return u}function Li(u){return u=u[Ct],u instanceof st?u:null}var ta="__closure_events_fn_"+(Math.random()*1e9>>>0);function ea(u){return typeof u=="function"?u:(u[ta]||(u[ta]=function(m){return u.handleEvent(m)}),u[ta])}function _e(){L.call(this),this.i=new st(this),this.M=this,this.G=null}S(_e,L),_e.prototype[ue]=!0,_e.prototype.removeEventListener=function(u,m,_,x){us(this,u,m,_,x)};function ce(u,m){var _,x=u.G;if(x)for(_=[];x;x=x.G)_.push(x);if(u=u.M,x=m.type||m,typeof m=="string")m=new V(m,u);else if(m instanceof V)m.target=m.target||u;else{var P=m;m=new V(x,u),Z(m,P)}P=!0;let Q,ht;if(_)for(ht=_.length-1;ht>=0;ht--)Q=m.g=_[ht],P=$n(Q,x,!0,m)&&P;if(Q=m.g=u,P=$n(Q,x,!0,m)&&P,P=$n(Q,x,!1,m)&&P,_)for(ht=0;ht<_.length;ht++)Q=m.g=_[ht],P=$n(Q,x,!1,m)&&P}_e.prototype.N=function(){if(_e.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const _=u.g[m];for(let x=0;x<_.length;x++)ct(_[x]);delete u.g[m],u.h--}}this.G=null},_e.prototype.J=function(u,m,_,x){return this.i.add(String(u),m,!1,_,x)},_e.prototype.K=function(u,m,_,x){return this.i.add(String(u),m,!0,_,x)};function $n(u,m,_,x){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let P=!0;for(let Q=0;Q<m.length;++Q){const ht=m[Q];if(ht&&!ht.da&&ht.capture==_){const It=ht.listener,Se=ht.ha||ht.src;ht.fa&&dt(u.i,ht),P=It.call(Se,x)!==!1&&P}}return P&&!x.defaultPrevented}function Ua(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=v(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function G(u){u.g=Ua(()=>{u.g=null,u.i&&(u.i=!1,G(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class et extends L{constructor(m,_){super(),this.m=m,this.l=_,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:G(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ft(u){L.call(this),this.h=u,this.g={}}S(ft,L);var jt=[];function Kt(u){bt(u.g,function(m,_){this.g.hasOwnProperty(_)&&cs(m)},u),u.g={}}ft.prototype.N=function(){ft.Z.N.call(this),Kt(this)},ft.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Te=d.JSON.stringify,qe=d.JSON.parse,Ye=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function ki(){}function xn(){}var hn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Re(){V.call(this,"d")}S(Re,V);function ln(){V.call(this,"c")}S(ln,V);var mt={},na=null;function zi(){return na=na||new _e}mt.Ia="serverreachability";function ia(u){V.call(this,mt.Ia,u)}S(ia,V);function Sn(u){const m=zi();ce(m,new ia(m))}mt.STAT_EVENT="statevent";function hi(u,m){V.call(this,mt.STAT_EVENT,u),this.stat=m}S(hi,V);function pe(u){const m=zi();ce(m,new hi(m,u))}mt.Ja="timingevent";function An(u,m){V.call(this,mt.Ja,u),this.size=m}S(An,V);function wn(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function fn(){this.g=!0}fn.prototype.ua=function(){this.g=!1};function Ba(u,m,_,x,P,Q){u.info(function(){if(u.g)if(Q){var ht="",It=Q.split("&");for(let Xt=0;Xt<It.length;Xt++){var Se=It[Xt].split("=");if(Se.length>1){const me=Se[0];Se=Se[1];const Bn=me.split("_");ht=Bn.length>=2&&Bn[1]=="type"?ht+(me+"="+Se+"&"):ht+(me+"=redacted&")}}}else ht=null;else ht=Q;return"XMLHTTP REQ ("+x+") [attempt "+P+"]: "+m+`
`+_+`
`+ht})}function on(u,m,_,x,P,Q,ht){u.info(function(){return"XMLHTTP RESP ("+x+") [ attempt "+P+"]: "+m+`
`+_+`
`+Q+" "+ht})}function xe(u,m,_,x){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+dn(u,_)+(x?" "+x:"")})}function Jt(u,m){u.info(function(){return"TIMEOUT: "+m})}fn.prototype.info=function(){};function dn(u,m){if(!u.g)return m;if(!m)return null;try{const Q=JSON.parse(m);if(Q){for(u=0;u<Q.length;u++)if(Array.isArray(Q[u])){var _=Q[u];if(!(_.length<2)){var x=_[1];if(Array.isArray(x)&&!(x.length<1)){var P=x[0];if(P!="noop"&&P!="stop"&&P!="close")for(let ht=1;ht<x.length;ht++)x[ht]=""}}}}return Te(Q)}catch{return m}}var mn={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},sa={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Yr;function aa(){}S(aa,ki),aa.prototype.g=function(){return new XMLHttpRequest},Yr=new aa;function Ui(u){return encodeURIComponent(String(u))}function Ao(u){var m=1;u=u.split(":");const _=[];for(;m>0&&u.length;)_.push(u.shift()),m--;return u.length&&_.push(u.join(":")),_}function Wn(u,m,_,x){this.j=u,this.i=m,this.l=_,this.S=x||1,this.V=new ft(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ti}function ti(){this.i=null,this.g="",this.h=!1}var Ne={},He={};function fi(u,m,_){u.M=1,u.A=ra(Ie(m)),u.u=_,u.R=!0,Pa(u,null)}function Pa(u,m){u.F=Date.now(),di(u),u.B=Ie(u.A);var _=u.B,x=u.S;Array.isArray(x)||(x=[String(x)]),Ga(_.i,"t",x),u.C=0,_=u.j.L,u.h=new ti,u.g=Bo(u.j,_?m:null,!u.u),u.P>0&&(u.O=new et(v(u.Y,u,u.g),u.P)),m=u.V,_=u.g,x=u.ba;var P="readystatechange";Array.isArray(P)||(P&&(jt[0]=P.toString()),P=jt);for(let Q=0;Q<P.length;Q++){const ht=oe(_,P[Q],x||m.handleEvent,!1,m.h||m);if(!ht)break;m.g[ht.key]=ht}m=u.J?O(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),Sn(),Ba(u.i,u.v,u.B,u.l,u.S,u.u)}Wn.prototype.ba=function(u){u=u.target;const m=this.O;m&&ii(u)==3?m.j():this.Y(u)},Wn.prototype.Y=function(u){try{if(u==this.g)t:{const It=ii(this.g),Se=this.g.ya(),Xt=this.g.ca();if(!(It<3)&&(It!=3||this.g&&(this.h.h||this.g.la()||Ke(this.g)))){this.K||It!=4||Se==7||(Se==8||Xt<=0?Sn(3):Sn(2)),mi(this);var m=this.g.ca();this.X=m;var _=Lc(this);if(this.o=m==200,on(this.i,this.v,this.B,this.l,this.S,It,m),this.o){if(this.U&&!this.L){e:{if(this.g){var x,P=this.g;if((x=P.g?P.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(x)){var Q=x;break e}}Q=null}if(u=Q)xe(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,gi(this,u);else{this.o=!1,this.m=3,pe(12),Cn(this),kn(this);break t}}if(this.R){u=!0;let me;for(;!this.K&&this.C<_.length;)if(me=Co(this,_),me==He){It==4&&(this.m=4,pe(14),u=!1),xe(this.i,this.l,null,"[Incomplete Response]");break}else if(me==Ne){this.m=4,pe(15),xe(this.i,this.l,_,"[Invalid Chunk]"),u=!1;break}else xe(this.i,this.l,me,null),gi(this,me);if(wo(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),It!=4||_.length!=0||this.h.h||(this.m=1,pe(16),u=!1),this.o=this.o&&u,!u)xe(this.i,this.l,_,"[Invalid Chunked Response]"),Cn(this),kn(this);else if(_.length>0&&!this.W){this.W=!0;var ht=this.j;ht.g==this&&ht.aa&&!ht.P&&(ht.j.info("Great, no buffering proxy detected. Bytes received: "+_.length),ol(ht),ht.P=!0,pe(11))}}else xe(this.i,this.l,_,null),gi(this,_);It==4&&Cn(this),this.o&&!this.K&&(It==4?Lo(this.j,this):(this.o=!1,di(this)))}else Pi(this.g),m==400&&_.indexOf("Unknown SID")>0?(this.m=3,pe(12)):(this.m=0,pe(13)),Cn(this),kn(this)}}}catch{}finally{}};function Lc(u){if(!wo(u))return u.g.la();const m=Ke(u.g);if(m==="")return"";let _="";const x=m.length,P=ii(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return Cn(u),kn(u),"";u.h.i=new d.TextDecoder}for(let Q=0;Q<x;Q++)u.h.h=!0,_+=u.h.i.decode(m[Q],{stream:!(P&&Q==x-1)});return m.length=0,u.h.g+=_,u.C=0,u.h.g}function wo(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function Co(u,m){var _=u.C,x=m.indexOf(`
`,_);return x==-1?He:(_=Number(m.substring(_,x)),isNaN(_)?Ne:(x+=1,x+_>m.length?He:(m=m.slice(x,x+_),u.C=x+_,m)))}Wn.prototype.cancel=function(){this.K=!0,Cn(this)};function di(u){u.T=Date.now()+u.H,qa(u,u.H)}function qa(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=wn(v(u.aa,u),m)}function mi(u){u.D&&(d.clearTimeout(u.D),u.D=null)}Wn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(Jt(this.i,this.B),this.M!=2&&(Sn(),pe(17)),Cn(this),this.m=2,kn(this)):qa(this,this.T-u)};function kn(u){u.j.I==0||u.K||Lo(u.j,u)}function Cn(u){mi(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,Kt(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function gi(u,m){try{var _=u.j;if(_.I!=0&&(_.g==u||yi(_.h,u))){if(!u.L&&yi(_.h,u)&&_.I==3){try{var x=_.Ba.g.parse(m)}catch{x=null}if(Array.isArray(x)&&x.length==3){var P=x;if(P[0]==0){t:if(!_.v){if(_.g)if(_.g.F+3e3<u.F)Za(_),vs(_);else break t;da(_),pe(18)}}else _.xa=P[1],0<_.xa-_.K&&P[2]<37500&&_.F&&_.A==0&&!_.C&&(_.C=wn(v(_.Va,_),6e3));pi(_.h)<=1&&_.ta&&(_.ta=void 0)}else xi(_,11)}else if((u.L||_.g==u)&&Za(_),!R(m))for(P=_.Ba.g.parse(m),m=0;m<P.length;m++){let Xt=P[m];const me=Xt[0];if(!(me<=_.K))if(_.K=me,Xt=Xt[1],_.I==2)if(Xt[0]=="c"){_.M=Xt[1],_.ba=Xt[2];const Bn=Xt[3];Bn!=null&&(_.ka=Bn,_.j.info("VER="+_.ka));const Si=Xt[4];Si!=null&&(_.za=Si,_.j.info("SVER="+_.za));const si=Xt[5];si!=null&&typeof si=="number"&&si>0&&(x=1.5*si,_.O=x,_.j.info("backChannelRequestTimeoutMs_="+x)),x=_;const ai=u.g;if(ai){const ma=ai.g?ai.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ma){var Q=x.h;Q.g||ma.indexOf("spdy")==-1&&ma.indexOf("quic")==-1&&ma.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(Zr(Q,Q.h),Q.h=null))}if(x.G){const Ja=ai.g?ai.g.getResponseHeader("X-HTTP-Session-Id"):null;Ja&&(x.wa=Ja,te(x.J,x.G,Ja))}}_.I=3,_.l&&_.l.ra(),_.aa&&(_.T=Date.now()-u.F,_.j.info("Handshake RTT: "+_.T+"ms")),x=_;var ht=u;if(x.na=Uo(x,x.L?x.ba:null,x.W),ht.L){Jr(x.h,ht);var It=ht,Se=x.O;Se&&(It.H=Se),It.D&&(mi(It),di(It)),x.g=ht}else Mo(x);_.i.length>0&&Ti(_)}else Xt[0]!="stop"&&Xt[0]!="close"||xi(_,7);else _.I==3&&(Xt[0]=="stop"||Xt[0]=="close"?Xt[0]=="stop"?xi(_,7):rl(_):Xt[0]!="noop"&&_.l&&_.l.qa(Xt),_.A=0)}}Sn(4)}catch{}}var De=class{constructor(u,m){this.g=u,this.map=m}};function Kr(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Xr(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function pi(u){return u.h?1:u.g?u.g.size:0}function yi(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Zr(u,m){u.g?u.g.add(m):u.h=m}function Jr(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Kr.prototype.cancel=function(){if(this.i=$r(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function $r(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const _ of u.g.values())m=m.concat(_.G);return m}return M(u.i)}var Ro=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ha(u,m){if(u){u=u.split("&");for(let _=0;_<u.length;_++){const x=u[_].indexOf("=");let P,Q=null;x>=0?(P=u[_].substring(0,x),Q=u[_].substring(x+1)):P=u[_],m(P,Q?decodeURIComponent(Q.replace(/\+/g," ")):"")}}}function Rn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof Rn?(this.l=u.l,Fe(this,u.j),this.o=u.o,this.g=u.g,hs(this,u.u),this.h=u.h,Wr(this,Vo(u.i)),this.m=u.m):u&&(m=String(u).match(Ro))?(this.l=!1,Fe(this,m[1]||"",!0),this.o=vi(m[2]||""),this.g=vi(m[3]||"",!0),hs(this,m[4]),this.h=vi(m[5]||"",!0),Wr(this,m[6]||"",!0),this.m=vi(m[7]||"")):(this.l=!1,this.i=new ds(null,this.l))}Rn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(la(m,Fa,!0),":");var _=this.g;return(_||m=="file")&&(u.push("//"),(m=this.o)&&u.push(la(m,Fa,!0),"@"),u.push(Ui(_).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.u,_!=null&&u.push(":",String(_))),(_=this.h)&&(this.g&&_.charAt(0)!="/"&&u.push("/"),u.push(la(_,_.charAt(0)=="/"?tl:No,!0))),(_=this.i.toString())&&u.push("?",_),(_=this.m)&&u.push("#",la(_,Do)),u.join("")},Rn.prototype.resolve=function(u){const m=Ie(this);let _=!!u.j;_?Fe(m,u.j):_=!!u.o,_?m.o=u.o:_=!!u.g,_?m.g=u.g:_=u.u!=null;var x=u.h;if(_)hs(m,u.u);else if(_=!!u.h){if(x.charAt(0)!="/")if(this.g&&!this.h)x="/"+x;else{var P=m.h.lastIndexOf("/");P!=-1&&(x=m.h.slice(0,P+1)+x)}if(P=x,P==".."||P==".")x="";else if(P.indexOf("./")!=-1||P.indexOf("/.")!=-1){x=P.lastIndexOf("/",0)==0,P=P.split("/");const Q=[];for(let ht=0;ht<P.length;){const It=P[ht++];It=="."?x&&ht==P.length&&Q.push(""):It==".."?((Q.length>1||Q.length==1&&Q[0]!="")&&Q.pop(),x&&ht==P.length&&Q.push("")):(Q.push(It),x=!0)}x=Q.join("/")}else x=P}return _?m.h=x:_=u.i.toString()!=="",_?Wr(m,Vo(u.i)):_=!!u.m,_&&(m.m=u.m),m};function Ie(u){return new Rn(u)}function Fe(u,m,_){u.j=_?vi(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function hs(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function Wr(u,m,_){m instanceof ds?(u.i=m,Qa(u.i,u.l)):(_||(m=la(m,fs)),u.i=new ds(m,u.l))}function te(u,m,_){u.i.set(m,_)}function ra(u){return te(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function vi(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function la(u,m,_){return typeof u=="string"?(u=encodeURI(u).replace(m,gn),_&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function gn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Fa=/[#\/\?@]/g,No=/[#\?:]/g,tl=/[#\?]/g,fs=/[#\?@]/g,Do=/#/g;function ds(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function pn(u){u.g||(u.g=new Map,u.h=0,u.i&&Ha(u.i,function(m,_){u.add(decodeURIComponent(m.replace(/\+/g," ")),_)}))}a=ds.prototype,a.add=function(u,m){pn(this),this.i=null,u=ms(this,u);let _=this.g.get(u);return _||this.g.set(u,_=[]),_.push(m),this.h+=1,this};function Io(u,m){pn(u),m=ms(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function el(u,m){return pn(u),m=ms(u,m),u.g.has(m)}a.forEach=function(u,m){pn(this),this.g.forEach(function(_,x){_.forEach(function(P){u.call(m,P,x,this)},this)},this)};function nl(u,m){pn(u);let _=[];if(typeof m=="string")el(u,m)&&(_=_.concat(u.g.get(ms(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)_=_.concat(u[m]);return _}a.set=function(u,m){return pn(this),this.i=null,u=ms(this,u),el(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},a.get=function(u,m){return u?(u=nl(this,u),u.length>0?String(u[0]):m):m};function Ga(u,m,_){Io(u,m),_.length>0&&(u.i=null,u.g.set(ms(u,m),M(_)),u.h+=_.length)}a.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let x=0;x<m.length;x++){var _=m[x];const P=Ui(_);_=nl(this,_);for(let Q=0;Q<_.length;Q++){let ht=P;_[Q]!==""&&(ht+="="+Ui(_[Q])),u.push(ht)}}return this.i=u.join("&")};function Vo(u){const m=new ds;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function ms(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Qa(u,m){m&&!u.j&&(pn(u),u.i=null,u.g.forEach(function(_,x){const P=x.toLowerCase();x!=P&&(Io(this,x),Ga(this,P,_))},u)),u.j=m}function ei(u,m){const _=new fn;if(d.Image){const x=new Image;x.onload=T(zn,_,"TestLoadImage: loaded",!0,m,x),x.onerror=T(zn,_,"TestLoadImage: error",!1,m,x),x.onabort=T(zn,_,"TestLoadImage: abort",!1,m,x),x.ontimeout=T(zn,_,"TestLoadImage: timeout",!1,m,x),d.setTimeout(function(){x.ontimeout&&x.ontimeout()},1e4),x.src=u}else m(!1)}function il(u,m){const _=new fn,x=new AbortController,P=setTimeout(()=>{x.abort(),zn(_,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:x.signal}).then(Q=>{clearTimeout(P),Q.ok?zn(_,"TestPingServer: ok",!0,m):zn(_,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(P),zn(_,"TestPingServer: error",!1,m)})}function zn(u,m,_,x,P){try{P&&(P.onload=null,P.onerror=null,P.onabort=null,P.ontimeout=null),x(_)}catch{}}function gs(){this.g=new Ye}function _i(u){this.i=u.Sb||null,this.h=u.ab||!1}S(_i,ki),_i.prototype.g=function(){return new oa(this.i,this.h)};function oa(u,m){_e.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}S(oa,_e),a=oa.prototype,a.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,ni(this)},a.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},a.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ps(this)),this.readyState=0},a.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,ni(this)),this.g&&(this.readyState=3,ni(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ya(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ya(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}a.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?ps(this):ni(this),this.readyState==3&&Ya(this)}},a.Oa=function(u){this.g&&(this.response=this.responseText=u,ps(this))},a.Na=function(u){this.g&&(this.response=u,ps(this))},a.ga=function(){this.g&&ps(this)};function ps(u){u.readyState=4,u.l=null,u.j=null,u.B=null,ni(u)}a.setRequestHeader=function(u,m){this.A.append(u,m)},a.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},a.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var _=m.next();!_.done;)_=_.value,u.push(_[0]+": "+_[1]),_=m.next();return u.join(`\r
`)};function ni(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(oa.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Un(u){let m="";return bt(u,function(_,x){m+=x,m+=":",m+=_,m+=`\r
`}),m}function ua(u,m,_){t:{for(x in _){var x=!1;break t}x=!0}x||(_=Un(_),typeof u=="string"?_!=null&&Ui(_):te(u,m,_))}function ie(u){_e.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}S(ie,_e);var bi=/^https?$/i,sl=["POST","PUT"];a=ie.prototype,a.Fa=function(u){this.H=u},a.ea=function(u,m,_,x){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Yr.g(),this.g.onreadystatechange=C(v(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(Q){ca(this,Q);return}if(u=_||"",_=new Map(this.headers),x)if(Object.getPrototypeOf(x)===Object.prototype)for(var P in x)_.set(P,x[P]);else if(typeof x.keys=="function"&&typeof x.get=="function")for(const Q of x.keys())_.set(Q,x.get(Q));else throw Error("Unknown input type for opt_headers: "+String(x));x=Array.from(_.keys()).find(Q=>Q.toLowerCase()=="content-type"),P=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(sl,m,void 0)>=0)||x||P||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,ht]of _)this.g.setRequestHeader(Q,ht);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(Q){ca(this,Q)}};function ca(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,al(u),Bi(u)}function al(u){u.A||(u.A=!0,ce(u,"complete"),ce(u,"error"))}a.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,ce(this,"complete"),ce(this,"abort"),Bi(this))},a.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Bi(this,!0)),ie.Z.N.call(this)},a.Ca=function(){this.u||(this.B||this.v||this.j?ha(this):this.Xa())},a.Xa=function(){ha(this)};function ha(u){if(u.h&&typeof c<"u"){if(u.v&&ii(u)==4)setTimeout(u.Ca.bind(u),0);else if(ce(u,"readystatechange"),ii(u)==4){u.h=!1;try{const Q=u.ca();t:switch(Q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var _;if(!(_=m)){var x;if(x=Q===0){let ht=String(u.D).match(Ro)[1]||null;!ht&&d.self&&d.self.location&&(ht=d.self.location.protocol.slice(0,-1)),x=!bi.test(ht?ht.toLowerCase():"")}_=x}if(_)ce(u,"complete"),ce(u,"success");else{u.o=6;try{var P=ii(u)>2?u.g.statusText:""}catch{P=""}u.l=P+" ["+u.ca()+"]",al(u)}}finally{Bi(u)}}}}function Bi(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const _=u.g;u.g=null,m||ce(u,"ready");try{_.onreadystatechange=null}catch{}}}a.isActive=function(){return!!this.g};function ii(u){return u.g?u.g.readyState:0}a.ca=function(){try{return ii(this)>2?this.g.status:-1}catch{return-1}},a.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},a.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),qe(m)}};function Ke(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Pi(u){const m={};u=(u.g&&ii(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let x=0;x<u.length;x++){if(R(u[x]))continue;var _=Ao(u[x]);const P=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const Q=m[P]||[];m[P]=Q,Q.push(_)}Mt(m,function(x){return x.join(", ")})}a.ya=function(){return this.o},a.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ei(u,m,_){return _&&_.internalChannelParams&&_.internalChannelParams[u]||m}function ys(u){this.za=0,this.i=[],this.j=new fn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ei("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ei("baseRetryDelayMs",5e3,u),this.Za=Ei("retryDelaySeedMs",1e4,u),this.Ta=Ei("forwardChannelMaxRetries",2,u),this.va=Ei("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Kr(u&&u.concurrentRequestLimit),this.Ba=new gs,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}a=ys.prototype,a.ka=8,a.I=1,a.connect=function(u,m,_,x){pe(0),this.W=u,this.H=m||{},_&&x!==void 0&&(this.H.OSID=_,this.H.OAID=x),this.F=this.X,this.J=Uo(this,null,this.W),Ti(this)};function rl(u){if(Ka(u),u.I==3){var m=u.V++,_=Ie(u.J);if(te(_,"SID",u.M),te(_,"RID",m),te(_,"TYPE","terminate"),fa(u,_),m=new Wn(u,u.j,m),m.M=2,m.A=ra(Ie(_)),_=!1,d.navigator&&d.navigator.sendBeacon)try{_=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!_&&d.Image&&(new Image().src=m.A,_=!0),_||(m.g=Bo(m.j,null),m.g.ea(m.A)),m.F=Date.now(),di(m)}zo(u)}function vs(u){u.g&&(ol(u),u.g.cancel(),u.g=null)}function Ka(u){vs(u),u.v&&(d.clearTimeout(u.v),u.v=null),Za(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function Ti(u){if(!Xr(u.h)&&!u.m){u.m=!0;var m=u.Ea;vt||A(),xt||(vt(),xt=!0),w.add(m,u),u.D=0}}function Xa(u,m){return pi(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=wn(v(u.Ea,u,m),ko(u,u.D)),u.D++,!0)}a.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const P=new Wn(this,this.j,u);let Q=this.o;if(this.U&&(Q?(Q=O(Q),Z(Q,this.U)):Q=this.U),this.u!==null||this.R||(P.J=Q,Q=null),this.S)t:{for(var m=0,_=0;_<this.i.length;_++){e:{var x=this.i[_];if("__data__"in x.map&&(x=x.map.__data__,typeof x=="string")){x=x.length;break e}x=void 0}if(x===void 0)break;if(m+=x,m>4096){m=_;break t}if(m===4096||_===this.i.length-1){m=_+1;break t}}m=1e3}else m=1e3;m=Oo(this,P,m),_=Ie(this.J),te(_,"RID",u),te(_,"CVER",22),this.G&&te(_,"X-HTTP-Session-Id",this.G),fa(this,_),Q&&(this.R?m="headers="+Ui(Un(Q))+"&"+m:this.u&&ua(_,this.u,Q)),Zr(this.h,P),this.Ra&&te(_,"TYPE","init"),this.S?(te(_,"$req",m),te(_,"SID","null"),P.U=!0,fi(P,_,null)):fi(P,_,m),this.I=2}}else this.I==3&&(u?ll(this,u):this.i.length==0||Xr(this.h)||ll(this))};function ll(u,m){var _;m?_=m.l:_=u.V++;const x=Ie(u.J);te(x,"SID",u.M),te(x,"RID",_),te(x,"AID",u.K),fa(u,x),u.u&&u.o&&ua(x,u.u,u.o),_=new Wn(u,u.j,_,u.D+1),u.u===null&&(_.J=u.o),m&&(u.i=m.G.concat(u.i)),m=Oo(u,_,1e3),_.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Zr(u.h,_),fi(_,x,m)}function fa(u,m){u.H&&bt(u.H,function(_,x){te(m,x,_)}),u.l&&bt({},function(_,x){te(m,x,_)})}function Oo(u,m,_){_=Math.min(u.i.length,_);const x=u.l?v(u.l.Ka,u.l,u):null;t:{var P=u.i;let It=-1;for(;;){const Se=["count="+_];It==-1?_>0?(It=P[0].g,Se.push("ofs="+It)):It=0:Se.push("ofs="+It);let Xt=!0;for(let me=0;me<_;me++){var Q=P[me].g;const Bn=P[me].map;if(Q-=It,Q<0)It=Math.max(0,P[me].g-100),Xt=!1;else try{Q="req"+Q+"_"||"";try{var ht=Bn instanceof Map?Bn:Object.entries(Bn);for(const[Si,si]of ht){let ai=si;g(si)&&(ai=Te(si)),Se.push(Q+Si+"="+encodeURIComponent(ai))}}catch(Si){throw Se.push(Q+"type="+encodeURIComponent("_badmap")),Si}}catch{x&&x(Bn)}}if(Xt){ht=Se.join("&");break t}}ht=void 0}return u=u.i.splice(0,_),m.G=u,ht}function Mo(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;vt||A(),xt||(vt(),xt=!0),w.add(m,u),u.A=0}}function da(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=wn(v(u.Da,u),ko(u,u.A)),u.A++,!0)}a.Da=function(){if(this.v=null,jo(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=wn(v(this.Wa,this),u)}},a.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,pe(10),vs(this),jo(this))};function ol(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function jo(u){u.g=new Wn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Ie(u.na);te(m,"RID","rpc"),te(m,"SID",u.M),te(m,"AID",u.K),te(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&te(m,"TO",u.ia),te(m,"TYPE","xmlhttp"),fa(u,m),u.u&&u.o&&ua(m,u.u,u.o),u.O&&(u.g.H=u.O);var _=u.g;u=u.ba,_.M=1,_.A=ra(Ie(m)),_.u=null,_.R=!0,Pa(_,u)}a.Va=function(){this.C!=null&&(this.C=null,vs(this),da(this),pe(19))};function Za(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function Lo(u,m){var _=null;if(u.g==m){Za(u),ol(u),u.g=null;var x=2}else if(yi(u.h,m))_=m.G,Jr(u.h,m),x=1;else return;if(u.I!=0){if(m.o)if(x==1){_=m.u?m.u.length:0,m=Date.now()-m.F;var P=u.D;x=zi(),ce(x,new An(x,_)),Ti(u)}else Mo(u);else if(P=m.m,P==3||P==0&&m.X>0||!(x==1&&Xa(u,m)||x==2&&da(u)))switch(_&&_.length>0&&(m=u.h,m.i=m.i.concat(_)),P){case 1:xi(u,5);break;case 4:xi(u,10);break;case 3:xi(u,6);break;default:xi(u,2)}}}function ko(u,m){let _=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(_*=2),_*m}function xi(u,m){if(u.j.info("Error code "+m),m==2){var _=v(u.bb,u),x=u.Ua;const P=!x;x=new Rn(x||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Fe(x,"https"),ra(x),P?ei(x.toString(),_):il(x.toString(),_)}else pe(2);u.I=0,u.l&&u.l.pa(m),zo(u),Ka(u)}a.bb=function(u){u?(this.j.info("Successfully pinged google.com"),pe(2)):(this.j.info("Failed to ping google.com"),pe(1))};function zo(u){if(u.I=0,u.ja=[],u.l){const m=$r(u.h);(m.length!=0||u.i.length!=0)&&(U(u.ja,m),U(u.ja,u.i),u.h.i.length=0,M(u.i),u.i.length=0),u.l.oa()}}function Uo(u,m,_){var x=_ instanceof Rn?Ie(_):new Rn(_);if(x.g!="")m&&(x.g=m+"."+x.g),hs(x,x.u);else{var P=d.location;x=P.protocol,m=m?m+"."+P.hostname:P.hostname,P=+P.port;const Q=new Rn(null);x&&Fe(Q,x),m&&(Q.g=m),P&&hs(Q,P),_&&(Q.h=_),x=Q}return _=u.G,m=u.wa,_&&m&&te(x,_,m),te(x,"VER",u.ka),fa(u,x),x}function Bo(u,m,_){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new ie(new _i({ab:_})):new ie(u.ma),m.Fa(u.L),m}a.isActive=function(){return!!this.l&&this.l.isActive(this)};function Po(){}a=Po.prototype,a.ra=function(){},a.qa=function(){},a.pa=function(){},a.oa=function(){},a.isActive=function(){return!0},a.Ka=function(){};function _s(){}_s.prototype.g=function(u,m){return new un(u,m)};function un(u,m){_e.call(this),this.g=new ys(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!R(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!R(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new qi(this)}S(un,_e),un.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},un.prototype.close=function(){rl(this.g)},un.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var _={};_.__data__=u,u=_}else this.v&&(_={},_.__data__=Te(u),u=_);m.i.push(new De(m.Ya++,u)),m.I==3&&Ti(m)},un.prototype.N=function(){this.g.l=null,delete this.j,rl(this.g),delete this.g,un.Z.N.call(this)};function qo(u){Re.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const _ in m){u=_;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}S(qo,Re);function Ho(){ln.call(this),this.status=1}S(Ho,ln);function qi(u){this.g=u}S(qi,Po),qi.prototype.ra=function(){ce(this.g,"a")},qi.prototype.qa=function(u){ce(this.g,new qo(u))},qi.prototype.pa=function(u){ce(this.g,new Ho)},qi.prototype.oa=function(){ce(this.g,"b")},_s.prototype.createWebChannel=_s.prototype.g,un.prototype.send=un.prototype.o,un.prototype.open=un.prototype.m,un.prototype.close=un.prototype.close,uv=function(){return new _s},ov=function(){return zi()},lv=mt,Wf={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},mn.NO_ERROR=0,mn.TIMEOUT=8,mn.HTTP_ERROR=6,Wu=mn,sa.COMPLETE="complete",rv=sa,xn.EventType=hn,hn.OPEN="a",hn.CLOSE="b",hn.ERROR="c",hn.MESSAGE="d",_e.prototype.listen=_e.prototype.J,Jl=xn,ie.prototype.listenOnce=ie.prototype.K,ie.prototype.getLastError=ie.prototype.Ha,ie.prototype.getLastErrorCode=ie.prototype.ya,ie.prototype.getStatus=ie.prototype.ca,ie.prototype.getResponseJson=ie.prototype.La,ie.prototype.getResponseText=ie.prototype.la,ie.prototype.send=ie.prototype.ea,ie.prototype.setWithCredentials=ie.prototype.Fa,av=ie}).apply(typeof Yu<"u"?Yu:typeof self<"u"?self:typeof window<"u"?window:{});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}an.UNAUTHENTICATED=new an(null),an.GOOGLE_CREDENTIALS=new an("google-credentials-uid"),an.FIRST_PARTY=new an("first-party-uid"),an.MOCK_USER=new an("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hr="12.8.0";function RT(a){Hr=a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oa=new $0("@firebase/firestore");function Cr(){return Oa.logLevel}function gt(a,...e){if(Oa.logLevel<=Ft.DEBUG){const i=e.map(bd);Oa.debug(`Firestore (${Hr}): ${a}`,...i)}}function rs(a,...e){if(Oa.logLevel<=Ft.ERROR){const i=e.map(bd);Oa.error(`Firestore (${Hr}): ${a}`,...i)}}function Lr(a,...e){if(Oa.logLevel<=Ft.WARN){const i=e.map(bd);Oa.warn(`Firestore (${Hr}): ${a}`,...i)}}function bd(a){if(typeof a=="string")return a;try{return(function(i){return JSON.stringify(i)})(a)}catch{return a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wt(a,e,i){let r="Unexpected state";typeof e=="string"?r=e:i=e,cv(a,r,i)}function cv(a,e,i){let r=`FIRESTORE (${Hr}) INTERNAL ASSERTION FAILED: ${e} (ID: ${a.toString(16)})`;if(i!==void 0)try{r+=" CONTEXT: "+JSON.stringify(i)}catch{r+=" CONTEXT: "+i}throw rs(r),new Error(r)}function $t(a,e,i,r){let o="Unexpected state";typeof i=="string"?o=i:r=i,a||cv(e,o,r)}function Dt(a,e){return a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Et extends qr{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hv{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class NT{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(an.UNAUTHENTICATED)))}shutdown(){}}class DT{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class IT{constructor(e){this.t=e,this.currentUser=an.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){$t(this.o===void 0,42304);let r=this.i;const o=y=>this.i!==r?(r=this.i,i(y)):Promise.resolve();let c=new Qs;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Qs,e.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const y=c;e.enqueueRetryable((async()=>{await y.promise,await o(this.currentUser)}))},g=y=>{gt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((y=>g(y))),setTimeout((()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?g(y):(gt("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Qs)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((r=>this.i!==e?(gt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?($t(typeof r.accessToken=="string",31837,{l:r}),new hv(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return $t(e===null||typeof e=="string",2055,{h:e}),new an(e)}}class VT{constructor(e,i,r){this.P=e,this.T=i,this.I=r,this.type="FirstParty",this.user=an.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class OT{constructor(e,i,r){this.P=e,this.T=i,this.I=r}getToken(){return Promise.resolve(new VT(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(an.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Yy{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class MT{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,dT(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){$t(this.o===void 0,3512);const r=c=>{c.error!=null&&gt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,gt("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>r(c)))};const o=c=>{gt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>o(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):gt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Yy(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?($t(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new Yy(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jT(a){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(a);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let r=0;r<a;r++)i[r]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ed{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=jT(40);for(let c=0;c<o.length;++c)r.length<20&&o[c]<i&&(r+=e.charAt(o[c]%62))}return r}}function Bt(a,e){return a<e?-1:a>e?1:0}function td(a,e){const i=Math.min(a.length,e.length);for(let r=0;r<i;r++){const o=a.charAt(r),c=e.charAt(r);if(o!==c)return Hf(o)===Hf(c)?Bt(o,c):Hf(o)?1:-1}return Bt(a.length,e.length)}const LT=55296,kT=57343;function Hf(a){const e=a.charCodeAt(0);return e>=LT&&e<=kT}function kr(a,e,i){return a.length===e.length&&a.every(((r,o)=>i(r,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ky="__name__";class Ni{constructor(e,i,r){i===void 0?i=0:i>e.length&&wt(637,{offset:i,range:e.length}),r===void 0?r=e.length-i:r>e.length-i&&wt(1746,{length:r,range:e.length-i}),this.segments=e,this.offset=i,this.len=r}get length(){return this.len}isEqual(e){return Ni.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof Ni?e.forEach((r=>{i.push(r)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,r=this.limit();i<r;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const r=Math.min(e.length,i.length);for(let o=0;o<r;o++){const c=Ni.compareSegments(e.get(o),i.get(o));if(c!==0)return c}return Bt(e.length,i.length)}static compareSegments(e,i){const r=Ni.isNumericId(e),o=Ni.isNumericId(i);return r&&!o?-1:!r&&o?1:r&&o?Ni.extractNumericId(e).compare(Ni.extractNumericId(i)):td(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Gs.fromString(e.substring(4,e.length-2))}}class ye extends Ni{construct(e,i,r){return new ye(e,i,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const r of e){if(r.indexOf("//")>=0)throw new Et(rt.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);i.push(...r.split("/").filter((o=>o.length>0)))}return new ye(i)}static emptyPath(){return new ye([])}}const zT=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class tn extends Ni{construct(e,i,r){return new tn(e,i,r)}static isValidIdentifier(e){return zT.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),tn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Ky}static keyField(){return new tn([Ky])}static fromServerFormat(e){const i=[];let r="",o=0;const c=()=>{if(r.length===0)throw new Et(rt.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(r),r=""};let d=!1;for(;o<e.length;){const g=e[o];if(g==="\\"){if(o+1===e.length)throw new Et(rt.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[o+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new Et(rt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=y,o+=2}else g==="`"?(d=!d,o++):g!=="."||d?(r+=g,o++):(c(),o++)}if(c(),d)throw new Et(rt.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new tn(i)}static emptyPath(){return new tn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{constructor(e){this.path=e}static fromPath(e){return new St(ye.fromString(e))}static fromName(e){return new St(ye.fromString(e).popFirst(5))}static empty(){return new St(ye.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ye.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return ye.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new St(new ye(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UT(a,e,i){if(!i)throw new Et(rt.INVALID_ARGUMENT,`Function ${a}() cannot be called with an empty ${e}.`)}function BT(a,e,i,r){if(e===!0&&r===!0)throw new Et(rt.INVALID_ARGUMENT,`${a} and ${i} cannot be used together.`)}function Xy(a){if(!St.isDocumentKey(a))throw new Et(rt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${a} has ${a.length}.`)}function fv(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}function Td(a){if(a===void 0)return"undefined";if(a===null)return"null";if(typeof a=="string")return a.length>20&&(a=`${a.substring(0,20)}...`),JSON.stringify(a);if(typeof a=="number"||typeof a=="boolean")return""+a;if(typeof a=="object"){if(a instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(a);return e?`a custom ${e} object`:"an object"}}return typeof a=="function"?"a function":wt(12329,{type:typeof a})}function Ys(a,e){if("_delegate"in a&&(a=a._delegate),!(a instanceof e)){if(e.name===a.constructor.name)throw new Et(rt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Td(a);throw new Et(rt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return a}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ke(a,e){const i={typeString:a};return e&&(i.value=e),i}function bo(a,e){if(!fv(a))throw new Et(rt.INVALID_ARGUMENT,"JSON must be an object");let i;for(const r in e)if(e[r]){const o=e[r].typeString,c="value"in e[r]?{value:e[r].value}:void 0;if(!(r in a)){i=`JSON missing required field: '${r}'`;break}const d=a[r];if(o&&typeof d!==o){i=`JSON field '${r}' must be a ${o}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${r}' field to equal '${c.value}'`;break}}if(i)throw new Et(rt.INVALID_ARGUMENT,i);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zy=-62135596800,Jy=1e6;class de{static now(){return de.fromMillis(Date.now())}static fromDate(e){return de.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),r=Math.floor((e-1e3*i)*Jy);return new de(i,r)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new Et(rt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new Et(rt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<Zy)throw new Et(rt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Et(rt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Jy}_compareTo(e){return this.seconds===e.seconds?Bt(this.nanoseconds,e.nanoseconds):Bt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:de._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(bo(e,de._jsonSchema))return new de(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Zy;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}de._jsonSchemaVersion="firestore/timestamp/1.0",de._jsonSchema={type:ke("string",de._jsonSchemaVersion),seconds:ke("number"),nanoseconds:ke("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{static fromTimestamp(e){return new Rt(e)}static min(){return new Rt(new de(0,0))}static max(){return new Rt(new de(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const co=-1;function PT(a,e){const i=a.toTimestamp().seconds,r=a.toTimestamp().nanoseconds+1,o=Rt.fromTimestamp(r===1e9?new de(i+1,0):new de(i,r));return new Ks(o,St.empty(),e)}function qT(a){return new Ks(a.readTime,a.key,co)}class Ks{constructor(e,i,r){this.readTime=e,this.documentKey=i,this.largestBatchId=r}static min(){return new Ks(Rt.min(),St.empty(),co)}static max(){return new Ks(Rt.max(),St.empty(),co)}}function HT(a,e){let i=a.readTime.compareTo(e.readTime);return i!==0?i:(i=St.comparator(a.documentKey,e.documentKey),i!==0?i:Bt(a.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FT="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class GT{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fr(a){if(a.code!==rt.FAILED_PRECONDITION||a.message!==FT)throw a;gt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class at{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&wt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new at(((r,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(r,o)},this.catchCallback=c=>{this.wrapFailure(i,c).next(r,o)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof at?i:at.resolve(i)}catch(i){return at.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):at.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):at.reject(i)}static resolve(e){return new at(((i,r)=>{i(e)}))}static reject(e){return new at(((i,r)=>{r(e)}))}static waitFor(e){return new at(((i,r)=>{let o=0,c=0,d=!1;e.forEach((g=>{++o,g.next((()=>{++c,d&&c===o&&i()}),(y=>r(y)))})),d=!0,c===o&&i()}))}static or(e){let i=at.resolve(!1);for(const r of e)i=i.next((o=>o?at.resolve(o):r()));return i}static forEach(e,i){const r=[];return e.forEach(((o,c)=>{r.push(i.call(this,o,c))})),this.waitFor(r)}static mapArray(e,i){return new at(((r,o)=>{const c=e.length,d=new Array(c);let g=0;for(let y=0;y<c;y++){const v=y;i(e[v]).next((T=>{d[v]=T,++g,g===c&&r(d)}),(T=>o(T)))}}))}static doWhile(e,i){return new at(((r,o)=>{const c=()=>{e()===!0?i().next((()=>{c()}),o):r()};c()}))}}function QT(a){const e=a.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Gr(a){return a.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tc{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>i.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Tc.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xd=-1;function xc(a){return a==null}function cc(a){return a===0&&1/a==-1/0}function YT(a){return typeof a=="number"&&Number.isInteger(a)&&!cc(a)&&a<=Number.MAX_SAFE_INTEGER&&a>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dv="";function KT(a){let e="";for(let i=0;i<a.length;i++)e.length>0&&(e=$y(e)),e=XT(a.get(i),e);return $y(e)}function XT(a,e){let i=e;const r=a.length;for(let o=0;o<r;o++){const c=a.charAt(o);switch(c){case"\0":i+="";break;case dv:i+="";break;default:i+=c}}return i}function $y(a){return a+dv+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wy(a){let e=0;for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&e++;return e}function ja(a,e){for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&e(i,a[i])}function mv(a){for(const e in a)if(Object.prototype.hasOwnProperty.call(a,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ve{constructor(e,i){this.comparator=e,this.root=i||We.EMPTY}insert(e,i){return new ve(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,We.BLACK,null,null))}remove(e){return new ve(this.comparator,this.root.remove(e,this.comparator).copy(null,null,We.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(r===0)return i.value;r<0?i=i.left:r>0&&(i=i.right)}return null}indexOf(e){let i=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(o===0)return i+r.left.size;o<0?r=r.left:(i+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,r)=>(e(i,r),!1)))}toString(){const e=[];return this.inorderTraversal(((i,r)=>(e.push(`${i}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ku(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ku(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ku(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ku(this.root,e,this.comparator,!0)}}class Ku{constructor(e,i,r,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=i?r(e.key,i):1,i&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class We{constructor(e,i,r,o,c){this.key=e,this.value=i,this.color=r??We.RED,this.left=o??We.EMPTY,this.right=c??We.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,r,o,c){return new We(e??this.key,i??this.value,r??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,r){let o=this;const c=r(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,i,r),null):c===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return We.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let r,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return We.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,We.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,We.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw wt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw wt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw wt(27949);return e+(this.isRed()?0:1)}}We.EMPTY=null,We.RED=!0,We.BLACK=!1;We.EMPTY=new class{constructor(){this.size=0}get key(){throw wt(57766)}get value(){throw wt(16141)}get color(){throw wt(16727)}get left(){throw wt(29726)}get right(){throw wt(36894)}copy(e,i,r,o,c){return this}insert(e,i,r){return new We(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pe{constructor(e){this.comparator=e,this.data=new ve(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,r)=>(e(i),!1)))}forEachInRange(e,i){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let r;for(r=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new t0(this.data.getIterator())}getIteratorFrom(e){return new t0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((r=>{i=i.add(r)})),i}isEqual(e){if(!(e instanceof Pe)||this.size!==e.size)return!1;const i=this.data.getIterator(),r=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=r.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new Pe(this.comparator);return i.data=e,i}}class t0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ui{constructor(e){this.fields=e,e.sort(tn.comparator)}static empty(){return new ui([])}unionWith(e){let i=new Pe(tn.comparator);for(const r of this.fields)i=i.add(r);for(const r of e)i=i.add(r);return new ui(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return kr(this.fields,e.fields,((i,r)=>i.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gv extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new gv("Invalid base64 string: "+c):c}})(e);return new en(i)}static fromUint8Array(e){const i=(function(o){let c="";for(let d=0;d<o.length;++d)c+=String.fromCharCode(o[d]);return c})(e);return new en(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const r=new Uint8Array(i.length);for(let o=0;o<i.length;o++)r[o]=i.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Bt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}en.EMPTY_BYTE_STRING=new en("");const ZT=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Xs(a){if($t(!!a,39018),typeof a=="string"){let e=0;const i=ZT.exec(a);if($t(!!i,46558,{timestamp:a}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(a);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ce(a.seconds),nanos:Ce(a.nanos)}}function Ce(a){return typeof a=="number"?a:typeof a=="string"?Number(a):0}function Zs(a){return typeof a=="string"?en.fromBase64String(a):en.fromUint8Array(a)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pv="server_timestamp",yv="__type__",vv="__previous_value__",_v="__local_write_time__";function Sd(a){var i,r;return((r=(((i=a==null?void 0:a.mapValue)==null?void 0:i.fields)||{})[yv])==null?void 0:r.stringValue)===pv}function Sc(a){const e=a.mapValue.fields[vv];return Sd(e)?Sc(e):e}function ho(a){const e=Xs(a.mapValue.fields[_v].timestampValue);return new de(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JT{constructor(e,i,r,o,c,d,g,y,v,T,S){this.databaseId=e,this.appId=i,this.persistenceKey=r,this.host=o,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=y,this.useFetchStreams=v,this.isUsingEmulator=T,this.apiKey=S}}const hc="(default)";class fo{constructor(e,i){this.projectId=e,this.database=i||hc}static empty(){return new fo("","")}get isDefaultDatabase(){return this.database===hc}isEqual(e){return e instanceof fo&&e.projectId===this.projectId&&e.database===this.database}}function $T(a,e){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new Et(rt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new fo(a.options.projectId,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bv="__type__",WT="__max__",Xu={mapValue:{}},Ev="__vector__",fc="value";function Js(a){return"nullValue"in a?0:"booleanValue"in a?1:"integerValue"in a||"doubleValue"in a?2:"timestampValue"in a?3:"stringValue"in a?5:"bytesValue"in a?6:"referenceValue"in a?7:"geoPointValue"in a?8:"arrayValue"in a?9:"mapValue"in a?Sd(a)?4:ex(a)?9007199254740991:tx(a)?10:11:wt(28295,{value:a})}function Oi(a,e){if(a===e)return!0;const i=Js(a);if(i!==Js(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return a.booleanValue===e.booleanValue;case 4:return ho(a).isEqual(ho(e));case 3:return(function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const d=Xs(o.timestampValue),g=Xs(c.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos})(a,e);case 5:return a.stringValue===e.stringValue;case 6:return(function(o,c){return Zs(o.bytesValue).isEqual(Zs(c.bytesValue))})(a,e);case 7:return a.referenceValue===e.referenceValue;case 8:return(function(o,c){return Ce(o.geoPointValue.latitude)===Ce(c.geoPointValue.latitude)&&Ce(o.geoPointValue.longitude)===Ce(c.geoPointValue.longitude)})(a,e);case 2:return(function(o,c){if("integerValue"in o&&"integerValue"in c)return Ce(o.integerValue)===Ce(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const d=Ce(o.doubleValue),g=Ce(c.doubleValue);return d===g?cc(d)===cc(g):isNaN(d)&&isNaN(g)}return!1})(a,e);case 9:return kr(a.arrayValue.values||[],e.arrayValue.values||[],Oi);case 10:case 11:return(function(o,c){const d=o.mapValue.fields||{},g=c.mapValue.fields||{};if(Wy(d)!==Wy(g))return!1;for(const y in d)if(d.hasOwnProperty(y)&&(g[y]===void 0||!Oi(d[y],g[y])))return!1;return!0})(a,e);default:return wt(52216,{left:a})}}function mo(a,e){return(a.values||[]).find((i=>Oi(i,e)))!==void 0}function zr(a,e){if(a===e)return 0;const i=Js(a),r=Js(e);if(i!==r)return Bt(i,r);switch(i){case 0:case 9007199254740991:return 0;case 1:return Bt(a.booleanValue,e.booleanValue);case 2:return(function(c,d){const g=Ce(c.integerValue||c.doubleValue),y=Ce(d.integerValue||d.doubleValue);return g<y?-1:g>y?1:g===y?0:isNaN(g)?isNaN(y)?0:-1:1})(a,e);case 3:return e0(a.timestampValue,e.timestampValue);case 4:return e0(ho(a),ho(e));case 5:return td(a.stringValue,e.stringValue);case 6:return(function(c,d){const g=Zs(c),y=Zs(d);return g.compareTo(y)})(a.bytesValue,e.bytesValue);case 7:return(function(c,d){const g=c.split("/"),y=d.split("/");for(let v=0;v<g.length&&v<y.length;v++){const T=Bt(g[v],y[v]);if(T!==0)return T}return Bt(g.length,y.length)})(a.referenceValue,e.referenceValue);case 8:return(function(c,d){const g=Bt(Ce(c.latitude),Ce(d.latitude));return g!==0?g:Bt(Ce(c.longitude),Ce(d.longitude))})(a.geoPointValue,e.geoPointValue);case 9:return n0(a.arrayValue,e.arrayValue);case 10:return(function(c,d){var C,M,U,tt;const g=c.fields||{},y=d.fields||{},v=(C=g[fc])==null?void 0:C.arrayValue,T=(M=y[fc])==null?void 0:M.arrayValue,S=Bt(((U=v==null?void 0:v.values)==null?void 0:U.length)||0,((tt=T==null?void 0:T.values)==null?void 0:tt.length)||0);return S!==0?S:n0(v,T)})(a.mapValue,e.mapValue);case 11:return(function(c,d){if(c===Xu.mapValue&&d===Xu.mapValue)return 0;if(c===Xu.mapValue)return 1;if(d===Xu.mapValue)return-1;const g=c.fields||{},y=Object.keys(g),v=d.fields||{},T=Object.keys(v);y.sort(),T.sort();for(let S=0;S<y.length&&S<T.length;++S){const C=td(y[S],T[S]);if(C!==0)return C;const M=zr(g[y[S]],v[T[S]]);if(M!==0)return M}return Bt(y.length,T.length)})(a.mapValue,e.mapValue);default:throw wt(23264,{he:i})}}function e0(a,e){if(typeof a=="string"&&typeof e=="string"&&a.length===e.length)return Bt(a,e);const i=Xs(a),r=Xs(e),o=Bt(i.seconds,r.seconds);return o!==0?o:Bt(i.nanos,r.nanos)}function n0(a,e){const i=a.values||[],r=e.values||[];for(let o=0;o<i.length&&o<r.length;++o){const c=zr(i[o],r[o]);if(c)return c}return Bt(i.length,r.length)}function Ur(a){return ed(a)}function ed(a){return"nullValue"in a?"null":"booleanValue"in a?""+a.booleanValue:"integerValue"in a?""+a.integerValue:"doubleValue"in a?""+a.doubleValue:"timestampValue"in a?(function(i){const r=Xs(i);return`time(${r.seconds},${r.nanos})`})(a.timestampValue):"stringValue"in a?a.stringValue:"bytesValue"in a?(function(i){return Zs(i).toBase64()})(a.bytesValue):"referenceValue"in a?(function(i){return St.fromName(i).toString()})(a.referenceValue):"geoPointValue"in a?(function(i){return`geo(${i.latitude},${i.longitude})`})(a.geoPointValue):"arrayValue"in a?(function(i){let r="[",o=!0;for(const c of i.values||[])o?o=!1:r+=",",r+=ed(c);return r+"]"})(a.arrayValue):"mapValue"in a?(function(i){const r=Object.keys(i.fields||{}).sort();let o="{",c=!0;for(const d of r)c?c=!1:o+=",",o+=`${d}:${ed(i.fields[d])}`;return o+"}"})(a.mapValue):wt(61005,{value:a})}function tc(a){switch(Js(a)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Sc(a);return e?16+tc(e):16;case 5:return 2*a.stringValue.length;case 6:return Zs(a.bytesValue).approximateByteSize();case 7:return a.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((o,c)=>o+tc(c)),0)})(a.arrayValue);case 10:case 11:return(function(r){let o=0;return ja(r.fields,((c,d)=>{o+=c.length+tc(d)})),o})(a.mapValue);default:throw wt(13486,{value:a})}}function nd(a){return!!a&&"integerValue"in a}function Ad(a){return!!a&&"arrayValue"in a}function i0(a){return!!a&&"nullValue"in a}function s0(a){return!!a&&"doubleValue"in a&&isNaN(Number(a.doubleValue))}function ec(a){return!!a&&"mapValue"in a}function tx(a){var i,r;return((r=(((i=a==null?void 0:a.mapValue)==null?void 0:i.fields)||{})[bv])==null?void 0:r.stringValue)===Ev}function no(a){if(a.geoPointValue)return{geoPointValue:{...a.geoPointValue}};if(a.timestampValue&&typeof a.timestampValue=="object")return{timestampValue:{...a.timestampValue}};if(a.mapValue){const e={mapValue:{fields:{}}};return ja(a.mapValue.fields,((i,r)=>e.mapValue.fields[i]=no(r))),e}if(a.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(a.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=no(a.arrayValue.values[i]);return e}return{...a}}function ex(a){return(((a.mapValue||{}).fields||{}).__type__||{}).stringValue===WT}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xn{constructor(e){this.value=e}static empty(){return new Xn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let r=0;r<e.length-1;++r)if(i=(i.mapValue.fields||{})[e.get(r)],!ec(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=no(i)}setAll(e){let i=tn.emptyPath(),r={},o=[];e.forEach(((d,g)=>{if(!i.isImmediateParentOf(g)){const y=this.getFieldsMap(i);this.applyChanges(y,r,o),r={},o=[],i=g.popLast()}d?r[g.lastSegment()]=no(d):o.push(g.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,r,o)}delete(e){const i=this.field(e.popLast());ec(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return Oi(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=i.mapValue.fields[e.get(r)];ec(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(r)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,r){ja(i,((o,c)=>e[o]=c));for(const o of r)delete e[o]}clone(){return new Xn(no(this.value))}}function Tv(a){const e=[];return ja(a.fields,((i,r)=>{const o=new tn([i]);if(ec(r)){const c=Tv(r.mapValue).fields;if(c.length===0)e.push(o);else for(const d of c)e.push(o.child(d))}else e.push(o)})),new ui(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e,i,r,o,c,d,g){this.key=e,this.documentType=i,this.version=r,this.readTime=o,this.createTime=c,this.data=d,this.documentState=g}static newInvalidDocument(e){return new rn(e,0,Rt.min(),Rt.min(),Rt.min(),Xn.empty(),0)}static newFoundDocument(e,i,r,o){return new rn(e,1,i,Rt.min(),r,o,0)}static newNoDocument(e,i){return new rn(e,2,i,Rt.min(),Rt.min(),Xn.empty(),0)}static newUnknownDocument(e,i){return new rn(e,3,i,Rt.min(),Rt.min(),Xn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(Rt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Xn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Xn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Rt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof rn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new rn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dc{constructor(e,i){this.position=e,this.inclusive=i}}function a0(a,e,i){let r=0;for(let o=0;o<a.position.length;o++){const c=e[o],d=a.position[o];if(c.field.isKeyField()?r=St.comparator(St.fromName(d.referenceValue),i.key):r=zr(d,i.data.field(c.field)),c.dir==="desc"&&(r*=-1),r!==0)break}return r}function r0(a,e){if(a===null)return e===null;if(e===null||a.inclusive!==e.inclusive||a.position.length!==e.position.length)return!1;for(let i=0;i<a.position.length;i++)if(!Oi(a.position[i],e.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mc{constructor(e,i="asc"){this.field=e,this.dir=i}}function nx(a,e){return a.dir===e.dir&&a.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xv{}class Ue extends xv{constructor(e,i,r){super(),this.field=e,this.op=i,this.value=r}static create(e,i,r){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,r):new sx(e,i,r):i==="array-contains"?new lx(e,r):i==="in"?new ox(e,r):i==="not-in"?new ux(e,r):i==="array-contains-any"?new cx(e,r):new Ue(e,i,r)}static createKeyFieldInFilter(e,i,r){return i==="in"?new ax(e,r):new rx(e,r)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(zr(i,this.value)):i!==null&&Js(this.value)===Js(i)&&this.matchesComparison(zr(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return wt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Mi extends xv{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new Mi(e,i)}matches(e){return Sv(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Sv(a){return a.op==="and"}function Av(a){return ix(a)&&Sv(a)}function ix(a){for(const e of a.filters)if(e instanceof Mi)return!1;return!0}function id(a){if(a instanceof Ue)return a.field.canonicalString()+a.op.toString()+Ur(a.value);if(Av(a))return a.filters.map((e=>id(e))).join(",");{const e=a.filters.map((i=>id(i))).join(",");return`${a.op}(${e})`}}function wv(a,e){return a instanceof Ue?(function(r,o){return o instanceof Ue&&r.op===o.op&&r.field.isEqual(o.field)&&Oi(r.value,o.value)})(a,e):a instanceof Mi?(function(r,o){return o instanceof Mi&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((c,d,g)=>c&&wv(d,o.filters[g])),!0):!1})(a,e):void wt(19439)}function Cv(a){return a instanceof Ue?(function(i){return`${i.field.canonicalString()} ${i.op} ${Ur(i.value)}`})(a):a instanceof Mi?(function(i){return i.op.toString()+" {"+i.getFilters().map(Cv).join(" ,")+"}"})(a):"Filter"}class sx extends Ue{constructor(e,i,r){super(e,i,r),this.key=St.fromName(r.referenceValue)}matches(e){const i=St.comparator(e.key,this.key);return this.matchesComparison(i)}}class ax extends Ue{constructor(e,i){super(e,"in",i),this.keys=Rv("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class rx extends Ue{constructor(e,i){super(e,"not-in",i),this.keys=Rv("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function Rv(a,e){var i;return(((i=e.arrayValue)==null?void 0:i.values)||[]).map((r=>St.fromName(r.referenceValue)))}class lx extends Ue{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return Ad(i)&&mo(i.arrayValue,this.value)}}class ox extends Ue{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&mo(this.value.arrayValue,i)}}class ux extends Ue{constructor(e,i){super(e,"not-in",i)}matches(e){if(mo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!mo(this.value.arrayValue,i)}}class cx extends Ue{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!Ad(i)||!i.arrayValue.values)&&i.arrayValue.values.some((r=>mo(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hx{constructor(e,i=null,r=[],o=[],c=null,d=null,g=null){this.path=e,this.collectionGroup=i,this.orderBy=r,this.filters=o,this.limit=c,this.startAt=d,this.endAt=g,this.Te=null}}function l0(a,e=null,i=[],r=[],o=null,c=null,d=null){return new hx(a,e,i,r,o,c,d)}function wd(a){const e=Dt(a);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((r=>id(r))).join(","),i+="|ob:",i+=e.orderBy.map((r=>(function(c){return c.field.canonicalString()+c.dir})(r))).join(","),xc(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((r=>Ur(r))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((r=>Ur(r))).join(",")),e.Te=i}return e.Te}function Cd(a,e){if(a.limit!==e.limit||a.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<a.orderBy.length;i++)if(!nx(a.orderBy[i],e.orderBy[i]))return!1;if(a.filters.length!==e.filters.length)return!1;for(let i=0;i<a.filters.length;i++)if(!wv(a.filters[i],e.filters[i]))return!1;return a.collectionGroup===e.collectionGroup&&!!a.path.isEqual(e.path)&&!!r0(a.startAt,e.startAt)&&r0(a.endAt,e.endAt)}function sd(a){return St.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ac{constructor(e,i=null,r=[],o=[],c=null,d="F",g=null,y=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=r,this.filters=o,this.limit=c,this.limitType=d,this.startAt=g,this.endAt=y,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function fx(a,e,i,r,o,c,d,g){return new Ac(a,e,i,r,o,c,d,g)}function wc(a){return new Ac(a)}function o0(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.explicitOrderBy.length===0||a.explicitOrderBy.length===1&&a.explicitOrderBy[0].field.isKeyField())}function dx(a){return St.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}function mx(a){return a.collectionGroup!==null}function io(a){const e=Dt(a);if(e.Ie===null){e.Ie=[];const i=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),i.add(c.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new Pe(tn.comparator);return d.filters.forEach((y=>{y.getFlattenedFilters().forEach((v=>{v.isInequality()&&(g=g.add(v.field))}))})),g})(e).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new mc(c,r))})),i.has(tn.keyField().canonicalString())||e.Ie.push(new mc(tn.keyField(),r))}return e.Ie}function Di(a){const e=Dt(a);return e.Ee||(e.Ee=gx(e,io(a))),e.Ee}function gx(a,e){if(a.limitType==="F")return l0(a.path,a.collectionGroup,e,a.filters,a.limit,a.startAt,a.endAt);{e=e.map((o=>{const c=o.dir==="desc"?"asc":"desc";return new mc(o.field,c)}));const i=a.endAt?new dc(a.endAt.position,a.endAt.inclusive):null,r=a.startAt?new dc(a.startAt.position,a.startAt.inclusive):null;return l0(a.path,a.collectionGroup,e,a.filters,a.limit,i,r)}}function ad(a,e,i){return new Ac(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),e,i,a.startAt,a.endAt)}function Cc(a,e){return Cd(Di(a),Di(e))&&a.limitType===e.limitType}function Nv(a){return`${wd(Di(a))}|lt:${a.limitType}`}function Rr(a){return`Query(target=${(function(i){let r=i.path.canonicalString();return i.collectionGroup!==null&&(r+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(r+=`, filters: [${i.filters.map((o=>Cv(o))).join(", ")}]`),xc(i.limit)||(r+=", limit: "+i.limit),i.orderBy.length>0&&(r+=`, orderBy: [${i.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),i.startAt&&(r+=", startAt: ",r+=i.startAt.inclusive?"b:":"a:",r+=i.startAt.position.map((o=>Ur(o))).join(",")),i.endAt&&(r+=", endAt: ",r+=i.endAt.inclusive?"a:":"b:",r+=i.endAt.position.map((o=>Ur(o))).join(",")),`Target(${r})`})(Di(a))}; limitType=${a.limitType})`}function Rc(a,e){return e.isFoundDocument()&&(function(r,o){const c=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(c):St.isDocumentKey(r.path)?r.path.isEqual(c):r.path.isImmediateParentOf(c)})(a,e)&&(function(r,o){for(const c of io(r))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0})(a,e)&&(function(r,o){for(const c of r.filters)if(!c.matches(o))return!1;return!0})(a,e)&&(function(r,o){return!(r.startAt&&!(function(d,g,y){const v=a0(d,g,y);return d.inclusive?v<=0:v<0})(r.startAt,io(r),o)||r.endAt&&!(function(d,g,y){const v=a0(d,g,y);return d.inclusive?v>=0:v>0})(r.endAt,io(r),o))})(a,e)}function px(a){return a.collectionGroup||(a.path.length%2==1?a.path.lastSegment():a.path.get(a.path.length-2))}function Dv(a){return(e,i)=>{let r=!1;for(const o of io(a)){const c=yx(o,e,i);if(c!==0)return c;r=r||o.field.isKeyField()}return 0}}function yx(a,e,i){const r=a.field.isKeyField()?St.comparator(e.key,i.key):(function(c,d,g){const y=d.data.field(c),v=g.data.field(c);return y!==null&&v!==null?zr(y,v):wt(42886)})(a.field,e,i);switch(a.dir){case"asc":return r;case"desc":return-1*r;default:return wt(19790,{direction:a.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class La{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),r=this.inner[i];if(r!==void 0){for(const[o,c]of r)if(this.equalsFn(o,e))return c}}has(e){return this.get(e)!==void 0}set(e,i){const r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return this.inner[r]=[[e,i]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return r.length===1?delete this.inner[i]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){ja(this.inner,((i,r)=>{for(const[o,c]of r)e(o,c)}))}isEmpty(){return mv(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vx=new ve(St.comparator);function ls(){return vx}const Iv=new ve(St.comparator);function $l(...a){let e=Iv;for(const i of a)e=e.insert(i.key,i);return e}function Vv(a){let e=Iv;return a.forEach(((i,r)=>e=e.insert(i,r.overlayedDocument))),e}function Ia(){return so()}function Ov(){return so()}function so(){return new La((a=>a.toString()),((a,e)=>a.isEqual(e)))}const _x=new ve(St.comparator),bx=new Pe(St.comparator);function Pt(...a){let e=bx;for(const i of a)e=e.add(i);return e}const Ex=new Pe(Bt);function Tx(){return Ex}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rd(a,e){if(a.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:cc(e)?"-0":e}}function Mv(a){return{integerValue:""+a}}function xx(a,e){return YT(e)?Mv(e):Rd(a,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nc{constructor(){this._=void 0}}function Sx(a,e,i){return a instanceof go?(function(o,c){const d={fields:{[yv]:{stringValue:pv},[_v]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&Sd(c)&&(c=Sc(c)),c&&(d.fields[vv]=c),{mapValue:d}})(i,e):a instanceof po?Lv(a,e):a instanceof yo?kv(a,e):(function(o,c){const d=jv(o,c),g=u0(d)+u0(o.Ae);return nd(d)&&nd(o.Ae)?Mv(g):Rd(o.serializer,g)})(a,e)}function Ax(a,e,i){return a instanceof po?Lv(a,e):a instanceof yo?kv(a,e):i}function jv(a,e){return a instanceof gc?(function(r){return nd(r)||(function(c){return!!c&&"doubleValue"in c})(r)})(e)?e:{integerValue:0}:null}class go extends Nc{}class po extends Nc{constructor(e){super(),this.elements=e}}function Lv(a,e){const i=zv(e);for(const r of a.elements)i.some((o=>Oi(o,r)))||i.push(r);return{arrayValue:{values:i}}}class yo extends Nc{constructor(e){super(),this.elements=e}}function kv(a,e){let i=zv(e);for(const r of a.elements)i=i.filter((o=>!Oi(o,r)));return{arrayValue:{values:i}}}class gc extends Nc{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function u0(a){return Ce(a.integerValue||a.doubleValue)}function zv(a){return Ad(a)&&a.arrayValue.values?a.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wx{constructor(e,i){this.field=e,this.transform=i}}function Cx(a,e){return a.field.isEqual(e.field)&&(function(r,o){return r instanceof po&&o instanceof po||r instanceof yo&&o instanceof yo?kr(r.elements,o.elements,Oi):r instanceof gc&&o instanceof gc?Oi(r.Ae,o.Ae):r instanceof go&&o instanceof go})(a.transform,e.transform)}class Rx{constructor(e,i){this.version=e,this.transformResults=i}}class ss{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new ss}static exists(e){return new ss(void 0,e)}static updateTime(e){return new ss(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function nc(a,e){return a.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(a.updateTime):a.exists===void 0||a.exists===e.isFoundDocument()}class Dc{}function Uv(a,e){if(!a.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return a.isNoDocument()?new Pv(a.key,ss.none()):new Eo(a.key,a.data,ss.none());{const i=a.data,r=Xn.empty();let o=new Pe(tn.comparator);for(let c of e.fields)if(!o.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?r.delete(c):r.set(c,d),o=o.add(c)}return new ka(a.key,r,new ui(o.toArray()),ss.none())}}function Nx(a,e,i){a instanceof Eo?(function(o,c,d){const g=o.value.clone(),y=h0(o.fieldTransforms,c,d.transformResults);g.setAll(y),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(a,e,i):a instanceof ka?(function(o,c,d){if(!nc(o.precondition,c))return void c.convertToUnknownDocument(d.version);const g=h0(o.fieldTransforms,c,d.transformResults),y=c.data;y.setAll(Bv(o)),y.setAll(g),c.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(a,e,i):(function(o,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function ao(a,e,i,r){return a instanceof Eo?(function(c,d,g,y){if(!nc(c.precondition,d))return g;const v=c.value.clone(),T=f0(c.fieldTransforms,y,d);return v.setAll(T),d.convertToFoundDocument(d.version,v).setHasLocalMutations(),null})(a,e,i,r):a instanceof ka?(function(c,d,g,y){if(!nc(c.precondition,d))return g;const v=f0(c.fieldTransforms,y,d),T=d.data;return T.setAll(Bv(c)),T.setAll(v),d.convertToFoundDocument(d.version,T).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((S=>S.field)))})(a,e,i,r):(function(c,d,g){return nc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g})(a,e,i)}function Dx(a,e){let i=null;for(const r of a.fieldTransforms){const o=e.data.field(r.field),c=jv(r.transform,o||null);c!=null&&(i===null&&(i=Xn.empty()),i.set(r.field,c))}return i||null}function c0(a,e){return a.type===e.type&&!!a.key.isEqual(e.key)&&!!a.precondition.isEqual(e.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&kr(r,o,((c,d)=>Cx(c,d)))})(a.fieldTransforms,e.fieldTransforms)&&(a.type===0?a.value.isEqual(e.value):a.type!==1||a.data.isEqual(e.data)&&a.fieldMask.isEqual(e.fieldMask))}class Eo extends Dc{constructor(e,i,r,o=[]){super(),this.key=e,this.value=i,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ka extends Dc{constructor(e,i,r,o,c=[]){super(),this.key=e,this.data=i,this.fieldMask=r,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function Bv(a){const e=new Map;return a.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const r=a.data.field(i);e.set(i,r)}})),e}function h0(a,e,i){const r=new Map;$t(a.length===i.length,32656,{Ve:i.length,de:a.length});for(let o=0;o<i.length;o++){const c=a[o],d=c.transform,g=e.data.field(c.field);r.set(c.field,Ax(d,g,i[o]))}return r}function f0(a,e,i){const r=new Map;for(const o of a){const c=o.transform,d=i.data.field(o.field);r.set(o.field,Sx(c,d,e))}return r}class Pv extends Dc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Ix extends Dc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vx{constructor(e,i,r,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,i){const r=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&Nx(c,e,r[o])}}applyToLocalView(e,i){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(i=ao(r,e,i,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(i=ao(r,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const r=Ov();return this.mutations.forEach((o=>{const c=e.get(o.key),d=c.overlayedDocument;let g=this.applyToLocalView(d,c.mutatedFields);g=i.has(o.key)?null:g;const y=Uv(d,g);y!==null&&r.set(o.key,y),d.isValidDocument()||d.convertToNoDocument(Rt.min())})),r}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),Pt())}isEqual(e){return this.batchId===e.batchId&&kr(this.mutations,e.mutations,((i,r)=>c0(i,r)))&&kr(this.baseMutations,e.baseMutations,((i,r)=>c0(i,r)))}}class Nd{constructor(e,i,r,o){this.batch=e,this.commitVersion=i,this.mutationResults=r,this.docVersions=o}static from(e,i,r){$t(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let o=(function(){return _x})();const c=e.mutations;for(let d=0;d<c.length;d++)o=o.insert(c[d].key,r[d].version);return new Nd(e,i,r,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ox{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mx{constructor(e,i){this.count=e,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Le,Ht;function jx(a){switch(a){case rt.OK:return wt(64938);case rt.CANCELLED:case rt.UNKNOWN:case rt.DEADLINE_EXCEEDED:case rt.RESOURCE_EXHAUSTED:case rt.INTERNAL:case rt.UNAVAILABLE:case rt.UNAUTHENTICATED:return!1;case rt.INVALID_ARGUMENT:case rt.NOT_FOUND:case rt.ALREADY_EXISTS:case rt.PERMISSION_DENIED:case rt.FAILED_PRECONDITION:case rt.ABORTED:case rt.OUT_OF_RANGE:case rt.UNIMPLEMENTED:case rt.DATA_LOSS:return!0;default:return wt(15467,{code:a})}}function qv(a){if(a===void 0)return rs("GRPC error has no .code"),rt.UNKNOWN;switch(a){case Le.OK:return rt.OK;case Le.CANCELLED:return rt.CANCELLED;case Le.UNKNOWN:return rt.UNKNOWN;case Le.DEADLINE_EXCEEDED:return rt.DEADLINE_EXCEEDED;case Le.RESOURCE_EXHAUSTED:return rt.RESOURCE_EXHAUSTED;case Le.INTERNAL:return rt.INTERNAL;case Le.UNAVAILABLE:return rt.UNAVAILABLE;case Le.UNAUTHENTICATED:return rt.UNAUTHENTICATED;case Le.INVALID_ARGUMENT:return rt.INVALID_ARGUMENT;case Le.NOT_FOUND:return rt.NOT_FOUND;case Le.ALREADY_EXISTS:return rt.ALREADY_EXISTS;case Le.PERMISSION_DENIED:return rt.PERMISSION_DENIED;case Le.FAILED_PRECONDITION:return rt.FAILED_PRECONDITION;case Le.ABORTED:return rt.ABORTED;case Le.OUT_OF_RANGE:return rt.OUT_OF_RANGE;case Le.UNIMPLEMENTED:return rt.UNIMPLEMENTED;case Le.DATA_LOSS:return rt.DATA_LOSS;default:return wt(39323,{code:a})}}(Ht=Le||(Le={}))[Ht.OK=0]="OK",Ht[Ht.CANCELLED=1]="CANCELLED",Ht[Ht.UNKNOWN=2]="UNKNOWN",Ht[Ht.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ht[Ht.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ht[Ht.NOT_FOUND=5]="NOT_FOUND",Ht[Ht.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ht[Ht.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ht[Ht.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ht[Ht.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ht[Ht.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ht[Ht.ABORTED=10]="ABORTED",Ht[Ht.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ht[Ht.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ht[Ht.INTERNAL=13]="INTERNAL",Ht[Ht.UNAVAILABLE=14]="UNAVAILABLE",Ht[Ht.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lx(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kx=new Gs([4294967295,4294967295],0);function d0(a){const e=Lx().encode(a),i=new sv;return i.update(e),new Uint8Array(i.digest())}function m0(a){const e=new DataView(a.buffer),i=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new Gs([i,r],0),new Gs([o,c],0)]}class Dd{constructor(e,i,r){if(this.bitmap=e,this.padding=i,this.hashCount=r,i<0||i>=8)throw new Wl(`Invalid padding: ${i}`);if(r<0)throw new Wl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Wl(`Invalid hash count: ${r}`);if(e.length===0&&i!==0)throw new Wl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=Gs.fromNumber(this.ge)}ye(e,i,r){let o=e.add(i.multiply(Gs.fromNumber(r)));return o.compare(kx)===1&&(o=new Gs([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=d0(e),[r,o]=m0(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(r,o,c);if(!this.we(d))return!1}return!0}static create(e,i,r){const o=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),d=new Dd(c,o,i);return r.forEach((g=>d.insert(g))),d}insert(e){if(this.ge===0)return;const i=d0(e),[r,o]=m0(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(r,o,c);this.be(d)}}be(e){const i=Math.floor(e/8),r=e%8;this.bitmap[i]|=1<<r}}class Wl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ic{constructor(e,i,r,o,c){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,i,r){const o=new Map;return o.set(e,To.createSynthesizedTargetChangeForCurrentChange(e,i,r)),new Ic(Rt.min(),o,new ve(Bt),ls(),Pt())}}class To{constructor(e,i,r,o,c){this.resumeToken=e,this.current=i,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,i,r){return new To(r,i,Pt(),Pt(),Pt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ic{constructor(e,i,r,o){this.Se=e,this.removedTargetIds=i,this.key=r,this.De=o}}class Hv{constructor(e,i){this.targetId=e,this.Ce=i}}class Fv{constructor(e,i,r=en.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=r,this.cause=o}}class g0{constructor(){this.ve=0,this.Fe=p0(),this.Me=en.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Pt(),i=Pt(),r=Pt();return this.Fe.forEach(((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:r=r.add(o);break;default:wt(38017,{changeType:c})}})),new To(this.Me,this.xe,e,i,r)}Ke(){this.Oe=!1,this.Fe=p0()}qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,$t(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class zx{constructor(e){this.Ge=e,this.ze=new Map,this.je=ls(),this.He=Zu(),this.Je=Zu(),this.Ze=new ve(Bt)}Xe(e){for(const i of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const r=this.nt(i);switch(e.state){case 0:this.rt(i)&&r.Le(e.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(e.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(r.Qe(),r.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),r.Le(e.resumeToken));break;default:wt(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((r,o)=>{this.rt(o)&&i(o)}))}st(e){const i=e.targetId,r=e.Ce.count,o=this.ot(i);if(o){const c=o.target;if(sd(c))if(r===0){const d=new St(c.path);this.et(i,d,rn.newNoDocument(d,Rt.min()))}else $t(r===1,20013,{expectedCount:r});else{const d=this._t(i);if(d!==r){const g=this.ut(e),y=g?this.ct(g,e,d):1;if(y!==0){this.it(i);const v=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(i,v)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:c=0}=i;let d,g;try{d=Zs(r).toUint8Array()}catch(y){if(y instanceof gv)return Lr("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{g=new Dd(d,o,c)}catch(y){return Lr(y instanceof Wl?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return g.ge===0?null:g}ct(e,i,r){return i.Ce.count===r-this.Pt(e,i.targetId)?0:2}Pt(e,i){const r=this.Ge.getRemoteKeysForTarget(i);let o=0;return r.forEach((c=>{const d=this.Ge.ht(),g=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;e.mightContain(g)||(this.et(i,c,null),o++)})),o}Tt(e){const i=new Map;this.ze.forEach(((c,d)=>{const g=this.ot(d);if(g){if(c.current&&sd(g.target)){const y=new St(g.target.path);this.It(y).has(d)||this.Et(d,y)||this.et(d,y,rn.newNoDocument(y,e))}c.Be&&(i.set(d,c.ke()),c.Ke())}}));let r=Pt();this.Je.forEach(((c,d)=>{let g=!0;d.forEachWhile((y=>{const v=this.ot(y);return!v||v.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(r=r.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(e)));const o=new Ic(e,i,this.Ze,this.je,r);return this.je=ls(),this.He=Zu(),this.Je=Zu(),this.Ze=new ve(Bt),o}Ye(e,i){if(!this.rt(e))return;const r=this.Et(e,i.key)?2:0;this.nt(e).qe(i.key,r),this.je=this.je.insert(i.key,i),this.He=this.He.insert(i.key,this.It(i.key).add(e)),this.Je=this.Je.insert(i.key,this.Rt(i.key).add(e))}et(e,i,r){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,i)?o.qe(i,1):o.Ue(i),this.Je=this.Je.insert(i,this.Rt(i).delete(e)),this.Je=this.Je.insert(i,this.Rt(i).add(e)),r&&(this.je=this.je.insert(i,r))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let i=this.ze.get(e);return i||(i=new g0,this.ze.set(e,i)),i}Rt(e){let i=this.Je.get(e);return i||(i=new Pe(Bt),this.Je=this.Je.insert(e,i)),i}It(e){let i=this.He.get(e);return i||(i=new Pe(Bt),this.He=this.He.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||gt("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new g0),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function Zu(){return new ve(St.comparator)}function p0(){return new ve(St.comparator)}const Ux={asc:"ASCENDING",desc:"DESCENDING"},Bx={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Px={and:"AND",or:"OR"};class qx{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function rd(a,e){return a.useProto3Json||xc(e)?e:{value:e}}function pc(a,e){return a.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Gv(a,e){return a.useProto3Json?e.toBase64():e.toUint8Array()}function Hx(a,e){return pc(a,e.toTimestamp())}function Ii(a){return $t(!!a,49232),Rt.fromTimestamp((function(i){const r=Xs(i);return new de(r.seconds,r.nanos)})(a))}function Id(a,e){return ld(a,e).canonicalString()}function ld(a,e){const i=(function(o){return new ye(["projects",o.projectId,"databases",o.database])})(a).child("documents");return e===void 0?i:i.child(e)}function Qv(a){const e=ye.fromString(a);return $t(Jv(e),10190,{key:e.toString()}),e}function od(a,e){return Id(a.databaseId,e.path)}function Ff(a,e){const i=Qv(e);if(i.get(1)!==a.databaseId.projectId)throw new Et(rt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+a.databaseId.projectId);if(i.get(3)!==a.databaseId.database)throw new Et(rt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+a.databaseId.database);return new St(Kv(i))}function Yv(a,e){return Id(a.databaseId,e)}function Fx(a){const e=Qv(a);return e.length===4?ye.emptyPath():Kv(e)}function ud(a){return new ye(["projects",a.databaseId.projectId,"databases",a.databaseId.database]).canonicalString()}function Kv(a){return $t(a.length>4&&a.get(4)==="documents",29091,{key:a.toString()}),a.popFirst(5)}function y0(a,e,i){return{name:od(a,e),fields:i.value.mapValue.fields}}function Gx(a,e){let i;if("targetChange"in e){e.targetChange;const r=(function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:wt(39313,{state:v})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],c=(function(v,T){return v.useProto3Json?($t(T===void 0||typeof T=="string",58123),en.fromBase64String(T||"")):($t(T===void 0||T instanceof Buffer||T instanceof Uint8Array,16193),en.fromUint8Array(T||new Uint8Array))})(a,e.targetChange.resumeToken),d=e.targetChange.cause,g=d&&(function(v){const T=v.code===void 0?rt.UNKNOWN:qv(v.code);return new Et(T,v.message||"")})(d);i=new Fv(r,o,c,g||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const o=Ff(a,r.document.name),c=Ii(r.document.updateTime),d=r.document.createTime?Ii(r.document.createTime):Rt.min(),g=new Xn({mapValue:{fields:r.document.fields}}),y=rn.newFoundDocument(o,c,d,g),v=r.targetIds||[],T=r.removedTargetIds||[];i=new ic(v,T,y.key,y)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const o=Ff(a,r.document),c=r.readTime?Ii(r.readTime):Rt.min(),d=rn.newNoDocument(o,c),g=r.removedTargetIds||[];i=new ic([],g,d.key,d)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const o=Ff(a,r.document),c=r.removedTargetIds||[];i=new ic([],c,o,null)}else{if(!("filter"in e))return wt(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:o=0,unchangedNames:c}=r,d=new Mx(o,c),g=r.targetId;i=new Hv(g,d)}}return i}function Qx(a,e){let i;if(e instanceof Eo)i={update:y0(a,e.key,e.value)};else if(e instanceof Pv)i={delete:od(a,e.key)};else if(e instanceof ka)i={update:y0(a,e.key,e.data),updateMask:eS(e.fieldMask)};else{if(!(e instanceof Ix))return wt(16599,{dt:e.type});i={verify:od(a,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((r=>(function(c,d){const g=d.transform;if(g instanceof go)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof po)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof yo)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof gc)return{fieldPath:d.field.canonicalString(),increment:g.Ae};throw wt(20930,{transform:d.transform})})(0,r)))),e.precondition.isNone||(i.currentDocument=(function(o,c){return c.updateTime!==void 0?{updateTime:Hx(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:wt(27497)})(a,e.precondition)),i}function Yx(a,e){return a&&a.length>0?($t(e!==void 0,14353),a.map((i=>(function(o,c){let d=o.updateTime?Ii(o.updateTime):Ii(c);return d.isEqual(Rt.min())&&(d=Ii(c)),new Rx(d,o.transformResults||[])})(i,e)))):[]}function Kx(a,e){return{documents:[Yv(a,e.path)]}}function Xx(a,e){const i={structuredQuery:{}},r=e.path;let o;e.collectionGroup!==null?(o=r,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=r.popLast(),i.structuredQuery.from=[{collectionId:r.lastSegment()}]),i.parent=Yv(a,o);const c=(function(v){if(v.length!==0)return Zv(Mi.create(v,"and"))})(e.filters);c&&(i.structuredQuery.where=c);const d=(function(v){if(v.length!==0)return v.map((T=>(function(C){return{field:Nr(C.field),direction:$x(C.dir)}})(T)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const g=rd(a,e.limit);return g!==null&&(i.structuredQuery.limit=g),e.startAt&&(i.structuredQuery.startAt=(function(v){return{before:v.inclusive,values:v.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(v){return{before:!v.inclusive,values:v.position}})(e.endAt)),{ft:i,parent:o}}function Zx(a){let e=Fx(a.parent);const i=a.structuredQuery,r=i.from?i.from.length:0;let o=null;if(r>0){$t(r===1,65062);const T=i.from[0];T.allDescendants?o=T.collectionId:e=e.child(T.collectionId)}let c=[];i.where&&(c=(function(S){const C=Xv(S);return C instanceof Mi&&Av(C)?C.getFilters():[C]})(i.where));let d=[];i.orderBy&&(d=(function(S){return S.map((C=>(function(U){return new mc(Dr(U.field),(function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(U.direction))})(C)))})(i.orderBy));let g=null;i.limit&&(g=(function(S){let C;return C=typeof S=="object"?S.value:S,xc(C)?null:C})(i.limit));let y=null;i.startAt&&(y=(function(S){const C=!!S.before,M=S.values||[];return new dc(M,C)})(i.startAt));let v=null;return i.endAt&&(v=(function(S){const C=!S.before,M=S.values||[];return new dc(M,C)})(i.endAt)),fx(e,o,d,c,g,"F",y,v)}function Jx(a,e){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return wt(28987,{purpose:o})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function Xv(a){return a.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const r=Dr(i.unaryFilter.field);return Ue.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=Dr(i.unaryFilter.field);return Ue.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Dr(i.unaryFilter.field);return Ue.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Dr(i.unaryFilter.field);return Ue.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return wt(61313);default:return wt(60726)}})(a):a.fieldFilter!==void 0?(function(i){return Ue.create(Dr(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return wt(58110);default:return wt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(a):a.compositeFilter!==void 0?(function(i){return Mi.create(i.compositeFilter.filters.map((r=>Xv(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return wt(1026)}})(i.compositeFilter.op))})(a):wt(30097,{filter:a})}function $x(a){return Ux[a]}function Wx(a){return Bx[a]}function tS(a){return Px[a]}function Nr(a){return{fieldPath:a.canonicalString()}}function Dr(a){return tn.fromServerFormat(a.fieldPath)}function Zv(a){return a instanceof Ue?(function(i){if(i.op==="=="){if(s0(i.value))return{unaryFilter:{field:Nr(i.field),op:"IS_NAN"}};if(i0(i.value))return{unaryFilter:{field:Nr(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(s0(i.value))return{unaryFilter:{field:Nr(i.field),op:"IS_NOT_NAN"}};if(i0(i.value))return{unaryFilter:{field:Nr(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Nr(i.field),op:Wx(i.op),value:i.value}}})(a):a instanceof Mi?(function(i){const r=i.getFilters().map((o=>Zv(o)));return r.length===1?r[0]:{compositeFilter:{op:tS(i.op),filters:r}}})(a):wt(54877,{filter:a})}function eS(a){const e=[];return a.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function Jv(a){return a.length>=4&&a.get(0)==="projects"&&a.get(2)==="databases"}function $v(a){return!!a&&typeof a._toProto=="function"&&a._protoValueType==="ProtoValue"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs{constructor(e,i,r,o,c=Rt.min(),d=Rt.min(),g=en.EMPTY_BYTE_STRING,y=null){this.target=e,this.targetId=i,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=y}withSequenceNumber(e){return new qs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new qs(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new qs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new qs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nS{constructor(e){this.yt=e}}function iS(a){const e=Zx({parent:a.parent,structuredQuery:a.structuredQuery});return a.limitType==="LAST"?ad(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sS{constructor(){this.Sn=new aS}addToCollectionParentIndex(e,i){return this.Sn.add(i),at.resolve()}getCollectionParents(e,i){return at.resolve(this.Sn.getEntries(i))}addFieldIndex(e,i){return at.resolve()}deleteFieldIndex(e,i){return at.resolve()}deleteAllFieldIndexes(e){return at.resolve()}createTargetIndexes(e,i){return at.resolve()}getDocumentsMatchingTarget(e,i){return at.resolve(null)}getIndexType(e,i){return at.resolve(0)}getFieldIndexes(e,i){return at.resolve([])}getNextCollectionGroupToUpdate(e){return at.resolve(null)}getMinOffset(e,i){return at.resolve(Ks.min())}getMinOffsetFromCollectionGroup(e,i){return at.resolve(Ks.min())}updateCollectionGroup(e,i,r){return at.resolve()}updateIndexEntries(e,i){return at.resolve()}}class aS{constructor(){this.index={}}add(e){const i=e.lastSegment(),r=e.popLast(),o=this.index[i]||new Pe(ye.comparator),c=!o.has(r);return this.index[i]=o.add(r),c}has(e){const i=e.lastSegment(),r=e.popLast(),o=this.index[i];return o&&o.has(r)}getEntries(e){return(this.index[e]||new Pe(ye.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Wv=41943040;class Tn{static withCacheSize(e){return new Tn(e,Tn.DEFAULT_COLLECTION_PERCENTILE,Tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Tn.DEFAULT_COLLECTION_PERCENTILE=10,Tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Tn.DEFAULT=new Tn(Wv,Tn.DEFAULT_COLLECTION_PERCENTILE,Tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Tn.DISABLED=new Tn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new Br(0)}static ar(){return new Br(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _0="LruGarbageCollector",rS=1048576;function b0([a,e],[i,r]){const o=Bt(a,i);return o===0?Bt(e,r):o}class lS{constructor(e){this.Pr=e,this.buffer=new Pe(b0),this.Tr=0}Ir(){return++this.Tr}Er(e){const i=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(i);else{const r=this.buffer.last();b0(i,r)<0&&(this.buffer=this.buffer.delete(r).add(i))}}get maxValue(){return this.buffer.last()[0]}}class oS{constructor(e,i,r){this.garbageCollector=e,this.asyncQueue=i,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){gt(_0,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Gr(i)?gt(_0,"Ignoring IndexedDB error during garbage collection: ",i):await Fr(i)}await this.Ar(3e5)}))}}class uS{constructor(e,i){this.Vr=e,this.params=i}calculateTargetCount(e,i){return this.Vr.dr(e).next((r=>Math.floor(i/100*r)))}nthSequenceNumber(e,i){if(i===0)return at.resolve(Tc.ce);const r=new lS(i);return this.Vr.forEachTarget(e,(o=>r.Er(o.sequenceNumber))).next((()=>this.Vr.mr(e,(o=>r.Er(o))))).next((()=>r.maxValue))}removeTargets(e,i,r){return this.Vr.removeTargets(e,i,r)}removeOrphanedDocuments(e,i){return this.Vr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(gt("LruGarbageCollector","Garbage collection skipped; disabled"),at.resolve(v0)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(gt("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),v0):this.gr(e,i)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,i){let r,o,c,d,g,y,v;const T=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(gt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),o=this.params.maximumSequenceNumbersToCollect):o=S,d=Date.now(),this.nthSequenceNumber(e,o)))).next((S=>(r=S,g=Date.now(),this.removeTargets(e,r,i)))).next((S=>(c=S,y=Date.now(),this.removeOrphanedDocuments(e,r)))).next((S=>(v=Date.now(),Cr()<=Ft.DEBUG&&gt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-T}ms
	Determined least recently used ${o} in `+(g-d)+`ms
	Removed ${c} targets in `+(y-g)+`ms
	Removed ${S} documents in `+(v-y)+`ms
Total Duration: ${v-T}ms`),at.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:S}))))}}function cS(a,e){return new uS(a,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hS{constructor(){this.changes=new La((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,rn.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const r=this.changes.get(i);return r!==void 0?at.resolve(r):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fS{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dS{constructor(e,i,r,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,i){let r=null;return this.documentOverlayCache.getOverlay(e,i).next((o=>(r=o,this.remoteDocumentCache.getEntry(e,i)))).next((o=>(r!==null&&ao(r.mutation,o,ui.empty(),de.now()),o)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((r=>this.getLocalViewOfDocuments(e,r,Pt()).next((()=>r))))}getLocalViewOfDocuments(e,i,r=Pt()){const o=Ia();return this.populateOverlays(e,o,i).next((()=>this.computeViews(e,i,o,r).next((c=>{let d=$l();return c.forEach(((g,y)=>{d=d.insert(g,y.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const r=Ia();return this.populateOverlays(e,r,i).next((()=>this.computeViews(e,i,r,Pt())))}populateOverlays(e,i,r){const o=[];return r.forEach((c=>{i.has(c)||o.push(c)})),this.documentOverlayCache.getOverlays(e,o).next((c=>{c.forEach(((d,g)=>{i.set(d,g)}))}))}computeViews(e,i,r,o){let c=ls();const d=so(),g=(function(){return so()})();return i.forEach(((y,v)=>{const T=r.get(v.key);o.has(v.key)&&(T===void 0||T.mutation instanceof ka)?c=c.insert(v.key,v):T!==void 0?(d.set(v.key,T.mutation.getFieldMask()),ao(T.mutation,v,T.mutation.getFieldMask(),de.now())):d.set(v.key,ui.empty())})),this.recalculateAndSaveOverlays(e,c).next((y=>(y.forEach(((v,T)=>d.set(v,T))),i.forEach(((v,T)=>g.set(v,new fS(T,d.get(v)??null)))),g)))}recalculateAndSaveOverlays(e,i){const r=so();let o=new ve(((d,g)=>d-g)),c=Pt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const g of d)g.keys().forEach((y=>{const v=i.get(y);if(v===null)return;let T=r.get(y)||ui.empty();T=g.applyToLocalView(v,T),r.set(y,T);const S=(o.get(g.batchId)||Pt()).add(y);o=o.insert(g.batchId,S)}))})).next((()=>{const d=[],g=o.getReverseIterator();for(;g.hasNext();){const y=g.getNext(),v=y.key,T=y.value,S=Ov();T.forEach((C=>{if(!c.has(C)){const M=Uv(i.get(C),r.get(C));M!==null&&S.set(C,M),c=c.add(C)}})),d.push(this.documentOverlayCache.saveOverlays(e,v,S))}return at.waitFor(d)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,i,r,o){return dx(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):mx(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,r,o):this.getDocumentsMatchingCollectionQuery(e,i,r,o)}getNextDocuments(e,i,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,r,o).next((c=>{const d=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,r.largestBatchId,o-c.size):at.resolve(Ia());let g=co,y=c;return d.next((v=>at.forEach(v,((T,S)=>(g<S.largestBatchId&&(g=S.largestBatchId),c.get(T)?at.resolve():this.remoteDocumentCache.getEntry(e,T).next((C=>{y=y.insert(T,C)}))))).next((()=>this.populateOverlays(e,v,c))).next((()=>this.computeViews(e,y,v,Pt()))).next((T=>({batchId:g,changes:Vv(T)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new St(i)).next((r=>{let o=$l();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(e,i,r,o){const c=i.collectionGroup;let d=$l();return this.indexManager.getCollectionParents(e,c).next((g=>at.forEach(g,(y=>{const v=(function(S,C){return new Ac(C,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(i,y.child(c));return this.getDocumentsMatchingCollectionQuery(e,v,r,o).next((T=>{T.forEach(((S,C)=>{d=d.insert(S,C)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,r,o){let c;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,r.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,r,c,o)))).next((d=>{c.forEach(((y,v)=>{const T=v.getKey();d.get(T)===null&&(d=d.insert(T,rn.newInvalidDocument(T)))}));let g=$l();return d.forEach(((y,v)=>{const T=c.get(y);T!==void 0&&ao(T.mutation,v,ui.empty(),de.now()),Rc(i,v)&&(g=g.insert(y,v))})),g}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mS{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,i){return at.resolve(this.Nr.get(i))}saveBundleMetadata(e,i){return this.Nr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:Ii(o.createTime)}})(i)),at.resolve()}getNamedQuery(e,i){return at.resolve(this.Br.get(i))}saveNamedQuery(e,i){return this.Br.set(i.name,(function(o){return{name:o.name,query:iS(o.bundledQuery),readTime:Ii(o.readTime)}})(i)),at.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gS{constructor(){this.overlays=new ve(St.comparator),this.Lr=new Map}getOverlay(e,i){return at.resolve(this.overlays.get(i))}getOverlays(e,i){const r=Ia();return at.forEach(i,(o=>this.getOverlay(e,o).next((c=>{c!==null&&r.set(o,c)})))).next((()=>r))}saveOverlays(e,i,r){return r.forEach(((o,c)=>{this.bt(e,i,c)})),at.resolve()}removeOverlaysForBatchId(e,i,r){const o=this.Lr.get(r);return o!==void 0&&(o.forEach((c=>this.overlays=this.overlays.remove(c))),this.Lr.delete(r)),at.resolve()}getOverlaysForCollection(e,i,r){const o=Ia(),c=i.length+1,d=new St(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const y=g.getNext().value,v=y.getKey();if(!i.isPrefixOf(v.path))break;v.path.length===c&&y.largestBatchId>r&&o.set(y.getKey(),y)}return at.resolve(o)}getOverlaysForCollectionGroup(e,i,r,o){let c=new ve(((v,T)=>v-T));const d=this.overlays.getIterator();for(;d.hasNext();){const v=d.getNext().value;if(v.getKey().getCollectionGroup()===i&&v.largestBatchId>r){let T=c.get(v.largestBatchId);T===null&&(T=Ia(),c=c.insert(v.largestBatchId,T)),T.set(v.getKey(),v)}}const g=Ia(),y=c.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach(((v,T)=>g.set(v,T))),!(g.size()>=o)););return at.resolve(g)}bt(e,i,r){const o=this.overlays.get(r.key);if(o!==null){const d=this.Lr.get(o.largestBatchId).delete(r.key);this.Lr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new Ox(i,r));let c=this.Lr.get(i);c===void 0&&(c=Pt(),this.Lr.set(i,c)),this.Lr.set(i,c.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pS{constructor(){this.sessionToken=en.EMPTY_BYTE_STRING}getSessionToken(e){return at.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,at.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vd{constructor(){this.kr=new Pe(Qe.Kr),this.qr=new Pe(Qe.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,i){const r=new Qe(e,i);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(e,i){e.forEach((r=>this.addReference(r,i)))}removeReference(e,i){this.Wr(new Qe(e,i))}Qr(e,i){e.forEach((r=>this.removeReference(r,i)))}Gr(e){const i=new St(new ye([])),r=new Qe(i,e),o=new Qe(i,e+1),c=[];return this.qr.forEachInRange([r,o],(d=>{this.Wr(d),c.push(d.key)})),c}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const i=new St(new ye([])),r=new Qe(i,e),o=new Qe(i,e+1);let c=Pt();return this.qr.forEachInRange([r,o],(d=>{c=c.add(d.key)})),c}containsKey(e){const i=new Qe(e,0),r=this.kr.firstAfterOrEqual(i);return r!==null&&e.isEqual(r.key)}}class Qe{constructor(e,i){this.key=e,this.Hr=i}static Kr(e,i){return St.comparator(e.key,i.key)||Bt(e.Hr,i.Hr)}static Ur(e,i){return Bt(e.Hr,i.Hr)||St.comparator(e.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yS{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.Yn=1,this.Jr=new Pe(Qe.Kr)}checkEmpty(e){return at.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,r,o){const c=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new Vx(c,i,r,o);this.mutationQueue.push(d);for(const g of o)this.Jr=this.Jr.add(new Qe(g.key,c)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return at.resolve(d)}lookupMutationBatch(e,i){return at.resolve(this.Zr(i))}getNextMutationBatchAfterBatchId(e,i){const r=i+1,o=this.Xr(r),c=o<0?0:o;return at.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return at.resolve(this.mutationQueue.length===0?xd:this.Yn-1)}getAllMutationBatches(e){return at.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const r=new Qe(i,0),o=new Qe(i,Number.POSITIVE_INFINITY),c=[];return this.Jr.forEachInRange([r,o],(d=>{const g=this.Zr(d.Hr);c.push(g)})),at.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,i){let r=new Pe(Bt);return i.forEach((o=>{const c=new Qe(o,0),d=new Qe(o,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([c,d],(g=>{r=r.add(g.Hr)}))})),at.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(e,i){const r=i.path,o=r.length+1;let c=r;St.isDocumentKey(c)||(c=c.child(""));const d=new Qe(new St(c),0);let g=new Pe(Bt);return this.Jr.forEachWhile((y=>{const v=y.key.path;return!!r.isPrefixOf(v)&&(v.length===o&&(g=g.add(y.Hr)),!0)}),d),at.resolve(this.Yr(g))}Yr(e){const i=[];return e.forEach((r=>{const o=this.Zr(r);o!==null&&i.push(o)})),i}removeMutationBatch(e,i){$t(this.ei(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return at.forEach(i.mutations,(o=>{const c=new Qe(o.key,i.batchId);return r=r.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Jr=r}))}nr(e){}containsKey(e,i){const r=new Qe(i,0),o=this.Jr.firstAfterOrEqual(r);return at.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,at.resolve()}ei(e,i){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const i=this.Xr(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vS{constructor(e){this.ti=e,this.docs=(function(){return new ve(St.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const r=i.key,o=this.docs.get(r),c=o?o.size:0,d=this.ti(i);return this.docs=this.docs.insert(r,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const r=this.docs.get(i);return at.resolve(r?r.document.mutableCopy():rn.newInvalidDocument(i))}getEntries(e,i){let r=ls();return i.forEach((o=>{const c=this.docs.get(o);r=r.insert(o,c?c.document.mutableCopy():rn.newInvalidDocument(o))})),at.resolve(r)}getDocumentsMatchingQuery(e,i,r,o){let c=ls();const d=i.path,g=new St(d.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(g);for(;y.hasNext();){const{key:v,value:{document:T}}=y.getNext();if(!d.isPrefixOf(v.path))break;v.path.length>d.length+1||HT(qT(T),r)<=0||(o.has(T.key)||Rc(i,T))&&(c=c.insert(T.key,T.mutableCopy()))}return at.resolve(c)}getAllFromCollectionGroup(e,i,r,o){wt(9500)}ni(e,i){return at.forEach(this.docs,(r=>i(r)))}newChangeBuffer(e){return new _S(this)}getSize(e){return at.resolve(this.size)}}class _S extends hS{constructor(e){super(),this.Mr=e}applyChanges(e){const i=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?i.push(this.Mr.addEntry(e,o)):this.Mr.removeEntry(r)})),at.waitFor(i)}getFromCache(e,i){return this.Mr.getEntry(e,i)}getAllFromCache(e,i){return this.Mr.getEntries(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bS{constructor(e){this.persistence=e,this.ri=new La((i=>wd(i)),Cd),this.lastRemoteSnapshotVersion=Rt.min(),this.highestTargetId=0,this.ii=0,this.si=new Vd,this.targetCount=0,this.oi=Br._r()}forEachTarget(e,i){return this.ri.forEach(((r,o)=>i(o))),at.resolve()}getLastRemoteSnapshotVersion(e){return at.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return at.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),at.resolve(this.highestTargetId)}setTargetsMetadata(e,i,r){return r&&(this.lastRemoteSnapshotVersion=r),i>this.ii&&(this.ii=i),at.resolve()}lr(e){this.ri.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.oi=new Br(i),this.highestTargetId=i),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,i){return this.lr(i),this.targetCount+=1,at.resolve()}updateTargetData(e,i){return this.lr(i),at.resolve()}removeTargetData(e,i){return this.ri.delete(i.target),this.si.Gr(i.targetId),this.targetCount-=1,at.resolve()}removeTargets(e,i,r){let o=0;const c=[];return this.ri.forEach(((d,g)=>{g.sequenceNumber<=i&&r.get(g.targetId)===null&&(this.ri.delete(d),c.push(this.removeMatchingKeysForTargetId(e,g.targetId)),o++)})),at.waitFor(c).next((()=>o))}getTargetCount(e){return at.resolve(this.targetCount)}getTargetData(e,i){const r=this.ri.get(i)||null;return at.resolve(r)}addMatchingKeys(e,i,r){return this.si.$r(i,r),at.resolve()}removeMatchingKeys(e,i,r){this.si.Qr(i,r);const o=this.persistence.referenceDelegate,c=[];return o&&i.forEach((d=>{c.push(o.markPotentiallyOrphaned(e,d))})),at.waitFor(c)}removeMatchingKeysForTargetId(e,i){return this.si.Gr(i),at.resolve()}getMatchingKeysForTargetId(e,i){const r=this.si.jr(i);return at.resolve(r)}containsKey(e,i){return at.resolve(this.si.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t_{constructor(e,i){this._i={},this.overlays={},this.ai=new Tc(0),this.ui=!1,this.ui=!0,this.ci=new pS,this.referenceDelegate=e(this),this.li=new bS(this),this.indexManager=new sS,this.remoteDocumentCache=(function(o){return new vS(o)})((r=>this.referenceDelegate.hi(r))),this.serializer=new nS(i),this.Pi=new mS(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new gS,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let r=this._i[e.toKey()];return r||(r=new yS(i,this.referenceDelegate),this._i[e.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,i,r){gt("MemoryPersistence","Starting transaction:",e);const o=new ES(this.ai.next());return this.referenceDelegate.Ti(),r(o).next((c=>this.referenceDelegate.Ii(o).next((()=>c)))).toPromise().then((c=>(o.raiseOnCommittedEvent(),c)))}Ei(e,i){return at.or(Object.values(this._i).map((r=>()=>r.containsKey(e,i))))}}class ES extends GT{constructor(e){super(),this.currentSequenceNumber=e}}class Od{constructor(e){this.persistence=e,this.Ri=new Vd,this.Ai=null}static Vi(e){return new Od(e)}get di(){if(this.Ai)return this.Ai;throw wt(60996)}addReference(e,i,r){return this.Ri.addReference(r,i),this.di.delete(r.toString()),at.resolve()}removeReference(e,i,r){return this.Ri.removeReference(r,i),this.di.add(r.toString()),at.resolve()}markPotentiallyOrphaned(e,i){return this.di.add(i.toString()),at.resolve()}removeTarget(e,i){this.Ri.Gr(i.targetId).forEach((o=>this.di.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,i.targetId).next((o=>{o.forEach((c=>this.di.add(c.toString())))})).next((()=>r.removeTargetData(e,i)))}Ti(){this.Ai=new Set}Ii(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return at.forEach(this.di,(r=>{const o=St.fromPath(r);return this.mi(e,o).next((c=>{c||i.removeEntry(o,Rt.min())}))})).next((()=>(this.Ai=null,i.apply(e))))}updateLimboDocument(e,i){return this.mi(e,i).next((r=>{r?this.di.delete(i.toString()):this.di.add(i.toString())}))}hi(e){return 0}mi(e,i){return at.or([()=>at.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ei(e,i)])}}class yc{constructor(e,i){this.persistence=e,this.fi=new La((r=>KT(r.path)),((r,o)=>r.isEqual(o))),this.garbageCollector=cS(this,i)}static Vi(e,i){return new yc(e,i)}Ti(){}Ii(e){return at.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}dr(e){const i=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>i.next((o=>r+o))))}pr(e){let i=0;return this.mr(e,(r=>{i++})).next((()=>i))}mr(e,i){return at.forEach(this.fi,((r,o)=>this.wr(e,r,o).next((c=>c?at.resolve():i(o)))))}removeTargets(e,i,r){return this.persistence.getTargetCache().removeTargets(e,i,r)}removeOrphanedDocuments(e,i){let r=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ni(e,(d=>this.wr(e,d,i).next((g=>{g||(r++,c.removeEntry(d,Rt.min()))})))).next((()=>c.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,i){return this.fi.set(i,e.currentSequenceNumber),at.resolve()}removeTarget(e,i){const r=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,i,r){return this.fi.set(r,e.currentSequenceNumber),at.resolve()}removeReference(e,i,r){return this.fi.set(r,e.currentSequenceNumber),at.resolve()}updateLimboDocument(e,i){return this.fi.set(i,e.currentSequenceNumber),at.resolve()}hi(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=tc(e.data.value)),i}wr(e,i,r){return at.or([()=>this.persistence.Ei(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.fi.get(i);return at.resolve(o!==void 0&&o>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Md{constructor(e,i,r,o){this.targetId=e,this.fromCache=i,this.Ts=r,this.Is=o}static Es(e,i){let r=Pt(),o=Pt();for(const c of i.docChanges)switch(c.type){case 0:r=r.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new Md(e,i.fromCache,r,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TS{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xS{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return c1()?8:QT(o1())>0?6:4})()}initialize(e,i){this.fs=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,r,o){const c={result:null};return this.gs(e,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ps(e,i,o,r).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new TS;return this.ys(e,i,d).next((g=>{if(c.result=g,this.As)return this.ws(e,i,d,g.size)}))})).next((()=>c.result))}ws(e,i,r,o){return r.documentReadCount<this.Vs?(Cr()<=Ft.DEBUG&&gt("QueryEngine","SDK will not create cache indexes for query:",Rr(i),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),at.resolve()):(Cr()<=Ft.DEBUG&&gt("QueryEngine","Query:",Rr(i),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.ds*o?(Cr()<=Ft.DEBUG&&gt("QueryEngine","The SDK decides to create cache indexes for query:",Rr(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Di(i))):at.resolve())}gs(e,i){if(o0(i))return at.resolve(null);let r=Di(i);return this.indexManager.getIndexType(e,r).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=ad(i,null,"F"),r=Di(i)),this.indexManager.getDocumentsMatchingTarget(e,r).next((c=>{const d=Pt(...c);return this.fs.getDocuments(e,d).next((g=>this.indexManager.getMinOffset(e,r).next((y=>{const v=this.bs(i,g);return this.Ss(i,v,d,y.readTime)?this.gs(e,ad(i,null,"F")):this.Ds(e,v,i,y)}))))})))))}ps(e,i,r,o){return o0(i)||o.isEqual(Rt.min())?at.resolve(null):this.fs.getDocuments(e,r).next((c=>{const d=this.bs(i,c);return this.Ss(i,d,r,o)?at.resolve(null):(Cr()<=Ft.DEBUG&&gt("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Rr(i)),this.Ds(e,d,i,PT(o,co)).next((g=>g)))}))}bs(e,i){let r=new Pe(Dv(e));return i.forEach(((o,c)=>{Rc(e,c)&&(r=r.add(c))})),r}Ss(e,i,r,o){if(e.limit===null)return!1;if(r.size!==i.size)return!0;const c=e.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}ys(e,i,r){return Cr()<=Ft.DEBUG&&gt("QueryEngine","Using full collection scan to execute query:",Rr(i)),this.fs.getDocumentsMatchingQuery(e,i,Ks.min(),r)}Ds(e,i,r,o){return this.fs.getDocumentsMatchingQuery(e,r,o).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jd="LocalStore",SS=3e8;class AS{constructor(e,i,r,o){this.persistence=e,this.Cs=i,this.serializer=o,this.vs=new ve(Bt),this.Fs=new La((c=>wd(c)),Cd),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(r)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new dS(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.vs)))}}function wS(a,e,i,r){return new AS(a,e,i,r)}async function e_(a,e){const i=Dt(a);return await i.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return i.mutationQueue.getAllMutationBatches(r).next((c=>(o=c,i.Os(e),i.mutationQueue.getAllMutationBatches(r)))).next((c=>{const d=[],g=[];let y=Pt();for(const v of o){d.push(v.batchId);for(const T of v.mutations)y=y.add(T.key)}for(const v of c){g.push(v.batchId);for(const T of v.mutations)y=y.add(T.key)}return i.localDocuments.getDocuments(r,y).next((v=>({Ns:v,removedBatchIds:d,addedBatchIds:g})))}))}))}function CS(a,e){const i=Dt(a);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const o=e.batch.keys(),c=i.xs.newChangeBuffer({trackRemovals:!0});return(function(g,y,v,T){const S=v.batch,C=S.keys();let M=at.resolve();return C.forEach((U=>{M=M.next((()=>T.getEntry(y,U))).next((tt=>{const k=v.docVersions.get(U);$t(k!==null,48541),tt.version.compareTo(k)<0&&(S.applyToRemoteDocument(tt,v),tt.isValidDocument()&&(tt.setReadTime(v.commitVersion),T.addEntry(tt)))}))})),M.next((()=>g.mutationQueue.removeMutationBatch(y,S)))})(i,r,e,c).next((()=>c.apply(r))).next((()=>i.mutationQueue.performConsistencyCheck(r))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(g){let y=Pt();for(let v=0;v<g.mutationResults.length;++v)g.mutationResults[v].transformResults.length>0&&(y=y.add(g.batch.mutations[v].key));return y})(e)))).next((()=>i.localDocuments.getDocuments(r,o)))}))}function n_(a){const e=Dt(a);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.li.getLastRemoteSnapshotVersion(i)))}function RS(a,e){const i=Dt(a),r=e.snapshotVersion;let o=i.vs;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.xs.newChangeBuffer({trackRemovals:!0});o=i.vs;const g=[];e.targetChanges.forEach(((T,S)=>{const C=o.get(S);if(!C)return;g.push(i.li.removeMatchingKeys(c,T.removedDocuments,S).next((()=>i.li.addMatchingKeys(c,T.addedDocuments,S))));let M=C.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(S)!==null?M=M.withResumeToken(en.EMPTY_BYTE_STRING,Rt.min()).withLastLimboFreeSnapshotVersion(Rt.min()):T.resumeToken.approximateByteSize()>0&&(M=M.withResumeToken(T.resumeToken,r)),o=o.insert(S,M),(function(tt,k,Y){return tt.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-tt.snapshotVersion.toMicroseconds()>=SS?!0:Y.addedDocuments.size+Y.modifiedDocuments.size+Y.removedDocuments.size>0})(C,M,T)&&g.push(i.li.updateTargetData(c,M))}));let y=ls(),v=Pt();if(e.documentUpdates.forEach((T=>{e.resolvedLimboDocuments.has(T)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(c,T))})),g.push(NS(c,d,e.documentUpdates).next((T=>{y=T.Bs,v=T.Ls}))),!r.isEqual(Rt.min())){const T=i.li.getLastRemoteSnapshotVersion(c).next((S=>i.li.setTargetsMetadata(c,c.currentSequenceNumber,r)));g.push(T)}return at.waitFor(g).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,y,v))).next((()=>y))})).then((c=>(i.vs=o,c)))}function NS(a,e,i){let r=Pt(),o=Pt();return i.forEach((c=>r=r.add(c))),e.getEntries(a,r).next((c=>{let d=ls();return i.forEach(((g,y)=>{const v=c.get(g);y.isFoundDocument()!==v.isFoundDocument()&&(o=o.add(g)),y.isNoDocument()&&y.version.isEqual(Rt.min())?(e.removeEntry(g,y.readTime),d=d.insert(g,y)):!v.isValidDocument()||y.version.compareTo(v.version)>0||y.version.compareTo(v.version)===0&&v.hasPendingWrites?(e.addEntry(y),d=d.insert(g,y)):gt(jd,"Ignoring outdated watch update for ",g,". Current version:",v.version," Watch version:",y.version)})),{Bs:d,Ls:o}}))}function DS(a,e){const i=Dt(a);return i.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=xd),i.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function IS(a,e){const i=Dt(a);return i.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return i.li.getTargetData(r,e).next((c=>c?(o=c,at.resolve(o)):i.li.allocateTargetId(r).next((d=>(o=new qs(e,d,"TargetPurposeListen",r.currentSequenceNumber),i.li.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=i.vs.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.vs=i.vs.insert(r.targetId,r),i.Fs.set(e,r.targetId)),r}))}async function cd(a,e,i){const r=Dt(a),o=r.vs.get(e),c=i?"readwrite":"readwrite-primary";try{i||await r.persistence.runTransaction("Release target",c,(d=>r.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!Gr(d))throw d;gt(jd,`Failed to update sequence numbers for target ${e}: ${d}`)}r.vs=r.vs.remove(e),r.Fs.delete(o.target)}function E0(a,e,i){const r=Dt(a);let o=Rt.min(),c=Pt();return r.persistence.runTransaction("Execute query","readwrite",(d=>(function(y,v,T){const S=Dt(y),C=S.Fs.get(T);return C!==void 0?at.resolve(S.vs.get(C)):S.li.getTargetData(v,T)})(r,d,Di(e)).next((g=>{if(g)return o=g.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(d,g.targetId).next((y=>{c=y}))})).next((()=>r.Cs.getDocumentsMatchingQuery(d,e,i?o:Rt.min(),i?c:Pt()))).next((g=>(VS(r,px(e),g),{documents:g,ks:c})))))}function VS(a,e,i){let r=a.Ms.get(e)||Rt.min();i.forEach(((o,c)=>{c.readTime.compareTo(r)>0&&(r=c.readTime)})),a.Ms.set(e,r)}class T0{constructor(){this.activeTargetIds=Tx()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class OS{constructor(){this.vo=new T0,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,r){}addLocalQueryTarget(e,i=!0){return i&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,i,r){this.Fo[e]=i}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new T0,Promise.resolve()}handleUserChange(e,i,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MS{Mo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x0="ConnectivityMonitor";class S0{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){gt(x0,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){gt(x0,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ju=null;function hd(){return Ju===null?Ju=(function(){return 268435456+Math.round(2147483648*Math.random())})():Ju++,"0x"+Ju.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gf="RestConnection",jS={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class LS{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.qo=i+"://"+e.host,this.Uo=`projects/${r}/databases/${o}`,this.$o=this.databaseId.database===hc?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Wo(e,i,r,o,c){const d=hd(),g=this.Qo(e,i.toUriEncodedString());gt(Gf,`Sending RPC '${e}' ${d}:`,g,r);const y={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(y,o,c);const{host:v}=new URL(g),T=vd(v);return this.zo(e,g,y,r,T).then((S=>(gt(Gf,`Received RPC '${e}' ${d}: `,S),S)),(S=>{throw Lr(Gf,`RPC '${e}' ${d} failed with error: `,S,"url: ",g,"request:",r),S}))}jo(e,i,r,o,c,d){return this.Wo(e,i,r,o,c)}Go(e,i,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Hr})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,c)=>e[c]=o)),r&&r.headers.forEach(((o,c)=>e[c]=o))}Qo(e,i){const r=jS[e];let o=`${this.qo}/v1/${i}:${r}`;return this.databaseInfo.apiKey&&(o=`${o}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),o}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kS{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sn="WebChannelConnection",Yl=(a,e,i)=>{a.listen(e,(r=>{try{i(r)}catch(o){setTimeout((()=>{throw o}),0)}}))};class Vr extends LS{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!Vr.c_){const e=ov();Yl(e,lv.STAT_EVENT,(i=>{i.stat===Wf.PROXY?gt(sn,"STAT_EVENT: detected buffering proxy"):i.stat===Wf.NOPROXY&&gt(sn,"STAT_EVENT: detected no buffering proxy")})),Vr.c_=!0}}zo(e,i,r,o,c){const d=hd();return new Promise(((g,y)=>{const v=new av;v.setWithCredentials(!0),v.listenOnce(rv.COMPLETE,(()=>{try{switch(v.getLastErrorCode()){case Wu.NO_ERROR:const S=v.getResponseJson();gt(sn,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(S)),g(S);break;case Wu.TIMEOUT:gt(sn,`RPC '${e}' ${d} timed out`),y(new Et(rt.DEADLINE_EXCEEDED,"Request time out"));break;case Wu.HTTP_ERROR:const C=v.getStatus();if(gt(sn,`RPC '${e}' ${d} failed with status:`,C,"response text:",v.getResponseText()),C>0){let M=v.getResponseJson();Array.isArray(M)&&(M=M[0]);const U=M==null?void 0:M.error;if(U&&U.status&&U.message){const tt=(function(Y){const W=Y.toLowerCase().replace(/_/g,"-");return Object.values(rt).indexOf(W)>=0?W:rt.UNKNOWN})(U.status);y(new Et(tt,U.message))}else y(new Et(rt.UNKNOWN,"Server responded with status "+v.getStatus()))}else y(new Et(rt.UNAVAILABLE,"Connection failed."));break;default:wt(9055,{l_:e,streamId:d,h_:v.getLastErrorCode(),P_:v.getLastError()})}}finally{gt(sn,`RPC '${e}' ${d} completed.`)}}));const T=JSON.stringify(o);gt(sn,`RPC '${e}' ${d} sending request:`,o),v.send(i,"POST",T,r,15)}))}T_(e,i,r){const o=hd(),c=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=this.createWebChannelTransport(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(g.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(g.useFetchStreams=!0),this.Go(g.initMessageHeaders,i,r),g.encodeInitMessageHeaders=!0;const v=c.join("");gt(sn,`Creating RPC '${e}' stream ${o}: ${v}`,g);const T=d.createWebChannel(v,g);this.I_(T);let S=!1,C=!1;const M=new kS({Ho:U=>{C?gt(sn,`Not sending because RPC '${e}' stream ${o} is closed:`,U):(S||(gt(sn,`Opening RPC '${e}' stream ${o} transport.`),T.open(),S=!0),gt(sn,`RPC '${e}' stream ${o} sending:`,U),T.send(U))},Jo:()=>T.close()});return Yl(T,Jl.EventType.OPEN,(()=>{C||(gt(sn,`RPC '${e}' stream ${o} transport opened.`),M.i_())})),Yl(T,Jl.EventType.CLOSE,(()=>{C||(C=!0,gt(sn,`RPC '${e}' stream ${o} transport closed`),M.o_(),this.E_(T))})),Yl(T,Jl.EventType.ERROR,(U=>{C||(C=!0,Lr(sn,`RPC '${e}' stream ${o} transport errored. Name:`,U.name,"Message:",U.message),M.o_(new Et(rt.UNAVAILABLE,"The operation could not be completed")))})),Yl(T,Jl.EventType.MESSAGE,(U=>{var tt;if(!C){const k=U.data[0];$t(!!k,16349);const Y=k,W=(Y==null?void 0:Y.error)||((tt=Y[0])==null?void 0:tt.error);if(W){gt(sn,`RPC '${e}' stream ${o} received error:`,W);const lt=W.status;let yt=(function(w){const A=Le[w];if(A!==void 0)return qv(A)})(lt),vt=W.message;yt===void 0&&(yt=rt.INTERNAL,vt="Unknown error status: "+lt+" with message "+W.message),C=!0,M.o_(new Et(yt,vt)),T.close()}else gt(sn,`RPC '${e}' stream ${o} received:`,k),M.__(k)}})),Vr.u_(),setTimeout((()=>{M.s_()}),0),M}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((i=>i===e))}Go(e,i,r){super.Go(e,i,r),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return uv()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zS(a){return new Vr(a)}function Qf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vc(a){return new qx(a,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Vr.c_=!1;class i_{constructor(e,i,r=1e3,o=1.5,c=6e4){this.Ci=e,this.timerId=i,this.R_=r,this.A_=o,this.V_=c,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const i=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-r);o>0&&gt("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.d_} ms, delay with jitter: ${i} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A0="PersistentStream";class s_{constructor(e,i,r,o,c,d,g,y){this.Ci=e,this.b_=r,this.S_=o,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new i_(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===rt.RESOURCE_EXHAUSTED?(rs(i.toString()),rs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===rt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(i)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.D_===i&&this.G_(r,o)}),(r=>{e((()=>{const o=new Et(rt.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)}))}))}G_(e,i){const r=this.Q_(this.D_);this.stream=this.j_(e,i),this.stream.Zo((()=>{r((()=>this.listener.Zo()))})),this.stream.Yo((()=>{r((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((o=>{r((()=>this.z_(o)))})),this.stream.onMessage((o=>{r((()=>++this.F_==1?this.H_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return gt(A0,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return i=>{this.Ci.enqueueAndForget((()=>this.D_===e?i():(gt(A0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class US extends s_{constructor(e,i,r,o,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,r,o,d),this.serializer=c}j_(e,i){return this.connection.T_("Listen",e,i)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=Gx(this.serializer,e),r=(function(c){if(!("targetChange"in c))return Rt.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?Rt.min():d.readTime?Ii(d.readTime):Rt.min()})(e);return this.listener.J_(i,r)}Z_(e){const i={};i.database=ud(this.serializer),i.addTarget=(function(c,d){let g;const y=d.target;if(g=sd(y)?{documents:Kx(c,y)}:{query:Xx(c,y).ft},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=Gv(c,d.resumeToken);const v=rd(c,d.expectedCount);v!==null&&(g.expectedCount=v)}else if(d.snapshotVersion.compareTo(Rt.min())>0){g.readTime=pc(c,d.snapshotVersion.toTimestamp());const v=rd(c,d.expectedCount);v!==null&&(g.expectedCount=v)}return g})(this.serializer,e);const r=Jx(this.serializer,e);r&&(i.labels=r),this.K_(i)}X_(e){const i={};i.database=ud(this.serializer),i.removeTarget=e,this.K_(i)}}class BS extends s_{constructor(e,i,r,o,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,r,o,d),this.serializer=c}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}H_(e){return $t(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,$t(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){$t(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=Yx(e.writeResults,e.commitTime),r=Ii(e.commitTime);return this.listener.na(r,i)}ra(){const e={};e.database=ud(this.serializer),this.K_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((r=>Qx(this.serializer,r)))};this.K_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PS{}class qS extends PS{constructor(e,i,r,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new Et(rt.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,i,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Wo(e,ld(i,r),o,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===rt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new Et(rt.UNKNOWN,c.toString())}))}jo(e,i,r,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,g])=>this.connection.jo(e,ld(i,r),o,d,g,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===rt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new Et(rt.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function HS(a,e,i,r){return new qS(a,e,i,r)}class FS{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(rs(i),this.aa=!1):gt("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ma="RemoteStore";class GS{constructor(e,i,r,o,c){this.localStore=e,this.datastore=i,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=c,this.Aa.Mo((d=>{r.enqueueAndForget((async()=>{za(this)&&(gt(Ma,"Restarting streams for network reachability change."),await(async function(y){const v=Dt(y);v.Ea.add(4),await xo(v),v.Va.set("Unknown"),v.Ea.delete(4),await Oc(v)})(this))}))})),this.Va=new FS(r,o)}}async function Oc(a){if(za(a))for(const e of a.Ra)await e(!0)}async function xo(a){for(const e of a.Ra)await e(!1)}function a_(a,e){const i=Dt(a);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),Ud(i)?zd(i):Qr(i).O_()&&kd(i,e))}function Ld(a,e){const i=Dt(a),r=Qr(i);i.Ia.delete(e),r.O_()&&r_(i,e),i.Ia.size===0&&(r.O_()?r.L_():za(i)&&i.Va.set("Unknown"))}function kd(a,e){if(a.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Rt.min())>0){const i=a.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Qr(a).Z_(e)}function r_(a,e){a.da.$e(e),Qr(a).X_(e)}function zd(a){a.da=new zx({getRemoteKeysForTarget:e=>a.remoteSyncer.getRemoteKeysForTarget(e),At:e=>a.Ia.get(e)||null,ht:()=>a.datastore.serializer.databaseId}),Qr(a).start(),a.Va.ua()}function Ud(a){return za(a)&&!Qr(a).x_()&&a.Ia.size>0}function za(a){return Dt(a).Ea.size===0}function l_(a){a.da=void 0}async function QS(a){a.Va.set("Online")}async function YS(a){a.Ia.forEach(((e,i)=>{kd(a,e)}))}async function KS(a,e){l_(a),Ud(a)?(a.Va.ha(e),zd(a)):a.Va.set("Unknown")}async function XS(a,e,i){if(a.Va.set("Online"),e instanceof Fv&&e.state===2&&e.cause)try{await(async function(o,c){const d=c.cause;for(const g of c.targetIds)o.Ia.has(g)&&(await o.remoteSyncer.rejectListen(g,d),o.Ia.delete(g),o.da.removeTarget(g))})(a,e)}catch(r){gt(Ma,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await vc(a,r)}else if(e instanceof ic?a.da.Xe(e):e instanceof Hv?a.da.st(e):a.da.tt(e),!i.isEqual(Rt.min()))try{const r=await n_(a.localStore);i.compareTo(r)>=0&&await(function(c,d){const g=c.da.Tt(d);return g.targetChanges.forEach(((y,v)=>{if(y.resumeToken.approximateByteSize()>0){const T=c.Ia.get(v);T&&c.Ia.set(v,T.withResumeToken(y.resumeToken,d))}})),g.targetMismatches.forEach(((y,v)=>{const T=c.Ia.get(y);if(!T)return;c.Ia.set(y,T.withResumeToken(en.EMPTY_BYTE_STRING,T.snapshotVersion)),r_(c,y);const S=new qs(T.target,y,v,T.sequenceNumber);kd(c,S)})),c.remoteSyncer.applyRemoteEvent(g)})(a,i)}catch(r){gt(Ma,"Failed to raise snapshot:",r),await vc(a,r)}}async function vc(a,e,i){if(!Gr(e))throw e;a.Ea.add(1),await xo(a),a.Va.set("Offline"),i||(i=()=>n_(a.localStore)),a.asyncQueue.enqueueRetryable((async()=>{gt(Ma,"Retrying IndexedDB access"),await i(),a.Ea.delete(1),await Oc(a)}))}function o_(a,e){return e().catch((i=>vc(a,i,e)))}async function Mc(a){const e=Dt(a),i=$s(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:xd;for(;ZS(e);)try{const o=await DS(e.localStore,r);if(o===null){e.Ta.length===0&&i.L_();break}r=o.batchId,JS(e,o)}catch(o){await vc(e,o)}u_(e)&&c_(e)}function ZS(a){return za(a)&&a.Ta.length<10}function JS(a,e){a.Ta.push(e);const i=$s(a);i.O_()&&i.Y_&&i.ea(e.mutations)}function u_(a){return za(a)&&!$s(a).x_()&&a.Ta.length>0}function c_(a){$s(a).start()}async function $S(a){$s(a).ra()}async function WS(a){const e=$s(a);for(const i of a.Ta)e.ea(i.mutations)}async function t2(a,e,i){const r=a.Ta.shift(),o=Nd.from(r,e,i);await o_(a,(()=>a.remoteSyncer.applySuccessfulWrite(o))),await Mc(a)}async function e2(a,e){e&&$s(a).Y_&&await(async function(r,o){if((function(d){return jx(d)&&d!==rt.ABORTED})(o.code)){const c=r.Ta.shift();$s(r).B_(),await o_(r,(()=>r.remoteSyncer.rejectFailedWrite(c.batchId,o))),await Mc(r)}})(a,e),u_(a)&&c_(a)}async function w0(a,e){const i=Dt(a);i.asyncQueue.verifyOperationInProgress(),gt(Ma,"RemoteStore received new credentials");const r=za(i);i.Ea.add(3),await xo(i),r&&i.Va.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await Oc(i)}async function n2(a,e){const i=Dt(a);e?(i.Ea.delete(2),await Oc(i)):e||(i.Ea.add(2),await xo(i),i.Va.set("Unknown"))}function Qr(a){return a.ma||(a.ma=(function(i,r,o){const c=Dt(i);return c.sa(),new US(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(a.datastore,a.asyncQueue,{Zo:QS.bind(null,a),Yo:YS.bind(null,a),t_:KS.bind(null,a),J_:XS.bind(null,a)}),a.Ra.push((async e=>{e?(a.ma.B_(),Ud(a)?zd(a):a.Va.set("Unknown")):(await a.ma.stop(),l_(a))}))),a.ma}function $s(a){return a.fa||(a.fa=(function(i,r,o){const c=Dt(i);return c.sa(),new BS(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(a.datastore,a.asyncQueue,{Zo:()=>Promise.resolve(),Yo:$S.bind(null,a),t_:e2.bind(null,a),ta:WS.bind(null,a),na:t2.bind(null,a)}),a.Ra.push((async e=>{e?(a.fa.B_(),await Mc(a)):(await a.fa.stop(),a.Ta.length>0&&(gt(Ma,`Stopping write stream with ${a.Ta.length} pending writes`),a.Ta=[]))}))),a.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bd{constructor(e,i,r,o,c){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=r,this.op=o,this.removalCallback=c,this.deferred=new Qs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,r,o,c){const d=Date.now()+r,g=new Bd(e,i,d,o,c);return g.start(r),g}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Et(rt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Pd(a,e){if(rs("AsyncQueue",`${e}: ${a}`),Gr(a))return new Et(rt.UNAVAILABLE,`${e}: ${a}`);throw a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Or{static emptySet(e){return new Or(e.comparator)}constructor(e){this.comparator=e?(i,r)=>e(i,r)||St.comparator(i.key,r.key):(i,r)=>St.comparator(i.key,r.key),this.keyedMap=$l(),this.sortedSet=new ve(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,r)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof Or)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=r.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const r=new Or;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=i,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C0{constructor(){this.ga=new ve(St.comparator)}track(e){const i=e.doc.key,r=this.ga.get(i);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(i,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(i,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(i):e.type===1&&r.type===2?this.ga=this.ga.insert(i,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):wt(63341,{Vt:e,pa:r}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,r)=>{e.push(r)})),e}}class Pr{constructor(e,i,r,o,c,d,g,y,v){this.query=e,this.docs=i,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=y,this.hasCachedResults=v}static fromInitialDocuments(e,i,r,o,c){const d=[];return i.forEach((g=>{d.push({type:0,doc:g})})),new Pr(e,i,Or.emptySet(i),d,r,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Cc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,r=e.docChanges;if(i.length!==r.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==r[o].type||!i[o].doc.isEqual(r[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i2{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class s2{constructor(){this.queries=R0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,r){const o=Dt(i),c=o.queries;o.queries=R0(),c.forEach(((d,g)=>{for(const y of g.ba)y.onError(r)}))})(this,new Et(rt.ABORTED,"Firestore shutting down"))}}function R0(){return new La((a=>Nv(a)),Cc)}async function h_(a,e){const i=Dt(a);let r=3;const o=e.query;let c=i.queries.get(o);c?!c.Sa()&&e.Da()&&(r=2):(c=new i2,r=e.Da()?0:1);try{switch(r){case 0:c.wa=await i.onListen(o,!0);break;case 1:c.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const g=Pd(d,`Initialization of query '${Rr(e.query)}' failed`);return void e.onError(g)}i.queries.set(o,c),c.ba.push(e),e.va(i.onlineState),c.wa&&e.Fa(c.wa)&&qd(i)}async function f_(a,e){const i=Dt(a),r=e.query;let o=3;const c=i.queries.get(r);if(c){const d=c.ba.indexOf(e);d>=0&&(c.ba.splice(d,1),c.ba.length===0?o=e.Da()?0:1:!c.Sa()&&e.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(r),i.onUnlisten(r,!0);case 1:return i.queries.delete(r),i.onUnlisten(r,!1);case 2:return i.onLastRemoteStoreUnlisten(r);default:return}}function a2(a,e){const i=Dt(a);let r=!1;for(const o of e){const c=o.query,d=i.queries.get(c);if(d){for(const g of d.ba)g.Fa(o)&&(r=!0);d.wa=o}}r&&qd(i)}function r2(a,e,i){const r=Dt(a),o=r.queries.get(e);if(o)for(const c of o.ba)c.onError(i);r.queries.delete(e)}function qd(a){a.Ca.forEach((e=>{e.next()}))}var fd,N0;(N0=fd||(fd={})).Ma="default",N0.Cache="cache";class d_{constructor(e,i,r){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)o.type!==3&&r.push(o);e=new Pr(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const r=i!=="Offline";return(!this.options.Ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=Pr.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==fd.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m_{constructor(e){this.key=e}}class g_{constructor(e){this.key=e}}class l2{constructor(e,i){this.query=e,this.Za=i,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Pt(),this.mutatedKeys=Pt(),this.eu=Dv(e),this.tu=new Or(this.eu)}get nu(){return this.Za}ru(e,i){const r=i?i.iu:new C0,o=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=o,g=!1;const y=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,v=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((T,S)=>{const C=o.get(T),M=Rc(this.query,S)?S:null,U=!!C&&this.mutatedKeys.has(C.key),tt=!!M&&(M.hasLocalMutations||this.mutatedKeys.has(M.key)&&M.hasCommittedMutations);let k=!1;C&&M?C.data.isEqual(M.data)?U!==tt&&(r.track({type:3,doc:M}),k=!0):this.su(C,M)||(r.track({type:2,doc:M}),k=!0,(y&&this.eu(M,y)>0||v&&this.eu(M,v)<0)&&(g=!0)):!C&&M?(r.track({type:0,doc:M}),k=!0):C&&!M&&(r.track({type:1,doc:C}),k=!0,(y||v)&&(g=!0)),k&&(M?(d=d.add(M),c=tt?c.add(T):c.delete(T)):(d=d.delete(T),c=c.delete(T)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const T=this.query.limitType==="F"?d.last():d.first();d=d.delete(T.key),c=c.delete(T.key),r.track({type:1,doc:T})}return{tu:d,iu:r,Ss:g,mutatedKeys:c}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,r,o){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((T,S)=>(function(M,U){const tt=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return wt(20277,{Vt:k})}};return tt(M)-tt(U)})(T.type,S.type)||this.eu(T.doc,S.doc))),this.ou(r),o=o??!1;const g=i&&!o?this._u():[],y=this.Ya.size===0&&this.current&&!o?1:0,v=y!==this.Xa;return this.Xa=y,d.length!==0||v?{snapshot:new Pr(this.query,e.tu,c,d,e.mutatedKeys,y===0,v,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new C0,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Za=this.Za.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Za=this.Za.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=Pt(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))}));const i=[];return e.forEach((r=>{this.Ya.has(r)||i.push(new g_(r))})),this.Ya.forEach((r=>{e.has(r)||i.push(new m_(r))})),i}cu(e){this.Za=e.ks,this.Ya=Pt();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return Pr.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const Hd="SyncEngine";class o2{constructor(e,i,r){this.query=e,this.targetId=i,this.view=r}}class u2{constructor(e){this.key=e,this.hu=!1}}class c2{constructor(e,i,r,o,c,d){this.localStore=e,this.remoteStore=i,this.eventManager=r,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new La((g=>Nv(g)),Cc),this.Iu=new Map,this.Eu=new Set,this.Ru=new ve(St.comparator),this.Au=new Map,this.Vu=new Vd,this.du={},this.mu=new Map,this.fu=Br.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function h2(a,e,i=!0){const r=E_(a);let o;const c=r.Tu.get(e);return c?(r.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await p_(r,e,i,!0),o}async function f2(a,e){const i=E_(a);await p_(i,e,!0,!1)}async function p_(a,e,i,r){const o=await IS(a.localStore,Di(e)),c=o.targetId,d=a.sharedClientState.addLocalQueryTarget(c,i);let g;return r&&(g=await d2(a,e,c,d==="current",o.resumeToken)),a.isPrimaryClient&&i&&a_(a.remoteStore,o),g}async function d2(a,e,i,r,o){a.pu=(S,C,M)=>(async function(tt,k,Y,W){let lt=k.view.ru(Y);lt.Ss&&(lt=await E0(tt.localStore,k.query,!1).then((({documents:w})=>k.view.ru(w,lt))));const yt=W&&W.targetChanges.get(k.targetId),vt=W&&W.targetMismatches.get(k.targetId)!=null,xt=k.view.applyChanges(lt,tt.isPrimaryClient,yt,vt);return I0(tt,k.targetId,xt.au),xt.snapshot})(a,S,C,M);const c=await E0(a.localStore,e,!0),d=new l2(e,c.ks),g=d.ru(c.documents),y=To.createSynthesizedTargetChangeForCurrentChange(i,r&&a.onlineState!=="Offline",o),v=d.applyChanges(g,a.isPrimaryClient,y);I0(a,i,v.au);const T=new o2(e,i,d);return a.Tu.set(e,T),a.Iu.has(i)?a.Iu.get(i).push(e):a.Iu.set(i,[e]),v.snapshot}async function m2(a,e,i){const r=Dt(a),o=r.Tu.get(e),c=r.Iu.get(o.targetId);if(c.length>1)return r.Iu.set(o.targetId,c.filter((d=>!Cc(d,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await cd(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),i&&Ld(r.remoteStore,o.targetId),dd(r,o.targetId)})).catch(Fr)):(dd(r,o.targetId),await cd(r.localStore,o.targetId,!0))}async function g2(a,e){const i=Dt(a),r=i.Tu.get(e),o=i.Iu.get(r.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(r.targetId),Ld(i.remoteStore,r.targetId))}async function p2(a,e,i){const r=x2(a);try{const o=await(function(d,g){const y=Dt(d),v=de.now(),T=g.reduce(((M,U)=>M.add(U.key)),Pt());let S,C;return y.persistence.runTransaction("Locally write mutations","readwrite",(M=>{let U=ls(),tt=Pt();return y.xs.getEntries(M,T).next((k=>{U=k,U.forEach(((Y,W)=>{W.isValidDocument()||(tt=tt.add(Y))}))})).next((()=>y.localDocuments.getOverlayedDocuments(M,U))).next((k=>{S=k;const Y=[];for(const W of g){const lt=Dx(W,S.get(W.key).overlayedDocument);lt!=null&&Y.push(new ka(W.key,lt,Tv(lt.value.mapValue),ss.exists(!0)))}return y.mutationQueue.addMutationBatch(M,v,Y,g)})).next((k=>{C=k;const Y=k.applyToLocalDocumentSet(S,tt);return y.documentOverlayCache.saveOverlays(M,k.batchId,Y)}))})).then((()=>({batchId:C.batchId,changes:Vv(S)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),(function(d,g,y){let v=d.du[d.currentUser.toKey()];v||(v=new ve(Bt)),v=v.insert(g,y),d.du[d.currentUser.toKey()]=v})(r,o.batchId,i),await So(r,o.changes),await Mc(r.remoteStore)}catch(o){const c=Pd(o,"Failed to persist write");i.reject(c)}}async function y_(a,e){const i=Dt(a);try{const r=await RS(i.localStore,e);e.targetChanges.forEach(((o,c)=>{const d=i.Au.get(c);d&&($t(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?$t(d.hu,14607):o.removedDocuments.size>0&&($t(d.hu,42227),d.hu=!1))})),await So(i,r,e)}catch(r){await Fr(r)}}function D0(a,e,i){const r=Dt(a);if(r.isPrimaryClient&&i===0||!r.isPrimaryClient&&i===1){const o=[];r.Tu.forEach(((c,d)=>{const g=d.view.va(e);g.snapshot&&o.push(g.snapshot)})),(function(d,g){const y=Dt(d);y.onlineState=g;let v=!1;y.queries.forEach(((T,S)=>{for(const C of S.ba)C.va(g)&&(v=!0)})),v&&qd(y)})(r.eventManager,e),o.length&&r.Pu.J_(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function y2(a,e,i){const r=Dt(a);r.sharedClientState.updateQueryState(e,"rejected",i);const o=r.Au.get(e),c=o&&o.key;if(c){let d=new ve(St.comparator);d=d.insert(c,rn.newNoDocument(c,Rt.min()));const g=Pt().add(c),y=new Ic(Rt.min(),new Map,new ve(Bt),d,g);await y_(r,y),r.Ru=r.Ru.remove(c),r.Au.delete(e),Fd(r)}else await cd(r.localStore,e,!1).then((()=>dd(r,e,i))).catch(Fr)}async function v2(a,e){const i=Dt(a),r=e.batch.batchId;try{const o=await CS(i.localStore,e);__(i,r,null),v_(i,r),i.sharedClientState.updateMutationState(r,"acknowledged"),await So(i,o)}catch(o){await Fr(o)}}async function _2(a,e,i){const r=Dt(a);try{const o=await(function(d,g){const y=Dt(d);return y.persistence.runTransaction("Reject batch","readwrite-primary",(v=>{let T;return y.mutationQueue.lookupMutationBatch(v,g).next((S=>($t(S!==null,37113),T=S.keys(),y.mutationQueue.removeMutationBatch(v,S)))).next((()=>y.mutationQueue.performConsistencyCheck(v))).next((()=>y.documentOverlayCache.removeOverlaysForBatchId(v,T,g))).next((()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,T))).next((()=>y.localDocuments.getDocuments(v,T)))}))})(r.localStore,e);__(r,e,i),v_(r,e),r.sharedClientState.updateMutationState(e,"rejected",i),await So(r,o)}catch(o){await Fr(o)}}function v_(a,e){(a.mu.get(e)||[]).forEach((i=>{i.resolve()})),a.mu.delete(e)}function __(a,e,i){const r=Dt(a);let o=r.du[r.currentUser.toKey()];if(o){const c=o.get(e);c&&(i?c.reject(i):c.resolve(),o=o.remove(e)),r.du[r.currentUser.toKey()]=o}}function dd(a,e,i=null){a.sharedClientState.removeLocalQueryTarget(e);for(const r of a.Iu.get(e))a.Tu.delete(r),i&&a.Pu.yu(r,i);a.Iu.delete(e),a.isPrimaryClient&&a.Vu.Gr(e).forEach((r=>{a.Vu.containsKey(r)||b_(a,r)}))}function b_(a,e){a.Eu.delete(e.path.canonicalString());const i=a.Ru.get(e);i!==null&&(Ld(a.remoteStore,i),a.Ru=a.Ru.remove(e),a.Au.delete(i),Fd(a))}function I0(a,e,i){for(const r of i)r instanceof m_?(a.Vu.addReference(r.key,e),b2(a,r)):r instanceof g_?(gt(Hd,"Document no longer in limbo: "+r.key),a.Vu.removeReference(r.key,e),a.Vu.containsKey(r.key)||b_(a,r.key)):wt(19791,{wu:r})}function b2(a,e){const i=e.key,r=i.path.canonicalString();a.Ru.get(i)||a.Eu.has(r)||(gt(Hd,"New document in limbo: "+i),a.Eu.add(r),Fd(a))}function Fd(a){for(;a.Eu.size>0&&a.Ru.size<a.maxConcurrentLimboResolutions;){const e=a.Eu.values().next().value;a.Eu.delete(e);const i=new St(ye.fromString(e)),r=a.fu.next();a.Au.set(r,new u2(i)),a.Ru=a.Ru.insert(i,r),a_(a.remoteStore,new qs(Di(wc(i.path)),r,"TargetPurposeLimboResolution",Tc.ce))}}async function So(a,e,i){const r=Dt(a),o=[],c=[],d=[];r.Tu.isEmpty()||(r.Tu.forEach(((g,y)=>{d.push(r.pu(y,e,i).then((v=>{var T;if((v||i)&&r.isPrimaryClient){const S=v?!v.fromCache:(T=i==null?void 0:i.targetChanges.get(y.targetId))==null?void 0:T.current;r.sharedClientState.updateQueryState(y.targetId,S?"current":"not-current")}if(v){o.push(v);const S=Md.Es(y.targetId,v);c.push(S)}})))})),await Promise.all(d),r.Pu.J_(o),await(async function(y,v){const T=Dt(y);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>at.forEach(v,(C=>at.forEach(C.Ts,(M=>T.persistence.referenceDelegate.addReference(S,C.targetId,M))).next((()=>at.forEach(C.Is,(M=>T.persistence.referenceDelegate.removeReference(S,C.targetId,M)))))))))}catch(S){if(!Gr(S))throw S;gt(jd,"Failed to update sequence numbers: "+S)}for(const S of v){const C=S.targetId;if(!S.fromCache){const M=T.vs.get(C),U=M.snapshotVersion,tt=M.withLastLimboFreeSnapshotVersion(U);T.vs=T.vs.insert(C,tt)}}})(r.localStore,c))}async function E2(a,e){const i=Dt(a);if(!i.currentUser.isEqual(e)){gt(Hd,"User change. New user:",e.toKey());const r=await e_(i.localStore,e);i.currentUser=e,(function(c,d){c.mu.forEach((g=>{g.forEach((y=>{y.reject(new Et(rt.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await So(i,r.Ns)}}function T2(a,e){const i=Dt(a),r=i.Au.get(e);if(r&&r.hu)return Pt().add(r.key);{let o=Pt();const c=i.Iu.get(e);if(!c)return o;for(const d of c){const g=i.Tu.get(d);o=o.unionWith(g.view.nu)}return o}}function E_(a){const e=Dt(a);return e.remoteStore.remoteSyncer.applyRemoteEvent=y_.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=T2.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=y2.bind(null,e),e.Pu.J_=a2.bind(null,e.eventManager),e.Pu.yu=r2.bind(null,e.eventManager),e}function x2(a){const e=Dt(a);return e.remoteStore.remoteSyncer.applySuccessfulWrite=v2.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=_2.bind(null,e),e}class _c{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Vc(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return wS(this.persistence,new xS,e.initialUser,this.serializer)}Cu(e){return new t_(Od.Vi,this.serializer)}Du(e){return new OS}async terminate(){var e,i;(e=this.gcScheduler)==null||e.stop(),(i=this.indexBackfillerScheduler)==null||i.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}_c.provider={build:()=>new _c};class S2 extends _c{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){$t(this.persistence.referenceDelegate instanceof yc,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new oS(r,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?Tn.withCacheSize(this.cacheSizeBytes):Tn.DEFAULT;return new t_((r=>yc.Vi(r,i)),this.serializer)}}class md{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>D0(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=E2.bind(null,this.syncEngine),await n2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new s2})()}createDatastore(e){const i=Vc(e.databaseInfo.databaseId),r=zS(e.databaseInfo);return HS(e.authCredentials,e.appCheckCredentials,r,i)}createRemoteStore(e){return(function(r,o,c,d,g){return new GS(r,o,c,d,g)})(this.localStore,this.datastore,e.asyncQueue,(i=>D0(this.syncEngine,i,0)),(function(){return S0.v()?new S0:new MS})())}createSyncEngine(e,i){return(function(o,c,d,g,y,v,T){const S=new c2(o,c,d,g,y,v);return T&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){var e,i;await(async function(o){const c=Dt(o);gt(Ma,"RemoteStore shutting down."),c.Ea.add(5),await xo(c),c.Aa.shutdown(),c.Va.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(i=this.eventManager)==null||i.terminate()}}md.provider={build:()=>new md};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T_{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):rs("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ws="FirestoreClient";class A2{constructor(e,i,r,o,c){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=r,this._databaseInfo=o,this.user=an.UNAUTHENTICATED,this.clientId=Ed.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(r,(async d=>{gt(Ws,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(r,(d=>(gt(Ws,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Qs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const r=Pd(i,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Yf(a,e){a.asyncQueue.verifyOperationInProgress(),gt(Ws,"Initializing OfflineComponentProvider");const i=a.configuration;await e.initialize(i);let r=i.initialUser;a.setCredentialChangeListener((async o=>{r.isEqual(o)||(await e_(e.localStore,o),r=o)})),e.persistence.setDatabaseDeletedListener((()=>a.terminate())),a._offlineComponents=e}async function V0(a,e){a.asyncQueue.verifyOperationInProgress();const i=await w2(a);gt(Ws,"Initializing OnlineComponentProvider"),await e.initialize(i,a.configuration),a.setCredentialChangeListener((r=>w0(e.remoteStore,r))),a.setAppCheckTokenChangeListener(((r,o)=>w0(e.remoteStore,o))),a._onlineComponents=e}async function w2(a){if(!a._offlineComponents)if(a._uninitializedComponentsProvider){gt(Ws,"Using user provided OfflineComponentProvider");try{await Yf(a,a._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(o){return o.name==="FirebaseError"?o.code===rt.FAILED_PRECONDITION||o.code===rt.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;Lr("Error using user provided cache. Falling back to memory cache: "+i),await Yf(a,new _c)}}else gt(Ws,"Using default OfflineComponentProvider"),await Yf(a,new S2(void 0));return a._offlineComponents}async function x_(a){return a._onlineComponents||(a._uninitializedComponentsProvider?(gt(Ws,"Using user provided OnlineComponentProvider"),await V0(a,a._uninitializedComponentsProvider._online)):(gt(Ws,"Using default OnlineComponentProvider"),await V0(a,new md))),a._onlineComponents}function C2(a){return x_(a).then((e=>e.syncEngine))}async function gd(a){const e=await x_(a),i=e.eventManager;return i.onListen=h2.bind(null,e.syncEngine),i.onUnlisten=m2.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=f2.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=g2.bind(null,e.syncEngine),i}function R2(a,e,i,r){const o=new T_(r),c=new d_(e,o,i);return a.asyncQueue.enqueueAndForget((async()=>h_(await gd(a),c))),()=>{o.Nu(),a.asyncQueue.enqueueAndForget((async()=>f_(await gd(a),c)))}}function N2(a,e,i={}){const r=new Qs;return a.asyncQueue.enqueueAndForget((async()=>(function(c,d,g,y,v){const T=new T_({next:C=>{T.Nu(),d.enqueueAndForget((()=>f_(c,S)));const M=C.docs.has(g);!M&&C.fromCache?v.reject(new Et(rt.UNAVAILABLE,"Failed to get document because the client is offline.")):M&&C.fromCache&&y&&y.source==="server"?v.reject(new Et(rt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):v.resolve(C)},error:C=>v.reject(C)}),S=new d_(wc(g.path),T,{includeMetadataChanges:!0,Ka:!0});return h_(c,S)})(await gd(a),a.asyncQueue,e,i,r))),r.promise}function D2(a,e){const i=new Qs;return a.asyncQueue.enqueueAndForget((async()=>p2(await C2(a),e,i))),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S_(a){const e={};return a.timeoutSeconds!==void 0&&(e.timeoutSeconds=a.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I2="ComponentProvider",O0=new Map;function V2(a,e,i,r,o){return new JT(a,e,i,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,S_(o.experimentalLongPollingOptions),o.useFetchStreams,o.isUsingEmulator,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A_="firestore.googleapis.com",M0=!0;class j0{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Et(rt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=A_,this.ssl=M0}else this.host=e.host,this.ssl=e.ssl??M0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Wv;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<rS)throw new Et(rt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}BT("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=S_(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Et(rt.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Et(rt.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Et(rt.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Gd{constructor(e,i,r,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new j0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Et(rt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Et(rt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new j0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new NT;switch(r.type){case"firstParty":return new OT(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Et(rt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const r=O0.get(i);r&&(gt(I2,"Removing Datastore"),O0.delete(i),r.terminate())})(this),Promise.resolve()}}function O2(a,e,i,r={}){var v;a=Ys(a,Gd);const o=vd(e),c=a._getSettings(),d={...c,emulatorOptions:a._getEmulatorOptions()},g=`${e}:${i}`;o&&(i1(`https://${g}`),l1("Firestore",!0)),c.host!==A_&&c.host!==g&&Lr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...c,host:g,ssl:o,emulatorOptions:r};if(!lc(y,d)&&(a._setSettings(y),r.mockUserToken)){let T,S;if(typeof r.mockUserToken=="string")T=r.mockUserToken,S=an.MOCK_USER;else{T=s1(r.mockUserToken,(v=a._app)==null?void 0:v.options.projectId);const C=r.mockUserToken.sub||r.mockUserToken.user_id;if(!C)throw new Et(rt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");S=new an(C)}a._authCredentials=new DT(new hv(T,S))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jc{constructor(e,i,r){this.converter=i,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new jc(this.firestore,e,this._query)}}class Be{constructor(e,i,r){this.converter=i,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new vo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Be(this.firestore,e,this._key)}toJSON(){return{type:Be._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,r){if(bo(i,Be._jsonSchema))return new Be(e,r||null,new St(ye.fromString(i.referencePath)))}}Be._jsonSchemaVersion="firestore/documentReference/1.0",Be._jsonSchema={type:ke("string",Be._jsonSchemaVersion),referencePath:ke("string")};class vo extends jc{constructor(e,i,r){super(e,i,wc(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Be(this.firestore,null,new St(e))}withConverter(e){return new vo(this.firestore,e,this._path)}}function Qd(a,e,...i){if(a=lo(a),arguments.length===1&&(e=Ed.newId()),UT("doc","path",e),a instanceof Gd){const r=ye.fromString(e,...i);return Xy(r),new Be(a,null,new St(r))}{if(!(a instanceof Be||a instanceof vo))throw new Et(rt.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=a._path.child(ye.fromString(e,...i));return Xy(r),new Be(a.firestore,a instanceof vo?a.converter:null,new St(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L0="AsyncQueue";class k0{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new i_(this,"async_queue_retry"),this._c=()=>{const r=Qf();r&&gt(L0,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const i=Qf();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=Qf();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Qs;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!Gr(e))throw e;gt(L0,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,rs("INTERNAL UNHANDLED ERROR: ",z0(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=i,i}enqueueAfterDelay(e,i,r){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const o=Bd.createAndSchedule(this,e,i,r,(c=>this.hc(c)));return this.tc.push(o),o}uc(){this.nc&&wt(47125,{Pc:z0(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,r)=>i.targetTimeMs-r.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function z0(a){let e=a.message||"";return a.stack&&(e=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),e}class _o extends Gd{constructor(e,i,r,o){super(e,i,r,o),this.type="firestore",this._queue=new k0,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new k0(e),this._firestoreClient=void 0,await e}}}function M2(a,e){const i=typeof a=="object"?a:yT(),r=typeof a=="string"?a:hc,o=fT(i,"firestore").getImmediate({identifier:r});if(!o._initialized){const c=e1("firestore");c&&O2(o,...c)}return o}function Yd(a){if(a._terminated)throw new Et(rt.FAILED_PRECONDITION,"The client has already been terminated.");return a._firestoreClient||j2(a),a._firestoreClient}function j2(a){var r,o,c,d;const e=a._freezeSettings(),i=V2(a._databaseId,((r=a._app)==null?void 0:r.options.appId)||"",a._persistenceKey,(o=a._app)==null?void 0:o.options.apiKey,e);a._componentsProvider||(c=e.localCache)!=null&&c._offlineComponentProvider&&((d=e.localCache)!=null&&d._onlineComponentProvider)&&(a._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),a._firestoreClient=new A2(a._authCredentials,a._appCheckCredentials,a._queue,i,a._componentsProvider&&(function(y){const v=y==null?void 0:y._online.build();return{_offline:y==null?void 0:y._offline.build(v),_online:v}})(a._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Zn(en.fromBase64String(e))}catch(i){throw new Et(rt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new Zn(en.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Zn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(bo(e,Zn._jsonSchema))return Zn.fromBase64String(e.bytes)}}Zn._jsonSchemaVersion="firestore/bytes/1.0",Zn._jsonSchema={type:ke("string",Zn._jsonSchemaVersion),bytes:ke("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w_{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new Et(rt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new tn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kd{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vi{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new Et(rt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new Et(rt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Bt(this._lat,e._lat)||Bt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Vi._jsonSchemaVersion}}static fromJSON(e){if(bo(e,Vi._jsonSchema))return new Vi(e.latitude,e.longitude)}}Vi._jsonSchemaVersion="firestore/geoPoint/1.0",Vi._jsonSchema={type:ke("string",Vi._jsonSchemaVersion),latitude:ke("number"),longitude:ke("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ci{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,o){if(r.length!==o.length)return!1;for(let c=0;c<r.length;++c)if(r[c]!==o[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ci._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(bo(e,ci._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new ci(e.vectorValues);throw new Et(rt.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ci._jsonSchemaVersion="firestore/vectorValue/1.0",ci._jsonSchema={type:ke("string",ci._jsonSchemaVersion),vectorValues:ke("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L2=/^__.*__$/;class k2{constructor(e,i,r){this.data=e,this.fieldMask=i,this.fieldTransforms=r}toMutation(e,i){return this.fieldMask!==null?new ka(e,this.data,this.fieldMask,i,this.fieldTransforms):new Eo(e,this.data,i,this.fieldTransforms)}}function C_(a){switch(a){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw wt(40011,{dataSource:a})}}class Xd{constructor(e,i,r,o,c,d){this.settings=e,this.databaseId=i,this.serializer=r,this.ignoreUndefinedProperties=o,c===void 0&&this.validatePath(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new Xd({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){var o;const i=(o=this.path)==null?void 0:o.child(e),r=this.contextWith({path:i,arrayElement:!1});return r.validatePathSegment(e),r}childContextForFieldPath(e){var o;const i=(o=this.path)==null?void 0:o.child(e),r=this.contextWith({path:i,arrayElement:!1});return r.validatePath(),r}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return bc(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(C_(this.dataSource)&&L2.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class z2{constructor(e,i,r){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=r||Vc(e)}createContext(e,i,r,o=!1){return new Xd({dataSource:e,methodName:i,targetDoc:r,path:tn.emptyPath(),arrayElement:!1,hasConverter:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function U2(a){const e=a._freezeSettings(),i=Vc(a._databaseId);return new z2(a._databaseId,!!e.ignoreUndefinedProperties,i)}function B2(a,e,i,r,o,c={}){const d=a.createContext(c.merge||c.mergeFields?2:0,e,i,o);I_("Data must be an object, but it was:",d,r);const g=N_(r,d);let y,v;if(c.merge)y=new ui(d.fieldMask),v=d.fieldTransforms;else if(c.mergeFields){const T=[];for(const S of c.mergeFields){const C=Jd(e,S,i);if(!d.contains(C))throw new Et(rt.INVALID_ARGUMENT,`Field '${C}' is specified in your field mask but missing from your input data.`);H2(T,C)||T.push(C)}y=new ui(T),v=d.fieldTransforms.filter((S=>y.covers(S.field)))}else y=null,v=d.fieldTransforms;return new k2(new Xn(g),y,v)}class Zd extends Kd{_toFieldTransform(e){return new wx(e.path,new go)}isEqual(e){return e instanceof Zd}}function R_(a,e){if(D_(a=lo(a)))return I_("Unsupported field value:",e,a),N_(a,e);if(a instanceof Kd)return(function(r,o){if(!C_(o.dataSource))throw o.createError(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.createError(`${r._methodName}() is not currently supported inside arrays`);const c=r._toFieldTransform(o);c&&o.fieldTransforms.push(c)})(a,e),null;if(a===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),a instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(r,o){const c=[];let d=0;for(const g of r){let y=R_(g,o.childContextForArray(d));y==null&&(y={nullValue:"NULL_VALUE"}),c.push(y),d++}return{arrayValue:{values:c}}})(a,e)}return(function(r,o){if((r=lo(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return xx(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const c=de.fromDate(r);return{timestampValue:pc(o.serializer,c)}}if(r instanceof de){const c=new de(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:pc(o.serializer,c)}}if(r instanceof Vi)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Zn)return{bytesValue:Gv(o.serializer,r._byteString)};if(r instanceof Be){const c=o.databaseId,d=r.firestore._databaseId;if(!d.isEqual(c))throw o.createError(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Id(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof ci)return(function(d,g){const y=d instanceof ci?d.toArray():d;return{mapValue:{fields:{[bv]:{stringValue:Ev},[fc]:{arrayValue:{values:y.map((T=>{if(typeof T!="number")throw g.createError("VectorValues must only contain numeric values.");return Rd(g.serializer,T)}))}}}}}})(r,o);if($v(r))return r._toProto(o.serializer);throw o.createError(`Unsupported field value: ${Td(r)}`)})(a,e)}function N_(a,e){const i={};return mv(a)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ja(a,((r,o)=>{const c=R_(o,e.childContextForField(r));c!=null&&(i[r]=c)})),{mapValue:{fields:i}}}function D_(a){return!(typeof a!="object"||a===null||a instanceof Array||a instanceof Date||a instanceof de||a instanceof Vi||a instanceof Zn||a instanceof Be||a instanceof Kd||a instanceof ci||$v(a))}function I_(a,e,i){if(!D_(i)||!fv(i)){const r=Td(i);throw r==="an object"?e.createError(a+" a custom object"):e.createError(a+" "+r)}}function Jd(a,e,i){if((e=lo(e))instanceof w_)return e._internalPath;if(typeof e=="string")return q2(a,e);throw bc("Field path arguments must be of type string or ",a,!1,void 0,i)}const P2=new RegExp("[~\\*/\\[\\]]");function q2(a,e,i){if(e.search(P2)>=0)throw bc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,a,!1,void 0,i);try{return new w_(...e.split("."))._internalPath}catch{throw bc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,a,!1,void 0,i)}}function bc(a,e,i,r,o){const c=r&&!r.isEmpty(),d=o!==void 0;let g=`Function ${e}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let y="";return(c||d)&&(y+=" (found",c&&(y+=` in field ${r}`),d&&(y+=` in document ${o}`),y+=")"),new Et(rt.INVALID_ARGUMENT,g+a+y)}function H2(a,e){return a.some((i=>i.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F2{convertValue(e,i="none"){switch(Js(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ce(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(Zs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw wt(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const r={};return ja(e,((o,c)=>{r[o]=this.convertValue(c,i)})),r}convertVectorValue(e){var r,o,c;const i=(c=(o=(r=e.fields)==null?void 0:r[fc].arrayValue)==null?void 0:o.values)==null?void 0:c.map((d=>Ce(d.doubleValue)));return new ci(i)}convertGeoPoint(e){return new Vi(Ce(e.latitude),Ce(e.longitude))}convertArray(e,i){return(e.values||[]).map((r=>this.convertValue(r,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const r=Sc(e);return r==null?null:this.convertValue(r,i);case"estimate":return this.convertTimestamp(ho(e));default:return null}}convertTimestamp(e){const i=Xs(e);return new de(i.seconds,i.nanos)}convertDocumentKey(e,i){const r=ye.fromString(e);$t(Jv(r),9688,{name:e});const o=new fo(r.get(1),r.get(3)),c=new St(r.popFirst(5));return o.isEqual(i)||rs(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V_ extends F2{constructor(e){super(),this.firestore=e}convertBytes(e){return new Zn(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new Be(this.firestore,null,i)}}function G2(){return new Zd("serverTimestamp")}const U0="@firebase/firestore",B0="4.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P0(a){return(function(i,r){if(typeof i!="object"||i===null)return!1;const o=i;for(const c of r)if(c in o&&typeof o[c]=="function")return!0;return!1})(a,["next","error","complete"])}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O_{constructor(e,i,r,o,c){this._firestore=e,this._userDataWriter=i,this._key=r,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Be(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Q2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){var e;return((e=this._document)==null?void 0:e.data.clone().value.mapValue.fields)??void 0}get(e){if(this._document){const i=this._document.data.field(Jd("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class Q2 extends O_{data(){return super.data()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y2(a){if(a.limitType==="L"&&a.explicitOrderBy.length===0)throw new Et(rt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}function K2(a,e,i){let r;return r=a?i&&(i.merge||i.mergeFields)?a.toFirestore(e,i):a.toFirestore(e):e,r}class to{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Va extends O_{constructor(e,i,r,o,c,d){super(e,i,r,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new sc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const r=this._document.data.field(Jd("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Et(rt.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=Va._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Va._jsonSchemaVersion="firestore/documentSnapshot/1.0",Va._jsonSchema={type:ke("string",Va._jsonSchemaVersion),bundleSource:ke("string","DocumentSnapshot"),bundleName:ke("string"),bundle:ke("string")};class sc extends Va{data(e={}){return super.data(e)}}class Mr{constructor(e,i,r,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new to(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((r=>{e.call(i,new sc(this._firestore,this._userDataWriter,r.key,r,new to(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new Et(rt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,c){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((g=>{const y=new sc(o._firestore,o._userDataWriter,g.doc.key,g.doc,new to(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);return g.doc,{type:"added",doc:y,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((g=>c||g.type!==3)).map((g=>{const y=new sc(o._firestore,o._userDataWriter,g.doc.key,g.doc,new to(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);let v=-1,T=-1;return g.type!==0&&(v=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),T=d.indexOf(g.doc.key)),{type:X2(g.type),doc:y,oldIndex:v,newIndex:T}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Et(rt.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Mr._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Ed.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],r=[],o=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),r.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function X2(a){switch(a){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return wt(61501,{type:a})}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Mr._jsonSchemaVersion="firestore/querySnapshot/1.0",Mr._jsonSchema={type:ke("string",Mr._jsonSchemaVersion),bundleSource:ke("string","QuerySnapshot"),bundleName:ke("string"),bundle:ke("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z2(a){a=Ys(a,Be);const e=Ys(a.firestore,_o),i=Yd(e);return N2(i,a._key).then((r=>M_(e,a,r)))}function J2(a,e,i){a=Ys(a,Be);const r=Ys(a.firestore,_o),o=K2(a.converter,e,i),c=U2(r);return W2(r,[B2(c,"setDoc",a._key,o,a.converter!==null,i).toMutation(a._key,ss.none())])}function $2(a,...e){var v,T,S;a=lo(a);let i={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||P0(e[r])||(i=e[r++]);const o={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(P0(e[r])){const C=e[r];e[r]=(v=C.next)==null?void 0:v.bind(C),e[r+1]=(T=C.error)==null?void 0:T.bind(C),e[r+2]=(S=C.complete)==null?void 0:S.bind(C)}let c,d,g;if(a instanceof Be)d=Ys(a.firestore,_o),g=wc(a._key.path),c={next:C=>{e[r]&&e[r](M_(d,a,C))},error:e[r+1],complete:e[r+2]};else{const C=Ys(a,jc);d=Ys(C.firestore,_o),g=C._query;const M=new V_(d);c={next:U=>{e[r]&&e[r](new Mr(d,M,C,U))},error:e[r+1],complete:e[r+2]},Y2(a._query)}const y=Yd(d);return R2(y,g,o,c)}function W2(a,e){const i=Yd(a);return D2(i,e)}function M_(a,e,i){const r=i.docs.get(e._key),o=new V_(a);return new Va(a,o,e._key,r,new to(i.hasPendingWrites,i.fromCache),e.converter)}(function(e,i=!0){RT(pT),uc(new oo("firestore",((r,{instanceIdentifier:o,options:c})=>{const d=r.getProvider("app").getImmediate(),g=new _o(new IT(r.getProvider("auth-internal")),new MT(d,r.getProvider("app-check-internal")),$T(d,o),d);return c={useFetchStreams:i,...c},g._setSettings(c),g}),"PUBLIC").setMultipleInstances(!0)),Ir(U0,B0,e),Ir(U0,B0,"esm2020")})();var tA="firebase",eA="12.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ir(tA,eA,"app");const nA={apiKey:"AIzaSyAZBf9fUWZoXnYJyBvBGEvpiu7DbHkG5Iw",authDomain:"crm-ver2.firebaseapp.com",projectId:"crm-ver2",storageBucket:"crm-ver2.firebasestorage.app",messagingSenderId:"993359540287",appId:"1:993359540287:web:5469df3e5d22c4b480088a"},iA=ev(nA),$d=M2(iA),Wd="default",tm="workspaces";function sA(a){return{...a,tabs:a.tabs.map(e=>{const i={...e};return i.inboxSection===void 0&&delete i.inboxSection,i})}}async function aA(){try{const a=Qd($d,tm,Wd),e=await Z2(a);if(e.exists()){const i=e.data();return{tabs:i.tabs||[],activeTabId:i.activeTabId||"",bookmarks:i.bookmarks||[]}}return null}catch(a){throw console.error("Error fetching workspace data:",a),a}}async function q0(a){try{const e=Qd($d,tm,Wd),i=sA(a);await J2(e,{...i,updatedAt:G2()},{merge:!0})}catch(e){throw console.error("Error saving workspace data:",e),e}}function rA(a,e){const i=Qd($d,tm,Wd);return $2(i,r=>{if(r.exists()){const o=r.data();a({tabs:o.tabs||[],activeTabId:o.activeTabId||"",bookmarks:o.bookmarks||[]})}},r=>{console.error("Firestore snapshot error:",r),e(r)})}function lA(a){const[e,i]=ot.useState(null),[r,o]=ot.useState(!0),[c,d]=ot.useState(null),g=ot.useRef(!1),y=ot.useRef(null);ot.useEffect(()=>{let T=null;async function S(){try{const C=await aA();C&&C.tabs.length>0?i(C):(await q0(a),i(a)),T=rA(M=>{g.current=!0,i(M),setTimeout(()=>{g.current=!1},0)},M=>{d(M)}),o(!1)}catch(C){d(C),o(!1)}}return S(),()=>{T&&T(),y.current&&clearTimeout(y.current)}},[]);const v=ot.useCallback(async T=>{g.current||(i(T),y.current&&clearTimeout(y.current),y.current=setTimeout(async()=>{try{await q0(T)}catch(S){d(S),console.error("Failed to save to Firestore:",S)}},300))},[]);return{data:e,loading:r,error:c,updateData:v}}function oA(a){const e=ot.useRef(null),i=ot.useRef({x:0,y:0,time:0});return ot.useEffect(()=>{const r=e.current;if(!r)return;const o=d=>{i.current={x:d.touches[0].clientX,y:d.touches[0].clientY,time:Date.now()}},c=d=>{const{x:g,y,time:v}=i.current,T=d.changedTouches[0].clientX,S=d.changedTouches[0].clientY,C=Date.now(),M=T-g,U=S-y,tt=C-v,k=a.minSwipeDistance??50,Y=a.minSwipeVelocity??.3,W=a.maxVerticalMovement??80,lt=Math.abs(M)>Math.abs(U),yt=Math.abs(M)>k,vt=Math.abs(U)<W,w=Math.abs(M)/tt>Y;lt&&yt&&vt&&w&&(M<0&&a.onSwipeLeft?a.onSwipeLeft():M>0&&a.onSwipeRight&&a.onSwipeRight())};return r.addEventListener("touchstart",o,{passive:!0}),r.addEventListener("touchend",c,{passive:!0}),()=>{r.removeEventListener("touchstart",o),r.removeEventListener("touchend",c)}},[a]),e}const uA="https://www.googleapis.com/auth/calendar.events https://www.googleapis.com/auth/calendar",H0="1",Kl="google_access_token",Xl="google_token_version",cA=()=>{const[a,e]=ot.useState(!1),[i,r]=ot.useState(null);ot.useEffect(()=>{const g=localStorage.getItem(Kl),y=localStorage.getItem(Xl);g&&y===H0?(r(g),e(!0)):(localStorage.removeItem(Kl),localStorage.removeItem(Xl))},[]);const o=wE({scope:uA,onSuccess:g=>{r(g.access_token),e(!0),localStorage.setItem(Kl,g.access_token),localStorage.setItem(Xl,H0)},onError:()=>{console.error("Google  ")}});return{isAuthorized:a,login:o,logout:()=>{localStorage.removeItem(Kl),localStorage.removeItem(Xl),r(null),e(!1)},createCalendarEvent:async g=>{var T,S,C;if(!i)throw new Error("Google  ");const y={summary:g.summary,description:g.description||""};g.isAllDay?(y.start={date:g.start},y.end={date:g.end}):(y.start={dateTime:g.start,timeZone:"Asia/Seoul"},y.end={dateTime:g.end,timeZone:"Asia/Seoul"});const v=await fetch("https://www.googleapis.com/calendar/v3/calendars/primary/events",{method:"POST",headers:{Authorization:`Bearer ${i}`,"Content-Type":"application/json"},body:JSON.stringify(y)});if(!v.ok){const M=await v.json();throw(S=(T=M.error)==null?void 0:T.message)!=null&&S.includes("insufficient authentication scopes")?(localStorage.removeItem(Kl),localStorage.removeItem(Xl),r(null),e(!1),new Error(" .  .")):new Error(`   : ${((C=M.error)==null?void 0:C.message)||"   "}`)}return await v.json()}}},hA=[{id:"b1",label:"",url:"",color:"bg-[#B89F1F]"},{id:"b2",label:"",url:"",color:"bg-[#B89F1F]"},{id:"b3",label:"",url:"",color:"bg-[#B89F1F]"},{id:"b4",label:"",url:"",color:"bg-[#B89F1F]"},{id:"b5",label:"",url:"",color:"bg-[#0F5A9F]"},{id:"b6",label:"24",url:"",color:"bg-[#0F5A9F]"},{id:"b7",label:"",url:"",color:"bg-[#0F5A9F]"},{id:"b8",label:"",url:"",color:"bg-[#0F5A9F]"},{id:"b9",label:"",url:"",color:"bg-[#724C8F]"},{id:"b10",label:"",url:"",color:"bg-[#724C8F]"},{id:"b11",label:"",url:"",color:"bg-[#724C8F]"},{id:"b12",label:"()",url:"",color:"bg-[#724C8F]"},{id:"b13",label:"",url:"",color:"bg-[#369D47]"},{id:"b14",label:"AI",url:"",color:"bg-[#369D47]"},{id:"b15",label:"",url:"",color:"bg-[#369D47]"}],fA=()=>{var $n,Ua;const a=ot.useMemo(()=>{const G=Math.random().toString(36).substr(2,9),et=Math.random().toString(36).substr(2,9),ft=Math.random().toString(36).substr(2,9);return{tabs:[{id:G,name:"",sections:[],memos:{},sideNotes:[],parkingInfo:{text:"",checklistItems:[],shoppingListItems:[],checklistMemos:{},shoppingListMemos:{}},inboxSection:{id:et,title:"IN-BOX",items:[],color:"slate",isLocked:!1},quotesSection:{id:ft,title:"",items:[],color:"slate",isLocked:!1},isLocked:!1,headerGoals:{goal1:"",goal2:""}}],activeTabId:G,bookmarks:hA}},[]),{data:e,loading:i,error:r,updateData:o}=lA(a),c=ot.useMemo(()=>e?{...e,tabs:e.tabs.map((G,et)=>({...G,inboxSection:et===0?G.inboxSection||{id:Math.random().toString(36).substr(2,9),title:"IN-BOX",items:[],color:"slate",isLocked:!1}:void 0,quotesSection:G.quotesSection||{id:Math.random().toString(36).substr(2,9),title:"",items:[],color:"slate",isLocked:!1},headerGoals:G.headerGoals||{goal1:"",goal2:""}}))}:a,[e,a]),[d,g]=ot.useState(navigator.onLine);ot.useEffect(()=>{const G=()=>{g(!0),console.log("[App] Network restored - Firestore will auto-sync")},et=()=>{g(!1),console.log("[App] Network lost - app is now offline")};return window.addEventListener("online",G),window.addEventListener("offline",et),()=>{window.removeEventListener("online",G),window.removeEventListener("offline",et)}},[]);const[y,v]=ot.useState({draggedItemId:null,dragOverItemId:null,sourceSectionId:null,draggedSectionId:null,dragOverSectionId:null}),[T,S]=ot.useState({isOpen:!1,itemId:null,itemText:"",sourceTabId:"",sourceSectionId:""}),[C,M]=ot.useState({isOpen:!1,title:"",message:"",onConfirm:()=>{}}),[U,tt]=ot.useState({id:null,value:"",type:"section",isEditing:!1}),[k,Y]=ot.useState(!1),[W,lt]=ot.useState(null),yt=cA(),[vt,xt]=ot.useState({isOpen:!1,itemText:""}),w=ot.useMemo(()=>c.tabs.find(et=>et.id===c.activeTabId)||c.tabs[0],[c.tabs,c.activeTabId]),A=ot.useMemo(()=>c.tabs.findIndex(G=>G.id===c.activeTabId),[c.tabs,c.activeTabId]),N=G=>{o({...c,bookmarks:G})},L=()=>{const G=Math.random().toString(36).substr(2,9),et=Math.random().toString(36).substr(2,9),ft={id:G,name:`  ${c.tabs.length+1}`,sections:[],memos:{},sideNotes:[],parkingInfo:{text:"",checklistItems:[],shoppingListItems:[],checklistMemos:{},shoppingListMemos:{}},quotesSection:{id:et,title:"",items:[],color:"slate",isLocked:!1},isLocked:!1,headerGoals:{goal1:"",goal2:""}};o({...c,tabs:[...c.tabs,ft],activeTabId:G})},V=(G,et)=>{o({...c,tabs:c.tabs.map(ft=>ft.id===G?{...ft,name:et}:ft)})},z=G=>{o({...c,tabs:c.tabs.map(et=>et.id===G?{...et,isLocked:!et.isLocked}:et)})},R=(G,et)=>{const ft=[...c.tabs],[jt]=ft.splice(G,1);ft.splice(et,0,jt),o({...c,tabs:ft})},Gt=(G,et)=>{var Kt;let ft=w.sections.find(Te=>Te.id===et);!ft&&((Kt=w.inboxSection)==null?void 0:Kt.id)===et&&(ft=w.inboxSection);const jt=ft==null?void 0:ft.items.find(Te=>Te.id===G);!jt||!ft||S({isOpen:!0,itemId:jt.id,itemText:jt.text,sourceTabId:c.activeTabId,sourceSectionId:ft.id})},ue=(G,et)=>{var Re,ln;const{itemId:ft,sourceTabId:jt,sourceSectionId:Kt}=T;if(!ft)return;if(jt===G&&Kt===et){S(mt=>({...mt,isOpen:!1}));return}const Te=c.tabs.find(mt=>mt.id===jt);if(!Te)return;let qe=Te.sections.find(mt=>mt.id===Kt);!qe&&((Re=Te.inboxSection)==null?void 0:Re.id)===Kt&&(qe=Te.inboxSection);const Ye=qe==null?void 0:qe.items.find(mt=>mt.id===ft);if(!Ye||!qe)return;const ki=c.tabs.find(mt=>mt.id===G);if(!ki)return;let xn=ki.sections.find(mt=>mt.id===et);if(!xn&&((ln=ki.inboxSection)==null?void 0:ln.id)===et&&(xn=ki.inboxSection),!xn)return;const hn=Te.memos[ft];o({...c,tabs:c.tabs.map(mt=>{var na,zi,ia,Sn,hi,pe,An,wn,fn,Ba;if(jt===G&&mt.id===jt){let on=mt.sections,xe=mt.inboxSection;return qe.id!==((na=mt.inboxSection)==null?void 0:na.id)&&xn.id!==((zi=mt.inboxSection)==null?void 0:zi.id)?on=mt.sections.map(Jt=>Jt.id===Kt?{...Jt,items:Jt.items.filter(dn=>dn.id!==ft)}:Jt.id===et?{...Jt,items:[...Jt.items,Ye]}:Jt):qe.id!==((ia=mt.inboxSection)==null?void 0:ia.id)&&xn.id===((Sn=mt.inboxSection)==null?void 0:Sn.id)?(on=mt.sections.map(Jt=>Jt.id===Kt?{...Jt,items:Jt.items.filter(dn=>dn.id!==ft)}:Jt),xe={...mt.inboxSection,items:[...mt.inboxSection.items,Ye]}):qe.id===((hi=mt.inboxSection)==null?void 0:hi.id)&&xn.id!==((pe=mt.inboxSection)==null?void 0:pe.id)?(on=mt.sections.map(Jt=>Jt.id===et?{...Jt,items:[...Jt.items,Ye]}:Jt),xe={...mt.inboxSection,items:mt.inboxSection.items.filter(Jt=>Jt.id!==ft)}):qe.id===((An=mt.inboxSection)==null?void 0:An.id)&&xn.id===((wn=mt.inboxSection)==null?void 0:wn.id)&&(xe=mt.inboxSection),{...mt,sections:on,inboxSection:xe}}else if(jt!==G&&mt.id===jt){let on=mt.sections,xe=mt.inboxSection;qe.id!==((fn=mt.inboxSection)==null?void 0:fn.id)?on=mt.sections.map(mn=>mn.id===Kt?{...mn,items:mn.items.filter(sa=>sa.id!==ft)}:mn):xe={...mt.inboxSection,items:mt.inboxSection.items.filter(mn=>mn.id!==ft)};const{[ft]:Jt,...dn}=mt.memos;return{...mt,sections:on,inboxSection:xe,memos:dn}}else if(jt!==G&&mt.id===G){let on=mt.sections,xe=mt.inboxSection;xn.id!==((Ba=mt.inboxSection)==null?void 0:Ba.id)?on=mt.sections.map(dn=>dn.id===et?{...dn,items:[...dn.items,Ye]}:dn):xe={...mt.inboxSection,items:[...mt.inboxSection.items,Ye]};const Jt=hn?{...mt.memos,[ft]:hn}:mt.memos;return{...mt,sections:on,inboxSection:xe,memos:Jt}}return mt})}),S({isOpen:!1,itemId:null,itemText:"",sourceTabId:"",sourceSectionId:""})},X=G=>{if(!yt.isAuthorized){yt.login();return}xt({isOpen:!0,itemText:G})},$=async(G,et,ft)=>{var jt;try{await yt.createCalendarEvent({summary:vt.itemText,start:G,end:et,isAllDay:ft}),alert(" !"),xt({isOpen:!1,itemText:""})}catch(Kt){console.error("  :",Kt),(jt=Kt.message)!=null&&jt.includes(" ")?(alert(" .  ."),yt.login()):alert("  .")}},ct=G=>{const et=c.tabs.find(ft=>ft.id===G);!et||et.isLocked||c.tabs.length<=1||M({isOpen:!0,title:" ",message:`'${et.name}'     . ?`,onConfirm:()=>{const ft=c.tabs.filter(Kt=>Kt.id!==G),jt=c.activeTabId===G?ft[0].id:c.activeTabId;o({...c,tabs:ft,activeTabId:jt}),M(Kt=>({...Kt,isOpen:!1}))}})},bt=G=>{o({...c,activeTabId:G})},Mt=()=>{const G=A+1;G<c.tabs.length&&bt(c.tabs[G].id)},O=()=>{const G=A-1;G>=0&&bt(c.tabs[G].id)},I=oA({onSwipeLeft:U.id||C.isOpen?void 0:Mt,onSwipeRight:U.id||C.isOpen?void 0:O,minSwipeDistance:50,minSwipeVelocity:.3,maxVerticalMovement:80}),Z=G=>{o({...c,tabs:c.tabs.map(et=>et.id===c.activeTabId?{...et,parkingInfo:G}:et)})},st=G=>{o({...c,tabs:c.tabs.map(et=>et.id===c.activeTabId?{...et,sideNotes:G}:et)})},dt=()=>{const G={id:Math.random().toString(36).substr(2,9),title:" ",items:[],color:"slate",isLocked:!1};o({...c,tabs:c.tabs.map(et=>et.id===c.activeTabId?{...et,sections:[...et.sections,G]}:et)})},ut=G=>{o({...c,tabs:c.tabs.map(et=>et.id===c.activeTabId?{...et,sections:et.sections.map(ft=>ft.id===G.id?G:ft)}:et)})},Ct=G=>{o({...c,tabs:c.tabs.map(et=>et.id===c.activeTabId?{...et,inboxSection:G}:et)})},Wt=G=>{o({...c,tabs:c.tabs.map(et=>et.id===c.activeTabId?{...et,quotesSection:G}:et)})},oe=G=>{const et=w==null?void 0:w.sections.find(ft=>ft.id===G);et!=null&&et.isLocked||M({isOpen:!0,title:" ",message:"  ?",onConfirm:()=>{o({...c,tabs:c.tabs.map(ft=>ft.id===c.activeTabId?{...ft,sections:ft.sections.filter(jt=>jt.id!==G)}:ft)}),M(ft=>({...ft,isOpen:!1}))}})},ji=G=>{v(et=>({...et,draggedSectionId:G}))},os=(G,et)=>{G.preventDefault(),y.draggedSectionId&&y.draggedSectionId!==et&&v(ft=>({...ft,dragOverSectionId:et}))},us=(G,et)=>{G.preventDefault();const{draggedSectionId:ft}=y;!ft||ft===et||o({...c,tabs:c.tabs.map(jt=>{if(jt.id!==c.activeTabId)return jt;const Kt=[...jt.sections],Te=Kt.findIndex(Ye=>Ye.id===ft),qe=Kt.findIndex(Ye=>Ye.id===et);if(Te!==-1&&qe!==-1){const[Ye]=Kt.splice(Te,1);Kt.splice(qe,0,Ye)}return{...jt,sections:Kt}})})},cs=()=>{v(G=>({...G,draggedSectionId:null,dragOverSectionId:null}))},Ln=()=>{w.sections.some(G=>G.items.some(et=>et.completed))&&o({...c,tabs:c.tabs.map(G=>G.id===c.activeTabId?{...G,sections:G.sections.map(et=>({...et,items:et.items.map(ft=>({...ft,completed:!1}))}))}:G)})},Jn=(G,et)=>{var jt,Kt;let ft="";et==="checklist"?ft=((jt=w.parkingInfo.checklistMemos)==null?void 0:jt[G])||"":et==="shopping"?ft=((Kt=w.parkingInfo.shoppingListMemos)==null?void 0:Kt[G])||"":ft=w.memos[G]||"",tt({id:G,value:ft,type:et||"section",isEditing:ft===""})},Li=()=>{U.id&&(U.type==="checklist"?o({...c,tabs:c.tabs.map(G=>G.id===c.activeTabId?{...G,parkingInfo:{...G.parkingInfo,checklistMemos:{...G.parkingInfo.checklistMemos,[U.id]:U.value}}}:G)}):U.type==="shopping"?o({...c,tabs:c.tabs.map(G=>G.id===c.activeTabId?{...G,parkingInfo:{...G.parkingInfo,shoppingListMemos:{...G.parkingInfo.shoppingListMemos,[U.id]:U.value}}}:G)}):o({...c,tabs:c.tabs.map(G=>G.id===c.activeTabId?{...G,memos:{...G.memos,[U.id]:U.value}}:G)})),U.value.trim()?tt({...U,isEditing:!1}):tt({id:null,value:"",type:"section",isEditing:!1})},ta=(G,et)=>{G!==c.activeTabId&&bt(G),et&&(setTimeout(()=>{const ft=document.querySelector(`[data-section-id="${et}"]`);ft&&ft.scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"})},100),lt(et),setTimeout(()=>{lt(null)},3e3)),Y(!1)},ea=()=>{const G=c.tabs[0];if(!(G!=null&&G.inboxSection))return;const et=G.id,ft=G.inboxSection.id;et!==c.activeTabId&&bt(et),setTimeout(()=>{const jt=document.querySelector(`[data-section-id="${ft}"]`);jt&&jt.scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"})},100),lt(ft),setTimeout(()=>{lt(null)},3e3)},_e=w.sections.some(G=>G.items.some(et=>et.completed)),ce=w.id===((($n=c.tabs[0])==null?void 0:$n.id)||"");return i?b.jsx("div",{className:"h-screen flex items-center justify-center bg-[#F8FAFC]",children:b.jsxs("div",{className:"text-center",children:[b.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto mb-4"}),b.jsx("p",{className:"text-slate-600",children:"  ..."})]})}):r?b.jsx("div",{className:"h-screen flex items-center justify-center bg-[#F8FAFC]",children:b.jsxs("div",{className:"text-center max-w-md",children:[b.jsx("div",{className:"flex justify-center mb-4",children:b.jsx("svg",{className:"w-16 h-16 text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),b.jsx("h2",{className:"text-xl font-bold text-slate-800 mb-2",children:"  "}),b.jsx("p",{className:"text-sm text-slate-600 mb-4",children:r.message}),b.jsx("p",{className:"text-xs text-slate-500 mb-6",children:"    ."}),b.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-2 bg-blue-500 text-white rounded-lg font-medium hover:bg-blue-600 transition-colors",children:" "})]})}):b.jsxs("div",{className:"h-screen flex flex-col bg-[#F8FAFC] overflow-hidden text-slate-900",children:[!d&&b.jsx("div",{className:"flex-none bg-yellow-500 text-white px-4 py-2 text-center text-sm font-medium",children:b.jsxs("div",{className:"flex items-center justify-center gap-2",children:[b.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),b.jsx("span",{children:"  -   "})]})}),b.jsx("div",{className:"flex-none hidden md:block",children:b.jsx(BE,{bookmarks:c.bookmarks,onUpdateBookmarks:N})}),b.jsxs("div",{className:"flex-1 flex flex-row overflow-hidden",children:[b.jsxs("div",{ref:I,className:"flex-1 flex flex-col overflow-hidden",children:[b.jsx("div",{className:"flex-none bg-[#F8FAFC]",children:b.jsx(VE,{onClearAll:Ln,onAddSection:dt,hasAnyCompletedItems:_e,onOpenNavigationMap:()=>Y(!0),headerGoals:w.headerGoals,onHeaderGoalsChange:G=>{o({...c,tabs:c.tabs.map(et=>et.id===c.activeTabId?{...et,headerGoals:G}:et)})}})}),b.jsx("main",{className:"flex-1 overflow-y-auto custom-scrollbar px-0 md:px-6 pb-20",children:b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-3 md:gap-6 h-full",style:{gridAutoRows:"auto"},children:[ce&&b.jsxs(b.Fragment,{children:[b.jsx("div",{className:"h-[600px] md:h-auto md:row-span-2",children:b.jsx(jE,{info:w.parkingInfo,onChange:Z,onShowChecklistMemo:G=>Jn(G,"checklist"),onShowShoppingMemo:G=>Jn(G,"shopping"),onAddToCalendar:X})}),b.jsx("div",{className:"h-[600px] md:h-auto md:row-span-2",children:b.jsx(kf,{section:w.inboxSection,itemMemos:w.memos,onUpdateSection:Ct,onDeleteSection:()=>{},onShowItemMemo:Jn,onMoveItem:G=>Gt(G,w.inboxSection.id),onAddToCalendar:X,dragState:y,setDragState:v,onSectionDragStart:()=>{},onSectionDragOver:()=>{},onSectionDrop:()=>{},onSectionDragEnd:()=>{},isHighlighted:w.inboxSection.id===W,isInboxSection:!0,tabColorBg:Zl(0).bgLight})}),b.jsx("div",{className:"h-[600px] md:h-auto md:row-span-2",children:b.jsx(kf,{section:w.quotesSection,itemMemos:w.memos,onUpdateSection:Wt,onDeleteSection:()=>{},onShowItemMemo:Jn,onMoveItem:G=>Gt(G,w.quotesSection.id),onAddToCalendar:X,dragState:y,setDragState:v,onSectionDragStart:()=>{},onSectionDragOver:()=>{},onSectionDrop:()=>{},onSectionDragEnd:()=>{},isHighlighted:w.quotesSection.id===W,isInboxSection:!0,tabColorBg:Zl(0).bgLight})})]}),w.sections.map(G=>b.jsx("div",{className:ce?"":"h-screen md:h-full md:row-span-2",children:b.jsx(kf,{section:G,itemMemos:w.memos,onUpdateSection:ut,onDeleteSection:oe,onShowItemMemo:Jn,onMoveItem:et=>Gt(et,G.id),onAddToCalendar:X,dragState:y,setDragState:v,onSectionDragStart:()=>ji(G.id),onSectionDragOver:et=>os(et,G.id),onSectionDrop:et=>us(et,G.id),onSectionDragEnd:cs,isHighlighted:G.id===W,isFullHeight:!ce,tabColorText:Zl(A).text,tabColorBg:Zl(A).bgLight})},G.id)),w.sections.length===0&&(!ce||w.sections.length===0)&&b.jsx("div",{className:"col-span-full text-center py-16 text-slate-400",children:b.jsx("p",{className:"text-sm italic",children:ce&&w.sections.length===0?'  . "+"    .':w.sections.length===0?"  .    .":""})})]})})]}),b.jsx("aside",{className:"flex-none hidden lg:block w-48 border-l border-slate-200 bg-white/40",children:b.jsx(PE,{notes:w.sideNotes||[],onChange:st})})]}),b.jsx("div",{className:"flex-none",children:b.jsx(kE,{tabs:e.tabs,activeTabId:e.activeTabId,onSelectTab:bt,onAddTab:L,onRenameTab:V,onDeleteTab:ct,onToggleLockTab:z,onReorderTabs:R,onNavigateToInbox:ea,hasInbox:!!((Ua=c.tabs[0])!=null&&Ua.inboxSection)})}),U.id&&b.jsx("div",{onClick:()=>tt({id:null,value:"",type:"section",isEditing:!1}),className:"fixed inset-0 z-[110] flex items-center justify-center p-4 bg-slate-900/40 backdrop-blur-sm",children:b.jsxs("div",{onClick:G=>G.stopPropagation(),className:"bg-white w-full max-w-2xl h-[80vh] rounded-2xl shadow-2xl border border-slate-200 p-6 flex flex-col",children:[b.jsxs("div",{className:"flex items-center justify-between mb-4",children:[b.jsx("h3",{className:"text-lg font-bold text-slate-800",children:" "}),b.jsx("button",{onClick:()=>tt({id:null,value:"",type:"section",isEditing:!1}),className:"text-slate-400 hover:text-slate-600 p-2",children:b.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),!U.isEditing&&b.jsxs(b.Fragment,{children:[b.jsx("div",{className:"flex-1 w-full p-4 border border-slate-200 rounded-xl text-slate-700 text-base overflow-y-auto custom-scrollbar bg-slate-50 whitespace-pre-wrap break-words",children:U.value?b.jsx("div",{className:"prose prose-sm max-w-none",children:U.value}):b.jsx("p",{className:"text-slate-400 italic",children:" ."})}),b.jsxs("div",{className:"mt-4 flex justify-end gap-3",children:[b.jsx("button",{onClick:()=>tt({...U,id:null}),className:"px-4 py-2 rounded-lg border-2 border-slate-300 text-slate-700 font-medium hover:bg-slate-50 transition-colors",children:""}),b.jsx("button",{onClick:()=>tt({...U,isEditing:!0}),className:"px-4 py-2 rounded-lg bg-blue-500 hover:bg-blue-600 text-white font-medium border-2 border-black transition-colors",children:" "}),b.jsx("button",{onClick:()=>{navigator.clipboard.writeText(U.value)},className:"px-4 py-2 rounded-lg bg-slate-500 hover:bg-slate-600 text-white font-medium border-2 border-black transition-colors",children:" "})]})]}),U.isEditing&&b.jsxs(b.Fragment,{children:[b.jsx("textarea",{autoFocus:!0,value:U.value,onChange:G=>tt({...U,value:G.target.value}),className:"flex-1 w-full p-4 border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-100 text-slate-700 text-base resize-none custom-scrollbar",placeholder:"  ..."}),b.jsxs("div",{className:"mt-4 flex justify-end gap-3",children:[b.jsx("button",{onClick:()=>{var et,ft,jt;let G="";U.type==="checklist"?G=((et=w.parkingInfo.checklistMemos)==null?void 0:et[U.id])||"":U.type==="shopping"?G=((ft=w.parkingInfo.shoppingListMemos)==null?void 0:ft[U.id])||"":G=((jt=w.memos)==null?void 0:jt[U.id])||"",tt(G?{...U,value:G,isEditing:!1}:{id:null,value:"",type:"section",isEditing:!1})},className:"px-4 py-2 rounded-lg border-2 border-slate-300 text-slate-700 font-medium hover:bg-slate-50 transition-colors",children:""}),b.jsx("button",{onClick:Li,className:"px-4 py-2 rounded-lg bg-green-500 hover:bg-green-600 text-white font-medium border-2 border-black transition-colors",children:" "}),b.jsx("button",{onClick:()=>{navigator.clipboard.writeText(U.value)},className:"px-4 py-2 rounded-lg bg-slate-500 hover:bg-slate-600 text-white font-medium border-2 border-black transition-colors",children:" "})]})]})]})}),b.jsx(HE,{isOpen:T.isOpen,itemText:T.itemText,currentTabId:T.sourceTabId,currentSectionId:T.sourceSectionId,tabs:c.tabs,onMove:ue,onCancel:()=>S(G=>({...G,isOpen:!1}))}),b.jsx(ME,{isOpen:C.isOpen,title:C.title,message:C.message,onConfirm:C.onConfirm,onCancel:()=>M(G=>({...G,isOpen:!1}))}),b.jsx(qE,{isOpen:k,tabs:c.tabs,activeTabId:c.activeTabId,onClose:()=>Y(!1),onNavigate:ta}),b.jsx(FE,{isOpen:vt.isOpen,itemText:vt.itemText,onClose:()=>xt({isOpen:!1,itemText:""}),onConfirm:$})]})},j_=document.getElementById("root");if(!j_)throw new Error("Could not find root element to mount to");const dA=TE.createRoot(j_);dA.render(b.jsx(G0.StrictMode,{children:b.jsx(SE,{clientId:"616885689767-lh1pp7kjs94vlq862kmq9fgq746cnbfg.apps.googleusercontent.com",children:b.jsx(fA,{})})}));
